var $N=Object.defineProperty;var qN=(n,e,t)=>e in n?$N(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Df=(n,e,t)=>qN(n,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=t(a);fetch(a.href,o)}})();function HN(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var mv={exports:{}},If={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P1;function YN(){if(P1)return If;P1=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,a,o){var l=null;if(o!==void 0&&(l=""+o),a.key!==void 0&&(l=""+a.key),"key"in a){o={};for(var c in a)c!=="key"&&(o[c]=a[c])}else o=a;return a=o.ref,{$$typeof:n,type:r,key:l,ref:a!==void 0?a:null,props:o}}return If.Fragment=e,If.jsx=t,If.jsxs=t,If}var L1;function GN(){return L1||(L1=1,mv.exports=YN()),mv.exports}var Ee=GN(),pv={exports:{}},yt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V1;function QN(){if(V1)return yt;V1=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),v=Symbol.iterator;function w(F){return F===null||typeof F!="object"?null:(F=v&&F[v]||F["@@iterator"],typeof F=="function"?F:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,S={};function D(F,ae,Te){this.props=F,this.context=ae,this.refs=S,this.updater=Te||E}D.prototype.isReactComponent={},D.prototype.setState=function(F,ae){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,ae,"setState")},D.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function N(){}N.prototype=D.prototype;function M(F,ae,Te){this.props=F,this.context=ae,this.refs=S,this.updater=Te||E}var L=M.prototype=new N;L.constructor=M,R(L,D.prototype),L.isPureReactComponent=!0;var $=Array.isArray,P={H:null,A:null,T:null,S:null},H=Object.prototype.hasOwnProperty;function x(F,ae,Te,_e,ve,Ae){return Te=Ae.ref,{$$typeof:n,type:F,key:ae,ref:Te!==void 0?Te:null,props:Ae}}function I(F,ae){return x(F.type,ae,void 0,void 0,void 0,F.props)}function O(F){return typeof F=="object"&&F!==null&&F.$$typeof===n}function z(F){var ae={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(Te){return ae[Te]})}var B=/\/+/g;function q(F,ae){return typeof F=="object"&&F!==null&&F.key!=null?z(""+F.key):ae.toString(36)}function U(){}function we(F){switch(F.status){case"fulfilled":return F.value;case"rejected":throw F.reason;default:switch(typeof F.status=="string"?F.then(U,U):(F.status="pending",F.then(function(ae){F.status==="pending"&&(F.status="fulfilled",F.value=ae)},function(ae){F.status==="pending"&&(F.status="rejected",F.reason=ae)})),F.status){case"fulfilled":return F.value;case"rejected":throw F.reason}}throw F}function ie(F,ae,Te,_e,ve){var Ae=typeof F;(Ae==="undefined"||Ae==="boolean")&&(F=null);var Ie=!1;if(F===null)Ie=!0;else switch(Ae){case"bigint":case"string":case"number":Ie=!0;break;case"object":switch(F.$$typeof){case n:case e:Ie=!0;break;case p:return Ie=F._init,ie(Ie(F._payload),ae,Te,_e,ve)}}if(Ie)return ve=ve(F),Ie=_e===""?"."+q(F,0):_e,$(ve)?(Te="",Ie!=null&&(Te=Ie.replace(B,"$&/")+"/"),ie(ve,ae,Te,"",function(Ye){return Ye})):ve!=null&&(O(ve)&&(ve=I(ve,Te+(ve.key==null||F&&F.key===ve.key?"":(""+ve.key).replace(B,"$&/")+"/")+Ie)),ae.push(ve)),1;Ie=0;var Ke=_e===""?".":_e+":";if($(F))for(var lt=0;lt<F.length;lt++)_e=F[lt],Ae=Ke+q(_e,lt),Ie+=ie(_e,ae,Te,Ae,ve);else if(lt=w(F),typeof lt=="function")for(F=lt.call(F),lt=0;!(_e=F.next()).done;)_e=_e.value,Ae=Ke+q(_e,lt++),Ie+=ie(_e,ae,Te,Ae,ve);else if(Ae==="object"){if(typeof F.then=="function")return ie(we(F),ae,Te,_e,ve);throw ae=String(F),Error("Objects are not valid as a React child (found: "+(ae==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":ae)+"). If you meant to render a collection of children, use an array instead.")}return Ie}function te(F,ae,Te){if(F==null)return F;var _e=[],ve=0;return ie(F,_e,"","",function(Ae){return ae.call(Te,Ae,ve++)}),_e}function he(F){if(F._status===-1){var ae=F._result;ae=ae(),ae.then(function(Te){(F._status===0||F._status===-1)&&(F._status=1,F._result=Te)},function(Te){(F._status===0||F._status===-1)&&(F._status=2,F._result=Te)}),F._status===-1&&(F._status=0,F._result=ae)}if(F._status===1)return F._result.default;throw F._result}var pe=typeof reportError=="function"?reportError:function(F){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ae=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof F=="object"&&F!==null&&typeof F.message=="string"?String(F.message):String(F),error:F});if(!window.dispatchEvent(ae))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",F);return}console.error(F)};function le(){}return yt.Children={map:te,forEach:function(F,ae,Te){te(F,function(){ae.apply(this,arguments)},Te)},count:function(F){var ae=0;return te(F,function(){ae++}),ae},toArray:function(F){return te(F,function(ae){return ae})||[]},only:function(F){if(!O(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},yt.Component=D,yt.Fragment=t,yt.Profiler=a,yt.PureComponent=M,yt.StrictMode=r,yt.Suspense=f,yt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,yt.act=function(){throw Error("act(...) is not supported in production builds of React.")},yt.cache=function(F){return function(){return F.apply(null,arguments)}},yt.cloneElement=function(F,ae,Te){if(F==null)throw Error("The argument must be a React element, but you passed "+F+".");var _e=R({},F.props),ve=F.key,Ae=void 0;if(ae!=null)for(Ie in ae.ref!==void 0&&(Ae=void 0),ae.key!==void 0&&(ve=""+ae.key),ae)!H.call(ae,Ie)||Ie==="key"||Ie==="__self"||Ie==="__source"||Ie==="ref"&&ae.ref===void 0||(_e[Ie]=ae[Ie]);var Ie=arguments.length-2;if(Ie===1)_e.children=Te;else if(1<Ie){for(var Ke=Array(Ie),lt=0;lt<Ie;lt++)Ke[lt]=arguments[lt+2];_e.children=Ke}return x(F.type,ve,void 0,void 0,Ae,_e)},yt.createContext=function(F){return F={$$typeof:l,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null},F.Provider=F,F.Consumer={$$typeof:o,_context:F},F},yt.createElement=function(F,ae,Te){var _e,ve={},Ae=null;if(ae!=null)for(_e in ae.key!==void 0&&(Ae=""+ae.key),ae)H.call(ae,_e)&&_e!=="key"&&_e!=="__self"&&_e!=="__source"&&(ve[_e]=ae[_e]);var Ie=arguments.length-2;if(Ie===1)ve.children=Te;else if(1<Ie){for(var Ke=Array(Ie),lt=0;lt<Ie;lt++)Ke[lt]=arguments[lt+2];ve.children=Ke}if(F&&F.defaultProps)for(_e in Ie=F.defaultProps,Ie)ve[_e]===void 0&&(ve[_e]=Ie[_e]);return x(F,Ae,void 0,void 0,null,ve)},yt.createRef=function(){return{current:null}},yt.forwardRef=function(F){return{$$typeof:c,render:F}},yt.isValidElement=O,yt.lazy=function(F){return{$$typeof:p,_payload:{_status:-1,_result:F},_init:he}},yt.memo=function(F,ae){return{$$typeof:d,type:F,compare:ae===void 0?null:ae}},yt.startTransition=function(F){var ae=P.T,Te={};P.T=Te;try{var _e=F(),ve=P.S;ve!==null&&ve(Te,_e),typeof _e=="object"&&_e!==null&&typeof _e.then=="function"&&_e.then(le,pe)}catch(Ae){pe(Ae)}finally{P.T=ae}},yt.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},yt.use=function(F){return P.H.use(F)},yt.useActionState=function(F,ae,Te){return P.H.useActionState(F,ae,Te)},yt.useCallback=function(F,ae){return P.H.useCallback(F,ae)},yt.useContext=function(F){return P.H.useContext(F)},yt.useDebugValue=function(){},yt.useDeferredValue=function(F,ae){return P.H.useDeferredValue(F,ae)},yt.useEffect=function(F,ae){return P.H.useEffect(F,ae)},yt.useId=function(){return P.H.useId()},yt.useImperativeHandle=function(F,ae,Te){return P.H.useImperativeHandle(F,ae,Te)},yt.useInsertionEffect=function(F,ae){return P.H.useInsertionEffect(F,ae)},yt.useLayoutEffect=function(F,ae){return P.H.useLayoutEffect(F,ae)},yt.useMemo=function(F,ae){return P.H.useMemo(F,ae)},yt.useOptimistic=function(F,ae){return P.H.useOptimistic(F,ae)},yt.useReducer=function(F,ae,Te){return P.H.useReducer(F,ae,Te)},yt.useRef=function(F){return P.H.useRef(F)},yt.useState=function(F){return P.H.useState(F)},yt.useSyncExternalStore=function(F,ae,Te){return P.H.useSyncExternalStore(F,ae,Te)},yt.useTransition=function(){return P.H.useTransition()},yt.version="19.0.0",yt}var U1;function $_(){return U1||(U1=1,pv.exports=QN()),pv.exports}var K=$_();const Gt=HN(K);function FA(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var a=n.length;for(e=0;e<a;e++)n[e]&&(t=FA(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function yu(){for(var n,e,t=0,r="",a=arguments.length;t<a;t++)(n=arguments[t])&&(e=FA(n))&&(r&&(r+=" "),r+=e);return r}function KN(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}KN(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Td=n=>typeof n=="number"&&!isNaN(n),Eu=n=>typeof n=="string",so=n=>typeof n=="function",ZN=n=>Eu(n)||Td(n),Gv=n=>Eu(n)||so(n)?n:null,XN=(n,e)=>n===!1||Td(n)&&n>0?n:e,Qv=n=>K.isValidElement(n)||Eu(n)||so(n)||Td(n);function WN(n,e,t=300){let{scrollHeight:r,style:a}=n;requestAnimationFrame(()=>{a.minHeight="initial",a.height=r+"px",a.transition=`all ${t}ms`,requestAnimationFrame(()=>{a.height="0",a.padding="0",a.margin="0",setTimeout(e,t)})})}function JN({enter:n,exit:e,appendPosition:t=!1,collapse:r=!0,collapseDuration:a=300}){return function({children:o,position:l,preventExitTransition:c,done:f,nodeRef:d,isIn:p,playToast:v}){let w=t?`${n}--${l}`:n,E=t?`${e}--${l}`:e,R=K.useRef(0);return K.useLayoutEffect(()=>{let S=d.current,D=w.split(" "),N=M=>{M.target===d.current&&(v(),S.removeEventListener("animationend",N),S.removeEventListener("animationcancel",N),R.current===0&&M.type!=="animationcancel"&&S.classList.remove(...D))};S.classList.add(...D),S.addEventListener("animationend",N),S.addEventListener("animationcancel",N)},[]),K.useEffect(()=>{let S=d.current,D=()=>{S.removeEventListener("animationend",D),r?WN(S,f,a):f()};p||(c?D():(R.current=1,S.className+=` ${E}`,S.addEventListener("animationend",D)))},[p]),Gt.createElement(Gt.Fragment,null,o)}}function z1(n,e){return{content:$A(n.content,n.props),containerId:n.props.containerId,id:n.props.toastId,theme:n.props.theme,type:n.props.type,data:n.props.data||{},isLoading:n.props.isLoading,icon:n.props.icon,reason:n.removalReason,status:e}}function $A(n,e,t=!1){return K.isValidElement(n)&&!Eu(n.type)?K.cloneElement(n,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):so(n)?n({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):n}function eM({closeToast:n,theme:e,ariaLabel:t="close"}){return Gt.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:r=>{r.stopPropagation(),n(!0)},"aria-label":t},Gt.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Gt.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function tM({delay:n,isRunning:e,closeToast:t,type:r="default",hide:a,className:o,controlledProgress:l,progress:c,rtl:f,isIn:d,theme:p}){let v=a||l&&c===0,w={animationDuration:`${n}ms`,animationPlayState:e?"running":"paused"};l&&(w.transform=`scaleX(${c})`);let E=yu("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${p}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":f}),R=so(o)?o({rtl:f,type:r,defaultClassName:E}):yu(E,o),S={[l&&c>=1?"onTransitionEnd":"onAnimationEnd"]:l&&c<1?null:()=>{d&&t()}};return Gt.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":v},Gt.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${p} Toastify__progress-bar--${r}`}),Gt.createElement("div",{role:"progressbar","aria-hidden":v?"true":"false","aria-label":"notification timer",className:R,style:w,...S}))}var nM=1,qA=()=>`${nM++}`;function rM(n,e,t){let r=1,a=0,o=[],l=[],c=e,f=new Map,d=new Set,p=M=>(d.add(M),()=>d.delete(M)),v=()=>{l=Array.from(f.values()),d.forEach(M=>M())},w=({containerId:M,toastId:L,updateId:$})=>{let P=M?M!==n:n!==1,H=f.has(L)&&$==null;return P||H},E=(M,L)=>{f.forEach($=>{var P;(L==null||L===$.props.toastId)&&((P=$.toggle)==null||P.call($,M))})},R=M=>{var L,$;($=(L=M.props)==null?void 0:L.onClose)==null||$.call(L,M.removalReason),M.isActive=!1},S=M=>{if(M==null)f.forEach(R);else{let L=f.get(M);L&&R(L)}v()},D=()=>{a-=o.length,o=[]},N=M=>{var L,$;let{toastId:P,updateId:H}=M.props,x=H==null;M.staleId&&f.delete(M.staleId),M.isActive=!0,f.set(P,M),v(),t(z1(M,x?"added":"updated")),x&&(($=(L=M.props).onOpen)==null||$.call(L))};return{id:n,props:c,observe:p,toggle:E,removeToast:S,toasts:f,clearQueue:D,buildToast:(M,L)=>{if(w(L))return;let{toastId:$,updateId:P,data:H,staleId:x,delay:I}=L,O=P==null;O&&a++;let z={...c,style:c.toastStyle,key:r++,...Object.fromEntries(Object.entries(L).filter(([q,U])=>U!=null)),toastId:$,updateId:P,data:H,isIn:!1,className:Gv(L.className||c.toastClassName),progressClassName:Gv(L.progressClassName||c.progressClassName),autoClose:L.isLoading?!1:XN(L.autoClose,c.autoClose),closeToast(q){f.get($).removalReason=q,S($)},deleteToast(){let q=f.get($);if(q!=null){if(t(z1(q,"removed")),f.delete($),a--,a<0&&(a=0),o.length>0){N(o.shift());return}v()}}};z.closeButton=c.closeButton,L.closeButton===!1||Qv(L.closeButton)?z.closeButton=L.closeButton:L.closeButton===!0&&(z.closeButton=Qv(c.closeButton)?c.closeButton:!0);let B={content:M,props:z,staleId:x};c.limit&&c.limit>0&&a>c.limit&&O?o.push(B):Td(I)?setTimeout(()=>{N(B)},I):N(B)},setProps(M){c=M},setToggle:(M,L)=>{let $=f.get(M);$&&($.toggle=L)},isToastActive:M=>{var L;return(L=f.get(M))==null?void 0:L.isActive},getSnapshot:()=>l}}var Ai=new Map,ed=[],Kv=new Set,iM=n=>Kv.forEach(e=>e(n)),HA=()=>Ai.size>0;function aM(){ed.forEach(n=>GA(n.content,n.options)),ed=[]}var sM=(n,{containerId:e})=>{var t;return(t=Ai.get(e||1))==null?void 0:t.toasts.get(n)};function YA(n,e){var t;if(e)return!!((t=Ai.get(e))!=null&&t.isToastActive(n));let r=!1;return Ai.forEach(a=>{a.isToastActive(n)&&(r=!0)}),r}function oM(n){if(!HA()){ed=ed.filter(e=>n!=null&&e.options.toastId!==n);return}if(n==null||ZN(n))Ai.forEach(e=>{e.removeToast(n)});else if(n&&("containerId"in n||"id"in n)){let e=Ai.get(n.containerId);e?e.removeToast(n.id):Ai.forEach(t=>{t.removeToast(n.id)})}}var lM=(n={})=>{Ai.forEach(e=>{e.props.limit&&(!n.containerId||e.id===n.containerId)&&e.clearQueue()})};function GA(n,e){Qv(n)&&(HA()||ed.push({content:n,options:e}),Ai.forEach(t=>{t.buildToast(n,e)}))}function uM(n){var e;(e=Ai.get(n.containerId||1))==null||e.setToggle(n.id,n.fn)}function QA(n,e){Ai.forEach(t=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===t.id)&&t.toggle(n,e==null?void 0:e.id)})}function cM(n){let e=n.containerId||1;return{subscribe(t){let r=rM(e,n,iM);Ai.set(e,r);let a=r.observe(t);return aM(),()=>{a(),Ai.delete(e)}},setProps(t){var r;(r=Ai.get(e))==null||r.setProps(t)},getSnapshot(){var t;return(t=Ai.get(e))==null?void 0:t.getSnapshot()}}}function hM(n){return Kv.add(n),()=>{Kv.delete(n)}}function fM(n){return n&&(Eu(n.toastId)||Td(n.toastId))?n.toastId:qA()}function wd(n,e){return GA(n,e),e.toastId}function Ig(n,e){return{...e,type:e&&e.type||n,toastId:fM(e)}}function Og(n){return(e,t)=>wd(e,Ig(n,t))}function rn(n,e){return wd(n,Ig("default",e))}rn.loading=(n,e)=>wd(n,Ig("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function dM(n,{pending:e,error:t,success:r},a){let o;e&&(o=Eu(e)?rn.loading(e,a):rn.loading(e.render,{...a,...e}));let l={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},c=(d,p,v)=>{if(p==null){rn.dismiss(o);return}let w={type:d,...l,...a,data:v},E=Eu(p)?{render:p}:p;return o?rn.update(o,{...w,...E}):rn(E.render,{...w,...E}),v},f=so(n)?n():n;return f.then(d=>c("success",r,d)).catch(d=>c("error",t,d)),f}rn.promise=dM;rn.success=Og("success");rn.info=Og("info");rn.error=Og("error");rn.warning=Og("warning");rn.warn=rn.warning;rn.dark=(n,e)=>wd(n,Ig("default",{theme:"dark",...e}));function mM(n){oM(n)}rn.dismiss=mM;rn.clearWaitingQueue=lM;rn.isActive=YA;rn.update=(n,e={})=>{let t=sM(n,e);if(t){let{props:r,content:a}=t,o={delay:100,...r,...e,toastId:e.toastId||n,updateId:qA()};o.toastId!==n&&(o.staleId=n);let l=o.render||a;delete o.render,wd(l,o)}};rn.done=n=>{rn.update(n,{progress:1})};rn.onChange=hM;rn.play=n=>QA(!0,n);rn.pause=n=>QA(!1,n);function pM(n){var e;let{subscribe:t,getSnapshot:r,setProps:a}=K.useRef(cM(n)).current;a(n);let o=(e=K.useSyncExternalStore(t,r,r))==null?void 0:e.slice();function l(c){if(!o)return[];let f=new Map;return n.newestOnTop&&o.reverse(),o.forEach(d=>{let{position:p}=d.props;f.has(p)||f.set(p,[]),f.get(p).push(d)}),Array.from(f,d=>c(d[0],d[1]))}return{getToastToRender:l,isToastActive:YA,count:o==null?void 0:o.length}}function gM(n){let[e,t]=K.useState(!1),[r,a]=K.useState(!1),o=K.useRef(null),l=K.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:c,pauseOnHover:f,closeToast:d,onClick:p,closeOnClick:v}=n;uM({id:n.toastId,containerId:n.containerId,fn:t}),K.useEffect(()=>{if(n.pauseOnFocusLoss)return w(),()=>{E()}},[n.pauseOnFocusLoss]);function w(){document.hasFocus()||N(),window.addEventListener("focus",D),window.addEventListener("blur",N)}function E(){window.removeEventListener("focus",D),window.removeEventListener("blur",N)}function R(x){if(n.draggable===!0||n.draggable===x.pointerType){M();let I=o.current;l.canCloseOnClick=!0,l.canDrag=!0,I.style.transition="none",n.draggableDirection==="x"?(l.start=x.clientX,l.removalDistance=I.offsetWidth*(n.draggablePercent/100)):(l.start=x.clientY,l.removalDistance=I.offsetHeight*(n.draggablePercent===80?n.draggablePercent*1.5:n.draggablePercent)/100)}}function S(x){let{top:I,bottom:O,left:z,right:B}=o.current.getBoundingClientRect();x.nativeEvent.type!=="touchend"&&n.pauseOnHover&&x.clientX>=z&&x.clientX<=B&&x.clientY>=I&&x.clientY<=O?N():D()}function D(){t(!0)}function N(){t(!1)}function M(){l.didMove=!1,document.addEventListener("pointermove",$),document.addEventListener("pointerup",P)}function L(){document.removeEventListener("pointermove",$),document.removeEventListener("pointerup",P)}function $(x){let I=o.current;if(l.canDrag&&I){l.didMove=!0,e&&N(),n.draggableDirection==="x"?l.delta=x.clientX-l.start:l.delta=x.clientY-l.start,l.start!==x.clientX&&(l.canCloseOnClick=!1);let O=n.draggableDirection==="x"?`${l.delta}px, var(--y)`:`0, calc(${l.delta}px + var(--y))`;I.style.transform=`translate3d(${O},0)`,I.style.opacity=`${1-Math.abs(l.delta/l.removalDistance)}`}}function P(){L();let x=o.current;if(l.canDrag&&l.didMove&&x){if(l.canDrag=!1,Math.abs(l.delta)>l.removalDistance){a(!0),n.closeToast(!0),n.collapseAll();return}x.style.transition="transform 0.2s, opacity 0.2s",x.style.removeProperty("transform"),x.style.removeProperty("opacity")}}let H={onPointerDown:R,onPointerUp:S};return c&&f&&(H.onMouseEnter=N,n.stacked||(H.onMouseLeave=D)),v&&(H.onClick=x=>{p&&p(x),l.canCloseOnClick&&d(!0)}),{playToast:D,pauseToast:N,isRunning:e,preventExitTransition:r,toastRef:o,eventHandlers:H}}var yM=typeof window<"u"?K.useLayoutEffect:K.useEffect,Ng=({theme:n,type:e,isLoading:t,...r})=>Gt.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:n==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...r});function vM(n){return Gt.createElement(Ng,{...n},Gt.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function _M(n){return Gt.createElement(Ng,{...n},Gt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function TM(n){return Gt.createElement(Ng,{...n},Gt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function wM(n){return Gt.createElement(Ng,{...n},Gt.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function EM(){return Gt.createElement("div",{className:"Toastify__spinner"})}var Zv={info:_M,warning:vM,success:TM,error:wM,spinner:EM},bM=n=>n in Zv;function RM({theme:n,type:e,isLoading:t,icon:r}){let a=null,o={theme:n,type:e};return r===!1||(so(r)?a=r({...o,isLoading:t}):K.isValidElement(r)?a=K.cloneElement(r,o):t?a=Zv.spinner():bM(e)&&(a=Zv[e](o))),a}var SM=n=>{let{isRunning:e,preventExitTransition:t,toastRef:r,eventHandlers:a,playToast:o}=gM(n),{closeButton:l,children:c,autoClose:f,onClick:d,type:p,hideProgressBar:v,closeToast:w,transition:E,position:R,className:S,style:D,progressClassName:N,updateId:M,role:L,progress:$,rtl:P,toastId:H,deleteToast:x,isIn:I,isLoading:O,closeOnClick:z,theme:B,ariaLabel:q}=n,U=yu("Toastify__toast",`Toastify__toast-theme--${B}`,`Toastify__toast--${p}`,{"Toastify__toast--rtl":P},{"Toastify__toast--close-on-click":z}),we=so(S)?S({rtl:P,position:R,type:p,defaultClassName:U}):yu(U,S),ie=RM(n),te=!!$||!f,he={closeToast:w,type:p,theme:B},pe=null;return l===!1||(so(l)?pe=l(he):K.isValidElement(l)?pe=K.cloneElement(l,he):pe=eM(he)),Gt.createElement(E,{isIn:I,done:x,position:R,preventExitTransition:t,nodeRef:r,playToast:o},Gt.createElement("div",{id:H,tabIndex:0,onClick:d,"data-in":I,className:we,...a,style:D,ref:r,...I&&{role:L,"aria-label":q}},ie!=null&&Gt.createElement("div",{className:yu("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!O})},ie),$A(c,n,!e),pe,!n.customProgressBar&&Gt.createElement(tM,{...M&&!te?{key:`p-${M}`}:{},rtl:P,theme:B,delay:f,isRunning:e,isIn:I,closeToast:w,hide:v,type:p,className:N,controlledProgress:te,progress:$||0})))},AM=(n,e=!1)=>({enter:`Toastify--animate Toastify__${n}-enter`,exit:`Toastify--animate Toastify__${n}-exit`,appendPosition:e}),CM=JN(AM("bounce",!0)),DM={position:"top-right",transition:CM,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:n=>n.altKey&&n.code==="KeyT"};function IM(n){let e={...DM,...n},t=n.stacked,[r,a]=K.useState(!0),o=K.useRef(null),{getToastToRender:l,isToastActive:c,count:f}=pM(e),{className:d,style:p,rtl:v,containerId:w,hotKeys:E}=e;function R(D){let N=yu("Toastify__toast-container",`Toastify__toast-container--${D}`,{"Toastify__toast-container--rtl":v});return so(d)?d({position:D,rtl:v,defaultClassName:N}):yu(N,Gv(d))}function S(){t&&(a(!0),rn.play())}return yM(()=>{var D;if(t){let N=o.current.querySelectorAll('[data-in="true"]'),M=12,L=(D=e.position)==null?void 0:D.includes("top"),$=0,P=0;Array.from(N).reverse().forEach((H,x)=>{let I=H;I.classList.add("Toastify__toast--stacked"),x>0&&(I.dataset.collapsed=`${r}`),I.dataset.pos||(I.dataset.pos=L?"top":"bot");let O=$*(r?.2:1)+(r?0:M*x);I.style.setProperty("--y",`${L?O:O*-1}px`),I.style.setProperty("--g",`${M}`),I.style.setProperty("--s",`${1-(r?P:0)}`),$+=I.offsetHeight,P+=.025})}},[r,f,t]),K.useEffect(()=>{function D(N){var M;let L=o.current;E(N)&&((M=L.querySelector('[tabIndex="0"]'))==null||M.focus(),a(!1),rn.pause()),N.key==="Escape"&&(document.activeElement===L||L!=null&&L.contains(document.activeElement))&&(a(!0),rn.play())}return document.addEventListener("keydown",D),()=>{document.removeEventListener("keydown",D)}},[E]),Gt.createElement("section",{ref:o,className:"Toastify",id:w,onMouseEnter:()=>{t&&(a(!1),rn.pause())},onMouseLeave:S,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},l((D,N)=>{let M=N.length?{...p}:{...p,pointerEvents:"none"};return Gt.createElement("div",{tabIndex:-1,className:R(D),"data-stacked":t,style:M,key:`c-${D}`},N.map(({content:L,props:$})=>Gt.createElement(SM,{...$,stacked:t,collapseAll:S,isIn:c($.toastId,$.containerId),key:`t-${$.key}`},L)))}))}var gv={exports:{}},Of={},yv={exports:{}},vv={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B1;function OM(){return B1||(B1=1,function(n){function e(te,he){var pe=te.length;te.push(he);e:for(;0<pe;){var le=pe-1>>>1,F=te[le];if(0<a(F,he))te[le]=he,te[pe]=F,pe=le;else break e}}function t(te){return te.length===0?null:te[0]}function r(te){if(te.length===0)return null;var he=te[0],pe=te.pop();if(pe!==he){te[0]=pe;e:for(var le=0,F=te.length,ae=F>>>1;le<ae;){var Te=2*(le+1)-1,_e=te[Te],ve=Te+1,Ae=te[ve];if(0>a(_e,pe))ve<F&&0>a(Ae,_e)?(te[le]=Ae,te[ve]=pe,le=ve):(te[le]=_e,te[Te]=pe,le=Te);else if(ve<F&&0>a(Ae,pe))te[le]=Ae,te[ve]=pe,le=ve;else break e}}return he}function a(te,he){var pe=te.sortIndex-he.sortIndex;return pe!==0?pe:te.id-he.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();n.unstable_now=function(){return l.now()-c}}var f=[],d=[],p=1,v=null,w=3,E=!1,R=!1,S=!1,D=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function L(te){for(var he=t(d);he!==null;){if(he.callback===null)r(d);else if(he.startTime<=te)r(d),he.sortIndex=he.expirationTime,e(f,he);else break;he=t(d)}}function $(te){if(S=!1,L(te),!R)if(t(f)!==null)R=!0,we();else{var he=t(d);he!==null&&ie($,he.startTime-te)}}var P=!1,H=-1,x=5,I=-1;function O(){return!(n.unstable_now()-I<x)}function z(){if(P){var te=n.unstable_now();I=te;var he=!0;try{e:{R=!1,S&&(S=!1,N(H),H=-1),E=!0;var pe=w;try{t:{for(L(te),v=t(f);v!==null&&!(v.expirationTime>te&&O());){var le=v.callback;if(typeof le=="function"){v.callback=null,w=v.priorityLevel;var F=le(v.expirationTime<=te);if(te=n.unstable_now(),typeof F=="function"){v.callback=F,L(te),he=!0;break t}v===t(f)&&r(f),L(te)}else r(f);v=t(f)}if(v!==null)he=!0;else{var ae=t(d);ae!==null&&ie($,ae.startTime-te),he=!1}}break e}finally{v=null,w=pe,E=!1}he=void 0}}finally{he?B():P=!1}}}var B;if(typeof M=="function")B=function(){M(z)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,U=q.port2;q.port1.onmessage=z,B=function(){U.postMessage(null)}}else B=function(){D(z,0)};function we(){P||(P=!0,B())}function ie(te,he){H=D(function(){te(n.unstable_now())},he)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(te){te.callback=null},n.unstable_continueExecution=function(){R||E||(R=!0,we())},n.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<te?Math.floor(1e3/te):5},n.unstable_getCurrentPriorityLevel=function(){return w},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(te){switch(w){case 1:case 2:case 3:var he=3;break;default:he=w}var pe=w;w=he;try{return te()}finally{w=pe}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(te,he){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var pe=w;w=te;try{return he()}finally{w=pe}},n.unstable_scheduleCallback=function(te,he,pe){var le=n.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?le+pe:le):pe=le,te){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=pe+F,te={id:p++,callback:he,priorityLevel:te,startTime:pe,expirationTime:F,sortIndex:-1},pe>le?(te.sortIndex=pe,e(d,te),t(f)===null&&te===t(d)&&(S?(N(H),H=-1):S=!0,ie($,pe-le))):(te.sortIndex=F,e(f,te),R||E||(R=!0,we())),te},n.unstable_shouldYield=O,n.unstable_wrapCallback=function(te){var he=w;return function(){var pe=w;w=he;try{return te.apply(this,arguments)}finally{w=pe}}}}(vv)),vv}var j1;function NM(){return j1||(j1=1,yv.exports=OM()),yv.exports}var _v={exports:{}},oi={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F1;function MM(){if(F1)return oi;F1=1;var n=$_();function e(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)d+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(f,d,p){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:f,containerInfo:d,implementation:p}}var l=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return oi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,oi.createPortal=function(f,d){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return o(f,d,null,p)},oi.flushSync=function(f){var d=l.T,p=r.p;try{if(l.T=null,r.p=2,f)return f()}finally{l.T=d,r.p=p,r.d.f()}},oi.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(f,d))},oi.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},oi.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var p=d.as,v=c(p,d.crossOrigin),w=typeof d.integrity=="string"?d.integrity:void 0,E=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;p==="style"?r.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:v,integrity:w,fetchPriority:E}):p==="script"&&r.d.X(f,{crossOrigin:v,integrity:w,fetchPriority:E,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},oi.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var p=c(d.as,d.crossOrigin);r.d.M(f,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(f)},oi.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var p=d.as,v=c(p,d.crossOrigin);r.d.L(f,p,{crossOrigin:v,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},oi.preloadModule=function(f,d){if(typeof f=="string")if(d){var p=c(d.as,d.crossOrigin);r.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(f)},oi.requestFormReset=function(f){r.d.r(f)},oi.unstable_batchedUpdates=function(f,d){return f(d)},oi.useFormState=function(f,d,p){return l.H.useFormState(f,d,p)},oi.useFormStatus=function(){return l.H.useHostTransitionStatus()},oi.version="19.0.0",oi}var $1;function xM(){if($1)return _v.exports;$1=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),_v.exports=MM(),_v.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q1;function kM(){if(q1)return Of;q1=1;var n=NM(),e=$_(),t=xM();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)s+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}var o=Symbol.for("react.element"),l=Symbol.for("react.transitional.element"),c=Symbol.for("react.portal"),f=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),v=Symbol.for("react.provider"),w=Symbol.for("react.consumer"),E=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),L=Symbol.for("react.offscreen"),$=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function H(i){return i===null||typeof i!="object"?null:(i=P&&i[P]||i["@@iterator"],typeof i=="function"?i:null)}var x=Symbol.for("react.client.reference");function I(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===x?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case f:return"Fragment";case c:return"Portal";case p:return"Profiler";case d:return"StrictMode";case S:return"Suspense";case D:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case E:return(i.displayName||"Context")+".Provider";case w:return(i._context.displayName||"Context")+".Consumer";case R:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case N:return s=i.displayName||null,s!==null?s:I(i.type)||"Memo";case M:s=i._payload,i=i._init;try{return I(i(s))}catch{}}return null}var O=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z=Object.assign,B,q;function U(i){if(B===void 0)try{throw Error()}catch(u){var s=u.stack.trim().match(/\n( *(at )?)/);B=s&&s[1]||"",q=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+B+i+q}var we=!1;function ie(i,s){if(!i||we)return"";we=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(s){var ge=function(){throw Error()};if(Object.defineProperty(ge.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ge,[])}catch(oe){var ne=oe}Reflect.construct(i,[],ge)}else{try{ge.call()}catch(oe){ne=oe}i.call(ge.prototype)}}else{try{throw Error()}catch(oe){ne=oe}(ge=i())&&typeof ge.catch=="function"&&ge.catch(function(){})}}catch(oe){if(oe&&ne&&typeof oe.stack=="string")return[oe.stack,ne.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var T=h.DetermineComponentFrameRoot(),C=T[0],k=T[1];if(C&&k){var j=C.split(`
`),Q=k.split(`
`);for(g=h=0;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;for(;g<Q.length&&!Q[g].includes("DetermineComponentFrameRoot");)g++;if(h===j.length||g===Q.length)for(h=j.length-1,g=Q.length-1;1<=h&&0<=g&&j[h]!==Q[g];)g--;for(;1<=h&&0<=g;h--,g--)if(j[h]!==Q[g]){if(h!==1||g!==1)do if(h--,g--,0>g||j[h]!==Q[g]){var ue=`
`+j[h].replace(" at new "," at ");return i.displayName&&ue.includes("<anonymous>")&&(ue=ue.replace("<anonymous>",i.displayName)),ue}while(1<=h&&0<=g);break}}}finally{we=!1,Error.prepareStackTrace=u}return(u=i?i.displayName||i.name:"")?U(u):""}function te(i){switch(i.tag){case 26:case 27:case 5:return U(i.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 15:return i=ie(i.type,!1),i;case 11:return i=ie(i.type.render,!1),i;case 1:return i=ie(i.type,!0),i;default:return""}}function he(i){try{var s="";do s+=te(i),i=i.return;while(i);return s}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function pe(i){var s=i,u=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(u=s.return),i=s.return;while(i)}return s.tag===3?u:null}function le(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function F(i){if(pe(i)!==i)throw Error(r(188))}function ae(i){var s=i.alternate;if(!s){if(s=pe(i),s===null)throw Error(r(188));return s!==i?null:i}for(var u=i,h=s;;){var g=u.return;if(g===null)break;var T=g.alternate;if(T===null){if(h=g.return,h!==null){u=h;continue}break}if(g.child===T.child){for(T=g.child;T;){if(T===u)return F(g),i;if(T===h)return F(g),s;T=T.sibling}throw Error(r(188))}if(u.return!==h.return)u=g,h=T;else{for(var C=!1,k=g.child;k;){if(k===u){C=!0,u=g,h=T;break}if(k===h){C=!0,h=g,u=T;break}k=k.sibling}if(!C){for(k=T.child;k;){if(k===u){C=!0,u=T,h=g;break}if(k===h){C=!0,h=T,u=g;break}k=k.sibling}if(!C)throw Error(r(189))}}if(u.alternate!==h)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?i:s}function Te(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=Te(i),s!==null)return s;i=i.sibling}return null}var _e=Array.isArray,ve=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ae={pending:!1,data:null,method:null,action:null},Ie=[],Ke=-1;function lt(i){return{current:i}}function Ye(i){0>Ke||(i.current=Ie[Ke],Ie[Ke]=null,Ke--)}function Ge(i,s){Ke++,Ie[Ke]=i.current,i.current=s}var Ft=lt(null),Cn=lt(null),mt=lt(null),Dn=lt(null);function $n(i,s){switch(Ge(mt,s),Ge(Cn,i),Ge(Ft,null),i=s.nodeType,i){case 9:case 11:s=(s=s.documentElement)&&(s=s.namespaceURI)?c1(s):0;break;default:if(i=i===8?s.parentNode:s,s=i.tagName,i=i.namespaceURI)i=c1(i),s=h1(i,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}Ye(Ft),Ge(Ft,s)}function sn(){Ye(Ft),Ye(Cn),Ye(mt)}function qn(i){i.memoizedState!==null&&Ge(Dn,i);var s=Ft.current,u=h1(s,i.type);s!==u&&(Ge(Cn,i),Ge(Ft,u))}function gi(i){Cn.current===i&&(Ye(Ft),Ye(Cn)),Dn.current===i&&(Ye(Dn),bf._currentValue=Ae)}var dr=Object.prototype.hasOwnProperty,Nn=n.unstable_scheduleCallback,Xn=n.unstable_cancelCallback,en=n.unstable_shouldYield,mr=n.unstable_requestPaint,tn=n.unstable_now,Ln=n.unstable_getCurrentPriorityLevel,kt=n.unstable_ImmediatePriority,on=n.unstable_UserBlockingPriority,Wn=n.unstable_NormalPriority,Ra=n.unstable_LowPriority,ii=n.unstable_IdlePriority,Fa=n.log,Oi=n.unstable_setDisableYieldValue,Mn=null,Hn=null;function Bi(i){if(Hn&&typeof Hn.onCommitFiberRoot=="function")try{Hn.onCommitFiberRoot(Mn,i,void 0,(i.current.flags&128)===128)}catch{}}function pt(i){if(typeof Fa=="function"&&Oi(i),Hn&&typeof Hn.setStrictMode=="function")try{Hn.setStrictMode(Mn,i)}catch{}}var Nt=Math.clz32?Math.clz32:Ol,$a=Math.log,Ds=Math.LN2;function Ol(i){return i>>>=0,i===0?32:31-($a(i)/Ds|0)|0}var ea=128,Sa=4194304;function ai(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function zr(i,s){var u=i.pendingLanes;if(u===0)return 0;var h=0,g=i.suspendedLanes,T=i.pingedLanes,C=i.warmLanes;i=i.finishedLanes!==0;var k=u&134217727;return k!==0?(u=k&~g,u!==0?h=ai(u):(T&=k,T!==0?h=ai(T):i||(C=k&~C,C!==0&&(h=ai(C))))):(k=u&~g,k!==0?h=ai(k):T!==0?h=ai(T):i||(C=u&~C,C!==0&&(h=ai(C)))),h===0?0:s!==0&&s!==h&&(s&g)===0&&(g=h&-h,C=s&-s,g>=C||g===32&&(C&4194176)!==0)?s:h}function qa(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function _o(i,s){switch(i){case 1:case 2:case 4:case 8:return s+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Y(){var i=ea;return ea<<=1,(ea&4194176)===0&&(ea=128),i}function Z(){var i=Sa;return Sa<<=1,(Sa&62914560)===0&&(Sa=4194304),i}function re(i){for(var s=[],u=0;31>u;u++)s.push(i);return s}function ce(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Ce(i,s,u,h,g,T){var C=i.pendingLanes;i.pendingLanes=u,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=u,i.entangledLanes&=u,i.errorRecoveryDisabledLanes&=u,i.shellSuspendCounter=0;var k=i.entanglements,j=i.expirationTimes,Q=i.hiddenUpdates;for(u=C&~u;0<u;){var ue=31-Nt(u),ge=1<<ue;k[ue]=0,j[ue]=-1;var ne=Q[ue];if(ne!==null)for(Q[ue]=null,ue=0;ue<ne.length;ue++){var oe=ne[ue];oe!==null&&(oe.lane&=-536870913)}u&=~ge}h!==0&&$e(i,h,0),T!==0&&g===0&&i.tag!==0&&(i.suspendedLanes|=T&~(C&~s))}function $e(i,s,u){i.pendingLanes|=s,i.suspendedLanes&=~s;var h=31-Nt(s);i.entangledLanes|=s,i.entanglements[h]=i.entanglements[h]|1073741824|u&4194218}function Fe(i,s){var u=i.entangledLanes|=s;for(i=i.entanglements;u;){var h=31-Nt(u),g=1<<h;g&s|i[h]&s&&(i[h]|=s),u&=~g}}function Ue(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Be(){var i=ve.p;return i!==0?i:(i=window.event,i===void 0?32:I1(i.type))}function Oe(i,s){var u=ve.p;try{return ve.p=i,s()}finally{ve.p=u}}var ke=Math.random().toString(36).slice(2),Pe="__reactFiber$"+ke,Qe="__reactProps$"+ke,$t="__reactContainer$"+ke,xn="__reactEvents$"+ke,fn="__reactListeners$"+ke,Bt="__reactHandles$"+ke,In="__reactResources$"+ke,yi="__reactMarker$"+ke;function ji(i){delete i[Pe],delete i[Qe],delete i[xn],delete i[fn],delete i[Bt]}function Jn(i){var s=i[Pe];if(s)return s;for(var u=i.parentNode;u;){if(s=u[$t]||u[Pe]){if(u=s.alternate,s.child!==null||u!==null&&u.child!==null)for(i=m1(i);i!==null;){if(u=i[Pe])return u;i=m1(i)}return s}i=u,u=i.parentNode}return null}function sr(i){if(i=i[Pe]||i[$t]){var s=i.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return i}return null}function ta(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function Ni(i){var s=i[In];return s||(s=i[In]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Qt(i){i[yi]=!0}var Ha=new Set,Aa={};function vt(i,s){Kt(i,s),Kt(i+"Capture",s)}function Kt(i,s){for(Aa[i]=s,i=0;i<s.length;i++)Ha.add(s[i])}var Cr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Is=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),yn={},na={};function Nl(i){return dr.call(na,i)?!0:dr.call(yn,i)?!1:Is.test(i)?na[i]=!0:(yn[i]=!0,!1)}function Ya(i,s,u){if(Nl(s))if(u===null)i.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var h=s.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+u)}}function To(i,s,u){if(u===null)i.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+u)}}function ra(i,s,u,h){if(h===null)i.removeAttribute(u);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(u);return}i.setAttributeNS(s,u,""+h)}}function vi(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Xd(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function _y(i){var s=Xd(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),h=""+i[s];if(!i.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,T=u.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return g.call(this)},set:function(C){h=""+C,T.call(this,C)}}),Object.defineProperty(i,s,{enumerable:u.enumerable}),{getValue:function(){return h},setValue:function(C){h=""+C},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Ml(i){i._valueTracker||(i._valueTracker=_y(i))}function Mh(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var u=s.getValue(),h="";return i&&(h=Xd(i)?i.checked?"true":"false":i.value),i=h,i!==u?(s.setValue(i),!0):!1}function zu(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Os=/[\n"\\]/g;function Yn(i){return i.replace(Os,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function wo(i,s,u,h,g,T,C,k){i.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?i.type=C:i.removeAttribute("type"),s!=null?C==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+vi(s)):i.value!==""+vi(s)&&(i.value=""+vi(s)):C!=="submit"&&C!=="reset"||i.removeAttribute("value"),s!=null?Bu(i,C,vi(s)):u!=null?Bu(i,C,vi(u)):h!=null&&i.removeAttribute("value"),g==null&&T!=null&&(i.defaultChecked=!!T),g!=null&&(i.checked=g&&typeof g!="function"&&typeof g!="symbol"),k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?i.name=""+vi(k):i.removeAttribute("name")}function xl(i,s,u,h,g,T,C,k){if(T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(i.type=T),s!=null||u!=null){if(!(T!=="submit"&&T!=="reset"||s!=null))return;u=u!=null?""+vi(u):"",s=s!=null?""+vi(s):u,k||s===i.value||(i.value=s),i.defaultValue=s}h=h??g,h=typeof h!="function"&&typeof h!="symbol"&&!!h,i.checked=k?i.checked:!!h,i.defaultChecked=!!h,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(i.name=C)}function Bu(i,s,u){s==="number"&&zu(i.ownerDocument)===i||i.defaultValue===""+u||(i.defaultValue=""+u)}function qt(i,s,u,h){if(i=i.options,s){s={};for(var g=0;g<u.length;g++)s["$"+u[g]]=!0;for(u=0;u<i.length;u++)g=s.hasOwnProperty("$"+i[u].value),i[u].selected!==g&&(i[u].selected=g),g&&h&&(i[u].defaultSelected=!0)}else{for(u=""+vi(u),s=null,g=0;g<i.length;g++){if(i[g].value===u){i[g].selected=!0,h&&(i[g].defaultSelected=!0);return}s!==null||i[g].disabled||(s=i[g])}s!==null&&(s.selected=!0)}}function kl(i,s,u){if(s!=null&&(s=""+vi(s),s!==i.value&&(i.value=s),u==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=u!=null?""+vi(u):""}function Eo(i,s,u,h){if(s==null){if(h!=null){if(u!=null)throw Error(r(92));if(_e(h)){if(1<h.length)throw Error(r(93));h=h[0]}u=h}u==null&&(u=""),s=u}u=vi(s),i.defaultValue=u,h=i.textContent,h===u&&h!==""&&h!==null&&(i.value=h)}function ia(i,s){if(s){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=s;return}}i.textContent=s}var Ty=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function xh(i,s,u){var h=s.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?h?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":h?i.setProperty(s,u):typeof u!="number"||u===0||Ty.has(s)?s==="float"?i.cssFloat=u:i[s]=(""+u).trim():i[s]=u+"px"}function Wd(i,s,u){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,u!=null){for(var h in u)!u.hasOwnProperty(h)||s!=null&&s.hasOwnProperty(h)||(h.indexOf("--")===0?i.setProperty(h,""):h==="float"?i.cssFloat="":i[h]="");for(var g in s)h=s[g],s.hasOwnProperty(g)&&u[g]!==h&&xh(i,g,h)}else for(var T in s)s.hasOwnProperty(T)&&xh(i,T,s[T])}function kh(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wy=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ey=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ga(i){return Ey.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var aa=null;function ju(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Ns=null,Ms=null;function xs(i){var s=sr(i);if(s&&(i=s.stateNode)){var u=i[Qe]||null;e:switch(i=s.stateNode,s.type){case"input":if(wo(i,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),s=u.name,u.type==="radio"&&s!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Yn(""+s)+'"][type="radio"]'),s=0;s<u.length;s++){var h=u[s];if(h!==i&&h.form===i.form){var g=h[Qe]||null;if(!g)throw Error(r(90));wo(h,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(s=0;s<u.length;s++)h=u[s],h.form===i.form&&Mh(h)}break e;case"textarea":kl(i,u.value,u.defaultValue);break e;case"select":s=u.value,s!=null&&qt(i,!!u.multiple,s,!1)}}}var Ph=!1;function Jd(i,s,u){if(Ph)return i(s,u);Ph=!0;try{var h=i(s);return h}finally{if(Ph=!1,(Ns!==null||Ms!==null)&&(qm(),Ns&&(s=Ns,i=Ms,Ms=Ns=null,xs(s),i)))for(s=0;s<i.length;s++)xs(i[s])}}function Pl(i,s){var u=i.stateNode;if(u===null)return null;var h=u[Qe]||null;if(h===null)return null;u=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(r(231,s,typeof u));return u}var sa=!1;if(Cr)try{var Ll={};Object.defineProperty(Ll,"passive",{get:function(){sa=!0}}),window.addEventListener("test",Ll,Ll),window.removeEventListener("test",Ll,Ll)}catch{sa=!1}var Qa=null,bo=null,ks=null;function Lh(){if(ks)return ks;var i,s=bo,u=s.length,h,g="value"in Qa?Qa.value:Qa.textContent,T=g.length;for(i=0;i<u&&s[i]===g[i];i++);var C=u-i;for(h=1;h<=C&&s[u-h]===g[T-h];h++);return ks=g.slice(i,1<h?1-h:void 0)}function Ka(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function Za(){return!0}function Vh(){return!1}function Dr(i){function s(u,h,g,T,C){this._reactName=u,this._targetInst=g,this.type=h,this.nativeEvent=T,this.target=C,this.currentTarget=null;for(var k in i)i.hasOwnProperty(k)&&(u=i[k],this[k]=u?u(T):T[k]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?Za:Vh,this.isPropagationStopped=Vh,this}return z(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Za)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Za)},persist:function(){},isPersistent:Za}),s}var Xt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fu=Dr(Xt),Vl=z({},Xt,{view:0,detail:0}),em=Dr(Vl),$u,qu,Xa,Ul=z({},Vl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jl,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Xa&&(Xa&&i.type==="mousemove"?($u=i.screenX-Xa.screenX,qu=i.screenY-Xa.screenY):qu=$u=0,Xa=i),$u)},movementY:function(i){return"movementY"in i?i.movementY:qu}}),oa=Dr(Ul),tm=z({},Ul,{dataTransfer:0}),by=Dr(tm),zl=z({},Vl,{relatedTarget:0}),Hu=Dr(zl),Uh=z({},Xt,{animationName:0,elapsedTime:0,pseudoElement:0}),Yu=Dr(Uh),nm=z({},Xt,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Gu=Dr(nm),Ry=z({},Xt,{data:0}),zh=Dr(Ry),Bl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},im={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bh(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=im[i])?!!s[i]:!1}function jl(){return Bh}var am=z({},Vl,{key:function(i){if(i.key){var s=Bl[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=Ka(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?rm[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jl,charCode:function(i){return i.type==="keypress"?Ka(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Ka(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Qu=Dr(am),sm=z({},Ul,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jh=Dr(sm),Ps=z({},Vl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jl}),om=Dr(Ps),lm=z({},Xt,{propertyName:0,elapsedTime:0,pseudoElement:0}),um=Dr(lm),cm=z({},Ul,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Ku=Dr(cm),_i=z({},Xt,{newState:0,oldState:0}),hm=Dr(_i),fm=[9,13,27,32],Wa=Cr&&"CompositionEvent"in window,m=null;Cr&&"documentMode"in document&&(m=document.documentMode);var b=Cr&&"TextEvent"in window&&!m,A=Cr&&(!Wa||m&&8<m&&11>=m),V=" ",J=!1;function se(i,s){switch(i){case"keyup":return fm.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function be(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Pt=!1;function pr(i,s){switch(i){case"compositionend":return be(s);case"keypress":return s.which!==32?null:(J=!0,V);case"textInput":return i=s.data,i===V&&J?null:i;default:return null}}function Lt(i,s){if(Pt)return i==="compositionend"||!Wa&&se(i,s)?(i=Lh(),ks=bo=Qa=null,Pt=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return A&&s.locale!=="ko"?null:s.data;default:return null}}var Ir={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gr(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!Ir[i.type]:s==="textarea"}function Ls(i,s,u,h){Ns?Ms?Ms.push(h):Ms=[h]:Ns=h,s=Km(s,"onChange"),0<s.length&&(u=new Fu("onChange","change",null,u,h),i.push({event:u,listeners:s}))}var Br=null,Ja=null;function Fh(i){a1(i,0)}function dm(i){var s=ta(i);if(Mh(s))return i}function kw(i,s){if(i==="change")return s}var Pw=!1;if(Cr){var Sy;if(Cr){var Ay="oninput"in document;if(!Ay){var Lw=document.createElement("div");Lw.setAttribute("oninput","return;"),Ay=typeof Lw.oninput=="function"}Sy=Ay}else Sy=!1;Pw=Sy&&(!document.documentMode||9<document.documentMode)}function Vw(){Br&&(Br.detachEvent("onpropertychange",Uw),Ja=Br=null)}function Uw(i){if(i.propertyName==="value"&&dm(Ja)){var s=[];Ls(s,Ja,i,ju(i)),Jd(Fh,s)}}function _O(i,s,u){i==="focusin"?(Vw(),Br=s,Ja=u,Br.attachEvent("onpropertychange",Uw)):i==="focusout"&&Vw()}function TO(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return dm(Ja)}function wO(i,s){if(i==="click")return dm(s)}function EO(i,s){if(i==="input"||i==="change")return dm(s)}function bO(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Fi=typeof Object.is=="function"?Object.is:bO;function $h(i,s){if(Fi(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var u=Object.keys(i),h=Object.keys(s);if(u.length!==h.length)return!1;for(h=0;h<u.length;h++){var g=u[h];if(!dr.call(s,g)||!Fi(i[g],s[g]))return!1}return!0}function zw(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Bw(i,s){var u=zw(i);i=0;for(var h;u;){if(u.nodeType===3){if(h=i+u.textContent.length,i<=s&&h>=s)return{node:u,offset:s-i};i=h}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=zw(u)}}function jw(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?jw(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function Fw(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=zu(i.document);s instanceof i.HTMLIFrameElement;){try{var u=typeof s.contentWindow.location.href=="string"}catch{u=!1}if(u)i=s.contentWindow;else break;s=zu(i.document)}return s}function Cy(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}function RO(i,s){var u=Fw(s);s=i.focusedElem;var h=i.selectionRange;if(u!==s&&s&&s.ownerDocument&&jw(s.ownerDocument.documentElement,s)){if(h!==null&&Cy(s)){if(i=h.start,u=h.end,u===void 0&&(u=i),"selectionStart"in s)s.selectionStart=i,s.selectionEnd=Math.min(u,s.value.length);else if(u=(i=s.ownerDocument||document)&&i.defaultView||window,u.getSelection){u=u.getSelection();var g=s.textContent.length,T=Math.min(h.start,g);h=h.end===void 0?T:Math.min(h.end,g),!u.extend&&T>h&&(g=h,h=T,T=g),g=Bw(s,T);var C=Bw(s,h);g&&C&&(u.rangeCount!==1||u.anchorNode!==g.node||u.anchorOffset!==g.offset||u.focusNode!==C.node||u.focusOffset!==C.offset)&&(i=i.createRange(),i.setStart(g.node,g.offset),u.removeAllRanges(),T>h?(u.addRange(i),u.extend(C.node,C.offset)):(i.setEnd(C.node,C.offset),u.addRange(i)))}}for(i=[],u=s;u=u.parentNode;)u.nodeType===1&&i.push({element:u,left:u.scrollLeft,top:u.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<i.length;s++)u=i[s],u.element.scrollLeft=u.left,u.element.scrollTop=u.top}}var SO=Cr&&"documentMode"in document&&11>=document.documentMode,Zu=null,Dy=null,qh=null,Iy=!1;function $w(i,s,u){var h=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Iy||Zu==null||Zu!==zu(h)||(h=Zu,"selectionStart"in h&&Cy(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),qh&&$h(qh,h)||(qh=h,h=Km(Dy,"onSelect"),0<h.length&&(s=new Fu("onSelect","select",null,s,u),i.push({event:s,listeners:h}),s.target=Zu)))}function Fl(i,s){var u={};return u[i.toLowerCase()]=s.toLowerCase(),u["Webkit"+i]="webkit"+s,u["Moz"+i]="moz"+s,u}var Xu={animationend:Fl("Animation","AnimationEnd"),animationiteration:Fl("Animation","AnimationIteration"),animationstart:Fl("Animation","AnimationStart"),transitionrun:Fl("Transition","TransitionRun"),transitionstart:Fl("Transition","TransitionStart"),transitioncancel:Fl("Transition","TransitionCancel"),transitionend:Fl("Transition","TransitionEnd")},Oy={},qw={};Cr&&(qw=document.createElement("div").style,"AnimationEvent"in window||(delete Xu.animationend.animation,delete Xu.animationiteration.animation,delete Xu.animationstart.animation),"TransitionEvent"in window||delete Xu.transitionend.transition);function $l(i){if(Oy[i])return Oy[i];if(!Xu[i])return i;var s=Xu[i],u;for(u in s)if(s.hasOwnProperty(u)&&u in qw)return Oy[i]=s[u];return i}var Hw=$l("animationend"),Yw=$l("animationiteration"),Gw=$l("animationstart"),AO=$l("transitionrun"),CO=$l("transitionstart"),DO=$l("transitioncancel"),Qw=$l("transitionend"),Kw=new Map,Zw="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Ca(i,s){Kw.set(i,s),vt(s,[i])}var la=[],Wu=0,Ny=0;function mm(){for(var i=Wu,s=Ny=Wu=0;s<i;){var u=la[s];la[s++]=null;var h=la[s];la[s++]=null;var g=la[s];la[s++]=null;var T=la[s];if(la[s++]=null,h!==null&&g!==null){var C=h.pending;C===null?g.next=g:(g.next=C.next,C.next=g),h.pending=g}T!==0&&Xw(u,g,T)}}function pm(i,s,u,h){la[Wu++]=i,la[Wu++]=s,la[Wu++]=u,la[Wu++]=h,Ny|=h,i.lanes|=h,i=i.alternate,i!==null&&(i.lanes|=h)}function My(i,s,u,h){return pm(i,s,u,h),gm(i)}function Ro(i,s){return pm(i,null,null,s),gm(i)}function Xw(i,s,u){i.lanes|=u;var h=i.alternate;h!==null&&(h.lanes|=u);for(var g=!1,T=i.return;T!==null;)T.childLanes|=u,h=T.alternate,h!==null&&(h.childLanes|=u),T.tag===22&&(i=T.stateNode,i===null||i._visibility&1||(g=!0)),i=T,T=T.return;g&&s!==null&&i.tag===3&&(T=i.stateNode,g=31-Nt(u),T=T.hiddenUpdates,i=T[g],i===null?T[g]=[s]:i.push(s),s.lane=u|536870912)}function gm(i){if(50<gf)throw gf=0,U0=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var Ju={},Ww=new WeakMap;function ua(i,s){if(typeof i=="object"&&i!==null){var u=Ww.get(i);return u!==void 0?u:(s={value:i,source:s,stack:he(s)},Ww.set(i,s),s)}return{value:i,source:s,stack:he(s)}}var ec=[],tc=0,ym=null,vm=0,ca=[],ha=0,ql=null,Vs=1,Us="";function Hl(i,s){ec[tc++]=vm,ec[tc++]=ym,ym=i,vm=s}function Jw(i,s,u){ca[ha++]=Vs,ca[ha++]=Us,ca[ha++]=ql,ql=i;var h=Vs;i=Us;var g=32-Nt(h)-1;h&=~(1<<g),u+=1;var T=32-Nt(s)+g;if(30<T){var C=g-g%5;T=(h&(1<<C)-1).toString(32),h>>=C,g-=C,Vs=1<<32-Nt(s)+g|u<<g|h,Us=T+i}else Vs=1<<T|u<<g|h,Us=i}function xy(i){i.return!==null&&(Hl(i,1),Jw(i,1,0))}function ky(i){for(;i===ym;)ym=ec[--tc],ec[tc]=null,vm=ec[--tc],ec[tc]=null;for(;i===ql;)ql=ca[--ha],ca[ha]=null,Us=ca[--ha],ca[ha]=null,Vs=ca[--ha],ca[ha]=null}var Ti=null,jr=null,Ht=!1,Da=null,es=!1,Py=Error(r(519));function Yl(i){var s=Error(r(418,""));throw Gh(ua(s,i)),Py}function eE(i){var s=i.stateNode,u=i.type,h=i.memoizedProps;switch(s[Pe]=i,s[Qe]=h,u){case"dialog":Mt("cancel",s),Mt("close",s);break;case"iframe":case"object":case"embed":Mt("load",s);break;case"video":case"audio":for(u=0;u<vf.length;u++)Mt(vf[u],s);break;case"source":Mt("error",s);break;case"img":case"image":case"link":Mt("error",s),Mt("load",s);break;case"details":Mt("toggle",s);break;case"input":Mt("invalid",s),xl(s,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0),Ml(s);break;case"select":Mt("invalid",s);break;case"textarea":Mt("invalid",s),Eo(s,h.value,h.defaultValue,h.children),Ml(s)}u=h.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||s.textContent===""+u||h.suppressHydrationWarning===!0||u1(s.textContent,u)?(h.popover!=null&&(Mt("beforetoggle",s),Mt("toggle",s)),h.onScroll!=null&&Mt("scroll",s),h.onScrollEnd!=null&&Mt("scrollend",s),h.onClick!=null&&(s.onclick=Zm),s=!0):s=!1,s||Yl(i)}function tE(i){for(Ti=i.return;Ti;)switch(Ti.tag){case 3:case 27:es=!0;return;case 5:case 13:es=!1;return;default:Ti=Ti.return}}function Hh(i){if(i!==Ti)return!1;if(!Ht)return tE(i),Ht=!0,!1;var s=!1,u;if((u=i.tag!==3&&i.tag!==27)&&((u=i.tag===5)&&(u=i.type,u=!(u!=="form"&&u!=="button")||tv(i.type,i.memoizedProps)),u=!u),u&&(s=!0),s&&jr&&Yl(i),tE(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8)if(u=i.data,u==="/$"){if(s===0){jr=Oa(i.nextSibling);break e}s--}else u!=="$"&&u!=="$!"&&u!=="$?"||s++;i=i.nextSibling}jr=null}}else jr=Ti?Oa(i.stateNode.nextSibling):null;return!0}function Yh(){jr=Ti=null,Ht=!1}function Gh(i){Da===null?Da=[i]:Da.push(i)}var Qh=Error(r(460)),nE=Error(r(474)),Ly={then:function(){}};function rE(i){return i=i.status,i==="fulfilled"||i==="rejected"}function _m(){}function iE(i,s,u){switch(u=i[u],u===void 0?i.push(s):u!==s&&(s.then(_m,_m),s=u),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,i===Qh?Error(r(483)):i;default:if(typeof s.status=="string")s.then(_m,_m);else{if(i=vn,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(h){if(s.status==="pending"){var g=s;g.status="fulfilled",g.value=h}},function(h){if(s.status==="pending"){var g=s;g.status="rejected",g.reason=h}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,i===Qh?Error(r(483)):i}throw Kh=s,Qh}}var Kh=null;function aE(){if(Kh===null)throw Error(r(459));var i=Kh;return Kh=null,i}var nc=null,Zh=0;function Tm(i){var s=Zh;return Zh+=1,nc===null&&(nc=[]),iE(nc,i,s)}function Xh(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function wm(i,s){throw s.$$typeof===o?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function sE(i){var s=i._init;return s(i._payload)}function oE(i){function s(X,G){if(i){var ee=X.deletions;ee===null?(X.deletions=[G],X.flags|=16):ee.push(G)}}function u(X,G){if(!i)return null;for(;G!==null;)s(X,G),G=G.sibling;return null}function h(X){for(var G=new Map;X!==null;)X.key!==null?G.set(X.key,X):G.set(X.index,X),X=X.sibling;return G}function g(X,G){return X=Lo(X,G),X.index=0,X.sibling=null,X}function T(X,G,ee){return X.index=ee,i?(ee=X.alternate,ee!==null?(ee=ee.index,ee<G?(X.flags|=33554434,G):ee):(X.flags|=33554434,G)):(X.flags|=1048576,G)}function C(X){return i&&X.alternate===null&&(X.flags|=33554434),X}function k(X,G,ee,fe){return G===null||G.tag!==6?(G=O0(ee,X.mode,fe),G.return=X,G):(G=g(G,ee),G.return=X,G)}function j(X,G,ee,fe){var Ve=ee.type;return Ve===f?ue(X,G,ee.props.children,fe,ee.key):G!==null&&(G.elementType===Ve||typeof Ve=="object"&&Ve!==null&&Ve.$$typeof===M&&sE(Ve)===G.type)?(G=g(G,ee.props),Xh(G,ee),G.return=X,G):(G=zm(ee.type,ee.key,ee.props,null,X.mode,fe),Xh(G,ee),G.return=X,G)}function Q(X,G,ee,fe){return G===null||G.tag!==4||G.stateNode.containerInfo!==ee.containerInfo||G.stateNode.implementation!==ee.implementation?(G=N0(ee,X.mode,fe),G.return=X,G):(G=g(G,ee.children||[]),G.return=X,G)}function ue(X,G,ee,fe,Ve){return G===null||G.tag!==7?(G=nu(ee,X.mode,fe,Ve),G.return=X,G):(G=g(G,ee),G.return=X,G)}function ge(X,G,ee){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=O0(""+G,X.mode,ee),G.return=X,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case l:return ee=zm(G.type,G.key,G.props,null,X.mode,ee),Xh(ee,G),ee.return=X,ee;case c:return G=N0(G,X.mode,ee),G.return=X,G;case M:var fe=G._init;return G=fe(G._payload),ge(X,G,ee)}if(_e(G)||H(G))return G=nu(G,X.mode,ee,null),G.return=X,G;if(typeof G.then=="function")return ge(X,Tm(G),ee);if(G.$$typeof===E)return ge(X,Lm(X,G),ee);wm(X,G)}return null}function ne(X,G,ee,fe){var Ve=G!==null?G.key:null;if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return Ve!==null?null:k(X,G,""+ee,fe);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case l:return ee.key===Ve?j(X,G,ee,fe):null;case c:return ee.key===Ve?Q(X,G,ee,fe):null;case M:return Ve=ee._init,ee=Ve(ee._payload),ne(X,G,ee,fe)}if(_e(ee)||H(ee))return Ve!==null?null:ue(X,G,ee,fe,null);if(typeof ee.then=="function")return ne(X,G,Tm(ee),fe);if(ee.$$typeof===E)return ne(X,G,Lm(X,ee),fe);wm(X,ee)}return null}function oe(X,G,ee,fe,Ve){if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return X=X.get(ee)||null,k(G,X,""+fe,Ve);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case l:return X=X.get(fe.key===null?ee:fe.key)||null,j(G,X,fe,Ve);case c:return X=X.get(fe.key===null?ee:fe.key)||null,Q(G,X,fe,Ve);case M:var Et=fe._init;return fe=Et(fe._payload),oe(X,G,ee,fe,Ve)}if(_e(fe)||H(fe))return X=X.get(ee)||null,ue(G,X,fe,Ve,null);if(typeof fe.then=="function")return oe(X,G,ee,Tm(fe),Ve);if(fe.$$typeof===E)return oe(X,G,ee,Lm(G,fe),Ve);wm(G,fe)}return null}function je(X,G,ee,fe){for(var Ve=null,Et=null,qe=G,Xe=G=0,Mr=null;qe!==null&&Xe<ee.length;Xe++){qe.index>Xe?(Mr=qe,qe=null):Mr=qe.sibling;var Yt=ne(X,qe,ee[Xe],fe);if(Yt===null){qe===null&&(qe=Mr);break}i&&qe&&Yt.alternate===null&&s(X,qe),G=T(Yt,G,Xe),Et===null?Ve=Yt:Et.sibling=Yt,Et=Yt,qe=Mr}if(Xe===ee.length)return u(X,qe),Ht&&Hl(X,Xe),Ve;if(qe===null){for(;Xe<ee.length;Xe++)qe=ge(X,ee[Xe],fe),qe!==null&&(G=T(qe,G,Xe),Et===null?Ve=qe:Et.sibling=qe,Et=qe);return Ht&&Hl(X,Xe),Ve}for(qe=h(qe);Xe<ee.length;Xe++)Mr=oe(qe,X,Xe,ee[Xe],fe),Mr!==null&&(i&&Mr.alternate!==null&&qe.delete(Mr.key===null?Xe:Mr.key),G=T(Mr,G,Xe),Et===null?Ve=Mr:Et.sibling=Mr,Et=Mr);return i&&qe.forEach(function($o){return s(X,$o)}),Ht&&Hl(X,Xe),Ve}function ct(X,G,ee,fe){if(ee==null)throw Error(r(151));for(var Ve=null,Et=null,qe=G,Xe=G=0,Mr=null,Yt=ee.next();qe!==null&&!Yt.done;Xe++,Yt=ee.next()){qe.index>Xe?(Mr=qe,qe=null):Mr=qe.sibling;var $o=ne(X,qe,Yt.value,fe);if($o===null){qe===null&&(qe=Mr);break}i&&qe&&$o.alternate===null&&s(X,qe),G=T($o,G,Xe),Et===null?Ve=$o:Et.sibling=$o,Et=$o,qe=Mr}if(Yt.done)return u(X,qe),Ht&&Hl(X,Xe),Ve;if(qe===null){for(;!Yt.done;Xe++,Yt=ee.next())Yt=ge(X,Yt.value,fe),Yt!==null&&(G=T(Yt,G,Xe),Et===null?Ve=Yt:Et.sibling=Yt,Et=Yt);return Ht&&Hl(X,Xe),Ve}for(qe=h(qe);!Yt.done;Xe++,Yt=ee.next())Yt=oe(qe,X,Xe,Yt.value,fe),Yt!==null&&(i&&Yt.alternate!==null&&qe.delete(Yt.key===null?Xe:Yt.key),G=T(Yt,G,Xe),Et===null?Ve=Yt:Et.sibling=Yt,Et=Yt);return i&&qe.forEach(function(FN){return s(X,FN)}),Ht&&Hl(X,Xe),Ve}function Kn(X,G,ee,fe){if(typeof ee=="object"&&ee!==null&&ee.type===f&&ee.key===null&&(ee=ee.props.children),typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case l:e:{for(var Ve=ee.key;G!==null;){if(G.key===Ve){if(Ve=ee.type,Ve===f){if(G.tag===7){u(X,G.sibling),fe=g(G,ee.props.children),fe.return=X,X=fe;break e}}else if(G.elementType===Ve||typeof Ve=="object"&&Ve!==null&&Ve.$$typeof===M&&sE(Ve)===G.type){u(X,G.sibling),fe=g(G,ee.props),Xh(fe,ee),fe.return=X,X=fe;break e}u(X,G);break}else s(X,G);G=G.sibling}ee.type===f?(fe=nu(ee.props.children,X.mode,fe,ee.key),fe.return=X,X=fe):(fe=zm(ee.type,ee.key,ee.props,null,X.mode,fe),Xh(fe,ee),fe.return=X,X=fe)}return C(X);case c:e:{for(Ve=ee.key;G!==null;){if(G.key===Ve)if(G.tag===4&&G.stateNode.containerInfo===ee.containerInfo&&G.stateNode.implementation===ee.implementation){u(X,G.sibling),fe=g(G,ee.children||[]),fe.return=X,X=fe;break e}else{u(X,G);break}else s(X,G);G=G.sibling}fe=N0(ee,X.mode,fe),fe.return=X,X=fe}return C(X);case M:return Ve=ee._init,ee=Ve(ee._payload),Kn(X,G,ee,fe)}if(_e(ee))return je(X,G,ee,fe);if(H(ee)){if(Ve=H(ee),typeof Ve!="function")throw Error(r(150));return ee=Ve.call(ee),ct(X,G,ee,fe)}if(typeof ee.then=="function")return Kn(X,G,Tm(ee),fe);if(ee.$$typeof===E)return Kn(X,G,Lm(X,ee),fe);wm(X,ee)}return typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint"?(ee=""+ee,G!==null&&G.tag===6?(u(X,G.sibling),fe=g(G,ee),fe.return=X,X=fe):(u(X,G),fe=O0(ee,X.mode,fe),fe.return=X,X=fe),C(X)):u(X,G)}return function(X,G,ee,fe){try{Zh=0;var Ve=Kn(X,G,ee,fe);return nc=null,Ve}catch(qe){if(qe===Qh)throw qe;var Et=pa(29,qe,null,X.mode);return Et.lanes=fe,Et.return=X,Et}finally{}}}var Gl=oE(!0),lE=oE(!1),rc=lt(null),Em=lt(0);function uE(i,s){i=Ks,Ge(Em,i),Ge(rc,s),Ks=i|s.baseLanes}function Vy(){Ge(Em,Ks),Ge(rc,rc.current)}function Uy(){Ks=Em.current,Ye(rc),Ye(Em)}var fa=lt(null),ts=null;function So(i){var s=i.alternate;Ge(yr,yr.current&1),Ge(fa,i),ts===null&&(s===null||rc.current!==null||s.memoizedState!==null)&&(ts=i)}function cE(i){if(i.tag===22){if(Ge(yr,yr.current),Ge(fa,i),ts===null){var s=i.alternate;s!==null&&s.memoizedState!==null&&(ts=i)}}else Ao()}function Ao(){Ge(yr,yr.current),Ge(fa,fa.current)}function zs(i){Ye(fa),ts===i&&(ts=null),Ye(yr)}var yr=lt(0);function bm(i){for(var s=i;s!==null;){if(s.tag===13){var u=s.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var IO=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(u,h){i.push(h)}};this.abort=function(){s.aborted=!0,i.forEach(function(u){return u()})}},OO=n.unstable_scheduleCallback,NO=n.unstable_NormalPriority,vr={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function zy(){return{controller:new IO,data:new Map,refCount:0}}function Wh(i){i.refCount--,i.refCount===0&&OO(NO,function(){i.controller.abort()})}var Jh=null,By=0,ic=0,ac=null;function MO(i,s){if(Jh===null){var u=Jh=[];By=0,ic=Y0(),ac={status:"pending",value:void 0,then:function(h){u.push(h)}}}return By++,s.then(hE,hE),s}function hE(){if(--By===0&&Jh!==null){ac!==null&&(ac.status="fulfilled");var i=Jh;Jh=null,ic=0,ac=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function xO(i,s){var u=[],h={status:"pending",value:null,reason:null,then:function(g){u.push(g)}};return i.then(function(){h.status="fulfilled",h.value=s;for(var g=0;g<u.length;g++)(0,u[g])(s)},function(g){for(h.status="rejected",h.reason=g,g=0;g<u.length;g++)(0,u[g])(void 0)}),h}var fE=O.S;O.S=function(i,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&MO(i,s),fE!==null&&fE(i,s)};var Ql=lt(null);function jy(){var i=Ql.current;return i!==null?i:vn.pooledCache}function Rm(i,s){s===null?Ge(Ql,Ql.current):Ge(Ql,s.pool)}function dE(){var i=jy();return i===null?null:{parent:vr._currentValue,pool:i}}var Co=0,_t=null,ln=null,or=null,Sm=!1,sc=!1,Kl=!1,Am=0,ef=0,oc=null,kO=0;function er(){throw Error(r(321))}function Fy(i,s){if(s===null)return!1;for(var u=0;u<s.length&&u<i.length;u++)if(!Fi(i[u],s[u]))return!1;return!0}function $y(i,s,u,h,g,T){return Co=T,_t=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,O.H=i===null||i.memoizedState===null?Zl:Do,Kl=!1,T=u(h,g),Kl=!1,sc&&(T=pE(s,u,h,g)),mE(i),T}function mE(i){O.H=ns;var s=ln!==null&&ln.next!==null;if(Co=0,or=ln=_t=null,Sm=!1,ef=0,oc=null,s)throw Error(r(300));i===null||Or||(i=i.dependencies,i!==null&&Pm(i)&&(Or=!0))}function pE(i,s,u,h){_t=i;var g=0;do{if(sc&&(oc=null),ef=0,sc=!1,25<=g)throw Error(r(301));if(g+=1,or=ln=null,i.updateQueue!=null){var T=i.updateQueue;T.lastEffect=null,T.events=null,T.stores=null,T.memoCache!=null&&(T.memoCache.index=0)}O.H=Xl,T=s(u,h)}while(sc);return T}function PO(){var i=O.H,s=i.useState()[0];return s=typeof s.then=="function"?tf(s):s,i=i.useState()[0],(ln!==null?ln.memoizedState:null)!==i&&(_t.flags|=1024),s}function qy(){var i=Am!==0;return Am=0,i}function Hy(i,s,u){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~u}function Yy(i){if(Sm){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Sm=!1}Co=0,or=ln=_t=null,sc=!1,ef=Am=0,oc=null}function Mi(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return or===null?_t.memoizedState=or=i:or=or.next=i,or}function lr(){if(ln===null){var i=_t.alternate;i=i!==null?i.memoizedState:null}else i=ln.next;var s=or===null?_t.memoizedState:or.next;if(s!==null)or=s,ln=i;else{if(i===null)throw _t.alternate===null?Error(r(467)):Error(r(310));ln=i,i={memoizedState:ln.memoizedState,baseState:ln.baseState,baseQueue:ln.baseQueue,queue:ln.queue,next:null},or===null?_t.memoizedState=or=i:or=or.next=i}return or}var Cm;Cm=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function tf(i){var s=ef;return ef+=1,oc===null&&(oc=[]),i=iE(oc,i,s),s=_t,(or===null?s.memoizedState:or.next)===null&&(s=s.alternate,O.H=s===null||s.memoizedState===null?Zl:Do),i}function Dm(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return tf(i);if(i.$$typeof===E)return si(i)}throw Error(r(438,String(i)))}function Gy(i){var s=null,u=_t.updateQueue;if(u!==null&&(s=u.memoCache),s==null){var h=_t.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(s={data:h.data.map(function(g){return g.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),u===null&&(u=Cm(),_t.updateQueue=u),u.memoCache=s,u=s.data[s.index],u===void 0)for(u=s.data[s.index]=Array(i),h=0;h<i;h++)u[h]=$;return s.index++,u}function Bs(i,s){return typeof s=="function"?s(i):s}function Im(i){var s=lr();return Qy(s,ln,i)}function Qy(i,s,u){var h=i.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=u;var g=i.baseQueue,T=h.pending;if(T!==null){if(g!==null){var C=g.next;g.next=T.next,T.next=C}s.baseQueue=g=T,h.pending=null}if(T=i.baseState,g===null)i.memoizedState=T;else{s=g.next;var k=C=null,j=null,Q=s,ue=!1;do{var ge=Q.lane&-536870913;if(ge!==Q.lane?(Vt&ge)===ge:(Co&ge)===ge){var ne=Q.revertLane;if(ne===0)j!==null&&(j=j.next={lane:0,revertLane:0,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),ge===ic&&(ue=!0);else if((Co&ne)===ne){Q=Q.next,ne===ic&&(ue=!0);continue}else ge={lane:0,revertLane:Q.revertLane,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},j===null?(k=j=ge,C=T):j=j.next=ge,_t.lanes|=ne,Vo|=ne;ge=Q.action,Kl&&u(T,ge),T=Q.hasEagerState?Q.eagerState:u(T,ge)}else ne={lane:ge,revertLane:Q.revertLane,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},j===null?(k=j=ne,C=T):j=j.next=ne,_t.lanes|=ge,Vo|=ge;Q=Q.next}while(Q!==null&&Q!==s);if(j===null?C=T:j.next=k,!Fi(T,i.memoizedState)&&(Or=!0,ue&&(u=ac,u!==null)))throw u;i.memoizedState=T,i.baseState=C,i.baseQueue=j,h.lastRenderedState=T}return g===null&&(h.lanes=0),[i.memoizedState,h.dispatch]}function Ky(i){var s=lr(),u=s.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=i;var h=u.dispatch,g=u.pending,T=s.memoizedState;if(g!==null){u.pending=null;var C=g=g.next;do T=i(T,C.action),C=C.next;while(C!==g);Fi(T,s.memoizedState)||(Or=!0),s.memoizedState=T,s.baseQueue===null&&(s.baseState=T),u.lastRenderedState=T}return[T,h]}function gE(i,s,u){var h=_t,g=lr(),T=Ht;if(T){if(u===void 0)throw Error(r(407));u=u()}else u=s();var C=!Fi((ln||g).memoizedState,u);if(C&&(g.memoizedState=u,Or=!0),g=g.queue,Wy(_E.bind(null,h,g,i),[i]),g.getSnapshot!==s||C||or!==null&&or.memoizedState.tag&1){if(h.flags|=2048,lc(9,vE.bind(null,h,g,u,s),{destroy:void 0},null),vn===null)throw Error(r(349));T||(Co&60)!==0||yE(h,s,u)}return u}function yE(i,s,u){i.flags|=16384,i={getSnapshot:s,value:u},s=_t.updateQueue,s===null?(s=Cm(),_t.updateQueue=s,s.stores=[i]):(u=s.stores,u===null?s.stores=[i]:u.push(i))}function vE(i,s,u,h){s.value=u,s.getSnapshot=h,TE(s)&&wE(i)}function _E(i,s,u){return u(function(){TE(s)&&wE(i)})}function TE(i){var s=i.getSnapshot;i=i.value;try{var u=s();return!Fi(i,u)}catch{return!0}}function wE(i){var s=Ro(i,2);s!==null&&wi(s,i,2)}function Zy(i){var s=Mi();if(typeof i=="function"){var u=i;if(i=u(),Kl){pt(!0);try{u()}finally{pt(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bs,lastRenderedState:i},s}function EE(i,s,u,h){return i.baseState=u,Qy(i,ln,typeof h=="function"?h:Bs)}function LO(i,s,u,h,g){if(Mm(i))throw Error(r(485));if(i=s.action,i!==null){var T={payload:g,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){T.listeners.push(C)}};O.T!==null?u(!0):T.isTransition=!1,h(T),u=s.pending,u===null?(T.next=s.pending=T,bE(s,T)):(T.next=u.next,s.pending=u.next=T)}}function bE(i,s){var u=s.action,h=s.payload,g=i.state;if(s.isTransition){var T=O.T,C={};O.T=C;try{var k=u(g,h),j=O.S;j!==null&&j(C,k),RE(i,s,k)}catch(Q){Xy(i,s,Q)}finally{O.T=T}}else try{T=u(g,h),RE(i,s,T)}catch(Q){Xy(i,s,Q)}}function RE(i,s,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(h){SE(i,s,h)},function(h){return Xy(i,s,h)}):SE(i,s,u)}function SE(i,s,u){s.status="fulfilled",s.value=u,AE(s),i.state=u,s=i.pending,s!==null&&(u=s.next,u===s?i.pending=null:(u=u.next,s.next=u,bE(i,u)))}function Xy(i,s,u){var h=i.pending;if(i.pending=null,h!==null){h=h.next;do s.status="rejected",s.reason=u,AE(s),s=s.next;while(s!==h)}i.action=null}function AE(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function CE(i,s){return s}function DE(i,s){if(Ht){var u=vn.formState;if(u!==null){e:{var h=_t;if(Ht){if(jr){t:{for(var g=jr,T=es;g.nodeType!==8;){if(!T){g=null;break t}if(g=Oa(g.nextSibling),g===null){g=null;break t}}T=g.data,g=T==="F!"||T==="F"?g:null}if(g){jr=Oa(g.nextSibling),h=g.data==="F!";break e}}Yl(h)}h=!1}h&&(s=u[0])}}return u=Mi(),u.memoizedState=u.baseState=s,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:CE,lastRenderedState:s},u.queue=h,u=YE.bind(null,_t,h),h.dispatch=u,h=Zy(!1),T=r0.bind(null,_t,!1,h.queue),h=Mi(),g={state:s,dispatch:null,action:i,pending:null},h.queue=g,u=LO.bind(null,_t,g,T,u),g.dispatch=u,h.memoizedState=i,[s,u,!1]}function IE(i){var s=lr();return OE(s,ln,i)}function OE(i,s,u){s=Qy(i,s,CE)[0],i=Im(Bs)[0],s=typeof s=="object"&&s!==null&&typeof s.then=="function"?tf(s):s;var h=lr(),g=h.queue,T=g.dispatch;return u!==h.memoizedState&&(_t.flags|=2048,lc(9,VO.bind(null,g,u),{destroy:void 0},null)),[s,T,i]}function VO(i,s){i.action=s}function NE(i){var s=lr(),u=ln;if(u!==null)return OE(s,u,i);lr(),s=s.memoizedState,u=lr();var h=u.queue.dispatch;return u.memoizedState=i,[s,h,!1]}function lc(i,s,u,h){return i={tag:i,create:s,inst:u,deps:h,next:null},s=_t.updateQueue,s===null&&(s=Cm(),_t.updateQueue=s),u=s.lastEffect,u===null?s.lastEffect=i.next=i:(h=u.next,u.next=i,i.next=h,s.lastEffect=i),i}function ME(){return lr().memoizedState}function Om(i,s,u,h){var g=Mi();_t.flags|=i,g.memoizedState=lc(1|s,u,{destroy:void 0},h===void 0?null:h)}function Nm(i,s,u,h){var g=lr();h=h===void 0?null:h;var T=g.memoizedState.inst;ln!==null&&h!==null&&Fy(h,ln.memoizedState.deps)?g.memoizedState=lc(s,u,T,h):(_t.flags|=i,g.memoizedState=lc(1|s,u,T,h))}function xE(i,s){Om(8390656,8,i,s)}function Wy(i,s){Nm(2048,8,i,s)}function kE(i,s){return Nm(4,2,i,s)}function PE(i,s){return Nm(4,4,i,s)}function LE(i,s){if(typeof s=="function"){i=i();var u=s(i);return function(){typeof u=="function"?u():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function VE(i,s,u){u=u!=null?u.concat([i]):null,Nm(4,4,LE.bind(null,s,i),u)}function Jy(){}function UE(i,s){var u=lr();s=s===void 0?null:s;var h=u.memoizedState;return s!==null&&Fy(s,h[1])?h[0]:(u.memoizedState=[i,s],i)}function zE(i,s){var u=lr();s=s===void 0?null:s;var h=u.memoizedState;if(s!==null&&Fy(s,h[1]))return h[0];if(h=i(),Kl){pt(!0);try{i()}finally{pt(!1)}}return u.memoizedState=[h,s],h}function e0(i,s,u){return u===void 0||(Co&1073741824)!==0?i.memoizedState=s:(i.memoizedState=u,i=jb(),_t.lanes|=i,Vo|=i,u)}function BE(i,s,u,h){return Fi(u,s)?u:rc.current!==null?(i=e0(i,u,h),Fi(i,s)||(Or=!0),i):(Co&42)===0?(Or=!0,i.memoizedState=u):(i=jb(),_t.lanes|=i,Vo|=i,s)}function jE(i,s,u,h,g){var T=ve.p;ve.p=T!==0&&8>T?T:8;var C=O.T,k={};O.T=k,r0(i,!1,s,u);try{var j=g(),Q=O.S;if(Q!==null&&Q(k,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var ue=xO(j,h);nf(i,s,ue,Yi(i))}else nf(i,s,h,Yi(i))}catch(ge){nf(i,s,{then:function(){},status:"rejected",reason:ge},Yi())}finally{ve.p=T,O.T=C}}function UO(){}function t0(i,s,u,h){if(i.tag!==5)throw Error(r(476));var g=FE(i).queue;jE(i,g,s,Ae,u===null?UO:function(){return $E(i),u(h)})}function FE(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:Ae,baseState:Ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bs,lastRenderedState:Ae},next:null};var u={};return s.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bs,lastRenderedState:u},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function $E(i){var s=FE(i).next.queue;nf(i,s,{},Yi())}function n0(){return si(bf)}function qE(){return lr().memoizedState}function HE(){return lr().memoizedState}function zO(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var u=Yi();i=No(u);var h=Mo(s,i,u);h!==null&&(wi(h,s,u),sf(h,s,u)),s={cache:zy()},i.payload=s;return}s=s.return}}function BO(i,s,u){var h=Yi();u={lane:h,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},Mm(i)?GE(s,u):(u=My(i,s,u,h),u!==null&&(wi(u,i,h),QE(u,s,h)))}function YE(i,s,u){var h=Yi();nf(i,s,u,h)}function nf(i,s,u,h){var g={lane:h,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(Mm(i))GE(s,g);else{var T=i.alternate;if(i.lanes===0&&(T===null||T.lanes===0)&&(T=s.lastRenderedReducer,T!==null))try{var C=s.lastRenderedState,k=T(C,u);if(g.hasEagerState=!0,g.eagerState=k,Fi(k,C))return pm(i,s,g,0),vn===null&&mm(),!1}catch{}finally{}if(u=My(i,s,g,h),u!==null)return wi(u,i,h),QE(u,s,h),!0}return!1}function r0(i,s,u,h){if(h={lane:2,revertLane:Y0(),action:h,hasEagerState:!1,eagerState:null,next:null},Mm(i)){if(s)throw Error(r(479))}else s=My(i,u,h,2),s!==null&&wi(s,i,2)}function Mm(i){var s=i.alternate;return i===_t||s!==null&&s===_t}function GE(i,s){sc=Sm=!0;var u=i.pending;u===null?s.next=s:(s.next=u.next,u.next=s),i.pending=s}function QE(i,s,u){if((u&4194176)!==0){var h=s.lanes;h&=i.pendingLanes,u|=h,s.lanes=u,Fe(i,u)}}var ns={readContext:si,use:Dm,useCallback:er,useContext:er,useEffect:er,useImperativeHandle:er,useLayoutEffect:er,useInsertionEffect:er,useMemo:er,useReducer:er,useRef:er,useState:er,useDebugValue:er,useDeferredValue:er,useTransition:er,useSyncExternalStore:er,useId:er};ns.useCacheRefresh=er,ns.useMemoCache=er,ns.useHostTransitionStatus=er,ns.useFormState=er,ns.useActionState=er,ns.useOptimistic=er;var Zl={readContext:si,use:Dm,useCallback:function(i,s){return Mi().memoizedState=[i,s===void 0?null:s],i},useContext:si,useEffect:xE,useImperativeHandle:function(i,s,u){u=u!=null?u.concat([i]):null,Om(4194308,4,LE.bind(null,s,i),u)},useLayoutEffect:function(i,s){return Om(4194308,4,i,s)},useInsertionEffect:function(i,s){Om(4,2,i,s)},useMemo:function(i,s){var u=Mi();s=s===void 0?null:s;var h=i();if(Kl){pt(!0);try{i()}finally{pt(!1)}}return u.memoizedState=[h,s],h},useReducer:function(i,s,u){var h=Mi();if(u!==void 0){var g=u(s);if(Kl){pt(!0);try{u(s)}finally{pt(!1)}}}else g=s;return h.memoizedState=h.baseState=g,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:g},h.queue=i,i=i.dispatch=BO.bind(null,_t,i),[h.memoizedState,i]},useRef:function(i){var s=Mi();return i={current:i},s.memoizedState=i},useState:function(i){i=Zy(i);var s=i.queue,u=YE.bind(null,_t,s);return s.dispatch=u,[i.memoizedState,u]},useDebugValue:Jy,useDeferredValue:function(i,s){var u=Mi();return e0(u,i,s)},useTransition:function(){var i=Zy(!1);return i=jE.bind(null,_t,i.queue,!0,!1),Mi().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,u){var h=_t,g=Mi();if(Ht){if(u===void 0)throw Error(r(407));u=u()}else{if(u=s(),vn===null)throw Error(r(349));(Vt&60)!==0||yE(h,s,u)}g.memoizedState=u;var T={value:u,getSnapshot:s};return g.queue=T,xE(_E.bind(null,h,T,i),[i]),h.flags|=2048,lc(9,vE.bind(null,h,T,u,s),{destroy:void 0},null),u},useId:function(){var i=Mi(),s=vn.identifierPrefix;if(Ht){var u=Us,h=Vs;u=(h&~(1<<32-Nt(h)-1)).toString(32)+u,s=":"+s+"R"+u,u=Am++,0<u&&(s+="H"+u.toString(32)),s+=":"}else u=kO++,s=":"+s+"r"+u.toString(32)+":";return i.memoizedState=s},useCacheRefresh:function(){return Mi().memoizedState=zO.bind(null,_t)}};Zl.useMemoCache=Gy,Zl.useHostTransitionStatus=n0,Zl.useFormState=DE,Zl.useActionState=DE,Zl.useOptimistic=function(i){var s=Mi();s.memoizedState=s.baseState=i;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=u,s=r0.bind(null,_t,!0,u),u.dispatch=s,[i,s]};var Do={readContext:si,use:Dm,useCallback:UE,useContext:si,useEffect:Wy,useImperativeHandle:VE,useInsertionEffect:kE,useLayoutEffect:PE,useMemo:zE,useReducer:Im,useRef:ME,useState:function(){return Im(Bs)},useDebugValue:Jy,useDeferredValue:function(i,s){var u=lr();return BE(u,ln.memoizedState,i,s)},useTransition:function(){var i=Im(Bs)[0],s=lr().memoizedState;return[typeof i=="boolean"?i:tf(i),s]},useSyncExternalStore:gE,useId:qE};Do.useCacheRefresh=HE,Do.useMemoCache=Gy,Do.useHostTransitionStatus=n0,Do.useFormState=IE,Do.useActionState=IE,Do.useOptimistic=function(i,s){var u=lr();return EE(u,ln,i,s)};var Xl={readContext:si,use:Dm,useCallback:UE,useContext:si,useEffect:Wy,useImperativeHandle:VE,useInsertionEffect:kE,useLayoutEffect:PE,useMemo:zE,useReducer:Ky,useRef:ME,useState:function(){return Ky(Bs)},useDebugValue:Jy,useDeferredValue:function(i,s){var u=lr();return ln===null?e0(u,i,s):BE(u,ln.memoizedState,i,s)},useTransition:function(){var i=Ky(Bs)[0],s=lr().memoizedState;return[typeof i=="boolean"?i:tf(i),s]},useSyncExternalStore:gE,useId:qE};Xl.useCacheRefresh=HE,Xl.useMemoCache=Gy,Xl.useHostTransitionStatus=n0,Xl.useFormState=NE,Xl.useActionState=NE,Xl.useOptimistic=function(i,s){var u=lr();return ln!==null?EE(u,ln,i,s):(u.baseState=i,[i,u.queue.dispatch])};function i0(i,s,u,h){s=i.memoizedState,u=u(h,s),u=u==null?s:z({},s,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var a0={isMounted:function(i){return(i=i._reactInternals)?pe(i)===i:!1},enqueueSetState:function(i,s,u){i=i._reactInternals;var h=Yi(),g=No(h);g.payload=s,u!=null&&(g.callback=u),s=Mo(i,g,h),s!==null&&(wi(s,i,h),sf(s,i,h))},enqueueReplaceState:function(i,s,u){i=i._reactInternals;var h=Yi(),g=No(h);g.tag=1,g.payload=s,u!=null&&(g.callback=u),s=Mo(i,g,h),s!==null&&(wi(s,i,h),sf(s,i,h))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var u=Yi(),h=No(u);h.tag=2,s!=null&&(h.callback=s),s=Mo(i,h,u),s!==null&&(wi(s,i,u),sf(s,i,u))}};function KE(i,s,u,h,g,T,C){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,T,C):s.prototype&&s.prototype.isPureReactComponent?!$h(u,h)||!$h(g,T):!0}function ZE(i,s,u,h){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(u,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(u,h),s.state!==i&&a0.enqueueReplaceState(s,s.state,null)}function Wl(i,s){var u=s;if("ref"in s){u={};for(var h in s)h!=="ref"&&(u[h]=s[h])}if(i=i.defaultProps){u===s&&(u=z({},u));for(var g in i)u[g]===void 0&&(u[g]=i[g])}return u}var xm=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function XE(i){xm(i)}function WE(i){console.error(i)}function JE(i){xm(i)}function km(i,s){try{var u=i.onUncaughtError;u(s.value,{componentStack:s.stack})}catch(h){setTimeout(function(){throw h})}}function eb(i,s,u){try{var h=i.onCaughtError;h(u.value,{componentStack:u.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function s0(i,s,u){return u=No(u),u.tag=3,u.payload={element:null},u.callback=function(){km(i,s)},u}function tb(i){return i=No(i),i.tag=3,i}function nb(i,s,u,h){var g=u.type.getDerivedStateFromError;if(typeof g=="function"){var T=h.value;i.payload=function(){return g(T)},i.callback=function(){eb(s,u,h)}}var C=u.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(i.callback=function(){eb(s,u,h),typeof g!="function"&&(Uo===null?Uo=new Set([this]):Uo.add(this));var k=h.stack;this.componentDidCatch(h.value,{componentStack:k!==null?k:""})})}function jO(i,s,u,h,g){if(u.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(s=u.alternate,s!==null&&af(s,u,g,!0),u=fa.current,u!==null){switch(u.tag){case 13:return ts===null?j0():u.alternate===null&&Qn===0&&(Qn=3),u.flags&=-257,u.flags|=65536,u.lanes=g,h===Ly?u.flags|=16384:(s=u.updateQueue,s===null?u.updateQueue=new Set([h]):s.add(h),$0(i,h,g)),!1;case 22:return u.flags|=65536,h===Ly?u.flags|=16384:(s=u.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([h])},u.updateQueue=s):(u=s.retryQueue,u===null?s.retryQueue=new Set([h]):u.add(h)),$0(i,h,g)),!1}throw Error(r(435,u.tag))}return $0(i,h,g),j0(),!1}if(Ht)return s=fa.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=g,h!==Py&&(i=Error(r(422),{cause:h}),Gh(ua(i,u)))):(h!==Py&&(s=Error(r(423),{cause:h}),Gh(ua(s,u))),i=i.current.alternate,i.flags|=65536,g&=-g,i.lanes|=g,h=ua(h,u),g=s0(i.stateNode,h,g),w0(i,g),Qn!==4&&(Qn=2)),!1;var T=Error(r(520),{cause:h});if(T=ua(T,u),mf===null?mf=[T]:mf.push(T),Qn!==4&&(Qn=2),s===null)return!0;h=ua(h,u),u=s;do{switch(u.tag){case 3:return u.flags|=65536,i=g&-g,u.lanes|=i,i=s0(u.stateNode,h,i),w0(u,i),!1;case 1:if(s=u.type,T=u.stateNode,(u.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(Uo===null||!Uo.has(T))))return u.flags|=65536,g&=-g,u.lanes|=g,g=tb(g),nb(g,i,u,h),w0(u,g),!1}u=u.return}while(u!==null);return!1}var rb=Error(r(461)),Or=!1;function Fr(i,s,u,h){s.child=i===null?lE(s,null,u,h):Gl(s,i.child,u,h)}function ib(i,s,u,h,g){u=u.render;var T=s.ref;if("ref"in h){var C={};for(var k in h)k!=="ref"&&(C[k]=h[k])}else C=h;return eu(s),h=$y(i,s,u,C,T,g),k=qy(),i!==null&&!Or?(Hy(i,s,g),js(i,s,g)):(Ht&&k&&xy(s),s.flags|=1,Fr(i,s,h,g),s.child)}function ab(i,s,u,h,g){if(i===null){var T=u.type;return typeof T=="function"&&!I0(T)&&T.defaultProps===void 0&&u.compare===null?(s.tag=15,s.type=T,sb(i,s,T,h,g)):(i=zm(u.type,null,h,s,s.mode,g),i.ref=s.ref,i.return=s,s.child=i)}if(T=i.child,!p0(i,g)){var C=T.memoizedProps;if(u=u.compare,u=u!==null?u:$h,u(C,h)&&i.ref===s.ref)return js(i,s,g)}return s.flags|=1,i=Lo(T,h),i.ref=s.ref,i.return=s,s.child=i}function sb(i,s,u,h,g){if(i!==null){var T=i.memoizedProps;if($h(T,h)&&i.ref===s.ref)if(Or=!1,s.pendingProps=h=T,p0(i,g))(i.flags&131072)!==0&&(Or=!0);else return s.lanes=i.lanes,js(i,s,g)}return o0(i,s,u,h,g)}function ob(i,s,u){var h=s.pendingProps,g=h.children,T=(s.stateNode._pendingVisibility&2)!==0,C=i!==null?i.memoizedState:null;if(rf(i,s),h.mode==="hidden"||T){if((s.flags&128)!==0){if(h=C!==null?C.baseLanes|u:u,i!==null){for(g=s.child=i.child,T=0;g!==null;)T=T|g.lanes|g.childLanes,g=g.sibling;s.childLanes=T&~h}else s.childLanes=0,s.child=null;return lb(i,s,h,u)}if((u&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&Rm(s,C!==null?C.cachePool:null),C!==null?uE(s,C):Vy(),cE(s);else return s.lanes=s.childLanes=536870912,lb(i,s,C!==null?C.baseLanes|u:u,u)}else C!==null?(Rm(s,C.cachePool),uE(s,C),Ao(),s.memoizedState=null):(i!==null&&Rm(s,null),Vy(),Ao());return Fr(i,s,g,u),s.child}function lb(i,s,u,h){var g=jy();return g=g===null?null:{parent:vr._currentValue,pool:g},s.memoizedState={baseLanes:u,cachePool:g},i!==null&&Rm(s,null),Vy(),cE(s),i!==null&&af(i,s,h,!0),null}function rf(i,s){var u=s.ref;if(u===null)i!==null&&i.ref!==null&&(s.flags|=2097664);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(i===null||i.ref!==u)&&(s.flags|=2097664)}}function o0(i,s,u,h,g){return eu(s),u=$y(i,s,u,h,void 0,g),h=qy(),i!==null&&!Or?(Hy(i,s,g),js(i,s,g)):(Ht&&h&&xy(s),s.flags|=1,Fr(i,s,u,g),s.child)}function ub(i,s,u,h,g,T){return eu(s),s.updateQueue=null,u=pE(s,h,u,g),mE(i),h=qy(),i!==null&&!Or?(Hy(i,s,T),js(i,s,T)):(Ht&&h&&xy(s),s.flags|=1,Fr(i,s,u,T),s.child)}function cb(i,s,u,h,g){if(eu(s),s.stateNode===null){var T=Ju,C=u.contextType;typeof C=="object"&&C!==null&&(T=si(C)),T=new u(h,T),s.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,T.updater=a0,s.stateNode=T,T._reactInternals=s,T=s.stateNode,T.props=h,T.state=s.memoizedState,T.refs={},_0(s),C=u.contextType,T.context=typeof C=="object"&&C!==null?si(C):Ju,T.state=s.memoizedState,C=u.getDerivedStateFromProps,typeof C=="function"&&(i0(s,u,C,h),T.state=s.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(C=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),C!==T.state&&a0.enqueueReplaceState(T,T.state,null),lf(s,h,T,g),of(),T.state=s.memoizedState),typeof T.componentDidMount=="function"&&(s.flags|=4194308),h=!0}else if(i===null){T=s.stateNode;var k=s.memoizedProps,j=Wl(u,k);T.props=j;var Q=T.context,ue=u.contextType;C=Ju,typeof ue=="object"&&ue!==null&&(C=si(ue));var ge=u.getDerivedStateFromProps;ue=typeof ge=="function"||typeof T.getSnapshotBeforeUpdate=="function",k=s.pendingProps!==k,ue||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(k||Q!==C)&&ZE(s,T,h,C),Oo=!1;var ne=s.memoizedState;T.state=ne,lf(s,h,T,g),of(),Q=s.memoizedState,k||ne!==Q||Oo?(typeof ge=="function"&&(i0(s,u,ge,h),Q=s.memoizedState),(j=Oo||KE(s,u,j,h,ne,Q,C))?(ue||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(s.flags|=4194308)):(typeof T.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=Q),T.props=h,T.state=Q,T.context=C,h=j):(typeof T.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{T=s.stateNode,T0(i,s),C=s.memoizedProps,ue=Wl(u,C),T.props=ue,ge=s.pendingProps,ne=T.context,Q=u.contextType,j=Ju,typeof Q=="object"&&Q!==null&&(j=si(Q)),k=u.getDerivedStateFromProps,(Q=typeof k=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(C!==ge||ne!==j)&&ZE(s,T,h,j),Oo=!1,ne=s.memoizedState,T.state=ne,lf(s,h,T,g),of();var oe=s.memoizedState;C!==ge||ne!==oe||Oo||i!==null&&i.dependencies!==null&&Pm(i.dependencies)?(typeof k=="function"&&(i0(s,u,k,h),oe=s.memoizedState),(ue=Oo||KE(s,u,ue,h,ne,oe,j)||i!==null&&i.dependencies!==null&&Pm(i.dependencies))?(Q||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(h,oe,j),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(h,oe,j)),typeof T.componentDidUpdate=="function"&&(s.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof T.componentDidUpdate!="function"||C===i.memoizedProps&&ne===i.memoizedState||(s.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||C===i.memoizedProps&&ne===i.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=oe),T.props=h,T.state=oe,T.context=j,h=ue):(typeof T.componentDidUpdate!="function"||C===i.memoizedProps&&ne===i.memoizedState||(s.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||C===i.memoizedProps&&ne===i.memoizedState||(s.flags|=1024),h=!1)}return T=h,rf(i,s),h=(s.flags&128)!==0,T||h?(T=s.stateNode,u=h&&typeof u.getDerivedStateFromError!="function"?null:T.render(),s.flags|=1,i!==null&&h?(s.child=Gl(s,i.child,null,g),s.child=Gl(s,null,u,g)):Fr(i,s,u,g),s.memoizedState=T.state,i=s.child):i=js(i,s,g),i}function hb(i,s,u,h){return Yh(),s.flags|=256,Fr(i,s,u,h),s.child}var l0={dehydrated:null,treeContext:null,retryLane:0};function u0(i){return{baseLanes:i,cachePool:dE()}}function c0(i,s,u){return i=i!==null?i.childLanes&~u:0,s&&(i|=ga),i}function fb(i,s,u){var h=s.pendingProps,g=!1,T=(s.flags&128)!==0,C;if((C=T)||(C=i!==null&&i.memoizedState===null?!1:(yr.current&2)!==0),C&&(g=!0,s.flags&=-129),C=(s.flags&32)!==0,s.flags&=-33,i===null){if(Ht){if(g?So(s):Ao(),Ht){var k=jr,j;if(j=k){e:{for(j=k,k=es;j.nodeType!==8;){if(!k){k=null;break e}if(j=Oa(j.nextSibling),j===null){k=null;break e}}k=j}k!==null?(s.memoizedState={dehydrated:k,treeContext:ql!==null?{id:Vs,overflow:Us}:null,retryLane:536870912},j=pa(18,null,null,0),j.stateNode=k,j.return=s,s.child=j,Ti=s,jr=null,j=!0):j=!1}j||Yl(s)}if(k=s.memoizedState,k!==null&&(k=k.dehydrated,k!==null))return k.data==="$!"?s.lanes=16:s.lanes=536870912,null;zs(s)}return k=h.children,h=h.fallback,g?(Ao(),g=s.mode,k=f0({mode:"hidden",children:k},g),h=nu(h,g,u,null),k.return=s,h.return=s,k.sibling=h,s.child=k,g=s.child,g.memoizedState=u0(u),g.childLanes=c0(i,C,u),s.memoizedState=l0,h):(So(s),h0(s,k))}if(j=i.memoizedState,j!==null&&(k=j.dehydrated,k!==null)){if(T)s.flags&256?(So(s),s.flags&=-257,s=d0(i,s,u)):s.memoizedState!==null?(Ao(),s.child=i.child,s.flags|=128,s=null):(Ao(),g=h.fallback,k=s.mode,h=f0({mode:"visible",children:h.children},k),g=nu(g,k,u,null),g.flags|=2,h.return=s,g.return=s,h.sibling=g,s.child=h,Gl(s,i.child,null,u),h=s.child,h.memoizedState=u0(u),h.childLanes=c0(i,C,u),s.memoizedState=l0,s=g);else if(So(s),k.data==="$!"){if(C=k.nextSibling&&k.nextSibling.dataset,C)var Q=C.dgst;C=Q,h=Error(r(419)),h.stack="",h.digest=C,Gh({value:h,source:null,stack:null}),s=d0(i,s,u)}else if(Or||af(i,s,u,!1),C=(u&i.childLanes)!==0,Or||C){if(C=vn,C!==null){if(h=u&-u,(h&42)!==0)h=1;else switch(h){case 2:h=1;break;case 8:h=4;break;case 32:h=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:h=64;break;case 268435456:h=134217728;break;default:h=0}if(h=(h&(C.suspendedLanes|u))!==0?0:h,h!==0&&h!==j.retryLane)throw j.retryLane=h,Ro(i,h),wi(C,i,h),rb}k.data==="$?"||j0(),s=d0(i,s,u)}else k.data==="$?"?(s.flags|=128,s.child=i.child,s=nN.bind(null,i),k._reactRetry=s,s=null):(i=j.treeContext,jr=Oa(k.nextSibling),Ti=s,Ht=!0,Da=null,es=!1,i!==null&&(ca[ha++]=Vs,ca[ha++]=Us,ca[ha++]=ql,Vs=i.id,Us=i.overflow,ql=s),s=h0(s,h.children),s.flags|=4096);return s}return g?(Ao(),g=h.fallback,k=s.mode,j=i.child,Q=j.sibling,h=Lo(j,{mode:"hidden",children:h.children}),h.subtreeFlags=j.subtreeFlags&31457280,Q!==null?g=Lo(Q,g):(g=nu(g,k,u,null),g.flags|=2),g.return=s,h.return=s,h.sibling=g,s.child=h,h=g,g=s.child,k=i.child.memoizedState,k===null?k=u0(u):(j=k.cachePool,j!==null?(Q=vr._currentValue,j=j.parent!==Q?{parent:Q,pool:Q}:j):j=dE(),k={baseLanes:k.baseLanes|u,cachePool:j}),g.memoizedState=k,g.childLanes=c0(i,C,u),s.memoizedState=l0,h):(So(s),u=i.child,i=u.sibling,u=Lo(u,{mode:"visible",children:h.children}),u.return=s,u.sibling=null,i!==null&&(C=s.deletions,C===null?(s.deletions=[i],s.flags|=16):C.push(i)),s.child=u,s.memoizedState=null,u)}function h0(i,s){return s=f0({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function f0(i,s){return Ub(i,s,0,null)}function d0(i,s,u){return Gl(s,i.child,null,u),i=h0(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function db(i,s,u){i.lanes|=s;var h=i.alternate;h!==null&&(h.lanes|=s),y0(i.return,s,u)}function m0(i,s,u,h,g){var T=i.memoizedState;T===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:u,tailMode:g}:(T.isBackwards=s,T.rendering=null,T.renderingStartTime=0,T.last=h,T.tail=u,T.tailMode=g)}function mb(i,s,u){var h=s.pendingProps,g=h.revealOrder,T=h.tail;if(Fr(i,s,h.children,u),h=yr.current,(h&2)!==0)h=h&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&db(i,u,s);else if(i.tag===19)db(i,u,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}h&=1}switch(Ge(yr,h),g){case"forwards":for(u=s.child,g=null;u!==null;)i=u.alternate,i!==null&&bm(i)===null&&(g=u),u=u.sibling;u=g,u===null?(g=s.child,s.child=null):(g=u.sibling,u.sibling=null),m0(s,!1,g,u,T);break;case"backwards":for(u=null,g=s.child,s.child=null;g!==null;){if(i=g.alternate,i!==null&&bm(i)===null){s.child=g;break}i=g.sibling,g.sibling=u,u=g,g=i}m0(s,!0,u,null,T);break;case"together":m0(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function js(i,s,u){if(i!==null&&(s.dependencies=i.dependencies),Vo|=s.lanes,(u&s.childLanes)===0)if(i!==null){if(af(i,s,u,!1),(u&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,u=Lo(i,i.pendingProps),s.child=u,u.return=s;i.sibling!==null;)i=i.sibling,u=u.sibling=Lo(i,i.pendingProps),u.return=s;u.sibling=null}return s.child}function p0(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&Pm(i)))}function FO(i,s,u){switch(s.tag){case 3:$n(s,s.stateNode.containerInfo),Io(s,vr,i.memoizedState.cache),Yh();break;case 27:case 5:qn(s);break;case 4:$n(s,s.stateNode.containerInfo);break;case 10:Io(s,s.type,s.memoizedProps.value);break;case 13:var h=s.memoizedState;if(h!==null)return h.dehydrated!==null?(So(s),s.flags|=128,null):(u&s.child.childLanes)!==0?fb(i,s,u):(So(s),i=js(i,s,u),i!==null?i.sibling:null);So(s);break;case 19:var g=(i.flags&128)!==0;if(h=(u&s.childLanes)!==0,h||(af(i,s,u,!1),h=(u&s.childLanes)!==0),g){if(h)return mb(i,s,u);s.flags|=128}if(g=s.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),Ge(yr,yr.current),h)break;return null;case 22:case 23:return s.lanes=0,ob(i,s,u);case 24:Io(s,vr,i.memoizedState.cache)}return js(i,s,u)}function pb(i,s,u){if(i!==null)if(i.memoizedProps!==s.pendingProps)Or=!0;else{if(!p0(i,u)&&(s.flags&128)===0)return Or=!1,FO(i,s,u);Or=(i.flags&131072)!==0}else Or=!1,Ht&&(s.flags&1048576)!==0&&Jw(s,vm,s.index);switch(s.lanes=0,s.tag){case 16:e:{i=s.pendingProps;var h=s.elementType,g=h._init;if(h=g(h._payload),s.type=h,typeof h=="function")I0(h)?(i=Wl(h,i),s.tag=1,s=cb(null,s,h,i,u)):(s.tag=0,s=o0(null,s,h,i,u));else{if(h!=null){if(g=h.$$typeof,g===R){s.tag=11,s=ib(null,s,h,i,u);break e}else if(g===N){s.tag=14,s=ab(null,s,h,i,u);break e}}throw s=I(h)||h,Error(r(306,s,""))}}return s;case 0:return o0(i,s,s.type,s.pendingProps,u);case 1:return h=s.type,g=Wl(h,s.pendingProps),cb(i,s,h,g,u);case 3:e:{if($n(s,s.stateNode.containerInfo),i===null)throw Error(r(387));var T=s.pendingProps;g=s.memoizedState,h=g.element,T0(i,s),lf(s,T,null,u);var C=s.memoizedState;if(T=C.cache,Io(s,vr,T),T!==g.cache&&v0(s,[vr],u,!0),of(),T=C.element,g.isDehydrated)if(g={element:T,isDehydrated:!1,cache:C.cache},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){s=hb(i,s,T,u);break e}else if(T!==h){h=ua(Error(r(424)),s),Gh(h),s=hb(i,s,T,u);break e}else for(jr=Oa(s.stateNode.containerInfo.firstChild),Ti=s,Ht=!0,Da=null,es=!0,u=lE(s,null,T,u),s.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Yh(),T===h){s=js(i,s,u);break e}Fr(i,s,T,u)}s=s.child}return s;case 26:return rf(i,s),i===null?(u=v1(s.type,null,s.pendingProps,null))?s.memoizedState=u:Ht||(u=s.type,i=s.pendingProps,h=Xm(mt.current).createElement(u),h[Pe]=s,h[Qe]=i,$r(h,u,i),Qt(h),s.stateNode=h):s.memoizedState=v1(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return qn(s),i===null&&Ht&&(h=s.stateNode=p1(s.type,s.pendingProps,mt.current),Ti=s,es=!0,jr=Oa(h.firstChild)),h=s.pendingProps.children,i!==null||Ht?Fr(i,s,h,u):s.child=Gl(s,null,h,u),rf(i,s),s.child;case 5:return i===null&&Ht&&((g=h=jr)&&(h=vN(h,s.type,s.pendingProps,es),h!==null?(s.stateNode=h,Ti=s,jr=Oa(h.firstChild),es=!1,g=!0):g=!1),g||Yl(s)),qn(s),g=s.type,T=s.pendingProps,C=i!==null?i.memoizedProps:null,h=T.children,tv(g,T)?h=null:C!==null&&tv(g,C)&&(s.flags|=32),s.memoizedState!==null&&(g=$y(i,s,PO,null,null,u),bf._currentValue=g),rf(i,s),Fr(i,s,h,u),s.child;case 6:return i===null&&Ht&&((i=u=jr)&&(u=_N(u,s.pendingProps,es),u!==null?(s.stateNode=u,Ti=s,jr=null,i=!0):i=!1),i||Yl(s)),null;case 13:return fb(i,s,u);case 4:return $n(s,s.stateNode.containerInfo),h=s.pendingProps,i===null?s.child=Gl(s,null,h,u):Fr(i,s,h,u),s.child;case 11:return ib(i,s,s.type,s.pendingProps,u);case 7:return Fr(i,s,s.pendingProps,u),s.child;case 8:return Fr(i,s,s.pendingProps.children,u),s.child;case 12:return Fr(i,s,s.pendingProps.children,u),s.child;case 10:return h=s.pendingProps,Io(s,s.type,h.value),Fr(i,s,h.children,u),s.child;case 9:return g=s.type._context,h=s.pendingProps.children,eu(s),g=si(g),h=h(g),s.flags|=1,Fr(i,s,h,u),s.child;case 14:return ab(i,s,s.type,s.pendingProps,u);case 15:return sb(i,s,s.type,s.pendingProps,u);case 19:return mb(i,s,u);case 22:return ob(i,s,u);case 24:return eu(s),h=si(vr),i===null?(g=jy(),g===null&&(g=vn,T=zy(),g.pooledCache=T,T.refCount++,T!==null&&(g.pooledCacheLanes|=u),g=T),s.memoizedState={parent:h,cache:g},_0(s),Io(s,vr,g)):((i.lanes&u)!==0&&(T0(i,s),lf(s,null,null,u),of()),g=i.memoizedState,T=s.memoizedState,g.parent!==h?(g={parent:h,cache:h},s.memoizedState=g,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=g),Io(s,vr,h)):(h=T.cache,Io(s,vr,h),h!==g.cache&&v0(s,[vr],u,!0))),Fr(i,s,s.pendingProps.children,u),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}var g0=lt(null),Jl=null,Fs=null;function Io(i,s,u){Ge(g0,s._currentValue),s._currentValue=u}function $s(i){i._currentValue=g0.current,Ye(g0)}function y0(i,s,u){for(;i!==null;){var h=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),i===u)break;i=i.return}}function v0(i,s,u,h){var g=i.child;for(g!==null&&(g.return=i);g!==null;){var T=g.dependencies;if(T!==null){var C=g.child;T=T.firstContext;e:for(;T!==null;){var k=T;T=g;for(var j=0;j<s.length;j++)if(k.context===s[j]){T.lanes|=u,k=T.alternate,k!==null&&(k.lanes|=u),y0(T.return,u,i),h||(C=null);break e}T=k.next}}else if(g.tag===18){if(C=g.return,C===null)throw Error(r(341));C.lanes|=u,T=C.alternate,T!==null&&(T.lanes|=u),y0(C,u,i),C=null}else C=g.child;if(C!==null)C.return=g;else for(C=g;C!==null;){if(C===i){C=null;break}if(g=C.sibling,g!==null){g.return=C.return,C=g;break}C=C.return}g=C}}function af(i,s,u,h){i=null;for(var g=s,T=!1;g!==null;){if(!T){if((g.flags&524288)!==0)T=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var C=g.alternate;if(C===null)throw Error(r(387));if(C=C.memoizedProps,C!==null){var k=g.type;Fi(g.pendingProps.value,C.value)||(i!==null?i.push(k):i=[k])}}else if(g===Dn.current){if(C=g.alternate,C===null)throw Error(r(387));C.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(i!==null?i.push(bf):i=[bf])}g=g.return}i!==null&&v0(s,i,u,h),s.flags|=262144}function Pm(i){for(i=i.firstContext;i!==null;){if(!Fi(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function eu(i){Jl=i,Fs=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function si(i){return gb(Jl,i)}function Lm(i,s){return Jl===null&&eu(i),gb(i,s)}function gb(i,s){var u=s._currentValue;if(s={context:s,memoizedValue:u,next:null},Fs===null){if(i===null)throw Error(r(308));Fs=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else Fs=Fs.next=s;return u}var Oo=!1;function _0(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function T0(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function No(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Mo(i,s,u){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(Un&2)!==0){var g=h.pending;return g===null?s.next=s:(s.next=g.next,g.next=s),h.pending=s,s=gm(i),Xw(i,null,u),s}return pm(i,h,s,u),gm(i)}function sf(i,s,u){if(s=s.updateQueue,s!==null&&(s=s.shared,(u&4194176)!==0)){var h=s.lanes;h&=i.pendingLanes,u|=h,s.lanes=u,Fe(i,u)}}function w0(i,s){var u=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,u===h)){var g=null,T=null;if(u=u.firstBaseUpdate,u!==null){do{var C={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};T===null?g=T=C:T=T.next=C,u=u.next}while(u!==null);T===null?g=T=s:T=T.next=s}else g=T=s;u={baseState:h.baseState,firstBaseUpdate:g,lastBaseUpdate:T,shared:h.shared,callbacks:h.callbacks},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=s:i.next=s,u.lastBaseUpdate=s}var E0=!1;function of(){if(E0){var i=ac;if(i!==null)throw i}}function lf(i,s,u,h){E0=!1;var g=i.updateQueue;Oo=!1;var T=g.firstBaseUpdate,C=g.lastBaseUpdate,k=g.shared.pending;if(k!==null){g.shared.pending=null;var j=k,Q=j.next;j.next=null,C===null?T=Q:C.next=Q,C=j;var ue=i.alternate;ue!==null&&(ue=ue.updateQueue,k=ue.lastBaseUpdate,k!==C&&(k===null?ue.firstBaseUpdate=Q:k.next=Q,ue.lastBaseUpdate=j))}if(T!==null){var ge=g.baseState;C=0,ue=Q=j=null,k=T;do{var ne=k.lane&-536870913,oe=ne!==k.lane;if(oe?(Vt&ne)===ne:(h&ne)===ne){ne!==0&&ne===ic&&(E0=!0),ue!==null&&(ue=ue.next={lane:0,tag:k.tag,payload:k.payload,callback:null,next:null});e:{var je=i,ct=k;ne=s;var Kn=u;switch(ct.tag){case 1:if(je=ct.payload,typeof je=="function"){ge=je.call(Kn,ge,ne);break e}ge=je;break e;case 3:je.flags=je.flags&-65537|128;case 0:if(je=ct.payload,ne=typeof je=="function"?je.call(Kn,ge,ne):je,ne==null)break e;ge=z({},ge,ne);break e;case 2:Oo=!0}}ne=k.callback,ne!==null&&(i.flags|=64,oe&&(i.flags|=8192),oe=g.callbacks,oe===null?g.callbacks=[ne]:oe.push(ne))}else oe={lane:ne,tag:k.tag,payload:k.payload,callback:k.callback,next:null},ue===null?(Q=ue=oe,j=ge):ue=ue.next=oe,C|=ne;if(k=k.next,k===null){if(k=g.shared.pending,k===null)break;oe=k,k=oe.next,oe.next=null,g.lastBaseUpdate=oe,g.shared.pending=null}}while(!0);ue===null&&(j=ge),g.baseState=j,g.firstBaseUpdate=Q,g.lastBaseUpdate=ue,T===null&&(g.shared.lanes=0),Vo|=C,i.lanes=C,i.memoizedState=ge}}function yb(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function vb(i,s){var u=i.callbacks;if(u!==null)for(i.callbacks=null,i=0;i<u.length;i++)yb(u[i],s)}function uf(i,s){try{var u=s.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var g=h.next;u=g;do{if((u.tag&i)===i){h=void 0;var T=u.create,C=u.inst;h=T(),C.destroy=h}u=u.next}while(u!==g)}}catch(k){dn(s,s.return,k)}}function xo(i,s,u){try{var h=s.updateQueue,g=h!==null?h.lastEffect:null;if(g!==null){var T=g.next;h=T;do{if((h.tag&i)===i){var C=h.inst,k=C.destroy;if(k!==void 0){C.destroy=void 0,g=s;var j=u;try{k()}catch(Q){dn(g,j,Q)}}}h=h.next}while(h!==T)}}catch(Q){dn(s,s.return,Q)}}function _b(i){var s=i.updateQueue;if(s!==null){var u=i.stateNode;try{vb(s,u)}catch(h){dn(i,i.return,h)}}}function Tb(i,s,u){u.props=Wl(i.type,i.memoizedProps),u.state=i.memoizedState;try{u.componentWillUnmount()}catch(h){dn(i,s,h)}}function tu(i,s){try{var u=i.ref;if(u!==null){var h=i.stateNode;switch(i.tag){case 26:case 27:case 5:var g=h;break;default:g=h}typeof u=="function"?i.refCleanup=u(g):u.current=g}}catch(T){dn(i,s,T)}}function $i(i,s){var u=i.ref,h=i.refCleanup;if(u!==null)if(typeof h=="function")try{h()}catch(g){dn(i,s,g)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(g){dn(i,s,g)}else u.current=null}function wb(i){var s=i.type,u=i.memoizedProps,h=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":u.autoFocus&&h.focus();break e;case"img":u.src?h.src=u.src:u.srcSet&&(h.srcset=u.srcSet)}}catch(g){dn(i,i.return,g)}}function Eb(i,s,u){try{var h=i.stateNode;dN(h,i.type,u,s),h[Qe]=s}catch(g){dn(i,i.return,g)}}function bb(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27||i.tag===4}function b0(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||bb(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==27&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function R0(i,s,u){var h=i.tag;if(h===5||h===6)i=i.stateNode,s?u.nodeType===8?u.parentNode.insertBefore(i,s):u.insertBefore(i,s):(u.nodeType===8?(s=u.parentNode,s.insertBefore(i,u)):(s=u,s.appendChild(i)),u=u._reactRootContainer,u!=null||s.onclick!==null||(s.onclick=Zm));else if(h!==4&&h!==27&&(i=i.child,i!==null))for(R0(i,s,u),i=i.sibling;i!==null;)R0(i,s,u),i=i.sibling}function Vm(i,s,u){var h=i.tag;if(h===5||h===6)i=i.stateNode,s?u.insertBefore(i,s):u.appendChild(i);else if(h!==4&&h!==27&&(i=i.child,i!==null))for(Vm(i,s,u),i=i.sibling;i!==null;)Vm(i,s,u),i=i.sibling}var qs=!1,Gn=!1,S0=!1,Rb=typeof WeakSet=="function"?WeakSet:Set,Nr=null,Sb=!1;function $O(i,s){if(i=i.containerInfo,J0=rp,i=Fw(i),Cy(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var h=u.getSelection&&u.getSelection();if(h&&h.rangeCount!==0){u=h.anchorNode;var g=h.anchorOffset,T=h.focusNode;h=h.focusOffset;try{u.nodeType,T.nodeType}catch{u=null;break e}var C=0,k=-1,j=-1,Q=0,ue=0,ge=i,ne=null;t:for(;;){for(var oe;ge!==u||g!==0&&ge.nodeType!==3||(k=C+g),ge!==T||h!==0&&ge.nodeType!==3||(j=C+h),ge.nodeType===3&&(C+=ge.nodeValue.length),(oe=ge.firstChild)!==null;)ne=ge,ge=oe;for(;;){if(ge===i)break t;if(ne===u&&++Q===g&&(k=C),ne===T&&++ue===h&&(j=C),(oe=ge.nextSibling)!==null)break;ge=ne,ne=ge.parentNode}ge=oe}u=k===-1||j===-1?null:{start:k,end:j}}else u=null}u=u||{start:0,end:0}}else u=null;for(ev={focusedElem:i,selectionRange:u},rp=!1,Nr=s;Nr!==null;)if(s=Nr,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,Nr=i;else for(;Nr!==null;){switch(s=Nr,T=s.alternate,i=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&T!==null){i=void 0,u=s,g=T.memoizedProps,T=T.memoizedState,h=u.stateNode;try{var je=Wl(u.type,g,u.elementType===u.type);i=h.getSnapshotBeforeUpdate(je,T),h.__reactInternalSnapshotBeforeUpdate=i}catch(ct){dn(u,u.return,ct)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,u=i.nodeType,u===9)iv(i);else if(u===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":iv(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,Nr=i;break}Nr=s.return}return je=Sb,Sb=!1,je}function Ab(i,s,u){var h=u.flags;switch(u.tag){case 0:case 11:case 15:Ys(i,u),h&4&&uf(5,u);break;case 1:if(Ys(i,u),h&4)if(i=u.stateNode,s===null)try{i.componentDidMount()}catch(k){dn(u,u.return,k)}else{var g=Wl(u.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(g,s,i.__reactInternalSnapshotBeforeUpdate)}catch(k){dn(u,u.return,k)}}h&64&&_b(u),h&512&&tu(u,u.return);break;case 3:if(Ys(i,u),h&64&&(h=u.updateQueue,h!==null)){if(i=null,u.child!==null)switch(u.child.tag){case 27:case 5:i=u.child.stateNode;break;case 1:i=u.child.stateNode}try{vb(h,i)}catch(k){dn(u,u.return,k)}}break;case 26:Ys(i,u),h&512&&tu(u,u.return);break;case 27:case 5:Ys(i,u),s===null&&h&4&&wb(u),h&512&&tu(u,u.return);break;case 12:Ys(i,u);break;case 13:Ys(i,u),h&4&&Ib(i,u);break;case 22:if(g=u.memoizedState!==null||qs,!g){s=s!==null&&s.memoizedState!==null||Gn;var T=qs,C=Gn;qs=g,(Gn=s)&&!C?ko(i,u,(u.subtreeFlags&8772)!==0):Ys(i,u),qs=T,Gn=C}h&512&&(u.memoizedProps.mode==="manual"?tu(u,u.return):$i(u,u.return));break;default:Ys(i,u)}}function Cb(i){var s=i.alternate;s!==null&&(i.alternate=null,Cb(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&ji(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var ur=null,qi=!1;function Hs(i,s,u){for(u=u.child;u!==null;)Db(i,s,u),u=u.sibling}function Db(i,s,u){if(Hn&&typeof Hn.onCommitFiberUnmount=="function")try{Hn.onCommitFiberUnmount(Mn,u)}catch{}switch(u.tag){case 26:Gn||$i(u,s),Hs(i,s,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Gn||$i(u,s);var h=ur,g=qi;for(ur=u.stateNode,Hs(i,s,u),u=u.stateNode,s=u.attributes;s.length;)u.removeAttributeNode(s[0]);ji(u),ur=h,qi=g;break;case 5:Gn||$i(u,s);case 6:g=ur;var T=qi;if(ur=null,Hs(i,s,u),ur=g,qi=T,ur!==null)if(qi)try{i=ur,h=u.stateNode,i.nodeType===8?i.parentNode.removeChild(h):i.removeChild(h)}catch(C){dn(u,s,C)}else try{ur.removeChild(u.stateNode)}catch(C){dn(u,s,C)}break;case 18:ur!==null&&(qi?(s=ur,u=u.stateNode,s.nodeType===8?rv(s.parentNode,u):s.nodeType===1&&rv(s,u),Cf(s)):rv(ur,u.stateNode));break;case 4:h=ur,g=qi,ur=u.stateNode.containerInfo,qi=!0,Hs(i,s,u),ur=h,qi=g;break;case 0:case 11:case 14:case 15:Gn||xo(2,u,s),Gn||xo(4,u,s),Hs(i,s,u);break;case 1:Gn||($i(u,s),h=u.stateNode,typeof h.componentWillUnmount=="function"&&Tb(u,s,h)),Hs(i,s,u);break;case 21:Hs(i,s,u);break;case 22:Gn||$i(u,s),Gn=(h=Gn)||u.memoizedState!==null,Hs(i,s,u),Gn=h;break;default:Hs(i,s,u)}}function Ib(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Cf(i)}catch(u){dn(s,s.return,u)}}function qO(i){switch(i.tag){case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new Rb),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new Rb),s;default:throw Error(r(435,i.tag))}}function A0(i,s){var u=qO(i);s.forEach(function(h){var g=rN.bind(null,i,h);u.has(h)||(u.add(h),h.then(g,g))})}function da(i,s){var u=s.deletions;if(u!==null)for(var h=0;h<u.length;h++){var g=u[h],T=i,C=s,k=C;e:for(;k!==null;){switch(k.tag){case 27:case 5:ur=k.stateNode,qi=!1;break e;case 3:ur=k.stateNode.containerInfo,qi=!0;break e;case 4:ur=k.stateNode.containerInfo,qi=!0;break e}k=k.return}if(ur===null)throw Error(r(160));Db(T,C,g),ur=null,qi=!1,T=g.alternate,T!==null&&(T.return=null),g.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)Ob(s,i),s=s.sibling}var Ia=null;function Ob(i,s){var u=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:da(s,i),ma(i),h&4&&(xo(3,i,i.return),uf(3,i),xo(5,i,i.return));break;case 1:da(s,i),ma(i),h&512&&(Gn||u===null||$i(u,u.return)),h&64&&qs&&(i=i.updateQueue,i!==null&&(h=i.callbacks,h!==null&&(u=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=u===null?h:u.concat(h))));break;case 26:var g=Ia;if(da(s,i),ma(i),h&512&&(Gn||u===null||$i(u,u.return)),h&4){var T=u!==null?u.memoizedState:null;if(h=i.memoizedState,u===null)if(h===null)if(i.stateNode===null){e:{h=i.type,u=i.memoizedProps,g=g.ownerDocument||g;t:switch(h){case"title":T=g.getElementsByTagName("title")[0],(!T||T[yi]||T[Pe]||T.namespaceURI==="http://www.w3.org/2000/svg"||T.hasAttribute("itemprop"))&&(T=g.createElement(h),g.head.insertBefore(T,g.querySelector("head > title"))),$r(T,h,u),T[Pe]=i,Qt(T),h=T;break e;case"link":var C=w1("link","href",g).get(h+(u.href||""));if(C){for(var k=0;k<C.length;k++)if(T=C[k],T.getAttribute("href")===(u.href==null?null:u.href)&&T.getAttribute("rel")===(u.rel==null?null:u.rel)&&T.getAttribute("title")===(u.title==null?null:u.title)&&T.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){C.splice(k,1);break t}}T=g.createElement(h),$r(T,h,u),g.head.appendChild(T);break;case"meta":if(C=w1("meta","content",g).get(h+(u.content||""))){for(k=0;k<C.length;k++)if(T=C[k],T.getAttribute("content")===(u.content==null?null:""+u.content)&&T.getAttribute("name")===(u.name==null?null:u.name)&&T.getAttribute("property")===(u.property==null?null:u.property)&&T.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&T.getAttribute("charset")===(u.charSet==null?null:u.charSet)){C.splice(k,1);break t}}T=g.createElement(h),$r(T,h,u),g.head.appendChild(T);break;default:throw Error(r(468,h))}T[Pe]=i,Qt(T),h=T}i.stateNode=h}else E1(g,i.type,i.stateNode);else i.stateNode=T1(g,h,i.memoizedProps);else T!==h?(T===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):T.count--,h===null?E1(g,i.type,i.stateNode):T1(g,h,i.memoizedProps)):h===null&&i.stateNode!==null&&Eb(i,i.memoizedProps,u.memoizedProps)}break;case 27:if(h&4&&i.alternate===null){g=i.stateNode,T=i.memoizedProps;try{for(var j=g.firstChild;j;){var Q=j.nextSibling,ue=j.nodeName;j[yi]||ue==="HEAD"||ue==="BODY"||ue==="SCRIPT"||ue==="STYLE"||ue==="LINK"&&j.rel.toLowerCase()==="stylesheet"||g.removeChild(j),j=Q}for(var ge=i.type,ne=g.attributes;ne.length;)g.removeAttributeNode(ne[0]);$r(g,ge,T),g[Pe]=i,g[Qe]=T}catch(je){dn(i,i.return,je)}}case 5:if(da(s,i),ma(i),h&512&&(Gn||u===null||$i(u,u.return)),i.flags&32){g=i.stateNode;try{ia(g,"")}catch(je){dn(i,i.return,je)}}h&4&&i.stateNode!=null&&(g=i.memoizedProps,Eb(i,g,u!==null?u.memoizedProps:g)),h&1024&&(S0=!0);break;case 6:if(da(s,i),ma(i),h&4){if(i.stateNode===null)throw Error(r(162));h=i.memoizedProps,u=i.stateNode;try{u.nodeValue=h}catch(je){dn(i,i.return,je)}}break;case 3:if(ep=null,g=Ia,Ia=Wm(s.containerInfo),da(s,i),Ia=g,ma(i),h&4&&u!==null&&u.memoizedState.isDehydrated)try{Cf(s.containerInfo)}catch(je){dn(i,i.return,je)}S0&&(S0=!1,Nb(i));break;case 4:h=Ia,Ia=Wm(i.stateNode.containerInfo),da(s,i),ma(i),Ia=h;break;case 12:da(s,i),ma(i);break;case 13:da(s,i),ma(i),i.child.flags&8192&&i.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(P0=tn()),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,A0(i,h)));break;case 22:if(h&512&&(Gn||u===null||$i(u,u.return)),j=i.memoizedState!==null,Q=u!==null&&u.memoizedState!==null,ue=qs,ge=Gn,qs=ue||j,Gn=ge||Q,da(s,i),Gn=ge,qs=ue,ma(i),s=i.stateNode,s._current=i,s._visibility&=-3,s._visibility|=s._pendingVisibility&2,h&8192&&(s._visibility=j?s._visibility&-2:s._visibility|1,j&&(s=qs||Gn,u===null||Q||s||uc(i)),i.memoizedProps===null||i.memoizedProps.mode!=="manual"))e:for(u=null,s=i;;){if(s.tag===5||s.tag===26||s.tag===27){if(u===null){Q=u=s;try{if(g=Q.stateNode,j)T=g.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{C=Q.stateNode,k=Q.memoizedProps.style;var oe=k!=null&&k.hasOwnProperty("display")?k.display:null;C.style.display=oe==null||typeof oe=="boolean"?"":(""+oe).trim()}}catch(je){dn(Q,Q.return,je)}}}else if(s.tag===6){if(u===null){Q=s;try{Q.stateNode.nodeValue=j?"":Q.memoizedProps}catch(je){dn(Q,Q.return,je)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;u===s&&(u=null),s=s.return}u===s&&(u=null),s.sibling.return=s.return,s=s.sibling}h&4&&(h=i.updateQueue,h!==null&&(u=h.retryQueue,u!==null&&(h.retryQueue=null,A0(i,u))));break;case 19:da(s,i),ma(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,A0(i,h)));break;case 21:break;default:da(s,i),ma(i)}}function ma(i){var s=i.flags;if(s&2){try{if(i.tag!==27){e:{for(var u=i.return;u!==null;){if(bb(u)){var h=u;break e}u=u.return}throw Error(r(160))}switch(h.tag){case 27:var g=h.stateNode,T=b0(i);Vm(i,T,g);break;case 5:var C=h.stateNode;h.flags&32&&(ia(C,""),h.flags&=-33);var k=b0(i);Vm(i,k,C);break;case 3:case 4:var j=h.stateNode.containerInfo,Q=b0(i);R0(i,Q,j);break;default:throw Error(r(161))}}}catch(ue){dn(i,i.return,ue)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function Nb(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;Nb(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function Ys(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Ab(i,s.alternate,s),s=s.sibling}function uc(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:xo(4,s,s.return),uc(s);break;case 1:$i(s,s.return);var u=s.stateNode;typeof u.componentWillUnmount=="function"&&Tb(s,s.return,u),uc(s);break;case 26:case 27:case 5:$i(s,s.return),uc(s);break;case 22:$i(s,s.return),s.memoizedState===null&&uc(s);break;default:uc(s)}i=i.sibling}}function ko(i,s,u){for(u=u&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var h=s.alternate,g=i,T=s,C=T.flags;switch(T.tag){case 0:case 11:case 15:ko(g,T,u),uf(4,T);break;case 1:if(ko(g,T,u),h=T,g=h.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(Q){dn(h,h.return,Q)}if(h=T,g=h.updateQueue,g!==null){var k=h.stateNode;try{var j=g.shared.hiddenCallbacks;if(j!==null)for(g.shared.hiddenCallbacks=null,g=0;g<j.length;g++)yb(j[g],k)}catch(Q){dn(h,h.return,Q)}}u&&C&64&&_b(T),tu(T,T.return);break;case 26:case 27:case 5:ko(g,T,u),u&&h===null&&C&4&&wb(T),tu(T,T.return);break;case 12:ko(g,T,u);break;case 13:ko(g,T,u),u&&C&4&&Ib(g,T);break;case 22:T.memoizedState===null&&ko(g,T,u),tu(T,T.return);break;default:ko(g,T,u)}s=s.sibling}}function C0(i,s){var u=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==u&&(i!=null&&i.refCount++,u!=null&&Wh(u))}function D0(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Wh(i))}function Po(i,s,u,h){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Mb(i,s,u,h),s=s.sibling}function Mb(i,s,u,h){var g=s.flags;switch(s.tag){case 0:case 11:case 15:Po(i,s,u,h),g&2048&&uf(9,s);break;case 3:Po(i,s,u,h),g&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Wh(i)));break;case 12:if(g&2048){Po(i,s,u,h),i=s.stateNode;try{var T=s.memoizedProps,C=T.id,k=T.onPostCommit;typeof k=="function"&&k(C,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(j){dn(s,s.return,j)}}else Po(i,s,u,h);break;case 23:break;case 22:T=s.stateNode,s.memoizedState!==null?T._visibility&4?Po(i,s,u,h):cf(i,s):T._visibility&4?Po(i,s,u,h):(T._visibility|=4,cc(i,s,u,h,(s.subtreeFlags&10256)!==0)),g&2048&&C0(s.alternate,s);break;case 24:Po(i,s,u,h),g&2048&&D0(s.alternate,s);break;default:Po(i,s,u,h)}}function cc(i,s,u,h,g){for(g=g&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var T=i,C=s,k=u,j=h,Q=C.flags;switch(C.tag){case 0:case 11:case 15:cc(T,C,k,j,g),uf(8,C);break;case 23:break;case 22:var ue=C.stateNode;C.memoizedState!==null?ue._visibility&4?cc(T,C,k,j,g):cf(T,C):(ue._visibility|=4,cc(T,C,k,j,g)),g&&Q&2048&&C0(C.alternate,C);break;case 24:cc(T,C,k,j,g),g&&Q&2048&&D0(C.alternate,C);break;default:cc(T,C,k,j,g)}s=s.sibling}}function cf(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var u=i,h=s,g=h.flags;switch(h.tag){case 22:cf(u,h),g&2048&&C0(h.alternate,h);break;case 24:cf(u,h),g&2048&&D0(h.alternate,h);break;default:cf(u,h)}s=s.sibling}}var hf=8192;function hc(i){if(i.subtreeFlags&hf)for(i=i.child;i!==null;)xb(i),i=i.sibling}function xb(i){switch(i.tag){case 26:hc(i),i.flags&hf&&i.memoizedState!==null&&MN(Ia,i.memoizedState,i.memoizedProps);break;case 5:hc(i);break;case 3:case 4:var s=Ia;Ia=Wm(i.stateNode.containerInfo),hc(i),Ia=s;break;case 22:i.memoizedState===null&&(s=i.alternate,s!==null&&s.memoizedState!==null?(s=hf,hf=16777216,hc(i),hf=s):hc(i));break;default:hc(i)}}function kb(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function ff(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var u=0;u<s.length;u++){var h=s[u];Nr=h,Lb(h,i)}kb(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Pb(i),i=i.sibling}function Pb(i){switch(i.tag){case 0:case 11:case 15:ff(i),i.flags&2048&&xo(9,i,i.return);break;case 3:ff(i);break;case 12:ff(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&4&&(i.return===null||i.return.tag!==13)?(s._visibility&=-5,Um(i)):ff(i);break;default:ff(i)}}function Um(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var u=0;u<s.length;u++){var h=s[u];Nr=h,Lb(h,i)}kb(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:xo(8,s,s.return),Um(s);break;case 22:u=s.stateNode,u._visibility&4&&(u._visibility&=-5,Um(s));break;default:Um(s)}i=i.sibling}}function Lb(i,s){for(;Nr!==null;){var u=Nr;switch(u.tag){case 0:case 11:case 15:xo(8,u,s);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var h=u.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:Wh(u.memoizedState.cache)}if(h=u.child,h!==null)h.return=u,Nr=h;else e:for(u=i;Nr!==null;){h=Nr;var g=h.sibling,T=h.return;if(Cb(h),h===u){Nr=null;break e}if(g!==null){g.return=T,Nr=g;break e}Nr=T}}}function HO(i,s,u,h){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pa(i,s,u,h){return new HO(i,s,u,h)}function I0(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Lo(i,s){var u=i.alternate;return u===null?(u=pa(i.tag,s,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=s,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&31457280,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,s=i.dependencies,u.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u.refCleanup=i.refCleanup,u}function Vb(i,s){i.flags&=31457282;var u=i.alternate;return u===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=u.childLanes,i.lanes=u.lanes,i.child=u.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=u.memoizedProps,i.memoizedState=u.memoizedState,i.updateQueue=u.updateQueue,i.type=u.type,s=u.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function zm(i,s,u,h,g,T){var C=0;if(h=i,typeof i=="function")I0(i)&&(C=1);else if(typeof i=="string")C=ON(i,u,Ft.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case f:return nu(u.children,g,T,s);case d:C=8,g|=24;break;case p:return i=pa(12,u,s,g|2),i.elementType=p,i.lanes=T,i;case S:return i=pa(13,u,s,g),i.elementType=S,i.lanes=T,i;case D:return i=pa(19,u,s,g),i.elementType=D,i.lanes=T,i;case L:return Ub(u,g,T,s);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case v:case E:C=10;break e;case w:C=9;break e;case R:C=11;break e;case N:C=14;break e;case M:C=16,h=null;break e}C=29,u=Error(r(130,i===null?"null":typeof i,"")),h=null}return s=pa(C,u,s,g),s.elementType=i,s.type=h,s.lanes=T,s}function nu(i,s,u,h){return i=pa(7,i,h,s),i.lanes=u,i}function Ub(i,s,u,h){i=pa(22,i,h,s),i.elementType=L,i.lanes=u;var g={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var T=g._current;if(T===null)throw Error(r(456));if((g._pendingVisibility&2)===0){var C=Ro(T,2);C!==null&&(g._pendingVisibility|=2,wi(C,T,2))}},attach:function(){var T=g._current;if(T===null)throw Error(r(456));if((g._pendingVisibility&2)!==0){var C=Ro(T,2);C!==null&&(g._pendingVisibility&=-3,wi(C,T,2))}}};return i.stateNode=g,i}function O0(i,s,u){return i=pa(6,i,null,s),i.lanes=u,i}function N0(i,s,u){return s=pa(4,i.children!==null?i.children:[],i.key,s),s.lanes=u,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}function Gs(i){i.flags|=4}function zb(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!b1(s)){if(s=fa.current,s!==null&&((Vt&4194176)===Vt?ts!==null:(Vt&62914560)!==Vt&&(Vt&536870912)===0||s!==ts))throw Kh=Ly,nE;i.flags|=8192}}function Bm(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?Z():536870912,i.lanes|=s,dc|=s)}function df(i,s){if(!Ht)switch(i.tailMode){case"hidden":s=i.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function Vn(i){var s=i.alternate!==null&&i.alternate.child===i.child,u=0,h=0;if(s)for(var g=i.child;g!==null;)u|=g.lanes|g.childLanes,h|=g.subtreeFlags&31457280,h|=g.flags&31457280,g.return=i,g=g.sibling;else for(g=i.child;g!==null;)u|=g.lanes|g.childLanes,h|=g.subtreeFlags,h|=g.flags,g.return=i,g=g.sibling;return i.subtreeFlags|=h,i.childLanes=u,s}function YO(i,s,u){var h=s.pendingProps;switch(ky(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vn(s),null;case 1:return Vn(s),null;case 3:return u=s.stateNode,h=null,i!==null&&(h=i.memoizedState.cache),s.memoizedState.cache!==h&&(s.flags|=2048),$s(vr),sn(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(i===null||i.child===null)&&(Hh(s)?Gs(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Da!==null&&(z0(Da),Da=null))),Vn(s),null;case 26:return u=s.memoizedState,i===null?(Gs(s),u!==null?(Vn(s),zb(s,u)):(Vn(s),s.flags&=-16777217)):u?u!==i.memoizedState?(Gs(s),Vn(s),zb(s,u)):(Vn(s),s.flags&=-16777217):(i.memoizedProps!==h&&Gs(s),Vn(s),s.flags&=-16777217),null;case 27:gi(s),u=mt.current;var g=s.type;if(i!==null&&s.stateNode!=null)i.memoizedProps!==h&&Gs(s);else{if(!h){if(s.stateNode===null)throw Error(r(166));return Vn(s),null}i=Ft.current,Hh(s)?eE(s):(i=p1(g,h,u),s.stateNode=i,Gs(s))}return Vn(s),null;case 5:if(gi(s),u=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==h&&Gs(s);else{if(!h){if(s.stateNode===null)throw Error(r(166));return Vn(s),null}if(i=Ft.current,Hh(s))eE(s);else{switch(g=Xm(mt.current),i){case 1:i=g.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:i=g.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":i=g.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":i=g.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":i=g.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof h.is=="string"?g.createElement("select",{is:h.is}):g.createElement("select"),h.multiple?i.multiple=!0:h.size&&(i.size=h.size);break;default:i=typeof h.is=="string"?g.createElement(u,{is:h.is}):g.createElement(u)}}i[Pe]=s,i[Qe]=h;e:for(g=s.child;g!==null;){if(g.tag===5||g.tag===6)i.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===s)break e;for(;g.sibling===null;){if(g.return===null||g.return===s)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}s.stateNode=i;e:switch($r(i,u,h),u){case"button":case"input":case"select":case"textarea":i=!!h.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Gs(s)}}return Vn(s),s.flags&=-16777217,null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==h&&Gs(s);else{if(typeof h!="string"&&s.stateNode===null)throw Error(r(166));if(i=mt.current,Hh(s)){if(i=s.stateNode,u=s.memoizedProps,h=null,g=Ti,g!==null)switch(g.tag){case 27:case 5:h=g.memoizedProps}i[Pe]=s,i=!!(i.nodeValue===u||h!==null&&h.suppressHydrationWarning===!0||u1(i.nodeValue,u)),i||Yl(s)}else i=Xm(i).createTextNode(h),i[Pe]=s,s.stateNode=i}return Vn(s),null;case 13:if(h=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(g=Hh(s),h!==null&&h.dehydrated!==null){if(i===null){if(!g)throw Error(r(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(r(317));g[Pe]=s}else Yh(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Vn(s),g=!1}else Da!==null&&(z0(Da),Da=null),g=!0;if(!g)return s.flags&256?(zs(s),s):(zs(s),null)}if(zs(s),(s.flags&128)!==0)return s.lanes=u,s;if(u=h!==null,i=i!==null&&i.memoizedState!==null,u){h=s.child,g=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(g=h.alternate.memoizedState.cachePool.pool);var T=null;h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(T=h.memoizedState.cachePool.pool),T!==g&&(h.flags|=2048)}return u!==i&&u&&(s.child.flags|=8192),Bm(s,s.updateQueue),Vn(s),null;case 4:return sn(),i===null&&Z0(s.stateNode.containerInfo),Vn(s),null;case 10:return $s(s.type),Vn(s),null;case 19:if(Ye(yr),g=s.memoizedState,g===null)return Vn(s),null;if(h=(s.flags&128)!==0,T=g.rendering,T===null)if(h)df(g,!1);else{if(Qn!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(T=bm(i),T!==null){for(s.flags|=128,df(g,!1),i=T.updateQueue,s.updateQueue=i,Bm(s,i),s.subtreeFlags=0,i=u,u=s.child;u!==null;)Vb(u,i),u=u.sibling;return Ge(yr,yr.current&1|2),s.child}i=i.sibling}g.tail!==null&&tn()>jm&&(s.flags|=128,h=!0,df(g,!1),s.lanes=4194304)}else{if(!h)if(i=bm(T),i!==null){if(s.flags|=128,h=!0,i=i.updateQueue,s.updateQueue=i,Bm(s,i),df(g,!0),g.tail===null&&g.tailMode==="hidden"&&!T.alternate&&!Ht)return Vn(s),null}else 2*tn()-g.renderingStartTime>jm&&u!==536870912&&(s.flags|=128,h=!0,df(g,!1),s.lanes=4194304);g.isBackwards?(T.sibling=s.child,s.child=T):(i=g.last,i!==null?i.sibling=T:s.child=T,g.last=T)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=tn(),s.sibling=null,i=yr.current,Ge(yr,h?i&1|2:i&1),s):(Vn(s),null);case 22:case 23:return zs(s),Uy(),h=s.memoizedState!==null,i!==null?i.memoizedState!==null!==h&&(s.flags|=8192):h&&(s.flags|=8192),h?(u&536870912)!==0&&(s.flags&128)===0&&(Vn(s),s.subtreeFlags&6&&(s.flags|=8192)):Vn(s),u=s.updateQueue,u!==null&&Bm(s,u.retryQueue),u=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),h=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),h!==u&&(s.flags|=2048),i!==null&&Ye(Ql),null;case 24:return u=null,i!==null&&(u=i.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),$s(vr),Vn(s),null;case 25:return null}throw Error(r(156,s.tag))}function GO(i,s){switch(ky(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return $s(vr),sn(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return gi(s),null;case 13:if(zs(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Yh()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return Ye(yr),null;case 4:return sn(),null;case 10:return $s(s.type),null;case 22:case 23:return zs(s),Uy(),i!==null&&Ye(Ql),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return $s(vr),null;case 25:return null;default:return null}}function Bb(i,s){switch(ky(s),s.tag){case 3:$s(vr),sn();break;case 26:case 27:case 5:gi(s);break;case 4:sn();break;case 13:zs(s);break;case 19:Ye(yr);break;case 10:$s(s.type);break;case 22:case 23:zs(s),Uy(),i!==null&&Ye(Ql);break;case 24:$s(vr)}}var QO={getCacheForType:function(i){var s=si(vr),u=s.data.get(i);return u===void 0&&(u=i(),s.data.set(i,u)),u}},KO=typeof WeakMap=="function"?WeakMap:Map,Un=0,vn=null,St=null,Vt=0,_n=0,Hi=null,Qs=!1,fc=!1,M0=!1,Ks=0,Qn=0,Vo=0,ru=0,x0=0,ga=0,dc=0,mf=null,rs=null,k0=!1,P0=0,jm=1/0,Fm=null,Uo=null,$m=!1,iu=null,pf=0,L0=0,V0=null,gf=0,U0=null;function Yi(){if((Un&2)!==0&&Vt!==0)return Vt&-Vt;if(O.T!==null){var i=ic;return i!==0?i:Y0()}return Be()}function jb(){ga===0&&(ga=(Vt&536870912)===0||Ht?Y():536870912);var i=fa.current;return i!==null&&(i.flags|=32),ga}function wi(i,s,u){(i===vn&&_n===2||i.cancelPendingCommit!==null)&&(mc(i,0),Zs(i,Vt,ga,!1)),ce(i,u),((Un&2)===0||i!==vn)&&(i===vn&&((Un&2)===0&&(ru|=u),Qn===4&&Zs(i,Vt,ga,!1)),is(i))}function Fb(i,s,u){if((Un&6)!==0)throw Error(r(327));var h=!u&&(s&60)===0&&(s&i.expiredLanes)===0||qa(i,s),g=h?WO(i,s):F0(i,s,!0),T=h;do{if(g===0){fc&&!h&&Zs(i,s,0,!1);break}else if(g===6)Zs(i,s,0,!Qs);else{if(u=i.current.alternate,T&&!ZO(u)){g=F0(i,s,!1),T=!1;continue}if(g===2){if(T=s,i.errorRecoveryDisabledLanes&T)var C=0;else C=i.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){s=C;e:{var k=i;g=mf;var j=k.current.memoizedState.isDehydrated;if(j&&(mc(k,C).flags|=256),C=F0(k,C,!1),C!==2){if(M0&&!j){k.errorRecoveryDisabledLanes|=T,ru|=T,g=4;break e}T=rs,rs=g,T!==null&&z0(T)}g=C}if(T=!1,g!==2)continue}}if(g===1){mc(i,0),Zs(i,s,0,!0);break}e:{switch(h=i,g){case 0:case 1:throw Error(r(345));case 4:if((s&4194176)===s){Zs(h,s,ga,!Qs);break e}break;case 2:rs=null;break;case 3:case 5:break;default:throw Error(r(329))}if(h.finishedWork=u,h.finishedLanes=s,(s&62914560)===s&&(T=P0+300-tn(),10<T)){if(Zs(h,s,ga,!Qs),zr(h,0)!==0)break e;h.timeoutHandle=f1($b.bind(null,h,u,rs,Fm,k0,s,ga,ru,dc,Qs,2,-0,0),T);break e}$b(h,u,rs,Fm,k0,s,ga,ru,dc,Qs,0,-0,0)}}break}while(!0);is(i)}function z0(i){rs===null?rs=i:rs.push.apply(rs,i)}function $b(i,s,u,h,g,T,C,k,j,Q,ue,ge,ne){var oe=s.subtreeFlags;if((oe&8192||(oe&16785408)===16785408)&&(Ef={stylesheets:null,count:0,unsuspend:NN},xb(s),s=xN(),s!==null)){i.cancelPendingCommit=s(Zb.bind(null,i,u,h,g,C,k,j,1,ge,ne)),Zs(i,T,C,!Q);return}Zb(i,u,h,g,C,k,j,ue,ge,ne)}function ZO(i){for(var s=i;;){var u=s.tag;if((u===0||u===11||u===15)&&s.flags&16384&&(u=s.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var h=0;h<u.length;h++){var g=u[h],T=g.getSnapshot;g=g.value;try{if(!Fi(T(),g))return!1}catch{return!1}}if(u=s.child,s.subtreeFlags&16384&&u!==null)u.return=s,s=u;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Zs(i,s,u,h){s&=~x0,s&=~ru,i.suspendedLanes|=s,i.pingedLanes&=~s,h&&(i.warmLanes|=s),h=i.expirationTimes;for(var g=s;0<g;){var T=31-Nt(g),C=1<<T;h[T]=-1,g&=~C}u!==0&&$e(i,u,s)}function qm(){return(Un&6)===0?(yf(0),!1):!0}function B0(){if(St!==null){if(_n===0)var i=St.return;else i=St,Fs=Jl=null,Yy(i),nc=null,Zh=0,i=St;for(;i!==null;)Bb(i.alternate,i),i=i.return;St=null}}function mc(i,s){i.finishedWork=null,i.finishedLanes=0;var u=i.timeoutHandle;u!==-1&&(i.timeoutHandle=-1,pN(u)),u=i.cancelPendingCommit,u!==null&&(i.cancelPendingCommit=null,u()),B0(),vn=i,St=u=Lo(i.current,null),Vt=s,_n=0,Hi=null,Qs=!1,fc=qa(i,s),M0=!1,dc=ga=x0=ru=Vo=Qn=0,rs=mf=null,k0=!1,(s&8)!==0&&(s|=s&32);var h=i.entangledLanes;if(h!==0)for(i=i.entanglements,h&=s;0<h;){var g=31-Nt(h),T=1<<g;s|=i[g],h&=~T}return Ks=s,mm(),u}function qb(i,s){_t=null,O.H=ns,s===Qh?(s=aE(),_n=3):s===nE?(s=aE(),_n=4):_n=s===rb?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Hi=s,St===null&&(Qn=1,km(i,ua(s,i.current)))}function Hb(){var i=O.H;return O.H=ns,i===null?ns:i}function Yb(){var i=O.A;return O.A=QO,i}function j0(){Qn=4,Qs||(Vt&4194176)!==Vt&&fa.current!==null||(fc=!0),(Vo&134217727)===0&&(ru&134217727)===0||vn===null||Zs(vn,Vt,ga,!1)}function F0(i,s,u){var h=Un;Un|=2;var g=Hb(),T=Yb();(vn!==i||Vt!==s)&&(Fm=null,mc(i,s)),s=!1;var C=Qn;e:do try{if(_n!==0&&St!==null){var k=St,j=Hi;switch(_n){case 8:B0(),C=6;break e;case 3:case 2:case 6:fa.current===null&&(s=!0);var Q=_n;if(_n=0,Hi=null,pc(i,k,j,Q),u&&fc){C=0;break e}break;default:Q=_n,_n=0,Hi=null,pc(i,k,j,Q)}}XO(),C=Qn;break}catch(ue){qb(i,ue)}while(!0);return s&&i.shellSuspendCounter++,Fs=Jl=null,Un=h,O.H=g,O.A=T,St===null&&(vn=null,Vt=0,mm()),C}function XO(){for(;St!==null;)Gb(St)}function WO(i,s){var u=Un;Un|=2;var h=Hb(),g=Yb();vn!==i||Vt!==s?(Fm=null,jm=tn()+500,mc(i,s)):fc=qa(i,s);e:do try{if(_n!==0&&St!==null){s=St;var T=Hi;t:switch(_n){case 1:_n=0,Hi=null,pc(i,s,T,1);break;case 2:if(rE(T)){_n=0,Hi=null,Qb(s);break}s=function(){_n===2&&vn===i&&(_n=7),is(i)},T.then(s,s);break e;case 3:_n=7;break e;case 4:_n=5;break e;case 7:rE(T)?(_n=0,Hi=null,Qb(s)):(_n=0,Hi=null,pc(i,s,T,7));break;case 5:var C=null;switch(St.tag){case 26:C=St.memoizedState;case 5:case 27:var k=St;if(!C||b1(C)){_n=0,Hi=null;var j=k.sibling;if(j!==null)St=j;else{var Q=k.return;Q!==null?(St=Q,Hm(Q)):St=null}break t}}_n=0,Hi=null,pc(i,s,T,5);break;case 6:_n=0,Hi=null,pc(i,s,T,6);break;case 8:B0(),Qn=6;break e;default:throw Error(r(462))}}JO();break}catch(ue){qb(i,ue)}while(!0);return Fs=Jl=null,O.H=h,O.A=g,Un=u,St!==null?0:(vn=null,Vt=0,mm(),Qn)}function JO(){for(;St!==null&&!en();)Gb(St)}function Gb(i){var s=pb(i.alternate,i,Ks);i.memoizedProps=i.pendingProps,s===null?Hm(i):St=s}function Qb(i){var s=i,u=s.alternate;switch(s.tag){case 15:case 0:s=ub(u,s,s.pendingProps,s.type,void 0,Vt);break;case 11:s=ub(u,s,s.pendingProps,s.type.render,s.ref,Vt);break;case 5:Yy(s);default:Bb(u,s),s=St=Vb(s,Ks),s=pb(u,s,Ks)}i.memoizedProps=i.pendingProps,s===null?Hm(i):St=s}function pc(i,s,u,h){Fs=Jl=null,Yy(s),nc=null,Zh=0;var g=s.return;try{if(jO(i,g,s,u,Vt)){Qn=1,km(i,ua(u,i.current)),St=null;return}}catch(T){if(g!==null)throw St=g,T;Qn=1,km(i,ua(u,i.current)),St=null;return}s.flags&32768?(Ht||h===1?i=!0:fc||(Vt&536870912)!==0?i=!1:(Qs=i=!0,(h===2||h===3||h===6)&&(h=fa.current,h!==null&&h.tag===13&&(h.flags|=16384))),Kb(s,i)):Hm(s)}function Hm(i){var s=i;do{if((s.flags&32768)!==0){Kb(s,Qs);return}i=s.return;var u=YO(s.alternate,s,Ks);if(u!==null){St=u;return}if(s=s.sibling,s!==null){St=s;return}St=s=i}while(s!==null);Qn===0&&(Qn=5)}function Kb(i,s){do{var u=GO(i.alternate,i);if(u!==null){u.flags&=32767,St=u;return}if(u=i.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!s&&(i=i.sibling,i!==null)){St=i;return}St=i=u}while(i!==null);Qn=6,St=null}function Zb(i,s,u,h,g,T,C,k,j,Q){var ue=O.T,ge=ve.p;try{ve.p=2,O.T=null,eN(i,s,u,h,ge,g,T,C,k,j,Q)}finally{O.T=ue,ve.p=ge}}function eN(i,s,u,h,g,T,C,k){do gc();while(iu!==null);if((Un&6)!==0)throw Error(r(327));var j=i.finishedWork;if(h=i.finishedLanes,j===null)return null;if(i.finishedWork=null,i.finishedLanes=0,j===i.current)throw Error(r(177));i.callbackNode=null,i.callbackPriority=0,i.cancelPendingCommit=null;var Q=j.lanes|j.childLanes;if(Q|=Ny,Ce(i,h,Q,T,C,k),i===vn&&(St=vn=null,Vt=0),(j.subtreeFlags&10256)===0&&(j.flags&10256)===0||$m||($m=!0,L0=Q,V0=u,iN(Wn,function(){return gc(),null})),u=(j.flags&15990)!==0,(j.subtreeFlags&15990)!==0||u?(u=O.T,O.T=null,T=ve.p,ve.p=2,C=Un,Un|=4,$O(i,j),Ob(j,i),RO(ev,i.containerInfo),rp=!!J0,ev=J0=null,i.current=j,Ab(i,j.alternate,j),mr(),Un=C,ve.p=T,O.T=u):i.current=j,$m?($m=!1,iu=i,pf=h):Xb(i,Q),Q=i.pendingLanes,Q===0&&(Uo=null),Bi(j.stateNode),is(i),s!==null)for(g=i.onRecoverableError,j=0;j<s.length;j++)Q=s[j],g(Q.value,{componentStack:Q.stack});return(pf&3)!==0&&gc(),Q=i.pendingLanes,(h&4194218)!==0&&(Q&42)!==0?i===U0?gf++:(gf=0,U0=i):gf=0,yf(0),null}function Xb(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,Wh(s)))}function gc(){if(iu!==null){var i=iu,s=L0;L0=0;var u=Ue(pf),h=O.T,g=ve.p;try{if(ve.p=32>u?32:u,O.T=null,iu===null)var T=!1;else{u=V0,V0=null;var C=iu,k=pf;if(iu=null,pf=0,(Un&6)!==0)throw Error(r(331));var j=Un;if(Un|=4,Pb(C.current),Mb(C,C.current,k,u),Un=j,yf(0,!1),Hn&&typeof Hn.onPostCommitFiberRoot=="function")try{Hn.onPostCommitFiberRoot(Mn,C)}catch{}T=!0}return T}finally{ve.p=g,O.T=h,Xb(i,s)}}return!1}function Wb(i,s,u){s=ua(u,s),s=s0(i.stateNode,s,2),i=Mo(i,s,2),i!==null&&(ce(i,2),is(i))}function dn(i,s,u){if(i.tag===3)Wb(i,i,u);else for(;s!==null;){if(s.tag===3){Wb(s,i,u);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Uo===null||!Uo.has(h))){i=ua(u,i),u=tb(2),h=Mo(s,u,2),h!==null&&(nb(u,h,s,i),ce(h,2),is(h));break}}s=s.return}}function $0(i,s,u){var h=i.pingCache;if(h===null){h=i.pingCache=new KO;var g=new Set;h.set(s,g)}else g=h.get(s),g===void 0&&(g=new Set,h.set(s,g));g.has(u)||(M0=!0,g.add(u),i=tN.bind(null,i,s,u),s.then(i,i))}function tN(i,s,u){var h=i.pingCache;h!==null&&h.delete(s),i.pingedLanes|=i.suspendedLanes&u,i.warmLanes&=~u,vn===i&&(Vt&u)===u&&(Qn===4||Qn===3&&(Vt&62914560)===Vt&&300>tn()-P0?(Un&2)===0&&mc(i,0):x0|=u,dc===Vt&&(dc=0)),is(i)}function Jb(i,s){s===0&&(s=Z()),i=Ro(i,s),i!==null&&(ce(i,s),is(i))}function nN(i){var s=i.memoizedState,u=0;s!==null&&(u=s.retryLane),Jb(i,u)}function rN(i,s){var u=0;switch(i.tag){case 13:var h=i.stateNode,g=i.memoizedState;g!==null&&(u=g.retryLane);break;case 19:h=i.stateNode;break;case 22:h=i.stateNode._retryCache;break;default:throw Error(r(314))}h!==null&&h.delete(s),Jb(i,u)}function iN(i,s){return Nn(i,s)}var Ym=null,yc=null,q0=!1,Gm=!1,H0=!1,au=0;function is(i){i!==yc&&i.next===null&&(yc===null?Ym=yc=i:yc=yc.next=i),Gm=!0,q0||(q0=!0,sN(aN))}function yf(i,s){if(!H0&&Gm){H0=!0;do for(var u=!1,h=Ym;h!==null;){if(i!==0){var g=h.pendingLanes;if(g===0)var T=0;else{var C=h.suspendedLanes,k=h.pingedLanes;T=(1<<31-Nt(42|i)+1)-1,T&=g&~(C&~k),T=T&201326677?T&201326677|1:T?T|2:0}T!==0&&(u=!0,n1(h,T))}else T=Vt,T=zr(h,h===vn?T:0),(T&3)===0||qa(h,T)||(u=!0,n1(h,T));h=h.next}while(u);H0=!1}}function aN(){Gm=q0=!1;var i=0;au!==0&&(mN()&&(i=au),au=0);for(var s=tn(),u=null,h=Ym;h!==null;){var g=h.next,T=e1(h,s);T===0?(h.next=null,u===null?Ym=g:u.next=g,g===null&&(yc=u)):(u=h,(i!==0||(T&3)!==0)&&(Gm=!0)),h=g}yf(i)}function e1(i,s){for(var u=i.suspendedLanes,h=i.pingedLanes,g=i.expirationTimes,T=i.pendingLanes&-62914561;0<T;){var C=31-Nt(T),k=1<<C,j=g[C];j===-1?((k&u)===0||(k&h)!==0)&&(g[C]=_o(k,s)):j<=s&&(i.expiredLanes|=k),T&=~k}if(s=vn,u=Vt,u=zr(i,i===s?u:0),h=i.callbackNode,u===0||i===s&&_n===2||i.cancelPendingCommit!==null)return h!==null&&h!==null&&Xn(h),i.callbackNode=null,i.callbackPriority=0;if((u&3)===0||qa(i,u)){if(s=u&-u,s===i.callbackPriority)return s;switch(h!==null&&Xn(h),Ue(u)){case 2:case 8:u=on;break;case 32:u=Wn;break;case 268435456:u=ii;break;default:u=Wn}return h=t1.bind(null,i),u=Nn(u,h),i.callbackPriority=s,i.callbackNode=u,s}return h!==null&&h!==null&&Xn(h),i.callbackPriority=2,i.callbackNode=null,2}function t1(i,s){var u=i.callbackNode;if(gc()&&i.callbackNode!==u)return null;var h=Vt;return h=zr(i,i===vn?h:0),h===0?null:(Fb(i,h,s),e1(i,tn()),i.callbackNode!=null&&i.callbackNode===u?t1.bind(null,i):null)}function n1(i,s){if(gc())return null;Fb(i,s,!0)}function sN(i){gN(function(){(Un&6)!==0?Nn(kt,i):i()})}function Y0(){return au===0&&(au=Y()),au}function r1(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Ga(""+i)}function i1(i,s){var u=s.ownerDocument.createElement("input");return u.name=s.name,u.value=s.value,i.id&&u.setAttribute("form",i.id),s.parentNode.insertBefore(u,s),i=new FormData(i),u.parentNode.removeChild(u),i}function oN(i,s,u,h,g){if(s==="submit"&&u&&u.stateNode===g){var T=r1((g[Qe]||null).action),C=h.submitter;C&&(s=(s=C[Qe]||null)?r1(s.formAction):C.getAttribute("formAction"),s!==null&&(T=s,C=null));var k=new Fu("action","action",null,h,g);i.push({event:k,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(au!==0){var j=C?i1(g,C):new FormData(g);t0(u,{pending:!0,data:j,method:g.method,action:T},null,j)}}else typeof T=="function"&&(k.preventDefault(),j=C?i1(g,C):new FormData(g),t0(u,{pending:!0,data:j,method:g.method,action:T},T,j))},currentTarget:g}]})}}for(var G0=0;G0<Zw.length;G0++){var Q0=Zw[G0],lN=Q0.toLowerCase(),uN=Q0[0].toUpperCase()+Q0.slice(1);Ca(lN,"on"+uN)}Ca(Hw,"onAnimationEnd"),Ca(Yw,"onAnimationIteration"),Ca(Gw,"onAnimationStart"),Ca("dblclick","onDoubleClick"),Ca("focusin","onFocus"),Ca("focusout","onBlur"),Ca(AO,"onTransitionRun"),Ca(CO,"onTransitionStart"),Ca(DO,"onTransitionCancel"),Ca(Qw,"onTransitionEnd"),Kt("onMouseEnter",["mouseout","mouseover"]),Kt("onMouseLeave",["mouseout","mouseover"]),Kt("onPointerEnter",["pointerout","pointerover"]),Kt("onPointerLeave",["pointerout","pointerover"]),vt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),vt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),vt("onBeforeInput",["compositionend","keypress","textInput","paste"]),vt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),vt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),vt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vf));function a1(i,s){s=(s&4)!==0;for(var u=0;u<i.length;u++){var h=i[u],g=h.event;h=h.listeners;e:{var T=void 0;if(s)for(var C=h.length-1;0<=C;C--){var k=h[C],j=k.instance,Q=k.currentTarget;if(k=k.listener,j!==T&&g.isPropagationStopped())break e;T=k,g.currentTarget=Q;try{T(g)}catch(ue){xm(ue)}g.currentTarget=null,T=j}else for(C=0;C<h.length;C++){if(k=h[C],j=k.instance,Q=k.currentTarget,k=k.listener,j!==T&&g.isPropagationStopped())break e;T=k,g.currentTarget=Q;try{T(g)}catch(ue){xm(ue)}g.currentTarget=null,T=j}}}}function Mt(i,s){var u=s[xn];u===void 0&&(u=s[xn]=new Set);var h=i+"__bubble";u.has(h)||(s1(s,i,2,!1),u.add(h))}function K0(i,s,u){var h=0;s&&(h|=4),s1(u,i,h,s)}var Qm="_reactListening"+Math.random().toString(36).slice(2);function Z0(i){if(!i[Qm]){i[Qm]=!0,Ha.forEach(function(u){u!=="selectionchange"&&(cN.has(u)||K0(u,!1,i),K0(u,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Qm]||(s[Qm]=!0,K0("selectionchange",!1,s))}}function s1(i,s,u,h){switch(I1(s)){case 2:var g=LN;break;case 8:g=VN;break;default:g=uv}u=g.bind(null,s,u,i),g=void 0,!sa||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(g=!0),h?g!==void 0?i.addEventListener(s,u,{capture:!0,passive:g}):i.addEventListener(s,u,!0):g!==void 0?i.addEventListener(s,u,{passive:g}):i.addEventListener(s,u,!1)}function X0(i,s,u,h,g){var T=h;if((s&1)===0&&(s&2)===0&&h!==null)e:for(;;){if(h===null)return;var C=h.tag;if(C===3||C===4){var k=h.stateNode.containerInfo;if(k===g||k.nodeType===8&&k.parentNode===g)break;if(C===4)for(C=h.return;C!==null;){var j=C.tag;if((j===3||j===4)&&(j=C.stateNode.containerInfo,j===g||j.nodeType===8&&j.parentNode===g))return;C=C.return}for(;k!==null;){if(C=Jn(k),C===null)return;if(j=C.tag,j===5||j===6||j===26||j===27){h=T=C;continue e}k=k.parentNode}}h=h.return}Jd(function(){var Q=T,ue=ju(u),ge=[];e:{var ne=Kw.get(i);if(ne!==void 0){var oe=Fu,je=i;switch(i){case"keypress":if(Ka(u)===0)break e;case"keydown":case"keyup":oe=Qu;break;case"focusin":je="focus",oe=Hu;break;case"focusout":je="blur",oe=Hu;break;case"beforeblur":case"afterblur":oe=Hu;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":oe=oa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":oe=by;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":oe=om;break;case Hw:case Yw:case Gw:oe=Yu;break;case Qw:oe=um;break;case"scroll":case"scrollend":oe=em;break;case"wheel":oe=Ku;break;case"copy":case"cut":case"paste":oe=Gu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":oe=jh;break;case"toggle":case"beforetoggle":oe=hm}var ct=(s&4)!==0,Kn=!ct&&(i==="scroll"||i==="scrollend"),X=ct?ne!==null?ne+"Capture":null:ne;ct=[];for(var G=Q,ee;G!==null;){var fe=G;if(ee=fe.stateNode,fe=fe.tag,fe!==5&&fe!==26&&fe!==27||ee===null||X===null||(fe=Pl(G,X),fe!=null&&ct.push(_f(G,fe,ee))),Kn)break;G=G.return}0<ct.length&&(ne=new oe(ne,je,null,u,ue),ge.push({event:ne,listeners:ct}))}}if((s&7)===0){e:{if(ne=i==="mouseover"||i==="pointerover",oe=i==="mouseout"||i==="pointerout",ne&&u!==aa&&(je=u.relatedTarget||u.fromElement)&&(Jn(je)||je[$t]))break e;if((oe||ne)&&(ne=ue.window===ue?ue:(ne=ue.ownerDocument)?ne.defaultView||ne.parentWindow:window,oe?(je=u.relatedTarget||u.toElement,oe=Q,je=je?Jn(je):null,je!==null&&(Kn=pe(je),ct=je.tag,je!==Kn||ct!==5&&ct!==27&&ct!==6)&&(je=null)):(oe=null,je=Q),oe!==je)){if(ct=oa,fe="onMouseLeave",X="onMouseEnter",G="mouse",(i==="pointerout"||i==="pointerover")&&(ct=jh,fe="onPointerLeave",X="onPointerEnter",G="pointer"),Kn=oe==null?ne:ta(oe),ee=je==null?ne:ta(je),ne=new ct(fe,G+"leave",oe,u,ue),ne.target=Kn,ne.relatedTarget=ee,fe=null,Jn(ue)===Q&&(ct=new ct(X,G+"enter",je,u,ue),ct.target=ee,ct.relatedTarget=Kn,fe=ct),Kn=fe,oe&&je)t:{for(ct=oe,X=je,G=0,ee=ct;ee;ee=vc(ee))G++;for(ee=0,fe=X;fe;fe=vc(fe))ee++;for(;0<G-ee;)ct=vc(ct),G--;for(;0<ee-G;)X=vc(X),ee--;for(;G--;){if(ct===X||X!==null&&ct===X.alternate)break t;ct=vc(ct),X=vc(X)}ct=null}else ct=null;oe!==null&&o1(ge,ne,oe,ct,!1),je!==null&&Kn!==null&&o1(ge,Kn,je,ct,!0)}}e:{if(ne=Q?ta(Q):window,oe=ne.nodeName&&ne.nodeName.toLowerCase(),oe==="select"||oe==="input"&&ne.type==="file")var Ve=kw;else if(gr(ne))if(Pw)Ve=EO;else{Ve=TO;var Et=_O}else oe=ne.nodeName,!oe||oe.toLowerCase()!=="input"||ne.type!=="checkbox"&&ne.type!=="radio"?Q&&kh(Q.elementType)&&(Ve=kw):Ve=wO;if(Ve&&(Ve=Ve(i,Q))){Ls(ge,Ve,u,ue);break e}Et&&Et(i,ne,Q),i==="focusout"&&Q&&ne.type==="number"&&Q.memoizedProps.value!=null&&Bu(ne,"number",ne.value)}switch(Et=Q?ta(Q):window,i){case"focusin":(gr(Et)||Et.contentEditable==="true")&&(Zu=Et,Dy=Q,qh=null);break;case"focusout":qh=Dy=Zu=null;break;case"mousedown":Iy=!0;break;case"contextmenu":case"mouseup":case"dragend":Iy=!1,$w(ge,u,ue);break;case"selectionchange":if(SO)break;case"keydown":case"keyup":$w(ge,u,ue)}var qe;if(Wa)e:{switch(i){case"compositionstart":var Xe="onCompositionStart";break e;case"compositionend":Xe="onCompositionEnd";break e;case"compositionupdate":Xe="onCompositionUpdate";break e}Xe=void 0}else Pt?se(i,u)&&(Xe="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(Xe="onCompositionStart");Xe&&(A&&u.locale!=="ko"&&(Pt||Xe!=="onCompositionStart"?Xe==="onCompositionEnd"&&Pt&&(qe=Lh()):(Qa=ue,bo="value"in Qa?Qa.value:Qa.textContent,Pt=!0)),Et=Km(Q,Xe),0<Et.length&&(Xe=new zh(Xe,i,null,u,ue),ge.push({event:Xe,listeners:Et}),qe?Xe.data=qe:(qe=be(u),qe!==null&&(Xe.data=qe)))),(qe=b?pr(i,u):Lt(i,u))&&(Xe=Km(Q,"onBeforeInput"),0<Xe.length&&(Et=new zh("onBeforeInput","beforeinput",null,u,ue),ge.push({event:Et,listeners:Xe}),Et.data=qe)),oN(ge,i,Q,u,ue)}a1(ge,s)})}function _f(i,s,u){return{instance:i,listener:s,currentTarget:u}}function Km(i,s){for(var u=s+"Capture",h=[];i!==null;){var g=i,T=g.stateNode;g=g.tag,g!==5&&g!==26&&g!==27||T===null||(g=Pl(i,u),g!=null&&h.unshift(_f(i,g,T)),g=Pl(i,s),g!=null&&h.push(_f(i,g,T))),i=i.return}return h}function vc(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function o1(i,s,u,h,g){for(var T=s._reactName,C=[];u!==null&&u!==h;){var k=u,j=k.alternate,Q=k.stateNode;if(k=k.tag,j!==null&&j===h)break;k!==5&&k!==26&&k!==27||Q===null||(j=Q,g?(Q=Pl(u,T),Q!=null&&C.unshift(_f(u,Q,j))):g||(Q=Pl(u,T),Q!=null&&C.push(_f(u,Q,j)))),u=u.return}C.length!==0&&i.push({event:s,listeners:C})}var hN=/\r\n?/g,fN=/\u0000|\uFFFD/g;function l1(i){return(typeof i=="string"?i:""+i).replace(hN,`
`).replace(fN,"")}function u1(i,s){return s=l1(s),l1(i)===s}function Zm(){}function un(i,s,u,h,g,T){switch(u){case"children":typeof h=="string"?s==="body"||s==="textarea"&&h===""||ia(i,h):(typeof h=="number"||typeof h=="bigint")&&s!=="body"&&ia(i,""+h);break;case"className":To(i,"class",h);break;case"tabIndex":To(i,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":To(i,u,h);break;case"style":Wd(i,h,T);break;case"data":if(s!=="object"){To(i,"data",h);break}case"src":case"href":if(h===""&&(s!=="a"||u!=="href")){i.removeAttribute(u);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(u);break}h=Ga(""+h),i.setAttribute(u,h);break;case"action":case"formAction":if(typeof h=="function"){i.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof T=="function"&&(u==="formAction"?(s!=="input"&&un(i,s,"name",g.name,g,null),un(i,s,"formEncType",g.formEncType,g,null),un(i,s,"formMethod",g.formMethod,g,null),un(i,s,"formTarget",g.formTarget,g,null)):(un(i,s,"encType",g.encType,g,null),un(i,s,"method",g.method,g,null),un(i,s,"target",g.target,g,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(u);break}h=Ga(""+h),i.setAttribute(u,h);break;case"onClick":h!=null&&(i.onclick=Zm);break;case"onScroll":h!=null&&Mt("scroll",i);break;case"onScrollEnd":h!=null&&Mt("scrollend",i);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(u=h.__html,u!=null){if(g.children!=null)throw Error(r(60));i.innerHTML=u}}break;case"multiple":i.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":i.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){i.removeAttribute("xlink:href");break}u=Ga(""+h),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(u,""+h):i.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(u,""):i.removeAttribute(u);break;case"capture":case"download":h===!0?i.setAttribute(u,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(u,h):i.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?i.setAttribute(u,h):i.removeAttribute(u);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?i.removeAttribute(u):i.setAttribute(u,h);break;case"popover":Mt("beforetoggle",i),Mt("toggle",i),Ya(i,"popover",h);break;case"xlinkActuate":ra(i,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":ra(i,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":ra(i,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":ra(i,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":ra(i,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":ra(i,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":ra(i,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":ra(i,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":ra(i,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":Ya(i,"is",h);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=wy.get(u)||u,Ya(i,u,h))}}function W0(i,s,u,h,g,T){switch(u){case"style":Wd(i,h,T);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(u=h.__html,u!=null){if(g.children!=null)throw Error(r(60));i.innerHTML=u}}break;case"children":typeof h=="string"?ia(i,h):(typeof h=="number"||typeof h=="bigint")&&ia(i,""+h);break;case"onScroll":h!=null&&Mt("scroll",i);break;case"onScrollEnd":h!=null&&Mt("scrollend",i);break;case"onClick":h!=null&&(i.onclick=Zm);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Aa.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(g=u.endsWith("Capture"),s=u.slice(2,g?u.length-7:void 0),T=i[Qe]||null,T=T!=null?T[u]:null,typeof T=="function"&&i.removeEventListener(s,T,g),typeof h=="function")){typeof T!="function"&&T!==null&&(u in i?i[u]=null:i.hasAttribute(u)&&i.removeAttribute(u)),i.addEventListener(s,h,g);break e}u in i?i[u]=h:h===!0?i.setAttribute(u,""):Ya(i,u,h)}}}function $r(i,s,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mt("error",i),Mt("load",i);var h=!1,g=!1,T;for(T in u)if(u.hasOwnProperty(T)){var C=u[T];if(C!=null)switch(T){case"src":h=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:un(i,s,T,C,u,null)}}g&&un(i,s,"srcSet",u.srcSet,u,null),h&&un(i,s,"src",u.src,u,null);return;case"input":Mt("invalid",i);var k=T=C=g=null,j=null,Q=null;for(h in u)if(u.hasOwnProperty(h)){var ue=u[h];if(ue!=null)switch(h){case"name":g=ue;break;case"type":C=ue;break;case"checked":j=ue;break;case"defaultChecked":Q=ue;break;case"value":T=ue;break;case"defaultValue":k=ue;break;case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(r(137,s));break;default:un(i,s,h,ue,u,null)}}xl(i,T,k,j,Q,C,g,!1),Ml(i);return;case"select":Mt("invalid",i),h=C=T=null;for(g in u)if(u.hasOwnProperty(g)&&(k=u[g],k!=null))switch(g){case"value":T=k;break;case"defaultValue":C=k;break;case"multiple":h=k;default:un(i,s,g,k,u,null)}s=T,u=C,i.multiple=!!h,s!=null?qt(i,!!h,s,!1):u!=null&&qt(i,!!h,u,!0);return;case"textarea":Mt("invalid",i),T=g=h=null;for(C in u)if(u.hasOwnProperty(C)&&(k=u[C],k!=null))switch(C){case"value":h=k;break;case"defaultValue":g=k;break;case"children":T=k;break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(r(91));break;default:un(i,s,C,k,u,null)}Eo(i,h,g,T),Ml(i);return;case"option":for(j in u)if(u.hasOwnProperty(j)&&(h=u[j],h!=null))switch(j){case"selected":i.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:un(i,s,j,h,u,null)}return;case"dialog":Mt("cancel",i),Mt("close",i);break;case"iframe":case"object":Mt("load",i);break;case"video":case"audio":for(h=0;h<vf.length;h++)Mt(vf[h],i);break;case"image":Mt("error",i),Mt("load",i);break;case"details":Mt("toggle",i);break;case"embed":case"source":case"link":Mt("error",i),Mt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in u)if(u.hasOwnProperty(Q)&&(h=u[Q],h!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:un(i,s,Q,h,u,null)}return;default:if(kh(s)){for(ue in u)u.hasOwnProperty(ue)&&(h=u[ue],h!==void 0&&W0(i,s,ue,h,u,void 0));return}}for(k in u)u.hasOwnProperty(k)&&(h=u[k],h!=null&&un(i,s,k,h,u,null))}function dN(i,s,u,h){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,T=null,C=null,k=null,j=null,Q=null,ue=null;for(oe in u){var ge=u[oe];if(u.hasOwnProperty(oe)&&ge!=null)switch(oe){case"checked":break;case"value":break;case"defaultValue":j=ge;default:h.hasOwnProperty(oe)||un(i,s,oe,null,h,ge)}}for(var ne in h){var oe=h[ne];if(ge=u[ne],h.hasOwnProperty(ne)&&(oe!=null||ge!=null))switch(ne){case"type":T=oe;break;case"name":g=oe;break;case"checked":Q=oe;break;case"defaultChecked":ue=oe;break;case"value":C=oe;break;case"defaultValue":k=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(r(137,s));break;default:oe!==ge&&un(i,s,ne,oe,h,ge)}}wo(i,C,k,j,Q,ue,T,g);return;case"select":oe=C=k=ne=null;for(T in u)if(j=u[T],u.hasOwnProperty(T)&&j!=null)switch(T){case"value":break;case"multiple":oe=j;default:h.hasOwnProperty(T)||un(i,s,T,null,h,j)}for(g in h)if(T=h[g],j=u[g],h.hasOwnProperty(g)&&(T!=null||j!=null))switch(g){case"value":ne=T;break;case"defaultValue":k=T;break;case"multiple":C=T;default:T!==j&&un(i,s,g,T,h,j)}s=k,u=C,h=oe,ne!=null?qt(i,!!u,ne,!1):!!h!=!!u&&(s!=null?qt(i,!!u,s,!0):qt(i,!!u,u?[]:"",!1));return;case"textarea":oe=ne=null;for(k in u)if(g=u[k],u.hasOwnProperty(k)&&g!=null&&!h.hasOwnProperty(k))switch(k){case"value":break;case"children":break;default:un(i,s,k,null,h,g)}for(C in h)if(g=h[C],T=u[C],h.hasOwnProperty(C)&&(g!=null||T!=null))switch(C){case"value":ne=g;break;case"defaultValue":oe=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(r(91));break;default:g!==T&&un(i,s,C,g,h,T)}kl(i,ne,oe);return;case"option":for(var je in u)if(ne=u[je],u.hasOwnProperty(je)&&ne!=null&&!h.hasOwnProperty(je))switch(je){case"selected":i.selected=!1;break;default:un(i,s,je,null,h,ne)}for(j in h)if(ne=h[j],oe=u[j],h.hasOwnProperty(j)&&ne!==oe&&(ne!=null||oe!=null))switch(j){case"selected":i.selected=ne&&typeof ne!="function"&&typeof ne!="symbol";break;default:un(i,s,j,ne,h,oe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ct in u)ne=u[ct],u.hasOwnProperty(ct)&&ne!=null&&!h.hasOwnProperty(ct)&&un(i,s,ct,null,h,ne);for(Q in h)if(ne=h[Q],oe=u[Q],h.hasOwnProperty(Q)&&ne!==oe&&(ne!=null||oe!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(r(137,s));break;default:un(i,s,Q,ne,h,oe)}return;default:if(kh(s)){for(var Kn in u)ne=u[Kn],u.hasOwnProperty(Kn)&&ne!==void 0&&!h.hasOwnProperty(Kn)&&W0(i,s,Kn,void 0,h,ne);for(ue in h)ne=h[ue],oe=u[ue],!h.hasOwnProperty(ue)||ne===oe||ne===void 0&&oe===void 0||W0(i,s,ue,ne,h,oe);return}}for(var X in u)ne=u[X],u.hasOwnProperty(X)&&ne!=null&&!h.hasOwnProperty(X)&&un(i,s,X,null,h,ne);for(ge in h)ne=h[ge],oe=u[ge],!h.hasOwnProperty(ge)||ne===oe||ne==null&&oe==null||un(i,s,ge,ne,h,oe)}var J0=null,ev=null;function Xm(i){return i.nodeType===9?i:i.ownerDocument}function c1(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function h1(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function tv(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var nv=null;function mN(){var i=window.event;return i&&i.type==="popstate"?i===nv?!1:(nv=i,!0):(nv=null,!1)}var f1=typeof setTimeout=="function"?setTimeout:void 0,pN=typeof clearTimeout=="function"?clearTimeout:void 0,d1=typeof Promise=="function"?Promise:void 0,gN=typeof queueMicrotask=="function"?queueMicrotask:typeof d1<"u"?function(i){return d1.resolve(null).then(i).catch(yN)}:f1;function yN(i){setTimeout(function(){throw i})}function rv(i,s){var u=s,h=0;do{var g=u.nextSibling;if(i.removeChild(u),g&&g.nodeType===8)if(u=g.data,u==="/$"){if(h===0){i.removeChild(g),Cf(s);return}h--}else u!=="$"&&u!=="$?"&&u!=="$!"||h++;u=g}while(u);Cf(s)}function iv(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var u=s;switch(s=s.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":iv(u),ji(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}i.removeChild(u)}}function vN(i,s,u,h){for(;i.nodeType===1;){var g=u;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!h&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(h){if(!i[yi])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(T=i.getAttribute("rel"),T==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(T!==g.rel||i.getAttribute("href")!==(g.href==null?null:g.href)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||i.getAttribute("title")!==(g.title==null?null:g.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(T=i.getAttribute("src"),(T!==(g.src==null?null:g.src)||i.getAttribute("type")!==(g.type==null?null:g.type)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&T&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var T=g.name==null?null:""+g.name;if(g.type==="hidden"&&i.getAttribute("name")===T)return i}else return i;if(i=Oa(i.nextSibling),i===null)break}return null}function _N(i,s,u){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!u||(i=Oa(i.nextSibling),i===null))return null;return i}function Oa(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return i}function m1(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(s===0)return i;s--}else u==="/$"&&s++}i=i.previousSibling}return null}function p1(i,s,u){switch(s=Xm(u),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}var ya=new Map,g1=new Set;function Wm(i){return typeof i.getRootNode=="function"?i.getRootNode():i.ownerDocument}var Xs=ve.d;ve.d={f:TN,r:wN,D:EN,C:bN,L:RN,m:SN,X:CN,S:AN,M:DN};function TN(){var i=Xs.f(),s=qm();return i||s}function wN(i){var s=sr(i);s!==null&&s.tag===5&&s.type==="form"?$E(s):Xs.r(i)}var _c=typeof document>"u"?null:document;function y1(i,s,u){var h=_c;if(h&&typeof s=="string"&&s){var g=Yn(s);g='link[rel="'+i+'"][href="'+g+'"]',typeof u=="string"&&(g+='[crossorigin="'+u+'"]'),g1.has(g)||(g1.add(g),i={rel:i,crossOrigin:u,href:s},h.querySelector(g)===null&&(s=h.createElement("link"),$r(s,"link",i),Qt(s),h.head.appendChild(s)))}}function EN(i){Xs.D(i),y1("dns-prefetch",i,null)}function bN(i,s){Xs.C(i,s),y1("preconnect",i,s)}function RN(i,s,u){Xs.L(i,s,u);var h=_c;if(h&&i&&s){var g='link[rel="preload"][as="'+Yn(s)+'"]';s==="image"&&u&&u.imageSrcSet?(g+='[imagesrcset="'+Yn(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(g+='[imagesizes="'+Yn(u.imageSizes)+'"]')):g+='[href="'+Yn(i)+'"]';var T=g;switch(s){case"style":T=Tc(i);break;case"script":T=wc(i)}ya.has(T)||(i=z({rel:"preload",href:s==="image"&&u&&u.imageSrcSet?void 0:i,as:s},u),ya.set(T,i),h.querySelector(g)!==null||s==="style"&&h.querySelector(Tf(T))||s==="script"&&h.querySelector(wf(T))||(s=h.createElement("link"),$r(s,"link",i),Qt(s),h.head.appendChild(s)))}}function SN(i,s){Xs.m(i,s);var u=_c;if(u&&i){var h=s&&typeof s.as=="string"?s.as:"script",g='link[rel="modulepreload"][as="'+Yn(h)+'"][href="'+Yn(i)+'"]',T=g;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":T=wc(i)}if(!ya.has(T)&&(i=z({rel:"modulepreload",href:i},s),ya.set(T,i),u.querySelector(g)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(wf(T)))return}h=u.createElement("link"),$r(h,"link",i),Qt(h),u.head.appendChild(h)}}}function AN(i,s,u){Xs.S(i,s,u);var h=_c;if(h&&i){var g=Ni(h).hoistableStyles,T=Tc(i);s=s||"default";var C=g.get(T);if(!C){var k={loading:0,preload:null};if(C=h.querySelector(Tf(T)))k.loading=5;else{i=z({rel:"stylesheet",href:i,"data-precedence":s},u),(u=ya.get(T))&&av(i,u);var j=C=h.createElement("link");Qt(j),$r(j,"link",i),j._p=new Promise(function(Q,ue){j.onload=Q,j.onerror=ue}),j.addEventListener("load",function(){k.loading|=1}),j.addEventListener("error",function(){k.loading|=2}),k.loading|=4,Jm(C,s,h)}C={type:"stylesheet",instance:C,count:1,state:k},g.set(T,C)}}}function CN(i,s){Xs.X(i,s);var u=_c;if(u&&i){var h=Ni(u).hoistableScripts,g=wc(i),T=h.get(g);T||(T=u.querySelector(wf(g)),T||(i=z({src:i,async:!0},s),(s=ya.get(g))&&sv(i,s),T=u.createElement("script"),Qt(T),$r(T,"link",i),u.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},h.set(g,T))}}function DN(i,s){Xs.M(i,s);var u=_c;if(u&&i){var h=Ni(u).hoistableScripts,g=wc(i),T=h.get(g);T||(T=u.querySelector(wf(g)),T||(i=z({src:i,async:!0,type:"module"},s),(s=ya.get(g))&&sv(i,s),T=u.createElement("script"),Qt(T),$r(T,"link",i),u.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},h.set(g,T))}}function v1(i,s,u,h){var g=(g=mt.current)?Wm(g):null;if(!g)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(s=Tc(u.href),u=Ni(g).hoistableStyles,h=u.get(s),h||(h={type:"style",instance:null,count:0,state:null},u.set(s,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){i=Tc(u.href);var T=Ni(g).hoistableStyles,C=T.get(i);if(C||(g=g.ownerDocument||g,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},T.set(i,C),(T=g.querySelector(Tf(i)))&&!T._p&&(C.instance=T,C.state.loading=5),ya.has(i)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},ya.set(i,u),T||IN(g,i,u,C.state))),s&&h===null)throw Error(r(528,""));return C}if(s&&h!==null)throw Error(r(529,""));return null;case"script":return s=u.async,u=u.src,typeof u=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=wc(u),u=Ni(g).hoistableScripts,h=u.get(s),h||(h={type:"script",instance:null,count:0,state:null},u.set(s,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Tc(i){return'href="'+Yn(i)+'"'}function Tf(i){return'link[rel="stylesheet"]['+i+"]"}function _1(i){return z({},i,{"data-precedence":i.precedence,precedence:null})}function IN(i,s,u,h){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?h.loading=1:(s=i.createElement("link"),h.preload=s,s.addEventListener("load",function(){return h.loading|=1}),s.addEventListener("error",function(){return h.loading|=2}),$r(s,"link",u),Qt(s),i.head.appendChild(s))}function wc(i){return'[src="'+Yn(i)+'"]'}function wf(i){return"script[async]"+i}function T1(i,s,u){if(s.count++,s.instance===null)switch(s.type){case"style":var h=i.querySelector('style[data-href~="'+Yn(u.href)+'"]');if(h)return s.instance=h,Qt(h),h;var g=z({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return h=(i.ownerDocument||i).createElement("style"),Qt(h),$r(h,"style",g),Jm(h,u.precedence,i),s.instance=h;case"stylesheet":g=Tc(u.href);var T=i.querySelector(Tf(g));if(T)return s.state.loading|=4,s.instance=T,Qt(T),T;h=_1(u),(g=ya.get(g))&&av(h,g),T=(i.ownerDocument||i).createElement("link"),Qt(T);var C=T;return C._p=new Promise(function(k,j){C.onload=k,C.onerror=j}),$r(T,"link",h),s.state.loading|=4,Jm(T,u.precedence,i),s.instance=T;case"script":return T=wc(u.src),(g=i.querySelector(wf(T)))?(s.instance=g,Qt(g),g):(h=u,(g=ya.get(T))&&(h=z({},u),sv(h,g)),i=i.ownerDocument||i,g=i.createElement("script"),Qt(g),$r(g,"link",h),i.head.appendChild(g),s.instance=g);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(h=s.instance,s.state.loading|=4,Jm(h,u.precedence,i));return s.instance}function Jm(i,s,u){for(var h=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=h.length?h[h.length-1]:null,T=g,C=0;C<h.length;C++){var k=h[C];if(k.dataset.precedence===s)T=k;else if(T!==g)break}T?T.parentNode.insertBefore(i,T.nextSibling):(s=u.nodeType===9?u.head:u,s.insertBefore(i,s.firstChild))}function av(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function sv(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var ep=null;function w1(i,s,u){if(ep===null){var h=new Map,g=ep=new Map;g.set(u,h)}else g=ep,h=g.get(u),h||(h=new Map,g.set(u,h));if(h.has(i))return h;for(h.set(i,null),u=u.getElementsByTagName(i),g=0;g<u.length;g++){var T=u[g];if(!(T[yi]||T[Pe]||i==="link"&&T.getAttribute("rel")==="stylesheet")&&T.namespaceURI!=="http://www.w3.org/2000/svg"){var C=T.getAttribute(s)||"";C=i+C;var k=h.get(C);k?k.push(T):h.set(C,[T])}}return h}function E1(i,s,u){i=i.ownerDocument||i,i.head.insertBefore(u,s==="title"?i.querySelector("head > title"):null)}function ON(i,s,u){if(u===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function b1(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Ef=null;function NN(){}function MN(i,s,u){if(Ef===null)throw Error(r(475));var h=Ef;if(s.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var g=Tc(u.href),T=i.querySelector(Tf(g));if(T){i=T._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(h.count++,h=tp.bind(h),i.then(h,h)),s.state.loading|=4,s.instance=T,Qt(T);return}T=i.ownerDocument||i,u=_1(u),(g=ya.get(g))&&av(u,g),T=T.createElement("link"),Qt(T);var C=T;C._p=new Promise(function(k,j){C.onload=k,C.onerror=j}),$r(T,"link",u),s.instance=T}h.stylesheets===null&&(h.stylesheets=new Map),h.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(h.count++,s=tp.bind(h),i.addEventListener("load",s),i.addEventListener("error",s))}}function xN(){if(Ef===null)throw Error(r(475));var i=Ef;return i.stylesheets&&i.count===0&&ov(i,i.stylesheets),0<i.count?function(s){var u=setTimeout(function(){if(i.stylesheets&&ov(i,i.stylesheets),i.unsuspend){var h=i.unsuspend;i.unsuspend=null,h()}},6e4);return i.unsuspend=s,function(){i.unsuspend=null,clearTimeout(u)}}:null}function tp(){if(this.count--,this.count===0){if(this.stylesheets)ov(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var np=null;function ov(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,np=new Map,s.forEach(kN,i),np=null,tp.call(i))}function kN(i,s){if(!(s.state.loading&4)){var u=np.get(i);if(u)var h=u.get(null);else{u=new Map,np.set(i,u);for(var g=i.querySelectorAll("link[data-precedence],style[data-precedence]"),T=0;T<g.length;T++){var C=g[T];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(u.set(C.dataset.precedence,C),h=C)}h&&u.set(null,h)}g=s.instance,C=g.getAttribute("data-precedence"),T=u.get(C)||h,T===h&&u.set(null,g),u.set(C,g),this.count++,h=tp.bind(this),g.addEventListener("load",h),g.addEventListener("error",h),T?T.parentNode.insertBefore(g,T.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(g,i.firstChild)),s.state.loading|=4}}var bf={$$typeof:E,Provider:null,Consumer:null,_currentValue:Ae,_currentValue2:Ae,_threadCount:0};function PN(i,s,u,h,g,T,C,k){this.tag=1,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=re(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=re(0),this.hiddenUpdates=re(null),this.identifierPrefix=h,this.onUncaughtError=g,this.onCaughtError=T,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function R1(i,s,u,h,g,T,C,k,j,Q,ue,ge){return i=new PN(i,s,u,C,k,j,Q,ge),s=1,T===!0&&(s|=24),T=pa(3,null,null,s),i.current=T,T.stateNode=i,s=zy(),s.refCount++,i.pooledCache=s,s.refCount++,T.memoizedState={element:h,isDehydrated:u,cache:s},_0(T),i}function S1(i){return i?(i=Ju,i):Ju}function A1(i,s,u,h,g,T){g=S1(g),h.context===null?h.context=g:h.pendingContext=g,h=No(s),h.payload={element:u},T=T===void 0?null:T,T!==null&&(h.callback=T),u=Mo(i,h,s),u!==null&&(wi(u,i,s),sf(u,i,s))}function C1(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<s?u:s}}function lv(i,s){C1(i,s),(i=i.alternate)&&C1(i,s)}function D1(i){if(i.tag===13){var s=Ro(i,67108864);s!==null&&wi(s,i,67108864),lv(i,67108864)}}var rp=!0;function LN(i,s,u,h){var g=O.T;O.T=null;var T=ve.p;try{ve.p=2,uv(i,s,u,h)}finally{ve.p=T,O.T=g}}function VN(i,s,u,h){var g=O.T;O.T=null;var T=ve.p;try{ve.p=8,uv(i,s,u,h)}finally{ve.p=T,O.T=g}}function uv(i,s,u,h){if(rp){var g=cv(h);if(g===null)X0(i,s,h,ip,u),O1(i,h);else if(zN(g,i,s,u,h))h.stopPropagation();else if(O1(i,h),s&4&&-1<UN.indexOf(i)){for(;g!==null;){var T=sr(g);if(T!==null)switch(T.tag){case 3:if(T=T.stateNode,T.current.memoizedState.isDehydrated){var C=ai(T.pendingLanes);if(C!==0){var k=T;for(k.pendingLanes|=2,k.entangledLanes|=2;C;){var j=1<<31-Nt(C);k.entanglements[1]|=j,C&=~j}is(T),(Un&6)===0&&(jm=tn()+500,yf(0))}}break;case 13:k=Ro(T,2),k!==null&&wi(k,T,2),qm(),lv(T,2)}if(T=cv(h),T===null&&X0(i,s,h,ip,u),T===g)break;g=T}g!==null&&h.stopPropagation()}else X0(i,s,h,null,u)}}function cv(i){return i=ju(i),hv(i)}var ip=null;function hv(i){if(ip=null,i=Jn(i),i!==null){var s=pe(i);if(s===null)i=null;else{var u=s.tag;if(u===13){if(i=le(s),i!==null)return i;i=null}else if(u===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return ip=i,null}function I1(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ln()){case kt:return 2;case on:return 8;case Wn:case Ra:return 32;case ii:return 268435456;default:return 32}default:return 32}}var fv=!1,zo=null,Bo=null,jo=null,Rf=new Map,Sf=new Map,Fo=[],UN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function O1(i,s){switch(i){case"focusin":case"focusout":zo=null;break;case"dragenter":case"dragleave":Bo=null;break;case"mouseover":case"mouseout":jo=null;break;case"pointerover":case"pointerout":Rf.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sf.delete(s.pointerId)}}function Af(i,s,u,h,g,T){return i===null||i.nativeEvent!==T?(i={blockedOn:s,domEventName:u,eventSystemFlags:h,nativeEvent:T,targetContainers:[g]},s!==null&&(s=sr(s),s!==null&&D1(s)),i):(i.eventSystemFlags|=h,s=i.targetContainers,g!==null&&s.indexOf(g)===-1&&s.push(g),i)}function zN(i,s,u,h,g){switch(s){case"focusin":return zo=Af(zo,i,s,u,h,g),!0;case"dragenter":return Bo=Af(Bo,i,s,u,h,g),!0;case"mouseover":return jo=Af(jo,i,s,u,h,g),!0;case"pointerover":var T=g.pointerId;return Rf.set(T,Af(Rf.get(T)||null,i,s,u,h,g)),!0;case"gotpointercapture":return T=g.pointerId,Sf.set(T,Af(Sf.get(T)||null,i,s,u,h,g)),!0}return!1}function N1(i){var s=Jn(i.target);if(s!==null){var u=pe(s);if(u!==null){if(s=u.tag,s===13){if(s=le(u),s!==null){i.blockedOn=s,Oe(i.priority,function(){if(u.tag===13){var h=Yi(),g=Ro(u,h);g!==null&&wi(g,u,h),lv(u,h)}});return}}else if(s===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function ap(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var u=cv(i.nativeEvent);if(u===null){u=i.nativeEvent;var h=new u.constructor(u.type,u);aa=h,u.target.dispatchEvent(h),aa=null}else return s=sr(u),s!==null&&D1(s),i.blockedOn=u,!1;s.shift()}return!0}function M1(i,s,u){ap(i)&&u.delete(s)}function BN(){fv=!1,zo!==null&&ap(zo)&&(zo=null),Bo!==null&&ap(Bo)&&(Bo=null),jo!==null&&ap(jo)&&(jo=null),Rf.forEach(M1),Sf.forEach(M1)}function sp(i,s){i.blockedOn===s&&(i.blockedOn=null,fv||(fv=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,BN)))}var op=null;function x1(i){op!==i&&(op=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){op===i&&(op=null);for(var s=0;s<i.length;s+=3){var u=i[s],h=i[s+1],g=i[s+2];if(typeof h!="function"){if(hv(h||u)===null)continue;break}var T=sr(u);T!==null&&(i.splice(s,3),s-=3,t0(T,{pending:!0,data:g,method:u.method,action:h},h,g))}}))}function Cf(i){function s(j){return sp(j,i)}zo!==null&&sp(zo,i),Bo!==null&&sp(Bo,i),jo!==null&&sp(jo,i),Rf.forEach(s),Sf.forEach(s);for(var u=0;u<Fo.length;u++){var h=Fo[u];h.blockedOn===i&&(h.blockedOn=null)}for(;0<Fo.length&&(u=Fo[0],u.blockedOn===null);)N1(u),u.blockedOn===null&&Fo.shift();if(u=(i.ownerDocument||i).$$reactFormReplay,u!=null)for(h=0;h<u.length;h+=3){var g=u[h],T=u[h+1],C=g[Qe]||null;if(typeof T=="function")C||x1(u);else if(C){var k=null;if(T&&T.hasAttribute("formAction")){if(g=T,C=T[Qe]||null)k=C.formAction;else if(hv(g)!==null)continue}else k=C.action;typeof k=="function"?u[h+1]=k:(u.splice(h,3),h-=3),x1(u)}}}function dv(i){this._internalRoot=i}lp.prototype.render=dv.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var u=s.current,h=Yi();A1(u,h,i,s,null,null)},lp.prototype.unmount=dv.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;i.tag===0&&gc(),A1(i.current,2,null,i,null,null),qm(),s[$t]=null}};function lp(i){this._internalRoot=i}lp.prototype.unstable_scheduleHydration=function(i){if(i){var s=Be();i={blockedOn:null,target:i,priority:s};for(var u=0;u<Fo.length&&s!==0&&s<Fo[u].priority;u++);Fo.splice(u,0,i),u===0&&N1(i)}};var k1=e.version;if(k1!=="19.0.0")throw Error(r(527,k1,"19.0.0"));ve.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=ae(s),i=i!==null?Te(i):null,i=i===null?null:i.stateNode,i};var jN={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:O,findFiberByHostInstance:Jn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var up=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!up.isDisabled&&up.supportsFiber)try{Mn=up.inject(jN),Hn=up}catch{}}return Of.createRoot=function(i,s){if(!a(i))throw Error(r(299));var u=!1,h="",g=XE,T=WE,C=JE,k=null;return s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(g=s.onUncaughtError),s.onCaughtError!==void 0&&(T=s.onCaughtError),s.onRecoverableError!==void 0&&(C=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(k=s.unstable_transitionCallbacks)),s=R1(i,1,!1,null,null,u,h,g,T,C,k,null),i[$t]=s.current,Z0(i.nodeType===8?i.parentNode:i),new dv(s)},Of.hydrateRoot=function(i,s,u){if(!a(i))throw Error(r(299));var h=!1,g="",T=XE,C=WE,k=JE,j=null,Q=null;return u!=null&&(u.unstable_strictMode===!0&&(h=!0),u.identifierPrefix!==void 0&&(g=u.identifierPrefix),u.onUncaughtError!==void 0&&(T=u.onUncaughtError),u.onCaughtError!==void 0&&(C=u.onCaughtError),u.onRecoverableError!==void 0&&(k=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(j=u.unstable_transitionCallbacks),u.formState!==void 0&&(Q=u.formState)),s=R1(i,1,!0,s,u??null,h,g,T,C,k,j,Q),s.context=S1(null),u=s.current,h=Yi(),g=No(h),g.callback=null,Mo(u,g,h),s.current.lanes=h,ce(s,h),is(s),i[$t]=s.current,Z0(i),new lp(s)},Of.version="19.0.0",Of}var H1;function PM(){if(H1)return gv.exports;H1=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),gv.exports=kM(),gv.exports}var LM=PM(),Nf={},Y1;function VM(){if(Y1)return Nf;Y1=1,Object.defineProperty(Nf,"__esModule",{value:!0}),Nf.parse=l,Nf.serialize=d;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,o=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function l(w,E){const R=new o,S=w.length;if(S<2)return R;const D=(E==null?void 0:E.decode)||p;let N=0;do{const M=w.indexOf("=",N);if(M===-1)break;const L=w.indexOf(";",N),$=L===-1?S:L;if(M>$){N=w.lastIndexOf(";",M-1)+1;continue}const P=c(w,N,M),H=f(w,M,P),x=w.slice(P,H);if(R[x]===void 0){let I=c(w,M+1,$),O=f(w,$,I);const z=D(w.slice(I,O));R[x]=z}N=$+1}while(N<S);return R}function c(w,E,R){do{const S=w.charCodeAt(E);if(S!==32&&S!==9)return E}while(++E<R);return R}function f(w,E,R){for(;E>R;){const S=w.charCodeAt(--E);if(S!==32&&S!==9)return E+1}return R}function d(w,E,R){const S=(R==null?void 0:R.encode)||encodeURIComponent;if(!n.test(w))throw new TypeError(`argument name is invalid: ${w}`);const D=S(E);if(!e.test(D))throw new TypeError(`argument val is invalid: ${E}`);let N=w+"="+D;if(!R)return N;if(R.maxAge!==void 0){if(!Number.isInteger(R.maxAge))throw new TypeError(`option maxAge is invalid: ${R.maxAge}`);N+="; Max-Age="+R.maxAge}if(R.domain){if(!t.test(R.domain))throw new TypeError(`option domain is invalid: ${R.domain}`);N+="; Domain="+R.domain}if(R.path){if(!r.test(R.path))throw new TypeError(`option path is invalid: ${R.path}`);N+="; Path="+R.path}if(R.expires){if(!v(R.expires)||!Number.isFinite(R.expires.valueOf()))throw new TypeError(`option expires is invalid: ${R.expires}`);N+="; Expires="+R.expires.toUTCString()}if(R.httpOnly&&(N+="; HttpOnly"),R.secure&&(N+="; Secure"),R.partitioned&&(N+="; Partitioned"),R.priority)switch(typeof R.priority=="string"?R.priority.toLowerCase():void 0){case"low":N+="; Priority=Low";break;case"medium":N+="; Priority=Medium";break;case"high":N+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${R.priority}`)}if(R.sameSite)switch(typeof R.sameSite=="string"?R.sameSite.toLowerCase():R.sameSite){case!0:case"strict":N+="; SameSite=Strict";break;case"lax":N+="; SameSite=Lax";break;case"none":N+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${R.sameSite}`)}return N}function p(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function v(w){return a.call(w)==="[object Date]"}return Nf}VM();/**
 * react-router v7.4.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var KA=n=>{throw TypeError(n)},UM=(n,e,t)=>e.has(n)||KA("Cannot "+t),Tv=(n,e,t)=>(UM(n,e,"read from private field"),t?t.call(n):e.get(n)),zM=(n,e,t)=>e.has(n)?KA("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),G1="popstate";function BM(n={}){function e(a,o){let{pathname:l="/",search:c="",hash:f=""}=yo(a.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),td("",{pathname:l,search:c,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(a,o){let l=a.document.querySelector("base"),c="";if(l&&l.getAttribute("href")){let f=a.location.href,d=f.indexOf("#");c=d===-1?f:f.slice(0,d)}return c+"#"+(typeof o=="string"?o:cl(o))}function r(a,o){Rr(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return FM(e,t,r,n)}function It(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Rr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function jM(){return Math.random().toString(36).substring(2,10)}function Q1(n,e){return{usr:n.state,key:n.key,idx:e}}function td(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?yo(e):e,state:t,key:e&&e.key||r||jM()}}function cl({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function yo(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function FM(n,e,t,r={}){let{window:a=document.defaultView,v5Compat:o=!1}=r,l=a.history,c="POP",f=null,d=p();d==null&&(d=0,l.replaceState({...l.state,idx:d},""));function p(){return(l.state||{idx:null}).idx}function v(){c="POP";let D=p(),N=D==null?null:D-d;d=D,f&&f({action:c,location:S.location,delta:N})}function w(D,N){c="PUSH";let M=td(S.location,D,N);t&&t(M,D),d=p()+1;let L=Q1(M,d),$=S.createHref(M);try{l.pushState(L,"",$)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;a.location.assign($)}o&&f&&f({action:c,location:S.location,delta:1})}function E(D,N){c="REPLACE";let M=td(S.location,D,N);t&&t(M,D),d=p();let L=Q1(M,d),$=S.createHref(M);l.replaceState(L,"",$),o&&f&&f({action:c,location:S.location,delta:0})}function R(D){let N=a.location.origin!=="null"?a.location.origin:a.location.href,M=typeof D=="string"?D:cl(D);return M=M.replace(/ $/,"%20"),It(N,`No window.location.(origin|href) available to create URL for href: ${M}`),new URL(M,N)}let S={get action(){return c},get location(){return n(a,l)},listen(D){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(G1,v),f=D,()=>{a.removeEventListener(G1,v),f=null}},createHref(D){return e(a,D)},createURL:R,encodeLocation(D){let N=R(D);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:w,replace:E,go(D){return l.go(D)}};return S}var Vf,K1=class{constructor(n){if(zM(this,Vf,new Map),n)for(let[e,t]of n)this.set(e,t)}get(n){if(Tv(this,Vf).has(n))return Tv(this,Vf).get(n);if(n.defaultValue!==void 0)return n.defaultValue;throw new Error("No value found for context")}set(n,e){Tv(this,Vf).set(n,e)}};Vf=new WeakMap;var $M=new Set(["lazy","caseSensitive","path","id","index","children"]);function qM(n){return n.index===!0}function Hp(n,e,t=[],r={}){return n.map((a,o)=>{let l=[...t,String(o)],c=typeof a.id=="string"?a.id:l.join("-");if(It(a.index!==!0||!a.children,"Cannot specify children on an index route"),It(!r[c],`Found a route id collision on id "${c}".  Route id's must be globally unique within Data Router usages`),qM(a)){let f={...a,...e(a),id:c};return r[c]=f,f}else{let f={...a,...e(a),id:c,children:void 0};return r[c]=f,a.children&&(f.children=Hp(a.children,e,l,r)),f}})}function Qo(n,e,t="/"){return bp(n,e,t,!1)}function bp(n,e,t,r){let a=typeof e=="string"?yo(e):e,o=Ea(a.pathname||"/",t);if(o==null)return null;let l=ZA(n);YM(l);let c=null;for(let f=0;c==null&&f<l.length;++f){let d=rx(o);c=tx(l[f],d,r)}return c}function HM(n,e){let{route:t,pathname:r,params:a}=n;return{id:t.id,pathname:r,params:a,data:e[t.id],handle:t.handle}}function ZA(n,e=[],t=[],r=""){let a=(o,l,c)=>{let f={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};f.relativePath.startsWith("/")&&(It(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length));let d=hs([r,f.relativePath]),p=t.concat(f);o.children&&o.children.length>0&&(It(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),ZA(o.children,e,p,d)),!(o.path==null&&!o.index)&&e.push({path:d,score:JM(d,o.index),routesMeta:p})};return n.forEach((o,l)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))a(o,l);else for(let f of XA(o.path))a(o,l,f)}),e}function XA(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,a=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return a?[o,""]:[o];let l=XA(r.join("/")),c=[];return c.push(...l.map(f=>f===""?o:[o,f].join("/"))),a&&c.push(...l),c.map(f=>n.startsWith("/")&&f===""?"/":f)}function YM(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:ex(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var GM=/^:[\w-]+$/,QM=3,KM=2,ZM=1,XM=10,WM=-2,Z1=n=>n==="*";function JM(n,e){let t=n.split("/"),r=t.length;return t.some(Z1)&&(r+=WM),e&&(r+=KM),t.filter(a=>!Z1(a)).reduce((a,o)=>a+(GM.test(o)?QM:o===""?ZM:XM),r)}function ex(n,e){return n.length===e.length&&n.slice(0,-1).every((r,a)=>r===e[a])?n[n.length-1]-e[e.length-1]:0}function tx(n,e,t=!1){let{routesMeta:r}=n,a={},o="/",l=[];for(let c=0;c<r.length;++c){let f=r[c],d=c===r.length-1,p=o==="/"?e:e.slice(o.length)||"/",v=Yp({path:f.relativePath,caseSensitive:f.caseSensitive,end:d},p),w=f.route;if(!v&&d&&t&&!r[r.length-1].route.index&&(v=Yp({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},p)),!v)return null;Object.assign(a,v.params),l.push({params:a,pathname:hs([o,v.pathname]),pathnameBase:sx(hs([o,v.pathnameBase])),route:w}),v.pathnameBase!=="/"&&(o=hs([o,v.pathnameBase]))}return l}function Yp(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=nx(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let o=a[0],l=o.replace(/(.)\/+$/,"$1"),c=a.slice(1);return{params:r.reduce((d,{paramName:p,isOptional:v},w)=>{if(p==="*"){let R=c[w]||"";l=o.slice(0,o.length-R.length).replace(/(.)\/+$/,"$1")}const E=c[w];return v&&!E?d[p]=void 0:d[p]=(E||"").replace(/%2F/g,"/"),d},{}),pathname:o,pathnameBase:l,pattern:n}}function nx(n,e=!1,t=!0){Rr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,f)=>(r.push({paramName:c,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function rx(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Rr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Ea(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function ix(n,e="/"){let{pathname:t,search:r="",hash:a=""}=typeof n=="string"?yo(n):n;return{pathname:t?t.startsWith("/")?t:ax(t,e):e,search:ox(r),hash:lx(a)}}function ax(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function wv(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function WA(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Mg(n){let e=WA(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function xg(n,e,t,r=!1){let a;typeof n=="string"?a=yo(n):(a={...n},It(!a.pathname||!a.pathname.includes("?"),wv("?","pathname","search",a)),It(!a.pathname||!a.pathname.includes("#"),wv("#","pathname","hash",a)),It(!a.search||!a.search.includes("#"),wv("#","search","hash",a)));let o=n===""||a.pathname==="",l=o?"/":a.pathname,c;if(l==null)c=t;else{let v=e.length-1;if(!r&&l.startsWith("..")){let w=l.split("/");for(;w[0]==="..";)w.shift(),v-=1;a.pathname=w.join("/")}c=v>=0?e[v]:"/"}let f=ix(a,c),d=l&&l!=="/"&&l.endsWith("/"),p=(o||l===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(d||p)&&(f.pathname+="/"),f}var hs=n=>n.join("/").replace(/\/\/+/g,"/"),sx=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),ox=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,lx=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,Gp=class{constructor(n,e,t,r=!1){this.status=n,this.statusText=e||"",this.internal=r,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function nd(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var JA=["POST","PUT","PATCH","DELETE"],ux=new Set(JA),cx=["GET",...JA],hx=new Set(cx),fx=new Set([301,302,303,307,308]),dx=new Set([307,308]),Ev={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},mx={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Mf={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},q_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,px=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),eC="remix-router-transitions",tC=Symbol("ResetLoaderData");function gx(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";It(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=n.mapRouteProperties||px,a={},o=Hp(n.routes,r,void 0,a),l,c=n.basename||"/",f=n.dataStrategy||wx,d={unstable_middleware:!1,...n.future},p=null,v=new Set,w=null,E=null,R=null,S=n.hydrationData!=null,D=Qo(o,n.history.location,c),N=!1,M=null;if(D==null&&!n.patchRoutesOnNavigation){let Y=_a(404,{pathname:n.history.location.pathname}),{matches:Z,route:re}=lR(o);D=Z,M={[re.id]:Y}}D&&!n.hydrationData&&ai(D,o,n.history.location.pathname).active&&(D=null);let L;if(D)if(D.some(Y=>Y.route.lazy))L=!1;else if(!D.some(Y=>Y.route.loader))L=!0;else{let Y=n.hydrationData?n.hydrationData.loaderData:null,Z=n.hydrationData?n.hydrationData.errors:null;if(Z){let re=D.findIndex(ce=>Z[ce.route.id]!==void 0);L=D.slice(0,re+1).every(ce=>!Wv(ce.route,Y,Z))}else L=D.every(re=>!Wv(re.route,Y,Z))}else{L=!1,D=[];let Y=ai(null,o,n.history.location.pathname);Y.active&&Y.matches&&(N=!0,D=Y.matches)}let $,P={historyAction:n.history.action,location:n.history.location,matches:D,initialized:L,navigation:Ev,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||M,fetchers:new Map,blockers:new Map},H="POP",x=!1,I,O=!1,z=new Map,B=null,q=!1,U=!1,we=new Set,ie=new Map,te=0,he=-1,pe=new Map,le=new Set,F=new Map,ae=new Map,Te=new Set,_e=new Map,ve,Ae=null;function Ie(){if(p=n.history.listen(({action:Y,location:Z,delta:re})=>{if(ve){ve(),ve=void 0;return}Rr(_e.size===0||re!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ce=Nt({currentLocation:P.location,nextLocation:Z,historyAction:Y});if(ce&&re!=null){let Ce=new Promise($e=>{ve=$e});n.history.go(re*-1),pt(ce,{state:"blocked",location:Z,proceed(){pt(ce,{state:"proceeding",proceed:void 0,reset:void 0,location:Z}),Ce.then(()=>n.history.go(re))},reset(){let $e=new Map(P.blockers);$e.set(ce,Mf),Ye({blockers:$e})}});return}return mt(Y,Z)}),t){xx(e,z);let Y=()=>kx(e,z);e.addEventListener("pagehide",Y),B=()=>e.removeEventListener("pagehide",Y)}return P.initialized||mt("POP",P.location,{initialHydration:!0}),$}function Ke(){p&&p(),B&&B(),v.clear(),I&&I.abort(),P.fetchers.forEach((Y,Z)=>Wn(Z)),P.blockers.forEach((Y,Z)=>Bi(Z))}function lt(Y){return v.add(Y),()=>v.delete(Y)}function Ye(Y,Z={}){P={...P,...Y};let re=[],ce=[];P.fetchers.forEach((Ce,$e)=>{Ce.state==="idle"&&(Te.has($e)?re.push($e):ce.push($e))}),Te.forEach(Ce=>{!P.fetchers.has(Ce)&&!ie.has(Ce)&&re.push(Ce)}),[...v].forEach(Ce=>Ce(P,{deletedFetchers:re,viewTransitionOpts:Z.viewTransitionOpts,flushSync:Z.flushSync===!0})),re.forEach(Ce=>Wn(Ce)),ce.forEach(Ce=>P.fetchers.delete(Ce))}function Ge(Y,Z,{flushSync:re}={}){var Oe,ke;let ce=P.actionData!=null&&P.navigation.formMethod!=null&&Na(P.navigation.formMethod)&&P.navigation.state==="loading"&&((Oe=Y.state)==null?void 0:Oe._isRedirect)!==!0,Ce;Z.actionData?Object.keys(Z.actionData).length>0?Ce=Z.actionData:Ce=null:ce?Ce=P.actionData:Ce=null;let $e=Z.loaderData?sR(P.loaderData,Z.loaderData,Z.matches||[],Z.errors):P.loaderData,Fe=P.blockers;Fe.size>0&&(Fe=new Map(Fe),Fe.forEach((Pe,Qe)=>Fe.set(Qe,Mf)));let Ue=x===!0||P.navigation.formMethod!=null&&Na(P.navigation.formMethod)&&((ke=Y.state)==null?void 0:ke._isRedirect)!==!0;l&&(o=l,l=void 0),q||H==="POP"||(H==="PUSH"?n.history.push(Y,Y.state):H==="REPLACE"&&n.history.replace(Y,Y.state));let Be;if(H==="POP"){let Pe=z.get(P.location.pathname);Pe&&Pe.has(Y.pathname)?Be={currentLocation:P.location,nextLocation:Y}:z.has(Y.pathname)&&(Be={currentLocation:Y,nextLocation:P.location})}else if(O){let Pe=z.get(P.location.pathname);Pe?Pe.add(Y.pathname):(Pe=new Set([Y.pathname]),z.set(P.location.pathname,Pe)),Be={currentLocation:P.location,nextLocation:Y}}Ye({...Z,actionData:Ce,loaderData:$e,historyAction:H,location:Y,initialized:!0,navigation:Ev,revalidation:"idle",restoreScrollPosition:Sa(Y,Z.matches||P.matches),preventScrollReset:Ue,blockers:Fe},{viewTransitionOpts:Be,flushSync:re===!0}),H="POP",x=!1,O=!1,q=!1,U=!1,Ae==null||Ae.resolve(),Ae=null}async function Ft(Y,Z){if(typeof Y=="number"){n.history.go(Y);return}let re=Xv(P.location,P.matches,c,Y,Z==null?void 0:Z.fromRouteId,Z==null?void 0:Z.relative),{path:ce,submission:Ce,error:$e}=X1(!1,re,Z),Fe=P.location,Ue=td(P.location,ce,Z&&Z.state);Ue={...Ue,...n.history.encodeLocation(Ue)};let Be=Z&&Z.replace!=null?Z.replace:void 0,Oe="PUSH";Be===!0?Oe="REPLACE":Be===!1||Ce!=null&&Na(Ce.formMethod)&&Ce.formAction===P.location.pathname+P.location.search&&(Oe="REPLACE");let ke=Z&&"preventScrollReset"in Z?Z.preventScrollReset===!0:void 0,Pe=(Z&&Z.flushSync)===!0,Qe=Nt({currentLocation:Fe,nextLocation:Ue,historyAction:Oe});if(Qe){pt(Qe,{state:"blocked",location:Ue,proceed(){pt(Qe,{state:"proceeding",proceed:void 0,reset:void 0,location:Ue}),Ft(Y,Z)},reset(){let $t=new Map(P.blockers);$t.set(Qe,Mf),Ye({blockers:$t})}});return}await mt(Oe,Ue,{submission:Ce,pendingError:$e,preventScrollReset:ke,replace:Z&&Z.replace,enableViewTransition:Z&&Z.viewTransition,flushSync:Pe})}function Cn(){Ae||(Ae=Px()),tn(),Ye({revalidation:"loading"});let Y=Ae.promise;return P.navigation.state==="submitting"?Y:P.navigation.state==="idle"?(mt(P.historyAction,P.location,{startUninterruptedRevalidation:!0}),Y):(mt(H||P.historyAction,P.navigation.location,{overrideNavigation:P.navigation,enableViewTransition:O===!0}),Y)}async function mt(Y,Z,re){I&&I.abort(),I=null,H=Y,q=(re&&re.startUninterruptedRevalidation)===!0,ea(P.location,P.matches),x=(re&&re.preventScrollReset)===!0,O=(re&&re.enableViewTransition)===!0;let ce=l||o,Ce=re&&re.overrideNavigation,$e=re!=null&&re.initialHydration&&P.matches&&P.matches.length>0&&!N?P.matches:Qo(ce,Z,c),Fe=(re&&re.flushSync)===!0;if($e&&P.initialized&&!U&&Dx(P.location,Z)&&!(re&&re.submission&&Na(re.submission.formMethod))){Ge(Z,{matches:$e},{flushSync:Fe});return}let Ue=ai($e,ce,Z.pathname);if(Ue.active&&Ue.matches&&($e=Ue.matches),!$e){let{error:fn,notFoundMatches:Bt,route:In}=$a(Z.pathname);Ge(Z,{matches:Bt,loaderData:{},errors:{[In.id]:fn}},{flushSync:Fe});return}I=new AbortController;let Be=Ec(n.history,Z,I.signal,re&&re.submission),Oe=new K1(n.unstable_getContext?await n.unstable_getContext():void 0),ke;if(re&&re.pendingError)ke=[cu($e).route.id,{type:"error",error:re.pendingError}];else if(re&&re.submission&&Na(re.submission.formMethod)){let fn=await Dn(Be,Z,re.submission,$e,Oe,Ue.active,{replace:re.replace,flushSync:Fe});if(fn.shortCircuited)return;if(fn.pendingActionResult){let[Bt,In]=fn.pendingActionResult;if(Ki(In)&&nd(In.error)&&In.error.status===404){I=null,Ge(Z,{matches:fn.matches,loaderData:{},errors:{[Bt]:In.error}});return}}$e=fn.matches||$e,ke=fn.pendingActionResult,Ce=bv(Z,re.submission),Fe=!1,Ue.active=!1,Be=Ec(n.history,Be.url,Be.signal)}let{shortCircuited:Pe,matches:Qe,loaderData:$t,errors:xn}=await $n(Be,Z,$e,Oe,Ue.active,Ce,re&&re.submission,re&&re.fetcherSubmission,re&&re.replace,re&&re.initialHydration===!0,Fe,ke);Pe||(I=null,Ge(Z,{matches:Qe||$e,...oR(ke),loaderData:$t,errors:xn}))}async function Dn(Y,Z,re,ce,Ce,$e,Fe={}){tn();let Ue=Nx(Z,re);if(Ye({navigation:Ue},{flushSync:Fe.flushSync===!0}),$e){let ke=await zr(ce,Z.pathname,Y.signal);if(ke.type==="aborted")return{shortCircuited:!0};if(ke.type==="error"){let Pe=cu(ke.partialMatches).route.id;return{matches:ke.partialMatches,pendingActionResult:[Pe,{type:"error",error:ke.error}]}}else if(ke.matches)ce=ke.matches;else{let{notFoundMatches:Pe,error:Qe,route:$t}=$a(Z.pathname);return{matches:Pe,pendingActionResult:[$t.id,{type:"error",error:Qe}]}}}let Be,Oe=Uf(ce,Z);if(!Oe.route.action&&!Oe.route.lazy)Be={type:"error",error:_a(405,{method:Y.method,pathname:Z.pathname,routeId:Oe.route.id})};else{let ke=await en("action",Y,[Oe],ce,Ce,null);if(Be=ke[Oe.route.id],!Be){for(let Pe of ce)if(ke[Pe.route.id]){Be=ke[Pe.route.id];break}}if(Y.signal.aborted)return{shortCircuited:!0}}if(fu(Be)){let ke;return Fe&&Fe.replace!=null?ke=Fe.replace:ke=rR(Be.response.headers.get("Location"),new URL(Y.url),c)===P.location.pathname+P.location.search,await Xn(Y,Be,!0,{submission:re,replace:ke}),{shortCircuited:!0}}if(Ki(Be)){let ke=cu(ce,Oe.route.id);return(Fe&&Fe.replace)!==!0&&(H="PUSH"),{matches:ce,pendingActionResult:[ke.route.id,Be]}}return{matches:ce,pendingActionResult:[Oe.route.id,Be]}}async function $n(Y,Z,re,ce,Ce,$e,Fe,Ue,Be,Oe,ke,Pe){let Qe=$e||bv(Z,Fe),$t=Fe||Ue||cR(Qe),xn=!q&&!Oe;if(Ce){if(xn){let Kt=sn(Pe);Ye({navigation:Qe,...Kt!==void 0?{actionData:Kt}:{}},{flushSync:ke})}let vt=await zr(re,Z.pathname,Y.signal);if(vt.type==="aborted")return{shortCircuited:!0};if(vt.type==="error"){let Kt=cu(vt.partialMatches).route.id;return{matches:vt.partialMatches,loaderData:{},errors:{[Kt]:vt.error}}}else if(vt.matches)re=vt.matches;else{let{error:Kt,notFoundMatches:Cr,route:Is}=$a(Z.pathname);return{matches:Cr,loaderData:{},errors:{[Is.id]:Kt}}}}let fn=l||o,[Bt,In]=J1(n.history,P,re,$t,Z,Oe===!0,U,we,Te,F,le,fn,c,Pe);if(he=++te,Bt.length===0&&In.length===0){let vt=Oi();return Ge(Z,{matches:re,loaderData:{},errors:Pe&&Ki(Pe[1])?{[Pe[0]]:Pe[1].error}:null,...oR(Pe),...vt?{fetchers:new Map(P.fetchers)}:{}},{flushSync:ke}),{shortCircuited:!0}}if(xn){let vt={};if(!Ce){vt.navigation=Qe;let Kt=sn(Pe);Kt!==void 0&&(vt.actionData=Kt)}In.length>0&&(vt.fetchers=qn(In)),Ye(vt,{flushSync:ke})}In.forEach(vt=>{ii(vt.key),vt.controller&&ie.set(vt.key,vt.controller)});let yi=()=>In.forEach(vt=>ii(vt.key));I&&I.signal.addEventListener("abort",yi);let{loaderResults:ji,fetcherResults:Jn}=await mr(re,Bt,In,Y,ce);if(Y.signal.aborted)return{shortCircuited:!0};I&&I.signal.removeEventListener("abort",yi),In.forEach(vt=>ie.delete(vt.key));let sr=cp(ji);if(sr)return await Xn(Y,sr.result,!0,{replace:Be}),{shortCircuited:!0};if(sr=cp(Jn),sr)return le.add(sr.key),await Xn(Y,sr.result,!0,{replace:Be}),{shortCircuited:!0};let{loaderData:ta,errors:Ni}=aR(P,re,ji,Pe,In,Jn);Oe&&P.errors&&(Ni={...P.errors,...Ni});let Qt=Oi(),Ha=Mn(he),Aa=Qt||Ha||In.length>0;return{matches:re,loaderData:ta,errors:Ni,...Aa?{fetchers:new Map(P.fetchers)}:{}}}function sn(Y){if(Y&&!Ki(Y[1]))return{[Y[0]]:Y[1].data};if(P.actionData)return Object.keys(P.actionData).length===0?null:P.actionData}function qn(Y){return Y.forEach(Z=>{let re=P.fetchers.get(Z.key),ce=xf(void 0,re?re.data:void 0);P.fetchers.set(Z.key,ce)}),new Map(P.fetchers)}async function gi(Y,Z,re,ce){ii(Y);let Ce=(ce&&ce.flushSync)===!0,$e=l||o,Fe=Xv(P.location,P.matches,c,re,Z,ce==null?void 0:ce.relative),Ue=Qo($e,Fe,c),Be=ai(Ue,$e,Fe);if(Be.active&&Be.matches&&(Ue=Be.matches),!Ue){kt(Y,Z,_a(404,{pathname:Fe}),{flushSync:Ce});return}let{path:Oe,submission:ke,error:Pe}=X1(!0,Fe,ce);if(Pe){kt(Y,Z,Pe,{flushSync:Ce});return}let Qe=Uf(Ue,Oe),$t=new K1(n.unstable_getContext?await n.unstable_getContext():void 0),xn=(ce&&ce.preventScrollReset)===!0;if(ke&&Na(ke.formMethod)){await dr(Y,Z,Oe,Qe,Ue,$t,Be.active,Ce,xn,ke);return}F.set(Y,{routeId:Z,path:Oe}),await Nn(Y,Z,Oe,Qe,Ue,$t,Be.active,Ce,xn,ke)}async function dr(Y,Z,re,ce,Ce,$e,Fe,Ue,Be,Oe){tn(),F.delete(Y);function ke(yn){if(!yn.route.action&&!yn.route.lazy){let na=_a(405,{method:Oe.formMethod,pathname:re,routeId:Z});return kt(Y,Z,na,{flushSync:Ue}),!0}return!1}if(!Fe&&ke(ce))return;let Pe=P.fetchers.get(Y);Ln(Y,Mx(Oe,Pe),{flushSync:Ue});let Qe=new AbortController,$t=Ec(n.history,re,Qe.signal,Oe);if(Fe){let yn=await zr(Ce,re,$t.signal,Y);if(yn.type==="aborted")return;if(yn.type==="error"){kt(Y,Z,yn.error,{flushSync:Ue});return}else if(yn.matches){if(Ce=yn.matches,ce=Uf(Ce,re),ke(ce))return}else{kt(Y,Z,_a(404,{pathname:re}),{flushSync:Ue});return}}ie.set(Y,Qe);let xn=te,Bt=(await en("action",$t,[ce],Ce,$e,Y))[ce.route.id];if($t.signal.aborted){ie.get(Y)===Qe&&ie.delete(Y);return}if(Te.has(Y)){if(fu(Bt)||Ki(Bt)){Ln(Y,Go(void 0));return}}else{if(fu(Bt))if(ie.delete(Y),he>xn){Ln(Y,Go(void 0));return}else return le.add(Y),Ln(Y,xf(Oe)),Xn($t,Bt,!1,{fetcherSubmission:Oe,preventScrollReset:Be});if(Ki(Bt)){kt(Y,Z,Bt.error);return}}let In=P.navigation.location||P.location,yi=Ec(n.history,In,Qe.signal),ji=l||o,Jn=P.navigation.state!=="idle"?Qo(ji,P.navigation.location,c):P.matches;It(Jn,"Didn't find any matches after fetcher action");let sr=++te;pe.set(Y,sr);let ta=xf(Oe,Bt.data);P.fetchers.set(Y,ta);let[Ni,Qt]=J1(n.history,P,Jn,Oe,In,!1,U,we,Te,F,le,ji,c,[ce.route.id,Bt]);Qt.filter(yn=>yn.key!==Y).forEach(yn=>{let na=yn.key,Nl=P.fetchers.get(na),Ya=xf(void 0,Nl?Nl.data:void 0);P.fetchers.set(na,Ya),ii(na),yn.controller&&ie.set(na,yn.controller)}),Ye({fetchers:new Map(P.fetchers)});let Ha=()=>Qt.forEach(yn=>ii(yn.key));Qe.signal.addEventListener("abort",Ha);let{loaderResults:Aa,fetcherResults:vt}=await mr(Jn,Ni,Qt,yi,$e);if(Qe.signal.aborted)return;Qe.signal.removeEventListener("abort",Ha),pe.delete(Y),ie.delete(Y),Qt.forEach(yn=>ie.delete(yn.key));let Kt=cp(Aa);if(Kt)return Xn(yi,Kt.result,!1,{preventScrollReset:Be});if(Kt=cp(vt),Kt)return le.add(Kt.key),Xn(yi,Kt.result,!1,{preventScrollReset:Be});let{loaderData:Cr,errors:Is}=aR(P,Jn,Aa,void 0,Qt,vt);if(P.fetchers.has(Y)){let yn=Go(Bt.data);P.fetchers.set(Y,yn)}Mn(sr),P.navigation.state==="loading"&&sr>he?(It(H,"Expected pending action"),I&&I.abort(),Ge(P.navigation.location,{matches:Jn,loaderData:Cr,errors:Is,fetchers:new Map(P.fetchers)})):(Ye({errors:Is,loaderData:sR(P.loaderData,Cr,Jn,Is),fetchers:new Map(P.fetchers)}),U=!1)}async function Nn(Y,Z,re,ce,Ce,$e,Fe,Ue,Be,Oe){let ke=P.fetchers.get(Y);Ln(Y,xf(Oe,ke?ke.data:void 0),{flushSync:Ue});let Pe=new AbortController,Qe=Ec(n.history,re,Pe.signal);if(Fe){let Bt=await zr(Ce,re,Qe.signal,Y);if(Bt.type==="aborted")return;if(Bt.type==="error"){kt(Y,Z,Bt.error,{flushSync:Ue});return}else if(Bt.matches)Ce=Bt.matches,ce=Uf(Ce,re);else{kt(Y,Z,_a(404,{pathname:re}),{flushSync:Ue});return}}ie.set(Y,Pe);let $t=te,fn=(await en("loader",Qe,[ce],Ce,$e,Y))[ce.route.id];if(ie.get(Y)===Pe&&ie.delete(Y),!Qe.signal.aborted){if(Te.has(Y)){Ln(Y,Go(void 0));return}if(fu(fn))if(he>$t){Ln(Y,Go(void 0));return}else{le.add(Y),await Xn(Qe,fn,!1,{preventScrollReset:Be});return}if(Ki(fn)){kt(Y,Z,fn.error);return}Ln(Y,Go(fn.data))}}async function Xn(Y,Z,re,{submission:ce,fetcherSubmission:Ce,preventScrollReset:$e,replace:Fe}={}){Z.response.headers.has("X-Remix-Revalidate")&&(U=!0);let Ue=Z.response.headers.get("Location");It(Ue,"Expected a Location header on the redirect Response"),Ue=rR(Ue,new URL(Y.url),c);let Be=td(P.location,Ue,{_isRedirect:!0});if(t){let xn=!1;if(Z.response.headers.has("X-Remix-Reload-Document"))xn=!0;else if(q_.test(Ue)){const fn=n.history.createURL(Ue);xn=fn.origin!==e.location.origin||Ea(fn.pathname,c)==null}if(xn){Fe?e.location.replace(Ue):e.location.assign(Ue);return}}I=null;let Oe=Fe===!0||Z.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:ke,formAction:Pe,formEncType:Qe}=P.navigation;!ce&&!Ce&&ke&&Pe&&Qe&&(ce=cR(P.navigation));let $t=ce||Ce;if(dx.has(Z.response.status)&&$t&&Na($t.formMethod))await mt(Oe,Be,{submission:{...$t,formAction:Ue},preventScrollReset:$e||x,enableViewTransition:re?O:void 0});else{let xn=bv(Be,ce);await mt(Oe,Be,{overrideNavigation:xn,fetcherSubmission:Ce,preventScrollReset:$e||x,enableViewTransition:re?O:void 0})}}async function en(Y,Z,re,ce,Ce,$e){let Fe,Ue={};try{Fe=await bx(f,Y,Z,re,ce,$e,a,r,Ce,d.unstable_middleware)}catch(Be){return re.forEach(Oe=>{Ue[Oe.route.id]={type:"error",error:Be}}),Ue}for(let[Be,Oe]of Object.entries(Fe))if(Ix(Oe)){let ke=Oe.result;Ue[Be]={type:"redirect",response:Ax(ke,Z,Be,ce,c)}}else Ue[Be]=await Sx(Oe);return Ue}async function mr(Y,Z,re,ce,Ce){let $e=en("loader",ce,Z,Y,Ce,null),Fe=Promise.all(re.map(async Oe=>{if(Oe.matches&&Oe.match&&Oe.controller){let Pe=(await en("loader",Ec(n.history,Oe.path,Oe.controller.signal),[Oe.match],Oe.matches,Ce,Oe.key))[Oe.match.route.id];return{[Oe.key]:Pe}}else return Promise.resolve({[Oe.key]:{type:"error",error:_a(404,{pathname:Oe.path})}})})),Ue=await $e,Be=(await Fe).reduce((Oe,ke)=>Object.assign(Oe,ke),{});return{loaderResults:Ue,fetcherResults:Be}}function tn(){U=!0,F.forEach((Y,Z)=>{ie.has(Z)&&we.add(Z),ii(Z)})}function Ln(Y,Z,re={}){P.fetchers.set(Y,Z),Ye({fetchers:new Map(P.fetchers)},{flushSync:(re&&re.flushSync)===!0})}function kt(Y,Z,re,ce={}){let Ce=cu(P.matches,Z);Wn(Y),Ye({errors:{[Ce.route.id]:re},fetchers:new Map(P.fetchers)},{flushSync:(ce&&ce.flushSync)===!0})}function on(Y){return ae.set(Y,(ae.get(Y)||0)+1),Te.has(Y)&&Te.delete(Y),P.fetchers.get(Y)||mx}function Wn(Y){let Z=P.fetchers.get(Y);ie.has(Y)&&!(Z&&Z.state==="loading"&&pe.has(Y))&&ii(Y),F.delete(Y),pe.delete(Y),le.delete(Y),Te.delete(Y),we.delete(Y),P.fetchers.delete(Y)}function Ra(Y){let Z=(ae.get(Y)||0)-1;Z<=0?(ae.delete(Y),Te.add(Y)):ae.set(Y,Z),Ye({fetchers:new Map(P.fetchers)})}function ii(Y){let Z=ie.get(Y);Z&&(Z.abort(),ie.delete(Y))}function Fa(Y){for(let Z of Y){let re=on(Z),ce=Go(re.data);P.fetchers.set(Z,ce)}}function Oi(){let Y=[],Z=!1;for(let re of le){let ce=P.fetchers.get(re);It(ce,`Expected fetcher: ${re}`),ce.state==="loading"&&(le.delete(re),Y.push(re),Z=!0)}return Fa(Y),Z}function Mn(Y){let Z=[];for(let[re,ce]of pe)if(ce<Y){let Ce=P.fetchers.get(re);It(Ce,`Expected fetcher: ${re}`),Ce.state==="loading"&&(ii(re),pe.delete(re),Z.push(re))}return Fa(Z),Z.length>0}function Hn(Y,Z){let re=P.blockers.get(Y)||Mf;return _e.get(Y)!==Z&&_e.set(Y,Z),re}function Bi(Y){P.blockers.delete(Y),_e.delete(Y)}function pt(Y,Z){let re=P.blockers.get(Y)||Mf;It(re.state==="unblocked"&&Z.state==="blocked"||re.state==="blocked"&&Z.state==="blocked"||re.state==="blocked"&&Z.state==="proceeding"||re.state==="blocked"&&Z.state==="unblocked"||re.state==="proceeding"&&Z.state==="unblocked",`Invalid blocker state transition: ${re.state} -> ${Z.state}`);let ce=new Map(P.blockers);ce.set(Y,Z),Ye({blockers:ce})}function Nt({currentLocation:Y,nextLocation:Z,historyAction:re}){if(_e.size===0)return;_e.size>1&&Rr(!1,"A router only supports one blocker at a time");let ce=Array.from(_e.entries()),[Ce,$e]=ce[ce.length-1],Fe=P.blockers.get(Ce);if(!(Fe&&Fe.state==="proceeding")&&$e({currentLocation:Y,nextLocation:Z,historyAction:re}))return Ce}function $a(Y){let Z=_a(404,{pathname:Y}),re=l||o,{matches:ce,route:Ce}=lR(re);return{notFoundMatches:ce,route:Ce,error:Z}}function Ds(Y,Z,re){if(w=Y,R=Z,E=re||null,!S&&P.navigation===Ev){S=!0;let ce=Sa(P.location,P.matches);ce!=null&&Ye({restoreScrollPosition:ce})}return()=>{w=null,R=null,E=null}}function Ol(Y,Z){return E&&E(Y,Z.map(ce=>HM(ce,P.loaderData)))||Y.key}function ea(Y,Z){if(w&&R){let re=Ol(Y,Z);w[re]=R()}}function Sa(Y,Z){if(w){let re=Ol(Y,Z),ce=w[re];if(typeof ce=="number")return ce}return null}function ai(Y,Z,re){if(n.patchRoutesOnNavigation)if(Y){if(Object.keys(Y[0].params).length>0)return{active:!0,matches:bp(Z,re,c,!0)}}else return{active:!0,matches:bp(Z,re,c,!0)||[]};return{active:!1,matches:null}}async function zr(Y,Z,re,ce){if(!n.patchRoutesOnNavigation)return{type:"success",matches:Y};let Ce=Y;for(;;){let $e=l==null,Fe=l||o,Ue=a;try{await n.patchRoutesOnNavigation({signal:re,path:Z,matches:Ce,fetcherKey:ce,patch:(ke,Pe)=>{re.aborted||tR(ke,Pe,Fe,Ue,r)}})}catch(ke){return{type:"error",error:ke,partialMatches:Ce}}finally{$e&&!re.aborted&&(o=[...o])}if(re.aborted)return{type:"aborted"};let Be=Qo(Fe,Z,c);if(Be)return{type:"success",matches:Be};let Oe=bp(Fe,Z,c,!0);if(!Oe||Ce.length===Oe.length&&Ce.every((ke,Pe)=>ke.route.id===Oe[Pe].route.id))return{type:"success",matches:null};Ce=Oe}}function qa(Y){a={},l=Hp(Y,r,void 0,a)}function _o(Y,Z){let re=l==null;tR(Y,Z,l||o,a,r),re&&(o=[...o],Ye({}))}return $={get basename(){return c},get future(){return d},get state(){return P},get routes(){return o},get window(){return e},initialize:Ie,subscribe:lt,enableScrollRestoration:Ds,navigate:Ft,fetch:gi,revalidate:Cn,createHref:Y=>n.history.createHref(Y),encodeLocation:Y=>n.history.encodeLocation(Y),getFetcher:on,deleteFetcher:Ra,dispose:Ke,getBlocker:Hn,deleteBlocker:Bi,patchRoutes:_o,_internalFetchControllers:ie,_internalSetRoutes:qa},$}function yx(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function Xv(n,e,t,r,a,o){let l,c;if(a){l=[];for(let d of e)if(l.push(d),d.route.id===a){c=d;break}}else l=e,c=e[e.length-1];let f=xg(r||".",Mg(l),Ea(n.pathname,t)||n.pathname,o==="path");if(r==null&&(f.search=n.search,f.hash=n.hash),(r==null||r===""||r===".")&&c){let d=H_(f.search);if(c.route.index&&!d)f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index";else if(!c.route.index&&d){let p=new URLSearchParams(f.search),v=p.getAll("index");p.delete("index"),v.filter(E=>E).forEach(E=>p.append("index",E));let w=p.toString();f.search=w?`?${w}`:""}}return t!=="/"&&(f.pathname=f.pathname==="/"?t:hs([t,f.pathname])),cl(f)}function X1(n,e,t){if(!t||!yx(t))return{path:e};if(t.formMethod&&!Ox(t.formMethod))return{path:e,error:_a(405,{method:t.formMethod})};let r=()=>({path:e,error:_a(400,{type:"invalid-body"})}),o=(t.formMethod||"get").toUpperCase(),l=iC(e);if(t.body!==void 0){if(t.formEncType==="text/plain"){if(!Na(o))return r();let v=typeof t.body=="string"?t.body:t.body instanceof FormData||t.body instanceof URLSearchParams?Array.from(t.body.entries()).reduce((w,[E,R])=>`${w}${E}=${R}
`,""):String(t.body);return{path:e,submission:{formMethod:o,formAction:l,formEncType:t.formEncType,formData:void 0,json:void 0,text:v}}}else if(t.formEncType==="application/json"){if(!Na(o))return r();try{let v=typeof t.body=="string"?JSON.parse(t.body):t.body;return{path:e,submission:{formMethod:o,formAction:l,formEncType:t.formEncType,formData:void 0,json:v,text:void 0}}}catch{return r()}}}It(typeof FormData=="function","FormData is not available in this environment");let c,f;if(t.formData)c=Jv(t.formData),f=t.formData;else if(t.body instanceof FormData)c=Jv(t.body),f=t.body;else if(t.body instanceof URLSearchParams)c=t.body,f=iR(c);else if(t.body==null)c=new URLSearchParams,f=new FormData;else try{c=new URLSearchParams(t.body),f=iR(c)}catch{return r()}let d={formMethod:o,formAction:l,formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:f,json:void 0,text:void 0};if(Na(d.formMethod))return{path:e,submission:d};let p=yo(e);return n&&p.search&&H_(p.search)&&c.append("index",""),p.search=`?${c}`,{path:cl(p),submission:d}}function W1(n,e,t=!1){let r=n.findIndex(a=>a.route.id===e);return r>=0?n.slice(0,t?r+1:r):n}function J1(n,e,t,r,a,o,l,c,f,d,p,v,w,E){let R=E?Ki(E[1])?E[1].error:E[1].data:void 0,S=n.createURL(e.location),D=n.createURL(a),N=t;o&&e.errors?N=W1(t,Object.keys(e.errors)[0],!0):E&&Ki(E[1])&&(N=W1(t,E[0]));let M=E?E[1].statusCode:void 0,L=M&&M>=400,$=N.filter((H,x)=>{let{route:I}=H;if(I.lazy)return!0;if(I.loader==null)return!1;if(o)return Wv(I,e.loaderData,e.errors);if(vx(e.loaderData,e.matches[x],H))return!0;let O=e.matches[x],z=H;return eR(H,{currentUrl:S,currentParams:O.params,nextUrl:D,nextParams:z.params,...r,actionResult:R,actionStatus:M,defaultShouldRevalidate:L?!1:l||S.pathname+S.search===D.pathname+D.search||S.search!==D.search||_x(O,z)})}),P=[];return d.forEach((H,x)=>{if(o||!t.some(q=>q.route.id===H.routeId)||f.has(x))return;let I=Qo(v,H.path,w);if(!I){P.push({key:x,routeId:H.routeId,path:H.path,matches:null,match:null,controller:null});return}let O=e.fetchers.get(x),z=Uf(I,H.path),B=!1;p.has(x)?B=!1:c.has(x)?(c.delete(x),B=!0):O&&O.state!=="idle"&&O.data===void 0?B=l:B=eR(z,{currentUrl:S,currentParams:e.matches[e.matches.length-1].params,nextUrl:D,nextParams:t[t.length-1].params,...r,actionResult:R,actionStatus:M,defaultShouldRevalidate:L?!1:l}),B&&P.push({key:x,routeId:H.routeId,path:H.path,matches:I,match:z,controller:new AbortController})}),[$,P]}function Wv(n,e,t){if(n.lazy)return!0;if(!n.loader)return!1;let r=e!=null&&e[n.id]!==void 0,a=t!=null&&t[n.id]!==void 0;return!r&&a?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!r&&!a}function vx(n,e,t){let r=!e||t.route.id!==e.route.id,a=!n.hasOwnProperty(t.route.id);return r||a}function _x(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function eR(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function tR(n,e,t,r,a){let o;if(n){let f=r[n];It(f,`No route found to patch children into: routeId = ${n}`),f.children||(f.children=[]),o=f.children}else o=t;let l=e.filter(f=>!o.some(d=>nC(f,d))),c=Hp(l,a,[n||"_","patch",String((o==null?void 0:o.length)||"0")],r);o.push(...c)}function nC(n,e){return"id"in n&&"id"in e&&n.id===e.id?!0:n.index===e.index&&n.path===e.path&&n.caseSensitive===e.caseSensitive?(!n.children||n.children.length===0)&&(!e.children||e.children.length===0)?!0:n.children.every((t,r)=>{var a;return(a=e.children)==null?void 0:a.some(o=>nC(t,o))}):!1}async function Tx(n,e,t){if(!n.lazy)return;let r=await n.lazy();if(!n.lazy)return;let a=t[n.id];It(a,"No route found in manifest");let o={};for(let l in r){let f=a[l]!==void 0&&l!=="hasErrorBoundary";Rr(!f,`Route "${a.id}" has a static property "${l}" defined but its lazy function is also returning a value for this property. The lazy route property "${l}" will be ignored.`),!f&&!$M.has(l)&&(o[l]=r[l])}Object.assign(a,o),Object.assign(a,{...e(a),lazy:void 0})}async function nR(n){let e=n.matches.filter(a=>a.shouldLoad),t={};return(await Promise.all(e.map(a=>a.resolve()))).forEach((a,o)=>{t[e[o].route.id]=a}),t}async function wx(n){return n.matches.some(e=>e.route.unstable_middleware)?Ex(n,!1,()=>nR(n),(e,t)=>({[t]:{type:"error",result:e}})):nR(n)}async function Ex(n,e,t,r){let{matches:a,request:o,params:l,context:c}=n,f={handlerResult:void 0};try{let d=a.flatMap(v=>v.route.unstable_middleware?v.route.unstable_middleware.map(w=>[v.route.id,w]):[]),p=await rC({request:o,params:l,context:c},d,e,f,t);return e?p:f.handlerResult}catch(d){if(!f.middlewareError)throw d;let p=await r(f.middlewareError.error,f.middlewareError.routeId);return f.handlerResult?Object.assign(f.handlerResult,p):p}}async function rC(n,e,t,r,a,o=0){let{request:l}=n;if(l.signal.aborted)throw l.signal.reason?l.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${l.method} ${l.url}`);let c=e[o];if(!c)return r.handlerResult=await a(),r.handlerResult;let[f,d]=c,p=!1,v,w=async()=>{if(p)throw new Error("You may only call `next()` once per middleware");p=!0,await rC(n,e,t,r,a,o+1)};try{let E=await d({request:n.request,params:n.params,context:n.context},w);return p?E===void 0?v:E:w()}catch(E){throw r.middlewareError?r.middlewareError.error!==E&&(r.middlewareError={routeId:f,error:E}):r.middlewareError={routeId:f,error:E},E}}async function bx(n,e,t,r,a,o,l,c,f,d){let p=a.map(E=>E.route.lazy?Tx(E.route,c,l):void 0);d&&await Promise.all(p);let v=a.map((E,R)=>{let S=p[R],D=r.some(M=>M.route.id===E.route.id);return{...E,shouldLoad:D,resolve:async M=>(M&&t.method==="GET"&&(E.route.lazy||E.route.loader)&&(D=!0),D?Rx(e,t,E,S,M,f):Promise.resolve({type:"data",result:void 0}))}}),w=await n({matches:v,request:t,params:a[0].params,fetcherKey:o,context:f});try{await Promise.all(p)}catch{}return w}async function Rx(n,e,t,r,a,o){let l,c,f=d=>{let p,v=new Promise((R,S)=>p=S);c=()=>p(),e.signal.addEventListener("abort",c);let w=R=>typeof d!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${n}" [routeId: ${t.route.id}]`)):d({request:e,params:t.params,context:o},...R!==void 0?[R]:[]),E=(async()=>{try{return{type:"data",result:await(a?a(S=>w(S)):w())}}catch(R){return{type:"error",result:R}}})();return Promise.race([E,v])};try{let d=t.route[n];if(r)if(d){let p,[v]=await Promise.all([f(d).catch(w=>{p=w}),r]);if(p!==void 0)throw p;l=v}else if(await r,d=t.route[n],d)l=await f(d);else if(n==="action"){let p=new URL(e.url),v=p.pathname+p.search;throw _a(405,{method:e.method,pathname:v,routeId:t.route.id})}else return{type:"data",result:void 0};else if(d)l=await f(d);else{let p=new URL(e.url),v=p.pathname+p.search;throw _a(404,{pathname:v})}}catch(d){return{type:"error",result:d}}finally{c&&e.signal.removeEventListener("abort",c)}return l}async function Sx(n){var r,a,o,l,c,f;let{result:e,type:t}=n;if(aC(e)){let d;try{let p=e.headers.get("Content-Type");p&&/\bapplication\/json\b/.test(p)?e.body==null?d=null:d=await e.json():d=await e.text()}catch(p){return{type:"error",error:p}}return t==="error"?{type:"error",error:new Gp(e.status,e.statusText,d),statusCode:e.status,headers:e.headers}:{type:"data",data:d,statusCode:e.status,headers:e.headers}}return t==="error"?uR(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(r=e.init)==null?void 0:r.status,headers:(a=e.init)!=null&&a.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new Gp(((o=e.init)==null?void 0:o.status)||500,void 0,e.data),statusCode:nd(e)?e.status:void 0,headers:(l=e.init)!=null&&l.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:nd(e)?e.status:void 0}:uR(e)?{type:"data",data:e.data,statusCode:(c=e.init)==null?void 0:c.status,headers:(f=e.init)!=null&&f.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function Ax(n,e,t,r,a){let o=n.headers.get("Location");if(It(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!q_.test(o)){let l=r.slice(0,r.findIndex(c=>c.route.id===t)+1);o=Xv(new URL(e.url),l,a,o),n.headers.set("Location",o)}return n}function rR(n,e,t){if(q_.test(n)){let r=n,a=r.startsWith("//")?new URL(e.protocol+r):new URL(r),o=Ea(a.pathname,t)!=null;if(a.origin===e.origin&&o)return a.pathname+a.search+a.hash}return n}function Ec(n,e,t,r){let a=n.createURL(iC(e)).toString(),o={signal:t};if(r&&Na(r.formMethod)){let{formMethod:l,formEncType:c}=r;o.method=l.toUpperCase(),c==="application/json"?(o.headers=new Headers({"Content-Type":c}),o.body=JSON.stringify(r.json)):c==="text/plain"?o.body=r.text:c==="application/x-www-form-urlencoded"&&r.formData?o.body=Jv(r.formData):o.body=r.formData}return new Request(a,o)}function Jv(n){let e=new URLSearchParams;for(let[t,r]of n.entries())e.append(t,typeof r=="string"?r:r.name);return e}function iR(n){let e=new FormData;for(let[t,r]of n.entries())e.append(t,r);return e}function Cx(n,e,t,r=!1,a=!1){let o={},l=null,c,f=!1,d={},p=t&&Ki(t[1])?t[1].error:void 0;return n.forEach(v=>{if(!(v.route.id in e))return;let w=v.route.id,E=e[w];if(It(!fu(E),"Cannot handle redirect results in processLoaderData"),Ki(E)){let R=E.error;if(p!==void 0&&(R=p,p=void 0),l=l||{},a)l[w]=R;else{let S=cu(n,w);l[S.route.id]==null&&(l[S.route.id]=R)}r||(o[w]=tC),f||(f=!0,c=nd(E.error)?E.error.status:500),E.headers&&(d[w]=E.headers)}else o[w]=E.data,E.statusCode&&E.statusCode!==200&&!f&&(c=E.statusCode),E.headers&&(d[w]=E.headers)}),p!==void 0&&t&&(l={[t[0]]:p},o[t[0]]=void 0),{loaderData:o,errors:l,statusCode:c||200,loaderHeaders:d}}function aR(n,e,t,r,a,o){let{loaderData:l,errors:c}=Cx(e,t,r);return a.forEach(f=>{let{key:d,match:p,controller:v}=f,w=o[d];if(It(w,"Did not find corresponding fetcher result"),!(v&&v.signal.aborted))if(Ki(w)){let E=cu(n.matches,p==null?void 0:p.route.id);c&&c[E.route.id]||(c={...c,[E.route.id]:w.error}),n.fetchers.delete(d)}else if(fu(w))It(!1,"Unhandled fetcher revalidation redirect");else{let E=Go(w.data);n.fetchers.set(d,E)}}),{loaderData:l,errors:c}}function sR(n,e,t,r){let a=Object.entries(e).filter(([,o])=>o!==tC).reduce((o,[l,c])=>(o[l]=c,o),{});for(let o of t){let l=o.route.id;if(!e.hasOwnProperty(l)&&n.hasOwnProperty(l)&&o.route.loader&&(a[l]=n[l]),r&&r.hasOwnProperty(l))break}return a}function oR(n){return n?Ki(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function cu(n,e){return(e?n.slice(0,n.findIndex(r=>r.route.id===e)+1):[...n]).reverse().find(r=>r.route.hasErrorBoundary===!0)||n[0]}function lR(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function _a(n,{pathname:e,routeId:t,method:r,type:a,message:o}={}){let l="Unknown Server Error",c="Unknown @remix-run/router error";return n===400?(l="Bad Request",r&&e&&t?c=`You made a ${r} request to "${e}" but did not provide a \`loader\` for route "${t}", so there is no way to handle the request.`:a==="invalid-body"&&(c="Unable to encode submission body")):n===403?(l="Forbidden",c=`Route "${t}" does not match URL "${e}"`):n===404?(l="Not Found",c=`No route matches URL "${e}"`):n===405&&(l="Method Not Allowed",r&&e&&t?c=`You made a ${r.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${t}", so there is no way to handle the request.`:r&&(c=`Invalid request method "${r.toUpperCase()}"`)),new Gp(n||500,l,new Error(c),!0)}function cp(n){let e=Object.entries(n);for(let t=e.length-1;t>=0;t--){let[r,a]=e[t];if(fu(a))return{key:r,result:a}}}function iC(n){let e=typeof n=="string"?yo(n):n;return cl({...e,hash:""})}function Dx(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function Ix(n){return aC(n.result)&&fx.has(n.result.status)}function Ki(n){return n.type==="error"}function fu(n){return(n&&n.type)==="redirect"}function uR(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function aC(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function Ox(n){return hx.has(n.toUpperCase())}function Na(n){return ux.has(n.toUpperCase())}function H_(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function Uf(n,e){let t=typeof e=="string"?yo(e).search:e.search;if(n[n.length-1].route.index&&H_(t||""))return n[n.length-1];let r=WA(n);return r[r.length-1]}function cR(n){let{formMethod:e,formAction:t,formEncType:r,text:a,formData:o,json:l}=n;if(!(!e||!t||!r)){if(a!=null)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:void 0,text:a};if(o!=null)return{formMethod:e,formAction:t,formEncType:r,formData:o,json:void 0,text:void 0};if(l!==void 0)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:l,text:void 0}}}function bv(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Nx(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function xf(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function Mx(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function Go(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function xx(n,e){try{let t=n.sessionStorage.getItem(eC);if(t){let r=JSON.parse(t);for(let[a,o]of Object.entries(r||{}))o&&Array.isArray(o)&&e.set(a,new Set(o||[]))}}catch{}}function kx(n,e){if(e.size>0){let t={};for(let[r,a]of e)t[r]=[...a];try{n.sessionStorage.setItem(eC,JSON.stringify(t))}catch(r){Rr(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function Px(){let n,e,t=new Promise((r,a)=>{n=async o=>{r(o);try{await t}catch{}},e=async o=>{a(o);try{await t}catch{}}});return{promise:t,resolve:n,reject:e}}var ku=K.createContext(null);ku.displayName="DataRouter";var Ed=K.createContext(null);Ed.displayName="DataRouterState";var Y_=K.createContext({isTransitioning:!1});Y_.displayName="ViewTransition";var sC=K.createContext(new Map);sC.displayName="Fetchers";var Lx=K.createContext(null);Lx.displayName="Await";var Ba=K.createContext(null);Ba.displayName="Navigation";var kg=K.createContext(null);kg.displayName="Location";var ja=K.createContext({outlet:null,matches:[],isDataRoute:!1});ja.displayName="Route";var G_=K.createContext(null);G_.displayName="RouteError";function Vx(n,{relative:e}={}){It(gh(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=K.useContext(Ba),{hash:a,pathname:o,search:l}=bd(n,{relative:e}),c=o;return t!=="/"&&(c=o==="/"?t:hs([t,o])),r.createHref({pathname:c,search:l,hash:a})}function gh(){return K.useContext(kg)!=null}function bl(){return It(gh(),"useLocation() may be used only in the context of a <Router> component."),K.useContext(kg).location}var oC="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function lC(n){K.useContext(Ba).static||K.useLayoutEffect(n)}function Pg(){let{isDataRoute:n}=K.useContext(ja);return n?Wx():Ux()}function Ux(){It(gh(),"useNavigate() may be used only in the context of a <Router> component.");let n=K.useContext(ku),{basename:e,navigator:t}=K.useContext(Ba),{matches:r}=K.useContext(ja),{pathname:a}=bl(),o=JSON.stringify(Mg(r)),l=K.useRef(!1);return lC(()=>{l.current=!0}),K.useCallback((f,d={})=>{if(Rr(l.current,oC),!l.current)return;if(typeof f=="number"){t.go(f);return}let p=xg(f,JSON.parse(o),a,d.relative==="path");n==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:hs([e,p.pathname])),(d.replace?t.replace:t.push)(p,d.state,d)},[e,t,o,a,n])}var zx=K.createContext(null);function Bx(n){let e=K.useContext(ja).outlet;return e&&K.createElement(zx.Provider,{value:n},e)}function bd(n,{relative:e}={}){let{matches:t}=K.useContext(ja),{pathname:r}=bl(),a=JSON.stringify(Mg(t));return K.useMemo(()=>xg(n,JSON.parse(a),r,e==="path"),[n,a,r,e])}function jx(n,e,t,r){It(gh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:o}=K.useContext(Ba),{matches:l}=K.useContext(ja),c=l[l.length-1],f=c?c.params:{},d=c?c.pathname:"/",p=c?c.pathnameBase:"/",v=c&&c.route;{let M=v&&v.path||"";uC(d,!v||M.endsWith("*")||M.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${M}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${M}"> to <Route path="${M==="/"?"*":`${M}/*`}">.`)}let w=bl(),E;E=w;let R=E.pathname||"/",S=R;if(p!=="/"){let M=p.replace(/^\//,"").split("/");S="/"+R.replace(/^\//,"").split("/").slice(M.length).join("/")}let D=!o&&t&&t.matches&&t.matches.length>0?t.matches:Qo(n,{pathname:S});return Rr(v||D!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),Rr(D==null||D[D.length-1].route.element!==void 0||D[D.length-1].route.Component!==void 0||D[D.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),Yx(D&&D.map(M=>Object.assign({},M,{params:Object.assign({},f,M.params),pathname:hs([p,a.encodeLocation?a.encodeLocation(M.pathname).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?p:hs([p,a.encodeLocation?a.encodeLocation(M.pathnameBase).pathname:M.pathnameBase])})),l,t,r)}function Fx(){let n=Xx(),e=nd(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=K.createElement(K.Fragment,null,K.createElement("p",null,"💿 Hey developer 👋"),K.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",K.createElement("code",{style:o},"ErrorBoundary")," or"," ",K.createElement("code",{style:o},"errorElement")," prop on your route.")),K.createElement(K.Fragment,null,K.createElement("h2",null,"Unexpected Application Error!"),K.createElement("h3",{style:{fontStyle:"italic"}},e),t?K.createElement("pre",{style:a},t):null,l)}var $x=K.createElement(Fx,null),qx=class extends K.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?K.createElement(ja.Provider,{value:this.props.routeContext},K.createElement(G_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Hx({routeContext:n,match:e,children:t}){let r=K.useContext(ku);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),K.createElement(ja.Provider,{value:n},t)}function Yx(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,o=t==null?void 0:t.errors;if(o!=null){let f=a.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);It(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,f+1))}let l=!1,c=-1;if(t)for(let f=0;f<a.length;f++){let d=a[f];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=f),d.route.id){let{loaderData:p,errors:v}=t,w=d.route.loader&&!p.hasOwnProperty(d.route.id)&&(!v||v[d.route.id]===void 0);if(d.route.lazy||w){l=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((f,d,p)=>{let v,w=!1,E=null,R=null;t&&(v=o&&d.route.id?o[d.route.id]:void 0,E=d.route.errorElement||$x,l&&(c<0&&p===0?(uC("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,R=null):c===p&&(w=!0,R=d.route.hydrateFallbackElement||null)));let S=e.concat(a.slice(0,p+1)),D=()=>{let N;return v?N=E:w?N=R:d.route.Component?N=K.createElement(d.route.Component,null):d.route.element?N=d.route.element:N=f,K.createElement(Hx,{match:d,routeContext:{outlet:f,matches:S,isDataRoute:t!=null},children:N})};return t&&(d.route.ErrorBoundary||d.route.errorElement||p===0)?K.createElement(qx,{location:t.location,revalidation:t.revalidation,component:E,error:v,children:D(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):D()},null)}function Q_(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Gx(n){let e=K.useContext(ku);return It(e,Q_(n)),e}function Qx(n){let e=K.useContext(Ed);return It(e,Q_(n)),e}function Kx(n){let e=K.useContext(ja);return It(e,Q_(n)),e}function K_(n){let e=Kx(n),t=e.matches[e.matches.length-1];return It(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function Zx(){return K_("useRouteId")}function Xx(){var r;let n=K.useContext(G_),e=Qx("useRouteError"),t=K_("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function Wx(){let{router:n}=Gx("useNavigate"),e=K_("useNavigate"),t=K.useRef(!1);return lC(()=>{t.current=!0}),K.useCallback(async(a,o={})=>{Rr(t.current,oC),t.current&&(typeof a=="number"?n.navigate(a):await n.navigate(a,{fromRouteId:e,...o}))},[n,e])}var hR={};function uC(n,e,t){!e&&!hR[n]&&(hR[n]=!0,Rr(!1,t))}var fR={};function dR(n,e){!n&&!fR[e]&&(fR[e]=!0,console.warn(e))}function Jx(n){let e={hasErrorBoundary:n.hasErrorBoundary||n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&(n.element&&Rr(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:K.createElement(n.Component),Component:void 0})),n.HydrateFallback&&(n.hydrateFallbackElement&&Rr(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:K.createElement(n.HydrateFallback),HydrateFallback:void 0})),n.ErrorBoundary&&(n.errorElement&&Rr(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:K.createElement(n.ErrorBoundary),ErrorBoundary:void 0})),e}var ek=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",t(r))}})}};function tk({router:n,flushSync:e}){let[t,r]=K.useState(n.state),[a,o]=K.useState(),[l,c]=K.useState({isTransitioning:!1}),[f,d]=K.useState(),[p,v]=K.useState(),[w,E]=K.useState(),R=K.useRef(new Map),S=K.useCallback((L,{deletedFetchers:$,flushSync:P,viewTransitionOpts:H})=>{L.fetchers.forEach((I,O)=>{I.data!==void 0&&R.current.set(O,I.data)}),$.forEach(I=>R.current.delete(I)),dR(P===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let x=n.window!=null&&n.window.document!=null&&typeof n.window.document.startViewTransition=="function";if(dR(H==null||x,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!H||!x){e&&P?e(()=>r(L)):K.startTransition(()=>r(L));return}if(e&&P){e(()=>{p&&(f&&f.resolve(),p.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:H.currentLocation,nextLocation:H.nextLocation})});let I=n.window.document.startViewTransition(()=>{e(()=>r(L))});I.finished.finally(()=>{e(()=>{d(void 0),v(void 0),o(void 0),c({isTransitioning:!1})})}),e(()=>v(I));return}p?(f&&f.resolve(),p.skipTransition(),E({state:L,currentLocation:H.currentLocation,nextLocation:H.nextLocation})):(o(L),c({isTransitioning:!0,flushSync:!1,currentLocation:H.currentLocation,nextLocation:H.nextLocation}))},[n.window,e,p,f]);K.useLayoutEffect(()=>n.subscribe(S),[n,S]),K.useEffect(()=>{l.isTransitioning&&!l.flushSync&&d(new ek)},[l]),K.useEffect(()=>{if(f&&a&&n.window){let L=a,$=f.promise,P=n.window.document.startViewTransition(async()=>{K.startTransition(()=>r(L)),await $});P.finished.finally(()=>{d(void 0),v(void 0),o(void 0),c({isTransitioning:!1})}),v(P)}},[a,f,n.window]),K.useEffect(()=>{f&&a&&t.location.key===a.location.key&&f.resolve()},[f,p,t.location,a]),K.useEffect(()=>{!l.isTransitioning&&w&&(o(w.state),c({isTransitioning:!0,flushSync:!1,currentLocation:w.currentLocation,nextLocation:w.nextLocation}),E(void 0))},[l.isTransitioning,w]);let D=K.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:L=>n.navigate(L),push:(L,$,P)=>n.navigate(L,{state:$,preventScrollReset:P==null?void 0:P.preventScrollReset}),replace:(L,$,P)=>n.navigate(L,{replace:!0,state:$,preventScrollReset:P==null?void 0:P.preventScrollReset})}),[n]),N=n.basename||"/",M=K.useMemo(()=>({router:n,navigator:D,static:!1,basename:N}),[n,D,N]);return K.createElement(K.Fragment,null,K.createElement(ku.Provider,{value:M},K.createElement(Ed.Provider,{value:t},K.createElement(sC.Provider,{value:R.current},K.createElement(Y_.Provider,{value:l},K.createElement(sk,{basename:N,location:t.location,navigationType:t.historyAction,navigator:D},K.createElement(nk,{routes:n.routes,future:n.future,state:t})))))),null)}var nk=K.memo(rk);function rk({routes:n,future:e,state:t}){return jx(n,void 0,t,e)}function ik({to:n,replace:e,state:t,relative:r}){It(gh(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=K.useContext(Ba);Rr(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=K.useContext(ja),{pathname:l}=bl(),c=Pg(),f=xg(n,Mg(o),l,r==="path"),d=JSON.stringify(f);return K.useEffect(()=>{c(JSON.parse(d),{replace:e,state:t,relative:r})},[c,d,r,e,t]),null}function ak(n){return Bx(n.context)}function sk({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:a,static:o=!1}){It(!gh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),c=K.useMemo(()=>({basename:l,navigator:a,static:o,future:{}}),[l,a,o]);typeof t=="string"&&(t=yo(t));let{pathname:f="/",search:d="",hash:p="",state:v=null,key:w="default"}=t,E=K.useMemo(()=>{let R=Ea(f,l);return R==null?null:{location:{pathname:R,search:d,hash:p,state:v,key:w},navigationType:r}},[l,f,d,p,v,w,r]);return Rr(E!=null,`<Router basename="${l}"> is not able to match the URL "${f}${d}${p}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:K.createElement(Ba.Provider,{value:c},K.createElement(kg.Provider,{children:e,value:E}))}var Rp="get",Sp="application/x-www-form-urlencoded";function Lg(n){return n!=null&&typeof n.tagName=="string"}function ok(n){return Lg(n)&&n.tagName.toLowerCase()==="button"}function lk(n){return Lg(n)&&n.tagName.toLowerCase()==="form"}function uk(n){return Lg(n)&&n.tagName.toLowerCase()==="input"}function ck(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function hk(n,e){return n.button===0&&(!e||e==="_self")&&!ck(n)}var hp=null;function fk(){if(hp===null)try{new FormData(document.createElement("form"),0),hp=!1}catch{hp=!0}return hp}var dk=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Rv(n){return n!=null&&!dk.has(n)?(Rr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Sp}"`),null):n}function mk(n,e){let t,r,a,o,l;if(lk(n)){let c=n.getAttribute("action");r=c?Ea(c,e):null,t=n.getAttribute("method")||Rp,a=Rv(n.getAttribute("enctype"))||Sp,o=new FormData(n)}else if(ok(n)||uk(n)&&(n.type==="submit"||n.type==="image")){let c=n.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||c.getAttribute("action");if(r=f?Ea(f,e):null,t=n.getAttribute("formmethod")||c.getAttribute("method")||Rp,a=Rv(n.getAttribute("formenctype"))||Rv(c.getAttribute("enctype"))||Sp,o=new FormData(c,n),!fk()){let{name:d,type:p,value:v}=n;if(p==="image"){let w=d?`${d}.`:"";o.append(`${w}x`,"0"),o.append(`${w}y`,"0")}else d&&o.append(d,v)}}else{if(Lg(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Rp,r=null,a=Sp,l=n}return o&&a==="text/plain"&&(l=o,o=void 0),{action:r,method:t.toLowerCase(),encType:a,formData:o,body:l}}function Z_(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function pk(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function gk(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function yk(n,e,t){let r=await Promise.all(n.map(async a=>{let o=e.routes[a.route.id];if(o){let l=await pk(o,t);return l.links?l.links():[]}return[]}));return wk(r.flat(1).filter(gk).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function mR(n,e,t,r,a,o){let l=(f,d)=>t[d]?f.route.id!==t[d].route.id:!0,c=(f,d)=>{var p;return t[d].pathname!==f.pathname||((p=t[d].route.path)==null?void 0:p.endsWith("*"))&&t[d].params["*"]!==f.params["*"]};return o==="assets"?e.filter((f,d)=>l(f,d)||c(f,d)):o==="data"?e.filter((f,d)=>{var v;let p=r.routes[f.route.id];if(!p||!p.hasLoader)return!1;if(l(f,d)||c(f,d))return!0;if(f.route.shouldRevalidate){let w=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((v=t[0])==null?void 0:v.params)||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function vk(n,e,{includeHydrateFallback:t}={}){return _k(n.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function _k(n){return[...new Set(n)]}function Tk(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function wk(n,e){let t=new Set;return new Set(e),n.reduce((r,a)=>{let o=JSON.stringify(Tk(a));return t.has(o)||(t.add(o),r.push({key:o,link:a})),r},[])}function Ek(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&Ea(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function cC(){let n=K.useContext(ku);return Z_(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function bk(){let n=K.useContext(Ed);return Z_(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var X_=K.createContext(void 0);X_.displayName="FrameworkContext";function hC(){let n=K.useContext(X_);return Z_(n,"You must render this element inside a <HydratedRouter> element"),n}function Rk(n,e){let t=K.useContext(X_),[r,a]=K.useState(!1),[o,l]=K.useState(!1),{onFocus:c,onBlur:f,onMouseEnter:d,onMouseLeave:p,onTouchStart:v}=e,w=K.useRef(null);K.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let S=N=>{N.forEach(M=>{l(M.isIntersecting)})},D=new IntersectionObserver(S,{threshold:.5});return w.current&&D.observe(w.current),()=>{D.disconnect()}}},[n]),K.useEffect(()=>{if(r){let S=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(S)}}},[r]);let E=()=>{a(!0)},R=()=>{a(!1),l(!1)};return t?n!=="intent"?[o,w,{}]:[o,w,{onFocus:kf(c,E),onBlur:kf(f,R),onMouseEnter:kf(d,E),onMouseLeave:kf(p,R),onTouchStart:kf(v,E)}]:[!1,w,{}]}function kf(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function Sk({page:n,...e}){let{router:t}=cC(),r=K.useMemo(()=>Qo(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?K.createElement(Ck,{page:n,matches:r,...e}):null}function Ak(n){let{manifest:e,routeModules:t}=hC(),[r,a]=K.useState([]);return K.useEffect(()=>{let o=!1;return yk(n,e,t).then(l=>{o||a(l)}),()=>{o=!0}},[n,e,t]),r}function Ck({page:n,matches:e,...t}){let r=bl(),{manifest:a,routeModules:o}=hC(),{basename:l}=cC(),{loaderData:c,matches:f}=bk(),d=K.useMemo(()=>mR(n,e,f,a,r,"data"),[n,e,f,a,r]),p=K.useMemo(()=>mR(n,e,f,a,r,"assets"),[n,e,f,a,r]),v=K.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let R=new Set,S=!1;if(e.forEach(N=>{var L;let M=a.routes[N.route.id];!M||!M.hasLoader||(!d.some($=>$.route.id===N.route.id)&&N.route.id in c&&((L=o[N.route.id])!=null&&L.shouldRevalidate)||M.hasClientLoader?S=!0:R.add(N.route.id))}),R.size===0)return[];let D=Ek(n,l);return S&&R.size>0&&D.searchParams.set("_routes",e.filter(N=>R.has(N.route.id)).map(N=>N.route.id).join(",")),[D.pathname+D.search]},[l,c,r,a,d,e,n,o]),w=K.useMemo(()=>vk(p,a),[p,a]),E=Ak(p);return K.createElement(K.Fragment,null,v.map(R=>K.createElement("link",{key:R,rel:"prefetch",as:"fetch",href:R,...t})),w.map(R=>K.createElement("link",{key:R,rel:"modulepreload",href:R,...t})),E.map(({key:R,link:S})=>K.createElement("link",{key:R,...S})))}function Dk(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var fC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{fC&&(window.__reactRouterVersion="7.4.0")}catch{}function Ik(n,e){return gx({basename:e==null?void 0:e.basename,unstable_getContext:e==null?void 0:e.unstable_getContext,future:e==null?void 0:e.future,history:BM({window:e==null?void 0:e.window}),hydrationData:Ok(),routes:n,mapRouteProperties:Jx,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function Ok(){let n=window==null?void 0:window.__staticRouterHydrationData;return n&&n.errors&&(n={...n,errors:Nk(n.errors)}),n}function Nk(n){if(!n)return null;let e=Object.entries(n),t={};for(let[r,a]of e)if(a&&a.__type==="RouteErrorResponse")t[r]=new Gp(a.status,a.statusText,a.data,a.internal===!0);else if(a&&a.__type==="Error"){if(a.__subType){let o=window[a.__subType];if(typeof o=="function")try{let l=new o(a.message);l.stack="",t[r]=l}catch{}}if(t[r]==null){let o=new Error(a.message);o.stack="",t[r]=o}}else t[r]=a;return t}var dC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Rd=K.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:a,reloadDocument:o,replace:l,state:c,target:f,to:d,preventScrollReset:p,viewTransition:v,...w},E){let{basename:R}=K.useContext(Ba),S=typeof d=="string"&&dC.test(d),D,N=!1;if(typeof d=="string"&&S&&(D=d,fC))try{let O=new URL(window.location.href),z=d.startsWith("//")?new URL(O.protocol+d):new URL(d),B=Ea(z.pathname,R);z.origin===O.origin&&B!=null?d=B+z.search+z.hash:N=!0}catch{Rr(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let M=Vx(d,{relative:a}),[L,$,P]=Rk(r,w),H=Pk(d,{replace:l,state:c,target:f,preventScrollReset:p,relative:a,viewTransition:v});function x(O){e&&e(O),O.defaultPrevented||H(O)}let I=K.createElement("a",{...w,...P,href:D||M,onClick:N||o?e:x,ref:Dk(E,$),target:f,"data-discover":!S&&t==="render"?"true":void 0});return L&&!S?K.createElement(K.Fragment,null,I,K.createElement(Sk,{page:M})):I});Rd.displayName="Link";var Mk=K.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:a=!1,style:o,to:l,viewTransition:c,children:f,...d},p){let v=bd(l,{relative:d.relative}),w=bl(),E=K.useContext(Ed),{navigator:R,basename:S}=K.useContext(Ba),D=E!=null&&Bk(v)&&c===!0,N=R.encodeLocation?R.encodeLocation(v).pathname:v.pathname,M=w.pathname,L=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;t||(M=M.toLowerCase(),L=L?L.toLowerCase():null,N=N.toLowerCase()),L&&S&&(L=Ea(L,S)||L);const $=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let P=M===N||!a&&M.startsWith(N)&&M.charAt($)==="/",H=L!=null&&(L===N||!a&&L.startsWith(N)&&L.charAt(N.length)==="/"),x={isActive:P,isPending:H,isTransitioning:D},I=P?e:void 0,O;typeof r=="function"?O=r(x):O=[r,P?"active":null,H?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let z=typeof o=="function"?o(x):o;return K.createElement(Rd,{...d,"aria-current":I,className:O,ref:p,style:z,to:l,viewTransition:c},typeof f=="function"?f(x):f)});Mk.displayName="NavLink";var xk=K.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:a,state:o,method:l=Rp,action:c,onSubmit:f,relative:d,preventScrollReset:p,viewTransition:v,...w},E)=>{let R=Uk(),S=zk(c,{relative:d}),D=l.toLowerCase()==="get"?"get":"post",N=typeof c=="string"&&dC.test(c),M=L=>{if(f&&f(L),L.defaultPrevented)return;L.preventDefault();let $=L.nativeEvent.submitter,P=($==null?void 0:$.getAttribute("formmethod"))||l;R($||L.currentTarget,{fetcherKey:e,method:P,navigate:t,replace:a,state:o,relative:d,preventScrollReset:p,viewTransition:v})};return K.createElement("form",{ref:E,method:D,action:S,onSubmit:r?f:M,...w,"data-discover":!N&&n==="render"?"true":void 0})});xk.displayName="Form";function kk(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mC(n){let e=K.useContext(ku);return It(e,kk(n)),e}function Pk(n,{target:e,replace:t,state:r,preventScrollReset:a,relative:o,viewTransition:l}={}){let c=Pg(),f=bl(),d=bd(n,{relative:o});return K.useCallback(p=>{if(hk(p,e)){p.preventDefault();let v=t!==void 0?t:cl(f)===cl(d);c(n,{replace:v,state:r,preventScrollReset:a,relative:o,viewTransition:l})}},[f,c,d,t,r,e,n,a,o,l])}var Lk=0,Vk=()=>`__${String(++Lk)}__`;function Uk(){let{router:n}=mC("useSubmit"),{basename:e}=K.useContext(Ba),t=Zx();return K.useCallback(async(r,a={})=>{let{action:o,method:l,encType:c,formData:f,body:d}=mk(r,e);if(a.navigate===!1){let p=a.fetcherKey||Vk();await n.fetch(p,t,a.action||o,{preventScrollReset:a.preventScrollReset,formData:f,body:d,formMethod:a.method||l,formEncType:a.encType||c,flushSync:a.flushSync})}else await n.navigate(a.action||o,{preventScrollReset:a.preventScrollReset,formData:f,body:d,formMethod:a.method||l,formEncType:a.encType||c,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,e,t])}function zk(n,{relative:e}={}){let{basename:t}=K.useContext(Ba),r=K.useContext(ja);It(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),o={...bd(n||".",{relative:e})},l=bl();if(n==null){o.search=l.search;let c=new URLSearchParams(o.search),f=c.getAll("index");if(f.some(p=>p==="")){c.delete("index"),f.filter(v=>v).forEach(v=>c.append("index",v));let p=c.toString();o.search=p?`?${p}`:""}}return(!n||n===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:hs([t,o.pathname])),cl(o)}function Bk(n,e={}){let t=K.useContext(Y_);It(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=mC("useViewTransitionState"),a=bd(n,{relative:e.relative});if(!t.isTransitioning)return!1;let o=Ea(t.currentLocation.pathname,r)||t.currentLocation.pathname,l=Ea(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Yp(a.pathname,l)!=null||Yp(a.pathname,o)!=null}new TextEncoder;const pC=K.createContext(void 0),jk=({children:n})=>{const e=localStorage.getItem("theme"),[t,r]=K.useState(e||"light"),a=()=>{const o=t==="light"?"dark":"light";r(o),localStorage.setItem("theme",o),document.documentElement.classList.toggle("dark",o==="dark")};return K.useEffect(()=>{document.documentElement.classList.toggle("dark",t==="dark")},[t]),Ee.jsx(pC.Provider,{value:{theme:t,toggleTheme:a},children:n})},Fk=()=>{const n=K.useContext(pC);if(!n)throw new Error("Error de contexto");return n},$k=K.createContext(void 0),qk=({children:n})=>{const[e,t]=K.useState(null);return Ee.jsx($k.Provider,{value:{user:e,setUser:t},children:n})},Hk=({menuState:n})=>Ee.jsxs("div",{className:"size-full flex relative",children:[Ee.jsx("span",{className:`absolute transition-all ease-in-out duration-500 ${n?"left-0.5 top-6 rotate-45":"left-0.5 top-3"}  h-2 w-[90%] bg-[var(--th)] dark:bg-[var(--th)] rounded-full`}),Ee.jsx("span",{className:`absolute transition-all ease-in-out duration-500 ${n?"size-0":" w-[90%] h-2"} left-0.5 top-6 bg-[var(--th)] dark:bg-[var(--th)] rounded-full`}),Ee.jsx("span",{className:`absolute transition-all ease-in-out duration-500 ${n?"left-0.5 bottom-4 -rotate-45":"left-0.5 bottom-1"}  h-2 w-[90%] bg-[var(--th)] dark:bg-[var(--th)] rounded-full`})]}),gC=()=>{const[n,e]=K.useState(!1),{toggleTheme:t}=Fk(),r=[{name:"Notas",url:"/notes",icon:""},{name:"Finanzas",url:"/finances",icon:""}],a=()=>{t(),e(!1)};return Ee.jsxs("section",{className:"fixed z-50 flex flex-col top-0 left-0 w-full min-h-16 bg-gradient-to-br from-[var(--nd)] to-[var(--th)]",children:[Ee.jsx("button",{className:"size-16 p-2",onClick:()=>e(!n),children:Ee.jsx(Hk,{menuState:n})}),Ee.jsxs("ul",{className:`w-full ${n?"max-h-62":"max-h-0"} transition-all ease-in-out duration-500 overflow-hidden  flex flex-col gap-2 py-2`,children:[r.map((o,l)=>Ee.jsx("li",{children:Ee.jsx(Rd,{to:o.url,className:"flex h-16 p-2 items-center text-lg font-bold bg-[var(--st)]/50",children:Ee.jsx("h1",{className:"dark:text-[var(--txt)] text-[var(--txt)]",children:o.name})})},l)),Ee.jsx("button",{onClick:a,className:"flex h-16 p-2 items-center text-lg font-bold bg-[var(--st)]/50",children:Ee.jsx("h1",{className:"dark:text-[var(--txt)] text-[var(--txt)] ",children:"Cambiar tema"})})]})]})};/**
 * anime.js - ESM
 * @version v4.0.1
 * @author Julian Garnier
 * @license MIT
 * @copyright (c) 2025 Julian Garnier
 * @see https://animejs.com
 */const Rs=typeof window<"u",Ap=Rs?window:null,hl=Rs?document:null,ir={OBJECT:0,ATTRIBUTE:1,CSS:2,TRANSFORM:3,CSS_VAR:4},jt={NUMBER:0,UNIT:1,COLOR:2,COMPLEX:3},wa={NONE:0,AUTO:1,FORCE:2},Pi={replace:0,none:1,blend:2},pR=Symbol(),W_=Symbol(),yC=Symbol(),Vg=Symbol(),Yk=Symbol(),An=1e-11,vC=1e12,Zc=1e3,e_=120,du="",Sd=new Map;Sd.set("x","translateX");Sd.set("y","translateY");Sd.set("z","translateZ");const J_=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],_C=J_.reduce((n,e)=>({...n,[e]:e+"("}),{}),Ta=()=>{},Gk=/(^#([\da-f]{3}){1,2}$)|(^#([\da-f]{4}){1,2}$)/i,Qk=/rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/i,Kk=/rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(-?\d+|-?\d*.\d+)\s*\)/i,Zk=/hsl\(\s*(-?\d+|-?\d*.\d+)\s*,\s*(-?\d+|-?\d*.\d+)%\s*,\s*(-?\d+|-?\d*.\d+)%\s*\)/i,Xk=/hsla\(\s*(-?\d+|-?\d*.\d+)\s*,\s*(-?\d+|-?\d*.\d+)%\s*,\s*(-?\d+|-?\d*.\d+)%\s*,\s*(-?\d+|-?\d*.\d+)\s*\)/i,gR=/[-+]?\d*\.?\d+(?:e[-+]?\d)?/gi,Wk=/^([-+]?\d*\.?\d+(?:e[-+]?\d+)?)([a-z]+|%)$/i,Jk=/([a-z])([A-Z])/g,eP=/(\w+)(\([^)]+\)+)/g,TC={id:null,keyframes:null,playbackEase:null,playbackRate:1,frameRate:e_,loop:0,reversed:!1,alternate:!1,autoplay:!0,duration:Zc,delay:0,loopDelay:0,ease:"out(2)",composition:Pi.replace,modifier:n=>n,onBegin:Ta,onBeforeUpdate:Ta,onUpdate:Ta,onLoop:Ta,onPause:Ta,onComplete:Ta,onRender:Ta},Zt={defaults:TC,root:hl,scope:null,precision:4,timeScale:1,tickThreshold:200},wC={version:"4.0.1",engine:null};Rs&&(Ap.AnimeJS||(Ap.AnimeJS=[]),Ap.AnimeJS.push(wC));const tP=n=>n.replace(Jk,"$1-$2").toLowerCase(),Lc=(n,e)=>n.indexOf(e)===0,rd=Date.now,id=Array.isArray,Sv=n=>n&&n.constructor===Object,nP=n=>typeof n=="number"&&!isNaN(n),Ug=n=>typeof n=="string",ad=n=>typeof n=="function",Rn=n=>typeof n>"u",Av=n=>Rn(n)||n===null,EC=n=>Rs&&n instanceof SVGElement,bC=n=>Gk.test(n),RC=n=>Lc(n,"rgb"),SC=n=>Lc(n,"hsl"),rP=n=>bC(n)||RC(n)||SC(n),Cp=n=>!Zt.defaults.hasOwnProperty(n),fp=n=>Ug(n)?parseFloat(n):n,Ac=Math.pow,iP=Math.sqrt,aP=Math.sin,sP=Math.cos,oP=Math.abs,lP=Math.ceil,AC=Math.floor,uP=Math.asin,eT=Math.PI,yR=Math.round,hi=(n,e,t)=>n<e?e:n>t?t:n,vR={},Bn=(n,e)=>{if(e<0)return n;if(!e)return yR(n);let t=vR[e];return t||(t=vR[e]=10**e),yR(n*t)/t},su=(n,e,t)=>n+(e-n)*t,Dp=n=>n===1/0?vC:n===-1/0?-1e12:n,Vc=n=>n<An?An:n,Ei=n=>id(n)?[...n]:n,CC=(n,e)=>{const t={...n};for(let r in e){const a=n[r];t[r]=Rn(a)?e[r]:a}return t},Er=(n,e,t,r="_prev",a="_next")=>{let o=n._head,l=a;for(t&&(o=n._tail,l=r);o;){const c=o[l];e(o),o=c}},zf=(n,e,t="_prev",r="_next")=>{const a=e[t],o=e[r];a?a[r]=o:n._head=o,o?o[t]=a:n._tail=a,e[t]=null,e[r]=null},xc=(n,e,t,r="_prev",a="_next")=>{let o=n._tail;for(;o&&t&&t(o,e);)o=o[r];const l=o?o[a]:n._head;o?o[a]=e:n._head=e,l?l[r]=e:n._tail=e,e[r]=o,e[a]=l};class DC{constructor(e=0){this.deltaTime=0,this._currentTime=e,this._elapsedTime=e,this._startTime=e,this._lastTime=e,this._scheduledTime=0,this._frameDuration=Bn(Zc/e_,0),this._fps=e_,this._speed=1,this._hasChildren=!1,this._head=null,this._tail=null}get fps(){return this._fps}set fps(e){const t=this._frameDuration,r=+e,a=r<An?An:r,o=Bn(Zc/a,0);this._fps=a,this._frameDuration=o,this._scheduledTime+=o-t}get speed(){return this._speed}set speed(e){const t=+e;this._speed=t<An?An:t}requestTick(e){const t=this._scheduledTime,r=this._elapsedTime;if(this._elapsedTime+=e-r,r<t)return wa.NONE;const a=this._frameDuration,o=r-t;return this._scheduledTime+=o<a?a:o,wa.AUTO}computeDeltaTime(e){const t=e-this._lastTime;return this.deltaTime=t,this._lastTime=e,t}}const Ip=(n,e,t,r,a)=>{const o=n.parent,l=n.duration,c=n.completed,f=n.iterationDuration,d=n.iterationCount,p=n._currentIteration,v=n._loopDelay,w=n._reversed,E=n._alternate,R=n._hasChildren,S=n._delay,D=n._currentTime,N=S+f,M=e-S,L=hi(D,-S,l),$=hi(M,-S,l),P=M-D,H=$>0,x=$>=l,I=l<=An,O=a===wa.FORCE;let z=0,B=M,q=0;if(d>1){const he=~~($/(f+(x?0:v)));n._currentIteration=hi(he,0,d),x&&n._currentIteration--,z=n._currentIteration%2,B=$%(f+v)||0}const U=w^(E&&z),we=n._ease;let ie=x?U?0:l:U?f-B:B;we&&(ie=f*we(ie/f)||0);const te=(o?o.backwards:M<D)?!U:!!U;if(n._currentTime=M,n._iterationTime=ie,n.backwards=te,H&&!n.began?(n.began=!0,!t&&!(o&&(te||!o.began))&&n.onBegin(n)):M<=0&&(n.began=!1),!t&&!R&&H&&n._currentIteration!==p&&n.onLoop(n),O||a===wa.AUTO&&(e>=S&&e<=N||e<=S&&L>S||e>=N&&L!==l)||ie>=N&&L!==l||ie<=S&&L>0||e<=L&&L===l&&c||x&&!c&&I){if(H&&(n.computeDeltaTime(L),t||n.onBeforeUpdate(n)),!R){const he=O||(te?P*-1:P)>=Zt.tickThreshold,pe=n._offset+(o?o._offset:0)+S+ie;let le=n._head,F,ae,Te,_e,ve=0;for(;le;){const Ae=le._composition,Ie=le._currentTime,Ke=le._changeDuration,lt=le._absoluteStartTime+le._changeDuration,Ye=le._nextRep,Ge=le._prevRep,Ft=Ae!==Pi.none;if((he||(Ie!==Ke||pe<=lt+(Ye?Ye._delay:0))&&(Ie!==0||pe>=le._absoluteStartTime))&&(!Ft||!le._isOverridden&&(!le._isOverlapped||pe<=lt)&&(!Ye||Ye._isOverridden||pe<=Ye._absoluteStartTime)&&(!Ge||Ge._isOverridden||pe>=Ge._absoluteStartTime+Ge._changeDuration+le._delay))){const Cn=le._currentTime=hi(ie-le._startTime,0,Ke),mt=le._ease(Cn/le._updateDuration),Dn=le._modifier,$n=le._valueType,sn=le._tweenType,qn=sn===ir.OBJECT,gi=$n===jt.NUMBER,dr=gi&&qn||mt===0||mt===1?-1:Zt.precision;let Nn,Xn;if(gi)Nn=Xn=Dn(Bn(su(le._fromNumber,le._toNumber,mt),dr));else if($n===jt.UNIT)Xn=Dn(Bn(su(le._fromNumber,le._toNumber,mt),dr)),Nn=`${Xn}${le._unit}`;else if($n===jt.COLOR){const en=le._fromNumbers,mr=le._toNumbers,tn=Bn(hi(Dn(su(en[0],mr[0],mt)),0,255),0),Ln=Bn(hi(Dn(su(en[1],mr[1],mt)),0,255),0),kt=Bn(hi(Dn(su(en[2],mr[2],mt)),0,255),0),on=hi(Dn(Bn(su(en[3],mr[3],mt),dr)),0,1);if(Nn=`rgba(${tn},${Ln},${kt},${on})`,Ft){const Wn=le._numbers;Wn[0]=tn,Wn[1]=Ln,Wn[2]=kt,Wn[3]=on}}else if($n===jt.COMPLEX){Nn=le._strings[0];for(let en=0,mr=le._toNumbers.length;en<mr;en++){const tn=Dn(Bn(su(le._fromNumbers[en],le._toNumbers[en],mt),dr)),Ln=le._strings[en+1];Nn+=`${Ln?tn+Ln:tn}`,Ft&&(le._numbers[en]=tn)}}if(Ft&&(le._number=Xn),!r&&Ae!==Pi.blend){const en=le.property;F=le.target,qn?F[en]=Nn:sn===ir.ATTRIBUTE?F.setAttribute(en,Nn):(ae=F.style,sn===ir.TRANSFORM?(F!==Te&&(Te=F,_e=F[Vg]),_e[en]=Nn,ve=1):sn===ir.CSS?ae[en]=Nn:sn===ir.CSS_VAR&&ae.setProperty(en,Nn)),H&&(q=1)}else le._value=Nn}if(ve&&le._renderTransforms){let Cn=du;for(let mt in _e)Cn+=`${_C[mt]}${_e[mt]}) `;ae.transform=Cn,ve=0}le=le._next}!t&&q&&n.onRender(n)}!t&&H&&n.onUpdate(n)}return o&&I?!t&&(o.began&&!te&&M>=l&&!c||te&&M<=An&&c)&&(n.onComplete(n),n.completed=!te):H&&x?d===1/0?n._startTime+=n.duration:n._currentIteration>=d-1&&(n.paused=!0,!c&&!R&&(n.completed=!0,!t&&!(o&&(te||!o.began))&&(n.onComplete(n),n._resolve(n)))):n.completed=!1,q},Cc=(n,e,t,r,a)=>{const o=n._currentIteration;if(Ip(n,e,t,r,a),n._hasChildren){const l=n,c=l.backwards,f=r?e:l._iterationTime,d=rd();let p=0,v=!0;if(!r&&l._currentIteration!==o){const w=l.iterationDuration;Er(l,E=>{if(!c)!E.completed&&!E.backwards&&E._currentTime<E.iterationDuration&&Ip(E,w,t,1,wa.FORCE),E.began=!1,E.completed=!1;else{const R=E.duration,S=E._offset+E._delay,D=S+R;!t&&R<=An&&(!S||D===w)&&E.onComplete(E)}}),t||l.onLoop(l)}Er(l,w=>{const E=Bn((f-w._offset)*w._speed,12),R=w._fps<l._fps?w.requestTick(d):a;p+=Ip(w,E,t,r,R),!w.completed&&v&&(v=!1)},c),!t&&p&&l.onRender(l),v&&l._currentTime>=l.duration&&(l.paused=!0,l.completed||(l.completed=!0,t||(l.onComplete(l),l._resolve(l))))}},Uc={animation:null,update:Ta},cP=n=>{let e=Uc.animation;return e||(e={duration:An,computeDeltaTime:Ta,_offset:0,_delay:0,_head:null,_tail:null},Uc.animation=e,Uc.update=()=>{n.forEach(t=>{for(let r in t){const a=t[r],o=a._head;if(o){const l=o._valueType,c=l===jt.COMPLEX||l===jt.COLOR?Ei(o._fromNumbers):null;let f=o._fromNumber,d=a._tail;for(;d&&d!==o;){if(c)for(let p=0,v=d._numbers.length;p<v;p++)c[p]+=d._numbers[p];else f+=d._number;d=d._prevAdd}o._toNumber=f,o._toNumbers=c}}}),Ip(e,1,1,0,wa.FORCE)}),e},IC=Rs?requestAnimationFrame:setImmediate,hP=Rs?cancelAnimationFrame:clearImmediate;class fP extends DC{constructor(e){super(e),this.useDefaultMainLoop=!0,this.pauseOnDocumentHidden=!0,this.defaults=TC,this.paused=!!(Rs&&hl.hidden),this.reqId=null}update(){const e=this._currentTime=rd();if(this.requestTick(e)){this.computeDeltaTime(e);const t=this._speed,r=this._fps;let a=this._head;for(;a;){const o=a._next;a.paused?(zf(this,a),this._hasChildren=!!this._tail,a._running=!1,a.completed&&!a._cancelled&&a.cancel()):Cc(a,(e-a._startTime)*a._speed*t,0,0,a._fps<r?a.requestTick(e):wa.AUTO),a=o}Uc.update()}}wake(){return this.useDefaultMainLoop&&!this.reqId&&!this.paused&&(this.reqId=IC(OC)),this}pause(){return this.paused=!0,dP()}resume(){if(this.paused)return this.paused=!1,Er(this,e=>e.resetTime()),this.wake()}get speed(){return this._speed*(Zt.timeScale===1?1:Zc)}set speed(e){this._speed=e*Zt.timeScale,Er(this,t=>t.speed=t._speed)}get timeUnit(){return Zt.timeScale===1?"ms":"s"}set timeUnit(e){const r=e==="s",a=r?.001:1;if(Zt.timeScale!==a){Zt.timeScale=a,Zt.tickThreshold=200*a;const o=r?.001:Zc;this.defaults.duration*=o,this._speed*=o}}get precision(){return Zt.precision}set precision(e){Zt.precision=e}}const ci=(()=>{const n=new fP(rd());return Rs&&(wC.engine=n,hl.addEventListener("visibilitychange",()=>{n.pauseOnDocumentHidden&&(hl.hidden?n.pause():n.resume())})),n})(),OC=()=>{ci._head?(ci.reqId=IC(OC),ci.update()):ci.reqId=0},dP=()=>(hP(ci.reqId),ci.reqId=0,ci),mP=(n,e,t)=>{const r=n.style.transform;let a;if(r){const o=n[Vg];let l;for(;l=eP.exec(r);){const c=l[1],f=l[2].slice(1,-1);o[c]=f,c===e&&(a=f,t&&(t[e]=f))}}return r&&!Rn(a)?a:Lc(e,"scale")?"1":Lc(e,"rotate")||Lc(e,"skew")?"0deg":"0px"};function _R(n){const e=Ug(n)?Zt.root.querySelectorAll(n):n;if(e instanceof NodeList||e instanceof HTMLCollection)return e}function NC(n){if(Av(n))return[];if(id(n)){const t=n.flat(1/0),r=[];for(let a=0,o=t.length;a<o;a++){const l=t[a];if(!Av(l)){const c=_R(l);if(c)for(let f=0,d=c.length;f<d;f++){const p=c[f];if(!Av(p)){let v=!1;for(let w=0,E=r.length;w<E;w++)if(r[w]===p){v=!0;break}v||r.push(p)}}else{let f=!1;for(let d=0,p=r.length;d<p;d++)if(r[d]===l){f=!0;break}f||r.push(l)}}}return r}if(!Rs)return[n];const e=_R(n);return e?Array.from(e):[n]}function pP(n){const e=NC(n),t=e.length;if(t)for(let r=0;r<t;r++){const a=e[r];if(!a[pR]){a[pR]=!0;const o=EC(a);(a.nodeType||o)&&(a[W_]=!0,a[yC]=o,a[Vg]={})}}return e}const gP=["opacity","rotate","overflow","color"],yP=(n,e)=>{if(gP.includes(e))return!1;if(n.getAttribute(e)||e in n){if(e==="scale"){const t=n.parentNode;return t&&t.tagName==="filter"}return!0}},vP=n=>{const e=Qk.exec(n)||Kk.exec(n),t=Rn(e[4])?1:+e[4];return[+e[1],+e[2],+e[3],t]},_P=n=>{const e=n.length,t=e===4||e===5;return[+("0x"+n[1]+n[t?1:2]),+("0x"+n[t?2:3]+n[t?2:4]),+("0x"+n[t?3:5]+n[t?3:6]),e===5||e===9?+(+("0x"+n[t?4:7]+n[t?4:8])/255).toFixed(3):1]},Cv=(n,e,t)=>(t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n),TP=n=>{const e=Zk.exec(n)||Xk.exec(n),t=+e[1]/360,r=+e[2]/100,a=+e[3]/100,o=Rn(e[4])?1:+e[4];let l,c,f;if(r===0)l=c=f=a;else{const d=a<.5?a*(1+r):a+r-a*r,p=2*a-d;l=Bn(Cv(p,d,t+1/3)*255,0),c=Bn(Cv(p,d,t)*255,0),f=Bn(Cv(p,d,t-1/3)*255,0)}return[l,c,f,o]},wP=n=>RC(n)?vP(n):bC(n)?_P(n):SC(n)?TP(n):[0,0,0,1],bi=(n,e)=>Rn(n)?e:n,qo=(n,e,t,r,a)=>{if(ad(n)){const o=()=>{const l=n(e,t,r);return isNaN(+l)?l||0:+l};return a&&(a.func=o),o()}else return n},MC=(n,e)=>n[W_]?n[yC]&&yP(n,e)?ir.ATTRIBUTE:J_.includes(e)||Sd.get(e)?ir.TRANSFORM:Lc(e,"--")?ir.CSS_VAR:e in n.style?ir.CSS:e in n?ir.OBJECT:ir.ATTRIBUTE:ir.OBJECT,TR=(n,e,t)=>{const r=n.style[e];r&&t&&(t[e]=r);const a=r||getComputedStyle(n[Yk]||n).getPropertyValue(e);return a==="auto"?"0":a},Pf=(n,e,t,r)=>{const a=Rn(t)?MC(n,e):t;return a===ir.OBJECT?n[e]||0:a===ir.ATTRIBUTE?n.getAttribute(e):a===ir.TRANSFORM?mP(n,e,r):a===ir.CSS_VAR?TR(n,e,r).trimStart():TR(n,e,r)},wR=(n,e,t)=>t==="-"?n-e:t==="+"?n+e:n*e,tT=()=>({t:jt.NUMBER,n:0,u:null,o:null,d:null,s:null}),as=(n,e)=>{if(e.t=jt.NUMBER,e.n=0,e.u=null,e.o=null,e.d=null,e.s=null,!n)return e;const t=+n;if(isNaN(t)){let r=n;r[1]==="="&&(e.o=r[0],r=r.slice(2));const a=r.includes(" ")?!1:Wk.exec(r);if(a)return e.t=jt.UNIT,e.n=+a[1],e.u=a[2],e;if(e.o)return e.n=+r,e;if(rP(r))return e.t=jt.COLOR,e.d=wP(r),e;{const o=r.match(gR);return e.t=jt.COMPLEX,e.d=o?o.map(Number):[],e.s=r.split(gR)||[],e}}else return e.n=t,e},ER=(n,e)=>(e.t=n._valueType,e.n=n._toNumber,e.u=n._unit,e.o=null,e.d=Ei(n._toNumbers),e.s=Ei(n._strings),e),ou=tT(),Qp={_rep:new WeakMap,_add:new Map},nT=(n,e,t="_rep")=>{const r=Qp[t];let a=r.get(n);return a||(a={},r.set(n,a)),a[e]?a[e]:a[e]={_head:null,_tail:null}},EP=(n,e)=>n._isOverridden||n._absoluteStartTime>e._absoluteStartTime,Op=n=>{n._isOverlapped=1,n._isOverridden=1,n._changeDuration=An,n._currentTime=An},xC=(n,e)=>{const t=n._composition;if(t===Pi.replace){const r=n._absoluteStartTime;xc(e,n,EP,"_prevRep","_nextRep");const a=n._prevRep;if(a){const o=a.parent,l=a._absoluteStartTime+a._changeDuration;if(n.parent.id!==o.id&&o.iterationCount>1&&l+(o.duration-o.iterationDuration)>r){Op(a);let d=a._prevRep;for(;d&&d.parent.id===o.id;)Op(d),d=d._prevRep}const c=r-n._delay;if(l>c){const d=a._startTime,p=l-(d+a._updateDuration);a._changeDuration=c-p-d,a._currentTime=a._changeDuration,a._isOverlapped=1,a._changeDuration<An&&Op(a)}let f=!0;if(Er(o,d=>{d._isOverlapped||(f=!1)}),f){const d=o.parent;if(d){let p=!0;Er(d,v=>{v!==o&&Er(v,w=>{w._isOverlapped||(p=!1)})}),p&&d.cancel()}else o.cancel()}}}else if(t===Pi.blend){const r=nT(n.target,n.property,"_add"),a=cP(Qp._add);let o=r._head;o||(o={...n},o._composition=Pi.replace,o._updateDuration=An,o._startTime=0,o._numbers=Ei(n._fromNumbers),o._number=0,o._next=null,o._prev=null,xc(r,o),xc(a,o));const l=n._toNumber;if(n._fromNumber=o._fromNumber-l,n._toNumber=0,n._numbers=Ei(n._fromNumbers),n._number=0,o._fromNumber=l,n._toNumbers){const c=Ei(n._toNumbers);c&&c.forEach((f,d)=>{n._fromNumbers[d]=o._fromNumbers[d]-f,n._toNumbers[d]=0}),o._fromNumbers=c}xc(r,n,null,"_prevAdd","_nextAdd")}return n},bP=n=>{const e=n._composition;if(e!==Pi.none){const t=n.target,r=n.property,l=Qp._rep.get(t)[r];if(zf(l,n,"_prevRep","_nextRep"),e===Pi.blend){const c=Qp._add,f=c.get(t);if(!f)return;const d=f[r],p=Uc.animation;zf(d,n,"_prevAdd","_nextAdd");const v=d._head;if(v&&v===d._tail){zf(d,v,"_prevAdd","_nextAdd"),zf(p,v);let w=!0;for(let E in f)if(f[E]._head){w=!1;break}w&&c.delete(t)}}}return n},bR=n=>(n.paused=!0,n.began=!1,n.completed=!1,n),t_=n=>(n._cancelled&&(n._hasChildren?Er(n,t_):Er(n,e=>{e._composition!==Pi.none&&xC(e,nT(e.target,e.property))}),n._cancelled=0),n);let RP=0;class SP extends DC{constructor(e={},t=null,r=0){super(0);const{id:a,delay:o,duration:l,reversed:c,alternate:f,loop:d,loopDelay:p,autoplay:v,frameRate:w,playbackRate:E,onComplete:R,onLoop:S,onPause:D,onBegin:N,onBeforeUpdate:M,onUpdate:L}=e;Zt.scope&&Zt.scope.revertibles.push(this);const $=t?0:ci._elapsedTime,P=t?t.defaults:Zt.defaults,H=ad(o)||Rn(o)?P.delay:+o,x=ad(l)||Rn(l)?1/0:+l,I=bi(d,P.loop),O=bi(p,P.loopDelay),z=I===!0||I===1/0||I<0?1/0:I+1;let B=0;if(t)B=r;else{let q=rd();ci.paused&&(ci.requestTick(q),q=ci._elapsedTime),B=q-ci._startTime}this.id=Rn(a)?++RP:a,this.parent=t,this.duration=Dp((x+O)*z-O)||An,this.backwards=!1,this.paused=!0,this.began=!1,this.completed=!1,this.onBegin=N||P.onBegin,this.onBeforeUpdate=M||P.onBeforeUpdate,this.onUpdate=L||P.onUpdate,this.onLoop=S||P.onLoop,this.onPause=D||P.onPause,this.onComplete=R||P.onComplete,this.iterationDuration=x,this.iterationCount=z,this._autoplay=t?!1:bi(v,P.autoplay),this._offset=B,this._delay=H,this._loopDelay=O,this._iterationTime=0,this._currentIteration=0,this._resolve=Ta,this._running=!1,this._reversed=+bi(c,P.reversed),this._reverse=this._reversed,this._cancelled=0,this._alternate=bi(f,P.alternate),this._prev=null,this._next=null,this._elapsedTime=$,this._startTime=$,this._lastTime=$,this._fps=bi(w,P.frameRate),this._speed=bi(E,P.playbackRate)}get cancelled(){return!!this._cancelled}set cancelled(e){e?this.cancel():this.reset(1).play()}get currentTime(){return hi(Bn(this._currentTime,Zt.precision),-this._delay,this.duration)}set currentTime(e){const t=this.paused;this.pause().seek(+e),t||this.resume()}get iterationCurrentTime(){return Bn(this._iterationTime,Zt.precision)}set iterationCurrentTime(e){this.currentTime=this.iterationDuration*this._currentIteration+e}get progress(){return hi(Bn(this._currentTime/this.duration,5),0,1)}set progress(e){this.currentTime=this.duration*e}get iterationProgress(){return hi(Bn(this._iterationTime/this.iterationDuration,5),0,1)}set iterationProgress(e){const t=this.iterationDuration;this.currentTime=t*this._currentIteration+t*e}get currentIteration(){return this._currentIteration}set currentIteration(e){this.currentTime=this.iterationDuration*hi(+e,0,this.iterationCount-1)}get reversed(){return!!this._reversed}set reversed(e){e?this.reverse():this.play()}get speed(){return super.speed}set speed(e){super.speed=e,this.resetTime()}reset(e=0){return t_(this),this._reversed&&!this._reverse&&(this.reversed=!1),this._iterationTime=this.iterationDuration,Cc(this,0,1,e,wa.FORCE),bR(this),this._hasChildren&&Er(this,bR),this}init(e=0){this.fps=this._fps,this.speed=this._speed,!e&&this._hasChildren&&Cc(this,this.duration,1,e,wa.FORCE),this.reset(e);const t=this._autoplay;return t===!0?this.resume():t&&!Rn(t.linked)&&t.link(this),this}resetTime(){const e=1/(this._speed*ci._speed);return this._startTime=rd()-(this._currentTime+this._delay)*e,this}pause(){return this.paused?this:(this.paused=!0,this.onPause(this),this)}resume(){return this.paused?(this.paused=!1,this.duration<=An&&!this._hasChildren?Cc(this,An,0,0,wa.FORCE):(this._running||(xc(ci,this),ci._hasChildren=!0,this._running=!0),this.resetTime(),this._startTime-=12,ci.wake()),this):this}restart(){return this.reset(0).resume()}seek(e,t=0,r=0){t_(this),this.completed=!1;const a=this.paused;return this.paused=!0,Cc(this,e+this._delay,~~t,~~r,wa.AUTO),a?this:this.resume()}alternate(){const e=this._reversed,t=this.iterationCount,r=this.iterationDuration,a=t===1/0?AC(vC/r):t;return this._reversed=+(this._alternate&&!(a%2)?e:!e),t===1/0?this.iterationProgress=this._reversed?1-this.iterationProgress:this.iterationProgress:this.seek(r*a-this._currentTime),this.resetTime(),this}play(){return this._reversed&&this.alternate(),this.resume()}reverse(){return this._reversed||this.alternate(),this.resume()}cancel(){return this._hasChildren?Er(this,e=>e.cancel(),!0):Er(this,bP),this._cancelled=1,this.pause()}stretch(e){const t=this.duration;if(t===Vc(e))return this;const r=e/t,a=e<=An;return this.duration=a?An:Vc(Dp(Bn(t*r,12))),this.iterationDuration=a?An:Vc(Dp(Bn(this.iterationDuration*r,12))),this._offset*=r,this._delay*=r,this._loopDelay*=r,this}revert(){Cc(this,0,1,0,wa.AUTO);const e=this._autoplay;return e&&e.linked&&e.linked===this&&e.revert(),this.cancel()}complete(){return this.seek(this.duration).cancel()}then(e=Ta){const t=this.then,r=()=>{this.then=null,e(this),this.then=t,this._resolve=Ta};return new Promise(a=>(this._resolve=()=>a(r()),this.completed&&this._resolve(),this))}}const Xc=n=>n,kC=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,AP=(n,e,t)=>{let r=0,a=1,o,l,c=0;do l=r+(a-r)/2,o=kC(l,e,t)-n,o>0?a=l:r=l;while(oP(o)>1e-7&&++c<100);return l},CP=(n=.5,e=0,t=.5,r=1)=>n===e&&t===r?Xc:a=>a===0||a===1?a:kC(AP(a,n,t),e,r),DP=(n=10,e)=>{const t=e?lP:AC;return r=>t(hi(r,0,1)*n)*(1/n)},PC=(...n)=>{const e=n.length;if(!e)return Xc;const t=e-1,r=n[0],a=n[t],o=[0],l=[fp(r)];for(let c=1;c<t;c++){const f=n[c],d=Ug(f)?f.trim().split(" "):[f],p=d[0],v=d[1];o.push(Rn(v)?c/t:fp(v)/100),l.push(fp(p))}return l.push(fp(a)),o.push(1),function(f){for(let d=1,p=o.length;d<p;d++){const v=o[d];if(f<=v){const w=o[d-1],E=l[d-1];return E+(l[d]-E)*(f-w)/(v-w)}}return l[l.length-1]}},IP=(n=10,e=1)=>{const t=[0],r=n-1;for(let a=1;a<r;a++){const o=t[a-1],l=a/r,c=(a+1)/r,f=l+(c-l)*Math.random(),d=l*(1-e)+f*e;t.push(hi(d,o,1))}return t.push(1),PC(...t)},OP=eT/2,RR=eT*2,Lf=(n=1.68)=>e=>Ac(e,+n),SR={[du]:Lf,Quad:Lf(2),Cubic:Lf(3),Quart:Lf(4),Quint:Lf(5),Sine:n=>1-sP(n*OP),Circ:n=>1-iP(1-n*n),Expo:n=>n?Ac(2,10*n-10):0,Bounce:n=>{let e,t=4;for(;n<((e=Ac(2,--t))-1)/11;);return 1/Ac(4,3-t)-7.5625*Ac((e*3-2)/22-n,2)},Back:(n=1.70158)=>e=>(+n+1)*e*e*e-+n*e*e,Elastic:(n=1,e=.3)=>{const t=hi(+n,1,10),r=hi(+e,An,2),a=r/RR*uP(1/t),o=RR/r;return l=>l===0||l===1?l:-t*Ac(2,-10*(1-l))*aP((1-l-a)*o)}},n_={in:n=>e=>n(e),out:n=>e=>1-n(1-e),inOut:n=>e=>e<.5?n(e*2)/2:1-n(e*-2+2)/2,outIn:n=>e=>e<.5?(1-n(1-e*2))/2:(n(e*2-1)+1)/2},NP=(n,e,t)=>{if(t[n])return t[n];if(n.indexOf("(")<=-1){const a=n_[n]||n.includes("Back")||n.includes("Elastic")?e[n]():e[n];return a?t[n]=a:Xc}else{const r=n.slice(0,-1).split("("),a=e[r[0]];return a?t[n]=a(...r[1].split(",")):Xc}},MP=(()=>{const n={linear:PC,irregular:IP,steps:DP,cubicBezier:CP};for(let e in n_)for(let t in SR){const r=SR[t],a=n_[e];n[e+t]=t===du||t==="Back"||t==="Elastic"?(o,l)=>a(r(o,l)):a(r)}return n})(),xP={linear:Xc},AR=n=>ad(n)?n:Ug(n)?NP(n,MP,xP):Xc,CR={},kP=(n,e,t)=>{if(t===ir.TRANSFORM){const r=Sd.get(n);return r||n}else if(t===ir.CSS||t===ir.ATTRIBUTE&&EC(e)&&n in e.style){const r=CR[n];if(r)return r;{const a=n&&tP(n);return CR[n]=a,a}}else return n},Dv={deg:1,rad:180/eT,turn:360},DR={},PP=(n,e,t,r=!1)=>{const a=e.u,o=e.n;if(e.t===jt.UNIT&&a===t)return e;const l=o+a+t,c=DR[l];if(!Rn(c)&&!r)e.n=c;else{let f;if(a in Dv)f=o*Dv[a]/Dv[t];else{const p=n.cloneNode(),v=n.parentNode,w=v&&v!==hl?v:hl.body;w.appendChild(p);const E=p.style;E.width=100+a;const R=p.offsetWidth||100;E.width=100+t;const S=p.offsetWidth||100,D=R/S;w.removeChild(p),f=D*o}e.n=f,DR[l]=f}return e.t,jt.UNIT,e.u=t,e},LC=n=>{if(n._hasChildren)Er(n,LC,!0);else{const e=n;e.pause(),Er(e,t=>{const r=t.property,a=t.target;if(a[W_]){const o=a.style,l=e._inlineStyles[r];if(t._tweenType===ir.TRANSFORM){const c=a[Vg];if(Rn(l)||l===du?delete c[r]:c[r]=l,t._renderTransforms)if(!Object.keys(c).length)o.removeProperty("transform");else{let f=du;for(let d in c)f+=_C[d]+c[d]+") ";o.transform=f}}else Rn(l)||l===du?o.removeProperty(r):o[r]=l;e._tail===t&&e.targets.forEach(c=>{c.getAttribute&&c.getAttribute("style")===du&&c.removeAttribute("style")})}})}return n},dt=tT(),At=tT(),dp={func:null},mp=[null],bc=[null,null],pp={to:null};let LP=0,Ho,ss;const VP=(n,e)=>{const t={};if(id(n)){const r=[].concat(...n.map(a=>Object.keys(a))).filter(Cp);for(let a=0,o=r.length;a<o;a++){const l=r[a],c=n.map(f=>{const d={};for(let p in f){const v=f[p];Cp(p)?p===l&&(d.to=v):d[p]=v}return d});t[l]=c}}else{const r=bi(e.duration,Zt.defaults.duration);Object.keys(n).map(o=>({o:parseFloat(o)/100,p:n[o]})).sort((o,l)=>o.o-l.o).forEach(o=>{const l=o.o,c=o.p;for(let f in c)if(Cp(f)){let d=t[f];d||(d=t[f]=[]);const p=l*r;let v=d.length,w=d[v-1];const E={to:c[f]};let R=0;for(let S=0;S<v;S++)R+=d[S].duration;v===1&&(E.from=w.to),c.ease&&(E.ease=c.ease),E.duration=p-(v?R:0),d.push(E)}return o});for(let o in t){const l=t[o];let c;for(let f=0,d=l.length;f<d;f++){const p=l[f],v=p.ease;p.ease=c||void 0,c=v}l[0].duration||l.shift()}}return t};class UP extends SP{constructor(e,t,r,a,o=!1,l=0,c=0){super(t,r,a);const f=pP(e),d=f.length,p=t.keyframes,v=p?CC(VP(p,t),t):t,{delay:w,duration:E,ease:R,playbackEase:S,modifier:D,composition:N,onRender:M}=v,L=r?r.defaults:Zt.defaults,$=bi(S,L.playbackEase),P=$?AR($):null,H=!Rn(R)&&!Rn(R.ease),x=H?R.ease:bi(R,P?"linear":L.ease),I=H?R.duration:bi(E,L.duration),O=bi(w,L.delay),z=D||L.modifier,B=Rn(N)&&d>=Zc?Pi.none:Rn(N)?L.composition:N,q={},U=this._offset+(r?r._offset:0);let we=NaN,ie=NaN,te=0,he=0;for(let pe=0;pe<d;pe++){const le=f[pe],F=l||pe,ae=c||d;let Te=NaN,_e=NaN;for(let ve in v)if(Cp(ve)){const Ae=MC(le,ve),Ie=kP(ve,le,Ae);let Ke=v[ve];const lt=id(Ke);if(o&&!lt&&(bc[0]=Ke,bc[1]=Ke,Ke=bc),lt){const Dn=Ke.length,$n=!Sv(Ke[0]);Dn===2&&$n?(pp.to=Ke,mp[0]=pp,Ho=mp):Dn>2&&$n?(Ho=[],Ke.forEach((sn,qn)=>{qn?qn===1?(bc[1]=sn,Ho.push(bc)):Ho.push(sn):bc[0]=sn})):Ho=Ke}else mp[0]=Ke,Ho=mp;let Ye=null,Ge=null,Ft=NaN,Cn=0,mt=0;for(let Dn=Ho.length;mt<Dn;mt++){const $n=Ho[mt];Sv($n)?ss=$n:(pp.to=$n,ss=pp),dp.func=null;const sn=qo(ss.to,le,F,ae,dp);let qn;Sv(sn)&&!Rn(sn.to)?(ss=sn,qn=sn.to):qn=sn;const gi=qo(ss.from,le,F,ae),dr=ss.ease,Nn=!Rn(dr)&&!Rn(dr.ease),Xn=Nn?dr.ease:dr||x,en=Nn?dr.duration:qo(bi(ss.duration,Dn>1?qo(I,le,F,ae)/Dn:I),le,F,ae),mr=qo(bi(ss.delay,mt?0:O),le,F,ae),tn=qo(bi(ss.composition,B),le,F,ae),Ln=nP(tn)?tn:Pi[tn],kt=ss.modifier||z,on=!Rn(gi),Wn=!Rn(qn),Ra=id(qn),ii=Ra||on&&Wn,Fa=Ge?Cn+mr:mr,Oi=U+Fa;!he&&(on||Ra)&&(he=1);let Mn=Ge;if(Ln!==Pi.none){Ye||(Ye=nT(le,Ie));let pt=Ye._head;for(;pt&&!pt._isOverridden&&pt._absoluteStartTime<=Oi;)if(Mn=pt,pt=pt._nextRep,pt&&pt._absoluteStartTime>=Oi)for(;pt;)Op(pt),pt=pt._nextRep}if(ii?(as(Ra?qo(qn[0],le,F,ae):gi,dt),as(Ra?qo(qn[1],le,F,ae,dp):qn,At),dt.t===jt.NUMBER&&(Mn?Mn._valueType===jt.UNIT&&(dt.t=jt.UNIT,dt.u=Mn._unit):(as(Pf(le,Ie,Ae,q),ou),ou.t===jt.UNIT&&(dt.t=jt.UNIT,dt.u=ou.u)))):(Wn?as(qn,At):Ge?ER(Ge,At):as(r&&Mn&&Mn.parent.parent===r?Mn._value:Pf(le,Ie,Ae,q),At),on?as(gi,dt):Ge?ER(Ge,dt):as(r&&Mn&&Mn.parent.parent===r?Mn._value:Pf(le,Ie,Ae,q),dt)),dt.o&&(dt.n=wR(Mn?Mn._toNumber:as(Pf(le,Ie,Ae,q),ou).n,dt.n,dt.o)),At.o&&(At.n=wR(dt.n,At.n,At.o)),dt.t!==At.t){if(dt.t===jt.COMPLEX||At.t===jt.COMPLEX){const pt=dt.t===jt.COMPLEX?dt:At,Nt=dt.t===jt.COMPLEX?At:dt;Nt.t=jt.COMPLEX,Nt.s=Ei(pt.s),Nt.d=pt.d.map(()=>Nt.n)}else if(dt.t===jt.UNIT||At.t===jt.UNIT){const pt=dt.t===jt.UNIT?dt:At,Nt=dt.t===jt.UNIT?At:dt;Nt.t=jt.UNIT,Nt.u=pt.u}else if(dt.t===jt.COLOR||At.t===jt.COLOR){const pt=dt.t===jt.COLOR?dt:At,Nt=dt.t===jt.COLOR?At:dt;Nt.t=jt.COLOR,Nt.s=pt.s,Nt.d=[0,0,0,1]}}if(dt.u!==At.u){let pt=At.u?dt:At;pt=PP(le,pt,At.u?At.u:dt.u,!1)}if(At.d&&dt.d&&At.d.length!==dt.d.length){const pt=dt.d.length>At.d.length?dt:At,Nt=pt===dt?At:dt;Nt.d=pt.d.map(($a,Ds)=>Rn(Nt.d[Ds])?0:Nt.d[Ds]),Nt.s=Ei(pt.s)}const Hn=Bn(+en||An,12),Bi={parent:this,id:LP++,property:Ie,target:le,_value:null,_func:dp.func,_ease:AR(Xn),_fromNumbers:Ei(dt.d),_toNumbers:Ei(At.d),_strings:Ei(At.s),_fromNumber:dt.n,_toNumber:At.n,_numbers:Ei(dt.d),_number:dt.n,_unit:At.u,_modifier:kt,_currentTime:0,_startTime:Fa,_delay:+mr,_updateDuration:Hn,_changeDuration:Hn,_absoluteStartTime:Oi,_tweenType:Ae,_valueType:At.t,_composition:Ln,_isOverlapped:0,_isOverridden:0,_renderTransforms:0,_prevRep:null,_nextRep:null,_prevAdd:null,_nextAdd:null,_prev:null,_next:null};Ln!==Pi.none&&xC(Bi,Ye),isNaN(Ft)&&(Ft=Bi._startTime),Cn=Bn(Fa+Hn,12),Ge=Bi,te++,xc(this,Bi)}(isNaN(ie)||Ft<ie)&&(ie=Ft),(isNaN(we)||Cn>we)&&(we=Cn),Ae===ir.TRANSFORM&&(Te=te-mt,_e=te)}if(!isNaN(Te)){let ve=0;Er(this,Ae=>{ve>=Te&&ve<_e&&(Ae._renderTransforms=1,Ae._composition===Pi.blend&&Er(Uc.animation,Ie=>{Ie.id===Ae.id&&(Ie._renderTransforms=1)})),ve++})}}d||console.warn("No target found. Make sure the element you're trying to animate is accessible before creating your animation."),ie?(Er(this,pe=>{pe._startTime-pe._delay||(pe._delay-=ie),pe._startTime-=ie}),we-=ie):ie=0,we||(we=An,this.iterationCount=0),this.targets=f,this.duration=we===An?An:Dp((we+this._loopDelay)*this.iterationCount-this._loopDelay)||An,this.onRender=M||L.onRender,this._ease=P,this._delay=ie,this.iterationDuration=we,this._inlineStyles=q,!this._autoplay&&he&&this.onRender(this)}stretch(e){const t=this.duration;if(t===Vc(e))return this;const r=e/t;return Er(this,a=>{a._updateDuration=Vc(Bn(a._updateDuration*r,12)),a._changeDuration=Vc(Bn(a._changeDuration*r,12)),a._currentTime*=r,a._startTime*=r,a._absoluteStartTime*=r}),super.stretch(e)}refresh(){return Er(this,e=>{const t=Pf(e.target,e.property,e._tweenType);as(t,ou),e._fromNumbers=Ei(ou.d),e._fromNumber=ou.n,e._func&&(as(e._func(),At),e._toNumbers=Ei(At.d),e._strings=Ei(At.s),e._toNumber=At.n)}),this}revert(){return super.revert(),LC(this)}then(e){return super.then(e)}}const zP=(n,e)=>new UP(n,e,null,0,!1).init(),BP=["x","y","z"];[...BP,...J_.filter(n=>["X","Y","Z"].some(e=>n.endsWith(e)))];Rs&&(Rn(CSS)||Object.hasOwnProperty.call(CSS,"registerProperty"));class jP{constructor(e={}){Zt.scope&&Zt.scope.revertibles.push(this);const t=e.root;let r=hl;t&&(r=t.current||t.nativeElement||NC(t)[0]||hl);const a=e.defaults,o=Zt.defaults,l=e.mediaQueries;if(this.defaults=a?CC(a,o):o,this.root=r,this.constructors=[],this.revertConstructors=[],this.revertibles=[],this.methods={},this.matches={},this.mediaQueryLists={},this.data={},l)for(let c in l){const f=Ap.matchMedia(l[c]);this.mediaQueryLists[c]=f,f.addEventListener("change",this)}}execute(e){let t=Zt.scope,r=Zt.root,a=Zt.defaults;Zt.scope=this,Zt.root=this.root,Zt.defaults=this.defaults;const o=this.mediaQueryLists;for(let c in o)this.matches[c]=o[c].matches;const l=e(this);return Zt.scope=t,Zt.root=r,Zt.defaults=a,l}refresh(){return this.execute(()=>{let e=this.revertibles.length,t=this.revertConstructors.length;for(;e--;)this.revertibles[e].revert();for(;t--;)this.revertConstructors[t](this);this.revertibles.length=0,this.revertConstructors.length=0,this.constructors.forEach(r=>{const a=r(this);a&&this.revertConstructors.push(a)})}),this}add(e,t){if(ad(e)){const r=e;this.constructors.push(r),this.execute(()=>{const a=r(this);a&&this.revertConstructors.push(a)})}else this.methods[e]=(...r)=>this.execute(()=>t(...r));return this}handleEvent(e){switch(e.type){case"change":this.refresh();break}}revert(){const e=this.revertibles,t=this.revertConstructors,r=this.mediaQueryLists;let a=e.length,o=t.length;for(;a--;)e[a].revert();for(;o--;)t[o](this);for(let l in r)r[l].removeEventListener("change",this);e.length=0,t.length=0,this.constructors.length=0,this.matches={},this.methods={},this.mediaQueryLists={},this.data={}}}const FP=n=>new jP(n);function Ma(n,e){return Math.floor(Math.random()*(e-n+1))+n}function $P(){let n,e,t=[];const r=[`absolute -top-20 left-[${Ma(20,1e3)}px] size-12 rounded-lg border-2`,`absolute -top-20 left-[${Ma(20,1e3)}px] size-12 rounded-lg border-4`,`absolute -top-20 left-[${Ma(20,1e3)}px] size-12 rounded-lg`],a=["bg-lime-500","bg-purple-500","bg-purple-900","bg-lime-900","bg-blue-500","bg-blue-900","bg-amber-500","bg-amber-900","bg-pink-500","bg-pink-900"],o=["border-lime-500","border-purple-500","border-purple-900","border-lime-900","border-blue-500","border-blue-900","border-amber-500","border-amber-900","border-pink-500","border-pink-900"],l=Ma(40,80);for(let c=0;c<l;c++){n=r[Ma(0,r.length-1)],n===r[2]?e=a[Ma(0,a.length-1)]:e=o[Ma(0,o.length-1)];const f=Ee.jsx("span",{className:`Figure-${c} ${n} ${e}`},`Figure-${c}`);t.push(f)}return t}const qP=()=>{const n=K.useRef(null),e=K.useRef(null),[t,r]=K.useState([]),[a,o]=K.useState(!1);if(K.useEffect(()=>{o(!1);const l=$P();r(l),o(!0)},[]),K.useEffect(()=>{setTimeout(()=>{e.current=FP({root:n}).add(()=>{function l(c,f){return Math.random()*(f-c)+c}for(let c=0;c<t.length;c++){const f=Ma(1e4,85e3),d=Ma(200,1500),p=1500,v=["linear","inOut"],w=Ma(180,360),E=l(.25,1.25);zP(`.Figure-${c}`,{translateX:d,translateY:p,duration:f,ease:v[Ma(0,v.length-1)],rotate:`${w}deg`,opacity:0,autoplay:!0,loop:100,scale:E})}})},500)},[a]),a)return Ee.jsx("div",{ref:n,className:"w-full min-h-screen fixed top-0 left-0 z-0",children:Ee.jsx("div",{className:"domo relative overflow-hidden h-screen w-full",children:t.map(l=>l)})})},IR=()=>Ee.jsxs("section",{className:"relative flex flex-col w-full min-h-screen bg-[var(--st)] dark:bg-[var(--st)]",children:[Ee.jsx(qP,{}),Ee.jsx(gC,{}),Ee.jsx(ak,{})]});var VC={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},OR=Gt.createContext&&Gt.createContext(VC),HP=["attr","size","title"];function YP(n,e){if(n==null)return{};var t=GP(n,e),r,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(a=0;a<o.length;a++)r=o[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function GP(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function Kp(){return Kp=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Kp.apply(this,arguments)}function NR(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,r)}return t}function Zp(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?NR(Object(t),!0).forEach(function(r){QP(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):NR(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function QP(n,e,t){return e=KP(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function KP(n){var e=ZP(n,"string");return typeof e=="symbol"?e:e+""}function ZP(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function UC(n){return n&&n.map((e,t)=>Gt.createElement(e.tag,Zp({key:t},e.attr),UC(e.child)))}function rT(n){return e=>Gt.createElement(XP,Kp({attr:Zp({},n.attr)},e),UC(n.child))}function XP(n){var e=t=>{var{attr:r,size:a,title:o}=n,l=YP(n,HP),c=a||t.size||"1em",f;return t.className&&(f=t.className),n.className&&(f=(f?f+" ":"")+n.className),Gt.createElement("svg",Kp({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,l,{className:f,style:Zp(Zp({color:n.color||t.color},t.style),n.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),o&&Gt.createElement("title",null,o),n.children)};return OR!==void 0?Gt.createElement(OR.Consumer,null,t=>e(t)):e(VC)}function WP(n){return rT({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm144 276c0 6.6-5.4 12-12 12h-92v92c0 6.6-5.4 12-12 12h-56c-6.6 0-12-5.4-12-12v-92h-92c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h92v-92c0-6.6 5.4-12 12-12h56c6.6 0 12 5.4 12 12v92h92c6.6 0 12 5.4 12 12v56z"},child:[]}]})(n)}function zC(n){return rT({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"},child:[]}]})(n)}class _ extends Array{constructor(e,t){if(super(e),this.sign=t,Object.setPrototypeOf(this,_.prototype),e>_.__kMaxLength)throw new RangeError("Maximum BigInt size exceeded")}static BigInt(e){var t=Math.floor,r=Number.isFinite;if(typeof e=="number"){if(e===0)return _.__zero();if(_.__isOneDigitInt(e))return 0>e?_.__oneDigit(-e,!0):_.__oneDigit(e,!1);if(!r(e)||t(e)!==e)throw new RangeError("The number "+e+" cannot be converted to BigInt because it is not an integer");return _.__fromDouble(e)}if(typeof e=="string"){const a=_.__fromString(e);if(a===null)throw new SyntaxError("Cannot convert "+e+" to a BigInt");return a}if(typeof e=="boolean")return e===!0?_.__oneDigit(1,!1):_.__zero();if(typeof e=="object"){if(e.constructor===_)return e;const a=_.__toPrimitive(e);return _.BigInt(a)}throw new TypeError("Cannot convert "+e+" to a BigInt")}toDebugString(){const e=["BigInt["];for(const t of this)e.push((t&&(t>>>0).toString(16))+", ");return e.push("]"),e.join("")}toString(e=10){if(2>e||36<e)throw new RangeError("toString() radix argument must be between 2 and 36");return this.length===0?"0":(e&e-1)==0?_.__toStringBasePowerOfTwo(this,e):_.__toStringGeneric(this,e,!1)}valueOf(){throw new Error("Convert JSBI instances to native numbers using `toNumber`.")}static toNumber(e){const t=e.length;if(t===0)return 0;if(t===1){const D=e.__unsignedDigit(0);return e.sign?-D:D}const r=e.__digit(t-1),a=_.__clz30(r),o=30*t-a;if(1024<o)return e.sign?-1/0:1/0;let l=o-1,c=r,f=t-1;const d=a+3;let p=d===32?0:c<<d;p>>>=12;const v=d-12;let w=12<=d?0:c<<20+d,E=20+d;for(0<v&&0<f&&(f--,c=e.__digit(f),p|=c>>>30-v,w=c<<v+2,E=v+2);0<E&&0<f;)f--,c=e.__digit(f),w|=30<=E?c<<E-30:c>>>30-E,E-=30;const R=_.__decideRounding(e,E,f,c);if((R===1||R===0&&(1&w)==1)&&(w=w+1>>>0,w===0&&(p++,p>>>20!=0&&(p=0,l++,1023<l))))return e.sign?-1/0:1/0;const S=e.sign?-2147483648:0;return l=l+1023<<20,_.__kBitConversionInts[1]=S|l|p,_.__kBitConversionInts[0]=w,_.__kBitConversionDouble[0]}static unaryMinus(e){if(e.length===0)return e;const t=e.__copy();return t.sign=!e.sign,t}static bitwiseNot(e){return e.sign?_.__absoluteSubOne(e).__trim():_.__absoluteAddOne(e,!0)}static exponentiate(e,t){if(t.sign)throw new RangeError("Exponent must be positive");if(t.length===0)return _.__oneDigit(1,!1);if(e.length===0)return e;if(e.length===1&&e.__digit(0)===1)return e.sign&&(1&t.__digit(0))==0?_.unaryMinus(e):e;if(1<t.length)throw new RangeError("BigInt too big");let r=t.__unsignedDigit(0);if(r===1)return e;if(r>=_.__kMaxLengthBits)throw new RangeError("BigInt too big");if(e.length===1&&e.__digit(0)===2){const l=1+(0|r/30),c=e.sign&&(1&r)!=0,f=new _(l,c);f.__initializeDigits();const d=1<<r%30;return f.__setDigit(l-1,d),f}let a=null,o=e;for((1&r)!=0&&(a=e),r>>=1;r!==0;r>>=1)o=_.multiply(o,o),(1&r)!=0&&(a===null?a=o:a=_.multiply(a,o));return a}static multiply(e,t){if(e.length===0)return e;if(t.length===0)return t;let r=e.length+t.length;30<=e.__clzmsd()+t.__clzmsd()&&r--;const a=new _(r,e.sign!==t.sign);a.__initializeDigits();for(let o=0;o<e.length;o++)_.__multiplyAccumulate(t,e.__digit(o),a,o);return a.__trim()}static divide(e,t){if(t.length===0)throw new RangeError("Division by zero");if(0>_.__absoluteCompare(e,t))return _.__zero();const r=e.sign!==t.sign,a=t.__unsignedDigit(0);let o;if(t.length===1&&32767>=a){if(a===1)return r===e.sign?e:_.unaryMinus(e);o=_.__absoluteDivSmall(e,a,null)}else o=_.__absoluteDivLarge(e,t,!0,!1);return o.sign=r,o.__trim()}static remainder(e,t){if(t.length===0)throw new RangeError("Division by zero");if(0>_.__absoluteCompare(e,t))return e;const r=t.__unsignedDigit(0);if(t.length===1&&32767>=r){if(r===1)return _.__zero();const o=_.__absoluteModSmall(e,r);return o===0?_.__zero():_.__oneDigit(o,e.sign)}const a=_.__absoluteDivLarge(e,t,!1,!0);return a.sign=e.sign,a.__trim()}static add(e,t){const r=e.sign;return r===t.sign?_.__absoluteAdd(e,t,r):0<=_.__absoluteCompare(e,t)?_.__absoluteSub(e,t,r):_.__absoluteSub(t,e,!r)}static subtract(e,t){const r=e.sign;return r===t.sign?0<=_.__absoluteCompare(e,t)?_.__absoluteSub(e,t,r):_.__absoluteSub(t,e,!r):_.__absoluteAdd(e,t,r)}static leftShift(e,t){return t.length===0||e.length===0?e:t.sign?_.__rightShiftByAbsolute(e,t):_.__leftShiftByAbsolute(e,t)}static signedRightShift(e,t){return t.length===0||e.length===0?e:t.sign?_.__leftShiftByAbsolute(e,t):_.__rightShiftByAbsolute(e,t)}static unsignedRightShift(){throw new TypeError("BigInts have no unsigned right shift; use >> instead")}static lessThan(e,t){return 0>_.__compareToBigInt(e,t)}static lessThanOrEqual(e,t){return 0>=_.__compareToBigInt(e,t)}static greaterThan(e,t){return 0<_.__compareToBigInt(e,t)}static greaterThanOrEqual(e,t){return 0<=_.__compareToBigInt(e,t)}static equal(e,t){if(e.sign!==t.sign||e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e.__digit(r)!==t.__digit(r))return!1;return!0}static notEqual(e,t){return!_.equal(e,t)}static bitwiseAnd(e,t){var r=Math.max;if(!e.sign&&!t.sign)return _.__absoluteAnd(e,t).__trim();if(e.sign&&t.sign){const a=r(e.length,t.length)+1;let o=_.__absoluteSubOne(e,a);const l=_.__absoluteSubOne(t);return o=_.__absoluteOr(o,l,o),_.__absoluteAddOne(o,!0,o).__trim()}return e.sign&&([e,t]=[t,e]),_.__absoluteAndNot(e,_.__absoluteSubOne(t)).__trim()}static bitwiseXor(e,t){var r=Math.max;if(!e.sign&&!t.sign)return _.__absoluteXor(e,t).__trim();if(e.sign&&t.sign){const l=r(e.length,t.length),c=_.__absoluteSubOne(e,l),f=_.__absoluteSubOne(t);return _.__absoluteXor(c,f,c).__trim()}const a=r(e.length,t.length)+1;e.sign&&([e,t]=[t,e]);let o=_.__absoluteSubOne(t,a);return o=_.__absoluteXor(o,e,o),_.__absoluteAddOne(o,!0,o).__trim()}static bitwiseOr(e,t){var r=Math.max;const a=r(e.length,t.length);if(!e.sign&&!t.sign)return _.__absoluteOr(e,t).__trim();if(e.sign&&t.sign){let l=_.__absoluteSubOne(e,a);const c=_.__absoluteSubOne(t);return l=_.__absoluteAnd(l,c,l),_.__absoluteAddOne(l,!0,l).__trim()}e.sign&&([e,t]=[t,e]);let o=_.__absoluteSubOne(t,a);return o=_.__absoluteAndNot(o,e,o),_.__absoluteAddOne(o,!0,o).__trim()}static asIntN(e,t){var r=Math.floor;if(t.length===0)return t;if(e=r(e),0>e)throw new RangeError("Invalid value: not (convertible to) a safe integer");if(e===0)return _.__zero();if(e>=_.__kMaxLengthBits)return t;const a=0|(e+29)/30;if(t.length<a)return t;const o=t.__unsignedDigit(a-1),l=1<<(e-1)%30;if(t.length===a&&o<l)return t;if((o&l)!==l)return _.__truncateToNBits(e,t);if(!t.sign)return _.__truncateAndSubFromPowerOfTwo(e,t,!0);if((o&l-1)==0){for(let c=a-2;0<=c;c--)if(t.__digit(c)!==0)return _.__truncateAndSubFromPowerOfTwo(e,t,!1);return t.length===a&&o===l?t:_.__truncateToNBits(e,t)}return _.__truncateAndSubFromPowerOfTwo(e,t,!1)}static asUintN(e,t){var r=Math.floor;if(t.length===0)return t;if(e=r(e),0>e)throw new RangeError("Invalid value: not (convertible to) a safe integer");if(e===0)return _.__zero();if(t.sign){if(e>_.__kMaxLengthBits)throw new RangeError("BigInt too big");return _.__truncateAndSubFromPowerOfTwo(e,t,!1)}if(e>=_.__kMaxLengthBits)return t;const a=0|(e+29)/30;if(t.length<a)return t;const o=e%30;return t.length==a&&(o===0||!(t.__digit(a-1)>>>o))?t:_.__truncateToNBits(e,t)}static ADD(e,t){if(e=_.__toPrimitive(e),t=_.__toPrimitive(t),typeof e=="string")return typeof t!="string"&&(t=t.toString()),e+t;if(typeof t=="string")return e.toString()+t;if(e=_.__toNumeric(e),t=_.__toNumeric(t),_.__isBigInt(e)&&_.__isBigInt(t))return _.add(e,t);if(typeof e=="number"&&typeof t=="number")return e+t;throw new TypeError("Cannot mix BigInt and other types, use explicit conversions")}static LT(e,t){return _.__compare(e,t,0)}static LE(e,t){return _.__compare(e,t,1)}static GT(e,t){return _.__compare(e,t,2)}static GE(e,t){return _.__compare(e,t,3)}static EQ(e,t){for(;;){if(_.__isBigInt(e))return _.__isBigInt(t)?_.equal(e,t):_.EQ(t,e);if(typeof e=="number"){if(_.__isBigInt(t))return _.__equalToNumber(t,e);if(typeof t!="object")return e==t;t=_.__toPrimitive(t)}else if(typeof e=="string"){if(_.__isBigInt(t))return e=_.__fromString(e),e!==null&&_.equal(e,t);if(typeof t!="object")return e==t;t=_.__toPrimitive(t)}else if(typeof e=="boolean"){if(_.__isBigInt(t))return _.__equalToNumber(t,+e);if(typeof t!="object")return e==t;t=_.__toPrimitive(t)}else if(typeof e=="symbol"){if(_.__isBigInt(t))return!1;if(typeof t!="object")return e==t;t=_.__toPrimitive(t)}else if(typeof e=="object"){if(typeof t=="object"&&t.constructor!==_)return e==t;e=_.__toPrimitive(e)}else return e==t}}static NE(e,t){return!_.EQ(e,t)}static DataViewGetBigInt64(e,t,r=!1){return _.asIntN(64,_.DataViewGetBigUint64(e,t,r))}static DataViewGetBigUint64(e,t,r=!1){const[a,o]=r?[4,0]:[0,4],l=e.getUint32(t+a,r),c=e.getUint32(t+o,r),f=new _(3,!1);return f.__setDigit(0,1073741823&c),f.__setDigit(1,(268435455&l)<<2|c>>>30),f.__setDigit(2,l>>>28),f.__trim()}static DataViewSetBigInt64(e,t,r,a=!1){_.DataViewSetBigUint64(e,t,r,a)}static DataViewSetBigUint64(e,t,r,a=!1){r=_.asUintN(64,r);let o=0,l=0;if(0<r.length&&(l=r.__digit(0),1<r.length)){const d=r.__digit(1);l|=d<<30,o=d>>>2,2<r.length&&(o|=r.__digit(2)<<28)}const[c,f]=a?[4,0]:[0,4];e.setUint32(t+c,o,a),e.setUint32(t+f,l,a)}static __zero(){return new _(0,!1)}static __oneDigit(e,t){const r=new _(1,t);return r.__setDigit(0,e),r}__copy(){const e=new _(this.length,this.sign);for(let t=0;t<this.length;t++)e[t]=this[t];return e}__trim(){let e=this.length,t=this[e-1];for(;t===0;)e--,t=this[e-1],this.pop();return e===0&&(this.sign=!1),this}__initializeDigits(){for(let e=0;e<this.length;e++)this[e]=0}static __decideRounding(e,t,r,a){if(0<t)return-1;let o;if(0>t)o=-t-1;else{if(r===0)return-1;r--,a=e.__digit(r),o=29}let l=1<<o;if((a&l)==0)return-1;if(l-=1,(a&l)!=0)return 1;for(;0<r;)if(r--,e.__digit(r)!==0)return 1;return 0}static __fromDouble(e){_.__kBitConversionDouble[0]=e;const t=2047&_.__kBitConversionInts[1]>>>20,r=t-1023,a=(0|r/30)+1,o=new _(a,0>e);let l=1048575&_.__kBitConversionInts[1]|1048576,c=_.__kBitConversionInts[0];const f=20,d=r%30;let p,v=0;if(d<20){const w=f-d;v=w+32,p=l>>>w,l=l<<32-w|c>>>w,c<<=32-w}else if(d===20)v=32,p=l,l=c,c=0;else{const w=d-f;v=32-w,p=l<<w|c>>>32-w,l=c<<w,c=0}o.__setDigit(a-1,p);for(let w=a-2;0<=w;w--)0<v?(v-=30,p=l>>>2,l=l<<30|c>>>2,c<<=30):p=0,o.__setDigit(w,p);return o.__trim()}static __isWhitespace(e){return 13>=e&&9<=e||(159>=e?e==32:131071>=e?e==160||e==5760:196607>=e?(e&=131071,10>=e||e==40||e==41||e==47||e==95||e==4096):e==65279)}static __fromString(e,t=0){let r=0;const a=e.length;let o=0;if(o===a)return _.__zero();let l=e.charCodeAt(o);for(;_.__isWhitespace(l);){if(++o===a)return _.__zero();l=e.charCodeAt(o)}if(l===43){if(++o===a)return null;l=e.charCodeAt(o),r=1}else if(l===45){if(++o===a)return null;l=e.charCodeAt(o),r=-1}if(t===0){if(t=10,l===48){if(++o===a)return _.__zero();if(l=e.charCodeAt(o),l===88||l===120){if(t=16,++o===a)return null;l=e.charCodeAt(o)}else if(l===79||l===111){if(t=8,++o===a)return null;l=e.charCodeAt(o)}else if(l===66||l===98){if(t=2,++o===a)return null;l=e.charCodeAt(o)}}}else if(t===16&&l===48){if(++o===a)return _.__zero();if(l=e.charCodeAt(o),l===88||l===120){if(++o===a)return null;l=e.charCodeAt(o)}}if(r!=0&&t!==10)return null;for(;l===48;){if(++o===a)return _.__zero();l=e.charCodeAt(o)}const c=a-o;let f=_.__kMaxBitsPerChar[t],d=_.__kBitsPerCharTableMultiplier-1;if(c>1073741824/f)return null;const p=f*c+d>>>_.__kBitsPerCharTableShift,v=new _(0|(p+29)/30,!1),w=10>t?t:10,E=10<t?t-10:0;if((t&t-1)==0){f>>=_.__kBitsPerCharTableShift;const R=[],S=[];let D=!1;do{let N=0,M=0;for(;;){let L;if(l-48>>>0<w)L=l-48;else if((32|l)-97>>>0<E)L=(32|l)-87;else{D=!0;break}if(M+=f,N=N<<f|L,++o===a){D=!0;break}if(l=e.charCodeAt(o),30<M+f)break}R.push(N),S.push(M)}while(!D);_.__fillFromParts(v,R,S)}else{v.__initializeDigits();let R=!1,S=0;do{let D=0,N=1;for(;;){let L;if(l-48>>>0<w)L=l-48;else if((32|l)-97>>>0<E)L=(32|l)-87;else{R=!0;break}const $=N*t;if(1073741823<$)break;if(N=$,D=D*t+L,S++,++o===a){R=!0;break}l=e.charCodeAt(o)}d=30*_.__kBitsPerCharTableMultiplier-1;const M=0|(f*S+d>>>_.__kBitsPerCharTableShift)/30;v.__inplaceMultiplyAdd(N,D,M)}while(!R)}if(o!==a){if(!_.__isWhitespace(l))return null;for(o++;o<a;o++)if(l=e.charCodeAt(o),!_.__isWhitespace(l))return null}return v.sign=r==-1,v.__trim()}static __fillFromParts(e,t,r){let a=0,o=0,l=0;for(let c=t.length-1;0<=c;c--){const f=t[c],d=r[c];o|=f<<l,l+=d,l===30?(e.__setDigit(a++,o),l=0,o=0):30<l&&(e.__setDigit(a++,1073741823&o),l-=30,o=f>>>d-l)}if(o!==0){if(a>=e.length)throw new Error("implementation bug");e.__setDigit(a++,o)}for(;a<e.length;a++)e.__setDigit(a,0)}static __toStringBasePowerOfTwo(e,t){const r=e.length;let a=t-1;a=(85&a>>>1)+(85&a),a=(51&a>>>2)+(51&a),a=(15&a>>>4)+(15&a);const o=a,l=t-1,c=e.__digit(r-1),f=_.__clz30(c);let d=0|(30*r-f+o-1)/o;if(e.sign&&d++,268435456<d)throw new Error("string too long");const p=Array(d);let v=d-1,w=0,E=0;for(let S=0;S<r-1;S++){const D=e.__digit(S),N=(w|D<<E)&l;p[v--]=_.__kConversionChars[N];const M=o-E;for(w=D>>>M,E=30-M;E>=o;)p[v--]=_.__kConversionChars[w&l],w>>>=o,E-=o}const R=(w|c<<E)&l;for(p[v--]=_.__kConversionChars[R],w=c>>>o-E;w!==0;)p[v--]=_.__kConversionChars[w&l],w>>>=o;if(e.sign&&(p[v--]="-"),v!=-1)throw new Error("implementation bug");return p.join("")}static __toStringGeneric(e,t,r){const a=e.length;if(a===0)return"";if(a===1){let S=e.__unsignedDigit(0).toString(t);return r===!1&&e.sign&&(S="-"+S),S}const o=30*a-_.__clz30(e.__digit(a-1)),l=_.__kMaxBitsPerChar[t],c=l-1;let f=o*_.__kBitsPerCharTableMultiplier;f+=c-1,f=0|f/c;const d=f+1>>1,p=_.exponentiate(_.__oneDigit(t,!1),_.__oneDigit(d,!1));let v,w;const E=p.__unsignedDigit(0);if(p.length===1&&32767>=E){v=new _(e.length,!1),v.__initializeDigits();let S=0;for(let D=2*e.length-1;0<=D;D--){const N=S<<15|e.__halfDigit(D);v.__setHalfDigit(D,0|N/E),S=0|N%E}w=S.toString(t)}else{const S=_.__absoluteDivLarge(e,p,!0,!0);v=S.quotient;const D=S.remainder.__trim();w=_.__toStringGeneric(D,t,!0)}v.__trim();let R=_.__toStringGeneric(v,t,!0);for(;w.length<d;)w="0"+w;return r===!1&&e.sign&&(R="-"+R),R+w}static __unequalSign(e){return e?-1:1}static __absoluteGreater(e){return e?-1:1}static __absoluteLess(e){return e?1:-1}static __compareToBigInt(e,t){const r=e.sign;if(r!==t.sign)return _.__unequalSign(r);const a=_.__absoluteCompare(e,t);return 0<a?_.__absoluteGreater(r):0>a?_.__absoluteLess(r):0}static __compareToNumber(e,t){if(_.__isOneDigitInt(t)){const r=e.sign,a=0>t;if(r!==a)return _.__unequalSign(r);if(e.length===0){if(a)throw new Error("implementation bug");return t===0?0:-1}if(1<e.length)return _.__absoluteGreater(r);const o=Math.abs(t),l=e.__unsignedDigit(0);return l>o?_.__absoluteGreater(r):l<o?_.__absoluteLess(r):0}return _.__compareToDouble(e,t)}static __compareToDouble(e,t){if(t!==t)return t;if(t===1/0)return-1;if(t===-1/0)return 1;const r=e.sign;if(r!==0>t)return _.__unequalSign(r);if(t===0)throw new Error("implementation bug: should be handled elsewhere");if(e.length===0)return-1;_.__kBitConversionDouble[0]=t;const a=2047&_.__kBitConversionInts[1]>>>20;if(a==2047)throw new Error("implementation bug: handled elsewhere");const o=a-1023;if(0>o)return _.__absoluteGreater(r);const l=e.length;let c=e.__digit(l-1);const f=_.__clz30(c),d=30*l-f,p=o+1;if(d<p)return _.__absoluteLess(r);if(d>p)return _.__absoluteGreater(r);let v=1048576|1048575&_.__kBitConversionInts[1],w=_.__kBitConversionInts[0];const E=20,R=29-f;if(R!==(0|(d-1)%30))throw new Error("implementation bug");let S,D=0;if(20>R){const N=E-R;D=N+32,S=v>>>N,v=v<<32-N|w>>>N,w<<=32-N}else if(R===20)D=32,S=v,v=w,w=0;else{const N=R-E;D=32-N,S=v<<N|w>>>32-N,v=w<<N,w=0}if(c>>>=0,S>>>=0,c>S)return _.__absoluteGreater(r);if(c<S)return _.__absoluteLess(r);for(let N=l-2;0<=N;N--){0<D?(D-=30,S=v>>>2,v=v<<30|w>>>2,w<<=30):S=0;const M=e.__unsignedDigit(N);if(M>S)return _.__absoluteGreater(r);if(M<S)return _.__absoluteLess(r)}if(v!==0||w!==0){if(D===0)throw new Error("implementation bug");return _.__absoluteLess(r)}return 0}static __equalToNumber(e,t){var r=Math.abs;return _.__isOneDigitInt(t)?t===0?e.length===0:e.length===1&&e.sign===0>t&&e.__unsignedDigit(0)===r(t):_.__compareToDouble(e,t)===0}static __comparisonResultToBool(e,t){return t===0?0>e:t===1?0>=e:t===2?0<e:t===3?0<=e:void 0}static __compare(e,t,r){if(e=_.__toPrimitive(e),t=_.__toPrimitive(t),typeof e=="string"&&typeof t=="string")switch(r){case 0:return e<t;case 1:return e<=t;case 2:return e>t;case 3:return e>=t}if(_.__isBigInt(e)&&typeof t=="string")return t=_.__fromString(t),t!==null&&_.__comparisonResultToBool(_.__compareToBigInt(e,t),r);if(typeof e=="string"&&_.__isBigInt(t))return e=_.__fromString(e),e!==null&&_.__comparisonResultToBool(_.__compareToBigInt(e,t),r);if(e=_.__toNumeric(e),t=_.__toNumeric(t),_.__isBigInt(e)){if(_.__isBigInt(t))return _.__comparisonResultToBool(_.__compareToBigInt(e,t),r);if(typeof t!="number")throw new Error("implementation bug");return _.__comparisonResultToBool(_.__compareToNumber(e,t),r)}if(typeof e!="number")throw new Error("implementation bug");if(_.__isBigInt(t))return _.__comparisonResultToBool(_.__compareToNumber(t,e),2^r);if(typeof t!="number")throw new Error("implementation bug");return r===0?e<t:r===1?e<=t:r===2?e>t:r===3?e>=t:void 0}__clzmsd(){return _.__clz30(this.__digit(this.length-1))}static __absoluteAdd(e,t,r){if(e.length<t.length)return _.__absoluteAdd(t,e,r);if(e.length===0)return e;if(t.length===0)return e.sign===r?e:_.unaryMinus(e);let a=e.length;(e.__clzmsd()===0||t.length===e.length&&t.__clzmsd()===0)&&a++;const o=new _(a,r);let l=0,c=0;for(;c<t.length;c++){const f=e.__digit(c)+t.__digit(c)+l;l=f>>>30,o.__setDigit(c,1073741823&f)}for(;c<e.length;c++){const f=e.__digit(c)+l;l=f>>>30,o.__setDigit(c,1073741823&f)}return c<o.length&&o.__setDigit(c,l),o.__trim()}static __absoluteSub(e,t,r){if(e.length===0)return e;if(t.length===0)return e.sign===r?e:_.unaryMinus(e);const a=new _(e.length,r);let o=0,l=0;for(;l<t.length;l++){const c=e.__digit(l)-t.__digit(l)-o;o=1&c>>>30,a.__setDigit(l,1073741823&c)}for(;l<e.length;l++){const c=e.__digit(l)-o;o=1&c>>>30,a.__setDigit(l,1073741823&c)}return a.__trim()}static __absoluteAddOne(e,t,r=null){const a=e.length;r===null?r=new _(a,t):r.sign=t;let o=1;for(let l=0;l<a;l++){const c=e.__digit(l)+o;o=c>>>30,r.__setDigit(l,1073741823&c)}return o!=0&&r.__setDigitGrow(a,1),r}static __absoluteSubOne(e,t){const r=e.length;t=t||r;const a=new _(t,!1);let o=1;for(let l=0;l<r;l++){const c=e.__digit(l)-o;o=1&c>>>30,a.__setDigit(l,1073741823&c)}if(o!=0)throw new Error("implementation bug");for(let l=r;l<t;l++)a.__setDigit(l,0);return a}static __absoluteAnd(e,t,r=null){let a=e.length,o=t.length,l=o;if(a<o){l=a;const d=e,p=a;e=t,a=o,t=d,o=p}let c=l;r===null?r=new _(c,!1):c=r.length;let f=0;for(;f<l;f++)r.__setDigit(f,e.__digit(f)&t.__digit(f));for(;f<c;f++)r.__setDigit(f,0);return r}static __absoluteAndNot(e,t,r=null){const a=e.length,o=t.length;let l=o;a<o&&(l=a);let c=a;r===null?r=new _(c,!1):c=r.length;let f=0;for(;f<l;f++)r.__setDigit(f,e.__digit(f)&~t.__digit(f));for(;f<a;f++)r.__setDigit(f,e.__digit(f));for(;f<c;f++)r.__setDigit(f,0);return r}static __absoluteOr(e,t,r=null){let a=e.length,o=t.length,l=o;if(a<o){l=a;const d=e,p=a;e=t,a=o,t=d,o=p}let c=a;r===null?r=new _(c,!1):c=r.length;let f=0;for(;f<l;f++)r.__setDigit(f,e.__digit(f)|t.__digit(f));for(;f<a;f++)r.__setDigit(f,e.__digit(f));for(;f<c;f++)r.__setDigit(f,0);return r}static __absoluteXor(e,t,r=null){let a=e.length,o=t.length,l=o;if(a<o){l=a;const d=e,p=a;e=t,a=o,t=d,o=p}let c=a;r===null?r=new _(c,!1):c=r.length;let f=0;for(;f<l;f++)r.__setDigit(f,e.__digit(f)^t.__digit(f));for(;f<a;f++)r.__setDigit(f,e.__digit(f));for(;f<c;f++)r.__setDigit(f,0);return r}static __absoluteCompare(e,t){const r=e.length-t.length;if(r!=0)return r;let a=e.length-1;for(;0<=a&&e.__digit(a)===t.__digit(a);)a--;return 0>a?0:e.__unsignedDigit(a)>t.__unsignedDigit(a)?1:-1}static __multiplyAccumulate(e,t,r,a){if(t===0)return;const o=32767&t,l=t>>>15;let c=0,f=0;for(let d,p=0;p<e.length;p++,a++){d=r.__digit(a);const v=e.__digit(p),w=32767&v,E=v>>>15,R=_.__imul(w,o),S=_.__imul(w,l),D=_.__imul(E,o),N=_.__imul(E,l);d+=f+R+c,c=d>>>30,d&=1073741823,d+=((32767&S)<<15)+((32767&D)<<15),c+=d>>>30,f=N+(S>>>15)+(D>>>15),r.__setDigit(a,1073741823&d)}for(;c!=0||f!==0;a++){let d=r.__digit(a);d+=c+f,f=0,c=d>>>30,r.__setDigit(a,1073741823&d)}}static __internalMultiplyAdd(e,t,r,a,o){let l=r,c=0;for(let f=0;f<a;f++){const d=e.__digit(f),p=_.__imul(32767&d,t),v=_.__imul(d>>>15,t),w=p+((32767&v)<<15)+c+l;l=w>>>30,c=v>>>15,o.__setDigit(f,1073741823&w)}if(o.length>a)for(o.__setDigit(a++,l+c);a<o.length;)o.__setDigit(a++,0);else if(l+c!==0)throw new Error("implementation bug")}__inplaceMultiplyAdd(e,t,r){r>this.length&&(r=this.length);const a=32767&e,o=e>>>15;let l=0,c=t;for(let f=0;f<r;f++){const d=this.__digit(f),p=32767&d,v=d>>>15,w=_.__imul(p,a),E=_.__imul(p,o),R=_.__imul(v,a),S=_.__imul(v,o);let D=c+w+l;l=D>>>30,D&=1073741823,D+=((32767&E)<<15)+((32767&R)<<15),l+=D>>>30,c=S+(E>>>15)+(R>>>15),this.__setDigit(f,1073741823&D)}if(l!=0||c!==0)throw new Error("implementation bug")}static __absoluteDivSmall(e,t,r=null){r===null&&(r=new _(e.length,!1));let a=0;for(let o,l=2*e.length-1;0<=l;l-=2){o=(a<<15|e.__halfDigit(l))>>>0;const c=0|o/t;a=0|o%t,o=(a<<15|e.__halfDigit(l-1))>>>0;const f=0|o/t;a=0|o%t,r.__setDigit(l>>>1,c<<15|f)}return r}static __absoluteModSmall(e,t){let r=0;for(let a=2*e.length-1;0<=a;a--)r=0|((r<<15|e.__halfDigit(a))>>>0)%t;return r}static __absoluteDivLarge(e,t,r,a){const o=t.__halfDigitLength(),l=t.length,c=e.__halfDigitLength()-o;let f=null;r&&(f=new _(c+2>>>1,!1),f.__initializeDigits());const d=new _(o+2>>>1,!1);d.__initializeDigits();const p=_.__clz15(t.__halfDigit(o-1));0<p&&(t=_.__specialLeftShift(t,p,0));const v=_.__specialLeftShift(e,p,1),w=t.__halfDigit(o-1);let E=0;for(let R,S=c;0<=S;S--){R=32767;const D=v.__halfDigit(S+o);if(D!==w){const M=(D<<15|v.__halfDigit(S+o-1))>>>0;R=0|M/w;let L=0|M%w;const $=t.__halfDigit(o-2),P=v.__halfDigit(S+o-2);for(;_.__imul(R,$)>>>0>(L<<16|P)>>>0&&(R--,L+=w,!(32767<L)););}_.__internalMultiplyAdd(t,R,0,l,d);let N=v.__inplaceSub(d,S,o+1);N!==0&&(N=v.__inplaceAdd(t,S,o),v.__setHalfDigit(S+o,32767&v.__halfDigit(S+o)+N),R--),r&&(1&S?E=R<<15:f.__setDigit(S>>>1,E|R))}if(a)return v.__inplaceRightShift(p),r?{quotient:f,remainder:v}:v;if(r)return f;throw new Error("unreachable")}static __clz15(e){return _.__clz30(e)-15}__inplaceAdd(e,t,r){let a=0;for(let o=0;o<r;o++){const l=this.__halfDigit(t+o)+e.__halfDigit(o)+a;a=l>>>15,this.__setHalfDigit(t+o,32767&l)}return a}__inplaceSub(e,t,r){let a=0;if(1&t){t>>=1;let o=this.__digit(t),l=32767&o,c=0;for(;c<r-1>>>1;c++){const p=e.__digit(c),v=(o>>>15)-(32767&p)-a;a=1&v>>>15,this.__setDigit(t+c,(32767&v)<<15|32767&l),o=this.__digit(t+c+1),l=(32767&o)-(p>>>15)-a,a=1&l>>>15}const f=e.__digit(c),d=(o>>>15)-(32767&f)-a;if(a=1&d>>>15,this.__setDigit(t+c,(32767&d)<<15|32767&l),t+c+1>=this.length)throw new RangeError("out of bounds");(1&r)==0&&(o=this.__digit(t+c+1),l=(32767&o)-(f>>>15)-a,a=1&l>>>15,this.__setDigit(t+e.length,1073709056&o|32767&l))}else{t>>=1;let o=0;for(;o<e.length-1;o++){const p=this.__digit(t+o),v=e.__digit(o),w=(32767&p)-(32767&v)-a;a=1&w>>>15;const E=(p>>>15)-(v>>>15)-a;a=1&E>>>15,this.__setDigit(t+o,(32767&E)<<15|32767&w)}const l=this.__digit(t+o),c=e.__digit(o),f=(32767&l)-(32767&c)-a;a=1&f>>>15;let d=0;(1&r)==0&&(d=(l>>>15)-(c>>>15)-a,a=1&d>>>15),this.__setDigit(t+o,(32767&d)<<15|32767&f)}return a}__inplaceRightShift(e){if(e===0)return;let t=this.__digit(0)>>>e;const r=this.length-1;for(let a=0;a<r;a++){const o=this.__digit(a+1);this.__setDigit(a,1073741823&o<<30-e|t),t=o>>>e}this.__setDigit(r,t)}static __specialLeftShift(e,t,r){const a=e.length,o=new _(a+r,!1);if(t===0){for(let c=0;c<a;c++)o.__setDigit(c,e.__digit(c));return 0<r&&o.__setDigit(a,0),o}let l=0;for(let c=0;c<a;c++){const f=e.__digit(c);o.__setDigit(c,1073741823&f<<t|l),l=f>>>30-t}return 0<r&&o.__setDigit(a,l),o}static __leftShiftByAbsolute(e,t){const r=_.__toShiftAmount(t);if(0>r)throw new RangeError("BigInt too big");const a=0|r/30,o=r%30,l=e.length,c=o!==0&&e.__digit(l-1)>>>30-o!=0,f=l+a+(c?1:0),d=new _(f,e.sign);if(o===0){let p=0;for(;p<a;p++)d.__setDigit(p,0);for(;p<f;p++)d.__setDigit(p,e.__digit(p-a))}else{let p=0;for(let v=0;v<a;v++)d.__setDigit(v,0);for(let v=0;v<l;v++){const w=e.__digit(v);d.__setDigit(v+a,1073741823&w<<o|p),p=w>>>30-o}if(c)d.__setDigit(l+a,p);else if(p!==0)throw new Error("implementation bug")}return d.__trim()}static __rightShiftByAbsolute(e,t){const r=e.length,a=e.sign,o=_.__toShiftAmount(t);if(0>o)return _.__rightShiftByMaximum(a);const l=0|o/30,c=o%30;let f=r-l;if(0>=f)return _.__rightShiftByMaximum(a);let d=!1;if(a){if((e.__digit(l)&(1<<c)-1)!=0)d=!0;else for(let v=0;v<l;v++)if(e.__digit(v)!==0){d=!0;break}}d&&c===0&&~e.__digit(r-1)==0&&f++;let p=new _(f,a);if(c===0){p.__setDigit(f-1,0);for(let v=l;v<r;v++)p.__setDigit(v-l,e.__digit(v))}else{let v=e.__digit(l)>>>c;const w=r-l-1;for(let E=0;E<w;E++){const R=e.__digit(E+l+1);p.__setDigit(E,1073741823&R<<30-c|v),v=R>>>c}p.__setDigit(w,v)}return d&&(p=_.__absoluteAddOne(p,!0,p)),p.__trim()}static __rightShiftByMaximum(e){return e?_.__oneDigit(1,!0):_.__zero()}static __toShiftAmount(e){if(1<e.length)return-1;const t=e.__unsignedDigit(0);return t>_.__kMaxLengthBits?-1:t}static __toPrimitive(e,t="default"){if(typeof e!="object"||e.constructor===_)return e;if(typeof Symbol<"u"&&typeof Symbol.toPrimitive=="symbol"){const o=e[Symbol.toPrimitive];if(o){const l=o(t);if(typeof l!="object")return l;throw new TypeError("Cannot convert object to primitive value")}}const r=e.valueOf;if(r){const o=r.call(e);if(typeof o!="object")return o}const a=e.toString;if(a){const o=a.call(e);if(typeof o!="object")return o}throw new TypeError("Cannot convert object to primitive value")}static __toNumeric(e){return _.__isBigInt(e)?e:+e}static __isBigInt(e){return typeof e=="object"&&e!==null&&e.constructor===_}static __truncateToNBits(e,t){const r=0|(e+29)/30,a=new _(r,t.sign),o=r-1;for(let c=0;c<o;c++)a.__setDigit(c,t.__digit(c));let l=t.__digit(o);if(e%30!=0){const c=32-e%30;l=l<<c>>>c}return a.__setDigit(o,l),a.__trim()}static __truncateAndSubFromPowerOfTwo(e,t,r){var a=Math.min;const o=0|(e+29)/30,l=new _(o,r);let c=0;const f=o-1;let d=0;for(const E=a(f,t.length);c<E;c++){const R=0-t.__digit(c)-d;d=1&R>>>30,l.__setDigit(c,1073741823&R)}for(;c<f;c++)l.__setDigit(c,0|1073741823&-d);let p=f<t.length?t.__digit(f):0;const v=e%30;let w;if(v==0)w=0-p-d,w&=1073741823;else{const E=32-v;p=p<<E>>>E;const R=1<<32-E;w=R-p-d,w&=R-1}return l.__setDigit(f,w),l.__trim()}__digit(e){return this[e]}__unsignedDigit(e){return this[e]>>>0}__setDigit(e,t){this[e]=0|t}__setDigitGrow(e,t){this[e]=0|t}__halfDigitLength(){const e=this.length;return 32767>=this.__unsignedDigit(e-1)?2*e-1:2*e}__halfDigit(e){return 32767&this[e>>>1]>>>15*(1&e)}__setHalfDigit(e,t){const r=e>>>1,a=this.__digit(r),o=1&e?32767&a|t<<15:1073709056&a|32767&t;this.__setDigit(r,o)}static __digitPow(e,t){let r=1;for(;0<t;)1&t&&(r*=e),t>>>=1,e*=e;return r}static __isOneDigitInt(e){return(1073741823&e)===e}}_.__kMaxLength=33554432,_.__kMaxLengthBits=_.__kMaxLength<<5,_.__kMaxBitsPerChar=[0,0,32,51,64,75,83,90,96,102,107,111,115,119,122,126,128,131,134,136,139,141,143,145,147,149,151,153,154,156,158,159,160,162,163,165,166],_.__kBitsPerCharTableShift=5,_.__kBitsPerCharTableMultiplier=1<<_.__kBitsPerCharTableShift,_.__kConversionChars=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],_.__kBitConversionBuffer=new ArrayBuffer(8),_.__kBitConversionDouble=new Float64Array(_.__kBitConversionBuffer),_.__kBitConversionInts=new Int32Array(_.__kBitConversionBuffer),_.__clz30=Math.clz32?function(n){return Math.clz32(n)-2}:function(n){return n===0?30:0|29-(0|Math.log(n>>>0)/Math.LN2)},_.__imul=Math.imul||function(n,e){return 0|n*e};const r_={};function Ss(n,e){Object.defineProperty(n.prototype,Symbol.toStringTag,{value:e,writable:!1,enumerable:!1,configurable:!0});for(const t of Object.getOwnPropertyNames(n)){const r=Object.getOwnPropertyDescriptor(n,t);r.configurable&&r.enumerable&&(r.enumerable=!1,Object.defineProperty(n,t,r))}for(const t of Object.getOwnPropertyNames(n.prototype)){const r=Object.getOwnPropertyDescriptor(n.prototype,t);r.configurable&&r.enumerable&&(r.enumerable=!1,Object.defineProperty(n.prototype,t,r))}pn(e,n),pn(`${e}.prototype`,n.prototype)}function pn(n,e){const t=`%${n}%`;if(r_[t]!==void 0)throw new Error(`intrinsic ${n} already exists`);r_[t]=e}function ye(n){return r_[n]}var MR,xR;const ze="slot-epochNanoSeconds",ls="slot-timezone-identifier",Re="slot-year",Se="slot-month",De="slot-day",We="slot-hour",Je="slot-minute",et="slot-second",tt="slot-millisecond",nt="slot-microsecond",rt="slot-nanosecond",W="slot-calendar",BC="slot-date-brand",jC="slot-year-month-brand",FC="slot-month-day-brand",Lr="slot-cached-instant",xt="slot-time-zone",qr="slot-years",hr="slot-months",ui="slot-weeks",Hr="slot-days",Yr="slot-hours",Gr="slot-minutes",Qr="slot-seconds",Kr="slot-milliseconds",Zr="slot-microseconds",Xr="slot-nanoseconds",mn="slot-calendar-identifier",$C=new WeakMap,i_=Symbol.for("@@Temporal__GetSlots");(MR=globalThis)[i_]||(MR[i_]=function(e){return $C.get(e)});const iT=globalThis[i_],a_=Symbol.for("@@Temporal__CreateSlots");(xR=globalThis)[a_]||(xR[a_]=function(e){$C.set(e,Object.create(null))});const As=globalThis[a_];function ar(n,...e){if(!n||typeof n!="object")return!1;const t=iT(n);return!!t&&e.every(r=>r in t)}function y(n,e){var r;const t=(r=iT(n))==null?void 0:r[e];if(t===void 0)throw new TypeError(`Missing internal slot ${e}`);return t}function it(n,e,t){const r=iT(n);if(r===void 0)throw new TypeError("Missing slots for the given container");if(r[e])throw new TypeError(`${e} already has set`);r[e]=t}const kR=/\.[-A-Za-z_]|\.\.[-A-Za-z._]{1,12}|\.[-A-Za-z_][-A-Za-z._]{0,12}|[A-Za-z_][-A-Za-z._]{0,13}/,Ad=new RegExp("(?:"+[`(?:${kR.source})(?:\\/(?:${kR.source}))*`,"Etc/GMT(?:0|[-+]\\d{1,2})","GMT[-+]?0","EST5EDT","CST6CDT","MST7MDT","PST8PDT",/(?:[+\u2212-][0-2][0-9](?::?[0-5][0-9](?::?[0-5][0-9](?:[.,]\d{1,9})?)?)?)/.source].join("|")+")"),qC=/(?:[+\u2212-]\d{6}|\d{4})/,Xp=/(?:0[1-9]|1[0-2])/,s_=/(?:0[1-9]|[12]\d|3[01])/,JP=new RegExp(`(${qC.source})(?:-(${Xp.source})-(${s_.source})|(${Xp.source})(${s_.source}))`),HC=/(\d{2})(?::(\d{2})(?::(\d{2})(?:[.,](\d{1,9}))?)?|(\d{2})(?:(\d{2})(?:[.,](\d{1,9}))?)?)?/,YC=/([+\u2212-])([01][0-9]|2[0-3])(?::?([0-5][0-9])(?::?([0-5][0-9])(?:[.,](\d{1,9}))?)?)?/,GC=new RegExp(`([zZ])|${YC.source}?`),Rl=/\[(!)?([a-z_][a-z0-9_-]*)=([A-Za-z0-9]+(?:-[A-Za-z0-9]+)*)\]/g,e3=new RegExp([`^${JP.source}`,`(?:(?:T|\\s+)${HC.source}(?:${GC.source})?)?`,`(?:\\[!?(${Ad.source})\\])?`,`((?:${Rl.source})*)$`].join(""),"i"),t3=new RegExp([`^T?${HC.source}`,`(?:${GC.source})?`,`(?:\\[!?${Ad.source}\\])?`,`((?:${Rl.source})*)$`].join(""),"i"),n3=new RegExp(`^(${qC.source})-?(${Xp.source})(?:\\[!?${Ad.source}\\])?((?:${Rl.source})*)$`),r3=new RegExp(`^(?:--)?(${Xp.source})-?(${s_.source})(?:\\[!?${Ad.source}\\])?((?:${Rl.source})*)$`),Iv=/(\d+)(?:[.,](\d{1,9}))?/,i3=new RegExp(`(?:${Iv.source}H)?(?:${Iv.source}M)?(?:${Iv.source}S)?`),a3=new RegExp(`^([+−-])?P${/(?:(\d+)Y)?(?:(\d+)M)?(?:(\d+)W)?(?:(\d+)D)?/.source}(?:T(?!$)${i3.source})?$`,"i"),s3=Array.prototype.includes,QC=Array.prototype.push,KC=globalThis.Intl.DateTimeFormat,o3=Math.min,l3=Math.max,nn=Math.abs,Ci=Math.floor,Wc=Math.sign,mu=Math.trunc,zg=Number.isNaN,Jr=Number.isFinite,u3=Number,Cd=String,c3=Number.MAX_SAFE_INTEGER,Ur=Object.create,h3=Object.getOwnPropertyDescriptor,Bg=Reflect.apply,f3=Reflect.ownKeys,Sn=_.BigInt(0),yh=_.BigInt(1),fs=_.BigInt(60),ZC=_.BigInt(24),Rt=_.BigInt(1e3),Zi=_.BigInt(1e6),ds=_.BigInt(1e9),d3=_.BigInt(-1),XC=_.multiply(_.BigInt(3600),ds),WC=_.multiply(fs,ds),Ts=_.multiply(XC,ZC),sd=_.multiply(_.BigInt(-86400),_.BigInt(1e17)),Jc=_.multiply(_.BigInt(86400),_.BigInt(1e17)),Wp=-271821,Jp=275760,zc=_.multiply(_.BigInt(-388152),_.BigInt(1e13)),m3=_.multiply(Ts,_.BigInt(3660)),JC=_.multiply(Ts,_.BigInt(366)),eD=_.multiply(Ts,_.BigInt(14)),p3=["iso8601","hebrew","islamic","islamic-umalqura","islamic-tbla","islamic-civil","islamic-rgsa","islamicc","persian","ethiopic","ethioaa","coptic","chinese","dangi","roc","indian","buddhist","japanese","gregory"];function Qi(n){return _.equal(n,Sn)}function Ct(n,e){const t=n[e];if(t!==void 0)return t}function Me(n,e,t){const r=arguments.length>2?t:[];return Bg(n,e,r)}function an(n){return typeof n=="object"&&n!==null||typeof n=="function"}function eh(n){if(typeof n=="bigint")throw new TypeError("Cannot convert BigInt to number");return u3(n)}function zn(n){const e=eh(n);if(zg(e)||e===0)return 0;if(!Jr(e))return e;const t=Ci(nn(e));return t===0?0:Wc(e)*t}function zi(n){if(typeof n!="number"||zg(n)||!Jr(n))return!1;const e=nn(n);return Ci(e)===e}function ni(n){if(typeof n=="symbol")throw new TypeError("Cannot convert a Symbol value to a String");return Cd(n)}function Tt(n){const e=eh(n);if(e===0)return 0;if(zg(e)||!Jr(e))throw new RangeError("invalid number value");const t=mu(e);return t===0?0:t}function PR(n,e){const t=Tt(n);if(t<=0)throw e!==void 0?new RangeError(`property '${e}' cannot be a a number less than one`):new RangeError("Cannot convert a number less than one to a positive integer");return t}function nr(n){const e=eh(n);if(!Jr(e))throw new RangeError("infinity is out of range");if(!zi(e))throw new RangeError(`unsupported fractional value ${n}`);return e===0?0:e}function kn(n,e){return{quotient:_.divide(n,e),remainder:_.remainder(n,e)}}function eg(n){return _.lessThan(n,Sn)}function LR(n){return Qi(n)?0:eg(n)?-1:1}function ka(n){return _.lessThan(n,Sn)?_.multiply(n,d3):n}const VR=new Map([["year",Tt],["month",PR],["monthCode",ni],["day",PR],["hour",Tt],["minute",Tt],["second",Tt],["millisecond",Tt],["microsecond",Tt],["nanosecond",Tt],["years",nr],["months",nr],["weeks",nr],["days",nr],["hours",nr],["minutes",nr],["seconds",nr],["milliseconds",nr],["microseconds",nr],["nanoseconds",nr],["era",ni],["eraYear",zn],["offset",ni]]),g3=new Map([["hour",0],["minute",0],["second",0],["millisecond",0],["microsecond",0],["nanosecond",0]]),Dd=[["years","year","date"],["months","month","date"],["weeks","week","date"],["days","day","date"],["hours","hour","time"],["minutes","minute","time"],["seconds","second","time"],["milliseconds","millisecond","time"],["microseconds","microsecond","time"],["nanoseconds","nanosecond","time"]],tg=new Map(Dd.map(n=>[n[0],n[1]])),y3=new Map(Dd.map(([n,e])=>[e,n])),UR=Dd.map(([,n])=>n),zR=Array.from(tg.keys()).sort(),BR=new Map;function tD(n){let e=BR.get(n);return e===void 0&&(e=new KC("en-us",{timeZone:Cd(n),hour12:!1,era:"short",year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"}),BR.set(n,e)),e}function jR(n){if(n==null)throw new TypeError(`Expected object not ${n}`);return Object(n)}function Bc(n,e,t,r){if(e==null)return;const a=f3(e);for(const o of a)if(!t.some(l=>Object.is(l,o))&&Object.prototype.propertyIsEnumerable.call(e,o)){const l=e[o];if(r&&r.some(c=>Object.is(c,l)))continue;n[o]=l}}function Zn(n){return ar(n,ze)&&!ar(n,xt,W)}function Gi(n){return ar(n,ls)}function Tn(n){return ar(n,mn)}function En(n){return ar(n,qr,hr,Hr,Yr,Gr,Qr,Kr,Zr,Xr)}function ht(n){return ar(n,BC)}function bn(n){return ar(n,We,Je,et,tt,nt,rt)&&!ar(n,Re,Se,De)}function Ze(n){return ar(n,Re,Se,De,We,Je,et,tt,nt,rt)}function bt(n){return ar(n,jC)}function tr(n){return ar(n,FC)}function Ne(n){return ar(n,ze,xt,W)}function vh(n){if(ar(n,W)||ar(n,xt))throw new TypeError("with() does not support a calendar or timeZone property");if(bn(n))throw new TypeError("with() does not accept Temporal.PlainTime, use withPlainTime() instead");if(n.calendar!==void 0)throw new TypeError("with() does not support a calendar property");if(n.timeZone!==void 0)throw new TypeError("with() does not support a timeZone property")}function v3(n){const{ianaName:e,offset:t,z:r}=function(o){if(new RegExp(`^${Ad.source}$`,"i").test(o))return{ianaName:o};try{const l=Cs(o);if(l.z||l.offset||l.ianaName)return l}catch{}throw new RangeError(`Invalid time zone: ${o}`)}(n);return e?pT(e):r?"UTC":Wg(dl(t))}function aT(n,e){return e==="never"?"":sT(br(n),e)}function sT(n,e){return e==="never"||e==="auto"&&n==="iso8601"?"":`[${e==="critical"?"!":""}u-ca=${n}]`}function Cs(n){const e=e3.exec(n);if(!e)throw new RangeError(`invalid ISO 8601 string: ${n}`);let t=e[1];if(t[0]==="−"&&(t=`-${t.slice(1)}`),t==="-000000")throw new RangeError(`invalid ISO 8601 string: ${n}`);const r=zn(t),a=zn(e[2]||e[4]),o=zn(e[3]||e[5]),l=zn(e[6]),c=e[6]!==void 0,f=zn(e[7]||e[10]);let d=zn(e[8]||e[11]);d===60&&(d=59);const p=(e[9]||e[12])+"000000000",v=zn(p.slice(0,3)),w=zn(p.slice(3,6)),E=zn(p.slice(6,9));let R,S=!1;if(e[13])R=void 0,S=!0;else if(e[14]&&e[15]){const L=e[14]==="-"||e[14]==="−"?"-":"+",$=e[15]||"00",P=e[16]||"00",H=e[17]||"00";let x=e[18]||"0";if(R=`${L}${$}:${P}`,+x){for(;x.endsWith("0");)x=x.slice(0,-1);R+=`:${H}.${x}`}else+H&&(R+=`:${H}`);R==="-00:00"&&(R="+00:00")}const D=e[19],N=e[20];let M;for(const[,L,$,P]of N.matchAll(Rl))if($==="u-ca")M===void 0&&(M=P);else if(L==="!")throw new RangeError(`Unrecognized annotation: !${$}=${P}`);return vT(r,a,o,l,f,d,v,w,E),{year:r,month:a,day:o,hasTime:c,hour:l,minute:f,second:d,millisecond:v,microsecond:w,nanosecond:E,ianaName:D,offset:R,z:S,calendar:M}}function oT(n){const e=n3.exec(n);let t,r,a,o;if(e){let l=e[1];if(l[0]==="−"&&(l=`-${l.slice(1)}`),l==="-000000")throw new RangeError(`invalid ISO 8601 string: ${n}`);t=zn(l),r=zn(e[2]);const c=e[3];for(const[,f,d,p]of c.matchAll(Rl))if(d==="u-ca")a===void 0&&(a=p);else if(f==="!")throw new RangeError(`Unrecognized annotation: !${d}=${p}`);if(a!==void 0&&a!=="iso8601")throw new RangeError("YYYY-MM format is only valid with iso8601 calendar")}else{let l;if({year:t,month:r,calendar:a,day:o,z:l}=Cs(n),l)throw new RangeError("Z designator not supported for PlainYearMonth")}return{year:t,month:r,calendar:a,referenceISODay:o}}function lT(n){const e=r3.exec(n);let t,r,a,o;if(e){t=zn(e[1]),r=zn(e[2]);const l=e[3];for(const[,c,f,d]of l.matchAll(Rl))if(f==="u-ca")a===void 0&&(a=d);else if(c==="!")throw new RangeError(`Unrecognized annotation: !${f}=${d}`);if(a!==void 0&&a!=="iso8601")throw new RangeError("MM-DD format is only valid with iso8601 calendar")}else{let l;if({month:t,day:r,calendar:a,year:o,z:l}=Cs(n),l)throw new RangeError("Z designator not supported for PlainMonthDay")}return{month:t,day:r,calendar:a,referenceISOYear:o}}function _3(n){let{year:e,month:t,day:r,hour:a,minute:o,second:l,millisecond:c,microsecond:f,nanosecond:d,offset:p,z:v}=function(S){const D=Cs(S);if(!D.z&&!D.offset)throw new RangeError("Temporal.Instant requires a time zone offset");return D}(n);if(!v&&!p)throw new RangeError("Temporal.Instant requires a time zone offset");const w=v?0:dl(p);({year:e,month:t,day:r,hour:a,minute:o,second:l,millisecond:c,microsecond:f,nanosecond:d}=gT(e,t,r,a,o,l,c,f,d-w));const E=ml(e,t,r,a,o,l,c,f,d);if(E===null)throw new RangeError("DateTime outside of supported range");return E}function ng(n,e,t,r){let a=n,o=e,l=t;switch(r){case"reject":ws(a,o,l);break;case"constrain":({year:a,month:o,day:l}=vD(a,o,l))}return{year:a,month:o,day:l}}function jg(n,e,t,r,a,o,l){let c=n,f=e,d=t,p=r,v=a,w=o;switch(l){case"reject":ey(c,f,d,p,v,w);break;case"constrain":({hour:c,minute:f,second:d,millisecond:p,microsecond:v,nanosecond:w}=function(R,S,D,N,M,L){const $=Si(R,0,23),P=Si(S,0,59),H=Si(D,0,59),x=Si(N,0,999),I=Si(M,0,999),O=Si(L,0,999);return{hour:$,minute:P,second:H,millisecond:x,microsecond:I,nanosecond:O}}(c,f,d,p,v,w))}return{hour:c,minute:f,second:d,millisecond:p,microsecond:v,nanosecond:w}}function Pu(n){if(!an(n))return function(R){const S=a3.exec(R);if(!S)throw new RangeError(`invalid duration: ${R}`);if(S.slice(2).every(he=>he===void 0))throw new RangeError(`invalid duration: ${R}`);const D=S[1]==="-"||S[1]==="−"?-1:1,N=S[2]===void 0?0:Tt(S[2])*D,M=S[3]===void 0?0:Tt(S[3])*D,L=S[4]===void 0?0:Tt(S[4])*D,$=S[5]===void 0?0:Tt(S[5])*D,P=S[6]===void 0?0:Tt(S[6])*D,H=S[7],x=S[8],I=S[9],O=S[10],z=S[11];let B=0,q=0,U=0;if(H!==void 0){if(x??I??O??z)throw new RangeError("only the smallest unit can be fractional");U=3600*zn((H+"000000000").slice(0,9))*D}else if(B=x===void 0?0:Tt(x)*D,I!==void 0){if(O??z)throw new RangeError("only the smallest unit can be fractional");U=60*zn((I+"000000000").slice(0,9))*D}else q=O===void 0?0:Tt(O)*D,z!==void 0&&(U=zn((z+"000000000").slice(0,9))*D);const we=U%1e3,ie=mu(U/1e3)%1e3,te=mu(U/1e6)%1e3;return q+=mu(U/1e9)%60,B+=mu(U/6e10),lg(N,M,L,$,P,B,q,te,ie,we),{years:N,months:M,weeks:L,days:$,hours:P,minutes:B,seconds:q,milliseconds:te,microseconds:ie,nanoseconds:we}}(ni(n));if(En(n))return{years:y(n,qr),months:y(n,hr),weeks:y(n,ui),days:y(n,Hr),hours:y(n,Yr),minutes:y(n,Gr),seconds:y(n,Qr),milliseconds:y(n,Kr),microseconds:y(n,Zr),nanoseconds:y(n,Xr)};const e={years:0,months:0,weeks:0,days:0,hours:0,minutes:0,seconds:0,milliseconds:0,microseconds:0,nanoseconds:0};let t=function(R){if(!an(R))throw new TypeError("invalid duration-like");const S={years:void 0,months:void 0,weeks:void 0,days:void 0,hours:void 0,minutes:void 0,seconds:void 0,milliseconds:void 0,microseconds:void 0,nanoseconds:void 0};let D=!1;for(const N of zR){const M=R[N];M!==void 0&&(D=!0,S[N]=nr(M))}if(!D)throw new TypeError("invalid duration-like");return S}(n);for(const E of zR){const R=t[E];R!==void 0&&(e[E]=R)}let{years:r,months:a,weeks:o,days:l,hours:c,minutes:f,seconds:d,milliseconds:p,microseconds:v,nanoseconds:w}=e;return lg(r,a,o,l,c,f,d,p,v,w),{years:r,months:a,weeks:o,days:l,hours:c,minutes:f,seconds:d,milliseconds:p,microseconds:v,nanoseconds:w}}function Pn(n){return n===void 0?"constrain":gl(n,"overflow",["constrain","reject"],"constrain")}function th(n){return n===void 0?"compatible":gl(n,"disambiguation",["compatible","earlier","later","reject"],"compatible")}function Va(n,e){return gl(n,"roundingMode",["ceil","floor","expand","trunc","halfCeil","halfFloor","halfExpand","halfTrunc","halfEven"],e)}function rg(n,e){return n===void 0?e:gl(n,"offset",["prefer","use","ignore","reject"],e)}function Id(n){return gl(n,"calendarName",["auto","always","never","critical"],"auto")}function _h(n){let e=n.roundingIncrement;if(e===void 0)return 1;if(e=eh(e),!Jr(e))throw new RangeError("roundingIncrement must be finite");const t=mu(e);if(t<1||t>1e9)throw new RangeError(`roundingIncrement must be at least 1 and at most 1e9, not ${e}`);return t}function Th(n,e,t){const r=t?e:e-1;if(n>r)throw new RangeError(`roundingIncrement must be at least 1 and less than ${r}, not ${n}`);if(e%n!=0)throw new RangeError(`Rounding increment must divide evenly into ${e}`)}function Od(n){const e=n.fractionalSecondDigits;if(e===void 0)return"auto";if(typeof e!="number"){if(ni(e)!=="auto")throw new RangeError(`fractionalSecondDigits must be 'auto' or 0 through 9, not ${e}`);return"auto"}const t=Ci(e);if(!Jr(t)||t<0||t>9)throw new RangeError(`fractionalSecondDigits must be 'auto' or 0 through 9, not ${e}`);return t}function Nd(n,e){switch(n){case"minute":return{precision:"minute",unit:"minute",increment:1};case"second":return{precision:0,unit:"second",increment:1};case"millisecond":return{precision:3,unit:"millisecond",increment:1};case"microsecond":return{precision:6,unit:"microsecond",increment:1};case"nanosecond":return{precision:9,unit:"nanosecond",increment:1}}switch(e){case"auto":return{precision:e,unit:"nanosecond",increment:1};case 0:return{precision:e,unit:"second",increment:1};case 1:case 2:case 3:return{precision:e,unit:"millisecond",increment:10**(3-e)};case 4:case 5:case 6:return{precision:e,unit:"microsecond",increment:10**(6-e)};case 7:case 8:case 9:return{precision:e,unit:"nanosecond",increment:10**(9-e)};default:throw new RangeError(`fractionalSecondDigits must be 'auto' or 0 through 9, not ${e}`)}}const bu=Symbol("~required~");function Di(n,e,t,r,a=[]){const o=[];for(const[,d,p]of Dd)t!=="datetime"&&t!==p||o.push(d);o.push(...a);let l=r;l===bu?l=void 0:l!==void 0&&o.push(l);const c=[...o];for(const d of o){const p=y3.get(d);p!==void 0&&c.push(p)}let f=gl(n,e,c,l);if(f===void 0&&r===bu)throw new RangeError(`${e} is required`);return tg.has(f)?tg.get(f):f}function Np(n){const e=n.relativeTo;if(e===void 0)return e;let t,r,a,o,l,c,f,d,p,v,w,E,R="option",S=!1;if(an(e)){if(Ne(e)||ht(e))return e;if(Ze(e))return rh(e);v=Pd(e);const D=jn(v,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]);D.push("timeZone","offset");const N=ot(e,D,[]),M=Ur(null);M.overflow="constrain",{year:t,month:r,day:a,hour:o,minute:l,second:c,millisecond:f,microsecond:d,nanosecond:p}=Md(v,N,M),E=N.offset,E===void 0&&(R="wall"),w=N.timeZone,w!==void 0&&(w=Vr(w))}else{let D,N;if({year:t,month:r,day:a,hour:o,minute:l,second:c,millisecond:f,microsecond:d,nanosecond:p,calendar:v,ianaName:D,offset:E,z:N}=Cs(ni(e)),D)w=Vr(D),N?R="exact":E||(R="wall"),S=!0;else if(N)throw new RangeError("Z designator not supported for PlainDate relativeTo; either remove the Z or add a bracketed time zone");if(v||(v="iso8601"),!uo(v))throw new RangeError(`invalid calendar identifier ${v}`);v=Es(v)}return w===void 0?Ji(t,r,a,v):_r(ag(t,r,a,o,l,c,f,d,p,R,R==="option"?dl(E):0,w,"compatible","reject",S),w,v)}function o_(n,e,t,r,a,o,l,c,f,d){for(const[p,v]of[["years",n],["months",e],["weeks",t],["days",r],["hours",a],["minutes",o],["seconds",l],["milliseconds",c],["microseconds",f],["nanoseconds",d]])if(v!==0)return tg.get(p);return"nanosecond"}function Ru(n,e){return UR.indexOf(n)>UR.indexOf(e)?e:n}function ot(n,e,t,{emptySourceErrorMessage:r}={emptySourceErrorMessage:"no supported properties found"}){const a=Ur(null);let o=!1;e.sort();for(const l of e){let c=n[l];if(c!==void 0)o=!0,VR.has(l)&&(c=VR.get(l)(c)),a[l]=c;else if(t!=="partial"){if(s3.call(t,l))throw new TypeError(`required property '${l}' missing or undefined`);c=g3.get(l),a[l]=c}}if(t==="partial"&&!o)throw new TypeError(r);return a}function ig(n,e="complete"){const t=["hour","microsecond","millisecond","minute","nanosecond","second"],r=ot(n,t,"partial",{emptySourceErrorMessage:"invalid time-like"}),a={};for(const o of t){const l=h3(r,o);l!==void 0?a[o]=l.value:e==="complete"&&(a[o]=0)}return a}function zt(n,e){let t=n;if(an(t)){if(ht(t))return t;if(Ne(t)&&(Pn(e),t=Ui(y(t,xt),y(t,Lr),y(t,W))),Ze(t))return Pn(e),Ji(y(t,Re),y(t,Se),y(t,De),y(t,W));const f=Pd(t);return oo(f,ot(t,jn(f,["day","month","monthCode","year"]),[]),e)}Pn(e);let{year:r,month:a,day:o,calendar:l,z:c}=function(d){return Cs(d)}(ni(t));if(c)throw new RangeError("Z designator not supported for PlainDate");if(l||(l="iso8601"),!uo(l))throw new RangeError(`invalid calendar identifier ${l}`);return l=Es(l),Ji(r,a,o,l)}function Md(n,e,t){let{hour:r,minute:a,second:o,millisecond:l,microsecond:c,nanosecond:f}=ig(e);const d=Pn(t),p=oo(n,e,t),v=y(p,Re),w=y(p,Se),E=y(p,De);return{hour:r,minute:a,second:o,millisecond:l,microsecond:c,nanosecond:f}=jg(r,a,o,l,c,f,d),{year:v,month:w,day:E,hour:r,minute:a,second:o,millisecond:l,microsecond:c,nanosecond:f}}function pu(n,e){let t,r,a,o,l,c,f,d,p,v;if(an(n)){if(Ze(n))return n;if(Ne(n))return Pn(e),Ui(y(n,xt),y(n,Lr),y(n,W));if(ht(n))return Pn(e),Ri(y(n,Re),y(n,Se),y(n,De),0,0,0,0,0,0,y(n,W));v=Pd(n);const w=ot(n,jn(v,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]),[]);({year:t,month:r,day:a,hour:o,minute:l,second:c,millisecond:f,microsecond:d,nanosecond:p}=Md(v,w,e))}else{let w;if(Pn(e),{year:t,month:r,day:a,hour:o,minute:l,second:c,millisecond:f,microsecond:d,nanosecond:p,calendar:v,z:w}=function(R){return Cs(R)}(ni(n)),w)throw new RangeError("Z designator not supported for PlainDateTime");if(vT(t,r,a,o,l,c,f,d,p),v||(v="iso8601"),!uo(v))throw new RangeError(`invalid calendar identifier ${v}`);v=Es(v)}return Ri(t,r,a,o,l,c,f,d,p,v)}function jc(n){if(En(n))return n;let{years:e,months:t,weeks:r,days:a,hours:o,minutes:l,seconds:c,milliseconds:f,microseconds:d,nanoseconds:p}=Pu(n);return new(ye("%Temporal.Duration%"))(e,t,r,a,o,l,c,f,d,p)}function Pa(n){if(Zn(n))return n;if(Ne(n))return new(ye("%Temporal.Instant%"))(y(n,ze));const e=_3(ni(n));return new(ye("%Temporal.Instant%"))(e)}function FR(n,e){let t=n;if(an(t)){if(tr(t))return t;let c,f;if(ar(t,W))c=y(t,W),f=!1;else{let p=t.calendar;f=p===void 0,p===void 0&&(p="iso8601"),c=Ii(p)}const d=ot(t,jn(c,["day","month","monthCode","year"]),[]);return f&&d.month!==void 0&&d.monthCode===void 0&&d.year===void 0&&(d.year=1972),nh(c,d,e)}Pn(e);let{month:r,day:a,referenceISOYear:o,calendar:l}=lT(ni(t));if(l===void 0&&(l="iso8601"),!uo(l))throw new RangeError(`invalid calendar identifier ${l}`);return l=Es(l),o===void 0?(ws(1972,r,a),od(r,a,l)):nh(l,od(r,a,l,o))}function Js(n,e="constrain"){let t,r,a,o,l,c,f=n;if(an(f)){if(bn(f))return f;if(Ne(f)&&(f=Ui(y(f,xt),y(f,Lr),y(f,W))),Ze(f))return new(ye("%Temporal.PlainTime%"))(y(f,We),y(f,Je),y(f,et),y(f,tt),y(f,nt),y(f,rt));({hour:t,minute:r,second:a,millisecond:o,microsecond:l,nanosecond:c}=ig(f)),{hour:t,minute:r,second:a,millisecond:o,microsecond:l,nanosecond:c}=jg(t,r,a,o,l,c,e)}else({hour:t,minute:r,second:a,millisecond:o,microsecond:l,nanosecond:c}=function(p){const v=t3.exec(p);let w,E,R,S,D,N,M;if(v){w=zn(v[1]),E=zn(v[2]||v[5]),R=zn(v[3]||v[6]),R===60&&(R=59);const L=(v[4]||v[7])+"000000000";S=zn(L.slice(0,3)),D=zn(L.slice(3,6)),N=zn(L.slice(6,9)),M=v[14];for(const[,$,P,H]of M.matchAll(Rl))if(P!=="u-ca"&&$==="!")throw new RangeError(`Unrecognized annotation: !${P}=${H}`);if(v[8])throw new RangeError("Z designator not supported for PlainTime")}else{let L,$;if({hasTime:$,hour:w,minute:E,second:R,millisecond:S,microsecond:D,nanosecond:N,z:L}=Cs(p),!$)throw new RangeError(`time is missing in string: ${p}`);if(L)throw new RangeError("Z designator not supported for PlainTime")}if(/[tT ][0-9][0-9]/.test(p))return{hour:w,minute:E,second:R,millisecond:S,microsecond:D,nanosecond:N};try{const{month:L,day:$}=lT(p);ws(1972,L,$)}catch{try{const{year:L,month:$}=oT(p);ws(L,$,1)}catch{return{hour:w,minute:E,second:R,millisecond:S,microsecond:D,nanosecond:N}}}throw new RangeError(`invalid ISO 8601 time-only string ${p}; may need a T prefix`)}(ni(f))),ey(t,r,a,o,l,c);return new(ye("%Temporal.PlainTime%"))(t,r,a,o,l,c)}function Bf(n,e){if(an(n)){if(bt(n))return n;const l=Pd(n);return Au(l,ot(n,jn(l,["month","monthCode","year"]),[]),e)}Pn(e);let{year:t,month:r,referenceISODay:a,calendar:o}=oT(ni(n));if(o===void 0&&(o="iso8601"),!uo(o))throw new RangeError(`invalid calendar identifier ${o}`);return o=Es(o),a===void 0?(ws(t,r,1),ld(t,r,o)):Au(o,ld(t,r,o,a))}function ag(n,e,t,r,a,o,l,c,f,d,p,v,w,E,R){const S=new(ye("%Temporal.PlainDateTime%"))(n,e,t,r,a,o,l,c,f);if(d==="wall"||E==="ignore")return y(ei(v,S,w),ze);if(d==="exact"||E==="use"){const N=ml(n,e,t,r,a,o,l,c,f);if(N===null)throw new RangeError("ZonedDateTime outside of supported range");return _.subtract(N,_.BigInt(p))}const D=sg(v,S);for(const N of D){const M=Ua(v,N),L=_.toNumber(xi(_.BigInt(M),WC,"halfExpand"));if(M===p||R&&L===p)return y(N,ze)}if(E==="reject"){const N=Wg(p),M=Gi(v)?y(v,ls):"time zone";throw new RangeError(`Offset ${N} is invalid for ${S.toString()} in ${M}`)}return y(cD(D,v,S,w),ze)}function jf(n,e){let t,r,a,o,l,c,f,d,p,v,w,E,R,S,D=!1,N="option";if(an(n)){if(Ne(n))return n;E=Pd(n);const L=jn(E,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]);L.push("timeZone","offset");const $=ot(n,L,["timeZone"]);v=Vr($.timeZone),w=$.offset,w===void 0&&(N="wall"),R=th(e),S=rg(e,"reject"),{year:t,month:r,day:a,hour:o,minute:l,second:c,millisecond:f,microsecond:d,nanosecond:p}=Md(E,$,e)}else{let L,$;if({year:t,month:r,day:a,hour:o,minute:l,second:c,millisecond:f,microsecond:d,nanosecond:p,ianaName:L,offset:w,z:$,calendar:E}=function(H){const x=Cs(H);if(!x.ianaName)throw new RangeError("Temporal.ZonedDateTime requires a time zone ID in brackets");return x}(ni(n)),v=Vr(L),$?N="exact":w||(N="wall"),E||(E="iso8601"),!uo(E))throw new RangeError(`invalid calendar identifier ${E}`);E=Es(E),D=!0,R=th(e),S=rg(e,"reject"),Pn(e)}let M=0;return N==="option"&&(M=dl(w)),_r(ag(t,r,a,o,l,c,f,d,p,N,M,v,R,S,D),v,E)}function nD(n,e,t,r,a){ws(e,t,r),_D(e,t,r),As(n),it(n,Re,e),it(n,Se,t),it(n,De,r),it(n,W,a),it(n,BC,!0)}function Ji(n,e,t,r="iso8601"){const a=ye("%Temporal.PlainDate%"),o=Ur(a.prototype);return nD(o,n,e,t,r),o}function rD(n,e,t,r,a,o,l,c,f,d,p){vT(e,t,r,a,o,l,c,f,d),TD(e,t,r,a,o,l,c,f,d),As(n),it(n,Re,e),it(n,Se,t),it(n,De,r),it(n,We,a),it(n,Je,o),it(n,et,l),it(n,tt,c),it(n,nt,f),it(n,rt,d),it(n,W,p)}function Ri(n,e,t,r,a,o,l,c,f,d="iso8601"){const p=ye("%Temporal.PlainDateTime%"),v=Ur(p.prototype);return rD(v,n,e,t,r,a,o,l,c,f,d),v}function iD(n,e,t,r,a){ws(a,e,t),_D(a,e,t),As(n),it(n,Se,e),it(n,De,t),it(n,Re,a),it(n,W,r),it(n,FC,!0)}function od(n,e,t="iso8601",r=1972){const a=ye("%Temporal.PlainMonthDay%"),o=Ur(a.prototype);return iD(o,n,e,t,r),o}function aD(n,e,t,r,a){ws(e,t,a),function(l,c){wr(l,Wp,Jp),l===Wp?wr(c,4,12):l===Jp&&wr(c,1,9)}(e,t),As(n),it(n,Re,e),it(n,Se,t),it(n,De,a),it(n,W,r),it(n,jC,!0)}function ld(n,e,t="iso8601",r=1){const a=ye("%Temporal.PlainYearMonth%"),o=Ur(a.prototype);return aD(o,n,e,t,r),o}function sD(n,e,t,r){hu(e),As(n),it(n,ze,e),it(n,xt,t),it(n,W,r);const a=new(ye("%Temporal.Instant%"))(y(n,ze));it(n,Lr,a)}function _r(n,e,t="iso8601"){const r=ye("%Temporal.ZonedDateTime%"),a=Ur(r.prototype);return sD(a,n,e,t),a}function jn(n,e){if(typeof n=="string"){const a=new(ye("%Temporal.Calendar%"))(n);return Me(ye("%Temporal.Calendar.prototype.fields%"),a,[e])}const t=Me(Ct(n,"fields"),n,[e]),r=[];for(const a of t){if(typeof a!="string")throw new TypeError("bad return from calendar.fields()");QC.call(r,a)}return r}function Su(n,e,t){if(typeof n=="string"){const a=new(ye("%Temporal.Calendar%"))(n);return Me(ye("%Temporal.Calendar.prototype.mergeFields%"),a,[e,t])}const r=Me(Ct(n,"mergeFields"),n,[e,t]);if(!an(r))throw new TypeError("bad return from calendar.mergeFields()");return r}function Tr(n,e,t,r,a){let o=a;if(typeof n=="string"){const c=new(ye("%Temporal.Calendar%"))(n);return Me(ye("%Temporal.Calendar.prototype.dateAdd%"),c,[e,t,r])}o===void 0&&(o=Ct(n,"dateAdd"));const l=Bg(o,n,[e,t,r]);if(!ht(l))throw new TypeError("invalid result");return l}function fl(n,e,t,r,a){let o=a;if(typeof n=="string"){const c=new(ye("%Temporal.Calendar%"))(n);return Me(ye("%Temporal.Calendar.prototype.dateUntil%"),c,[e,t,r])}o===void 0&&(o=Ct(n,"dateUntil"));const l=Bg(o,n,[e,t,r]);if(!En(l))throw new TypeError("invalid result");return l}function Fg(n,e){if(typeof n=="string"){const r=new(ye("%Temporal.Calendar%"))(n);return Me(ye("%Temporal.Calendar.prototype.year%"),r,[e])}let t=Me(Ct(n,"year"),n,[e]);if(typeof t!="number")throw new TypeError("calendar year result must be an integer");if(!zi(t))throw new RangeError("calendar year result must be an integer");return t}function $g(n,e){if(typeof n=="string"){const r=new(ye("%Temporal.Calendar%"))(n);return Me(ye("%Temporal.Calendar.prototype.month%"),r,[e])}let t=Me(Ct(n,"month"),n,[e]);if(typeof t!="number")throw new TypeError("calendar month result must be a positive integer");if(!zi(t)||t<1)throw new RangeError("calendar month result must be a positive integer");return t}function xd(n,e){if(typeof n=="string"){const r=new(ye("%Temporal.Calendar%"))(n);return Me(ye("%Temporal.Calendar.prototype.monthCode%"),r,[e])}let t=Me(Ct(n,"monthCode"),n,[e]);if(typeof t!="string")throw new TypeError("calendar monthCode result must be a string");return t}function kd(n,e){if(typeof n=="string"){const r=new(ye("%Temporal.Calendar%"))(n);return Me(ye("%Temporal.Calendar.prototype.day%"),r,[e])}const t=Me(Ct(n,"day"),n,[e]);if(typeof t!="number")throw new TypeError("calendar day result must be a positive integer");if(!zi(t)||t<1)throw new RangeError("calendar day result must be a positive integer");return t}function qg(n,e){if(typeof n=="string"){const r=new(ye("%Temporal.Calendar%"))(n);return Me(ye("%Temporal.Calendar.prototype.era%"),r,[e])}let t=Me(Ct(n,"era"),n,[e]);if(t===void 0)return t;if(typeof t!="string")throw new TypeError("calendar era result must be a string or undefined");return t}function Hg(n,e){if(typeof n=="string"){const r=new(ye("%Temporal.Calendar%"))(n);return Me(ye("%Temporal.Calendar.prototype.eraYear%"),r,[e])}let t=Me(Ct(n,"eraYear"),n,[e]);if(t===void 0)return t;if(typeof t!="number")throw new TypeError("calendar eraYear result must be an integer or undefined");if(!zi(t))throw new RangeError("calendar eraYear result must be an integer or undefined");return t}function uT(n,e){if(typeof n=="string"){const r=new(ye("%Temporal.Calendar%"))(n);return Me(ye("%Temporal.Calendar.prototype.dayOfWeek%"),r,[e])}const t=Me(Ct(n,"dayOfWeek"),n,[e]);if(typeof t!="number")throw new TypeError("calendar dayOfWeek result must be a positive integer");if(!zi(t)||t<1)throw new RangeError("calendar dayOfWeek result must be a positive integer");return t}function cT(n,e){if(typeof n=="string"){const r=new(ye("%Temporal.Calendar%"))(n);return Me(ye("%Temporal.Calendar.prototype.dayOfYear%"),r,[e])}const t=Me(Ct(n,"dayOfYear"),n,[e]);if(typeof t!="number")throw new TypeError("calendar dayOfYear result must be a positive integer");if(!zi(t)||t<1)throw new RangeError("calendar dayOfYear result must be a positive integer");return t}function hT(n,e){if(typeof n=="string"){const r=new(ye("%Temporal.Calendar%"))(n);return Me(ye("%Temporal.Calendar.prototype.weekOfYear%"),r,[e])}const t=Me(Ct(n,"weekOfYear"),n,[e]);if(typeof t!="number")throw new TypeError("calendar weekOfYear result must be a positive integer");if(!zi(t)||t<1)throw new RangeError("calendar weekOfYear result must be a positive integer");return t}function fT(n,e){if(typeof n=="string"){const r=new(ye("%Temporal.Calendar%"))(n);return Me(ye("%Temporal.Calendar.prototype.yearOfWeek%"),r,[e])}const t=Me(Ct(n,"yearOfWeek"),n,[e]);if(typeof t!="number")throw new TypeError("calendar yearOfWeek result must be an integer");if(!zi(t))throw new RangeError("calendar yearOfWeek result must be an integer");return t}function dT(n,e){if(typeof n=="string"){const r=new(ye("%Temporal.Calendar%"))(n);return Me(ye("%Temporal.Calendar.prototype.daysInWeek%"),r,[e])}const t=Me(Ct(n,"daysInWeek"),n,[e]);if(typeof t!="number")throw new TypeError("calendar daysInWeek result must be a positive integer");if(!zi(t)||t<1)throw new RangeError("calendar daysInWeek result must be a positive integer");return t}function Yg(n,e){if(typeof n=="string"){const r=new(ye("%Temporal.Calendar%"))(n);return Me(ye("%Temporal.Calendar.prototype.daysInMonth%"),r,[e])}const t=Me(Ct(n,"daysInMonth"),n,[e]);if(typeof t!="number")throw new TypeError("calendar daysInMonth result must be a positive integer");if(!zi(t)||t<1)throw new RangeError("calendar daysInMonth result must be a positive integer");return t}function Gg(n,e){if(typeof n=="string"){const r=new(ye("%Temporal.Calendar%"))(n);return Me(ye("%Temporal.Calendar.prototype.daysInYear%"),r,[e])}const t=Me(Ct(n,"daysInYear"),n,[e]);if(typeof t!="number")throw new TypeError("calendar daysInYear result must be a positive integer");if(!zi(t)||t<1)throw new RangeError("calendar daysInYear result must be a positive integer");return t}function Qg(n,e){if(typeof n=="string"){const r=new(ye("%Temporal.Calendar%"))(n);return Me(ye("%Temporal.Calendar.prototype.monthsInYear%"),r,[e])}const t=Me(Ct(n,"monthsInYear"),n,[e]);if(typeof t!="number")throw new TypeError("calendar monthsInYear result must be a positive integer");if(!zi(t)||t<1)throw new RangeError("calendar monthsInYear result must be a positive integer");return t}function Kg(n,e){if(typeof n=="string"){const r=new(ye("%Temporal.Calendar%"))(n);return Me(ye("%Temporal.Calendar.prototype.inLeapYear%"),r,[e])}const t=Me(Ct(n,"inLeapYear"),n,[e]);if(typeof t!="boolean")throw new TypeError("calendar inLeapYear result must be a boolean");return t}function Ii(n){if(an(n)){if(ar(n,W))return y(n,W);if(!function(a){return!!Tn(a)||"dateAdd"in a&&"dateFromFields"in a&&"dateUntil"in a&&"day"in a&&"dayOfWeek"in a&&"dayOfYear"in a&&"daysInMonth"in a&&"daysInWeek"in a&&"daysInYear"in a&&"fields"in a&&"id"in a&&"inLeapYear"in a&&"mergeFields"in a&&"month"in a&&"monthCode"in a&&"monthDayFromFields"in a&&"monthsInYear"in a&&"weekOfYear"in a&&"year"in a&&"yearMonthFromFields"in a&&"yearOfWeek"in a}(n))throw new TypeError("expected a Temporal.Calendar or object implementing the Temporal.Calendar protocol");return n}const e=ni(n);if(uo(e))return Es(e);let t;try{({calendar:t}=Cs(e))}catch{try{({calendar:t}=oT(e))}catch{({calendar:t}=lT(e))}}if(t||(t="iso8601"),!uo(t))throw new RangeError(`invalid calendar identifier ${t}`);return Es(t)}function Pd(n){if(ar(n,W))return y(n,W);const{calendar:e}=n;return e===void 0?"iso8601":Ii(e)}function br(n){if(typeof n=="string")return n;const e=n.id;if(typeof e!="string")throw new TypeError("calendar.id should be a string");return e}function wh(n){return an(n)?n:new(ye("%Temporal.Calendar%"))(n)}function Ld(n,e){return n===e?!0:br(n)===br(e)}function Zg(n,e,t){if(n===e)return;const r=br(n),a=br(e);if(r!==a)throw new RangeError(`cannot ${t} of ${r} and ${a} calendars`)}function oD(n,e){if(n===e)return e;const t=br(n),r=br(e);if(t===r||t==="iso8601")return e;if(r==="iso8601")return n;throw new RangeError("irreconcilable calendars")}function oo(n,e,t,r){if(typeof n=="string"){const o=new(ye("%Temporal.Calendar%"))(n);return Me(ye("%Temporal.Calendar.prototype.dateFromFields%"),o,[e,t])}const a=Me(Ct(n,"dateFromFields"),n,[e,t]);if(!ht(a))throw new TypeError("invalid result");return a}function Au(n,e,t){if(typeof n=="string"){const a=new(ye("%Temporal.Calendar%"))(n);return Me(ye("%Temporal.Calendar.prototype.yearMonthFromFields%"),a,[e,t])}let r=Me(Ct(n,"yearMonthFromFields"),n,[e,t]);if(!bt(r))throw new TypeError("invalid result");return r}function nh(n,e,t){if(typeof n=="string"){const a=new(ye("%Temporal.Calendar%"))(n);return Me(ye("%Temporal.Calendar.prototype.monthDayFromFields%"),a,[e,t])}let r=Me(Ct(n,"monthDayFromFields"),n,[e,t]);if(!tr(r))throw new TypeError("invalid result");return r}function Vr(n){if(an(n)){if(Ne(n))return y(n,xt);if(!function(t){return!!Gi(t)||"getOffsetNanosecondsFor"in t&&"getPossibleInstantsFor"in t&&"id"in t}(n))throw new TypeError("expected a Temporal.TimeZone or object implementing the Temporal.TimeZone protocol");return n}return v3(ni(n))}function ud(n){if(typeof n=="string")return n;const e=n.id;if(typeof e!="string")throw new TypeError("timeZone.id should be a string");return e}function lD(n){return an(n)?n:new(ye("%Temporal.TimeZone%"))(n)}function uD(n,e){return n===e?!0:ud(n)===ud(e)}function rh(n){return Ji(y(n,Re),y(n,Se),y(n,De),y(n,W))}function mT(n){return new(ye("%Temporal.PlainTime%"))(y(n,We),y(n,Je),y(n,et),y(n,tt),y(n,nt),y(n,rt))}function Ua(n,e,t){if(typeof n=="string"){const a=new(ye("%Temporal.TimeZone%"))(n);return Me(ye("%Temporal.TimeZone.prototype.getOffsetNanosecondsFor%"),a,[e])}const r=Me(Ct(n,"getOffsetNanosecondsFor"),n,[e]);if(typeof r!="number")throw new TypeError("bad return from getOffsetNanosecondsFor");if(!zi(r)||nn(r)>=864e11)throw new RangeError("out-of-range return from getOffsetNanosecondsFor");return r}function l_(n,e){return Wg(Ua(n,e))}function Ui(n,e,t){const r=y(e,ze),a=Ua(n,e);let{year:o,month:l,day:c,hour:f,minute:d,second:p,millisecond:v,microsecond:w,nanosecond:E}=fD(r);return{year:o,month:l,day:c,hour:f,minute:d,second:p,millisecond:v,microsecond:w,nanosecond:E}=gT(o,l,c,f,d,p,v,w,E+a),Ri(o,l,c,f,d,p,v,w,E,t)}function ei(n,e,t){return cD(sg(n,e),n,e,t)}function cD(n,e,t,r){const a=ye("%Temporal.Instant%"),o=n.length;if(o===1)return n[0];if(o)switch(r){case"compatible":case"earlier":return n[0];case"later":return n[o-1];case"reject":throw new RangeError("multiple instants found")}const l=y(t,Re),c=y(t,Se),f=y(t,De),d=y(t,We),p=y(t,Je),v=y(t,et),w=y(t,tt),E=y(t,nt),R=y(t,rt),S=ml(l,c,f,d,p,v,w,E,R);if(S===null)throw new RangeError("DateTime outside of supported range");const D=new a(_.subtract(S,Ts)),N=new a(_.add(S,Ts)),M=Ua(e,D),L=Ua(e,N)-M;switch(r){case"earlier":{const $=y(t,W),P=ye("%Temporal.PlainDateTime%"),H=f_(l,c,f,d,p,v,w,E,R,$,0,0,0,0,0,0,0,0,0,-L,void 0);return sg(e,new P(H.year,H.month,H.day,H.hour,H.minute,H.second,H.millisecond,H.microsecond,H.nanosecond,$))[0]}case"compatible":case"later":{const $=y(t,W),P=ye("%Temporal.PlainDateTime%"),H=f_(l,c,f,d,p,v,w,E,R,$,0,0,0,0,0,0,0,0,0,L,void 0),x=sg(e,new P(H.year,H.month,H.day,H.hour,H.minute,H.second,H.millisecond,H.microsecond,H.nanosecond,$));return x[x.length-1]}case"reject":throw new RangeError("no such instant found")}}function sg(n,e,t){if(typeof n=="string"){const o=new(ye("%Temporal.TimeZone%"))(n);return Me(ye("%Temporal.TimeZone.prototype.getPossibleInstantsFor%"),o,[e])}const r=Me(Ct(n,"getPossibleInstantsFor"),n,[e]),a=[];for(const o of r){if(!Zn(o))throw new TypeError("bad return from getPossibleInstantsFor");QC.call(a,o)}return a}function Lu(n){let e;return n<0||n>9999?e=(n<0?"-":"+")+`000000${nn(n)}`.slice(-6):e=`0000${n}`.slice(-4),e}function hn(n){return`00${n}`.slice(-2)}function Xg(n,e,t,r,a){if(a==="minute")return"";const o=`:${hn(n)}`;let l,c=1e6*e+1e3*t+r;if(a==="auto"){if(c===0)return o;for(l=`${c}`.padStart(9,"0");l[l.length-1]==="0";)l=l.slice(0,-1)}else{if(a===0)return o;l=`${c}`.padStart(9,"0").slice(0,a)}return`${o}.${l}`}function $R(n,e,t){let r=e;r===void 0&&(r="UTC");const a=Ui(r,n,"iso8601"),o=Lu(y(a,Re)),l=hn(y(a,Se)),c=hn(y(a,De)),f=hn(y(a,We)),d=hn(y(a,Je)),p=Xg(y(a,et),y(a,tt),y(a,nt),y(a,rt),t);let v="Z";return e!==void 0&&(v=hD(Ua(r,n))),`${o}-${l}-${c}T${f}:${d}${p}${v}`}function Ov(n,e="auto",t){function r(O){return O<=c3?O.toString(10):_.BigInt(O).toString(10)}const a=y(n,qr),o=y(n,hr),l=y(n,ui),c=y(n,Hr),f=y(n,Yr),d=y(n,Gr);let p=y(n,Qr),v=y(n,Kr),w=y(n,Zr),E=y(n,Xr);const R=ms(a,o,l,c,f,d,p,v,w,E);if(t){const{unit:O,increment:z,roundingMode:B}=t;({seconds:p,milliseconds:v,microseconds:w,nanoseconds:E}=lo(0,0,0,0,0,0,p,v,w,E,z,O,B))}const S=[];a&&S.push(`${r(nn(a))}Y`),o&&S.push(`${r(nn(o))}M`),l&&S.push(`${r(nn(l))}W`),c&&S.push(`${r(nn(c))}D`);const D=[];f&&D.push(`${r(nn(f))}H`),d&&D.push(`${r(nn(d))}M`);const N=[];let M,L,$,P,H=ih(0,0,0,p,v,w,E,0);({quotient:H,remainder:M}=kn(H,Rt)),{quotient:H,remainder:L}=kn(H,Rt),{quotient:P,remainder:$}=kn(H,Rt);const x=1e6*nn(_.toNumber($))+1e3*nn(_.toNumber(L))+nn(_.toNumber(M));let I;if(e==="auto"){if(x!==0)for(I=`${x}`.padStart(9,"0");I[I.length-1]==="0";)I=I.slice(0,-1)}else e!==0&&(I=`${x}`.padStart(9,"0").slice(0,e));return I&&N.unshift(".",I),_.equal(P,Sn)&&!N.length&&e==="auto"||N.unshift(ka(P).toString()),N.length&&D.push(`${N.join("")}S`),D.length&&D.unshift("T"),S.length||D.length?`${R<0?"-":""}P${S.join("")}${D.join("")}`:"PT0S"}function qR(n,e="auto"){return`${Lu(y(n,Re))}-${hn(y(n,Se))}-${hn(y(n,De))}${aT(y(n,W),e)}`}function HR(n,e,t="auto",r){let a=y(n,Re),o=y(n,Se),l=y(n,De),c=y(n,We),f=y(n,Je),d=y(n,et),p=y(n,tt),v=y(n,nt),w=y(n,rt);if(r){const{unit:E,increment:R,roundingMode:S}=r;({year:a,month:o,day:l,hour:c,minute:f,second:d,millisecond:p,microsecond:v,nanosecond:w}=ET(a,o,l,c,f,d,p,v,w,R,E,S))}return`${Lu(a)}-${hn(o)}-${hn(l)}T${hn(c)}:${hn(f)}${Xg(d,p,v,w,e)}${aT(y(n,W),t)}`}function YR(n,e="auto"){let t=`${hn(y(n,Se))}-${hn(y(n,De))}`;const r=br(y(n,W));(e==="always"||e==="critical"||r!=="iso8601")&&(t=`${Lu(y(n,Re))}-${t}`);const a=sT(r,e);return a&&(t+=a),t}function GR(n,e="auto"){let t=`${Lu(y(n,Re))}-${hn(y(n,Se))}`;const r=br(y(n,W));(e==="always"||e==="critical"||r!=="iso8601")&&(t+=`-${hn(y(n,De))}`);const a=sT(r,e);return a&&(t+=a),t}function QR(n,e,t="auto",r="auto",a="auto",o){let l=y(n,Lr);if(o){const{unit:p,increment:v,roundingMode:w}=o,E=ug(y(n,ze),v,p,w);l=new(ye("%Temporal.Instant%"))(E)}const c=y(n,xt),f=Ui(c,l,"iso8601");let d=`${Lu(y(f,Re))}-${hn(y(f,Se))}-${hn(y(f,De))}T${hn(y(f,We))}:${hn(y(f,Je))}${Xg(y(f,et),y(f,tt),y(f,nt),y(f,rt),e)}`;return a!=="never"&&(d+=hD(Ua(c,l))),r!=="never"&&(d+=`[${r==="critical"?"!":""}${ud(c)}]`),d+=aT(y(n,W),t),d}function kc(n){return CD.test(Cd(n))}function dl(n){const e=CD.exec(Cd(n));if(!e)throw new RangeError(`invalid time zone offset: ${n}`);return(e[1]==="-"||e[1]==="−"?-1:1)*(1e9*(60*(60*+e[2]+ +(e[3]||0))+ +(e[4]||0))+ +((e[5]||0)+"000000000").slice(0,9))}function pT(n){return kc(n)?Wg(dl(n)):tD(Cd(n)).resolvedOptions().timeZone}function ro(n,e){const{year:t,month:r,day:a,hour:o,minute:l,second:c,millisecond:f,microsecond:d,nanosecond:p}=dD(n,e),v=t%400,w=(t-v)/400,E=_.multiply(_.BigInt(146097),Ts),R=ml(v,r,a,o,l,c,f,d,p),S=_.add(R,_.multiply(E,_.BigInt(w)));return _.toNumber(_.subtract(S,e))}function Wg(n){const e=n<0?"-":"+",t=nn(n),r=t%1e9,a=Ci(t/1e9)%60,o=Ci(t/6e10)%60,l=hn(Ci(t/36e11)),c=hn(o),f=hn(a);let d="";if(r){let p=`${r}`.padStart(9,"0");for(;p[p.length-1]==="0";)p=p.slice(0,-1);d=`:${f}.${p}`}else a&&(d=`:${f}`);return`${e}${l}:${c}${d}`}function hD(n){let e=_.toNumber(xi(_.BigInt(n),WC,"halfExpand"));const t=e<0?"-":"+";e=nn(e);const r=e/6e10%60;return`${t}${hn(Ci(e/36e11))}:${hn(r)}`}function ml(n,e,t,r,a,o,l,c,f){const d=new Date;d.setUTCHours(r,a,o,l),d.setUTCFullYear(n,e-1,t);const p=d.getTime();if(zg(p))return null;let v=_.multiply(_.BigInt(p),Zi);return v=_.add(v,_.multiply(_.BigInt(c),Rt)),v=_.add(v,_.BigInt(f)),_.lessThan(v,sd)||_.greaterThan(v,Jc)?null:v}function fD(n){const{quotient:e,remainder:t}=kn(n,Zi);let r=_.toNumber(e),a=_.toNumber(t);a<0&&(a+=1e6,r-=1);const o=Ci(a/1e3)%1e3,l=a%1e3,c=new Date(r);return{epochMilliseconds:r,year:c.getUTCFullYear(),month:c.getUTCMonth()+1,day:c.getUTCDate(),hour:c.getUTCHours(),minute:c.getUTCMinutes(),second:c.getUTCSeconds(),millisecond:c.getUTCMilliseconds(),microsecond:o,nanosecond:l}}function dD(n,e){const{epochMilliseconds:t,millisecond:r,microsecond:a,nanosecond:o}=fD(e),{year:l,month:c,day:f,hour:d,minute:p,second:v}=function(E,R){const S=tD(E).format(new Date(R));return function(N){const M=N.split(/[^\w]+/);if(M.length!==7)throw new RangeError(`expected 7 parts in "${N}`);const L=+M[0],$=+M[1];let P=+M[2];const H=M[3].toUpperCase();if(H==="B"||H==="BC")P=1-P;else if(H!=="A"&&H!=="AD")throw new RangeError(`Unknown era ${H} in "${N}`);let x=+M[4];x===24&&(x=0);const I=+M[5],O=+M[6];if(!(Jr(P)&&Jr(L)&&Jr($)&&Jr(x)&&Jr(I)&&Jr(O)))throw new RangeError(`Invalid number in "${N}`);return{year:P,month:L,day:$,hour:x,minute:I,second:O}}(S)}(n,t);return gT(l,c,f,d,p,v,r,a,o)}function KR(n,e){return _.lessThan(n,e)?e:n}function mD(){return _.add(RT(),m3)}function pD(n,e){if(_.lessThan(e,zc))return pD(n,zc);const t=_.add(e,JC),r=KR(mD(),t);let a=KR(zc,e);const o=ro(n,a);let l=a,c=o;for(;o===c&&_.lessThan(_.BigInt(a),r);){if(l=_.add(a,eD),_.greaterThan(l,Jc))return null;c=ro(n,l),o===c&&(a=l)}return o===c?null:DD(f=>ro(n,f),a,l,o,c)}function u_(n,e){const t=mD(),r=_.greaterThan(e,t),a=r?_.subtract(e,JC):zc;if(n==="Africa/Casablanca"||n==="Africa/El_Aaiun"){const d=y(Pa("2088-01-01T00Z"),ze);if(_.lessThan(d,e))return u_(n,d)}let o=_.subtract(e,yh);if(_.lessThan(o,zc))return null;const l=ro(n,o);let c=o,f=l;for(;l===f&&_.greaterThan(o,a);){if(c=_.subtract(o,eD),_.lessThan(c,zc))return null;f=ro(n,c),l===f&&(o=c)}if(l===f){if(r){const d=_.subtract(t,Ts);return u_(n,d)}return null}return DD(d=>ro(n,d),c,o,f,l)}function pl(n){return n===void 0?!1:n%4==0&&(n%100!=0||n%400==0)}function io(n,e){return{standard:[31,28,31,30,31,30,31,31,30,31,30,31],leapyear:[31,29,31,30,31,30,31,31,30,31,30,31]}[pl(n)?"leapyear":"standard"][e-1]}function c_(n,e,t){const r=e+(e<3?10:-2),a=n-(e<3?1:0),o=Ci(a/100),l=a-100*o,c=(t+Ci(2.6*r-.2)+(l+Ci(l/4))+(Ci(o/4)-2*o))%7;return c+(c<=0?7:0)}function og(n,e,t){let r=t;for(let a=e-1;a>0;a--)r+=io(n,a);return r}function ZR(n,e,t){const r=og(n,e,t),a=c_(n,e,t)||7,o=c_(n,1,1),l=Ci((r-a+10)/7);return l<1?o===5||o===6&&pl(n-1)?{week:53,year:n-1}:{week:52,year:n-1}:l===53&&(pl(n)?366:365)-r<4-a?{week:1,year:n+1}:{week:l,year:n}}function ms(n,e,t,r,a,o,l,c,f,d){for(const p of[n,e,t,r,a,o,l,c,f,d])if(p!==0)return p<0?-1:1;return 0}function Mp(n,e){let t=n,r=e;if(!Jr(t)||!Jr(r))throw new RangeError("infinity is out of range");return r-=1,t+=Ci(r/12),r%=12,r<0&&(r+=12),r+=1,{year:t,month:r}}function Jg(n,e,t){let r=n,a=e,o=t;if(!Jr(o))throw new RangeError("infinity is out of range");({year:r,month:a}=Mp(r,a));const l=146097;if(nn(o)>l){const d=mu(o/l);r+=400*d,o-=d*l}let c=0,f=a>2?r:r-1;for(;c=pl(f)?366:365,o<-c;)r-=1,f-=1,o+=c;for(f+=1;c=pl(f)?366:365,o>c;)r+=1,f+=1,o-=c;for(;o<1;)({year:r,month:a}=Mp(r,a-1)),o+=io(r,a);for(;o>io(r,a);)o-=io(r,a),{year:r,month:a}=Mp(r,a+1);return{year:r,month:a,day:o}}function gT(n,e,t,r,a,o,l,c,f){const{deltaDays:d,hour:p,minute:v,second:w,millisecond:E,microsecond:R,nanosecond:S}=Ws(r,a,o,l,c,f),{year:D,month:N,day:M}=Jg(n,e,t+d);return{year:D,month:N,day:M,hour:p,minute:v,second:w,millisecond:E,microsecond:R,nanosecond:S}}function Ws(n,e,t,r,a,o){let l,c=_.BigInt(n),f=_.BigInt(e),d=_.BigInt(t),p=_.BigInt(r),v=_.BigInt(a),w=_.BigInt(o);return{quotient:l,remainder:w}=lu(w,Rt),v=_.add(v,l),{quotient:l,remainder:v}=lu(v,Rt),p=_.add(p,l),{quotient:l,remainder:p}=lu(p,Rt),d=_.add(d,l),{quotient:l,remainder:d}=lu(d,fs),f=_.add(f,l),{quotient:l,remainder:f}=lu(f,fs),c=_.add(c,l),{quotient:l,remainder:c}=lu(c,ZC),{deltaDays:_.toNumber(l),hour:_.toNumber(c),minute:_.toNumber(f),second:_.toNumber(d),millisecond:_.toNumber(p),microsecond:_.toNumber(v),nanosecond:_.toNumber(w)}}function ih(n,e,t,r,a,o,l,c){const f=_.BigInt(n);let d=_.BigInt(l);n!==0&&(d=_.subtract(_.BigInt(l),_.BigInt(c)));const p=_.add(_.BigInt(e),_.multiply(f,_.BigInt(24))),v=_.add(_.BigInt(t),_.multiply(p,fs)),w=_.add(_.BigInt(r),_.multiply(v,fs)),E=_.add(_.BigInt(a),_.multiply(w,Rt)),R=_.add(_.BigInt(o),_.multiply(E,Rt));return _.add(_.BigInt(d),_.multiply(R,Rt))}function yT(n,e){const t=ye("%Temporal.Instant%"),r=Wc(_.toNumber(n));let a=_.BigInt(n),o=864e11;if(r===0)return{days:0,nanoseconds:Sn,dayLengthNs:o};if(!Ne(e)){let L;return{quotient:L,remainder:a}=kn(a,_.BigInt(o)),{days:_.toNumber(L),nanoseconds:a,dayLengthNs:o}}const l=y(e,ze),c=y(e,Lr),f=_.add(l,a),d=new t(f),p=y(e,xt),v=y(e,W),w=Ui(p,c,v),E=Ui(p,d,v);let{days:R}=wT(y(w,Re),y(w,Se),y(w,De),y(w,We),y(w,Je),y(w,et),y(w,tt),y(w,nt),y(w,rt),y(E,Re),y(E,Se),y(E,De),y(E,We),y(E,Je),y(E,et),y(E,tt),y(E,nt),y(E,rt),v,"day",Ur(null)),S=Wi(c,p,v,0,0,0,R,0,0,0,0,0,0),D=_.BigInt(R);if(r===1)for(;_.greaterThan(D,Sn)&&_.greaterThan(S,f);)D=_.subtract(D,yh),S=Wi(c,p,v,0,0,0,_.toNumber(D),0,0,0,0,0,0);a=_.subtract(f,S);let N=!1,M=new t(S);do{const L=Wi(M,p,v,0,0,0,r,0,0,0,0,0,0),$=y(M,ze);o=_.toNumber(_.subtract(L,$)),N=_.greaterThanOrEqual(_.multiply(_.subtract(a,_.BigInt(o)),_.BigInt(r)),Sn),N&&(a=_.subtract(a,_.BigInt(o)),M=new t(L),D=_.add(D,_.BigInt(r)))}while(N);if(!Qi(D)&&LR(D)!==r)throw new RangeError("Time zone or calendar converted nanoseconds into a number of days with the opposite sign");if(!Qi(a)&&LR(a)!==r)throw eg(a)&&r===1?new Error("assert not reached"):new RangeError("Time zone or calendar ended up with a remainder of nanoseconds with the opposite sign");if(_.greaterThanOrEqual(ka(a),ka(_.BigInt(o))))throw new Error("assert not reached");return{days:_.toNumber(D),nanoseconds:a,dayLengthNs:nn(o)}}function ba(n,e,t,r,a,o,l,c,f){let d=gD(n,e,t,r,a,o,l,c,f);if(d==="positive overflow"||d==="negative overflow")throw new RangeError("Duration out of range");return d}function gD(n,e,t,r,a,o,l,c,f){let d,p,v,w,E,R,S=n;if(Ne(f)){const x=Wi(y(f,Lr),y(f,xt),y(f,W),0,0,0,S,e,t,r,a,o,l),I=y(f,ze);d=_.subtract(x,I)}else d=ih(S,e,t,r,a,o,l,0);c==="year"||c==="month"||c==="week"||c==="day"?{days:S,nanoseconds:d}=yT(d,f):S=0;const D=_.lessThan(d,Sn)?-1:1;switch(d=ka(d),p=v=w=E=R=Sn,c){case"year":case"month":case"week":case"day":case"hour":({quotient:p,remainder:d}=kn(d,Rt)),{quotient:v,remainder:p}=kn(p,Rt),{quotient:w,remainder:v}=kn(v,Rt),{quotient:E,remainder:w}=kn(w,fs),{quotient:R,remainder:E}=kn(E,fs);break;case"minute":({quotient:p,remainder:d}=kn(d,Rt)),{quotient:v,remainder:p}=kn(p,Rt),{quotient:w,remainder:v}=kn(v,Rt),{quotient:E,remainder:w}=kn(w,fs);break;case"second":({quotient:p,remainder:d}=kn(d,Rt)),{quotient:v,remainder:p}=kn(p,Rt),{quotient:w,remainder:v}=kn(v,Rt);break;case"millisecond":({quotient:p,remainder:d}=kn(d,Rt)),{quotient:v,remainder:p}=kn(p,Rt);break;case"microsecond":({quotient:p,remainder:d}=kn(d,Rt));break;case"nanosecond":break;default:throw new Error("assert not reached")}const N=_.toNumber(R)*D,M=_.toNumber(E)*D,L=_.toNumber(w)*D,$=_.toNumber(v)*D,P=_.toNumber(p)*D,H=_.toNumber(d)*D;for(const x of[S,N,M,L,$,P,H])if(!Jr(x))return D===1?"positive overflow":"negative overflow";return{days:S,hours:N,minutes:M,seconds:L,milliseconds:$,microseconds:P,nanoseconds:H}}function gp(n,e,t,r,a,o){const l=ye("%Temporal.Duration%"),c=ms(n,e,t,r,0,0,0,0,0,0);if(c===0)return{years:n,months:e,weeks:t,days:r};const f=_.BigInt(c);let d,p,v=_.BigInt(n),w=_.BigInt(e),E=_.BigInt(t),R=_.BigInt(r);o&&(p=zt(o),d=y(p,W));const S=new l(c),D=new l(0,c),N=new l(0,0,c);switch(a){case"year":break;case"month":{if(!d)throw new RangeError("a starting point is required for months balancing");let M,L;for(typeof d!="string"&&(M=Ct(d,"dateAdd"),L=Ct(d,"dateUntil"));!Qi(v);){const $=Tr(d,p,S,void 0,M),P=Ur(null);P.largestUnit="month";const H=fl(d,p,$,P,L),x=_.BigInt(y(H,hr));p=$,w=_.add(w,x),v=_.subtract(v,f)}}break;case"week":{if(!d)throw new RangeError("a starting point is required for weeks balancing");const M=typeof d!="string"?Ct(d,"dateAdd"):void 0;for(;!Qi(v);){let L;({relativeTo:p,days:L}=Pr(d,p,S,M)),R=_.add(R,_.BigInt(L)),v=_.subtract(v,f)}for(;!Qi(w);){let L;({relativeTo:p,days:L}=Pr(d,p,D,M)),R=_.add(R,_.BigInt(L)),w=_.subtract(w,f)}break}default:{if(Qi(v)&&Qi(w)&&Qi(E))break;if(!d)throw new RangeError("a starting point is required for balancing calendar units");const M=typeof d!="string"?Ct(d,"dateAdd"):void 0;for(;!Qi(v);){let L;({relativeTo:p,days:L}=Pr(d,p,S,M)),R=_.add(R,_.BigInt(L)),v=_.subtract(v,f)}for(;!Qi(w);){let L;({relativeTo:p,days:L}=Pr(d,p,D,M)),R=_.add(R,_.BigInt(L)),w=_.subtract(w,f)}for(;!Qi(E);){let L;({relativeTo:p,days:L}=Pr(d,p,N,M)),R=_.add(R,_.BigInt(L)),E=_.subtract(E,f)}break}}return{years:_.toNumber(v),months:_.toNumber(w),weeks:_.toNumber(E),days:_.toNumber(R)}}function XR(n,e,t,r,a){if(Ne(n)){const o=y(n,Lr),l=y(n,xt),c=y(n,W),f=Ua(l,o),d=Wi(o,l,c,e,t,r,a,0,0,0,0,0,0);return Ua(l,new(ye("%Temporal.Instant%"))(d))-f}return 0}function yD(n){return new(ye("%Temporal.Duration%"))(-y(n,qr),-y(n,hr),-y(n,ui),-y(n,Hr),-y(n,Yr),-y(n,Gr),-y(n,Qr),-y(n,Kr),-y(n,Zr),-y(n,Xr))}function Si(n,e,t){return o3(t,l3(e,n))}function vD(n,e,t){const r=Si(e,1,12);return{year:n,month:r,day:Si(t,1,io(n,r))}}function wr(n,e,t){if(n<e||n>t)throw new RangeError(`value out of range: ${e} <= ${n} <= ${t}`)}function ws(n,e,t){wr(e,1,12),wr(t,1,io(n,e))}function _D(n,e,t){TD(n,e,t,12,0,0,0,0,0)}function ey(n,e,t,r,a,o){wr(n,0,23),wr(e,0,59),wr(t,0,59),wr(r,0,999),wr(a,0,999),wr(o,0,999)}function vT(n,e,t,r,a,o,l,c,f){ws(n,e,t),ey(r,a,o,l,c,f)}function TD(n,e,t,r,a,o,l,c,f){if(wr(n,Wp,Jp),n===Wp&&ml(n,e,t+1,r,a,o,l,c,f-1)==null||n===Jp&&ml(n,e,t-1,r,a,o,l,c,f+1)==null)throw new RangeError("DateTime outside of supported range")}function hu(n){if(_.lessThan(n,sd)||_.greaterThan(n,Jc))throw new RangeError("Instant outside of supported range")}function lg(n,e,t,r,a,o,l,c,f,d){const p=ms(n,e,t,r,a,o,l,c,f,d);for(const v of[n,e,t,r,a,o,l,c,f,d]){if(!Jr(v))throw new RangeError("infinite values not allowed as duration fields");const w=Wc(v);if(w!==0&&w!==p)throw new RangeError("mixed-sign values not allowed as duration fields")}}function _T(n,e,t,r,a,o,l){switch(l){case"year":case"month":{const c=-el(n,e,t,r,a,o);if(c===0)return{years:0,months:0,weeks:0,days:0};const f={year:n,month:e},d={year:r,month:a,day:o};let p=d.year-f.year,v=vu(n,e,t,p,0,0,0,"constrain"),w=-el(v.year,v.month,v.day,r,a,o);if(w===0)return l==="year"?{years:p,months:0,weeks:0,days:0}:{years:0,months:12*p,weeks:0,days:0};let E=d.month-f.month;if(w!==c&&(p-=c,E+=12*c),v=vu(n,e,t,p,E,0,0,"constrain"),w=-el(v.year,v.month,v.day,r,a,o),w===0)return l==="year"?{years:p,months:E,weeks:0,days:0}:{years:0,months:E+12*p,weeks:0,days:0};w!==c&&(E-=c,E===-c&&(p-=c,E=11*c),v=vu(n,e,t,p,E,0,0,"constrain"));let R=0;return R=v.month===d.month?d.day-v.day:c<0?-v.day-(io(d.year,d.month)-d.day):d.day+(io(v.year,v.month)-v.day),l==="month"&&(E+=12*p,p=0),{years:p,months:E,weeks:0,days:R}}case"week":case"day":{let c,f,d;el(n,e,t,r,a,o)<0?(f={year:n,month:e,day:t},c={year:r,month:a,day:o},d=1):(f={year:r,month:a,day:o},c={year:n,month:e,day:t},d=-1);let p=og(c.year,c.month,c.day)-og(f.year,f.month,f.day);for(let w=f.year;w<c.year;++w)p+=pl(w)?366:365;let v=0;return l==="week"&&(v=Ci(p/7),p%=7),v*=d,p*=d,{years:0,months:0,weeks:v,days:p}}default:throw new Error("assert not reached")}}function wD(n,e,t,r,a,o,l,c,f,d,p,v){let w=l-n,E=c-e,R=f-t,S=d-r,D=p-a,N=v-o;const M=ms(0,0,0,0,w,E,R,S,D,N);w*=M,E*=M,R*=M,S*=M,D*=M,N*=M;let L=0;if({deltaDays:L,hour:w,minute:E,second:R,millisecond:S,microsecond:D,nanosecond:N}=Ws(w,E,R,S,D,N),L!=0)throw new Error("assertion failure in DifferenceTime: _bt_.[[Days]] should be 0");return w*=M,E*=M,R*=M,S*=M,D*=M,N*=M,{hours:w,minutes:E,seconds:R,milliseconds:S,microseconds:D,nanoseconds:N}}function TT(n,e,t,r,a,o){const l=_.subtract(e,n);let c=0,f=0,d=_.toNumber(_.remainder(l,Rt)),p=_.toNumber(_.remainder(_.divide(l,Rt),Rt)),v=_.toNumber(_.remainder(_.divide(l,Zi),Rt)),w=_.toNumber(_.divide(l,ds));return{hours:c,minutes:f,seconds:w,milliseconds:v,microseconds:p,nanoseconds:d}=lo(0,0,0,0,0,0,w,v,p,d,t,r,o),ba(0,c,f,w,v,p,d,a)}function wT(n,e,t,r,a,o,l,c,f,d,p,v,w,E,R,S,D,N,M,L,$){let P=n,H=e,x=t,{hours:I,minutes:O,seconds:z,milliseconds:B,microseconds:q,nanoseconds:U}=wD(r,a,o,l,c,f,w,E,R,S,D,N);const we=ms(0,0,0,0,I,O,z,B,q,U);el(d,p,v,P,H,x)===-we&&({year:P,month:H,day:x}=Jg(P,H,x-we),{hours:I,minutes:O,seconds:z,milliseconds:B,microseconds:q,nanoseconds:U}=ba(-we,I,O,z,B,q,U,L));const ie=Ji(P,H,x,M),te=Ji(d,p,v,M),he=Ru("day",L),pe=Sl($);pe.largestUnit=he;let{years:le,months:F,weeks:ae,days:Te}=fl(M,ie,te,pe);return{days:Te,hours:I,minutes:O,seconds:z,milliseconds:B,microseconds:q,nanoseconds:U}=ba(Te,I,O,z,B,q,U,L),{years:le,months:F,weeks:ae,days:Te,hours:I,minutes:O,seconds:z,milliseconds:B,microseconds:q,nanoseconds:U}}function ED(n,e,t,r,a,o){const l=_.subtract(e,n);if(_.equal(l,Sn))return{years:0,months:0,weeks:0,days:0,hours:0,minutes:0,seconds:0,milliseconds:0,microseconds:0,nanoseconds:0};const c=ye("%Temporal.Instant%"),f=new c(n),d=new c(e),p=Ui(t,f,r),v=Ui(t,d,r);let{years:w,months:E,weeks:R,days:S}=wT(y(p,Re),y(p,Se),y(p,De),y(p,We),y(p,Je),y(p,et),y(p,tt),y(p,nt),y(p,rt),y(v,Re),y(v,Se),y(v,De),y(v,We),y(v,Je),y(v,et),y(v,tt),y(v,nt),y(v,rt),r,a,o);const D=Wi(f,t,r,w,E,R,0,0,0,0,0,0,0);let N=_.subtract(e,D);const M=_r(D,t,r);({nanoseconds:N,days:S}=yT(N,M));const{hours:L,minutes:$,seconds:P,milliseconds:H,microseconds:x,nanoseconds:I}=ba(0,0,0,0,0,0,_.toNumber(N),"hour");return{years:w,months:E,weeks:R,days:S,hours:L,minutes:$,seconds:P,milliseconds:H,microseconds:x,nanoseconds:I}}function Eh(n,e,t,r,a,o){const l=Dd.reduce((E,R)=>{const S=R[0],D=R[1],N=R[2];return t!=="datetime"&&N!==t||r.includes(D)||E.push(D,S),E},[]);let c=Di(e,"largestUnit",t,"auto");if(r.includes(c))throw new RangeError(`largestUnit must be one of ${l.join(", ")}, not ${c}`);const f=_h(e);let d=Va(e,"trunc");n==="since"&&(d=function(R){switch(R){case"ceil":return"floor";case"floor":return"ceil";case"halfCeil":return"halfFloor";case"halfFloor":return"halfCeil";default:return R}}(d));const p=Di(e,"smallestUnit",t,a);if(r.includes(p))throw new RangeError(`smallestUnit must be one of ${l.join(", ")}, not ${p}`);const v=Ru(o,p);if(c==="auto"&&(c=v),Ru(c,p)!==c)throw new RangeError(`largestUnit ${c} cannot be smaller than smallestUnit ${p}`);const w={hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[p];return w!==void 0&&Th(f,w,!1),{largestUnit:c,roundingIncrement:f,roundingMode:d,smallestUnit:p}}function WR(n,e,t,r){const a=n==="since"?-1:1,o=Pa(t),l=Eh(n,Sl(r),"time",[],"nanosecond","second"),c=y(e,ze),f=y(o,ze);let{hours:d,minutes:p,seconds:v,milliseconds:w,microseconds:E,nanoseconds:R}=TT(c,f,l.roundingIncrement,l.smallestUnit,l.largestUnit,l.roundingMode);return new(ye("%Temporal.Duration%"))(0,0,0,0,a*d,a*p,a*v,a*w,a*E,a*R)}function JR(n,e,t,r){const a=n==="since"?-1:1,o=zt(t),l=y(e,W);Zg(l,y(o,W),"compute difference between dates");const c=Sl(r),f=Eh(n,c,"date",[],"day","day");c.largestUnit=f.largestUnit;let{years:d,months:p,weeks:v,days:w}=fl(l,e,o,c);return f.smallestUnit==="day"&&f.roundingIncrement===1||({years:d,months:p,weeks:v,days:w}=lo(d,p,v,w,0,0,0,0,0,0,f.roundingIncrement,f.smallestUnit,f.roundingMode,e)),new(ye("%Temporal.Duration%"))(a*d,a*p,a*v,a*w,0,0,0,0,0,0)}function eS(n,e,t,r){const a=n==="since"?-1:1,o=pu(t),l=y(e,W);Zg(l,y(o,W),"compute difference between dates");const c=Sl(r),f=Eh(n,c,"datetime",[],"nanosecond","day");let{years:d,months:p,weeks:v,days:w,hours:E,minutes:R,seconds:S,milliseconds:D,microseconds:N,nanoseconds:M}=wT(y(e,Re),y(e,Se),y(e,De),y(e,We),y(e,Je),y(e,et),y(e,tt),y(e,nt),y(e,rt),y(o,Re),y(o,Se),y(o,De),y(o,We),y(o,Je),y(o,et),y(o,tt),y(o,nt),y(o,rt),l,f.largestUnit,c);const L=rh(e);return{years:d,months:p,weeks:v,days:w,hours:E,minutes:R,seconds:S,milliseconds:D,microseconds:N,nanoseconds:M}=lo(d,p,v,w,E,R,S,D,N,M,f.roundingIncrement,f.smallestUnit,f.roundingMode,L),{days:w,hours:E,minutes:R,seconds:S,milliseconds:D,microseconds:N,nanoseconds:M}=ba(w,E,R,S,D,N,M,f.largestUnit),new(ye("%Temporal.Duration%"))(a*d,a*p,a*v,a*w,a*E,a*R,a*S,a*D,a*N,a*M)}function tS(n,e,t,r){const a=n==="since"?-1:1,o=Js(t),l=Eh(n,Sl(r),"time",[],"nanosecond","hour");let{hours:c,minutes:f,seconds:d,milliseconds:p,microseconds:v,nanoseconds:w}=wD(y(e,We),y(e,Je),y(e,et),y(e,tt),y(e,nt),y(e,rt),y(o,We),y(o,Je),y(o,et),y(o,tt),y(o,nt),y(o,rt));return{hours:c,minutes:f,seconds:d,milliseconds:p,microseconds:v,nanoseconds:w}=lo(0,0,0,0,c,f,d,p,v,w,l.roundingIncrement,l.smallestUnit,l.roundingMode),{hours:c,minutes:f,seconds:d,milliseconds:p,microseconds:v,nanoseconds:w}=ba(0,c,f,d,p,v,w,l.largestUnit),new(ye("%Temporal.Duration%"))(0,0,0,0,a*c,a*f,a*d,a*p,a*v,a*w)}function nS(n,e,t,r){const a=n==="since"?-1:1,o=Bf(t),l=y(e,W);Zg(l,y(o,W),"compute difference between months");const c=Sl(r),f=Eh(n,c,"date",["week","day"],"month","year");c.largestUnit=f.largestUnit;const d=jn(l,["monthCode","year"]),p=ot(e,d,[]);p.day=1;const v=oo(l,p),w=ot(o,d,[]);w.day=1;const E=oo(l,w);let{years:R,months:S}=fl(l,v,E,c);return f.smallestUnit==="month"&&f.roundingIncrement===1||({years:R,months:S}=lo(R,S,0,0,0,0,0,0,0,0,f.roundingIncrement,f.smallestUnit,f.roundingMode,v)),new(ye("%Temporal.Duration%"))(a*R,a*S,0,0,0,0,0,0,0,0)}function rS(n,e,t,r){const a=n==="since"?-1:1,o=jf(t),l=y(e,W);Zg(l,y(o,W),"compute difference between dates");const c=Sl(r),f=Eh(n,c,"datetime",[],"nanosecond","hour");c.largestUnit=f.largestUnit;const d=y(e,ze),p=y(o,ze);let v,w,E,R,S,D,N,M,L,$;if(f.largestUnit!=="year"&&f.largestUnit!=="month"&&f.largestUnit!=="week"&&f.largestUnit!=="day")v=0,w=0,E=0,R=0,{hours:S,minutes:D,seconds:N,milliseconds:M,microseconds:L,nanoseconds:$}=TT(d,p,f.roundingIncrement,f.smallestUnit,f.largestUnit,f.roundingMode);else{const P=y(e,xt);if(!uD(P,y(o,xt)))throw new RangeError("When calculating difference between time zones, largestUnit must be 'hours' or smaller because day lengths can vary between time zones due to DST or time zone offset changes.");({years:v,months:w,weeks:E,days:R,hours:S,minutes:D,seconds:N,milliseconds:M,microseconds:L,nanoseconds:$}=ED(d,p,P,l,f.largestUnit,c)),{years:v,months:w,weeks:E,days:R,hours:S,minutes:D,seconds:N,milliseconds:M,microseconds:L,nanoseconds:$}=lo(v,w,E,R,S,D,N,M,L,$,f.roundingIncrement,f.smallestUnit,f.roundingMode,e),{years:v,months:w,weeks:E,days:R,hours:S,minutes:D,seconds:N,milliseconds:M,microseconds:L,nanoseconds:$}=AD(v,w,E,R,S,D,N,M,L,$,f.roundingIncrement,f.smallestUnit,f.roundingMode,e)}return new(ye("%Temporal.Duration%"))(a*v,a*w,a*E,a*R,a*S,a*D,a*N,a*M,a*L,a*$)}function vu(n,e,t,r,a,o,l,c){let f=n,d=e,p=t,v=o,w=l;return f+=r,d+=a,{year:f,month:d}=Mp(f,d),{year:f,month:d,day:p}=ng(f,d,p,c),w+=7*v,p+=w,{year:f,month:d,day:p}=Jg(f,d,p),{year:f,month:d,day:p}}function bD(n,e,t,r,a,o,l,c,f,d,p,v){let w=n,E=e,R=t,S=r,D=a,N=o;w+=l,E+=c,R+=f,S+=d,D+=p,N+=v;let M=0;return{deltaDays:M,hour:w,minute:E,second:R,millisecond:S,microsecond:D,nanosecond:N}=Ws(w,E,R,S,D,N),{deltaDays:M,hour:w,minute:E,second:R,millisecond:S,microsecond:D,nanosecond:N}}function RD(n,e,t,r,a,o,l,c,f,d,p,v,w,E,R,S,D,N,M,L,$){const P=Ru(o_(n,e,t,r,a,o,l,c,f,d),o_(p,v,w,E,R,S,D,N,M,L));let H,x,I,O,z,B,q,U,we,ie;if($)if(ht($)){const te=ye("%Temporal.Duration%"),he=y($,W),pe=new te(n,e,t,r,0,0,0,0,0,0),le=new te(p,v,w,E,0,0,0,0,0,0),F=typeof he!="string"?Ct(he,"dateAdd"):void 0,ae=Tr(he,$,pe,void 0,F),Te=Tr(he,ae,le,void 0,F),_e=Ru("day",P),ve=Ur(null);ve.largestUnit=_e,{years:H,months:x,weeks:I,days:O}=fl(he,$,Te,ve),{days:O,hours:z,minutes:B,seconds:q,milliseconds:U,microseconds:we,nanoseconds:ie}=ba(O,_.add(_.BigInt(a),_.BigInt(R)),_.add(_.BigInt(o),_.BigInt(S)),_.add(_.BigInt(l),_.BigInt(D)),_.add(_.BigInt(c),_.BigInt(N)),_.add(_.BigInt(f),_.BigInt(M)),_.add(_.BigInt(d),_.BigInt(L)),P)}else{const te=ye("%Temporal.Instant%"),he=y($,xt),pe=y($,W),le=Wi(y($,Lr),he,pe,n,e,t,r,a,o,l,c,f,d),F=Wi(new te(le),he,pe,p,v,w,E,R,S,D,N,M,L);P!=="year"&&P!=="month"&&P!=="week"&&P!=="day"?(H=0,x=0,I=0,O=0,{hours:z,minutes:B,seconds:q,milliseconds:U,microseconds:we,nanoseconds:ie}=TT(y($,ze),F,1,"nanosecond",P,"halfExpand")):{years:H,months:x,weeks:I,days:O,hours:z,minutes:B,seconds:q,milliseconds:U,microseconds:we,nanoseconds:ie}=ED(y($,ze),F,he,pe,P,Ur(null))}else{if(P==="year"||P==="month"||P==="week")throw new RangeError("relativeTo is required for years, months, or weeks arithmetic");H=x=I=0,{days:O,hours:z,minutes:B,seconds:q,milliseconds:U,microseconds:we,nanoseconds:ie}=ba(r+E,_.add(_.BigInt(a),_.BigInt(R)),_.add(_.BigInt(o),_.BigInt(S)),_.add(_.BigInt(l),_.BigInt(D)),_.add(_.BigInt(c),_.BigInt(N)),_.add(_.BigInt(f),_.BigInt(M)),_.add(_.BigInt(d),_.BigInt(L)),P)}return lg(H,x,I,O,z,B,q,U,we,ie),{years:H,months:x,weeks:I,days:O,hours:z,minutes:B,seconds:q,milliseconds:U,microseconds:we,nanoseconds:ie}}function h_(n,e,t,r,a,o,l){let c=Sn;c=_.add(c,_.BigInt(l)),c=_.add(c,_.multiply(_.BigInt(o),Rt)),c=_.add(c,_.multiply(_.BigInt(a),Zi)),c=_.add(c,_.multiply(_.BigInt(r),ds)),c=_.add(c,_.multiply(_.BigInt(t),_.BigInt(6e10))),c=_.add(c,_.multiply(_.BigInt(e),_.BigInt(36e11)));const f=_.add(n,c);return hu(f),f}function f_(n,e,t,r,a,o,l,c,f,d,p,v,w,E,R,S,D,N,M,L,$){let P=E,{deltaDays:H,hour:x,minute:I,second:O,millisecond:z,microsecond:B,nanosecond:q}=bD(r,a,o,l,c,f,R,S,D,N,M,L);P+=H;const U=ye("%Temporal.Duration%"),we=Tr(d,Ji(n,e,t,d),new U(p,v,w,P,0,0,0,0,0,0),$);return{year:y(we,Re),month:y(we,Se),day:y(we,De),hour:x,minute:I,second:O,millisecond:z,microsecond:B,nanosecond:q}}function Wi(n,e,t,r,a,o,l,c,f,d,p,v,w,E){const R=ye("%Temporal.Duration%");if(ms(r,a,o,l,0,0,0,0,0,0)===0)return h_(y(n,ze),c,f,d,p,v,w);const S=Ui(e,n,t),D=Tr(t,Ji(y(S,Re),y(S,Se),y(S,De),t),new R(r,a,o,l,0,0,0,0,0,0),E),N=Ri(y(D,Re),y(D,Se),y(D,De),y(S,We),y(S,Je),y(S,et),y(S,tt),y(S,nt),y(S,rt),t);return h_(y(ei(e,N,"compatible"),ze),c,f,d,p,v,w)}function iS(n,e,t,r){const a=n==="subtract"?-1:1;let{years:o,months:l,weeks:c,days:f,hours:d,minutes:p,seconds:v,milliseconds:w,microseconds:E,nanoseconds:R}=Pu(t);const S=Np(gt(r));return{years:o,months:l,weeks:c,days:f,hours:d,minutes:p,seconds:v,milliseconds:w,microseconds:E,nanoseconds:R}=RD(y(e,qr),y(e,hr),y(e,ui),y(e,Hr),y(e,Yr),y(e,Gr),y(e,Qr),y(e,Kr),y(e,Zr),y(e,Xr),a*o,a*l,a*c,a*f,a*d,a*p,a*v,a*w,a*E,a*R,S),new(ye("%Temporal.Duration%"))(o,l,c,f,d,p,v,w,E,R)}function aS(n,e,t){const r=n==="subtract"?-1:1,{hours:a,minutes:o,seconds:l,milliseconds:c,microseconds:f,nanoseconds:d}=function(w,E){let R=Pu(w);for(const S of E)if(R[S]!==0)throw new RangeError(`Duration field ${S} not supported by Temporal.Instant. Try Temporal.ZonedDateTime instead.`);return R}(t,["years","months","weeks","days"]),p=h_(y(e,ze),r*a,r*o,r*l,r*c,r*f,r*d);return new(ye("%Temporal.Instant%"))(p)}function sS(n,e,t,r){const a=n==="subtract"?-1:1,{years:o,months:l,weeks:c,days:f,hours:d,minutes:p,seconds:v,milliseconds:w,microseconds:E,nanoseconds:R}=Pu(t),S=gt(r),D=y(e,W),{year:N,month:M,day:L,hour:$,minute:P,second:H,millisecond:x,microsecond:I,nanosecond:O}=f_(y(e,Re),y(e,Se),y(e,De),y(e,We),y(e,Je),y(e,et),y(e,tt),y(e,nt),y(e,rt),D,a*o,a*l,a*c,a*f,a*d,a*p,a*v,a*w,a*E,a*R,S);return Ri(N,M,L,$,P,H,x,I,O,D)}function oS(n,e,t){const r=n==="subtract"?-1:1,{hours:a,minutes:o,seconds:l,milliseconds:c,microseconds:f,nanoseconds:d}=Pu(t);let{hour:p,minute:v,second:w,millisecond:E,microsecond:R,nanosecond:S}=bD(y(e,We),y(e,Je),y(e,et),y(e,tt),y(e,nt),y(e,rt),r*a,r*o,r*l,r*c,r*f,r*d);return{hour:p,minute:v,second:w,millisecond:E,microsecond:R,nanosecond:S}=jg(p,v,w,E,R,S,"reject"),new(ye("%Temporal.PlainTime%"))(p,v,w,E,R,S)}function lS(n,e,t,r){let a=Pu(t);n==="subtract"&&(a={years:-a.years,months:-a.months,weeks:-a.weeks,days:-a.days,hours:-a.hours,minutes:-a.minutes,seconds:-a.seconds,milliseconds:-a.milliseconds,microseconds:-a.microseconds,nanoseconds:-a.nanoseconds});let{years:o,months:l,weeks:c,days:f,hours:d,minutes:p,seconds:v,milliseconds:w,microseconds:E,nanoseconds:R}=a;({days:f}=ba(f,d,p,v,w,E,R,"day"));const S=gt(r),D=y(e,W),N=jn(D,["monthCode","year"]),M=ot(e,N,[]),L=Ur(null);Bc(L,M,[]),M.day=1;let $=oo(D,M);const P=ms(o,l,c,f,0,0,0,0,0,0),H=Ct(D,"dateAdd"),x=ye("%Temporal.Duration%");if(P<0){const z=Tr(D,$,new x(0,1,0,0,0,0,0,0,0,0),void 0,H),B=Tr(D,z,new x(0,0,0,-1,0,0,0,0,0,0),void 0,H);L.day=kd(D,B),$=oo(D,L)}const I=new x(o,l,c,f,0,0,0,0,0,0),O=Sl(S);return Au(D,ot(Tr(D,$,I,S,H),N,[]),O)}function uS(n,e,t,r){const a=n==="subtract"?-1:1,{years:o,months:l,weeks:c,days:f,hours:d,minutes:p,seconds:v,milliseconds:w,microseconds:E,nanoseconds:R}=Pu(t),S=gt(r),D=y(e,xt),N=y(e,W);return _r(Wi(y(e,Lr),D,N,a*o,a*l,a*c,a*f,a*d,a*p,a*v,a*w,a*E,a*R,S),D,N)}function xi(n,e,t){if(_.equal(e,yh))return n;let{quotient:r,remainder:a}=kn(n,e);if(_.equal(a,Sn))return n;const o=_.lessThan(a,Sn)?-1:1,l=ka(_.multiply(a,_.BigInt(2))),c=_.equal(l,e),f=_.greaterThan(l,e);switch(t){case"ceil":o>0&&(r=_.add(r,_.BigInt(o)));break;case"floor":o<0&&(r=_.add(r,_.BigInt(o)));break;case"expand":r=_.add(r,_.BigInt(o));break;case"trunc":break;case"halfCeil":(f||c&&o>0)&&(r=_.add(r,_.BigInt(o)));break;case"halfFloor":(f||c&&o<0)&&(r=_.add(r,_.BigInt(o)));break;case"halfExpand":(f||c)&&(r=_.add(r,_.BigInt(o)));break;case"halfTrunc":f&&(r=_.add(r,_.BigInt(o)));break;case"halfEven":(f||c&&_.toNumber(_.remainder(ka(r),_.BigInt(2)))===1)&&(r=_.add(r,_.BigInt(o)))}return _.multiply(r,e)}function ug(n,e,t,r){let{remainder:a}=lu(n,Ts);const o=_.subtract(n,a),l=xi(a,_.BigInt(ID[t]*e),r);return _.add(o,l)}function ET(n,e,t,r,a,o,l,c,f,d,p,v,w=864e11){const{deltaDays:E,hour:R,minute:S,second:D,millisecond:N,microsecond:M,nanosecond:L}=bT(r,a,o,l,c,f,d,p,v,w),{year:$,month:P,day:H}=Jg(n,e,t+E);return{year:$,month:P,day:H,hour:R,minute:S,second:D,millisecond:N,microsecond:M,nanosecond:L}}function bT(n,e,t,r,a,o,l,c,f,d=864e11){let p=Sn;switch(c){case"day":case"hour":p=_.BigInt(n);case"minute":p=_.add(_.multiply(p,fs),_.BigInt(e));case"second":p=_.add(_.multiply(p,fs),_.BigInt(t));case"millisecond":p=_.add(_.multiply(p,Rt),_.BigInt(r));case"microsecond":p=_.add(_.multiply(p,Rt),_.BigInt(a));case"nanosecond":p=_.add(_.multiply(p,Rt),_.BigInt(o))}const v=c==="day"?d:ID[c],w=xi(p,_.BigInt(v*l),f),E=_.toNumber(_.divide(w,_.BigInt(v)));switch(c){case"day":return{deltaDays:E,hour:0,minute:0,second:0,millisecond:0,microsecond:0,nanosecond:0};case"hour":return Ws(E,0,0,0,0,0);case"minute":return Ws(n,E,0,0,0,0);case"second":return Ws(n,e,E,0,0,0);case"millisecond":return Ws(n,e,t,E,0,0);case"microsecond":return Ws(n,e,t,r,E,0);case"nanosecond":return Ws(n,e,t,r,a,E);default:throw new Error(`Invalid unit ${c}`)}}function xp(n,e){return _T(y(n,Re),y(n,Se),y(n,De),y(e,Re),y(e,Se),y(e,De),"day").days}function Pr(n,e,t,r){const a=Tr(n,e,t,void 0,r);return{relativeTo:a,days:xp(e,a)}}function SD(n,e,t,r,a){const o=y(n,xt),l=y(n,W);return _r(Wi(y(n,Lr),o,l,e,t,r,a,0,0,0,0,0,0),o,l)}function AD(n,e,t,r,a,o,l,c,f,d,p,v,w,E){let R=n,S=e,D=t,N=r,M=a,L=o,$=l,P=c,H=f,x=d;if(!Ne(E)||v==="year"||v==="month"||v==="week"||v==="day"||v==="nanosecond"&&p===1)return{years:R,months:S,weeks:D,days:N,hours:M,minutes:L,seconds:$,milliseconds:P,microseconds:H,nanoseconds:x};let I=ih(0,M,L,$,P,H,x,0);const O=Wc(_.toNumber(I)),z=y(E,xt),B=y(E,W),q=Wi(y(E,Lr),z,B,R,S,D,N,0,0,0,0,0,0),U=Wi(new(ye("%Temporal.Instant%"))(q),z,B,0,0,0,O,0,0,0,0,0,0),we=_.subtract(U,q);return _.greaterThanOrEqual(_.multiply(_.subtract(I,we),_.BigInt(O)),Sn)&&({years:R,months:S,weeks:D,days:N}=RD(R,S,D,N,0,0,0,0,0,0,0,0,0,O,0,0,0,0,0,0,E),I=ug(_.subtract(I,we),p,v,w),{hours:M,minutes:L,seconds:$,milliseconds:P,microseconds:H,nanoseconds:x}=ba(0,0,0,0,0,0,_.toNumber(I),"hour")),{years:R,months:S,weeks:D,days:N,hours:M,minutes:L,seconds:$,milliseconds:P,microseconds:H,nanoseconds:x}}function lo(n,e,t,r,a,o,l,c,f,d,p,v,w,E){let R=n,S=e,D=t,N=r,M=a,L=o,$=l,P=c,H=f,x=_.BigInt(d);const I=ye("%Temporal.Duration%");let O,z,B,q,U=E;if(U){if(Ne(U))z=U,U=zt(U);else if(!ht(U))throw new TypeError("starting point must be PlainDate or ZonedDateTime");O=y(U,W)}if(v==="year"||v==="month"||v==="week"||v==="day"){let we,ie,te;x=ih(0,M,L,$,P,H,d,0),z&&(we=SD(z,R,S,D,N)),{days:ie,nanoseconds:x,dayLengthNs:te}=yT(x,we),B=_.BigInt(te),N+=ie,M=L=$=P=H=0}switch(v){case"year":{if(!O)throw new RangeError("A starting point is required for years rounding");const we=new I(R),ie=typeof O!="string"?Ct(O,"dateAdd"):void 0,te=Tr(O,U,we,void 0,ie),he=Tr(O,U,new I(R,S,D),void 0,ie);U=te,N+=xp(te,he);const pe=Tr(O,U,new I(0,0,0,N),void 0,ie),le=Ur(null);le.largestUnit="year";const F=fl(O,U,pe,le).years;R+=F;const ae=U;U=Tr(O,U,new I(F),void 0,ie),N-=xp(ae,U);const Te=new I(N<0?-1:1);let{days:_e}=Pr(O,U,Te,ie);_e=nn(_e);const ve=_.multiply(_.BigInt(_e),B);x=_.add(_.add(_.multiply(ve,_.BigInt(R)),_.multiply(_.BigInt(N),B)),x);const Ae=xi(x,_.multiply(ve,_.BigInt(p)),w);q=os(x,ve),R=_.toNumber(_.divide(Ae,ve)),x=Sn,S=D=N=0;break}case"month":{if(!O)throw new RangeError("A starting point is required for months rounding");const we=new I(R,S),ie=typeof O!="string"?Ct(O,"dateAdd"):void 0,te=Tr(O,U,we,void 0,ie),he=Tr(O,U,new I(R,S,D),void 0,ie);U=te,N+=xp(te,he);const pe=Wc(N),le=new I(0,N<0?-1:1);let F;for({relativeTo:U,days:F}=Pr(O,U,le,ie);nn(N)>=nn(F);)S+=pe,N-=F,{relativeTo:U,days:F}=Pr(O,U,le,ie);F=nn(F);const ae=_.multiply(_.BigInt(F),B);x=_.add(_.add(_.multiply(ae,_.BigInt(S)),_.multiply(_.BigInt(N),B)),x);const Te=xi(x,_.multiply(ae,_.BigInt(p)),w);q=os(x,ae),S=_.toNumber(_.divide(Te,ae)),x=Sn,D=N=0;break}case"week":{if(!O)throw new RangeError("A starting point is required for weeks rounding");const we=Wc(N),ie=new I(0,0,N<0?-1:1),te=typeof O!="string"?Ct(O,"dateAdd"):void 0;let he;for({relativeTo:U,days:he}=Pr(O,U,ie,te);nn(N)>=nn(he);)D+=we,N-=he,{relativeTo:U,days:he}=Pr(O,U,ie,te);he=nn(he);const pe=_.multiply(_.BigInt(he),B);x=_.add(_.add(_.multiply(pe,_.BigInt(D)),_.multiply(_.BigInt(N),B)),x);const le=xi(x,_.multiply(pe,_.BigInt(p)),w);q=os(x,pe),D=_.toNumber(_.divide(le,pe)),x=Sn,N=0;break}case"day":{const we=B;x=_.add(_.multiply(we,_.BigInt(N)),x);const ie=xi(x,_.multiply(we,_.BigInt(p)),w);q=os(x,we),N=_.toNumber(_.divide(ie,we)),x=Sn;break}case"hour":{let ie=_.multiply(_.BigInt(M),_.BigInt(36e11));ie=_.add(ie,_.multiply(_.BigInt(L),_.BigInt(6e10))),ie=_.add(ie,_.multiply(_.BigInt($),ds)),ie=_.add(ie,_.multiply(_.BigInt(P),Zi)),ie=_.add(ie,_.multiply(_.BigInt(H),Rt)),ie=_.add(ie,x),q=os(ie,_.BigInt(36e11));const te=xi(ie,_.BigInt(36e11*p),w);M=_.toNumber(_.divide(te,_.BigInt(36e11))),x=Sn,L=$=P=H=0;break}case"minute":{let ie=_.multiply(_.BigInt(L),_.BigInt(6e10));ie=_.add(ie,_.multiply(_.BigInt($),ds)),ie=_.add(ie,_.multiply(_.BigInt(P),Zi)),ie=_.add(ie,_.multiply(_.BigInt(H),Rt)),ie=_.add(ie,x),q=os(ie,_.BigInt(6e10));const te=xi(ie,_.BigInt(6e10*p),w);L=_.toNumber(_.divide(te,_.BigInt(6e10))),x=Sn,$=P=H=0;break}case"second":{let ie=_.multiply(_.BigInt($),ds);ie=_.add(ie,_.multiply(_.BigInt(P),Zi)),ie=_.add(ie,_.multiply(_.BigInt(H),Rt)),ie=_.add(ie,x),q=os(ie,_.BigInt(1e9));const te=xi(ie,_.BigInt(1e9*p),w);$=_.toNumber(_.divide(te,_.BigInt(1e9))),x=Sn,P=H=0;break}case"millisecond":{let ie=_.multiply(_.BigInt(P),Zi);ie=_.add(ie,_.multiply(_.BigInt(H),Rt)),ie=_.add(ie,x),q=os(ie,_.BigInt(1e6));const te=xi(ie,_.BigInt(1e6*p),w);P=_.toNumber(_.divide(te,_.BigInt(1e6))),x=Sn,H=0;break}case"microsecond":{let ie=_.multiply(_.BigInt(H),Rt);ie=_.add(ie,x),q=os(ie,_.BigInt(1e3));const te=xi(ie,_.BigInt(1e3*p),w);H=_.toNumber(_.divide(te,_.BigInt(1e3))),x=Sn;break}case"nanosecond":q=_.toNumber(x),x=xi(_.BigInt(x),_.BigInt(p),w)}return{years:R,months:S,weeks:D,days:N,hours:M,minutes:L,seconds:$,milliseconds:P,microseconds:H,nanoseconds:_.toNumber(x),total:q}}function el(n,e,t,r,a,o){for(const[l,c]of[[n,r],[e,a],[t,o]])if(l!==c)return _u(l-c);return 0}function lu(n,e){let{quotient:t,remainder:r}=kn(n,e);return _.lessThan(r,Sn)&&(t=_.subtract(t,yh),r=_.add(r,e)),{quotient:t,remainder:r}}function Fc(n,e){const{quotient:t,remainder:r}=kn(n,e);return Qi(r)||!eg(n)==!eg(e)?t:_.subtract(t,yh)}function os(n,e){const{quotient:t,remainder:r}=kn(n,e);return _.toNumber(t)+_.toNumber(r)/_.toNumber(e)}function cg(n){const e=Yf(n);return globalThis.BigInt!==void 0?globalThis.BigInt(e.toString(10)):e}function Yf(n){let e=n;if(typeof n=="object"){const t=n[Symbol.toPrimitive];t&&typeof t=="function"&&(e=Bg(t,n,["number"]))}if(typeof e=="number")throw new TypeError("cannot convert number to bigint");return typeof e=="bigint"?_.BigInt(e.toString(10)):_.BigInt(e)}const RT=(()=>{let n=_.BigInt(Date.now()%1e6);return()=>{const e=_.BigInt(Date.now()),t=_.add(_.multiply(e,Zi),n);return n=_.remainder(e,Zi),_.greaterThan(t,Jc)?Jc:_.lessThan(t,sd)?sd:t}})();function Ko(){return new KC().resolvedOptions().timeZone}function _u(n){return n<0?-1:n>0?1:n}function gt(n){if(n===void 0)return Ur(null);if(an(n)&&n!==null)return n;throw new TypeError("Options parameter must be an object, not "+(n===null?"null":typeof n))}function ah(n,e){const t=Ur(null);return t[n]=e,t}function Sl(n){const e=Ur(null);return Bc(e,gt(n),[]),e}function gl(n,e,t,r){let a=n[e];if(a!==void 0){if(a=ni(a),!t.includes(a))throw new RangeError(`${e} must be one of ${t.join(", ")}, not ${a}`);return a}return r}function uo(n){return p3.includes(Es(n))}function Es(n){return n.replace(/[A-Z]/g,e=>{const t=e.charCodeAt(0);return String.fromCharCode(t+32)})}const CD=new RegExp(`^${YC.source}$`);function DD(n,e,t,r=n(e),a=n(t)){let o=_.BigInt(e),l=_.BigInt(t),c=r,f=a;for(;_.greaterThan(_.subtract(l,o),yh);){const d=_.divide(_.add(o,l),_.BigInt(2)),p=n(d);if(p===c)o=d,c=p;else{if(p!==f)throw new Error(`invalid state in bisection ${c} - ${p} - ${f}`);l=d,f=p}}return l}const ID={hour:36e11,minute:6e10,second:1e9,millisecond:1e6,microsecond:1e3,nanosecond:1},OD=Symbol("date"),ND=Symbol("ym"),MD=Symbol("md"),xD=Symbol("time"),kD=Symbol("datetime"),PD=Symbol("instant"),$c=Symbol("original"),Dc=Symbol("timezone"),va=Symbol("calendar-id"),LD=Symbol("locale"),d_=Symbol("options"),Gf=n=>({value:n,enumerable:!0,writable:!1,configurable:!0}),qc=globalThis.Intl.DateTimeFormat,co=Object.assign,T3=Object.prototype.hasOwnProperty,w3=Reflect.apply;function Rc(n,e){let t=n[e];return typeof t=="function"&&(t=new qc(n[LD],t(n[d_])),n[e]=t),t}function Cu(n,e={}){if(!(this instanceof Cu))return new Cu(n,e);const t=e!==void 0,r=t?co({},e):{},a=new qc(n,r),o=a.resolvedOptions();if(t){const l=co({},o);for(const c in l)w3(T3,r,[c])||delete l[c];this[d_]=l}else this[d_]=r;this[LD]=o.locale,this[$c]=a,this[Dc]=o.timeZone,this[va]=o.calendar,this[OD]=S3,this[ND]=b3,this[MD]=R3,this[xD]=E3,this[kD]=A3,this[PD]=C3}Object.defineProperty(Cu,"name",{writable:!0,value:"DateTimeFormat"}),Cu.supportedLocalesOf=function(n,e){return qc.supportedLocalesOf(n,e)};const Nv={resolvedOptions:Gf(function(){return this[$c].resolvedOptions()}),format:Gf(function(e,...t){let{instant:r,formatter:a}=Hc(e,this);return r&&a?a.format(r.epochMilliseconds):this[$c].format(e,...t)}),formatRange:Gf(function(e,t){if(sh(e)||sh(t)){if(!VD(e,t))throw new TypeError("Intl.DateTimeFormat.formatRange accepts two values of the same type");const{instant:r,formatter:a}=Hc(e,this),{instant:o,formatter:l}=Hc(t,this);if(r&&o&&a&&l&&a===l)return a.formatRange(r.epochMilliseconds,o.epochMilliseconds)}return this[$c].formatRange(e,t)})};"formatToParts"in qc.prototype&&(Nv.formatToParts=Gf(function(e,...t){let{instant:r,formatter:a}=Hc(e,this);return r&&a?a.formatToParts(r.epochMilliseconds):this[$c].formatToParts(e,...t)})),"formatRangeToParts"in qc.prototype&&(Nv.formatRangeToParts=Gf(function(e,t){if(sh(e)||sh(t)){if(!VD(e,t))throw new TypeError("Intl.DateTimeFormat.formatRangeToParts accepts two values of the same type");const{instant:r,formatter:a}=Hc(e,this),{instant:o,formatter:l}=Hc(t,this);if(r&&o&&a&&l&&a===l)return a.formatRangeToParts(r.epochMilliseconds,o.epochMilliseconds)}return this[$c].formatRangeToParts(e,t)})),Cu.prototype=Object.create(qc.prototype,Nv),Object.defineProperty(Cu,"prototype",{writable:!1,enumerable:!1,configurable:!1});const Al=Cu;function Vd(n={},e={}){const t=co({},n);for(const r of["year","month","day","hour","minute","second","weekday","dayPeriod","timeZoneName","dateStyle","timeStyle"])t[r]=r in e?e[r]:t[r],t[r]!==!1&&t[r]!==void 0||delete t[r];return t}function E3(n){let e=Vd(n,{year:!1,month:!1,day:!1,weekday:!1,timeZoneName:!1,dateStyle:!1});return AT(e)||(e=co({},e,{hour:"numeric",minute:"numeric",second:"numeric"})),e}function b3(n){let e=Vd(n,{day:!1,hour:!1,minute:!1,second:!1,weekday:!1,dayPeriod:!1,timeZoneName:!1,dateStyle:!1,timeStyle:!1});return"year"in e||"month"in e||(e=co(e,{year:"numeric",month:"numeric"})),e}function R3(n){let e=Vd(n,{year:!1,hour:!1,minute:!1,second:!1,weekday:!1,dayPeriod:!1,timeZoneName:!1,dateStyle:!1,timeStyle:!1});return"month"in e||"day"in e||(e=co({},e,{month:"numeric",day:"numeric"})),e}function S3(n){let e=Vd(n,{hour:!1,minute:!1,second:!1,dayPeriod:!1,timeZoneName:!1,timeStyle:!1});return ST(e)||(e=co({},e,{year:"numeric",month:"numeric",day:"numeric"})),e}function A3(n){let e=Vd(n,{timeZoneName:!1});return AT(e)||ST(e)||(e=co({},e,{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"})),e}function C3(n){let e=n;return AT(e)||ST(e)||(e=co({},e,{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"})),e}function ST(n){return"year"in n||"month"in n||"day"in n||"weekday"in n||"dateStyle"in n}function AT(n){return"hour"in n||"minute"in n||"second"in n||"timeStyle"in n||"dayPeriod"in n}function sh(n){return ht(n)||bn(n)||Ze(n)||Ne(n)||bt(n)||tr(n)||Zn(n)}function VD(n,e){return!(!sh(n)||!sh(e))&&!(bn(n)&&!bn(e))&&!(ht(n)&&!ht(e))&&!(Ze(n)&&!Ze(e))&&!(Ne(n)&&!Ne(e))&&!(bt(n)&&!bt(e))&&!(tr(n)&&!tr(e))&&!(Zn(n)&&!Zn(e))}function Hc(n,e){const t=ye("%Temporal.PlainDateTime%");if(bn(n)){const r=new t(1970,1,1,y(n,We),y(n,Je),y(n,et),y(n,tt),y(n,nt),y(n,rt),e[va]);return{instant:ei(e[Dc],r,"compatible"),formatter:Rc(e,xD)}}if(bt(n)){const r=y(n,Re),a=y(n,Se),o=y(n,De),l=br(y(n,W));if(l!==e[va])throw new RangeError(`cannot format PlainYearMonth with calendar ${l} in locale with calendar ${e[va]}`);const c=new t(r,a,o,12,0,0,0,0,0,l);return{instant:ei(e[Dc],c,"compatible"),formatter:Rc(e,ND)}}if(tr(n)){const r=y(n,Re),a=y(n,Se),o=y(n,De),l=br(y(n,W));if(l!==e[va])throw new RangeError(`cannot format PlainMonthDay with calendar ${l} in locale with calendar ${e[va]}`);const c=new t(r,a,o,12,0,0,0,0,0,l);return{instant:ei(e[Dc],c,"compatible"),formatter:Rc(e,MD)}}if(ht(n)){const r=y(n,Re),a=y(n,Se),o=y(n,De),l=br(y(n,W));if(l!=="iso8601"&&l!==e[va])throw new RangeError(`cannot format PlainDate with calendar ${l} in locale with calendar ${e[va]}`);const c=new t(r,a,o,12,0,0,0,0,0,e[va]);return{instant:ei(e[Dc],c,"compatible"),formatter:Rc(e,OD)}}if(Ze(n)){const r=y(n,Re),a=y(n,Se),o=y(n,De),l=y(n,We),c=y(n,Je),f=y(n,et),d=y(n,tt),p=y(n,nt),v=y(n,rt),w=br(y(n,W));if(w!=="iso8601"&&w!==e[va])throw new RangeError(`cannot format PlainDateTime with calendar ${w} in locale with calendar ${e[va]}`);let E=n;return w==="iso8601"&&(E=new t(r,a,o,l,c,f,d,p,v,e[va])),{instant:ei(e[Dc],E,"compatible"),formatter:Rc(e,kD)}}if(Ne(n))throw new TypeError("Temporal.ZonedDateTime not supported in DateTimeFormat methods. Use toLocaleString() instead.");return Zn(n)?{instant:n,formatter:Rc(e,PD)}:{}}class xa{constructor(e){if(arguments.length<1)throw new TypeError("missing argument: epochNanoseconds is required");const t=Yf(e);hu(t),As(this),it(this,ze,t)}get epochSeconds(){if(!Zn(this))throw new TypeError("invalid receiver");const e=y(this,ze);return _.toNumber(Fc(e,ds))}get epochMilliseconds(){if(!Zn(this))throw new TypeError("invalid receiver");const e=_.BigInt(y(this,ze));return _.toNumber(Fc(e,Zi))}get epochMicroseconds(){if(!Zn(this))throw new TypeError("invalid receiver");return cg(Fc(_.BigInt(y(this,ze)),Rt))}get epochNanoseconds(){if(!Zn(this))throw new TypeError("invalid receiver");return cg(_.BigInt(y(this,ze)))}add(e){if(!Zn(this))throw new TypeError("invalid receiver");return aS("add",this,e)}subtract(e){if(!Zn(this))throw new TypeError("invalid receiver");return aS("subtract",this,e)}until(e,t){if(!Zn(this))throw new TypeError("invalid receiver");return WR("until",this,e,t)}since(e,t){if(!Zn(this))throw new TypeError("invalid receiver");return WR("since",this,e,t)}round(e){if(!Zn(this))throw new TypeError("invalid receiver");if(e===void 0)throw new TypeError("options parameter is required");const t=typeof e=="string"?ah("smallestUnit",e):gt(e),r=_h(t),a=Va(t,"halfExpand"),o=Di(t,"smallestUnit","time",bu);Th(r,{hour:24,minute:1440,second:86400,millisecond:864e5,microsecond:864e8,nanosecond:864e11}[o],!0);const l=ug(y(this,ze),r,o,a);return new xa(l)}equals(e){if(!Zn(this))throw new TypeError("invalid receiver");const t=Pa(e),r=y(this,ze),a=y(t,ze);return _.equal(_.BigInt(r),_.BigInt(a))}toString(e){if(!Zn(this))throw new TypeError("invalid receiver");const t=gt(e),r=Od(t),a=Va(t,"trunc"),o=Di(t,"smallestUnit","time",void 0);if(o==="hour")throw new RangeError('smallestUnit must be a time unit other than "hour"');let l=t.timeZone;l!==void 0&&(l=Vr(l));const{precision:c,unit:f,increment:d}=Nd(o,r),p=ug(y(this,ze),d,f,a);return $R(new xa(p),l,c)}toJSON(){if(!Zn(this))throw new TypeError("invalid receiver");return $R(this,void 0,"auto")}toLocaleString(e,t){if(!Zn(this))throw new TypeError("invalid receiver");return new Al(e,t).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.Instant")}toZonedDateTime(e){if(!Zn(this))throw new TypeError("invalid receiver");if(!an(e))throw new TypeError("invalid argument in toZonedDateTime");const t=e.calendar;if(t===void 0)throw new TypeError("missing calendar property in toZonedDateTime");const r=Ii(t),a=e.timeZone;if(a===void 0)throw new TypeError("missing timeZone property in toZonedDateTime");const o=Vr(a);return _r(y(this,ze),o,r)}toZonedDateTimeISO(e){if(!Zn(this))throw new TypeError("invalid receiver");const t=Vr(e);return _r(y(this,ze),t,"iso8601")}static fromEpochSeconds(e){const t=eh(e),r=_.multiply(_.BigInt(t),ds);return hu(r),new xa(r)}static fromEpochMilliseconds(e){const t=eh(e),r=_.multiply(_.BigInt(t),Zi);return hu(r),new xa(r)}static fromEpochMicroseconds(e){const t=Yf(e),r=_.multiply(t,Rt);return hu(r),new xa(r)}static fromEpochNanoseconds(e){const t=Yf(e);return hu(t),new xa(t)}static from(e){return Zn(e)?new xa(y(e,ze)):Pa(e)}static compare(e,t){const r=Pa(e),a=Pa(t),o=y(r,ze),l=y(a,ze);return _.lessThan(o,l)?-1:_.greaterThan(o,l)?1:0}}Ss(xa,"Temporal.Instant");const UD=Array.prototype.includes,D3=Array.prototype.push,I3=globalThis.Intl.DateTimeFormat,O3=Array.prototype.sort,N3=Math.abs,M3=Math.floor,Mv=Object.create,m_=Object.entries,zD=Set,cS=Reflect.ownKeys,xr=Set.prototype.add,BD=Set.prototype.values,cn={};class wn{constructor(e){if(arguments.length<1)throw new RangeError("missing argument: id is required");const t=ni(e);if(!uo(t))throw new RangeError(`invalid calendar identifier ${t}`);As(this),it(this,mn,Es(t))}get id(){if(!Tn(this))throw new TypeError("invalid receiver");return y(this,mn)}dateFromFields(e,t){if(!Tn(this))throw new TypeError("invalid receiver");if(!an(e))throw new TypeError("invalid fields");const r=gt(t),a=y(this,mn);return cn[a].dateFromFields(e,r,a)}yearMonthFromFields(e,t){if(!Tn(this))throw new TypeError("invalid receiver");if(!an(e))throw new TypeError("invalid fields");const r=gt(t),a=y(this,mn);return cn[a].yearMonthFromFields(e,r,a)}monthDayFromFields(e,t){if(!Tn(this))throw new TypeError("invalid receiver");if(!an(e))throw new TypeError("invalid fields");const r=gt(t),a=y(this,mn);return cn[a].monthDayFromFields(e,r,a)}fields(e){if(!Tn(this))throw new TypeError("invalid receiver");const t=[],r=new Set(["year","month","monthCode","day","hour","minute","second","millisecond","microsecond","nanosecond"]);for(const a of e){if(typeof a!="string")throw new TypeError("invalid fields");if(!r.has(a))throw new RangeError(`invalid field name ${a}`);r.delete(a),D3.call(t,a)}return cn[y(this,mn)].fields(t)}mergeFields(e,t){if(!Tn(this))throw new TypeError("invalid receiver");const r=jR(e),a=Mv(null);Bc(a,r,[],[void 0]);const o=jR(t),l=Mv(null);Bc(l,o,[],[void 0]);const c=cS(l),f=cn[y(this,mn)].fieldKeysToIgnore(c),d=Mv(null),p=cS(a);for(const v of p){let w;w=Me(UD,f,[v])?l[v]:a[v],w!==void 0&&(d[v]=w)}return Bc(d,l,[]),d}dateAdd(e,t,r){if(!Tn(this))throw new TypeError("invalid receiver");const a=zt(e),o=jc(t),l=Pn(gt(r)),{days:c}=ba(y(o,Hr),y(o,Yr),y(o,Gr),y(o,Qr),y(o,Kr),y(o,Zr),y(o,Xr),"day"),f=y(this,mn);return cn[f].dateAdd(a,y(o,qr),y(o,hr),y(o,ui),c,l,f)}dateUntil(e,t,r){if(!Tn(this))throw new TypeError("invalid receiver");const a=zt(e),o=zt(t);let l=Di(gt(r),"largestUnit","date","auto");l==="auto"&&(l="day");const{years:c,months:f,weeks:d,days:p}=cn[y(this,mn)].dateUntil(a,o,l);return new(ye("%Temporal.Duration%"))(c,f,d,p,0,0,0,0,0,0)}year(e){let t=e;if(!Tn(this))throw new TypeError("invalid receiver");return bt(t)||(t=zt(t)),cn[y(this,mn)].year(t)}month(e){let t=e;if(!Tn(this))throw new TypeError("invalid receiver");if(tr(t))throw new TypeError("use monthCode on PlainMonthDay instead");return bt(t)||(t=zt(t)),cn[y(this,mn)].month(t)}monthCode(e){let t=e;if(!Tn(this))throw new TypeError("invalid receiver");return bt(t)||tr(t)||(t=zt(t)),cn[y(this,mn)].monthCode(t)}day(e){let t=e;if(!Tn(this))throw new TypeError("invalid receiver");return tr(t)||(t=zt(t)),cn[y(this,mn)].day(t)}era(e){let t=e;if(!Tn(this))throw new TypeError("invalid receiver");return bt(t)||(t=zt(t)),cn[y(this,mn)].era(t)}eraYear(e){let t=e;if(!Tn(this))throw new TypeError("invalid receiver");return bt(t)||(t=zt(t)),cn[y(this,mn)].eraYear(t)}dayOfWeek(e){if(!Tn(this))throw new TypeError("invalid receiver");const t=zt(e);return cn[y(this,mn)].dayOfWeek(t)}dayOfYear(e){if(!Tn(this))throw new TypeError("invalid receiver");const t=zt(e);return cn[y(this,mn)].dayOfYear(t)}weekOfYear(e){if(!Tn(this))throw new TypeError("invalid receiver");const t=zt(e);return cn[y(this,mn)].weekOfYear(t)}yearOfWeek(e){if(!Tn(this))throw new TypeError("invalid receiver");const t=zt(e);return cn[y(this,mn)].yearOfWeek(t)}daysInWeek(e){if(!Tn(this))throw new TypeError("invalid receiver");const t=zt(e);return cn[y(this,mn)].daysInWeek(t)}daysInMonth(e){let t=e;if(!Tn(this))throw new TypeError("invalid receiver");return bt(t)||(t=zt(t)),cn[y(this,mn)].daysInMonth(t)}daysInYear(e){let t=e;if(!Tn(this))throw new TypeError("invalid receiver");return bt(t)||(t=zt(t)),cn[y(this,mn)].daysInYear(t)}monthsInYear(e){let t=e;if(!Tn(this))throw new TypeError("invalid receiver");return bt(t)||(t=zt(t)),cn[y(this,mn)].monthsInYear(t)}inLeapYear(e){let t=e;if(!Tn(this))throw new TypeError("invalid receiver");return bt(t)||(t=zt(t)),cn[y(this,mn)].inLeapYear(t)}toString(){if(!Tn(this))throw new TypeError("invalid receiver");return y(this,mn)}toJSON(){if(!Tn(this))throw new TypeError("invalid receiver");return y(this,mn)}static from(e){return wh(Ii(e))}}function CT(n){if(!n.startsWith("M"))throw new RangeError(`Invalid month code: ${n}.  Month codes must start with M.`);const e=+n.slice(1);if(isNaN(e))throw new RangeError(`Invalid month code: ${n}`);return e}function ao(n,e=!1){return`M${n.toString().padStart(2,"0")}${e?"L":""}`}function kp(n,e,t=12){let{month:r,monthCode:a}=n;if(a===void 0){if(r===void 0)throw new TypeError("Either month or monthCode are required");e==="reject"&&wr(r,1,t),e==="constrain"&&(r=Si(r,1,t)),a=ao(r)}else{const o=CT(a);if(r!==void 0&&r!==o)throw new RangeError(`monthCode ${a} and month ${r} must match if both are present`);if(a!==ao(o))throw new RangeError(`Invalid month code: ${a}`);if(r=o,r<1||r>t)throw new RangeError(`Invalid monthCode: ${a}`)}return{...n,month:r,monthCode:a}}Ss(wn,"Temporal.Calendar"),pn("Temporal.Calendar.from",wn.from),pn("Temporal.Calendar.prototype.dateAdd",wn.prototype.dateAdd),pn("Temporal.Calendar.prototype.dateFromFields",wn.prototype.dateFromFields),pn("Temporal.Calendar.prototype.dateUntil",wn.prototype.dateUntil),pn("Temporal.Calendar.prototype.day",wn.prototype.day),pn("Temporal.Calendar.prototype.dayOfWeek",wn.prototype.dayOfWeek),pn("Temporal.Calendar.prototype.dayOfYear",wn.prototype.dayOfYear),pn("Temporal.Calendar.prototype.daysInMonth",wn.prototype.daysInMonth),pn("Temporal.Calendar.prototype.daysInWeek",wn.prototype.daysInWeek),pn("Temporal.Calendar.prototype.daysInYear",wn.prototype.daysInYear),pn("Temporal.Calendar.prototype.era",wn.prototype.era),pn("Temporal.Calendar.prototype.eraYear",wn.prototype.eraYear),pn("Temporal.Calendar.prototype.fields",wn.prototype.fields),pn("Temporal.Calendar.prototype.inLeapYear",wn.prototype.inLeapYear),pn("Temporal.Calendar.prototype.mergeFields",wn.prototype.mergeFields),pn("Temporal.Calendar.prototype.month",wn.prototype.month),pn("Temporal.Calendar.prototype.monthCode",wn.prototype.monthCode),pn("Temporal.Calendar.prototype.monthDayFromFields",wn.prototype.monthDayFromFields),pn("Temporal.Calendar.prototype.monthsInYear",wn.prototype.monthsInYear),pn("Temporal.Calendar.prototype.weekOfYear",wn.prototype.weekOfYear),pn("Temporal.Calendar.prototype.year",wn.prototype.year),pn("Temporal.Calendar.prototype.yearMonthFromFields",wn.prototype.yearMonthFromFields),pn("Temporal.Calendar.prototype.yearOfWeek",wn.prototype.yearOfWeek),cn.iso8601={dateFromFields(n,e,t){let r=ot(n,["day","month","monthCode","year"],["year","day"]);const a=Pn(e);r=kp(r);let{year:o,month:l,day:c}=r;return{year:o,month:l,day:c}=ng(o,l,c,a),Ji(o,l,c,t)},yearMonthFromFields(n,e,t){let r=ot(n,["month","monthCode","year"],["year"]);const a=Pn(e);r=kp(r);let{year:o,month:l}=r;return{year:o,month:l}=function(f,d,p){let v=f,w=d;switch(p){case"reject":ws(v,w,1);break;case"constrain":({year:v,month:w}=vD(v,w))}return{year:v,month:w}}(o,l,a),ld(o,l,t,1)},monthDayFromFields(n,e,t){let r=ot(n,["day","month","monthCode","year"],["day"]);const a=Pn(e);if(r.month!==void 0&&r.year===void 0&&r.monthCode===void 0)throw new TypeError("either year or monthCode required with month");const o=r.monthCode===void 0;r=kp(r);let{month:l,day:c,year:f}=r;return{month:l,day:c}=ng(o?f:1972,l,c,a),od(l,c,t,1972)},fields:n=>n,fieldKeysToIgnore(n){const e=new zD;for(let t=0;t<n.length;t++){const r=n[t];Me(xr,e,[r]),r==="month"?Me(xr,e,["monthCode"]):r==="monthCode"&&Me(xr,e,["month"])}return[...Me(BD,e,[])]},dateAdd(n,e,t,r,a,o,l){let c=y(n,Re),f=y(n,Se),d=y(n,De);return{year:c,month:f,day:d}=vu(c,f,d,e,t,r,a,o),Ji(c,f,d,l)},dateUntil:(n,e,t)=>_T(y(n,Re),y(n,Se),y(n,De),y(e,Re),y(e,Se),y(e,De),t),year:n=>y(n,Re),era(){},eraYear(){},month:n=>y(n,Se),monthCode:n=>ao(y(n,Se)),day:n=>y(n,De),dayOfWeek:n=>c_(y(n,Re),y(n,Se),y(n,De)),dayOfYear:n=>og(y(n,Re),y(n,Se),y(n,De)),weekOfYear:n=>ZR(y(n,Re),y(n,Se),y(n,De)).week,yearOfWeek:n=>ZR(y(n,Re),y(n,Se),y(n,De)).year,daysInWeek:()=>7,daysInMonth:n=>io(y(n,Re),y(n,Se)),daysInYear(n){let e=n;return ar(e,Re)||(e=zt(e)),pl(y(e,Re))?366:365},monthsInYear:()=>12,inLeapYear(n){let e=n;return ar(e,Re)||(e=zt(e)),pl(y(e,Re))}};class gn{constructor(e){if(this.map=new Map,this.calls=0,this.hits=0,this.misses=0,this.now=globalThis.performance?globalThis.performance.now():Date.now(),e!==void 0){let t=0;for(const r of e.map.entries()){if(++t>gn.MAX_CACHE_ENTRIES)break;this.map.set(...r)}}}get(e){const t=this.map.get(e);return t&&(this.hits++,this.report()),this.calls++,t}set(e,t){this.map.set(e,t),this.misses++,this.report()}report(){}setObject(e){if(gn.objectMap.get(e))throw new RangeError("object already cached");gn.objectMap.set(e,this),this.report()}static getCacheForObject(e){let t=gn.objectMap.get(e);return t||(t=new gn,gn.objectMap.set(e,t)),t}}function jD({isoYear:n,isoMonth:e,isoDay:t}){return`${Lu(n)}-${hn(e)}-${hn(t)}T00:00Z`}function xv(n,e){return{years:n.year-e.year,months:n.month-e.month,days:n.day-e.day}}gn.objectMap=new WeakMap,gn.MAX_CACHE_ENTRIES=1e3;class bh{constructor(){this.eraLength="short",this.hasEra=!0,this.erasBeginMidYear=!1}getFormatter(){return this.formatter===void 0&&(this.formatter=new I3(`en-US-u-ca-${this.id}`,{day:"numeric",month:"numeric",year:"numeric",era:this.eraLength,timeZone:"UTC"})),this.formatter}isoToCalendarDate(e,t){const{year:r,month:a,day:o}=e,l=JSON.stringify({func:"isoToCalendarDate",isoYear:r,isoMonth:a,isoDay:o,id:this.id}),c=t.get(l);if(c)return c;const f=this.getFormatter();let d,p;try{p=jD({isoYear:r,isoMonth:a,isoDay:o}),d=f.formatToParts(new Date(p))}catch{throw new RangeError(`Invalid ISO date: ${JSON.stringify({isoYear:r,isoMonth:a,isoDay:o})}`)}const v={};for(let{type:E,value:R}of d){if(E==="year"&&(v.eraYear=+R),E==="relatedYear"&&(v.eraYear=+R),E==="month"){const S=/^([0-9]*)(.*?)$/.exec(R);if(!S||S.length!=3||!S[1]&&!S[2])throw new RangeError(`Unexpected month: ${R}`);if(v.month=S[1]?+S[1]:1,v.month<1)throw new RangeError(`Invalid month ${R} from ${p}[u-ca-${this.id}] (probably due to https://bugs.chromium.org/p/v8/issues/detail?id=10527)`);if(v.month>13)throw new RangeError(`Invalid month ${R} from ${p}[u-ca-${this.id}] (probably due to https://bugs.chromium.org/p/v8/issues/detail?id=10529)`);S[2]&&(v.monthExtra=S[2])}E==="day"&&(v.day=+R),this.hasEra&&E==="era"&&R!=null&&R!==""&&(R=R.split(" (")[0],v.era=R.normalize("NFD").replace(/[^-0-9 \p{L}]/gu,"").replace(" ","-").toLowerCase())}if(v.eraYear===void 0)throw new RangeError(`Intl.DateTimeFormat.formatToParts lacks relatedYear in ${this.id} calendar. Try Node 14+ or modern browsers.`);if(this.reviseIntlEra){const{era:E,eraYear:R}=this.reviseIntlEra(v,e);v.era=E,v.eraYear=R}this.checkIcuBugs&&this.checkIcuBugs(e);const w=this.adjustCalendarDate(v,t,"constrain",!0);if(w.year===void 0)throw new RangeError(`Missing year converting ${JSON.stringify(e)}`);if(w.month===void 0)throw new RangeError(`Missing month converting ${JSON.stringify(e)}`);if(w.day===void 0)throw new RangeError(`Missing day converting ${JSON.stringify(e)}`);return t.set(l,w),["constrain","reject"].forEach(E=>{const R=JSON.stringify({func:"calendarToIsoDate",year:w.year,month:w.month,day:w.day,overflow:E,id:this.id});t.set(R,e)}),w}validateCalendarDate(e){const{era:t,month:r,year:a,day:o,eraYear:l,monthCode:c,monthExtra:f}=e;if(f!==void 0)throw new RangeError("Unexpected `monthExtra` value");if(a===void 0&&l===void 0)throw new TypeError("year or eraYear is required");if(r===void 0&&c===void 0)throw new TypeError("month or monthCode is required");if(o===void 0)throw new RangeError("Missing day");if(c!==void 0){if(typeof c!="string")throw new RangeError("monthCode must be a string, not "+typeof c);if(!/^M([01]?\d)(L?)$/.test(c))throw new RangeError(`Invalid monthCode: ${c}`)}if(this.constantEra){if(t!==void 0&&t!==this.constantEra)throw new RangeError(`era must be ${this.constantEra}, not ${t}`);if(l!==void 0&&a!==void 0&&l!==a)throw new RangeError(`eraYear ${l} does not match year ${a}`)}if(this.hasEra&&e.era===void 0!=(e.eraYear===void 0))throw new RangeError("properties 'era' and 'eraYear' must be provided together")}adjustCalendarDate(e,t,r="constrain",a=!1){if(this.calendarType==="lunisolar")throw new RangeError("Override required for lunisolar calendars");let o=e;if(this.validateCalendarDate(o),this.constantEra){const{year:d,eraYear:p}=o;o={...o,era:this.constantEra,year:d!==void 0?d:p,eraYear:p!==void 0?p:d}}const l=this.monthsInYear(o,t);let{month:c,monthCode:f}=o;return{month:c,monthCode:f}=kp(o,r,l),{...o,month:c,monthCode:f}}regulateMonthDayNaive(e,t,r){const a=this.monthsInYear(e,r);let{month:o,day:l}=e;return t==="reject"?(wr(o,1,a),wr(l,1,this.maximumMonthLength(e))):(o=Si(o,1,a),l=Si(l,1,this.maximumMonthLength({...e,month:o}))),{...e,month:o,day:l}}calendarToIsoDate(e,t="constrain",r){const a=e;let o=this.adjustCalendarDate(e,r,t,!1);o=this.regulateMonthDayNaive(o,t,r);const{year:l,month:c,day:f}=o,d=JSON.stringify({func:"calendarToIsoDate",year:l,month:c,day:f,overflow:t,id:this.id});let p,v=r.get(d);if(v||a.year!==void 0&&a.month!==void 0&&a.day!==void 0&&(a.year!==o.year||a.month!==o.month||a.day!==o.day)&&(p=JSON.stringify({func:"calendarToIsoDate",year:a.year,month:a.month,day:a.day,overflow:t,id:this.id}),v=r.get(p),v))return v;let w=this.estimateIsoDate({year:l,month:c,day:f});const E=M=>{let L=this.addDaysIso(w,M);if(o.day>this.minimumMonthLength(o)){let $=this.isoToCalendarDate(L,r);for(;$.month!==c||$.year!==l;){if(t==="reject")throw new RangeError(`day ${f} does not exist in month ${c} of year ${l}`);L=this.addDaysIso(L,-1),$=this.isoToCalendarDate(L,r)}}return L};let R=0,S=this.isoToCalendarDate(w,r),D=xv(o,S);if(D.years!==0||D.months!==0||D.days!==0){const M=365*D.years+30*D.months+D.days;w=this.addDaysIso(w,M),S=this.isoToCalendarDate(w,r),D=xv(o,S),D.years===0&&D.months===0?w=E(D.days):R=this.compareCalendarDates(o,S)}let N=8;for(;R;){w=this.addDaysIso(w,R*N);const M=S;S=this.isoToCalendarDate(w,r);const L=R;if(R=this.compareCalendarDates(o,S),R){if(D=xv(o,S),D.years===0&&D.months===0)w=E(D.days),R=0;else if(L&&R!==L)if(N>1)N/=2;else{if(t==="reject")throw new RangeError(`Can't find ISO date from calendar date: ${JSON.stringify({...a})}`);this.compareCalendarDates(S,M)>0&&(w=this.addDaysIso(w,-1)),R=0}}}if(r.set(d,w),p&&r.set(p,w),o.year===void 0||o.month===void 0||o.day===void 0||o.monthCode===void 0||this.hasEra&&(o.era===void 0||o.eraYear===void 0))throw new RangeError("Unexpected missing property");return w}temporalToCalendarDate(e,t){const r={year:y(e,Re),month:y(e,Se),day:y(e,De)};return this.isoToCalendarDate(r,t)}compareCalendarDates(e,t){const r=ot(e,["day","month","year"],["day","month","year"]),a=ot(t,["day","month","year"],["day","month","year"]);return r.year!==a.year?_u(r.year-a.year):r.month!==a.month?_u(r.month-a.month):r.day!==a.day?_u(r.day-a.day):0}regulateDate(e,t="constrain",r){const a=this.calendarToIsoDate(e,t,r);return this.isoToCalendarDate(a,r)}addDaysIso(e,t){return vu(e.year,e.month,e.day,0,0,0,t,"constrain")}addDaysCalendar(e,t,r){const a=this.calendarToIsoDate(e,"constrain",r),o=this.addDaysIso(a,t);return this.isoToCalendarDate(o,r)}addMonthsCalendar(e,t,r,a){let o=e;const{day:l}=o;for(let c=0,f=N3(t);c<f;c++){const{month:d}=o,p=o,v=t<0?-Math.max(l,this.daysInPreviousMonth(o,a)):this.daysInMonth(o,a),w=this.calendarToIsoDate(o,"constrain",a);let E=this.addDaysIso(w,v);if(o=this.isoToCalendarDate(E,a),t>0){const R=this.monthsInYear(p,a);for(;o.month-1!=d%R;)E=this.addDaysIso(E,-1),o=this.isoToCalendarDate(E,a)}o.day!==l&&(o=this.regulateDate({...o,day:l},"constrain",a))}if(r==="reject"&&o.day!==l)throw new RangeError(`Day ${l} does not exist in resulting calendar month`);return o}addCalendar(e,{years:t=0,months:r=0,weeks:a=0,days:o=0},l,c){const{year:f,day:d,monthCode:p}=e,v=this.adjustCalendarDate({year:f+t,monthCode:p,day:d},c),w=this.addMonthsCalendar(v,r,l,c),E=o+7*a;return this.addDaysCalendar(w,E,c)}untilCalendar(e,t,r,a){let o=0,l=0,c=0,f=0;switch(r){case"day":o=this.calendarDaysUntil(e,t,a);break;case"week":{const d=this.calendarDaysUntil(e,t,a);o=d%7,l=(d-o)/7;break}case"month":case"year":{const d=this.compareCalendarDates(t,e);if(!d)return{years:0,months:0,weeks:0,days:0};const p=t.year-e.year,v=t.day-e.day;if(r==="year"&&p){let R=0;t.monthCode>e.monthCode&&(R=1),t.monthCode<e.monthCode&&(R=-1),R||(R=Math.sign(v)),f=R*d<0?p-d:p}let w,E=f?this.addCalendar(e,{years:f},"constrain",a):e;do c+=d,w=E,E=this.addMonthsCalendar(w,d,"constrain",a),E.day!==e.day&&(E=this.regulateDate({...E,day:e.day},"constrain",a));while(this.compareCalendarDates(t,E)*d>=0);c-=d,o=this.calendarDaysUntil(w,t,a);break}}return{years:f,months:c,weeks:l,days:o}}daysInMonth(e,t){const{day:r}=e,a=this.maximumMonthLength(e),o=this.minimumMonthLength(e);if(o===a)return o;const l=r<=a-o?a:o,c=this.calendarToIsoDate(e,"constrain",t),f=this.addDaysIso(c,l),d=this.isoToCalendarDate(f,t),p=this.addDaysIso(f,-d.day);return this.isoToCalendarDate(p,t).day}daysInPreviousMonth(e,t){const{day:r,month:a,year:o}=e;let l={year:a>1?o:o-1,month:a,day:1};const c=a>1?a-1:this.monthsInYear(l,t);l={...l,month:c};const f=this.minimumMonthLength(l),d=this.maximumMonthLength(l);if(f===d)return d;const p=this.calendarToIsoDate(e,"constrain",t),v=this.addDaysIso(p,-r);return this.isoToCalendarDate(v,t).day}startOfCalendarYear(e){return{year:e.year,month:1,monthCode:"M01",day:1}}startOfCalendarMonth(e){return{year:e.year,month:e.month,day:1}}calendarDaysUntil(e,t,r){const a=this.calendarToIsoDate(e,"constrain",r),o=this.calendarToIsoDate(t,"constrain",r);return this.isoDaysUntil(a,o)}isoDaysUntil(e,t){return _T(e.year,e.month,e.day,t.year,t.month,t.day,"day").days}monthDayFromFields(e,t,r){let a,o,l,c,f,{monthCode:d,day:p}=e;if(d===void 0){let{year:E,era:R,eraYear:S}=e;if(E===void 0&&(R===void 0||S===void 0))throw new TypeError("when `monthCode` is omitted, `year` (or `era` and `eraYear`) and `month` are required");({monthCode:d,day:p}=this.isoToCalendarDate(this.calendarToIsoDate(e,t,r),r))}const v=this.isoToCalendarDate({year:1972,month:12,day:31},r),w=v.monthCode>d||v.monthCode===d&&v.day>=p?v.year:v.year-1;for(let E=0;E<100;E++){const R=this.adjustCalendarDate({day:p,monthCode:d,year:w-E},r),S=this.calendarToIsoDate(R,"constrain",r),D=this.isoToCalendarDate(S,r);if({year:a,month:o,day:l}=S,D.monthCode===d&&D.day===p)return{month:o,day:l,year:a};t==="constrain"&&(c===void 0||D.monthCode===c.monthCode&&D.day>c.day)&&(c=D,f=S)}if(t==="constrain"&&f!==void 0)return f;throw new RangeError(`No recent ${this.id} year with monthCode ${d} and day ${p}`)}}class x3 extends bh{constructor(){super(...arguments),this.id="hebrew",this.calendarType="lunisolar",this.months={Tishri:{leap:1,regular:1,monthCode:"M01",days:30},Heshvan:{leap:2,regular:2,monthCode:"M02",days:{min:29,max:30}},Kislev:{leap:3,regular:3,monthCode:"M03",days:{min:29,max:30}},Tevet:{leap:4,regular:4,monthCode:"M04",days:29},Shevat:{leap:5,regular:5,monthCode:"M05",days:30},Adar:{leap:void 0,regular:6,monthCode:"M06",days:29},"Adar I":{leap:6,regular:void 0,monthCode:"M05L",days:30},"Adar II":{leap:7,regular:void 0,monthCode:"M06",days:29},Nisan:{leap:8,regular:7,monthCode:"M07",days:30},Iyar:{leap:9,regular:8,monthCode:"M08",days:29},Sivan:{leap:10,regular:9,monthCode:"M09",days:30},Tamuz:{leap:11,regular:10,monthCode:"M10",days:29},Av:{leap:12,regular:11,monthCode:"M11",days:30},Elul:{leap:13,regular:12,monthCode:"M12",days:29}},this.hasEra=!1}inLeapYear(e){const{year:t}=e;return(7*t+1)%19<7}monthsInYear(e){return this.inLeapYear(e)?13:12}minimumMonthLength(e){return this.minMaxMonthLength(e,"min")}maximumMonthLength(e){return this.minMaxMonthLength(e,"max")}minMaxMonthLength(e,t){const{month:r,year:a}=e,o=this.getMonthCode(a,r),l=m_(this.months).find(f=>f[1].monthCode===o);if(l===void 0)throw new RangeError(`unmatched Hebrew month: ${r}`);const c=l[1].days;return typeof c=="number"?c:c[t]}estimateIsoDate(e){const{year:t}=e;return{year:t-3760,month:1,day:1}}getMonthCode(e,t){return this.inLeapYear({year:e})?t===6?ao(5,!0):ao(t<6?t:t-1):ao(t)}adjustCalendarDate(e,t,r="constrain",a=!1){let{year:o,eraYear:l,month:c,monthCode:f,day:d,monthExtra:p}=e;if(o===void 0&&l!==void 0&&(o=l),l===void 0&&o!==void 0&&(l=o),a){if(p){const v=this.months[p];if(!v)throw new RangeError(`Unrecognized month from formatToParts: ${p}`);c=this.inLeapYear({year:o})?v.leap:v.regular}return f=this.getMonthCode(o,c),{year:o,month:c,day:d,era:void 0,eraYear:l,monthCode:f}}if(this.validateCalendarDate(e),c===void 0)if(f.endsWith("L")){if(f!=="M05L")throw new RangeError(`Hebrew leap month must have monthCode M05L, not ${f}`);if(c=6,!this.inLeapYear({year:o})){if(r==="reject")throw new RangeError(`Hebrew monthCode M05L is invalid in year ${o} which is not a leap year`);c=6,f="M06"}}else{c=CT(f),this.inLeapYear({year:o})&&c>=6&&c++;const v=this.monthsInYear({year:o});if(c<1||c>v)throw new RangeError(`Invalid monthCode: ${f}`)}else if(r==="reject"?(wr(c,1,this.monthsInYear({year:o})),wr(d,1,this.maximumMonthLength({year:o,month:c}))):(c=Si(c,1,this.monthsInYear({year:o})),d=Si(d,1,this.maximumMonthLength({year:o,month:c}))),f===void 0)f=this.getMonthCode(o,c);else if(this.getMonthCode(o,c)!==f)throw new RangeError(`monthCode ${f} doesn't correspond to month ${c} in Hebrew year ${o}`);return{...e,day:d,month:c,monthCode:f,year:o,eraYear:l}}}class Rh extends bh{constructor(){super(...arguments),this.calendarType="lunar",this.DAYS_PER_ISLAMIC_YEAR=354+11/30,this.DAYS_PER_ISO_YEAR=365.2425,this.constantEra="ah"}inLeapYear(e,t){return this.daysInMonth({year:e.year,month:12,day:1},t)===30}monthsInYear(){return 12}minimumMonthLength(){return 29}maximumMonthLength(){return 30}estimateIsoDate(e){const{year:t}=this.adjustCalendarDate(e);return{year:M3(t*this.DAYS_PER_ISLAMIC_YEAR/this.DAYS_PER_ISO_YEAR)+622,month:1,day:1}}}class FD extends Rh{constructor(){super(...arguments),this.id="islamic"}}class k3 extends Rh{constructor(){super(...arguments),this.id="islamic-umalqura"}}class P3 extends Rh{constructor(){super(...arguments),this.id="islamic-tbla"}}class L3 extends Rh{constructor(){super(...arguments),this.id="islamic-civil"}}class V3 extends Rh{constructor(){super(...arguments),this.id="islamic-rgsa"}}class U3 extends Rh{constructor(){super(...arguments),this.id="islamicc"}}class z3 extends bh{constructor(){super(...arguments),this.id="persian",this.calendarType="solar",this.constantEra="ap"}inLeapYear(e,t){return FD.prototype.inLeapYear.call(this,e,t)}monthsInYear(){return 12}minimumMonthLength(e){const{month:t}=e;return t===12?29:t<=6?31:30}maximumMonthLength(e){const{month:t}=e;return t===12?30:t<=6?31:30}estimateIsoDate(e){const{year:t}=this.adjustCalendarDate(e);return{year:t+621,month:1,day:1}}}class B3 extends bh{constructor(){super(...arguments),this.id="indian",this.calendarType="solar",this.constantEra="saka",this.months={1:{length:30,month:3,day:22,leap:{length:31,month:3,day:21}},2:{length:31,month:4,day:21},3:{length:31,month:5,day:22},4:{length:31,month:6,day:22},5:{length:31,month:7,day:23},6:{length:31,month:8,day:23},7:{length:30,month:9,day:23},8:{length:30,month:10,day:23},9:{length:30,month:11,day:22},10:{length:30,month:12,day:22},11:{length:30,month:1,nextYear:!0,day:21},12:{length:30,month:2,nextYear:!0,day:20}},this.vulnerableToBceBug=new Date("0000-01-01T00:00Z").toLocaleDateString("en-US-u-ca-indian",{timeZone:"UTC"})!=="10/11/-79 Saka"}inLeapYear(e){return $D(e.year+78)}monthsInYear(){return 12}minimumMonthLength(e){return this.getMonthInfo(e).length}maximumMonthLength(e){return this.getMonthInfo(e).length}getMonthInfo(e){const{month:t}=e;let r=this.months[t];if(r===void 0)throw new RangeError(`Invalid month: ${t}`);return this.inLeapYear(e)&&r.leap&&(r=r.leap),r}estimateIsoDate(e){const t=this.adjustCalendarDate(e),r=this.getMonthInfo(t);return vu(t.year+78+(r.nextYear?1:0),r.month,r.day,0,0,0,t.day-1,"constrain")}checkIcuBugs(e){if(this.vulnerableToBceBug&&e.year<1)throw new RangeError(`calendar '${this.id}' is broken for ISO dates before 0001-01-01 (see https://bugs.chromium.org/p/v8/issues/detail?id=10529)`)}}function $D(n){return n%4==0&&(n%100!=0||n%400==0)}class Ud extends bh{constructor(e,t){super(),this.calendarType="solar",this.v8IsVulnerableToJulianBug=new Date("+001001-01-01T00:00Z").toLocaleDateString("en-US-u-ca-japanese",{timeZone:"UTC"}).startsWith("12"),this.calendarIsVulnerableToJulianBug=!1,this.id=e;const{eras:r,anchorEra:a}=function(l){let c,f=l;if(f.length===0)throw new RangeError("Invalid era data: eras are required");if(f.length===1&&f[0].reverseOf)throw new RangeError("Invalid era data: anchor era cannot count years backwards");if(f.length===1&&!f[0].name)throw new RangeError("Invalid era data: at least one named era is required");if(f.filter(p=>p.reverseOf!=null).length>1)throw new RangeError("Invalid era data: only one era can count years backwards");f.forEach(p=>{if(p.isAnchor||!p.anchorEpoch&&!p.reverseOf){if(c)throw new RangeError("Invalid era data: cannot have multiple anchor eras");c=p,p.anchorEpoch={year:p.hasYearZero?0:1}}else if(!p.name)throw new RangeError("If era name is blank, it must be the anchor era")}),f=f.filter(p=>p.name),f.forEach(p=>{const{reverseOf:v}=p;if(v){const w=f.find(E=>E.name===v);if(w===void 0)throw new RangeError(`Invalid era data: unmatched reverseOf era: ${v}`);p.reverseOf=w,p.anchorEpoch=w.anchorEpoch,p.isoEpoch=w.isoEpoch}p.anchorEpoch.month===void 0&&(p.anchorEpoch.month=1),p.anchorEpoch.day===void 0&&(p.anchorEpoch.day=1)}),O3.call(f,(p,v)=>{if(p.reverseOf)return 1;if(v.reverseOf)return-1;if(!p.isoEpoch||!v.isoEpoch)throw new RangeError("Invalid era data: missing ISO epoch");return v.isoEpoch.year-p.isoEpoch.year});const d=f[f.length-1].reverseOf;if(d&&d!==f[f.length-2])throw new RangeError("Invalid era data: invalid reverse-sign era");return f.forEach((p,v)=>{p.genericName="era"+(f.length-1-v)}),{eras:f,anchorEra:c||f[0]}}(t);this.anchorEra=a,this.eras=r}inLeapYear(e){const{year:t}=this.estimateIsoDate({month:1,day:1,year:e.year});return $D(t)}monthsInYear(){return 12}minimumMonthLength(e){const{month:t}=e;return t===2?this.inLeapYear(e)?29:28:[4,6,9,11].indexOf(t)>=0?30:31}maximumMonthLength(e){return this.minimumMonthLength(e)}completeEraYear(e){const t=(c,f)=>{const d=e[c];if(d!=null&&d!=f)throw new RangeError(`Input ${c} ${d} doesn't match calculated value ${f}`)},r=c=>{let f;const d={...e,year:c},p=this.eras.find((v,w)=>{if(w===this.eras.length-1){if(v.reverseOf){if(c>0)throw new RangeError(`Signed year ${c} is invalid for era ${v.name}`);return f=v.anchorEpoch.year-c,!0}return f=c-v.anchorEpoch.year+(v.hasYearZero?0:1),!0}return this.compareCalendarDates(d,v.anchorEpoch)>=0&&(f=c-v.anchorEpoch.year+(v.hasYearZero?0:1),!0)});if(!p)throw new RangeError(`Year ${c} was not matched by any era`);return{eraYear:f,era:p.name}};let{year:a,eraYear:o,era:l}=e;if(a!=null)({eraYear:o,era:l}=r(a)),t("era",l),t("eraYear",o);else{if(o==null)throw new RangeError("Either `year` or `eraYear` and `era` are required");{const c=l===void 0?void 0:this.eras.find(f=>f.name===l||f.genericName===l);if(!c)throw new RangeError(`Era ${l} (ISO year ${o}) was not matched by any era`);if(o<1&&c.reverseOf)throw new RangeError(`Years in ${l} era must be positive, not ${a}`);a=c.reverseOf?c.anchorEpoch.year-o:o+c.anchorEpoch.year-(c.hasYearZero?0:1),t("year",a),{eraYear:o,era:l}=r(a)}}return{...e,year:a,eraYear:o,era:l}}adjustCalendarDate(e,t,r="constrain"){let a=e;const{month:o,monthCode:l}=a;return o===void 0&&(a={...a,month:CT(l)}),this.validateCalendarDate(a),a=this.completeEraYear(a),super.adjustCalendarDate(a,t,r)}estimateIsoDate(e){const t=this.adjustCalendarDate(e),{year:r,month:a,day:o}=t,{anchorEra:l}=this;return ng(r+l.isoEpoch.year-(l.hasYearZero?0:1),a,o,"constrain")}checkIcuBugs(e){if(this.calendarIsVulnerableToJulianBug&&this.v8IsVulnerableToJulianBug&&el(e.year,e.month,e.day,1582,10,15)<0)throw new RangeError(`calendar '${this.id}' is broken for ISO dates before 1582-10-15 (see https://bugs.chromium.org/p/chromium/issues/detail?id=1173158)`)}}class DT extends Ud{constructor(e,t){super(e,t)}inLeapYear(e){const{year:t}=e;return(t+1)%4==0}monthsInYear(){return 13}minimumMonthLength(e){const{month:t}=e;return t===13?this.inLeapYear(e)?6:5:30}maximumMonthLength(e){return this.minimumMonthLength(e)}}class j3 extends DT{constructor(){super("ethioaa",[{name:"era0",isoEpoch:{year:-5492,month:7,day:17}}])}}class F3 extends DT{constructor(){super("coptic",[{name:"era1",isoEpoch:{year:284,month:8,day:29}},{name:"era0",reverseOf:"era1"}])}}class $3 extends DT{constructor(){super("ethiopic",[{name:"era0",isoEpoch:{year:-5492,month:7,day:17}},{name:"era1",isoEpoch:{year:8,month:8,day:27},anchorEpoch:{year:5501}}])}}class q3 extends Ud{constructor(){super("roc",[{name:"minguo",isoEpoch:{year:1912,month:1,day:1}},{name:"before-roc",reverseOf:"minguo"}]),this.calendarIsVulnerableToJulianBug=!0}}class H3 extends Ud{constructor(){super("buddhist",[{name:"be",hasYearZero:!0,isoEpoch:{year:-543,month:1,day:1}}]),this.calendarIsVulnerableToJulianBug=!0}}class Y3 extends Ud{constructor(){super("gregory",[{name:"ce",isoEpoch:{year:1,month:1,day:1}},{name:"bce",reverseOf:"ce"}])}reviseIntlEra(e){let{era:t,eraYear:r}=e;return t!=="bc"&&t!=="b"||(t="bce"),t!=="ad"&&t!=="a"||(t="ce"),{era:t,eraYear:r}}}class G3 extends Ud{constructor(){super("japanese",[{name:"reiwa",isoEpoch:{year:2019,month:5,day:1},anchorEpoch:{year:2019,month:5,day:1}},{name:"heisei",isoEpoch:{year:1989,month:1,day:8},anchorEpoch:{year:1989,month:1,day:8}},{name:"showa",isoEpoch:{year:1926,month:12,day:25},anchorEpoch:{year:1926,month:12,day:25}},{name:"taisho",isoEpoch:{year:1912,month:7,day:30},anchorEpoch:{year:1912,month:7,day:30}},{name:"meiji",isoEpoch:{year:1868,month:9,day:8},anchorEpoch:{year:1868,month:9,day:8}},{name:"ce",isoEpoch:{year:1,month:1,day:1}},{name:"bce",reverseOf:"ce"}]),this.calendarIsVulnerableToJulianBug=!0,this.eraLength="long",this.erasBeginMidYear=!0}reviseIntlEra(e,t){const{era:r,eraYear:a}=e,{year:o}=t;return this.eras.find(l=>l.name===r)?{era:r,eraYear:a}:o<1?{era:"bce",eraYear:1-o}:{era:"ce",eraYear:o}}}class qD extends bh{constructor(){super(...arguments),this.calendarType="lunisolar",this.hasEra=!1}inLeapYear(e,t){const r=this.getMonthList(e.year,t);return m_(r).length===13}monthsInYear(e,t){return this.inLeapYear(e,t)?13:12}minimumMonthLength(){return 29}maximumMonthLength(){return 30}getMonthList(e,t){if(e===void 0)throw new TypeError("Missing year");const r=JSON.stringify({func:"getMonthList",calendarYear:e,id:this.id}),a=t.get(r);if(a)return a;const o=this.getFormatter(),l=(D,N)=>{const M=jD({isoYear:D,isoMonth:2,isoDay:1}),L=new Date(M);L.setUTCDate(N+1);const $=o.formatToParts(L),P=$.find(I=>I.type==="month").value,H=+$.find(I=>I.type==="day").value;let x=$.find(I=>I.type==="relatedYear");if(x===void 0)throw new RangeError(`Intl.DateTimeFormat.formatToParts lacks relatedYear in ${this.id} calendar. Try Node 14+ or modern browsers.`);return x=+x.value,{calendarMonthString:P,calendarDay:H,calendarYearToVerify:x}};let c=17,{calendarMonthString:f,calendarDay:d,calendarYearToVerify:p}=l(e,c);f!=="1"&&(c+=29,{calendarMonthString:f,calendarDay:d}=l(e,c)),c-=d-5;const v={};let w,E,R=1,S=!1;do({calendarMonthString:f,calendarDay:d,calendarYearToVerify:p}=l(e,c)),w&&(v[E].daysInMonth=w+30-d),p!==e?S=!0:(v[f]={monthIndex:R++},c+=30),w=d,E=f;while(!S);return v[E].daysInMonth=w+30-d,t.set(r,v),v}estimateIsoDate(e){const{year:t,month:r}=e;return{year:t,month:r>=12?12:r+1,day:1}}adjustCalendarDate(e,t,r="constrain",a=!1){let{year:o,month:l,monthExtra:c,day:f,monthCode:d,eraYear:p}=e;if(a){if(o=p,c&&c!=="bis")throw new RangeError(`Unexpected leap month suffix: ${c}`);const v=ao(l,c!==void 0),w=`${l}${c||""}`,E=this.getMonthList(o,t)[w];if(E===void 0)throw new RangeError(`Unmatched month ${w} in Chinese year ${o}`);return l=E.monthIndex,{year:o,month:l,day:f,era:void 0,eraYear:p,monthCode:v}}if(this.validateCalendarDate(e),o===void 0&&(o=p),p===void 0&&(p=o),l===void 0){const v=this.getMonthList(o,t);let w=d.replace("L","bis").slice(1);w[0]==="0"&&(w=w.slice(1));let E=v[w];if(l=E&&E.monthIndex,l===void 0&&d.endsWith("L")&&d!="M13L"&&r==="constrain"){let R=d.slice(1,-1);R[0]==="0"&&(R=R.slice(1)),E=v[R],E&&(l=E.monthIndex,d=ao(R))}if(l===void 0)throw new RangeError(`Unmatched month ${d} in Chinese year ${o}`)}else if(d===void 0){const v=this.getMonthList(o,t),w=m_(v),E=w.length;r==="reject"?(wr(l,1,E),wr(f,1,this.maximumMonthLength())):(l=Si(l,1,E),f=Si(f,1,this.maximumMonthLength()));const R=w.find(([,S])=>S.monthIndex===l);if(R===void 0)throw new RangeError(`Invalid month ${l} in Chinese year ${o}`);d=ao(R[0].replace("bis",""),R[0].indexOf("bis")!==-1)}else{const v=this.getMonthList(o,t);let w=d.replace("L","bis").slice(1);w[0]==="0"&&(w=w.slice(1));const E=v[w];if(!E)throw new RangeError(`Unmatched monthCode ${d} in Chinese year ${o}`);if(l!==E.monthIndex)throw new RangeError(`monthCode ${d} doesn't correspond to month ${l} in Chinese year ${o}`)}return{...e,year:o,eraYear:p,month:l,monthCode:d,day:f}}}class Q3 extends qD{constructor(){super(...arguments),this.id="chinese"}}class K3 extends qD{constructor(){super(...arguments),this.id="dangi"}}class Z3{constructor(e){this.helper=e}dateFromFields(e,t,r){const a=new gn,o=ot(e,this.fields(["day","month","monthCode","year"]),[]),l=Pn(t),{year:c,month:f,day:d}=this.helper.calendarToIsoDate(o,l,a),p=Ji(c,f,d,r);return a.setObject(p),p}yearMonthFromFields(e,t,r){const a=new gn,o=ot(e,this.fields(["month","monthCode","year"]),[]),l=Pn(t),{year:c,month:f,day:d}=this.helper.calendarToIsoDate({...o,day:1},l,a),p=ld(c,f,r,d);return a.setObject(p),p}monthDayFromFields(e,t,r){const a=new gn,o=ot(e,this.fields(["day","month","monthCode","year"]),[]),l=Pn(t),{year:c,month:f,day:d}=this.helper.monthDayFromFields(o,l,a),p=od(f,d,r,c);return a.setObject(p),p}fields(e){let t=e;return UD.call(t,"year")&&(t=[...t,"era","eraYear"]),t}fieldKeysToIgnore(e){const t=new zD;for(let r=0;r<e.length;r++){const a=e[r];switch(Me(xr,t,[a]),a){case"era":Me(xr,t,["eraYear"]),Me(xr,t,["year"]);break;case"eraYear":Me(xr,t,["era"]),Me(xr,t,["year"]);break;case"year":Me(xr,t,["era"]),Me(xr,t,["eraYear"]);break;case"month":Me(xr,t,["monthCode"]),this.helper.erasBeginMidYear&&(Me(xr,t,["era"]),Me(xr,t,["eraYear"]));break;case"monthCode":Me(xr,t,["month"]),this.helper.erasBeginMidYear&&(Me(xr,t,["era"]),Me(xr,t,["eraYear"]));break;case"day":this.helper.erasBeginMidYear&&(Me(xr,t,["era"]),Me(xr,t,["eraYear"]))}}return[...Me(BD,t,[])]}dateAdd(e,t,r,a,o,l,c){const f=gn.getCacheForObject(e),d=this.helper.temporalToCalendarDate(e,f),p=this.helper.addCalendar(d,{years:t,months:r,weeks:a,days:o},l,f),v=this.helper.calendarToIsoDate(p,"constrain",f),{year:w,month:E,day:R}=v,S=Ji(w,E,R,c);return new gn(f).setObject(S),S}dateUntil(e,t,r){const a=gn.getCacheForObject(e),o=gn.getCacheForObject(t),l=this.helper.temporalToCalendarDate(e,a),c=this.helper.temporalToCalendarDate(t,o);return this.helper.untilCalendar(l,c,r,a)}year(e){const t=gn.getCacheForObject(e);return this.helper.temporalToCalendarDate(e,t).year}month(e){const t=gn.getCacheForObject(e);return this.helper.temporalToCalendarDate(e,t).month}day(e){const t=gn.getCacheForObject(e);return this.helper.temporalToCalendarDate(e,t).day}era(e){if(!this.helper.hasEra)return;const t=gn.getCacheForObject(e);return this.helper.temporalToCalendarDate(e,t).era}eraYear(e){if(!this.helper.hasEra)return;const t=gn.getCacheForObject(e);return this.helper.temporalToCalendarDate(e,t).eraYear}monthCode(e){const t=gn.getCacheForObject(e);return this.helper.temporalToCalendarDate(e,t).monthCode}dayOfWeek(e){return cn.iso8601.dayOfWeek(e)}dayOfYear(e){const t=gn.getCacheForObject(e),r=this.helper.isoToCalendarDate(e,t),a=this.helper.startOfCalendarYear(r);return this.helper.calendarDaysUntil(a,r,t)+1}weekOfYear(e){return cn.iso8601.weekOfYear(e)}yearOfWeek(e){return cn.iso8601.yearOfWeek(e)}daysInWeek(e){return cn.iso8601.daysInWeek(e)}daysInMonth(e){const t=gn.getCacheForObject(e),r=this.helper.temporalToCalendarDate(e,t),a=this.helper.maximumMonthLength(r);if(a===this.helper.minimumMonthLength(r))return a;const o=this.helper.startOfCalendarMonth(r),l=this.helper.addMonthsCalendar(o,1,"constrain",t);return this.helper.calendarDaysUntil(o,l,t)}daysInYear(e){let t=e;ar(t,Re)||(t=zt(t));const r=gn.getCacheForObject(t),a=this.helper.temporalToCalendarDate(t,r),o=this.helper.startOfCalendarYear(a),l=this.helper.addCalendar(o,{years:1},"constrain",r);return this.helper.calendarDaysUntil(o,l,r)}monthsInYear(e){const t=gn.getCacheForObject(e),r=this.helper.temporalToCalendarDate(e,t);return this.helper.monthsInYear(r,t)}inLeapYear(e){let t=e;ar(t,Re)||(t=zt(t));const r=gn.getCacheForObject(t),a=this.helper.temporalToCalendarDate(t,r);return this.helper.inLeapYear(a,r)}}for(const n of[x3,z3,$3,j3,F3,Q3,K3,q3,B3,H3,Y3,G3,FD,k3,P3,L3,V3,U3]){const e=new n;cn[e.id]=new Z3(e)}class zd{constructor(e,t,r,a="iso8601"){nD(this,Tt(e),Tt(t),Tt(r),Ii(a))}get calendarId(){if(!ht(this))throw new TypeError("invalid receiver");return br(y(this,W))}get era(){if(!ht(this))throw new TypeError("invalid receiver");return qg(y(this,W),this)}get eraYear(){if(!ht(this))throw new TypeError("invalid receiver");return Hg(y(this,W),this)}get year(){if(!ht(this))throw new TypeError("invalid receiver");return Fg(y(this,W),this)}get month(){if(!ht(this))throw new TypeError("invalid receiver");return $g(y(this,W),this)}get monthCode(){if(!ht(this))throw new TypeError("invalid receiver");return xd(y(this,W),this)}get day(){if(!ht(this))throw new TypeError("invalid receiver");return kd(y(this,W),this)}get dayOfWeek(){if(!ht(this))throw new TypeError("invalid receiver");return uT(y(this,W),this)}get dayOfYear(){if(!ht(this))throw new TypeError("invalid receiver");return cT(y(this,W),this)}get weekOfYear(){if(!ht(this))throw new TypeError("invalid receiver");return hT(y(this,W),this)}get yearOfWeek(){if(!ht(this))throw new TypeError("invalid receiver");return fT(y(this,W),this)}get daysInWeek(){if(!ht(this))throw new TypeError("invalid receiver");return dT(y(this,W),this)}get daysInMonth(){if(!ht(this))throw new TypeError("invalid receiver");return Yg(y(this,W),this)}get daysInYear(){if(!ht(this))throw new TypeError("invalid receiver");return Gg(y(this,W),this)}get monthsInYear(){if(!ht(this))throw new TypeError("invalid receiver");return Qg(y(this,W),this)}get inLeapYear(){if(!ht(this))throw new TypeError("invalid receiver");return Kg(y(this,W),this)}with(e,t){if(!ht(this))throw new TypeError("invalid receiver");if(!an(e))throw new TypeError("invalid argument");vh(e);const r=gt(t),a=y(this,W),o=jn(a,["day","month","monthCode","year"]);let l=ot(this,o,[]);return l=Su(a,l,ot(e,o,"partial")),l=ot(l,o,[]),oo(a,l,r)}withCalendar(e){if(!ht(this))throw new TypeError("invalid receiver");const t=Ii(e);return new zd(y(this,Re),y(this,Se),y(this,De),t)}add(e,t){if(!ht(this))throw new TypeError("invalid receiver");const r=jc(e),a=gt(t);return Tr(y(this,W),this,r,a)}subtract(e,t){if(!ht(this))throw new TypeError("invalid receiver");const r=yD(jc(e)),a=gt(t);return Tr(y(this,W),this,r,a)}until(e,t){if(!ht(this))throw new TypeError("invalid receiver");return JR("until",this,e,t)}since(e,t){if(!ht(this))throw new TypeError("invalid receiver");return JR("since",this,e,t)}equals(e){if(!ht(this))throw new TypeError("invalid receiver");const t=zt(e);for(const r of[Re,Se,De])if(y(this,r)!==y(t,r))return!1;return Ld(y(this,W),y(t,W))}toString(e){if(!ht(this))throw new TypeError("invalid receiver");return qR(this,Id(gt(e)))}toJSON(){if(!ht(this))throw new TypeError("invalid receiver");return qR(this)}toLocaleString(e,t){if(!ht(this))throw new TypeError("invalid receiver");return new Al(e,t).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainDate")}toPlainDateTime(e){if(!ht(this))throw new TypeError("invalid receiver");const t=y(this,Re),r=y(this,Se),a=y(this,De),o=y(this,W);if(e===void 0)return Ri(t,r,a,0,0,0,0,0,0,o);const l=Js(e);return Ri(t,r,a,y(l,We),y(l,Je),y(l,et),y(l,tt),y(l,nt),y(l,rt),o)}toZonedDateTime(e){if(!ht(this))throw new TypeError("invalid receiver");let t,r;if(an(e))if(Gi(e))t=e;else{const R=e.timeZone;R===void 0?t=Vr(e):(t=Vr(R),r=e.plainTime)}else t=Vr(e);const a=y(this,Re),o=y(this,Se),l=y(this,De),c=y(this,W);let f=0,d=0,p=0,v=0,w=0,E=0;return r!==void 0&&(r=Js(r),f=y(r,We),d=y(r,Je),p=y(r,et),v=y(r,tt),w=y(r,nt),E=y(r,rt)),_r(y(ei(t,Ri(a,o,l,f,d,p,v,w,E,c),"compatible"),ze),t,c)}toPlainYearMonth(){if(!ht(this))throw new TypeError("invalid receiver");const e=y(this,W);return Au(e,ot(this,jn(e,["monthCode","year"]),[]))}toPlainMonthDay(){if(!ht(this))throw new TypeError("invalid receiver");const e=y(this,W);return nh(e,ot(this,jn(e,["day","monthCode"]),[]))}getISOFields(){if(!ht(this))throw new TypeError("invalid receiver");return{calendar:y(this,W),isoDay:y(this,De),isoMonth:y(this,Se),isoYear:y(this,Re)}}getCalendar(){if(!ht(this))throw new TypeError("invalid receiver");return wh(y(this,W))}static from(e,t){const r=gt(t);return ht(e)?(Pn(r),Ji(y(e,Re),y(e,Se),y(e,De),y(e,W))):zt(e,r)}static compare(e,t){const r=zt(e),a=zt(t);return el(y(r,Re),y(r,Se),y(r,De),y(a,Re),y(a,Se),y(a,De))}}Ss(zd,"Temporal.PlainDate");class Bd{constructor(e,t,r,a=0,o=0,l=0,c=0,f=0,d=0,p="iso8601"){rD(this,Tt(e),Tt(t),Tt(r),a===void 0?0:Tt(a),o===void 0?0:Tt(o),l===void 0?0:Tt(l),c===void 0?0:Tt(c),f===void 0?0:Tt(f),d===void 0?0:Tt(d),Ii(p))}get calendarId(){if(!Ze(this))throw new TypeError("invalid receiver");return br(y(this,W))}get year(){if(!Ze(this))throw new TypeError("invalid receiver");return Fg(y(this,W),this)}get month(){if(!Ze(this))throw new TypeError("invalid receiver");return $g(y(this,W),this)}get monthCode(){if(!Ze(this))throw new TypeError("invalid receiver");return xd(y(this,W),this)}get day(){if(!Ze(this))throw new TypeError("invalid receiver");return kd(y(this,W),this)}get hour(){if(!Ze(this))throw new TypeError("invalid receiver");return y(this,We)}get minute(){if(!Ze(this))throw new TypeError("invalid receiver");return y(this,Je)}get second(){if(!Ze(this))throw new TypeError("invalid receiver");return y(this,et)}get millisecond(){if(!Ze(this))throw new TypeError("invalid receiver");return y(this,tt)}get microsecond(){if(!Ze(this))throw new TypeError("invalid receiver");return y(this,nt)}get nanosecond(){if(!Ze(this))throw new TypeError("invalid receiver");return y(this,rt)}get era(){if(!Ze(this))throw new TypeError("invalid receiver");return qg(y(this,W),this)}get eraYear(){if(!Ze(this))throw new TypeError("invalid receiver");return Hg(y(this,W),this)}get dayOfWeek(){if(!Ze(this))throw new TypeError("invalid receiver");return uT(y(this,W),this)}get dayOfYear(){if(!Ze(this))throw new TypeError("invalid receiver");return cT(y(this,W),this)}get weekOfYear(){if(!Ze(this))throw new TypeError("invalid receiver");return hT(y(this,W),this)}get yearOfWeek(){if(!Ze(this))throw new TypeError("invalid receiver");return fT(y(this,W),this)}get daysInWeek(){if(!Ze(this))throw new TypeError("invalid receiver");return dT(y(this,W),this)}get daysInYear(){if(!Ze(this))throw new TypeError("invalid receiver");return Gg(y(this,W),this)}get daysInMonth(){if(!Ze(this))throw new TypeError("invalid receiver");return Yg(y(this,W),this)}get monthsInYear(){if(!Ze(this))throw new TypeError("invalid receiver");return Qg(y(this,W),this)}get inLeapYear(){if(!Ze(this))throw new TypeError("invalid receiver");return Kg(y(this,W),this)}with(e,t){if(!Ze(this))throw new TypeError("invalid receiver");if(!an(e))throw new TypeError("invalid argument");vh(e);const r=gt(t),a=y(this,W),o=jn(a,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]);let l=ot(this,o,[]);l=Su(a,l,ot(e,o,"partial")),l=ot(l,o,[]);const{year:c,month:f,day:d,hour:p,minute:v,second:w,millisecond:E,microsecond:R,nanosecond:S}=Md(a,l,r);return Ri(c,f,d,p,v,w,E,R,S,a)}withPlainTime(e){if(!Ze(this))throw new TypeError("invalid receiver");const t=y(this,Re),r=y(this,Se),a=y(this,De),o=y(this,W);if(e===void 0)return Ri(t,r,a,0,0,0,0,0,0,o);const l=Js(e);return Ri(t,r,a,y(l,We),y(l,Je),y(l,et),y(l,tt),y(l,nt),y(l,rt),o)}withPlainDate(e){if(!Ze(this))throw new TypeError("invalid receiver");const t=zt(e),r=y(t,Re),a=y(t,Se),o=y(t,De);let l=y(t,W);const c=y(this,We),f=y(this,Je),d=y(this,et),p=y(this,tt),v=y(this,nt),w=y(this,rt);return l=oD(y(this,W),l),Ri(r,a,o,c,f,d,p,v,w,l)}withCalendar(e){if(!Ze(this))throw new TypeError("invalid receiver");const t=Ii(e);return new Bd(y(this,Re),y(this,Se),y(this,De),y(this,We),y(this,Je),y(this,et),y(this,tt),y(this,nt),y(this,rt),t)}add(e,t){if(!Ze(this))throw new TypeError("invalid receiver");return sS("add",this,e,t)}subtract(e,t){if(!Ze(this))throw new TypeError("invalid receiver");return sS("subtract",this,e,t)}until(e,t){if(!Ze(this))throw new TypeError("invalid receiver");return eS("until",this,e,t)}since(e,t){if(!Ze(this))throw new TypeError("invalid receiver");return eS("since",this,e,t)}round(e){if(!Ze(this))throw new TypeError("invalid receiver");if(e===void 0)throw new TypeError("options parameter is required");const t=typeof e=="string"?ah("smallestUnit",e):gt(e),r=_h(t),a=Va(t,"halfExpand"),o=Di(t,"smallestUnit","time",bu,["day"]),l={day:1,hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[o];Th(r,l,l===1);let c=y(this,Re),f=y(this,Se),d=y(this,De),p=y(this,We),v=y(this,Je),w=y(this,et),E=y(this,tt),R=y(this,nt),S=y(this,rt);return{year:c,month:f,day:d,hour:p,minute:v,second:w,millisecond:E,microsecond:R,nanosecond:S}=ET(c,f,d,p,v,w,E,R,S,r,o,a),Ri(c,f,d,p,v,w,E,R,S,y(this,W))}equals(e){if(!Ze(this))throw new TypeError("invalid receiver");const t=pu(e);for(const r of[Re,Se,De,We,Je,et,tt,nt,rt])if(y(this,r)!==y(t,r))return!1;return Ld(y(this,W),y(t,W))}toString(e){if(!Ze(this))throw new TypeError("invalid receiver");const t=gt(e),r=Id(t),a=Od(t),o=Va(t,"trunc"),l=Di(t,"smallestUnit","time",void 0);if(l==="hour")throw new RangeError('smallestUnit must be a time unit other than "hour"');const{precision:c,unit:f,increment:d}=Nd(l,a);return HR(this,c,r,{unit:f,increment:d,roundingMode:o})}toJSON(){if(!Ze(this))throw new TypeError("invalid receiver");return HR(this,"auto")}toLocaleString(e,t){if(!Ze(this))throw new TypeError("invalid receiver");return new Al(e,t).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainDateTime")}toZonedDateTime(e,t){if(!Ze(this))throw new TypeError("invalid receiver");const r=Vr(e);return _r(y(ei(r,this,th(gt(t))),ze),r,y(this,W))}toPlainDate(){if(!Ze(this))throw new TypeError("invalid receiver");return rh(this)}toPlainYearMonth(){if(!Ze(this))throw new TypeError("invalid receiver");const e=y(this,W);return Au(e,ot(this,jn(e,["monthCode","year"]),[]))}toPlainMonthDay(){if(!Ze(this))throw new TypeError("invalid receiver");const e=y(this,W);return nh(e,ot(this,jn(e,["day","monthCode"]),[]))}toPlainTime(){if(!Ze(this))throw new TypeError("invalid receiver");return mT(this)}getISOFields(){if(!Ze(this))throw new TypeError("invalid receiver");return{calendar:y(this,W),isoDay:y(this,De),isoHour:y(this,We),isoMicrosecond:y(this,nt),isoMillisecond:y(this,tt),isoMinute:y(this,Je),isoMonth:y(this,Se),isoNanosecond:y(this,rt),isoSecond:y(this,et),isoYear:y(this,Re)}}getCalendar(){if(!Ze(this))throw new TypeError("invalid receiver");return wh(y(this,W))}static from(e,t){const r=gt(t);return Ze(e)?(Pn(r),Ri(y(e,Re),y(e,Se),y(e,De),y(e,We),y(e,Je),y(e,et),y(e,tt),y(e,nt),y(e,rt),y(e,W))):pu(e,r)}static compare(e,t){const r=pu(e),a=pu(t);for(const o of[Re,Se,De,We,Je,et,tt,nt,rt]){const l=y(r,o),c=y(a,o);if(l!==c)return _u(l-c)}return 0}}Ss(Bd,"Temporal.PlainDateTime");class tl{constructor(e=0,t=0,r=0,a=0,o=0,l=0,c=0,f=0,d=0,p=0){const v=e===void 0?0:nr(e),w=t===void 0?0:nr(t),E=r===void 0?0:nr(r),R=a===void 0?0:nr(a),S=o===void 0?0:nr(o),D=l===void 0?0:nr(l),N=c===void 0?0:nr(c),M=f===void 0?0:nr(f),L=d===void 0?0:nr(d),$=p===void 0?0:nr(p);lg(v,w,E,R,S,D,N,M,L,$),As(this),it(this,qr,v),it(this,hr,w),it(this,ui,E),it(this,Hr,R),it(this,Yr,S),it(this,Gr,D),it(this,Qr,N),it(this,Kr,M),it(this,Zr,L),it(this,Xr,$)}get years(){if(!En(this))throw new TypeError("invalid receiver");return y(this,qr)}get months(){if(!En(this))throw new TypeError("invalid receiver");return y(this,hr)}get weeks(){if(!En(this))throw new TypeError("invalid receiver");return y(this,ui)}get days(){if(!En(this))throw new TypeError("invalid receiver");return y(this,Hr)}get hours(){if(!En(this))throw new TypeError("invalid receiver");return y(this,Yr)}get minutes(){if(!En(this))throw new TypeError("invalid receiver");return y(this,Gr)}get seconds(){if(!En(this))throw new TypeError("invalid receiver");return y(this,Qr)}get milliseconds(){if(!En(this))throw new TypeError("invalid receiver");return y(this,Kr)}get microseconds(){if(!En(this))throw new TypeError("invalid receiver");return y(this,Zr)}get nanoseconds(){if(!En(this))throw new TypeError("invalid receiver");return y(this,Xr)}get sign(){if(!En(this))throw new TypeError("invalid receiver");return ms(y(this,qr),y(this,hr),y(this,ui),y(this,Hr),y(this,Yr),y(this,Gr),y(this,Qr),y(this,Kr),y(this,Zr),y(this,Xr))}get blank(){if(!En(this))throw new TypeError("invalid receiver");return ms(y(this,qr),y(this,hr),y(this,ui),y(this,Hr),y(this,Yr),y(this,Gr),y(this,Qr),y(this,Kr),y(this,Zr),y(this,Xr))===0}with(e){if(!En(this))throw new TypeError("invalid receiver");const t=ot(e,["days","hours","microseconds","milliseconds","minutes","months","nanoseconds","seconds","weeks","years"],"partial"),{years:r=y(this,qr),months:a=y(this,hr),weeks:o=y(this,ui),days:l=y(this,Hr),hours:c=y(this,Yr),minutes:f=y(this,Gr),seconds:d=y(this,Qr),milliseconds:p=y(this,Kr),microseconds:v=y(this,Zr),nanoseconds:w=y(this,Xr)}=t;return new tl(r,a,o,l,c,f,d,p,v,w)}negated(){if(!En(this))throw new TypeError("invalid receiver");return yD(this)}abs(){if(!En(this))throw new TypeError("invalid receiver");return new tl(Math.abs(y(this,qr)),Math.abs(y(this,hr)),Math.abs(y(this,ui)),Math.abs(y(this,Hr)),Math.abs(y(this,Yr)),Math.abs(y(this,Gr)),Math.abs(y(this,Qr)),Math.abs(y(this,Kr)),Math.abs(y(this,Zr)),Math.abs(y(this,Xr)))}add(e,t){if(!En(this))throw new TypeError("invalid receiver");return iS("add",this,e,t)}subtract(e,t){if(!En(this))throw new TypeError("invalid receiver");return iS("subtract",this,e,t)}round(e){if(!En(this))throw new TypeError("invalid receiver");if(e===void 0)throw new TypeError("options parameter is required");let t=y(this,qr),r=y(this,hr),a=y(this,ui),o=y(this,Hr),l=y(this,Yr),c=y(this,Gr),f=y(this,Qr),d=y(this,Kr),p=y(this,Zr),v=y(this,Xr),w=o_(t,r,a,o,l,c,f,d,p,v);const E=typeof e=="string"?ah("smallestUnit",e):gt(e);let R=Di(E,"largestUnit","datetime",void 0,["auto"]),S=Np(E);const D=_h(E),N=Va(E,"halfExpand");let M=Di(E,"smallestUnit","datetime",void 0),L=!0;M||(L=!1,M="nanosecond"),w=Ru(w,M);let $=!0;if(R||($=!1,R=w),R==="auto"&&(R=w),!L&&!$)throw new RangeError("at least one of smallestUnit or largestUnit is required");if(Ru(R,M)!==R)throw new RangeError(`largestUnit ${R} cannot be smaller than smallestUnit ${M}`);const P={hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[M];return P!==void 0&&Th(D,P,!1),{years:t,months:r,weeks:a,days:o}=gp(t,r,a,o,R,S),{years:t,months:r,weeks:a,days:o,hours:l,minutes:c,seconds:f,milliseconds:d,microseconds:p,nanoseconds:v}=lo(t,r,a,o,l,c,f,d,p,v,D,M,N,S),{years:t,months:r,weeks:a,days:o,hours:l,minutes:c,seconds:f,milliseconds:d,microseconds:p,nanoseconds:v}=AD(t,r,a,o,l,c,f,d,p,v,D,M,N,S),{days:o,hours:l,minutes:c,seconds:f,milliseconds:d,microseconds:p,nanoseconds:v}=ba(o,l,c,f,d,p,v,R,S),{years:t,months:r,weeks:a,days:o}=function(x,I,O,z,B,q){const U=ye("%Temporal.Duration%"),we=ms(x,I,O,z,0,0,0,0,0,0);if(we===0)return{years:x,months:I,weeks:O,days:z};const ie=_.BigInt(we);let te,he,pe=_.BigInt(x),le=_.BigInt(I),F=_.BigInt(O),ae=_.BigInt(z);q&&(he=zt(q),te=y(he,W));const Te=new U(we),_e=new U(0,we),ve=new U(0,0,we);switch(B){case"year":{if(!te)throw new RangeError("a starting point is required for years balancing");const Ae=typeof te!="string"?Ct(te,"dateAdd"):void 0;let Ie,Ke,lt;for({relativeTo:Ie,days:Ke}=Pr(te,he,Te,Ae);_.greaterThanOrEqual(ka(ae),_.BigInt(nn(Ke)));)ae=_.subtract(ae,_.BigInt(Ke)),pe=_.add(pe,ie),he=Ie,{relativeTo:Ie,days:Ke}=Pr(te,he,Te,Ae);for({relativeTo:Ie,days:lt}=Pr(te,he,_e,Ae);_.greaterThanOrEqual(ka(ae),_.BigInt(nn(lt)));)ae=_.subtract(ae,_.BigInt(lt)),le=_.add(le,ie),he=Ie,{relativeTo:Ie,days:lt}=Pr(te,he,_e,Ae);Ie=Tr(te,he,Te,void 0,Ae);const Ye=typeof te!="string"?Ct(te,"dateUntil"):void 0,Ge=Ur(null);Ge.largestUnit="month";let Ft=fl(te,he,Ie,Ge,Ye),Cn=y(Ft,hr);for(;_.greaterThanOrEqual(ka(le),_.BigInt(nn(Cn)));){le=_.subtract(le,_.BigInt(Cn)),pe=_.add(pe,ie),he=Ie,Ie=Tr(te,he,Te,void 0,Ae);const mt=Ur(null);mt.largestUnit="month",Ft=fl(te,he,Ie,mt,Ye),Cn=y(Ft,hr)}break}case"month":{if(!te)throw new RangeError("a starting point is required for months balancing");const Ae=typeof te!="string"?Ct(te,"dateAdd"):void 0;let Ie,Ke;for({relativeTo:Ie,days:Ke}=Pr(te,he,_e,Ae);_.greaterThanOrEqual(ka(ae),_.BigInt(nn(Ke)));)ae=_.subtract(ae,_.BigInt(Ke)),le=_.add(le,ie),he=Ie,{relativeTo:Ie,days:Ke}=Pr(te,he,_e,Ae);break}case"week":{if(!te)throw new RangeError("a starting point is required for weeks balancing");const Ae=typeof te!="string"?Ct(te,"dateAdd"):void 0;let Ie,Ke;for({relativeTo:Ie,days:Ke}=Pr(te,he,ve,Ae);_.greaterThanOrEqual(ka(ae),_.BigInt(nn(Ke)));)ae=_.subtract(ae,_.BigInt(Ke)),F=_.add(F,ie),he=Ie,{relativeTo:Ie,days:Ke}=Pr(te,he,ve,Ae);break}}return{years:_.toNumber(pe),months:_.toNumber(le),weeks:_.toNumber(F),days:_.toNumber(ae)}}(t,r,a,o,R,S),new tl(t,r,a,o,l,c,f,d,p,v)}total(e){if(!En(this))throw new TypeError("invalid receiver");let t=y(this,qr),r=y(this,hr),a=y(this,ui),o=y(this,Hr),l=y(this,Yr),c=y(this,Gr),f=y(this,Qr),d=y(this,Kr),p=y(this,Zr),v=y(this,Xr);if(e===void 0)throw new TypeError("options argument is required");const w=typeof e=="string"?ah("unit",e):gt(e),E=Np(w),R=Di(w,"unit","datetime",bu);let S;({years:t,months:r,weeks:a,days:o}=gp(t,r,a,o,R,E)),Ne(E)&&(S=SD(E,t,r,a,0));let D=gD(o,l,c,f,d,p,v,R,S);if(D==="positive overflow")return 1/0;if(D==="negative overflow")return-1/0;({days:o,hours:l,minutes:c,seconds:f,milliseconds:d,microseconds:p,nanoseconds:v}=D);const{total:N}=lo(t,r,a,o,l,c,f,d,p,v,1,R,"trunc",E);return N}toString(e){if(!En(this))throw new TypeError("invalid receiver");const t=gt(e),r=Od(t),a=Va(t,"trunc"),o=Di(t,"smallestUnit","time",void 0);if(o==="hour"||o==="minute")throw new RangeError('smallestUnit must be a time unit other than "hours" or "minutes"');const{precision:l,unit:c,increment:f}=Nd(o,r);return Ov(this,l,{unit:c,increment:f,roundingMode:a})}toJSON(){if(!En(this))throw new TypeError("invalid receiver");return Ov(this)}toLocaleString(e,t){if(!En(this))throw new TypeError("invalid receiver");return typeof Intl<"u"&&Intl.DurationFormat!==void 0?new Intl.DurationFormat(e,t).format(this):(console.warn("Temporal.Duration.prototype.toLocaleString() requires Intl.DurationFormat."),Ov(this))}valueOf(){throw new TypeError("use compare() to compare Temporal.Duration")}static from(e){return En(e)?new tl(y(e,qr),y(e,hr),y(e,ui),y(e,Hr),y(e,Yr),y(e,Gr),y(e,Qr),y(e,Kr),y(e,Zr),y(e,Xr)):jc(e)}static compare(e,t,r){const a=jc(e),o=jc(t),l=Np(gt(r)),c=y(a,qr),f=y(a,hr),d=y(a,ui);let p=y(a,Hr);const v=y(a,Yr),w=y(a,Gr),E=y(a,Qr),R=y(a,Kr),S=y(a,Zr);let D=y(a,Xr);const N=y(o,qr),M=y(o,hr),L=y(o,ui);let $=y(o,Hr);const P=y(o,Yr),H=y(o,Gr),x=y(o,Qr),I=y(o,Kr),O=y(o,Zr);let z=y(o,Xr);const B=XR(l,c,f,d,p),q=XR(l,N,M,L,$);c===0&&N===0&&f===0&&M===0&&d===0&&L===0||({days:p}=gp(c,f,d,p,"day",l),{days:$}=gp(N,M,L,$,"day",l));const U=ih(p,v,w,E,R,S,D,B),we=ih($,P,H,x,I,O,z,q);return _u(_.toNumber(_.subtract(U,we)))}}Ss(tl,"Temporal.Duration");const X3=Object.create;class IT{constructor(e,t,r="iso8601",a=1972){iD(this,Tt(e),Tt(t),Ii(r),Tt(a))}get monthCode(){if(!tr(this))throw new TypeError("invalid receiver");return xd(y(this,W),this)}get day(){if(!tr(this))throw new TypeError("invalid receiver");return kd(y(this,W),this)}get calendarId(){if(!tr(this))throw new TypeError("invalid receiver");return br(y(this,W))}with(e,t){if(!tr(this))throw new TypeError("invalid receiver");if(!an(e))throw new TypeError("invalid argument");vh(e);const r=gt(t),a=y(this,W),o=jn(a,["day","month","monthCode","year"]);let l=ot(this,o,[]);return l=Su(a,l,ot(e,o,"partial")),l=ot(l,o,[]),nh(a,l,r)}equals(e){if(!tr(this))throw new TypeError("invalid receiver");const t=FR(e);for(const r of[Se,De,Re])if(y(this,r)!==y(t,r))return!1;return Ld(y(this,W),y(t,W))}toString(e){if(!tr(this))throw new TypeError("invalid receiver");return YR(this,Id(gt(e)))}toJSON(){if(!tr(this))throw new TypeError("invalid receiver");return YR(this)}toLocaleString(e,t){if(!tr(this))throw new TypeError("invalid receiver");return new Al(e,t).format(this)}valueOf(){throw new TypeError("use equals() to compare Temporal.PlainMonthDay")}toPlainDate(e){if(!tr(this))throw new TypeError("invalid receiver");if(!an(e))throw new TypeError("argument should be an object");const t=y(this,W),r=jn(t,["day","monthCode"]),a=ot(this,r,[]),o=jn(t,["year"]);let l=Su(t,a,ot(e,o,[]));l=ot(l,[...new Set([...r,...o])],[]);const c=X3(null);return c.overflow="reject",oo(t,l,c)}getISOFields(){if(!tr(this))throw new TypeError("invalid receiver");return{calendar:y(this,W),isoDay:y(this,De),isoMonth:y(this,Se),isoYear:y(this,Re)}}getCalendar(){if(!tr(this))throw new TypeError("invalid receiver");return wh(y(this,W))}static from(e,t){const r=gt(t);return tr(e)?(Pn(r),od(y(e,Se),y(e,De),y(e,W),y(e,Re))):FR(e,r)}}Ss(IT,"Temporal.PlainMonthDay");const OT=()=>new(ye("%Temporal.Instant%"))(RT()),hS=(n,e=Ko())=>{const t=Vr(e),r=Ii(n);return Ui(t,OT(),r)},kv=(n=Ko())=>Ui(Vr(n),OT(),"iso8601"),fS=(n,e=Ko())=>{const t=Vr(e),r=Ii(n);return _r(RT(),t,r)},HD={instant:OT,plainDateTime:hS,plainDateTimeISO:kv,plainDate:(n,e=Ko())=>rh(hS(n,e)),plainDateISO:(n=Ko())=>rh(kv(n)),plainTimeISO:(n=Ko())=>mT(kv(n)),timeZoneId:()=>Ko(),zonedDateTime:fS,zonedDateTimeISO:(n=Ko())=>fS("iso8601",n),[Symbol.toStringTag]:"Temporal.Now"};Object.defineProperty(HD,Symbol.toStringTag,{value:"Temporal.Now",writable:!1,enumerable:!1,configurable:!0});const W3=Object.assign;function dS(n,e,t){let r=y(n,We),a=y(n,Je),o=y(n,et),l=y(n,tt),c=y(n,nt),f=y(n,rt);if(t){const{unit:d,increment:p,roundingMode:v}=t;({hour:r,minute:a,second:o,millisecond:l,microsecond:c,nanosecond:f}=bT(r,a,o,l,c,f,p,d,v))}return`${hn(r)}:${hn(a)}${Xg(o,l,c,f,e)}`}class Tu{constructor(e=0,t=0,r=0,a=0,o=0,l=0){const c=e===void 0?0:Tt(e),f=t===void 0?0:Tt(t),d=r===void 0?0:Tt(r),p=a===void 0?0:Tt(a),v=o===void 0?0:Tt(o),w=l===void 0?0:Tt(l);ey(c,f,d,p,v,w),As(this),it(this,We,c),it(this,Je,f),it(this,et,d),it(this,tt,p),it(this,nt,v),it(this,rt,w)}get hour(){if(!bn(this))throw new TypeError("invalid receiver");return y(this,We)}get minute(){if(!bn(this))throw new TypeError("invalid receiver");return y(this,Je)}get second(){if(!bn(this))throw new TypeError("invalid receiver");return y(this,et)}get millisecond(){if(!bn(this))throw new TypeError("invalid receiver");return y(this,tt)}get microsecond(){if(!bn(this))throw new TypeError("invalid receiver");return y(this,nt)}get nanosecond(){if(!bn(this))throw new TypeError("invalid receiver");return y(this,rt)}with(e,t){if(!bn(this))throw new TypeError("invalid receiver");if(!an(e))throw new TypeError("invalid argument");vh(e);const r=Pn(gt(t)),a=ig(e,"partial"),o=ig(this);let{hour:l,minute:c,second:f,millisecond:d,microsecond:p,nanosecond:v}=W3(o,a);return{hour:l,minute:c,second:f,millisecond:d,microsecond:p,nanosecond:v}=jg(l,c,f,d,p,v,r),new Tu(l,c,f,d,p,v)}add(e){if(!bn(this))throw new TypeError("invalid receiver");return oS("add",this,e)}subtract(e){if(!bn(this))throw new TypeError("invalid receiver");return oS("subtract",this,e)}until(e,t){if(!bn(this))throw new TypeError("invalid receiver");return tS("until",this,e,t)}since(e,t){if(!bn(this))throw new TypeError("invalid receiver");return tS("since",this,e,t)}round(e){if(!bn(this))throw new TypeError("invalid receiver");if(e===void 0)throw new TypeError("options parameter is required");const t=typeof e=="string"?ah("smallestUnit",e):gt(e),r=_h(t),a=Va(t,"halfExpand"),o=Di(t,"smallestUnit","time",bu);Th(r,{hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[o],!1);let l=y(this,We),c=y(this,Je),f=y(this,et),d=y(this,tt),p=y(this,nt),v=y(this,rt);return{hour:l,minute:c,second:f,millisecond:d,microsecond:p,nanosecond:v}=bT(l,c,f,d,p,v,r,o,a),new Tu(l,c,f,d,p,v)}equals(e){if(!bn(this))throw new TypeError("invalid receiver");const t=Js(e);for(const r of[We,Je,et,tt,nt,rt])if(y(this,r)!==y(t,r))return!1;return!0}toString(e){if(!bn(this))throw new TypeError("invalid receiver");const t=gt(e),r=Od(t),a=Va(t,"trunc"),o=Di(t,"smallestUnit","time",void 0);if(o==="hour")throw new RangeError('smallestUnit must be a time unit other than "hour"');const{precision:l,unit:c,increment:f}=Nd(o,r);return dS(this,l,{unit:c,increment:f,roundingMode:a})}toJSON(){if(!bn(this))throw new TypeError("invalid receiver");return dS(this,"auto")}toLocaleString(e,t){if(!bn(this))throw new TypeError("invalid receiver");return new Al(e,t).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainTime")}toPlainDateTime(e){if(!bn(this))throw new TypeError("invalid receiver");const t=zt(e),r=y(t,Re),a=y(t,Se),o=y(t,De),l=y(t,W);return Ri(r,a,o,y(this,We),y(this,Je),y(this,et),y(this,tt),y(this,nt),y(this,rt),l)}toZonedDateTime(e){if(!bn(this))throw new TypeError("invalid receiver");if(!an(e))throw new TypeError("invalid argument");const t=e.plainDate;if(t===void 0)throw new TypeError("missing date property");const r=zt(t),a=e.timeZone;if(a===void 0)throw new TypeError("missing timeZone property");const o=Vr(a),l=y(r,Re),c=y(r,Se),f=y(r,De),d=y(r,W),p=y(this,We),v=y(this,Je),w=y(this,et),E=y(this,tt),R=y(this,nt),S=y(this,rt);return _r(y(ei(o,new(ye("%Temporal.PlainDateTime%"))(l,c,f,p,v,w,E,R,S,d),"compatible"),ze),o,d)}getISOFields(){if(!bn(this))throw new TypeError("invalid receiver");return{isoHour:y(this,We),isoMicrosecond:y(this,nt),isoMillisecond:y(this,tt),isoMinute:y(this,Je),isoNanosecond:y(this,rt),isoSecond:y(this,et)}}static from(e,t){const r=Pn(gt(t));return bn(e)?new Tu(y(e,We),y(e,Je),y(e,et),y(e,tt),y(e,nt),y(e,rt)):Js(e,r)}static compare(e,t){const r=Js(e),a=Js(t);for(const o of[We,Je,et,tt,nt,rt]){const l=y(r,o),c=y(a,o);if(l!==c)return _u(l-c)}return 0}}Ss(Tu,"Temporal.PlainTime");class Qf{constructor(e){if(arguments.length<1)throw new RangeError("missing argument: identifier is required");const t=pT(e);As(this),it(this,ls,t)}get id(){if(!Gi(this))throw new TypeError("invalid receiver");return y(this,ls)}getOffsetNanosecondsFor(e){if(!Gi(this))throw new TypeError("invalid receiver");const t=Pa(e),r=y(this,ls);return kc(r)?dl(r):ro(r,y(t,ze))}getOffsetStringFor(e){if(!Gi(this))throw new TypeError("invalid receiver");return l_(this,Pa(e))}getPlainDateTimeFor(e,t="iso8601"){if(!Gi(this))throw new TypeError("invalid receiver");return Ui(this,Pa(e),Ii(t))}getInstantFor(e,t){if(!Gi(this))throw new TypeError("invalid receiver");return ei(this,pu(e),th(gt(t)))}getPossibleInstantsFor(e){if(!Gi(this))throw new TypeError("invalid receiver");const t=pu(e),r=ye("%Temporal.Instant%"),a=y(this,ls);if(kc(a)){const l=ml(y(t,Re),y(t,Se),y(t,De),y(t,We),y(t,Je),y(t,et),y(t,tt),y(t,nt),y(t,rt));if(l===null)throw new RangeError("DateTime outside of supported range");const c=dl(a);return[new r(_.subtract(l,_.BigInt(c)))]}return function(c,f,d,p,v,w,E,R,S,D){const N=ml(f,d,p,v,w,E,R,S,D);if(N===null)throw new RangeError("DateTime outside of supported range");let M=_.subtract(N,Ts);_.lessThan(M,sd)&&(M=N);let L=_.add(N,Ts);_.greaterThan(L,Jc)&&(L=N);const $=ro(c,M),P=ro(c,L);return($===P?[$]:[$,P]).map(H=>{const x=_.subtract(N,_.BigInt(H)),I=dD(c,x);if(f===I.year&&d===I.month&&p===I.day&&v===I.hour&&w===I.minute&&E===I.second&&R===I.millisecond&&S===I.microsecond&&D===I.nanosecond)return x}).filter(H=>H!==void 0)}(a,y(t,Re),y(t,Se),y(t,De),y(t,We),y(t,Je),y(t,et),y(t,tt),y(t,nt),y(t,rt)).map(l=>new r(l))}getNextTransition(e){if(!Gi(this))throw new TypeError("invalid receiver");const t=Pa(e),r=y(this,ls);if(kc(r)||r==="UTC")return null;let a=y(t,ze);const o=ye("%Temporal.Instant%");return a=pD(r,a),a===null?null:new o(a)}getPreviousTransition(e){if(!Gi(this))throw new TypeError("invalid receiver");const t=Pa(e),r=y(this,ls);if(kc(r)||r==="UTC")return null;let a=y(t,ze);const o=ye("%Temporal.Instant%");return a=u_(r,a),a===null?null:new o(a)}toString(){if(!Gi(this))throw new TypeError("invalid receiver");return y(this,ls)}toJSON(){if(!Gi(this))throw new TypeError("invalid receiver");return y(this,ls)}static from(e){return lD(Vr(e))}}Ss(Qf,"Temporal.TimeZone"),pn("Temporal.TimeZone.prototype.getOffsetNanosecondsFor",Qf.prototype.getOffsetNanosecondsFor),pn("Temporal.TimeZone.prototype.getPossibleInstantsFor",Qf.prototype.getPossibleInstantsFor);const J3=Object.create;class NT{constructor(e,t,r="iso8601",a=1){aD(this,Tt(e),Tt(t),Ii(r),Tt(a))}get year(){if(!bt(this))throw new TypeError("invalid receiver");return Fg(y(this,W),this)}get month(){if(!bt(this))throw new TypeError("invalid receiver");return $g(y(this,W),this)}get monthCode(){if(!bt(this))throw new TypeError("invalid receiver");return xd(y(this,W),this)}get calendarId(){if(!bt(this))throw new TypeError("invalid receiver");return br(y(this,W))}get era(){if(!bt(this))throw new TypeError("invalid receiver");return qg(y(this,W),this)}get eraYear(){if(!bt(this))throw new TypeError("invalid receiver");return Hg(y(this,W),this)}get daysInMonth(){if(!bt(this))throw new TypeError("invalid receiver");return Yg(y(this,W),this)}get daysInYear(){if(!bt(this))throw new TypeError("invalid receiver");return Gg(y(this,W),this)}get monthsInYear(){if(!bt(this))throw new TypeError("invalid receiver");return Qg(y(this,W),this)}get inLeapYear(){if(!bt(this))throw new TypeError("invalid receiver");return Kg(y(this,W),this)}with(e,t){if(!bt(this))throw new TypeError("invalid receiver");if(!an(e))throw new TypeError("invalid argument");vh(e);const r=gt(t),a=y(this,W),o=jn(a,["month","monthCode","year"]);let l=ot(this,o,[]);return l=Su(a,l,ot(e,o,"partial")),l=ot(l,o,[]),Au(a,l,r)}add(e,t){if(!bt(this))throw new TypeError("invalid receiver");return lS("add",this,e,t)}subtract(e,t){if(!bt(this))throw new TypeError("invalid receiver");return lS("subtract",this,e,t)}until(e,t){if(!bt(this))throw new TypeError("invalid receiver");return nS("until",this,e,t)}since(e,t){if(!bt(this))throw new TypeError("invalid receiver");return nS("since",this,e,t)}equals(e){if(!bt(this))throw new TypeError("invalid receiver");const t=Bf(e);for(const r of[Re,Se,De])if(y(this,r)!==y(t,r))return!1;return Ld(y(this,W),y(t,W))}toString(e){if(!bt(this))throw new TypeError("invalid receiver");return GR(this,Id(gt(e)))}toJSON(){if(!bt(this))throw new TypeError("invalid receiver");return GR(this)}toLocaleString(e,t){if(!bt(this))throw new TypeError("invalid receiver");return new Al(e,t).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainYearMonth")}toPlainDate(e){if(!bt(this))throw new TypeError("invalid receiver");if(!an(e))throw new TypeError("argument should be an object");const t=y(this,W),r=jn(t,["monthCode","year"]),a=ot(this,r,[]),o=jn(t,["day"]);let l=Su(t,a,ot(e,o,[]));l=ot(l,[...new Set([...r,...o])],[]);const c=J3(null);return c.overflow="reject",oo(t,l,c)}getISOFields(){if(!bt(this))throw new TypeError("invalid receiver");return{calendar:y(this,W),isoDay:y(this,De),isoMonth:y(this,Se),isoYear:y(this,Re)}}getCalendar(){if(!bt(this))throw new TypeError("invalid receiver");return wh(y(this,W))}static from(e,t){const r=gt(t);return bt(e)?(Pn(r),ld(y(e,Re),y(e,Se),y(e,W),y(e,De))):Bf(e,r)}static compare(e,t){const r=Bf(e),a=Bf(t);return el(y(r,Re),y(r,Se),y(r,De),y(a,Re),y(a,Se),y(a,De))}}Ss(NT,"Temporal.PlainYearMonth");const eL=Al.prototype.resolvedOptions,tL=Object.create;class MT{constructor(e,t,r="iso8601"){if(arguments.length<1)throw new TypeError("missing argument: epochNanoseconds is required");sD(this,Yf(e),Vr(t),Ii(r))}get calendarId(){if(!Ne(this))throw new TypeError("invalid receiver");return br(y(this,W))}get timeZoneId(){if(!Ne(this))throw new TypeError("invalid receiver");return ud(y(this,xt))}get year(){if(!Ne(this))throw new TypeError("invalid receiver");return Fg(y(this,W),Wt(this))}get month(){if(!Ne(this))throw new TypeError("invalid receiver");return $g(y(this,W),Wt(this))}get monthCode(){if(!Ne(this))throw new TypeError("invalid receiver");return xd(y(this,W),Wt(this))}get day(){if(!Ne(this))throw new TypeError("invalid receiver");return kd(y(this,W),Wt(this))}get hour(){if(!Ne(this))throw new TypeError("invalid receiver");return y(Wt(this),We)}get minute(){if(!Ne(this))throw new TypeError("invalid receiver");return y(Wt(this),Je)}get second(){if(!Ne(this))throw new TypeError("invalid receiver");return y(Wt(this),et)}get millisecond(){if(!Ne(this))throw new TypeError("invalid receiver");return y(Wt(this),tt)}get microsecond(){if(!Ne(this))throw new TypeError("invalid receiver");return y(Wt(this),nt)}get nanosecond(){if(!Ne(this))throw new TypeError("invalid receiver");return y(Wt(this),rt)}get era(){if(!Ne(this))throw new TypeError("invalid receiver");return qg(y(this,W),Wt(this))}get eraYear(){if(!Ne(this))throw new TypeError("invalid receiver");return Hg(y(this,W),Wt(this))}get epochSeconds(){if(!Ne(this))throw new TypeError("invalid receiver");const e=y(this,ze);return _.toNumber(Fc(e,ds))}get epochMilliseconds(){if(!Ne(this))throw new TypeError("invalid receiver");const e=y(this,ze);return _.toNumber(Fc(e,Zi))}get epochMicroseconds(){if(!Ne(this))throw new TypeError("invalid receiver");return cg(Fc(y(this,ze),Rt))}get epochNanoseconds(){if(!Ne(this))throw new TypeError("invalid receiver");return cg(y(this,ze))}get dayOfWeek(){if(!Ne(this))throw new TypeError("invalid receiver");return uT(y(this,W),Wt(this))}get dayOfYear(){if(!Ne(this))throw new TypeError("invalid receiver");return cT(y(this,W),Wt(this))}get weekOfYear(){if(!Ne(this))throw new TypeError("invalid receiver");return hT(y(this,W),Wt(this))}get yearOfWeek(){if(!Ne(this))throw new TypeError("invalid receiver");return fT(y(this,W),Wt(this))}get hoursInDay(){if(!Ne(this))throw new TypeError("invalid receiver");const e=Wt(this),t=ye("%Temporal.PlainDateTime%"),r=y(e,Re),a=y(e,Se),o=y(e,De),l=new t(r,a,o,0,0,0,0,0,0),c=vu(r,a,o,0,0,0,1,"reject"),f=new t(c.year,c.month,c.day,0,0,0,0,0,0),d=y(this,xt),p=y(ei(d,l,"compatible"),ze),v=y(ei(d,f,"compatible"),ze);return os(_.subtract(v,p),XC)}get daysInWeek(){if(!Ne(this))throw new TypeError("invalid receiver");return dT(y(this,W),Wt(this))}get daysInMonth(){if(!Ne(this))throw new TypeError("invalid receiver");return Yg(y(this,W),Wt(this))}get daysInYear(){if(!Ne(this))throw new TypeError("invalid receiver");return Gg(y(this,W),Wt(this))}get monthsInYear(){if(!Ne(this))throw new TypeError("invalid receiver");return Qg(y(this,W),Wt(this))}get inLeapYear(){if(!Ne(this))throw new TypeError("invalid receiver");return Kg(y(this,W),Wt(this))}get offset(){if(!Ne(this))throw new TypeError("invalid receiver");return l_(y(this,xt),y(this,Lr))}get offsetNanoseconds(){if(!Ne(this))throw new TypeError("invalid receiver");return Ua(y(this,xt),y(this,Lr))}with(e,t){if(!Ne(this))throw new TypeError("invalid receiver");if(!an(e))throw new TypeError("invalid zoned-date-time-like");vh(e);const r=gt(t),a=y(this,W);let o=jn(a,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]);o.push("offset");let l=ot(this,o,["offset"]);l=Su(a,l,ot(e,o,"partial")),l=ot(l,o,["offset"]);const c=th(r),f=rg(r,"prefer");let{year:d,month:p,day:v,hour:w,minute:E,second:R,millisecond:S,microsecond:D,nanosecond:N}=Md(a,l,r);const M=dl(l.offset),L=y(this,xt);return _r(ag(d,p,v,w,E,R,S,D,N,"option",M,L,c,f,!1),L,a)}withPlainDate(e){if(!Ne(this))throw new TypeError("invalid receiver");const t=zt(e),r=y(t,Re),a=y(t,Se),o=y(t,De);let l=y(t,W);const c=Wt(this),f=y(c,We),d=y(c,Je),p=y(c,et),v=y(c,tt),w=y(c,nt),E=y(c,rt);l=oD(y(this,W),l);const R=y(this,xt);return _r(y(ei(R,new(ye("%Temporal.PlainDateTime%"))(r,a,o,f,d,p,v,w,E,l),"compatible"),ze),R,l)}withPlainTime(e){if(!Ne(this))throw new TypeError("invalid receiver");const t=ye("%Temporal.PlainTime%"),r=e===void 0?new t:Js(e),a=Wt(this),o=y(a,Re),l=y(a,Se),c=y(a,De),f=y(this,W),d=y(r,We),p=y(r,Je),v=y(r,et),w=y(r,tt),E=y(r,nt),R=y(r,rt),S=y(this,xt);return _r(y(ei(S,new(ye("%Temporal.PlainDateTime%"))(o,l,c,d,p,v,w,E,R,f),"compatible"),ze),S,f)}withTimeZone(e){if(!Ne(this))throw new TypeError("invalid receiver");const t=Vr(e);return _r(y(this,ze),t,y(this,W))}withCalendar(e){if(!Ne(this))throw new TypeError("invalid receiver");const t=Ii(e);return _r(y(this,ze),y(this,xt),t)}add(e,t){if(!Ne(this))throw new TypeError("invalid receiver");return uS("add",this,e,t)}subtract(e,t){if(!Ne(this))throw new TypeError("invalid receiver");return uS("subtract",this,e,t)}until(e,t){if(!Ne(this))throw new TypeError("invalid receiver");return rS("until",this,e,t)}since(e,t){if(!Ne(this))throw new TypeError("invalid receiver");return rS("since",this,e,t)}round(e){if(!Ne(this))throw new TypeError("invalid receiver");if(e===void 0)throw new TypeError("options parameter is required");const t=typeof e=="string"?ah("smallestUnit",e):gt(e),r=_h(t),a=Va(t,"halfExpand"),o=Di(t,"smallestUnit","time",bu,["day"]),l={day:1,hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[o];Th(r,l,l===1);const c=Wt(this);let f=y(c,Re),d=y(c,Se),p=y(c,De),v=y(c,We),w=y(c,Je),E=y(c,et),R=y(c,tt),S=y(c,nt),D=y(c,rt);const N=ye("%Temporal.PlainDateTime%"),M=y(this,xt),L=y(this,W),$=ei(M,new N(y(c,Re),y(c,Se),y(c,De),0,0,0,0,0,0),"compatible"),P=Wi($,M,L,0,0,0,1,0,0,0,0,0,0),H=_.subtract(P,_.BigInt(y($,ze)));if(_.lessThanOrEqual(H,Sn))throw new RangeError("cannot round a ZonedDateTime in a calendar with zero or negative length days");return{year:f,month:d,day:p,hour:v,minute:w,second:E,millisecond:R,microsecond:S,nanosecond:D}=ET(f,d,p,v,w,E,R,S,D,r,o,a,_.toNumber(H)),_r(ag(f,d,p,v,w,E,R,S,D,"option",Ua(M,y(this,Lr)),M,"compatible","prefer",!1),M,y(this,W))}equals(e){if(!Ne(this))throw new TypeError("invalid receiver");const t=jf(e),r=y(this,ze),a=y(t,ze);return!!_.equal(_.BigInt(r),_.BigInt(a))&&!!uD(y(this,xt),y(t,xt))&&Ld(y(this,W),y(t,W))}toString(e){if(!Ne(this))throw new TypeError("invalid receiver");const t=gt(e),r=Id(t),a=Od(t),o=function(E){return gl(E,"offset",["auto","never"],"auto")}(t),l=Va(t,"trunc"),c=Di(t,"smallestUnit","time",void 0);if(c==="hour")throw new RangeError('smallestUnit must be a time unit other than "hour"');const f=function(E){return gl(E,"timeZoneName",["auto","never","critical"],"auto")}(t),{precision:d,unit:p,increment:v}=Nd(c,a);return QR(this,d,r,f,o,{unit:p,increment:v,roundingMode:l})}toLocaleString(e,t){if(!Ne(this))throw new TypeError("invalid receiver");const r=gt(t),a=tL(null);if(Bc(a,r,["timeZone"]),r.timeZone!==void 0)throw new TypeError("ZonedDateTime toLocaleString does not accept a timeZone option");a.year===void 0&&a.month===void 0&&a.day===void 0&&a.weekday===void 0&&a.dateStyle===void 0&&a.hour===void 0&&a.minute===void 0&&a.second===void 0&&a.timeStyle===void 0&&a.dayPeriod===void 0&&a.timeZoneName===void 0&&(a.timeZoneName="short");let o=ud(y(this,xt));if(kc(o))throw new RangeError("toLocaleString does not support offset string time zones");o=pT(o),a.timeZone=o;const l=new Al(e,a),c=Me(eL,l,[]).calendar,f=br(y(this,W));if(f!=="iso8601"&&c!=="iso8601"&&c!==f)throw new RangeError(`cannot format ZonedDateTime with calendar ${f} in locale with calendar ${c}`);return l.format(y(this,Lr))}toJSON(){if(!Ne(this))throw new TypeError("invalid receiver");return QR(this,"auto")}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.ZonedDateTime")}startOfDay(){if(!Ne(this))throw new TypeError("invalid receiver");const e=Wt(this),t=ye("%Temporal.PlainDateTime%"),r=y(this,W),a=new t(y(e,Re),y(e,Se),y(e,De),0,0,0,0,0,0,r),o=y(this,xt);return _r(y(ei(o,a,"compatible"),ze),o,r)}toInstant(){if(!Ne(this))throw new TypeError("invalid receiver");return new(ye("%Temporal.Instant%"))(y(this,ze))}toPlainDate(){if(!Ne(this))throw new TypeError("invalid receiver");return rh(Wt(this))}toPlainTime(){if(!Ne(this))throw new TypeError("invalid receiver");return mT(Wt(this))}toPlainDateTime(){if(!Ne(this))throw new TypeError("invalid receiver");return Wt(this)}toPlainYearMonth(){if(!Ne(this))throw new TypeError("invalid receiver");const e=y(this,W);return Au(e,ot(this,jn(e,["monthCode","year"]),[]))}toPlainMonthDay(){if(!Ne(this))throw new TypeError("invalid receiver");const e=y(this,W);return nh(e,ot(this,jn(e,["day","monthCode"]),[]))}getISOFields(){if(!Ne(this))throw new TypeError("invalid receiver");const e=Wt(this),t=y(this,xt);return{calendar:y(this,W),isoDay:y(e,De),isoHour:y(e,We),isoMicrosecond:y(e,nt),isoMillisecond:y(e,tt),isoMinute:y(e,Je),isoMonth:y(e,Se),isoNanosecond:y(e,rt),isoSecond:y(e,et),isoYear:y(e,Re),offset:l_(t,y(this,Lr)),timeZone:t}}getCalendar(){if(!Ne(this))throw new TypeError("invalid receiver");return wh(y(this,W))}getTimeZone(){if(!Ne(this))throw new TypeError("invalid receiver");return lD(y(this,xt))}static from(e,t){const r=gt(t);return Ne(e)?(th(r),rg(r,"reject"),Pn(r),_r(y(e,ze),y(e,xt),y(e,W))):jf(e,r)}static compare(e,t){const r=jf(e),a=jf(t),o=y(r,ze),l=y(a,ze);return _.lessThan(_.BigInt(o),_.BigInt(l))?-1:_.greaterThan(_.BigInt(o),_.BigInt(l))?1:0}}function Wt(n){return Ui(y(n,xt),y(n,Lr),y(n,W))}Ss(MT,"Temporal.ZonedDateTime");var Sc=Object.freeze({__proto__:null,Calendar:wn,Duration:tl,Instant:xa,Now:HD,PlainDate:zd,PlainDateTime:Bd,PlainMonthDay:IT,PlainTime:Tu,PlainYearMonth:NT,TimeZone:Qf,ZonedDateTime:MT});const nL=[xa,wn,zd,Bd,tl,IT,Tu,Qf,NT,MT];for(const n of nL){const e=Object.getOwnPropertyDescriptor(n,"prototype");(e.configurable||e.enumerable||e.writable)&&(e.configurable=!1,e.enumerable=!1,e.writable=!1,Object.defineProperty(n,"prototype",e))}const rL=()=>{};var mS={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YD=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let a=n.charCodeAt(r);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},iL=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const a=n[t++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const o=n[t++];e[r++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=n[t++],l=n[t++],c=n[t++],f=((a&7)<<18|(o&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const o=n[t++],l=n[t++];e[r++]=String.fromCharCode((a&15)<<12|(o&63)<<6|l&63)}}return e.join("")},GD={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<n.length;a+=3){const o=n[a],l=a+1<n.length,c=l?n[a+1]:0,f=a+2<n.length,d=f?n[a+2]:0,p=o>>2,v=(o&3)<<4|c>>4;let w=(c&15)<<2|d>>6,E=d&63;f||(E=64,l||(w=64)),r.push(t[p],t[v],t[w],t[E])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(YD(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):iL(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<n.length;){const o=t[n.charAt(a++)],c=a<n.length?t[n.charAt(a)]:0;++a;const d=a<n.length?t[n.charAt(a)]:64;++a;const v=a<n.length?t[n.charAt(a)]:64;if(++a,o==null||c==null||d==null||v==null)throw new aL;const w=o<<2|c>>4;if(r.push(w),d!==64){const E=c<<4&240|d>>2;if(r.push(E),v!==64){const R=d<<6&192|v;r.push(R)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class aL extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const sL=function(n){const e=YD(n);return GD.encodeByteArray(e,!0)},hg=function(n){return sL(n).replace(/\./g,"")},QD=function(n){try{return GD.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oL(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lL=()=>oL().__FIREBASE_DEFAULTS__,uL=()=>{if(typeof process>"u"||typeof mS>"u")return;const n=mS.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},cL=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&QD(n[1]);return e&&JSON.parse(e)},ty=()=>{try{return rL()||lL()||uL()||cL()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},KD=n=>{var e,t;return(t=(e=ty())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},hL=n=>{const e=KD(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},ZD=()=>{var n;return(n=ty())===null||n===void 0?void 0:n.config},XD=n=>{var e;return(e=ty())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fL{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dL(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",a=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[hg(JSON.stringify(t)),hg(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mi(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function mL(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(mi())}function pL(){var n;const e=(n=ty())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function gL(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function yL(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function vL(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function _L(){const n=mi();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function TL(){return!pL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function wL(){try{return typeof indexedDB=="object"}catch{return!1}}function EL(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var o;e(((o=a.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bL="FirebaseError";class vo extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=bL,Object.setPrototypeOf(this,vo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,jd.prototype.create)}}class jd{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},a=`${this.service}/${e}`,o=this.errors[e],l=o?RL(o,r):"Error",c=`${this.serviceName}: ${l} (${a}).`;return new vo(a,c,r)}}function RL(n,e){return n.replace(SL,(t,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const SL=/\{\$([^}]+)}/g;function AL(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Du(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const a of t){if(!r.includes(a))return!1;const o=n[a],l=e[a];if(pS(o)&&pS(l)){if(!Du(o,l))return!1}else if(o!==l)return!1}for(const a of r)if(!t.includes(a))return!1;return!0}function pS(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fd(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function CL(n,e){const t=new DL(n,e);return t.subscribe.bind(t)}class DL{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let a;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");IL(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:r},a.next===void 0&&(a.next=Pv),a.error===void 0&&(a.error=Pv),a.complete===void 0&&(a.complete=Pv);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function IL(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Pv(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pi(n){return n&&n._delegate?n._delegate:n}class Iu{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uu="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OL{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new fL;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ML(e))try{this.getOrInitializeService({instanceIdentifier:uu})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:a});r.resolve(o)}catch{}}}}clearInstance(e=uu){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=uu){return this.instances.has(e)}getOptions(e=uu){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(o);r===c&&l.resolve(a)}return a}onInit(e,t){var r;const a=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(a))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(a,o);const l=this.instances.get(a);return l&&e(l,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const a of r)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:NL(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=uu){return this.component?this.component.multipleInstances?e:uu:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function NL(n){return n===uu?void 0:n}function ML(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xL{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new OL(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Dt||(Dt={}));const kL={debug:Dt.DEBUG,verbose:Dt.VERBOSE,info:Dt.INFO,warn:Dt.WARN,error:Dt.ERROR,silent:Dt.SILENT},PL=Dt.INFO,LL={[Dt.DEBUG]:"log",[Dt.VERBOSE]:"log",[Dt.INFO]:"info",[Dt.WARN]:"warn",[Dt.ERROR]:"error"},VL=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),a=LL[e];if(a)console[a](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class xT{constructor(e){this.name=e,this._logLevel=PL,this._logHandler=VL,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Dt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?kL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Dt.DEBUG,...e),this._logHandler(this,Dt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Dt.VERBOSE,...e),this._logHandler(this,Dt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Dt.INFO,...e),this._logHandler(this,Dt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Dt.WARN,...e),this._logHandler(this,Dt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Dt.ERROR,...e),this._logHandler(this,Dt.ERROR,...e)}}const UL=(n,e)=>e.some(t=>n instanceof t);let gS,yS;function zL(){return gS||(gS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function BL(){return yS||(yS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const WD=new WeakMap,p_=new WeakMap,JD=new WeakMap,Lv=new WeakMap,kT=new WeakMap;function jL(n){const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("success",o),n.removeEventListener("error",l)},o=()=>{t(il(n.result)),a()},l=()=>{r(n.error),a()};n.addEventListener("success",o),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&WD.set(t,n)}).catch(()=>{}),kT.set(e,n),e}function FL(n){if(p_.has(n))return;const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",l),n.removeEventListener("abort",l)},o=()=>{t(),a()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",o),n.addEventListener("error",l),n.addEventListener("abort",l)});p_.set(n,e)}let g_={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return p_.get(n);if(e==="objectStoreNames")return n.objectStoreNames||JD.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return il(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function $L(n){g_=n(g_)}function qL(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Vv(this),e,...t);return JD.set(r,e.sort?e.sort():[e]),il(r)}:BL().includes(n)?function(...e){return n.apply(Vv(this),e),il(WD.get(this))}:function(...e){return il(n.apply(Vv(this),e))}}function HL(n){return typeof n=="function"?qL(n):(n instanceof IDBTransaction&&FL(n),UL(n,zL())?new Proxy(n,g_):n)}function il(n){if(n instanceof IDBRequest)return jL(n);if(Lv.has(n))return Lv.get(n);const e=HL(n);return e!==n&&(Lv.set(n,e),kT.set(e,n)),e}const Vv=n=>kT.get(n);function YL(n,e,{blocked:t,upgrade:r,blocking:a,terminated:o}={}){const l=indexedDB.open(n,e),c=il(l);return r&&l.addEventListener("upgradeneeded",f=>{r(il(l.result),f.oldVersion,f.newVersion,il(l.transaction),f)}),t&&l.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),c.then(f=>{o&&f.addEventListener("close",()=>o()),a&&f.addEventListener("versionchange",d=>a(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}const GL=["get","getKey","getAll","getAllKeys","count"],QL=["put","add","delete","clear"],Uv=new Map;function vS(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Uv.get(e))return Uv.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,a=QL.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(a||GL.includes(t)))return;const o=async function(l,...c){const f=this.transaction(l,a?"readwrite":"readonly");let d=f.store;return r&&(d=d.index(c.shift())),(await Promise.all([d[t](...c),a&&f.done]))[0]};return Uv.set(e,o),o}$L(n=>({...n,get:(e,t,r)=>vS(e,t)||n.get(e,t,r),has:(e,t)=>!!vS(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KL{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(ZL(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function ZL(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const y_="@firebase/app",_S="0.11.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ho=new xT("@firebase/app"),XL="@firebase/app-compat",WL="@firebase/analytics-compat",JL="@firebase/analytics",e4="@firebase/app-check-compat",t4="@firebase/app-check",n4="@firebase/auth",r4="@firebase/auth-compat",i4="@firebase/database",a4="@firebase/data-connect",s4="@firebase/database-compat",o4="@firebase/functions",l4="@firebase/functions-compat",u4="@firebase/installations",c4="@firebase/installations-compat",h4="@firebase/messaging",f4="@firebase/messaging-compat",d4="@firebase/performance",m4="@firebase/performance-compat",p4="@firebase/remote-config",g4="@firebase/remote-config-compat",y4="@firebase/storage",v4="@firebase/storage-compat",_4="@firebase/firestore",T4="@firebase/vertexai",w4="@firebase/firestore-compat",E4="firebase",b4="11.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v_="[DEFAULT]",R4={[y_]:"fire-core",[XL]:"fire-core-compat",[JL]:"fire-analytics",[WL]:"fire-analytics-compat",[t4]:"fire-app-check",[e4]:"fire-app-check-compat",[n4]:"fire-auth",[r4]:"fire-auth-compat",[i4]:"fire-rtdb",[a4]:"fire-data-connect",[s4]:"fire-rtdb-compat",[o4]:"fire-fn",[l4]:"fire-fn-compat",[u4]:"fire-iid",[c4]:"fire-iid-compat",[h4]:"fire-fcm",[f4]:"fire-fcm-compat",[d4]:"fire-perf",[m4]:"fire-perf-compat",[p4]:"fire-rc",[g4]:"fire-rc-compat",[y4]:"fire-gcs",[v4]:"fire-gcs-compat",[_4]:"fire-fst",[w4]:"fire-fst-compat",[T4]:"fire-vertex","fire-js":"fire-js",[E4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fg=new Map,S4=new Map,__=new Map;function TS(n,e){try{n.container.addComponent(e)}catch(t){ho.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function oh(n){const e=n.name;if(__.has(e))return ho.debug(`There were multiple attempts to register component ${e}.`),!1;__.set(e,n);for(const t of fg.values())TS(t,n);for(const t of S4.values())TS(t,n);return!0}function PT(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function cs(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},al=new jd("app","Firebase",A4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C4{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Iu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw al.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sh=b4;function eI(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:v_,automaticDataCollectionEnabled:!1},e),a=r.name;if(typeof a!="string"||!a)throw al.create("bad-app-name",{appName:String(a)});if(t||(t=ZD()),!t)throw al.create("no-options");const o=fg.get(a);if(o){if(Du(t,o.options)&&Du(r,o.config))return o;throw al.create("duplicate-app",{appName:a})}const l=new xL(a);for(const f of __.values())l.addComponent(f);const c=new C4(t,r,l);return fg.set(a,c),c}function tI(n=v_){const e=fg.get(n);if(!e&&n===v_&&ZD())return eI();if(!e)throw al.create("no-app",{appName:n});return e}function sl(n,e,t){var r;let a=(r=R4[n])!==null&&r!==void 0?r:n;t&&(a+=`-${t}`);const o=a.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const c=[`Unable to register library "${a}" with version "${e}":`];o&&c.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ho.warn(c.join(" "));return}oh(new Iu(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D4="firebase-heartbeat-database",I4=1,cd="firebase-heartbeat-store";let zv=null;function nI(){return zv||(zv=YL(D4,I4,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(cd)}catch(t){console.warn(t)}}}}).catch(n=>{throw al.create("idb-open",{originalErrorMessage:n.message})})),zv}async function O4(n){try{const t=(await nI()).transaction(cd),r=await t.objectStore(cd).get(rI(n));return await t.done,r}catch(e){if(e instanceof vo)ho.warn(e.message);else{const t=al.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ho.warn(t.message)}}}async function wS(n,e){try{const r=(await nI()).transaction(cd,"readwrite");await r.objectStore(cd).put(e,rI(n)),await r.done}catch(t){if(t instanceof vo)ho.warn(t.message);else{const r=al.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});ho.warn(r.message)}}}function rI(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N4=1024,M4=30;class x4{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new P4(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=ES();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(l=>l.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:a}),this._heartbeatsCache.heartbeats.length>M4){const l=L4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ho.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=ES(),{heartbeatsToSend:r,unsentEntries:a}=k4(this._heartbeatsCache.heartbeats),o=hg(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return ho.warn(t),""}}}function ES(){return new Date().toISOString().substring(0,10)}function k4(n,e=N4){const t=[];let r=n.slice();for(const a of n){const o=t.find(l=>l.agent===a.agent);if(o){if(o.dates.push(a.date),bS(t)>e){o.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),bS(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class P4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return wL()?EL().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await O4(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return wS(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return wS(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function bS(n){return hg(JSON.stringify({version:2,heartbeats:n})).length}function L4(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V4(n){oh(new Iu("platform-logger",e=>new KL(e),"PRIVATE")),oh(new Iu("heartbeat",e=>new x4(e),"PRIVATE")),sl(y_,_S,n),sl(y_,_S,"esm2017"),sl("fire-js","")}V4("");var U4="firebase",z4="11.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sl(U4,z4,"app");function LT(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t}function iI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const B4=iI,aI=new jd("auth","Firebase",iI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dg=new xT("@firebase/auth");function j4(n,...e){dg.logLevel<=Dt.WARN&&dg.warn(`Auth (${Sh}): ${n}`,...e)}function Pp(n,...e){dg.logLevel<=Dt.ERROR&&dg.error(`Auth (${Sh}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fo(n,...e){throw VT(n,...e)}function ps(n,...e){return VT(n,...e)}function sI(n,e,t){const r=Object.assign(Object.assign({},B4()),{[e]:t});return new jd("auth","Firebase",r).create(e,{appName:n.name})}function wu(n){return sI(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function VT(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return aI.create(n,...e)}function st(n,e,...t){if(!n)throw VT(e,...t)}function eo(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Pp(e),new Error(e)}function mo(n,e){n||eo(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T_(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function F4(){return RS()==="http:"||RS()==="https:"}function RS(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(F4()||yL()||"connection"in navigator)?navigator.onLine:!0}function q4(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(e,t){this.shortDelay=e,this.longDelay=t,mo(t>e,"Short delay should be less than long delay!"),this.isMobile=mL()||vL()}get(){return $4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UT(n,e){mo(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;eo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;eo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;eo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y4=new $d(3e4,6e4);function zT(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Ah(n,e,t,r,a={}){return lI(n,a,async()=>{let o={},l={};r&&(e==="GET"?l=r:o={body:JSON.stringify(r)});const c=Fd(Object.assign({key:n.config.apiKey},l)).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const d=Object.assign({method:e,headers:f},o);return gL()||(d.referrerPolicy="no-referrer"),oI.fetch()(uI(n,n.config.apiHost,t,c),d)})}async function lI(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},H4),e);try{const a=new Q4(n),o=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw yp(n,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const c=o.ok?l.errorMessage:l.error.message,[f,d]=c.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw yp(n,"credential-already-in-use",l);if(f==="EMAIL_EXISTS")throw yp(n,"email-already-in-use",l);if(f==="USER_DISABLED")throw yp(n,"user-disabled",l);const p=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw sI(n,p,d);fo(n,p)}}catch(a){if(a instanceof vo)throw a;fo(n,"network-request-failed",{message:String(a)})}}async function G4(n,e,t,r,a={}){const o=await Ah(n,e,t,r,a);return"mfaPendingCredential"in o&&fo(n,"multi-factor-auth-required",{_serverResponse:o}),o}function uI(n,e,t,r){const a=`${e}${t}?${r}`;return n.config.emulator?UT(n.config,a):`${n.config.apiScheme}://${a}`}class Q4{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(ps(this.auth,"network-request-failed")),Y4.get())})}}function yp(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const a=ps(n,e,r);return a.customData._tokenResponse=t,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K4(n,e){return Ah(n,"POST","/v1/accounts:delete",e)}async function cI(n,e){return Ah(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kf(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Z4(n,e=!1){const t=pi(n),r=await t.getIdToken(e),a=BT(r);st(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const o=typeof a.firebase=="object"?a.firebase:void 0,l=o==null?void 0:o.sign_in_provider;return{claims:a,token:r,authTime:Kf(Bv(a.auth_time)),issuedAtTime:Kf(Bv(a.iat)),expirationTime:Kf(Bv(a.exp)),signInProvider:l||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Bv(n){return Number(n)*1e3}function BT(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Pp("JWT malformed, contained fewer than 3 sections"),null;try{const a=QD(t);return a?JSON.parse(a):(Pp("Failed to decode base64 JWT payload"),null)}catch(a){return Pp("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function SS(n){const e=BT(n);return st(e,"internal-error"),st(typeof e.exp<"u","internal-error"),st(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hd(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof vo&&X4(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function X4({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const a=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w_{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Kf(this.lastLoginAt),this.creationTime=Kf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mg(n){var e;const t=n.auth,r=await n.getIdToken(),a=await hd(n,cI(t,{idToken:r}));st(a==null?void 0:a.users.length,t,"internal-error");const o=a.users[0];n._notifyReloadListener(o);const l=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?hI(o.providerUserInfo):[],c=eV(n.providerData,l),f=n.isAnonymous,d=!(n.email&&o.passwordHash)&&!(c!=null&&c.length),p=f?d:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new w_(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(n,v)}async function J4(n){const e=pi(n);await mg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function eV(n,e){return[...n.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function hI(n){return n.map(e=>{var{providerId:t}=e,r=LT(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tV(n,e){const t=await lI(n,{},async()=>{const r=Fd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:o}=n.config,l=uI(n,a,"/v1/token",`key=${o}`),c=await n._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",oI.fetch()(l,{method:"POST",headers:c,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function nV(n,e){return Ah(n,"POST","/v2/accounts:revokeToken",zT(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){st(e.idToken,"internal-error"),st(typeof e.idToken<"u","internal-error"),st(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):SS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){st(e.length!==0,"internal-error");const t=SS(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(st(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:a,expiresIn:o}=await tV(e,t);this.updateTokensAndExpiration(r,a,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:a,expirationTime:o}=t,l=new Yc;return r&&(st(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),a&&(st(typeof a=="string","internal-error",{appName:e}),l.accessToken=a),o&&(st(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Yc,this.toJSON())}_performRefresh(){return eo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yo(n,e){st(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class to{constructor(e){var{uid:t,auth:r,stsTokenManager:a}=e,o=LT(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new W4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new w_(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await hd(this,this.stsTokenManager.getToken(this.auth,e));return st(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return Z4(this,e)}reload(){return J4(this)}_assign(e){this!==e&&(st(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new to(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){st(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await mg(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(cs(this.auth.app))return Promise.reject(wu(this.auth));const e=await this.getIdToken();return await hd(this,K4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,a,o,l,c,f,d,p;const v=(r=t.displayName)!==null&&r!==void 0?r:void 0,w=(a=t.email)!==null&&a!==void 0?a:void 0,E=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,R=(l=t.photoURL)!==null&&l!==void 0?l:void 0,S=(c=t.tenantId)!==null&&c!==void 0?c:void 0,D=(f=t._redirectEventId)!==null&&f!==void 0?f:void 0,N=(d=t.createdAt)!==null&&d!==void 0?d:void 0,M=(p=t.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:L,emailVerified:$,isAnonymous:P,providerData:H,stsTokenManager:x}=t;st(L&&x,e,"internal-error");const I=Yc.fromJSON(this.name,x);st(typeof L=="string",e,"internal-error"),Yo(v,e.name),Yo(w,e.name),st(typeof $=="boolean",e,"internal-error"),st(typeof P=="boolean",e,"internal-error"),Yo(E,e.name),Yo(R,e.name),Yo(S,e.name),Yo(D,e.name),Yo(N,e.name),Yo(M,e.name);const O=new to({uid:L,auth:e,email:w,emailVerified:$,displayName:v,isAnonymous:P,photoURL:R,phoneNumber:E,tenantId:S,stsTokenManager:I,createdAt:N,lastLoginAt:M});return H&&Array.isArray(H)&&(O.providerData=H.map(z=>Object.assign({},z))),D&&(O._redirectEventId=D),O}static async _fromIdTokenResponse(e,t,r=!1){const a=new Yc;a.updateFromServerResponse(t);const o=new to({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await mg(o),o}static async _fromGetAccountInfoResponse(e,t,r){const a=t.users[0];st(a.localId!==void 0,"internal-error");const o=a.providerUserInfo!==void 0?hI(a.providerUserInfo):[],l=!(a.email&&a.passwordHash)&&!(o!=null&&o.length),c=new Yc;c.updateFromIdToken(r);const f=new to({uid:a.localId,auth:e,stsTokenManager:c,isAnonymous:l}),d={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new w_(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(o!=null&&o.length)};return Object.assign(f,d),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AS=new Map;function no(n){mo(n instanceof Function,"Expected a class definition");let e=AS.get(n);return e?(mo(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,AS.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}fI.type="NONE";const CS=fI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lp(n,e,t){return`firebase:${n}:${e}:${t}`}class Gc{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:a,name:o}=this.auth;this.fullUserKey=Lp(this.userKey,a.apiKey,o),this.fullPersistenceKey=Lp("persistence",a.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?to._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Gc(no(CS),e,r);const a=(await Promise.all(t.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let o=a[0]||no(CS);const l=Lp(r,e.config.apiKey,e.name);let c=null;for(const d of t)try{const p=await d._get(l);if(p){const v=to._fromJSON(e,p);d!==o&&(c=v),o=d;break}}catch{}const f=a.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new Gc(o,e,r):(o=f[0],c&&await o._set(l,c.toJSON()),await Promise.all(t.map(async d=>{if(d!==o)try{await d._remove(l)}catch{}})),new Gc(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DS(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(gI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(dI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(vI(e))return"Blackberry";if(_I(e))return"Webos";if(mI(e))return"Safari";if((e.includes("chrome/")||pI(e))&&!e.includes("edge/"))return"Chrome";if(yI(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function dI(n=mi()){return/firefox\//i.test(n)}function mI(n=mi()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function pI(n=mi()){return/crios\//i.test(n)}function gI(n=mi()){return/iemobile/i.test(n)}function yI(n=mi()){return/android/i.test(n)}function vI(n=mi()){return/blackberry/i.test(n)}function _I(n=mi()){return/webos/i.test(n)}function jT(n=mi()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function rV(n=mi()){var e;return jT(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function iV(){return _L()&&document.documentMode===10}function TI(n=mi()){return jT(n)||yI(n)||_I(n)||vI(n)||/windows phone/i.test(n)||gI(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wI(n,e=[]){let t;switch(n){case"Browser":t=DS(mi());break;case"Worker":t=`${DS(mi())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Sh}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aV{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((l,c)=>{try{const f=e(o);l(f)}catch(f){c(f)}});r.onAbort=t,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sV(n,e={}){return Ah(n,"GET","/v2/passwordPolicy",zT(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oV=6;class lV{constructor(e){var t,r,a,o;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=l.minPasswordLength)!==null&&t!==void 0?t:oV,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,a,o,l,c;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(t=f.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),f.isValid&&(f.isValid=(r=f.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(a=f.containsLowercaseLetter)!==null&&a!==void 0?a:!0),f.isValid&&(f.isValid=(o=f.containsUppercaseLetter)!==null&&o!==void 0?o:!0),f.isValid&&(f.isValid=(l=f.containsNumericCharacter)!==null&&l!==void 0?l:!0),f.isValid&&(f.isValid=(c=f.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),f}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,a,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uV{constructor(e,t,r,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new IS(this),this.idTokenSubscription=new IS(this),this.beforeStateQueue=new aV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=aI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=no(t)),this._initializationPromise=this.queue(async()=>{var r,a;if(!this._deleted&&(this.persistenceManager=await Gc.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await cI(this,{idToken:e}),r=await to._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(cs(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let a=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,c=a==null?void 0:a._redirectEventId,f=await this.tryRedirectSignIn(e);(!l||l===c)&&(f!=null&&f.user)&&(a=f.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(l){a=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return st(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await mg(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=q4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(cs(this.app))return Promise.reject(wu(this));const t=e?pi(e):null;return t&&st(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&st(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return cs(this.app)?Promise.reject(wu(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return cs(this.app)?Promise.reject(wu(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(no(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await sV(this),t=new lV(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new jd("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await nV(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&no(e)||this._popupRedirectResolver;st(t,this,"argument-error"),this.redirectPersistenceManager=await Gc.create(this,[no(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,a){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(st(c,this,"internal-error"),c.then(()=>{l||o(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,a);return()=>{l=!0,f()}}else{const f=e.addObserver(t);return()=>{l=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return st(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=wI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){var e;if(cs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&j4(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function FT(n){return pi(n)}class IS{constructor(e){this.auth=e,this.observer=null,this.addObserver=CL(t=>this.observer=t)}get next(){return st(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $T={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function cV(n){$T=n}function hV(n){return $T.loadJS(n)}function fV(){return $T.gapiScript}function dV(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mV(n,e){const t=PT(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),o=t.getOptions();if(Du(o,e??{}))return a;fo(a,"already-initialized")}return t.initialize({options:e})}function pV(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(no);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function gV(n,e,t){const r=FT(n);st(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,o=EI(e),{host:l,port:c}=yV(e),f=c===null?"":`:${c}`,d={url:`${o}//${l}${f}/`},p=Object.freeze({host:l,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){st(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),st(Du(d,r.config.emulator)&&Du(p,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=p,r.settings.appVerificationDisabledForTesting=!0,vV()}function EI(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function yV(n){const e=EI(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const o=a[1];return{host:o,port:OS(r.substr(o.length+1))}}else{const[o,l]=r.split(":");return{host:o,port:OS(l)}}}function OS(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function vV(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return eo("not implemented")}_getIdTokenResponse(e){return eo("not implemented")}_linkToIdToken(e,t){return eo("not implemented")}_getReauthenticationResolver(e){return eo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qc(n,e){return G4(n,"POST","/v1/accounts:signInWithIdp",zT(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _V="http://localhost";class Ou extends bI{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ou(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):fo("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a}=t,o=LT(t,["providerId","signInMethod"]);if(!r||!a)return null;const l=new Ou(r,a);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return Qc(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Qc(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Qc(e,t)}buildRequest(){const e={requestUri:_V,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Fd(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd extends RI{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo extends qd{constructor(){super("facebook.com")}static credential(e){return Ou._fromParams({providerId:Zo.PROVIDER_ID,signInMethod:Zo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zo.credentialFromTaggedObject(e)}static credentialFromError(e){return Zo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zo.credential(e.oauthAccessToken)}catch{return null}}}Zo.FACEBOOK_SIGN_IN_METHOD="facebook.com";Zo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo extends qd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ou._fromParams({providerId:Xo.PROVIDER_ID,signInMethod:Xo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Xo.credentialFromTaggedObject(e)}static credentialFromError(e){return Xo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Xo.credential(t,r)}catch{return null}}}Xo.GOOGLE_SIGN_IN_METHOD="google.com";Xo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo extends qd{constructor(){super("github.com")}static credential(e){return Ou._fromParams({providerId:Wo.PROVIDER_ID,signInMethod:Wo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wo.credentialFromTaggedObject(e)}static credentialFromError(e){return Wo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Wo.credential(e.oauthAccessToken)}catch{return null}}}Wo.GITHUB_SIGN_IN_METHOD="github.com";Wo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo extends qd{constructor(){super("twitter.com")}static credential(e,t){return Ou._fromParams({providerId:Jo.PROVIDER_ID,signInMethod:Jo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Jo.credentialFromTaggedObject(e)}static credentialFromError(e){return Jo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Jo.credential(t,r)}catch{return null}}}Jo.TWITTER_SIGN_IN_METHOD="twitter.com";Jo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,a=!1){const o=await to._fromIdTokenResponse(e,r,a),l=NS(r);return new lh({user:o,providerId:l,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const a=NS(r);return new lh({user:e,providerId:a,_tokenResponse:r,operationType:t})}}function NS(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg extends vo{constructor(e,t,r,a){var o;super(t.code,t.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,pg.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,a){return new pg(e,t,r,a)}}function SI(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?pg._fromErrorAndOperation(n,o,e,r):o})}async function TV(n,e,t=!1){const r=await hd(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return lh._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wV(n,e,t=!1){const{auth:r}=n;if(cs(r.app))return Promise.reject(wu(r));const a="reauthenticate";try{const o=await hd(n,SI(r,a,e,n),t);st(o.idToken,r,"internal-error");const l=BT(o.idToken);st(l,r,"internal-error");const{sub:c}=l;return st(n.uid===c,r,"user-mismatch"),lh._forOperation(n,a,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&fo(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EV(n,e,t=!1){if(cs(n.app))return Promise.reject(wu(n));const r="signIn",a=await SI(n,r,e),o=await lh._fromIdTokenResponse(n,r,a);return t||await n._updateCurrentUser(o.user),o}function bV(n,e,t,r){return pi(n).onIdTokenChanged(e,t,r)}function RV(n,e,t){return pi(n).beforeAuthStateChanged(e,t)}const gg="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(gg,"1"),this.storage.removeItem(gg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SV=1e3,AV=10;class CI extends AI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=TI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),a=this.localCache[t];r!==a&&e(t,a,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,c,f)=>{this.notifyListeners(l,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const l=this.storage.getItem(r);!t&&this.localCache[r]===l||this.notifyListeners(r,l)},o=this.storage.getItem(r);iV()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,AV):a()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},SV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}CI.type="LOCAL";const CV=CI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI extends AI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}DI.type="SESSION";const II=DI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DV(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const r=new ny(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:a,data:o}=t.data,l=this.handlersMap[a];if(!(l!=null&&l.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const c=Array.from(l).map(async d=>d(t.origin,o)),f=await DV(c);t.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ny.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qT(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let o,l;return new Promise((c,f)=>{const d=qT("",20);a.port1.start();const p=setTimeout(()=>{f(new Error("unsupported_event"))},r);l={messageChannel:a,onMessage(v){const w=v;if(w.data.eventId===d)switch(w.data.status){case"ack":clearTimeout(p),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(w.data.response);break;default:clearTimeout(p),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(l),a.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:d,data:t},[a.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gs(){return window}function OV(n){gs().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OI(){return typeof gs().WorkerGlobalScope<"u"&&typeof gs().importScripts=="function"}async function NV(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function MV(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function xV(){return OI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NI="firebaseLocalStorageDb",kV=1,yg="firebaseLocalStorage",MI="fbase_key";class Hd{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function ry(n,e){return n.transaction([yg],e?"readwrite":"readonly").objectStore(yg)}function PV(){const n=indexedDB.deleteDatabase(NI);return new Hd(n).toPromise()}function E_(){const n=indexedDB.open(NI,kV);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(yg,{keyPath:MI})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(yg)?e(r):(r.close(),await PV(),e(await E_()))})})}async function MS(n,e,t){const r=ry(n,!0).put({[MI]:e,value:t});return new Hd(r).toPromise()}async function LV(n,e){const t=ry(n,!1).get(e),r=await new Hd(t).toPromise();return r===void 0?null:r.value}function xS(n,e){const t=ry(n,!0).delete(e);return new Hd(t).toPromise()}const VV=800,UV=3;class xI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await E_(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>UV)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return OI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ny._getInstance(xV()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await NV(),!this.activeServiceWorker)return;this.sender=new IV(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||MV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await E_();return await MS(e,gg,"1"),await xS(e,gg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>MS(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>LV(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>xS(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const o=ry(a,!1).getAll();return new Hd(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:o}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(o)&&(this.notifyListeners(a,o),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),VV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}xI.type="LOCAL";const zV=xI;new $d(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BV(n,e){return e?no(e):(st(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT extends bI{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Qc(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Qc(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Qc(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function jV(n){return EV(n.auth,new HT(n),n.bypassAuthState)}function FV(n){const{auth:e,user:t}=n;return st(t,e,"internal-error"),wV(t,new HT(n),n.bypassAuthState)}async function $V(n){const{auth:e,user:t}=n;return st(t,e,"internal-error"),TV(t,new HT(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(e,t,r,a,o=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:a,tenantId:o,error:l,type:c}=e;if(l){this.reject(l);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(f))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return jV;case"linkViaPopup":case"linkViaRedirect":return $V;case"reauthViaPopup":case"reauthViaRedirect":return FV;default:fo(this.auth,"internal-error")}}resolve(e){mo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){mo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qV=new $d(2e3,1e4);class Pc extends kI{constructor(e,t,r,a,o){super(e,t,a,o),this.provider=r,this.authWindow=null,this.pollId=null,Pc.currentPopupAction&&Pc.currentPopupAction.cancel(),Pc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return st(e,this.auth,"internal-error"),e}async onExecution(){mo(this.filter.length===1,"Popup operations only handle one event");const e=qT();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ps(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ps(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Pc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ps(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,qV.get())};e()}}Pc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HV="pendingRedirect",Vp=new Map;class YV extends kI{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Vp.get(this.auth._key());if(!e){try{const r=await GV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Vp.set(this.auth._key(),e)}return this.bypassAuthState||Vp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function GV(n,e){const t=ZV(e),r=KV(n);if(!await r._isAvailable())return!1;const a=await r._get(t)==="true";return await r._remove(t),a}function QV(n,e){Vp.set(n._key(),e)}function KV(n){return no(n._redirectPersistence)}function ZV(n){return Lp(HV,n.config.apiKey,n.name)}async function XV(n,e,t=!1){if(cs(n.app))return Promise.reject(wu(n));const r=FT(n),a=BV(r,e),l=await new YV(r,a,t).execute();return l&&!t&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WV=10*60*1e3;class JV{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!e6(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!PI(e)){const a=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(ps(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=WV&&this.cachedEventUids.clear(),this.cachedEventUids.has(kS(e))}saveEventToCache(e){this.cachedEventUids.add(kS(e)),this.lastProcessedEventTime=Date.now()}}function kS(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function PI({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function e6(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return PI(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t6(n,e={}){return Ah(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,r6=/^https?/;async function i6(n){if(n.config.emulator)return;const{authorizedDomains:e}=await t6(n);for(const t of e)try{if(a6(t))return}catch{}fo(n,"unauthorized-domain")}function a6(n){const e=T_(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===r}if(!r6.test(t))return!1;if(n6.test(n))return r===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s6=new $d(3e4,6e4);function PS(){const n=gs().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function o6(n){return new Promise((e,t)=>{var r,a,o;function l(){PS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{PS(),t(ps(n,"network-request-failed"))},timeout:s6.get()})}if(!((a=(r=gs().gapi)===null||r===void 0?void 0:r.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((o=gs().gapi)===null||o===void 0)&&o.load)l();else{const c=dV("iframefcb");return gs()[c]=()=>{gapi.load?l():t(ps(n,"network-request-failed"))},hV(`${fV()}?onload=${c}`).catch(f=>t(f))}}).catch(e=>{throw Up=null,e})}let Up=null;function l6(n){return Up=Up||o6(n),Up}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u6=new $d(5e3,15e3),c6="__/auth/iframe",h6="emulator/auth/iframe",f6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},d6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function m6(n){const e=n.config;st(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?UT(e,h6):`https://${n.config.authDomain}/${c6}`,r={apiKey:e.apiKey,appName:n.name,v:Sh},a=d6.get(n.config.apiHost);a&&(r.eid=a);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${Fd(r).slice(1)}`}async function p6(n){const e=await l6(n),t=gs().gapi;return st(t,n,"internal-error"),e.open({where:document.body,url:m6(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:f6,dontclear:!0},r=>new Promise(async(a,o)=>{await r.restyle({setHideOnLeave:!1});const l=ps(n,"network-request-failed"),c=gs().setTimeout(()=>{o(l)},u6.get());function f(){gs().clearTimeout(c),a(r)}r.ping(f).then(f,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},y6=500,v6=600,_6="_blank",T6="http://localhost";class LS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function w6(n,e,t,r=y6,a=v6){const o=Math.max((window.screen.availHeight-a)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const f=Object.assign(Object.assign({},g6),{width:r.toString(),height:a.toString(),top:o,left:l}),d=mi().toLowerCase();t&&(c=pI(d)?_6:t),dI(d)&&(e=e||T6,f.scrollbars="yes");const p=Object.entries(f).reduce((w,[E,R])=>`${w}${E}=${R},`,"");if(rV(d)&&c!=="_self")return E6(e||"",c),new LS(null);const v=window.open(e||"",c,p);st(v,n,"popup-blocked");try{v.focus()}catch{}return new LS(v)}function E6(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b6="__/auth/handler",R6="emulator/auth/handler",S6=encodeURIComponent("fac");async function VS(n,e,t,r,a,o){st(n.config.authDomain,n,"auth-domain-config-required"),st(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Sh,eventId:a};if(e instanceof RI){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",AL(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,v]of Object.entries({}))l[p]=v}if(e instanceof qd){const p=e.getScopes().filter(v=>v!=="");p.length>0&&(l.scopes=p.join(","))}n.tenantId&&(l.tid=n.tenantId);const c=l;for(const p of Object.keys(c))c[p]===void 0&&delete c[p];const f=await n._getAppCheckToken(),d=f?`#${S6}=${encodeURIComponent(f)}`:"";return`${A6(n)}?${Fd(c).slice(1)}${d}`}function A6({config:n}){return n.emulator?UT(n,R6):`https://${n.authDomain}/${b6}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jv="webStorageSupport";class C6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=II,this._completeRedirectFn=XV,this._overrideRedirectResult=QV}async _openPopup(e,t,r,a){var o;mo((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const l=await VS(e,t,r,T_(),a);return w6(e,l,qT())}async _openRedirect(e,t,r,a){await this._originValidation(e);const o=await VS(e,t,r,T_(),a);return OV(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:o}=this.eventManagers[t];return a?Promise.resolve(a):(mo(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await p6(e),r=new JV(e);return t.register("authEvent",a=>(st(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(jv,{type:jv},a=>{var o;const l=(o=a==null?void 0:a[0])===null||o===void 0?void 0:o[jv];l!==void 0&&t(!!l),fo(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=i6(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return TI()||mI()||jT()}}const D6=C6;var US="@firebase/auth",zS="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){st(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O6(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function N6(n){oh(new Iu("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;st(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:l,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:wI(n)},d=new uV(r,a,o,f);return pV(d,t),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),oh(new Iu("auth-internal",e=>{const t=FT(e.getProvider("auth").getImmediate());return(r=>new I6(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),sl(US,zS,O6(n)),sl(US,zS,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M6=5*60,x6=XD("authIdTokenMaxAge")||M6;let BS=null;const k6=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>x6)return;const a=t==null?void 0:t.token;BS!==a&&(BS=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function P6(n=tI()){const e=PT(n,"auth");if(e.isInitialized())return e.getImmediate();const t=mV(n,{popupRedirectResolver:D6,persistence:[zV,CV,II]}),r=XD("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const l=k6(o.toString());RV(t,l,()=>l(t.currentUser)),bV(t,c=>l(c))}}const a=KD("auth");return a&&gV(t,`http://${a}`),t}function L6(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}cV({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=a=>{const o=ps("internal-error");o.customData=a,t(o)},r.type="text/javascript",r.charset="UTF-8",L6().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});N6("Browser");var jS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ol,LI;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,I){function O(){}O.prototype=I.prototype,x.D=I.prototype,x.prototype=new O,x.prototype.constructor=x,x.C=function(z,B,q){for(var U=Array(arguments.length-2),we=2;we<arguments.length;we++)U[we-2]=arguments[we];return I.prototype[B].apply(z,U)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(x,I,O){O||(O=0);var z=Array(16);if(typeof I=="string")for(var B=0;16>B;++B)z[B]=I.charCodeAt(O++)|I.charCodeAt(O++)<<8|I.charCodeAt(O++)<<16|I.charCodeAt(O++)<<24;else for(B=0;16>B;++B)z[B]=I[O++]|I[O++]<<8|I[O++]<<16|I[O++]<<24;I=x.g[0],O=x.g[1],B=x.g[2];var q=x.g[3],U=I+(q^O&(B^q))+z[0]+3614090360&4294967295;I=O+(U<<7&4294967295|U>>>25),U=q+(B^I&(O^B))+z[1]+3905402710&4294967295,q=I+(U<<12&4294967295|U>>>20),U=B+(O^q&(I^O))+z[2]+606105819&4294967295,B=q+(U<<17&4294967295|U>>>15),U=O+(I^B&(q^I))+z[3]+3250441966&4294967295,O=B+(U<<22&4294967295|U>>>10),U=I+(q^O&(B^q))+z[4]+4118548399&4294967295,I=O+(U<<7&4294967295|U>>>25),U=q+(B^I&(O^B))+z[5]+1200080426&4294967295,q=I+(U<<12&4294967295|U>>>20),U=B+(O^q&(I^O))+z[6]+2821735955&4294967295,B=q+(U<<17&4294967295|U>>>15),U=O+(I^B&(q^I))+z[7]+4249261313&4294967295,O=B+(U<<22&4294967295|U>>>10),U=I+(q^O&(B^q))+z[8]+1770035416&4294967295,I=O+(U<<7&4294967295|U>>>25),U=q+(B^I&(O^B))+z[9]+2336552879&4294967295,q=I+(U<<12&4294967295|U>>>20),U=B+(O^q&(I^O))+z[10]+4294925233&4294967295,B=q+(U<<17&4294967295|U>>>15),U=O+(I^B&(q^I))+z[11]+2304563134&4294967295,O=B+(U<<22&4294967295|U>>>10),U=I+(q^O&(B^q))+z[12]+1804603682&4294967295,I=O+(U<<7&4294967295|U>>>25),U=q+(B^I&(O^B))+z[13]+4254626195&4294967295,q=I+(U<<12&4294967295|U>>>20),U=B+(O^q&(I^O))+z[14]+2792965006&4294967295,B=q+(U<<17&4294967295|U>>>15),U=O+(I^B&(q^I))+z[15]+1236535329&4294967295,O=B+(U<<22&4294967295|U>>>10),U=I+(B^q&(O^B))+z[1]+4129170786&4294967295,I=O+(U<<5&4294967295|U>>>27),U=q+(O^B&(I^O))+z[6]+3225465664&4294967295,q=I+(U<<9&4294967295|U>>>23),U=B+(I^O&(q^I))+z[11]+643717713&4294967295,B=q+(U<<14&4294967295|U>>>18),U=O+(q^I&(B^q))+z[0]+3921069994&4294967295,O=B+(U<<20&4294967295|U>>>12),U=I+(B^q&(O^B))+z[5]+3593408605&4294967295,I=O+(U<<5&4294967295|U>>>27),U=q+(O^B&(I^O))+z[10]+38016083&4294967295,q=I+(U<<9&4294967295|U>>>23),U=B+(I^O&(q^I))+z[15]+3634488961&4294967295,B=q+(U<<14&4294967295|U>>>18),U=O+(q^I&(B^q))+z[4]+3889429448&4294967295,O=B+(U<<20&4294967295|U>>>12),U=I+(B^q&(O^B))+z[9]+568446438&4294967295,I=O+(U<<5&4294967295|U>>>27),U=q+(O^B&(I^O))+z[14]+3275163606&4294967295,q=I+(U<<9&4294967295|U>>>23),U=B+(I^O&(q^I))+z[3]+4107603335&4294967295,B=q+(U<<14&4294967295|U>>>18),U=O+(q^I&(B^q))+z[8]+1163531501&4294967295,O=B+(U<<20&4294967295|U>>>12),U=I+(B^q&(O^B))+z[13]+2850285829&4294967295,I=O+(U<<5&4294967295|U>>>27),U=q+(O^B&(I^O))+z[2]+4243563512&4294967295,q=I+(U<<9&4294967295|U>>>23),U=B+(I^O&(q^I))+z[7]+1735328473&4294967295,B=q+(U<<14&4294967295|U>>>18),U=O+(q^I&(B^q))+z[12]+2368359562&4294967295,O=B+(U<<20&4294967295|U>>>12),U=I+(O^B^q)+z[5]+4294588738&4294967295,I=O+(U<<4&4294967295|U>>>28),U=q+(I^O^B)+z[8]+2272392833&4294967295,q=I+(U<<11&4294967295|U>>>21),U=B+(q^I^O)+z[11]+1839030562&4294967295,B=q+(U<<16&4294967295|U>>>16),U=O+(B^q^I)+z[14]+4259657740&4294967295,O=B+(U<<23&4294967295|U>>>9),U=I+(O^B^q)+z[1]+2763975236&4294967295,I=O+(U<<4&4294967295|U>>>28),U=q+(I^O^B)+z[4]+1272893353&4294967295,q=I+(U<<11&4294967295|U>>>21),U=B+(q^I^O)+z[7]+4139469664&4294967295,B=q+(U<<16&4294967295|U>>>16),U=O+(B^q^I)+z[10]+3200236656&4294967295,O=B+(U<<23&4294967295|U>>>9),U=I+(O^B^q)+z[13]+681279174&4294967295,I=O+(U<<4&4294967295|U>>>28),U=q+(I^O^B)+z[0]+3936430074&4294967295,q=I+(U<<11&4294967295|U>>>21),U=B+(q^I^O)+z[3]+3572445317&4294967295,B=q+(U<<16&4294967295|U>>>16),U=O+(B^q^I)+z[6]+76029189&4294967295,O=B+(U<<23&4294967295|U>>>9),U=I+(O^B^q)+z[9]+3654602809&4294967295,I=O+(U<<4&4294967295|U>>>28),U=q+(I^O^B)+z[12]+3873151461&4294967295,q=I+(U<<11&4294967295|U>>>21),U=B+(q^I^O)+z[15]+530742520&4294967295,B=q+(U<<16&4294967295|U>>>16),U=O+(B^q^I)+z[2]+3299628645&4294967295,O=B+(U<<23&4294967295|U>>>9),U=I+(B^(O|~q))+z[0]+4096336452&4294967295,I=O+(U<<6&4294967295|U>>>26),U=q+(O^(I|~B))+z[7]+1126891415&4294967295,q=I+(U<<10&4294967295|U>>>22),U=B+(I^(q|~O))+z[14]+2878612391&4294967295,B=q+(U<<15&4294967295|U>>>17),U=O+(q^(B|~I))+z[5]+4237533241&4294967295,O=B+(U<<21&4294967295|U>>>11),U=I+(B^(O|~q))+z[12]+1700485571&4294967295,I=O+(U<<6&4294967295|U>>>26),U=q+(O^(I|~B))+z[3]+2399980690&4294967295,q=I+(U<<10&4294967295|U>>>22),U=B+(I^(q|~O))+z[10]+4293915773&4294967295,B=q+(U<<15&4294967295|U>>>17),U=O+(q^(B|~I))+z[1]+2240044497&4294967295,O=B+(U<<21&4294967295|U>>>11),U=I+(B^(O|~q))+z[8]+1873313359&4294967295,I=O+(U<<6&4294967295|U>>>26),U=q+(O^(I|~B))+z[15]+4264355552&4294967295,q=I+(U<<10&4294967295|U>>>22),U=B+(I^(q|~O))+z[6]+2734768916&4294967295,B=q+(U<<15&4294967295|U>>>17),U=O+(q^(B|~I))+z[13]+1309151649&4294967295,O=B+(U<<21&4294967295|U>>>11),U=I+(B^(O|~q))+z[4]+4149444226&4294967295,I=O+(U<<6&4294967295|U>>>26),U=q+(O^(I|~B))+z[11]+3174756917&4294967295,q=I+(U<<10&4294967295|U>>>22),U=B+(I^(q|~O))+z[2]+718787259&4294967295,B=q+(U<<15&4294967295|U>>>17),U=O+(q^(B|~I))+z[9]+3951481745&4294967295,x.g[0]=x.g[0]+I&4294967295,x.g[1]=x.g[1]+(B+(U<<21&4294967295|U>>>11))&4294967295,x.g[2]=x.g[2]+B&4294967295,x.g[3]=x.g[3]+q&4294967295}r.prototype.u=function(x,I){I===void 0&&(I=x.length);for(var O=I-this.blockSize,z=this.B,B=this.h,q=0;q<I;){if(B==0)for(;q<=O;)a(this,x,q),q+=this.blockSize;if(typeof x=="string"){for(;q<I;)if(z[B++]=x.charCodeAt(q++),B==this.blockSize){a(this,z),B=0;break}}else for(;q<I;)if(z[B++]=x[q++],B==this.blockSize){a(this,z),B=0;break}}this.h=B,this.o+=I},r.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var I=1;I<x.length-8;++I)x[I]=0;var O=8*this.o;for(I=x.length-8;I<x.length;++I)x[I]=O&255,O/=256;for(this.u(x),x=Array(16),I=O=0;4>I;++I)for(var z=0;32>z;z+=8)x[O++]=this.g[I]>>>z&255;return x};function o(x,I){var O=c;return Object.prototype.hasOwnProperty.call(O,x)?O[x]:O[x]=I(x)}function l(x,I){this.h=I;for(var O=[],z=!0,B=x.length-1;0<=B;B--){var q=x[B]|0;z&&q==I||(O[B]=q,z=!1)}this.g=O}var c={};function f(x){return-128<=x&&128>x?o(x,function(I){return new l([I|0],0>I?-1:0)}):new l([x|0],0>x?-1:0)}function d(x){if(isNaN(x)||!isFinite(x))return v;if(0>x)return D(d(-x));for(var I=[],O=1,z=0;x>=O;z++)I[z]=x/O|0,O*=4294967296;return new l(I,0)}function p(x,I){if(x.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(x.charAt(0)=="-")return D(p(x.substring(1),I));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var O=d(Math.pow(I,8)),z=v,B=0;B<x.length;B+=8){var q=Math.min(8,x.length-B),U=parseInt(x.substring(B,B+q),I);8>q?(q=d(Math.pow(I,q)),z=z.j(q).add(d(U))):(z=z.j(O),z=z.add(d(U)))}return z}var v=f(0),w=f(1),E=f(16777216);n=l.prototype,n.m=function(){if(S(this))return-D(this).m();for(var x=0,I=1,O=0;O<this.g.length;O++){var z=this.i(O);x+=(0<=z?z:4294967296+z)*I,I*=4294967296}return x},n.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(R(this))return"0";if(S(this))return"-"+D(this).toString(x);for(var I=d(Math.pow(x,6)),O=this,z="";;){var B=$(O,I).g;O=N(O,B.j(I));var q=((0<O.g.length?O.g[0]:O.h)>>>0).toString(x);if(O=B,R(O))return q+z;for(;6>q.length;)q="0"+q;z=q+z}},n.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function R(x){if(x.h!=0)return!1;for(var I=0;I<x.g.length;I++)if(x.g[I]!=0)return!1;return!0}function S(x){return x.h==-1}n.l=function(x){return x=N(this,x),S(x)?-1:R(x)?0:1};function D(x){for(var I=x.g.length,O=[],z=0;z<I;z++)O[z]=~x.g[z];return new l(O,~x.h).add(w)}n.abs=function(){return S(this)?D(this):this},n.add=function(x){for(var I=Math.max(this.g.length,x.g.length),O=[],z=0,B=0;B<=I;B++){var q=z+(this.i(B)&65535)+(x.i(B)&65535),U=(q>>>16)+(this.i(B)>>>16)+(x.i(B)>>>16);z=U>>>16,q&=65535,U&=65535,O[B]=U<<16|q}return new l(O,O[O.length-1]&-2147483648?-1:0)};function N(x,I){return x.add(D(I))}n.j=function(x){if(R(this)||R(x))return v;if(S(this))return S(x)?D(this).j(D(x)):D(D(this).j(x));if(S(x))return D(this.j(D(x)));if(0>this.l(E)&&0>x.l(E))return d(this.m()*x.m());for(var I=this.g.length+x.g.length,O=[],z=0;z<2*I;z++)O[z]=0;for(z=0;z<this.g.length;z++)for(var B=0;B<x.g.length;B++){var q=this.i(z)>>>16,U=this.i(z)&65535,we=x.i(B)>>>16,ie=x.i(B)&65535;O[2*z+2*B]+=U*ie,M(O,2*z+2*B),O[2*z+2*B+1]+=q*ie,M(O,2*z+2*B+1),O[2*z+2*B+1]+=U*we,M(O,2*z+2*B+1),O[2*z+2*B+2]+=q*we,M(O,2*z+2*B+2)}for(z=0;z<I;z++)O[z]=O[2*z+1]<<16|O[2*z];for(z=I;z<2*I;z++)O[z]=0;return new l(O,0)};function M(x,I){for(;(x[I]&65535)!=x[I];)x[I+1]+=x[I]>>>16,x[I]&=65535,I++}function L(x,I){this.g=x,this.h=I}function $(x,I){if(R(I))throw Error("division by zero");if(R(x))return new L(v,v);if(S(x))return I=$(D(x),I),new L(D(I.g),D(I.h));if(S(I))return I=$(x,D(I)),new L(D(I.g),I.h);if(30<x.g.length){if(S(x)||S(I))throw Error("slowDivide_ only works with positive integers.");for(var O=w,z=I;0>=z.l(x);)O=P(O),z=P(z);var B=H(O,1),q=H(z,1);for(z=H(z,2),O=H(O,2);!R(z);){var U=q.add(z);0>=U.l(x)&&(B=B.add(O),q=U),z=H(z,1),O=H(O,1)}return I=N(x,B.j(I)),new L(B,I)}for(B=v;0<=x.l(I);){for(O=Math.max(1,Math.floor(x.m()/I.m())),z=Math.ceil(Math.log(O)/Math.LN2),z=48>=z?1:Math.pow(2,z-48),q=d(O),U=q.j(I);S(U)||0<U.l(x);)O-=z,q=d(O),U=q.j(I);R(q)&&(q=w),B=B.add(q),x=N(x,U)}return new L(B,x)}n.A=function(x){return $(this,x).h},n.and=function(x){for(var I=Math.max(this.g.length,x.g.length),O=[],z=0;z<I;z++)O[z]=this.i(z)&x.i(z);return new l(O,this.h&x.h)},n.or=function(x){for(var I=Math.max(this.g.length,x.g.length),O=[],z=0;z<I;z++)O[z]=this.i(z)|x.i(z);return new l(O,this.h|x.h)},n.xor=function(x){for(var I=Math.max(this.g.length,x.g.length),O=[],z=0;z<I;z++)O[z]=this.i(z)^x.i(z);return new l(O,this.h^x.h)};function P(x){for(var I=x.g.length+1,O=[],z=0;z<I;z++)O[z]=x.i(z)<<1|x.i(z-1)>>>31;return new l(O,x.h)}function H(x,I){var O=I>>5;I%=32;for(var z=x.g.length-O,B=[],q=0;q<z;q++)B[q]=0<I?x.i(q+O)>>>I|x.i(q+O+1)<<32-I:x.i(q+O);return new l(B,x.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,LI=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=d,l.fromString=p,ol=l}).apply(typeof jS<"u"?jS:typeof self<"u"?self:typeof window<"u"?window:{});var vp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var VI,Ff,UI,zp,b_,zI,BI,jI;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,b,A){return m==Array.prototype||m==Object.prototype||(m[b]=A.value),m};function t(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof vp=="object"&&vp];for(var b=0;b<m.length;++b){var A=m[b];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var r=t(this);function a(m,b){if(b)e:{var A=r;m=m.split(".");for(var V=0;V<m.length-1;V++){var J=m[V];if(!(J in A))break e;A=A[J]}m=m[m.length-1],V=A[m],b=b(V),b!=V&&b!=null&&e(A,m,{configurable:!0,writable:!0,value:b})}}function o(m,b){m instanceof String&&(m+="");var A=0,V=!1,J={next:function(){if(!V&&A<m.length){var se=A++;return{value:b(se,m[se]),done:!1}}return V=!0,{done:!0,value:void 0}}};return J[Symbol.iterator]=function(){return J},J}a("Array.prototype.values",function(m){return m||function(){return o(this,function(b,A){return A})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function f(m){var b=typeof m;return b=b!="object"?b:m?Array.isArray(m)?"array":b:"null",b=="array"||b=="object"&&typeof m.length=="number"}function d(m){var b=typeof m;return b=="object"&&m!=null||b=="function"}function p(m,b,A){return m.call.apply(m.bind,arguments)}function v(m,b,A){if(!m)throw Error();if(2<arguments.length){var V=Array.prototype.slice.call(arguments,2);return function(){var J=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(J,V),m.apply(b,J)}}return function(){return m.apply(b,arguments)}}function w(m,b,A){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:v,w.apply(null,arguments)}function E(m,b){var A=Array.prototype.slice.call(arguments,1);return function(){var V=A.slice();return V.push.apply(V,arguments),m.apply(this,V)}}function R(m,b){function A(){}A.prototype=b.prototype,m.aa=b.prototype,m.prototype=new A,m.prototype.constructor=m,m.Qb=function(V,J,se){for(var be=Array(arguments.length-2),Pt=2;Pt<arguments.length;Pt++)be[Pt-2]=arguments[Pt];return b.prototype[J].apply(V,be)}}function S(m){const b=m.length;if(0<b){const A=Array(b);for(let V=0;V<b;V++)A[V]=m[V];return A}return[]}function D(m,b){for(let A=1;A<arguments.length;A++){const V=arguments[A];if(f(V)){const J=m.length||0,se=V.length||0;m.length=J+se;for(let be=0;be<se;be++)m[J+be]=V[be]}else m.push(V)}}class N{constructor(b,A){this.i=b,this.j=A,this.h=0,this.g=null}get(){let b;return 0<this.h?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function M(m){return/^[\s\xa0]*$/.test(m)}function L(){var m=c.navigator;return m&&(m=m.userAgent)?m:""}function $(m){return $[" "](m),m}$[" "]=function(){};var P=L().indexOf("Gecko")!=-1&&!(L().toLowerCase().indexOf("webkit")!=-1&&L().indexOf("Edge")==-1)&&!(L().indexOf("Trident")!=-1||L().indexOf("MSIE")!=-1)&&L().indexOf("Edge")==-1;function H(m,b,A){for(const V in m)b.call(A,m[V],V,m)}function x(m,b){for(const A in m)b.call(void 0,m[A],A,m)}function I(m){const b={};for(const A in m)b[A]=m[A];return b}const O="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function z(m,b){let A,V;for(let J=1;J<arguments.length;J++){V=arguments[J];for(A in V)m[A]=V[A];for(let se=0;se<O.length;se++)A=O[se],Object.prototype.hasOwnProperty.call(V,A)&&(m[A]=V[A])}}function B(m){var b=1;m=m.split(":");const A=[];for(;0<b&&m.length;)A.push(m.shift()),b--;return m.length&&A.push(m.join(":")),A}function q(m){c.setTimeout(()=>{throw m},0)}function U(){var m=le;let b=null;return m.g&&(b=m.g,m.g=m.g.next,m.g||(m.h=null),b.next=null),b}class we{constructor(){this.h=this.g=null}add(b,A){const V=ie.get();V.set(b,A),this.h?this.h.next=V:this.g=V,this.h=V}}var ie=new N(()=>new te,m=>m.reset());class te{constructor(){this.next=this.g=this.h=null}set(b,A){this.h=b,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let he,pe=!1,le=new we,F=()=>{const m=c.Promise.resolve(void 0);he=()=>{m.then(ae)}};var ae=()=>{for(var m;m=U();){try{m.h.call(m.g)}catch(A){q(A)}var b=ie;b.j(m),100>b.h&&(b.h++,m.next=b.g,b.g=m)}pe=!1};function Te(){this.s=this.s,this.C=this.C}Te.prototype.s=!1,Te.prototype.ma=function(){this.s||(this.s=!0,this.N())},Te.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function _e(m,b){this.type=m,this.g=this.target=b,this.defaultPrevented=!1}_e.prototype.h=function(){this.defaultPrevented=!0};var ve=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var m=!1,b=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const A=()=>{};c.addEventListener("test",A,b),c.removeEventListener("test",A,b)}catch{}return m}();function Ae(m,b){if(_e.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var A=this.type=m.type,V=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=b,b=m.relatedTarget){if(P){e:{try{$(b.nodeName);var J=!0;break e}catch{}J=!1}J||(b=null)}}else A=="mouseover"?b=m.fromElement:A=="mouseout"&&(b=m.toElement);this.relatedTarget=b,V?(this.clientX=V.clientX!==void 0?V.clientX:V.pageX,this.clientY=V.clientY!==void 0?V.clientY:V.pageY,this.screenX=V.screenX||0,this.screenY=V.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:Ie[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&Ae.aa.h.call(this)}}R(Ae,_e);var Ie={2:"touch",3:"pen",4:"mouse"};Ae.prototype.h=function(){Ae.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var Ke="closure_listenable_"+(1e6*Math.random()|0),lt=0;function Ye(m,b,A,V,J){this.listener=m,this.proxy=null,this.src=b,this.type=A,this.capture=!!V,this.ha=J,this.key=++lt,this.da=this.fa=!1}function Ge(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function Ft(m){this.src=m,this.g={},this.h=0}Ft.prototype.add=function(m,b,A,V,J){var se=m.toString();m=this.g[se],m||(m=this.g[se]=[],this.h++);var be=mt(m,b,V,J);return-1<be?(b=m[be],A||(b.fa=!1)):(b=new Ye(b,this.src,se,!!V,J),b.fa=A,m.push(b)),b};function Cn(m,b){var A=b.type;if(A in m.g){var V=m.g[A],J=Array.prototype.indexOf.call(V,b,void 0),se;(se=0<=J)&&Array.prototype.splice.call(V,J,1),se&&(Ge(b),m.g[A].length==0&&(delete m.g[A],m.h--))}}function mt(m,b,A,V){for(var J=0;J<m.length;++J){var se=m[J];if(!se.da&&se.listener==b&&se.capture==!!A&&se.ha==V)return J}return-1}var Dn="closure_lm_"+(1e6*Math.random()|0),$n={};function sn(m,b,A,V,J){if(Array.isArray(b)){for(var se=0;se<b.length;se++)sn(m,b[se],A,V,J);return null}return A=Ln(A),m&&m[Ke]?m.K(b,A,d(V)?!!V.capture:!1,J):qn(m,b,A,!1,V,J)}function qn(m,b,A,V,J,se){if(!b)throw Error("Invalid event type");var be=d(J)?!!J.capture:!!J,Pt=mr(m);if(Pt||(m[Dn]=Pt=new Ft(m)),A=Pt.add(b,A,V,be,se),A.proxy)return A;if(V=gi(),A.proxy=V,V.src=m,V.listener=A,m.addEventListener)ve||(J=be),J===void 0&&(J=!1),m.addEventListener(b.toString(),V,J);else if(m.attachEvent)m.attachEvent(Xn(b.toString()),V);else if(m.addListener&&m.removeListener)m.addListener(V);else throw Error("addEventListener and attachEvent are unavailable.");return A}function gi(){function m(A){return b.call(m.src,m.listener,A)}const b=en;return m}function dr(m,b,A,V,J){if(Array.isArray(b))for(var se=0;se<b.length;se++)dr(m,b[se],A,V,J);else V=d(V)?!!V.capture:!!V,A=Ln(A),m&&m[Ke]?(m=m.i,b=String(b).toString(),b in m.g&&(se=m.g[b],A=mt(se,A,V,J),-1<A&&(Ge(se[A]),Array.prototype.splice.call(se,A,1),se.length==0&&(delete m.g[b],m.h--)))):m&&(m=mr(m))&&(b=m.g[b.toString()],m=-1,b&&(m=mt(b,A,V,J)),(A=-1<m?b[m]:null)&&Nn(A))}function Nn(m){if(typeof m!="number"&&m&&!m.da){var b=m.src;if(b&&b[Ke])Cn(b.i,m);else{var A=m.type,V=m.proxy;b.removeEventListener?b.removeEventListener(A,V,m.capture):b.detachEvent?b.detachEvent(Xn(A),V):b.addListener&&b.removeListener&&b.removeListener(V),(A=mr(b))?(Cn(A,m),A.h==0&&(A.src=null,b[Dn]=null)):Ge(m)}}}function Xn(m){return m in $n?$n[m]:$n[m]="on"+m}function en(m,b){if(m.da)m=!0;else{b=new Ae(b,this);var A=m.listener,V=m.ha||m.src;m.fa&&Nn(m),m=A.call(V,b)}return m}function mr(m){return m=m[Dn],m instanceof Ft?m:null}var tn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ln(m){return typeof m=="function"?m:(m[tn]||(m[tn]=function(b){return m.handleEvent(b)}),m[tn])}function kt(){Te.call(this),this.i=new Ft(this),this.M=this,this.F=null}R(kt,Te),kt.prototype[Ke]=!0,kt.prototype.removeEventListener=function(m,b,A,V){dr(this,m,b,A,V)};function on(m,b){var A,V=m.F;if(V)for(A=[];V;V=V.F)A.push(V);if(m=m.M,V=b.type||b,typeof b=="string")b=new _e(b,m);else if(b instanceof _e)b.target=b.target||m;else{var J=b;b=new _e(V,m),z(b,J)}if(J=!0,A)for(var se=A.length-1;0<=se;se--){var be=b.g=A[se];J=Wn(be,V,!0,b)&&J}if(be=b.g=m,J=Wn(be,V,!0,b)&&J,J=Wn(be,V,!1,b)&&J,A)for(se=0;se<A.length;se++)be=b.g=A[se],J=Wn(be,V,!1,b)&&J}kt.prototype.N=function(){if(kt.aa.N.call(this),this.i){var m=this.i,b;for(b in m.g){for(var A=m.g[b],V=0;V<A.length;V++)Ge(A[V]);delete m.g[b],m.h--}}this.F=null},kt.prototype.K=function(m,b,A,V){return this.i.add(String(m),b,!1,A,V)},kt.prototype.L=function(m,b,A,V){return this.i.add(String(m),b,!0,A,V)};function Wn(m,b,A,V){if(b=m.i.g[String(b)],!b)return!0;b=b.concat();for(var J=!0,se=0;se<b.length;++se){var be=b[se];if(be&&!be.da&&be.capture==A){var Pt=be.listener,pr=be.ha||be.src;be.fa&&Cn(m.i,be),J=Pt.call(pr,V)!==!1&&J}}return J&&!V.defaultPrevented}function Ra(m,b,A){if(typeof m=="function")A&&(m=w(m,A));else if(m&&typeof m.handleEvent=="function")m=w(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:c.setTimeout(m,b||0)}function ii(m){m.g=Ra(()=>{m.g=null,m.i&&(m.i=!1,ii(m))},m.l);const b=m.h;m.h=null,m.m.apply(null,b)}class Fa extends Te{constructor(b,A){super(),this.m=b,this.l=A,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:ii(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Oi(m){Te.call(this),this.h=m,this.g={}}R(Oi,Te);var Mn=[];function Hn(m){H(m.g,function(b,A){this.g.hasOwnProperty(A)&&Nn(b)},m),m.g={}}Oi.prototype.N=function(){Oi.aa.N.call(this),Hn(this)},Oi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Bi=c.JSON.stringify,pt=c.JSON.parse,Nt=class{stringify(m){return c.JSON.stringify(m,void 0)}parse(m){return c.JSON.parse(m,void 0)}};function $a(){}$a.prototype.h=null;function Ds(m){return m.h||(m.h=m.i())}function Ol(){}var ea={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Sa(){_e.call(this,"d")}R(Sa,_e);function ai(){_e.call(this,"c")}R(ai,_e);var zr={},qa=null;function _o(){return qa=qa||new kt}zr.La="serverreachability";function Y(m){_e.call(this,zr.La,m)}R(Y,_e);function Z(m){const b=_o();on(b,new Y(b))}zr.STAT_EVENT="statevent";function re(m,b){_e.call(this,zr.STAT_EVENT,m),this.stat=b}R(re,_e);function ce(m){const b=_o();on(b,new re(b,m))}zr.Ma="timingevent";function Ce(m,b){_e.call(this,zr.Ma,m),this.size=b}R(Ce,_e);function $e(m,b){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){m()},b)}function Fe(){this.g=!0}Fe.prototype.xa=function(){this.g=!1};function Ue(m,b,A,V,J,se){m.info(function(){if(m.g)if(se)for(var be="",Pt=se.split("&"),pr=0;pr<Pt.length;pr++){var Lt=Pt[pr].split("=");if(1<Lt.length){var Ir=Lt[0];Lt=Lt[1];var gr=Ir.split("_");be=2<=gr.length&&gr[1]=="type"?be+(Ir+"="+Lt+"&"):be+(Ir+"=redacted&")}}else be=null;else be=se;return"XMLHTTP REQ ("+V+") [attempt "+J+"]: "+b+`
`+A+`
`+be})}function Be(m,b,A,V,J,se,be){m.info(function(){return"XMLHTTP RESP ("+V+") [ attempt "+J+"]: "+b+`
`+A+`
`+se+" "+be})}function Oe(m,b,A,V){m.info(function(){return"XMLHTTP TEXT ("+b+"): "+Pe(m,A)+(V?" "+V:"")})}function ke(m,b){m.info(function(){return"TIMEOUT: "+b})}Fe.prototype.info=function(){};function Pe(m,b){if(!m.g)return b;if(!b)return null;try{var A=JSON.parse(b);if(A){for(m=0;m<A.length;m++)if(Array.isArray(A[m])){var V=A[m];if(!(2>V.length)){var J=V[1];if(Array.isArray(J)&&!(1>J.length)){var se=J[0];if(se!="noop"&&se!="stop"&&se!="close")for(var be=1;be<J.length;be++)J[be]=""}}}}return Bi(A)}catch{return b}}var Qe={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},$t={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},xn;function fn(){}R(fn,$a),fn.prototype.g=function(){return new XMLHttpRequest},fn.prototype.i=function(){return{}},xn=new fn;function Bt(m,b,A,V){this.j=m,this.i=b,this.l=A,this.R=V||1,this.U=new Oi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new In}function In(){this.i=null,this.g="",this.h=!1}var yi={},ji={};function Jn(m,b,A){m.L=1,m.v=kl(Yn(b)),m.m=A,m.P=!0,sr(m,null)}function sr(m,b){m.F=Date.now(),Qt(m),m.A=Yn(m.v);var A=m.A,V=m.R;Array.isArray(V)||(V=[String(V)]),Ms(A.i,"t",V),m.C=0,A=m.j.J,m.h=new In,m.g=um(m.j,A?b:null,!m.m),0<m.O&&(m.M=new Fa(w(m.Y,m,m.g),m.O)),b=m.U,A=m.g,V=m.ca;var J="readystatechange";Array.isArray(J)||(J&&(Mn[0]=J.toString()),J=Mn);for(var se=0;se<J.length;se++){var be=sn(A,J[se],V||b.handleEvent,!1,b.h||b);if(!be)break;b.g[be.key]=be}b=m.H?I(m.H):{},m.m?(m.u||(m.u="POST"),b["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,b)):(m.u="GET",m.g.ea(m.A,m.u,null,b)),Z(),Ue(m.i,m.u,m.A,m.l,m.R,m.m)}Bt.prototype.ca=function(m){m=m.target;const b=this.M;b&&oa(m)==3?b.j():this.Y(m)},Bt.prototype.Y=function(m){try{if(m==this.g)e:{const gr=oa(this.g);var b=this.g.Ba();const Ls=this.g.Z();if(!(3>gr)&&(gr!=3||this.g&&(this.h.h||this.g.oa()||tm(this.g)))){this.J||gr!=4||b==7||(b==8||0>=Ls?Z(3):Z(2)),Aa(this);var A=this.g.Z();this.X=A;t:if(ta(this)){var V=tm(this.g);m="";var J=V.length,se=oa(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Kt(this),vt(this);var be="";break t}this.h.i=new c.TextDecoder}for(b=0;b<J;b++)this.h.h=!0,m+=this.h.i.decode(V[b],{stream:!(se&&b==J-1)});V.length=0,this.h.g+=m,this.C=0,be=this.h.g}else be=this.g.oa();if(this.o=A==200,Be(this.i,this.u,this.A,this.l,this.R,gr,A),this.o){if(this.T&&!this.K){t:{if(this.g){var Pt,pr=this.g;if((Pt=pr.g?pr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(Pt)){var Lt=Pt;break t}}Lt=null}if(A=Lt)Oe(this.i,this.l,A,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Cr(this,A);else{this.o=!1,this.s=3,ce(12),Kt(this),vt(this);break e}}if(this.P){A=!0;let Br;for(;!this.J&&this.C<be.length;)if(Br=Ni(this,be),Br==ji){gr==4&&(this.s=4,ce(14),A=!1),Oe(this.i,this.l,null,"[Incomplete Response]");break}else if(Br==yi){this.s=4,ce(15),Oe(this.i,this.l,be,"[Invalid Chunk]"),A=!1;break}else Oe(this.i,this.l,Br,null),Cr(this,Br);if(ta(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),gr!=4||be.length!=0||this.h.h||(this.s=1,ce(16),A=!1),this.o=this.o&&A,!A)Oe(this.i,this.l,be,"[Invalid Chunked Response]"),Kt(this),vt(this);else if(0<be.length&&!this.W){this.W=!0;var Ir=this.j;Ir.g==this&&Ir.ba&&!Ir.M&&(Ir.j.info("Great, no buffering proxy detected. Bytes received: "+be.length),jl(Ir),Ir.M=!0,ce(11))}}else Oe(this.i,this.l,be,null),Cr(this,be);gr==4&&Kt(this),this.o&&!this.J&&(gr==4?sm(this.j,this):(this.o=!1,Qt(this)))}else by(this.g),A==400&&0<be.indexOf("Unknown SID")?(this.s=3,ce(12)):(this.s=0,ce(13)),Kt(this),vt(this)}}}catch{}finally{}};function ta(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function Ni(m,b){var A=m.C,V=b.indexOf(`
`,A);return V==-1?ji:(A=Number(b.substring(A,V)),isNaN(A)?yi:(V+=1,V+A>b.length?ji:(b=b.slice(V,V+A),m.C=V+A,b)))}Bt.prototype.cancel=function(){this.J=!0,Kt(this)};function Qt(m){m.S=Date.now()+m.I,Ha(m,m.I)}function Ha(m,b){if(m.B!=null)throw Error("WatchDog timer not null");m.B=$e(w(m.ba,m),b)}function Aa(m){m.B&&(c.clearTimeout(m.B),m.B=null)}Bt.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(ke(this.i,this.A),this.L!=2&&(Z(),ce(17)),Kt(this),this.s=2,vt(this)):Ha(this,this.S-m)};function vt(m){m.j.G==0||m.J||sm(m.j,m)}function Kt(m){Aa(m);var b=m.M;b&&typeof b.ma=="function"&&b.ma(),m.M=null,Hn(m.U),m.g&&(b=m.g,m.g=null,b.abort(),b.ma())}function Cr(m,b){try{var A=m.j;if(A.G!=0&&(A.g==m||Ya(A.h,m))){if(!m.K&&Ya(A.h,m)&&A.G==3){try{var V=A.Da.g.parse(b)}catch{V=null}if(Array.isArray(V)&&V.length==3){var J=V;if(J[0]==0){e:if(!A.u){if(A.g)if(A.g.F+3e3<m.F)Qu(A),Yu(A);else break e;Bh(A),ce(18)}}else A.za=J[1],0<A.za-A.T&&37500>J[2]&&A.F&&A.v==0&&!A.C&&(A.C=$e(w(A.Za,A),6e3));if(1>=Nl(A.h)&&A.ca){try{A.ca()}catch{}A.ca=void 0}}else Ps(A,11)}else if((m.K||A.g==m)&&Qu(A),!M(b))for(J=A.Da.g.parse(b),b=0;b<J.length;b++){let Lt=J[b];if(A.T=Lt[0],Lt=Lt[1],A.G==2)if(Lt[0]=="c"){A.K=Lt[1],A.ia=Lt[2];const Ir=Lt[3];Ir!=null&&(A.la=Ir,A.j.info("VER="+A.la));const gr=Lt[4];gr!=null&&(A.Aa=gr,A.j.info("SVER="+A.Aa));const Ls=Lt[5];Ls!=null&&typeof Ls=="number"&&0<Ls&&(V=1.5*Ls,A.L=V,A.j.info("backChannelRequestTimeoutMs_="+V)),V=A;const Br=m.g;if(Br){const Ja=Br.g?Br.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ja){var se=V.h;se.g||Ja.indexOf("spdy")==-1&&Ja.indexOf("quic")==-1&&Ja.indexOf("h2")==-1||(se.j=se.l,se.g=new Set,se.h&&(To(se,se.h),se.h=null))}if(V.D){const Fh=Br.g?Br.g.getResponseHeader("X-HTTP-Session-Id"):null;Fh&&(V.ya=Fh,qt(V.I,V.D,Fh))}}A.G=3,A.l&&A.l.ua(),A.ba&&(A.R=Date.now()-m.F,A.j.info("Handshake RTT: "+A.R+"ms")),V=A;var be=m;if(V.qa=lm(V,V.J?V.ia:null,V.W),be.K){ra(V.h,be);var Pt=be,pr=V.L;pr&&(Pt.I=pr),Pt.B&&(Aa(Pt),Qt(Pt)),V.g=be}else im(V);0<A.i.length&&Gu(A)}else Lt[0]!="stop"&&Lt[0]!="close"||Ps(A,7);else A.G==3&&(Lt[0]=="stop"||Lt[0]=="close"?Lt[0]=="stop"?Ps(A,7):Uh(A):Lt[0]!="noop"&&A.l&&A.l.ta(Lt),A.v=0)}}Z(4)}catch{}}var Is=class{constructor(m,b){this.g=m,this.map=b}};function yn(m){this.l=m||10,c.PerformanceNavigationTiming?(m=c.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function na(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function Nl(m){return m.h?1:m.g?m.g.size:0}function Ya(m,b){return m.h?m.h==b:m.g?m.g.has(b):!1}function To(m,b){m.g?m.g.add(b):m.h=b}function ra(m,b){m.h&&m.h==b?m.h=null:m.g&&m.g.has(b)&&m.g.delete(b)}yn.prototype.cancel=function(){if(this.i=vi(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function vi(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let b=m.i;for(const A of m.g.values())b=b.concat(A.D);return b}return S(m.i)}function Xd(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(f(m)){for(var b=[],A=m.length,V=0;V<A;V++)b.push(m[V]);return b}b=[],A=0;for(V in m)b[A++]=m[V];return b}function _y(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(f(m)||typeof m=="string"){var b=[];m=m.length;for(var A=0;A<m;A++)b.push(A);return b}b=[],A=0;for(const V in m)b[A++]=V;return b}}}function Ml(m,b){if(m.forEach&&typeof m.forEach=="function")m.forEach(b,void 0);else if(f(m)||typeof m=="string")Array.prototype.forEach.call(m,b,void 0);else for(var A=_y(m),V=Xd(m),J=V.length,se=0;se<J;se++)b.call(void 0,V[se],A&&A[se],m)}var Mh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function zu(m,b){if(m){m=m.split("&");for(var A=0;A<m.length;A++){var V=m[A].indexOf("="),J=null;if(0<=V){var se=m[A].substring(0,V);J=m[A].substring(V+1)}else se=m[A];b(se,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function Os(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof Os){this.h=m.h,wo(this,m.j),this.o=m.o,this.g=m.g,xl(this,m.s),this.l=m.l;var b=m.i,A=new Ga;A.i=b.i,b.g&&(A.g=new Map(b.g),A.h=b.h),Bu(this,A),this.m=m.m}else m&&(b=String(m).match(Mh))?(this.h=!1,wo(this,b[1]||"",!0),this.o=Eo(b[2]||""),this.g=Eo(b[3]||"",!0),xl(this,b[4]),this.l=Eo(b[5]||"",!0),Bu(this,b[6]||"",!0),this.m=Eo(b[7]||"")):(this.h=!1,this.i=new Ga(null,this.h))}Os.prototype.toString=function(){var m=[],b=this.j;b&&m.push(ia(b,xh,!0),":");var A=this.g;return(A||b=="file")&&(m.push("//"),(b=this.o)&&m.push(ia(b,xh,!0),"@"),m.push(encodeURIComponent(String(A)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.s,A!=null&&m.push(":",String(A))),(A=this.l)&&(this.g&&A.charAt(0)!="/"&&m.push("/"),m.push(ia(A,A.charAt(0)=="/"?kh:Wd,!0))),(A=this.i.toString())&&m.push("?",A),(A=this.m)&&m.push("#",ia(A,Ey)),m.join("")};function Yn(m){return new Os(m)}function wo(m,b,A){m.j=A?Eo(b,!0):b,m.j&&(m.j=m.j.replace(/:$/,""))}function xl(m,b){if(b){if(b=Number(b),isNaN(b)||0>b)throw Error("Bad port number "+b);m.s=b}else m.s=null}function Bu(m,b,A){b instanceof Ga?(m.i=b,Ph(m.i,m.h)):(A||(b=ia(b,wy)),m.i=new Ga(b,m.h))}function qt(m,b,A){m.i.set(b,A)}function kl(m){return qt(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function Eo(m,b){return m?b?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function ia(m,b,A){return typeof m=="string"?(m=encodeURI(m).replace(b,Ty),A&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function Ty(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var xh=/[#\/\?@]/g,Wd=/[#\?:]/g,kh=/[#\?]/g,wy=/[#\?@]/g,Ey=/#/g;function Ga(m,b){this.h=this.g=null,this.i=m||null,this.j=!!b}function aa(m){m.g||(m.g=new Map,m.h=0,m.i&&zu(m.i,function(b,A){m.add(decodeURIComponent(b.replace(/\+/g," ")),A)}))}n=Ga.prototype,n.add=function(m,b){aa(this),this.i=null,m=xs(this,m);var A=this.g.get(m);return A||this.g.set(m,A=[]),A.push(b),this.h+=1,this};function ju(m,b){aa(m),b=xs(m,b),m.g.has(b)&&(m.i=null,m.h-=m.g.get(b).length,m.g.delete(b))}function Ns(m,b){return aa(m),b=xs(m,b),m.g.has(b)}n.forEach=function(m,b){aa(this),this.g.forEach(function(A,V){A.forEach(function(J){m.call(b,J,V,this)},this)},this)},n.na=function(){aa(this);const m=Array.from(this.g.values()),b=Array.from(this.g.keys()),A=[];for(let V=0;V<b.length;V++){const J=m[V];for(let se=0;se<J.length;se++)A.push(b[V])}return A},n.V=function(m){aa(this);let b=[];if(typeof m=="string")Ns(this,m)&&(b=b.concat(this.g.get(xs(this,m))));else{m=Array.from(this.g.values());for(let A=0;A<m.length;A++)b=b.concat(m[A])}return b},n.set=function(m,b){return aa(this),this.i=null,m=xs(this,m),Ns(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[b]),this.h+=1,this},n.get=function(m,b){return m?(m=this.V(m),0<m.length?String(m[0]):b):b};function Ms(m,b,A){ju(m,b),0<A.length&&(m.i=null,m.g.set(xs(m,b),S(A)),m.h+=A.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],b=Array.from(this.g.keys());for(var A=0;A<b.length;A++){var V=b[A];const se=encodeURIComponent(String(V)),be=this.V(V);for(V=0;V<be.length;V++){var J=se;be[V]!==""&&(J+="="+encodeURIComponent(String(be[V]))),m.push(J)}}return this.i=m.join("&")};function xs(m,b){return b=String(b),m.j&&(b=b.toLowerCase()),b}function Ph(m,b){b&&!m.j&&(aa(m),m.i=null,m.g.forEach(function(A,V){var J=V.toLowerCase();V!=J&&(ju(this,V),Ms(this,J,A))},m)),m.j=b}function Jd(m,b){const A=new Fe;if(c.Image){const V=new Image;V.onload=E(sa,A,"TestLoadImage: loaded",!0,b,V),V.onerror=E(sa,A,"TestLoadImage: error",!1,b,V),V.onabort=E(sa,A,"TestLoadImage: abort",!1,b,V),V.ontimeout=E(sa,A,"TestLoadImage: timeout",!1,b,V),c.setTimeout(function(){V.ontimeout&&V.ontimeout()},1e4),V.src=m}else b(!1)}function Pl(m,b){const A=new Fe,V=new AbortController,J=setTimeout(()=>{V.abort(),sa(A,"TestPingServer: timeout",!1,b)},1e4);fetch(m,{signal:V.signal}).then(se=>{clearTimeout(J),se.ok?sa(A,"TestPingServer: ok",!0,b):sa(A,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(J),sa(A,"TestPingServer: error",!1,b)})}function sa(m,b,A,V,J){try{J&&(J.onload=null,J.onerror=null,J.onabort=null,J.ontimeout=null),V(A)}catch{}}function Ll(){this.g=new Nt}function Qa(m,b,A){const V=A||"";try{Ml(m,function(J,se){let be=J;d(J)&&(be=Bi(J)),b.push(V+se+"="+encodeURIComponent(be))})}catch(J){throw b.push(V+"type="+encodeURIComponent("_badmap")),J}}function bo(m){this.l=m.Ub||null,this.j=m.eb||!1}R(bo,$a),bo.prototype.g=function(){return new ks(this.l,this.j)},bo.prototype.i=function(m){return function(){return m}}({});function ks(m,b){kt.call(this),this.D=m,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}R(ks,kt),n=ks.prototype,n.open=function(m,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=b,this.readyState=1,Za(this)},n.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const b={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(b.body=m),(this.D||c).fetch(new Request(this.A,b)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ka(this)),this.readyState=0},n.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,Za(this)),this.g&&(this.readyState=3,Za(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Lh(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function Lh(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}n.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var b=m.value?m.value:new Uint8Array(0);(b=this.v.decode(b,{stream:!m.done}))&&(this.response=this.responseText+=b)}m.done?Ka(this):Za(this),this.readyState==3&&Lh(this)}},n.Ra=function(m){this.g&&(this.response=this.responseText=m,Ka(this))},n.Qa=function(m){this.g&&(this.response=m,Ka(this))},n.ga=function(){this.g&&Ka(this)};function Ka(m){m.readyState=4,m.l=null,m.j=null,m.v=null,Za(m)}n.setRequestHeader=function(m,b){this.u.append(m,b)},n.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],b=this.h.entries();for(var A=b.next();!A.done;)A=A.value,m.push(A[0]+": "+A[1]),A=b.next();return m.join(`\r
`)};function Za(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(ks.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function Vh(m){let b="";return H(m,function(A,V){b+=V,b+=":",b+=A,b+=`\r
`}),b}function Dr(m,b,A){e:{for(V in A){var V=!1;break e}V=!0}V||(A=Vh(A),typeof m=="string"?A!=null&&encodeURIComponent(String(A)):qt(m,b,A))}function Xt(m){kt.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}R(Xt,kt);var Fu=/^https?$/i,Vl=["POST","PUT"];n=Xt.prototype,n.Ha=function(m){this.J=m},n.ea=function(m,b,A,V){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);b=b?b.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():xn.g(),this.v=this.o?Ds(this.o):Ds(xn),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(b,String(m),!0),this.B=!1}catch(se){em(this,se);return}if(m=A||"",A=new Map(this.headers),V)if(Object.getPrototypeOf(V)===Object.prototype)for(var J in V)A.set(J,V[J]);else if(typeof V.keys=="function"&&typeof V.get=="function")for(const se of V.keys())A.set(se,V.get(se));else throw Error("Unknown input type for opt_headers: "+String(V));V=Array.from(A.keys()).find(se=>se.toLowerCase()=="content-type"),J=c.FormData&&m instanceof c.FormData,!(0<=Array.prototype.indexOf.call(Vl,b,void 0))||V||J||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[se,be]of A)this.g.setRequestHeader(se,be);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ul(this),this.u=!0,this.g.send(m),this.u=!1}catch(se){em(this,se)}};function em(m,b){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=b,m.m=5,$u(m),Xa(m)}function $u(m){m.A||(m.A=!0,on(m,"complete"),on(m,"error"))}n.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,on(this,"complete"),on(this,"abort"),Xa(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xa(this,!0)),Xt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?qu(this):this.bb())},n.bb=function(){qu(this)};function qu(m){if(m.h&&typeof l<"u"&&(!m.v[1]||oa(m)!=4||m.Z()!=2)){if(m.u&&oa(m)==4)Ra(m.Ea,0,m);else if(on(m,"readystatechange"),oa(m)==4){m.h=!1;try{const be=m.Z();e:switch(be){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var A;if(!(A=b)){var V;if(V=be===0){var J=String(m.D).match(Mh)[1]||null;!J&&c.self&&c.self.location&&(J=c.self.location.protocol.slice(0,-1)),V=!Fu.test(J?J.toLowerCase():"")}A=V}if(A)on(m,"complete"),on(m,"success");else{m.m=6;try{var se=2<oa(m)?m.g.statusText:""}catch{se=""}m.l=se+" ["+m.Z()+"]",$u(m)}}finally{Xa(m)}}}}function Xa(m,b){if(m.g){Ul(m);const A=m.g,V=m.v[0]?()=>{}:null;m.g=null,m.v=null,b||on(m,"ready");try{A.onreadystatechange=V}catch{}}}function Ul(m){m.I&&(c.clearTimeout(m.I),m.I=null)}n.isActive=function(){return!!this.g};function oa(m){return m.g?m.g.readyState:0}n.Z=function(){try{return 2<oa(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(m){if(this.g){var b=this.g.responseText;return m&&b.indexOf(m)==0&&(b=b.substring(m.length)),pt(b)}};function tm(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function by(m){const b={};m=(m.g&&2<=oa(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let V=0;V<m.length;V++){if(M(m[V]))continue;var A=B(m[V]);const J=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const se=b[J]||[];b[J]=se,se.push(A)}x(b,function(V){return V.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function zl(m,b,A){return A&&A.internalChannelParams&&A.internalChannelParams[m]||b}function Hu(m){this.Aa=0,this.i=[],this.j=new Fe,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=zl("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=zl("baseRetryDelayMs",5e3,m),this.cb=zl("retryDelaySeedMs",1e4,m),this.Wa=zl("forwardChannelMaxRetries",2,m),this.wa=zl("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new yn(m&&m.concurrentRequestLimit),this.Da=new Ll,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Hu.prototype,n.la=8,n.G=1,n.connect=function(m,b,A,V){ce(0),this.W=m,this.H=b||{},A&&V!==void 0&&(this.H.OSID=A,this.H.OAID=V),this.F=this.X,this.I=lm(this,null,this.W),Gu(this)};function Uh(m){if(nm(m),m.G==3){var b=m.U++,A=Yn(m.I);if(qt(A,"SID",m.K),qt(A,"RID",b),qt(A,"TYPE","terminate"),Bl(m,A),b=new Bt(m,m.j,b),b.L=2,b.v=kl(Yn(A)),A=!1,c.navigator&&c.navigator.sendBeacon)try{A=c.navigator.sendBeacon(b.v.toString(),"")}catch{}!A&&c.Image&&(new Image().src=b.v,A=!0),A||(b.g=um(b.j,null),b.g.ea(b.v)),b.F=Date.now(),Qt(b)}om(m)}function Yu(m){m.g&&(jl(m),m.g.cancel(),m.g=null)}function nm(m){Yu(m),m.u&&(c.clearTimeout(m.u),m.u=null),Qu(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&c.clearTimeout(m.s),m.s=null)}function Gu(m){if(!na(m.h)&&!m.s){m.s=!0;var b=m.Ga;he||F(),pe||(he(),pe=!0),le.add(b,m),m.B=0}}function Ry(m,b){return Nl(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=b.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=$e(w(m.Ga,m,b),jh(m,m.B)),m.B++,!0)}n.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const J=new Bt(this,this.j,m);let se=this.o;if(this.S&&(se?(se=I(se),z(se,this.S)):se=this.S),this.m!==null||this.O||(J.H=se,se=null),this.P)e:{for(var b=0,A=0;A<this.i.length;A++){t:{var V=this.i[A];if("__data__"in V.map&&(V=V.map.__data__,typeof V=="string")){V=V.length;break t}V=void 0}if(V===void 0)break;if(b+=V,4096<b){b=A;break e}if(b===4096||A===this.i.length-1){b=A+1;break e}}b=1e3}else b=1e3;b=rm(this,J,b),A=Yn(this.I),qt(A,"RID",m),qt(A,"CVER",22),this.D&&qt(A,"X-HTTP-Session-Id",this.D),Bl(this,A),se&&(this.O?b="headers="+encodeURIComponent(String(Vh(se)))+"&"+b:this.m&&Dr(A,this.m,se)),To(this.h,J),this.Ua&&qt(A,"TYPE","init"),this.P?(qt(A,"$req",b),qt(A,"SID","null"),J.T=!0,Jn(J,A,null)):Jn(J,A,b),this.G=2}}else this.G==3&&(m?zh(this,m):this.i.length==0||na(this.h)||zh(this))};function zh(m,b){var A;b?A=b.l:A=m.U++;const V=Yn(m.I);qt(V,"SID",m.K),qt(V,"RID",A),qt(V,"AID",m.T),Bl(m,V),m.m&&m.o&&Dr(V,m.m,m.o),A=new Bt(m,m.j,A,m.B+1),m.m===null&&(A.H=m.o),b&&(m.i=b.D.concat(m.i)),b=rm(m,A,1e3),A.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),To(m.h,A),Jn(A,V,b)}function Bl(m,b){m.H&&H(m.H,function(A,V){qt(b,V,A)}),m.l&&Ml({},function(A,V){qt(b,V,A)})}function rm(m,b,A){A=Math.min(m.i.length,A);var V=m.l?w(m.l.Na,m.l,m):null;e:{var J=m.i;let se=-1;for(;;){const be=["count="+A];se==-1?0<A?(se=J[0].g,be.push("ofs="+se)):se=0:be.push("ofs="+se);let Pt=!0;for(let pr=0;pr<A;pr++){let Lt=J[pr].g;const Ir=J[pr].map;if(Lt-=se,0>Lt)se=Math.max(0,J[pr].g-100),Pt=!1;else try{Qa(Ir,be,"req"+Lt+"_")}catch{V&&V(Ir)}}if(Pt){V=be.join("&");break e}}}return m=m.i.splice(0,A),b.D=m,V}function im(m){if(!m.g&&!m.u){m.Y=1;var b=m.Fa;he||F(),pe||(he(),pe=!0),le.add(b,m),m.v=0}}function Bh(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=$e(w(m.Fa,m),jh(m,m.v)),m.v++,!0)}n.Fa=function(){if(this.u=null,am(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=$e(w(this.ab,this),m)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ce(10),Yu(this),am(this))};function jl(m){m.A!=null&&(c.clearTimeout(m.A),m.A=null)}function am(m){m.g=new Bt(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var b=Yn(m.qa);qt(b,"RID","rpc"),qt(b,"SID",m.K),qt(b,"AID",m.T),qt(b,"CI",m.F?"0":"1"),!m.F&&m.ja&&qt(b,"TO",m.ja),qt(b,"TYPE","xmlhttp"),Bl(m,b),m.m&&m.o&&Dr(b,m.m,m.o),m.L&&(m.g.I=m.L);var A=m.g;m=m.ia,A.L=1,A.v=kl(Yn(b)),A.m=null,A.P=!0,sr(A,m)}n.Za=function(){this.C!=null&&(this.C=null,Yu(this),Bh(this),ce(19))};function Qu(m){m.C!=null&&(c.clearTimeout(m.C),m.C=null)}function sm(m,b){var A=null;if(m.g==b){Qu(m),jl(m),m.g=null;var V=2}else if(Ya(m.h,b))A=b.D,ra(m.h,b),V=1;else return;if(m.G!=0){if(b.o)if(V==1){A=b.m?b.m.length:0,b=Date.now()-b.F;var J=m.B;V=_o(),on(V,new Ce(V,A)),Gu(m)}else im(m);else if(J=b.s,J==3||J==0&&0<b.X||!(V==1&&Ry(m,b)||V==2&&Bh(m)))switch(A&&0<A.length&&(b=m.h,b.i=b.i.concat(A)),J){case 1:Ps(m,5);break;case 4:Ps(m,10);break;case 3:Ps(m,6);break;default:Ps(m,2)}}}function jh(m,b){let A=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(A*=2),A*b}function Ps(m,b){if(m.j.info("Error code "+b),b==2){var A=w(m.fb,m),V=m.Xa;const J=!V;V=new Os(V||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||wo(V,"https"),kl(V),J?Jd(V.toString(),A):Pl(V.toString(),A)}else ce(2);m.G=0,m.l&&m.l.sa(b),om(m),nm(m)}n.fb=function(m){m?(this.j.info("Successfully pinged google.com"),ce(2)):(this.j.info("Failed to ping google.com"),ce(1))};function om(m){if(m.G=0,m.ka=[],m.l){const b=vi(m.h);(b.length!=0||m.i.length!=0)&&(D(m.ka,b),D(m.ka,m.i),m.h.i.length=0,S(m.i),m.i.length=0),m.l.ra()}}function lm(m,b,A){var V=A instanceof Os?Yn(A):new Os(A);if(V.g!="")b&&(V.g=b+"."+V.g),xl(V,V.s);else{var J=c.location;V=J.protocol,b=b?b+"."+J.hostname:J.hostname,J=+J.port;var se=new Os(null);V&&wo(se,V),b&&(se.g=b),J&&xl(se,J),A&&(se.l=A),V=se}return A=m.D,b=m.ya,A&&b&&qt(V,A,b),qt(V,"VER",m.la),Bl(m,V),V}function um(m,b,A){if(b&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return b=m.Ca&&!m.pa?new Xt(new bo({eb:A})):new Xt(m.pa),b.Ha(m.J),b}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function cm(){}n=cm.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Ku(){}Ku.prototype.g=function(m,b){return new _i(m,b)};function _i(m,b){kt.call(this),this.g=new Hu(b),this.l=m,this.h=b&&b.messageUrlParams||null,m=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(m?m["X-WebChannel-Content-Type"]=b.messageContentType:m={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.va&&(m?m["X-WebChannel-Client-Profile"]=b.va:m={"X-WebChannel-Client-Profile":b.va}),this.g.S=m,(m=b&&b.Sb)&&!M(m)&&(this.g.m=m),this.v=b&&b.supportsCrossDomainXhr||!1,this.u=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!M(b)&&(this.g.D=b,m=this.h,m!==null&&b in m&&(m=this.h,b in m&&delete m[b])),this.j=new Wa(this)}R(_i,kt),_i.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},_i.prototype.close=function(){Uh(this.g)},_i.prototype.o=function(m){var b=this.g;if(typeof m=="string"){var A={};A.__data__=m,m=A}else this.u&&(A={},A.__data__=Bi(m),m=A);b.i.push(new Is(b.Ya++,m)),b.G==3&&Gu(b)},_i.prototype.N=function(){this.g.l=null,delete this.j,Uh(this.g),delete this.g,_i.aa.N.call(this)};function hm(m){Sa.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var b=m.__sm__;if(b){e:{for(const A in b){m=A;break e}m=void 0}(this.i=m)&&(m=this.i,b=b!==null&&m in b?b[m]:void 0),this.data=b}else this.data=m}R(hm,Sa);function fm(){ai.call(this),this.status=1}R(fm,ai);function Wa(m){this.g=m}R(Wa,cm),Wa.prototype.ua=function(){on(this.g,"a")},Wa.prototype.ta=function(m){on(this.g,new hm(m))},Wa.prototype.sa=function(m){on(this.g,new fm)},Wa.prototype.ra=function(){on(this.g,"b")},Ku.prototype.createWebChannel=Ku.prototype.g,_i.prototype.send=_i.prototype.o,_i.prototype.open=_i.prototype.m,_i.prototype.close=_i.prototype.close,jI=function(){return new Ku},BI=function(){return _o()},zI=zr,b_={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Qe.NO_ERROR=0,Qe.TIMEOUT=8,Qe.HTTP_ERROR=6,zp=Qe,$t.COMPLETE="complete",UI=$t,Ol.EventType=ea,ea.OPEN="a",ea.CLOSE="b",ea.ERROR="c",ea.MESSAGE="d",kt.prototype.listen=kt.prototype.K,Ff=Ol,Xt.prototype.listenOnce=Xt.prototype.L,Xt.prototype.getLastError=Xt.prototype.Ka,Xt.prototype.getLastErrorCode=Xt.prototype.Ba,Xt.prototype.getStatus=Xt.prototype.Z,Xt.prototype.getResponseJson=Xt.prototype.Oa,Xt.prototype.getResponseText=Xt.prototype.oa,Xt.prototype.send=Xt.prototype.ea,Xt.prototype.setWithCredentials=Xt.prototype.Ha,VI=Xt}).apply(typeof vp<"u"?vp:typeof self<"u"?self:typeof window<"u"?window:{});const FS="@firebase/firestore",$S="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}fi.UNAUTHENTICATED=new fi(null),fi.GOOGLE_CREDENTIALS=new fi("google-credentials-uid"),fi.FIRST_PARTY=new fi("first-party-uid"),fi.MOCK_USER=new fi("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ch="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nu=new xT("@firebase/firestore");function Ic(){return Nu.logLevel}function xe(n,...e){if(Nu.logLevel<=Dt.DEBUG){const t=e.map(YT);Nu.debug(`Firestore (${Ch}): ${n}`,...t)}}function po(n,...e){if(Nu.logLevel<=Dt.ERROR){const t=e.map(YT);Nu.error(`Firestore (${Ch}): ${n}`,...t)}}function uh(n,...e){if(Nu.logLevel<=Dt.WARN){const t=e.map(YT);Nu.warn(`Firestore (${Ch}): ${n}`,...t)}}function YT(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function at(n="Unexpected state"){const e=`FIRESTORE (${Ch}) INTERNAL ASSERTION FAILED: `+n;throw po(e),new Error(e)}function Jt(n,e){n||at()}function ft(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Le extends vo{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class V6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(fi.UNAUTHENTICATED))}shutdown(){}}class U6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class z6{constructor(e){this.t=e,this.currentUser=fi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Jt(this.o===void 0);let r=this.i;const a=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let o=new ll;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ll,e.enqueueRetryable(()=>a(this.currentUser))};const l=()=>{const f=o;e.enqueueRetryable(async()=>{await f.promise,await a(this.currentUser)})},c=f=>{xe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(f=>c(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?c(f):(xe("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ll)}},0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(xe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Jt(typeof r.accessToken=="string"),new FI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Jt(e===null||typeof e=="string"),new fi(e)}}class B6{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=fi.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class j6{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new B6(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(fi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class qS{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class F6{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,cs(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){Jt(this.o===void 0);const r=o=>{o.error!=null&&xe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.R;return this.R=o.token,xe("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const a=o=>{xe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>a(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?a(o):xe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new qS(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Jt(typeof t.token=="string"),this.R=t.token,new qS(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $6(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $I(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=$6(40);for(let o=0;o<a.length;++o)r.length<20&&a[o]<t&&(r+=e.charAt(a[o]%62))}return r}}function wt(n,e){return n<e?-1:n>e?1:0}function R_(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),a=e.codePointAt(t);if(r!==a){if(r<128&&a<128)return wt(r,a);{const o=$I(),l=q6(o.encode(HS(n,t)),o.encode(HS(e,t)));return l!==0?l:wt(r,a)}}t+=r>65535?2:1}return wt(n.length,e.length)}function HS(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function q6(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return wt(n[t],e[t]);return wt(n.length,e.length)}function ch(n,e,t){return n.length===e.length&&n.every((r,a)=>t(r,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YS=-62135596800,GS=1e6;class Sr{static now(){return Sr.fromMillis(Date.now())}static fromDate(e){return Sr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*GS);return new Sr(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Le(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Le(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<YS)throw new Le(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Le(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/GS}_compareTo(e){return this.seconds===e.seconds?wt(this.nanoseconds,e.nanoseconds):wt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-YS;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{static fromTimestamp(e){return new ut(e)}static min(){return new ut(new Sr(0,0))}static max(){return new ut(new Sr(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QS="__name__";class us{constructor(e,t,r){t===void 0?t=0:t>e.length&&at(),r===void 0?r=e.length-t:r>e.length-t&&at(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return us.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof us?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let a=0;a<r;a++){const o=us.compareSegments(e.get(a),t.get(a));if(o!==0)return o}return wt(e.length,t.length)}static compareSegments(e,t){const r=us.isNumericId(e),a=us.isNumericId(t);return r&&!a?-1:!r&&a?1:r&&a?us.extractNumericId(e).compare(us.extractNumericId(t)):R_(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ol.fromString(e.substring(4,e.length-2))}}class On extends us{construct(e,t,r){return new On(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Le(me.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(a=>a.length>0))}return new On(t)}static emptyPath(){return new On([])}}const H6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ti extends us{construct(e,t,r){return new ti(e,t,r)}static isValidIdentifier(e){return H6.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ti.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===QS}static keyField(){return new ti([QS])}static fromServerFormat(e){const t=[];let r="",a=0;const o=()=>{if(r.length===0)throw new Le(me.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;a<e.length;){const c=e[a];if(c==="\\"){if(a+1===e.length)throw new Le(me.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[a+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new Le(me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,a+=2}else c==="`"?(l=!l,a++):c!=="."||l?(r+=c,a++):(o(),a++)}if(o(),l)throw new Le(me.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ti(t)}static emptyPath(){return new ti([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(e){this.path=e}static fromPath(e){return new He(On.fromString(e))}static fromName(e){return new He(On.fromString(e).popFirst(5))}static empty(){return new He(On.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&On.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return On.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new He(new On(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fd=-1;function Y6(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,a=ut.fromTimestamp(r===1e9?new Sr(t+1,0):new Sr(t,r));return new yl(a,He.empty(),e)}function G6(n){return new yl(n.readTime,n.key,fd)}class yl{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new yl(ut.min(),He.empty(),fd)}static max(){return new yl(ut.max(),He.empty(),fd)}}function Q6(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=He.comparator(n.documentKey,e.documentKey),t!==0?t:wt(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Z6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dh(n){if(n.code!==me.FAILED_PRECONDITION||n.message!==K6)throw n;xe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&at(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new de((r,a)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,a)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof de?t:de.resolve(t)}catch(t){return de.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):de.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):de.reject(t)}static resolve(e){return new de((t,r)=>{t(e)})}static reject(e){return new de((t,r)=>{r(e)})}static waitFor(e){return new de((t,r)=>{let a=0,o=0,l=!1;e.forEach(c=>{++a,c.next(()=>{++o,l&&o===a&&t()},f=>r(f))}),l=!0,o===a&&t()})}static or(e){let t=de.resolve(!1);for(const r of e)t=t.next(a=>a?de.resolve(a):r());return t}static forEach(e,t){const r=[];return e.forEach((a,o)=>{r.push(t.call(this,a,o))}),this.waitFor(r)}static mapArray(e,t){return new de((r,a)=>{const o=e.length,l=new Array(o);let c=0;for(let f=0;f<o;f++){const d=f;t(e[d]).next(p=>{l[d]=p,++c,c===o&&r(l)},p=>a(p))}})}static doWhile(e,t){return new de((r,a)=>{const o=()=>{e()===!0?t().next(()=>{o()},a):r()};o()})}}function X6(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Ih(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.oe(r),this._e=r=>t.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}iy.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT=-1;function ay(n){return n==null}function vg(n){return n===0&&1/n==-1/0}function W6(n){return typeof n=="number"&&Number.isInteger(n)&&!vg(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HI="";function J6(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=KS(e)),e=eU(n.get(t),e);return KS(e)}function eU(n,e){let t=e;const r=n.length;for(let a=0;a<r;a++){const o=n.charAt(a);switch(o){case"\0":t+="";break;case HI:t+="";break;default:t+=o}}return t}function KS(n){return n+HI+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZS(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Cl(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function YI(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e,t){this.comparator=e,this.root=t||Wr.EMPTY}insert(e,t){return new Fn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Wr.BLACK,null,null))}remove(e){return new Fn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return t+r.left.size;a<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _p(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _p(this.root,e,this.comparator,!1)}getReverseIterator(){return new _p(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _p(this.root,e,this.comparator,!0)}}class _p{constructor(e,t,r,a){this.isReverse=a,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&a&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Wr{constructor(e,t,r,a,o){this.key=e,this.value=t,this.color=r??Wr.RED,this.left=a??Wr.EMPTY,this.right=o??Wr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,a,o){return new Wr(e??this.key,t??this.value,r??this.color,a??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let a=this;const o=r(e,a.key);return a=o<0?a.copy(null,null,null,a.left.insert(e,t,r),null):o===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Wr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return Wr.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Wr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Wr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw at();const e=this.left.check();if(e!==this.right.check())throw at();return e+(this.isRed()?0:1)}}Wr.EMPTY=null,Wr.RED=!0,Wr.BLACK=!1;Wr.EMPTY=new class{constructor(){this.size=0}get key(){throw at()}get value(){throw at()}get color(){throw at()}get left(){throw at()}get right(){throw at()}copy(e,t,r,a,o){return this}insert(e,t,r){return new Wr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(e){this.comparator=e,this.data=new Fn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new XS(this.data.getIterator())}getIteratorFrom(e){return new XS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Ar)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,o=r.getNext().key;if(this.comparator(a,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ar(this.comparator);return t.data=e,t}}class XS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(e){this.fields=e,e.sort(ti.comparator)}static empty(){return new Xi([])}unionWith(e){let t=new Ar(ti.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Xi(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ch(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(a){try{return atob(a)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new GI("Invalid base64 string: "+o):o}}(e);return new ri(t)}static fromUint8Array(e){const t=function(a){let o="";for(let l=0;l<a.length;++l)o+=String.fromCharCode(a[l]);return o}(e);return new ri(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let a=0;a<t.length;a++)r[a]=t.charCodeAt(a);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return wt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ri.EMPTY_BYTE_STRING=new ri("");const tU=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vl(n){if(Jt(!!n),typeof n=="string"){let e=0;const t=tU.exec(n);if(Jt(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:rr(n.seconds),nanos:rr(n.nanos)}}function rr(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function _l(n){return typeof n=="string"?ri.fromBase64String(n):ri.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QI="server_timestamp",KI="__type__",ZI="__previous_value__",XI="__local_write_time__";function QT(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[KI])===null||t===void 0?void 0:t.stringValue)===QI}function sy(n){const e=n.mapValue.fields[ZI];return QT(e)?sy(e):e}function dd(n){const e=vl(n.mapValue.fields[XI].timestampValue);return new Sr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nU{constructor(e,t,r,a,o,l,c,f,d){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=a,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=f,this.useFetchStreams=d}}const _g="(default)";class md{constructor(e,t){this.projectId=e,this.database=t||_g}static empty(){return new md("","")}get isDefaultDatabase(){return this.database===_g}isEqual(e){return e instanceof md&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WI="__type__",rU="__max__",Tp={mapValue:{}},JI="__vector__",Tg="value";function Tl(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?QT(n)?4:aU(n)?9007199254740991:iU(n)?10:11:at()}function bs(n,e){if(n===e)return!0;const t=Tl(n);if(t!==Tl(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return dd(n).isEqual(dd(e));case 3:return function(a,o){if(typeof a.timestampValue=="string"&&typeof o.timestampValue=="string"&&a.timestampValue.length===o.timestampValue.length)return a.timestampValue===o.timestampValue;const l=vl(a.timestampValue),c=vl(o.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(a,o){return _l(a.bytesValue).isEqual(_l(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(a,o){return rr(a.geoPointValue.latitude)===rr(o.geoPointValue.latitude)&&rr(a.geoPointValue.longitude)===rr(o.geoPointValue.longitude)}(n,e);case 2:return function(a,o){if("integerValue"in a&&"integerValue"in o)return rr(a.integerValue)===rr(o.integerValue);if("doubleValue"in a&&"doubleValue"in o){const l=rr(a.doubleValue),c=rr(o.doubleValue);return l===c?vg(l)===vg(c):isNaN(l)&&isNaN(c)}return!1}(n,e);case 9:return ch(n.arrayValue.values||[],e.arrayValue.values||[],bs);case 10:case 11:return function(a,o){const l=a.mapValue.fields||{},c=o.mapValue.fields||{};if(ZS(l)!==ZS(c))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(c[f]===void 0||!bs(l[f],c[f])))return!1;return!0}(n,e);default:return at()}}function pd(n,e){return(n.values||[]).find(t=>bs(t,e))!==void 0}function hh(n,e){if(n===e)return 0;const t=Tl(n),r=Tl(e);if(t!==r)return wt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return wt(n.booleanValue,e.booleanValue);case 2:return function(o,l){const c=rr(o.integerValue||o.doubleValue),f=rr(l.integerValue||l.doubleValue);return c<f?-1:c>f?1:c===f?0:isNaN(c)?isNaN(f)?0:-1:1}(n,e);case 3:return WS(n.timestampValue,e.timestampValue);case 4:return WS(dd(n),dd(e));case 5:return R_(n.stringValue,e.stringValue);case 6:return function(o,l){const c=_l(o),f=_l(l);return c.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(o,l){const c=o.split("/"),f=l.split("/");for(let d=0;d<c.length&&d<f.length;d++){const p=wt(c[d],f[d]);if(p!==0)return p}return wt(c.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,l){const c=wt(rr(o.latitude),rr(l.latitude));return c!==0?c:wt(rr(o.longitude),rr(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return JS(n.arrayValue,e.arrayValue);case 10:return function(o,l){var c,f,d,p;const v=o.fields||{},w=l.fields||{},E=(c=v[Tg])===null||c===void 0?void 0:c.arrayValue,R=(f=w[Tg])===null||f===void 0?void 0:f.arrayValue,S=wt(((d=E==null?void 0:E.values)===null||d===void 0?void 0:d.length)||0,((p=R==null?void 0:R.values)===null||p===void 0?void 0:p.length)||0);return S!==0?S:JS(E,R)}(n.mapValue,e.mapValue);case 11:return function(o,l){if(o===Tp.mapValue&&l===Tp.mapValue)return 0;if(o===Tp.mapValue)return 1;if(l===Tp.mapValue)return-1;const c=o.fields||{},f=Object.keys(c),d=l.fields||{},p=Object.keys(d);f.sort(),p.sort();for(let v=0;v<f.length&&v<p.length;++v){const w=R_(f[v],p[v]);if(w!==0)return w;const E=hh(c[f[v]],d[p[v]]);if(E!==0)return E}return wt(f.length,p.length)}(n.mapValue,e.mapValue);default:throw at()}}function WS(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return wt(n,e);const t=vl(n),r=vl(e),a=wt(t.seconds,r.seconds);return a!==0?a:wt(t.nanos,r.nanos)}function JS(n,e){const t=n.values||[],r=e.values||[];for(let a=0;a<t.length&&a<r.length;++a){const o=hh(t[a],r[a]);if(o)return o}return wt(t.length,r.length)}function fh(n){return S_(n)}function S_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=vl(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return _l(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return He.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",a=!0;for(const o of t.values||[])a?a=!1:r+=",",r+=S_(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let a="{",o=!0;for(const l of r)o?o=!1:a+=",",a+=`${l}:${S_(t.fields[l])}`;return a+"}"}(n.mapValue):at()}function Bp(n){switch(Tl(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=sy(n);return e?16+Bp(e):16;case 5:return 2*n.stringValue.length;case 6:return _l(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((a,o)=>a+Bp(o),0)}(n.arrayValue);case 10:case 11:return function(r){let a=0;return Cl(r.fields,(o,l)=>{a+=o.length+Bp(l)}),a}(n.mapValue);default:throw at()}}function eA(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function A_(n){return!!n&&"integerValue"in n}function KT(n){return!!n&&"arrayValue"in n}function tA(n){return!!n&&"nullValue"in n}function nA(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function jp(n){return!!n&&"mapValue"in n}function iU(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[WI])===null||t===void 0?void 0:t.stringValue)===JI}function Zf(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Cl(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Zf(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Zf(n.arrayValue.values[t]);return e}return Object.assign({},n)}function aU(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===rU}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(e){this.value=e}static empty(){return new Li({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!jp(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zf(t)}setAll(e){let t=ti.emptyPath(),r={},a=[];e.forEach((l,c)=>{if(!t.isImmediateParentOf(c)){const f=this.getFieldsMap(t);this.applyChanges(f,r,a),r={},a=[],t=c.popLast()}l?r[c.lastSegment()]=Zf(l):a.push(c.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,r,a)}delete(e){const t=this.field(e.popLast());jp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return bs(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=t.mapValue.fields[e.get(r)];jp(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,r){Cl(t,(a,o)=>e[a]=o);for(const a of r)delete e[a]}clone(){return new Li(Zf(this.value))}}function e2(n){const e=[];return Cl(n.fields,(t,r)=>{const a=new ti([t]);if(jp(r)){const o=e2(r.mapValue).fields;if(o.length===0)e.push(a);else for(const l of o)e.push(a.child(l))}else e.push(a)}),new Xi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(e,t,r,a,o,l,c){this.key=e,this.documentType=t,this.version=r,this.readTime=a,this.createTime=o,this.data=l,this.documentState=c}static newInvalidDocument(e){return new di(e,0,ut.min(),ut.min(),ut.min(),Li.empty(),0)}static newFoundDocument(e,t,r,a){return new di(e,1,t,ut.min(),r,a,0)}static newNoDocument(e,t){return new di(e,2,t,ut.min(),ut.min(),Li.empty(),0)}static newUnknownDocument(e,t){return new di(e,3,t,ut.min(),ut.min(),Li.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ut.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Li.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Li.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ut.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof di&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new di(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(e,t){this.position=e,this.inclusive=t}}function rA(n,e,t){let r=0;for(let a=0;a<n.position.length;a++){const o=e[a],l=n.position[a];if(o.field.isKeyField()?r=He.comparator(He.fromName(l.referenceValue),t.key):r=hh(l,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function iA(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!bs(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(e,t="asc"){this.field=e,this.dir=t}}function sU(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{}class fr extends t2{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new lU(e,t,r):t==="array-contains"?new hU(e,r):t==="in"?new fU(e,r):t==="not-in"?new dU(e,r):t==="array-contains-any"?new mU(e,r):new fr(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new uU(e,r):new cU(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(hh(t,this.value)):t!==null&&Tl(this.value)===Tl(t)&&this.matchesComparison(hh(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return at()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class za extends t2{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new za(e,t)}matches(e){return n2(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function n2(n){return n.op==="and"}function r2(n){return oU(n)&&n2(n)}function oU(n){for(const e of n.filters)if(e instanceof za)return!1;return!0}function C_(n){if(n instanceof fr)return n.field.canonicalString()+n.op.toString()+fh(n.value);if(r2(n))return n.filters.map(e=>C_(e)).join(",");{const e=n.filters.map(t=>C_(t)).join(",");return`${n.op}(${e})`}}function i2(n,e){return n instanceof fr?function(r,a){return a instanceof fr&&r.op===a.op&&r.field.isEqual(a.field)&&bs(r.value,a.value)}(n,e):n instanceof za?function(r,a){return a instanceof za&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce((o,l,c)=>o&&i2(l,a.filters[c]),!0):!1}(n,e):void at()}function a2(n){return n instanceof fr?function(t){return`${t.field.canonicalString()} ${t.op} ${fh(t.value)}`}(n):n instanceof za?function(t){return t.op.toString()+" {"+t.getFilters().map(a2).join(" ,")+"}"}(n):"Filter"}class lU extends fr{constructor(e,t,r){super(e,t,r),this.key=He.fromName(r.referenceValue)}matches(e){const t=He.comparator(e.key,this.key);return this.matchesComparison(t)}}class uU extends fr{constructor(e,t){super(e,"in",t),this.keys=s2("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class cU extends fr{constructor(e,t){super(e,"not-in",t),this.keys=s2("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function s2(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>He.fromName(r.referenceValue))}class hU extends fr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return KT(t)&&pd(t.arrayValue,this.value)}}class fU extends fr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&pd(this.value.arrayValue,t)}}class dU extends fr{constructor(e,t){super(e,"not-in",t)}matches(e){if(pd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!pd(this.value.arrayValue,t)}}class mU extends fr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!KT(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>pd(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pU{constructor(e,t=null,r=[],a=[],o=null,l=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=a,this.limit=o,this.startAt=l,this.endAt=c,this.le=null}}function aA(n,e=null,t=[],r=[],a=null,o=null,l=null){return new pU(n,e,t,r,a,o,l)}function ZT(n){const e=ft(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>C_(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),ay(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>fh(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>fh(r)).join(",")),e.le=t}return e.le}function XT(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!sU(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!i2(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!iA(n.startAt,e.startAt)&&iA(n.endAt,e.endAt)}function D_(n){return He.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e,t=null,r=[],a=[],o=null,l="F",c=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=a,this.limit=o,this.limitType=l,this.startAt=c,this.endAt=f,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function gU(n,e,t,r,a,o,l,c){return new Oh(n,e,t,r,a,o,l,c)}function WT(n){return new Oh(n)}function sA(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function o2(n){return n.collectionGroup!==null}function Xf(n){const e=ft(n);if(e.he===null){e.he=[];const t=new Set;for(const o of e.explicitOrderBy)e.he.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new Ar(ti.comparator);return l.filters.forEach(f=>{f.getFlattenedFilters().forEach(d=>{d.isInequality()&&(c=c.add(d.field))})}),c})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.he.push(new gd(o,r))}),t.has(ti.keyField().canonicalString())||e.he.push(new gd(ti.keyField(),r))}return e.he}function ys(n){const e=ft(n);return e.Pe||(e.Pe=yU(e,Xf(n))),e.Pe}function yU(n,e){if(n.limitType==="F")return aA(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(a=>{const o=a.dir==="desc"?"asc":"desc";return new gd(a.field,o)});const t=n.endAt?new wg(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new wg(n.startAt.position,n.startAt.inclusive):null;return aA(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function I_(n,e){const t=n.filters.concat([e]);return new Oh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function O_(n,e,t){return new Oh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function oy(n,e){return XT(ys(n),ys(e))&&n.limitType===e.limitType}function l2(n){return`${ZT(ys(n))}|lt:${n.limitType}`}function Oc(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(a=>a2(a)).join(", ")}]`),ay(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(a=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(a)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(a=>fh(a)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(a=>fh(a)).join(",")),`Target(${r})`}(ys(n))}; limitType=${n.limitType})`}function ly(n,e){return e.isFoundDocument()&&function(r,a){const o=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):He.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,a){for(const o of Xf(r))if(!o.field.isKeyField()&&a.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,a){for(const o of r.filters)if(!o.matches(a))return!1;return!0}(n,e)&&function(r,a){return!(r.startAt&&!function(l,c,f){const d=rA(l,c,f);return l.inclusive?d<=0:d<0}(r.startAt,Xf(r),a)||r.endAt&&!function(l,c,f){const d=rA(l,c,f);return l.inclusive?d>=0:d>0}(r.endAt,Xf(r),a))}(n,e)}function vU(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function u2(n){return(e,t)=>{let r=!1;for(const a of Xf(n)){const o=_U(a,e,t);if(o!==0)return o;r=r||a.field.isKeyField()}return 0}}function _U(n,e,t){const r=n.field.isKeyField()?He.comparator(e.key,t.key):function(o,l,c){const f=l.data.field(o),d=c.data.field(o);return f!==null&&d!==null?hh(f,d):at()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return at()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[a,o]of r)if(this.equalsFn(a,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return void(a[o]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[t]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Cl(this.inner,(t,r)=>{for(const[a,o]of r)e(a,o)})}isEmpty(){return YI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TU=new Fn(He.comparator);function go(){return TU}const c2=new Fn(He.comparator);function $f(...n){let e=c2;for(const t of n)e=e.insert(t.key,t);return e}function h2(n){let e=c2;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function gu(){return Wf()}function f2(){return Wf()}function Wf(){return new Vu(n=>n.toString(),(n,e)=>n.isEqual(e))}const wU=new Fn(He.comparator),EU=new Ar(He.comparator);function Ot(...n){let e=EU;for(const t of n)e=e.add(t);return e}const bU=new Ar(wt);function RU(){return bU}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JT(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vg(e)?"-0":e}}function d2(n){return{integerValue:""+n}}function SU(n,e){return W6(e)?d2(e):JT(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy{constructor(){this._=void 0}}function AU(n,e,t){return n instanceof Eg?function(a,o){const l={fields:{[KI]:{stringValue:QI},[XI]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return o&&QT(o)&&(o=sy(o)),o&&(l.fields[ZI]=o),{mapValue:l}}(t,e):n instanceof yd?p2(n,e):n instanceof vd?g2(n,e):function(a,o){const l=m2(a,o),c=oA(l)+oA(a.Ie);return A_(l)&&A_(a.Ie)?d2(c):JT(a.serializer,c)}(n,e)}function CU(n,e,t){return n instanceof yd?p2(n,e):n instanceof vd?g2(n,e):t}function m2(n,e){return n instanceof bg?function(r){return A_(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Eg extends uy{}class yd extends uy{constructor(e){super(),this.elements=e}}function p2(n,e){const t=y2(e);for(const r of n.elements)t.some(a=>bs(a,r))||t.push(r);return{arrayValue:{values:t}}}class vd extends uy{constructor(e){super(),this.elements=e}}function g2(n,e){let t=y2(e);for(const r of n.elements)t=t.filter(a=>!bs(a,r));return{arrayValue:{values:t}}}class bg extends uy{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function oA(n){return rr(n.integerValue||n.doubleValue)}function y2(n){return KT(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function DU(n,e){return n.field.isEqual(e.field)&&function(r,a){return r instanceof yd&&a instanceof yd||r instanceof vd&&a instanceof vd?ch(r.elements,a.elements,bs):r instanceof bg&&a instanceof bg?bs(r.Ie,a.Ie):r instanceof Eg&&a instanceof Eg}(n.transform,e.transform)}class IU{constructor(e,t){this.version=e,this.transformResults=t}}class La{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new La}static exists(e){return new La(void 0,e)}static updateTime(e){return new La(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Fp(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class cy{}function v2(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new ew(n.key,La.none()):new Yd(n.key,n.data,La.none());{const t=n.data,r=Li.empty();let a=new Ar(ti.comparator);for(let o of e.fields)if(!a.has(o)){let l=t.field(o);l===null&&o.length>1&&(o=o.popLast(),l=t.field(o)),l===null?r.delete(o):r.set(o,l),a=a.add(o)}return new Dl(n.key,r,new Xi(a.toArray()),La.none())}}function OU(n,e,t){n instanceof Yd?function(a,o,l){const c=a.value.clone(),f=uA(a.fieldTransforms,o,l.transformResults);c.setAll(f),o.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(n,e,t):n instanceof Dl?function(a,o,l){if(!Fp(a.precondition,o))return void o.convertToUnknownDocument(l.version);const c=uA(a.fieldTransforms,o,l.transformResults),f=o.data;f.setAll(_2(a)),f.setAll(c),o.convertToFoundDocument(l.version,f).setHasCommittedMutations()}(n,e,t):function(a,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,t)}function Jf(n,e,t,r){return n instanceof Yd?function(o,l,c,f){if(!Fp(o.precondition,l))return c;const d=o.value.clone(),p=cA(o.fieldTransforms,f,l);return d.setAll(p),l.convertToFoundDocument(l.version,d).setHasLocalMutations(),null}(n,e,t,r):n instanceof Dl?function(o,l,c,f){if(!Fp(o.precondition,l))return c;const d=cA(o.fieldTransforms,f,l),p=l.data;return p.setAll(_2(o)),p.setAll(d),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(v=>v.field))}(n,e,t,r):function(o,l,c){return Fp(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(n,e,t)}function NU(n,e){let t=null;for(const r of n.fieldTransforms){const a=e.data.field(r.field),o=m2(r.transform,a||null);o!=null&&(t===null&&(t=Li.empty()),t.set(r.field,o))}return t||null}function lA(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&ch(r,a,(o,l)=>DU(o,l))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Yd extends cy{constructor(e,t,r,a=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Dl extends cy{constructor(e,t,r,a,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=a,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function _2(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function uA(n,e,t){const r=new Map;Jt(n.length===t.length);for(let a=0;a<t.length;a++){const o=n[a],l=o.transform,c=e.data.field(o.field);r.set(o.field,CU(l,c,t[a]))}return r}function cA(n,e,t){const r=new Map;for(const a of n){const o=a.transform,l=t.data.field(a.field);r.set(a.field,AU(o,l,e))}return r}class ew extends cy{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class MU extends cy{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xU{constructor(e,t,r,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const o=this.mutations[a];o.key.isEqual(e.key)&&OU(o,e,r[a])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Jf(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Jf(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=f2();return this.mutations.forEach(a=>{const o=e.get(a.key),l=o.overlayedDocument;let c=this.applyToLocalView(l,o.mutatedFields);c=t.has(a.key)?null:c;const f=v2(l,c);f!==null&&r.set(a.key,f),l.isValidDocument()||l.convertToNoDocument(ut.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ot())}isEqual(e){return this.batchId===e.batchId&&ch(this.mutations,e.mutations,(t,r)=>lA(t,r))&&ch(this.baseMutations,e.baseMutations,(t,r)=>lA(t,r))}}class tw{constructor(e,t,r,a){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=a}static from(e,t,r){Jt(e.mutations.length===r.length);let a=function(){return wU}();const o=e.mutations;for(let l=0;l<o.length;l++)a=a.insert(o[l].key,r[l].version);return new tw(e,t,r,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kU{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PU{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cr,Ut;function LU(n){switch(n){case me.OK:return at();case me.CANCELLED:case me.UNKNOWN:case me.DEADLINE_EXCEEDED:case me.RESOURCE_EXHAUSTED:case me.INTERNAL:case me.UNAVAILABLE:case me.UNAUTHENTICATED:return!1;case me.INVALID_ARGUMENT:case me.NOT_FOUND:case me.ALREADY_EXISTS:case me.PERMISSION_DENIED:case me.FAILED_PRECONDITION:case me.ABORTED:case me.OUT_OF_RANGE:case me.UNIMPLEMENTED:case me.DATA_LOSS:return!0;default:return at()}}function T2(n){if(n===void 0)return po("GRPC error has no .code"),me.UNKNOWN;switch(n){case cr.OK:return me.OK;case cr.CANCELLED:return me.CANCELLED;case cr.UNKNOWN:return me.UNKNOWN;case cr.DEADLINE_EXCEEDED:return me.DEADLINE_EXCEEDED;case cr.RESOURCE_EXHAUSTED:return me.RESOURCE_EXHAUSTED;case cr.INTERNAL:return me.INTERNAL;case cr.UNAVAILABLE:return me.UNAVAILABLE;case cr.UNAUTHENTICATED:return me.UNAUTHENTICATED;case cr.INVALID_ARGUMENT:return me.INVALID_ARGUMENT;case cr.NOT_FOUND:return me.NOT_FOUND;case cr.ALREADY_EXISTS:return me.ALREADY_EXISTS;case cr.PERMISSION_DENIED:return me.PERMISSION_DENIED;case cr.FAILED_PRECONDITION:return me.FAILED_PRECONDITION;case cr.ABORTED:return me.ABORTED;case cr.OUT_OF_RANGE:return me.OUT_OF_RANGE;case cr.UNIMPLEMENTED:return me.UNIMPLEMENTED;case cr.DATA_LOSS:return me.DATA_LOSS;default:return at()}}(Ut=cr||(cr={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VU=new ol([4294967295,4294967295],0);function hA(n){const e=$I().encode(n),t=new LI;return t.update(e),new Uint8Array(t.digest())}function fA(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ol([t,r],0),new ol([a,o],0)]}class nw{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new qf(`Invalid padding: ${t}`);if(r<0)throw new qf(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new qf(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new qf(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=ol.fromNumber(this.Ee)}Ae(e,t,r){let a=e.add(t.multiply(ol.fromNumber(r)));return a.compare(VU)===1&&(a=new ol([a.getBits(0),a.getBits(1)],0)),a.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=hA(e),[r,a]=fA(t);for(let o=0;o<this.hashCount;o++){const l=this.Ae(r,a,o);if(!this.Re(l))return!1}return!0}static create(e,t,r){const a=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new nw(o,a,t);return r.forEach(c=>l.insert(c)),l}insert(e){if(this.Ee===0)return;const t=hA(e),[r,a]=fA(t);for(let o=0;o<this.hashCount;o++){const l=this.Ae(r,a,o);this.Ve(l)}}Ve(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class qf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hy{constructor(e,t,r,a,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const a=new Map;return a.set(e,Gd.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new hy(ut.min(),a,new Fn(wt),go(),Ot())}}class Gd{constructor(e,t,r,a,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Gd(r,t,Ot(),Ot(),Ot())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p{constructor(e,t,r,a){this.me=e,this.removedTargetIds=t,this.key=r,this.fe=a}}class w2{constructor(e,t){this.targetId=e,this.ge=t}}class E2{constructor(e,t,r=ri.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=a}}class dA{constructor(){this.pe=0,this.ye=mA(),this.we=ri.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Ot(),t=Ot(),r=Ot();return this.ye.forEach((a,o)=>{switch(o){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:r=r.add(a);break;default:at()}}),new Gd(this.we,this.Se,e,t,r)}Me(){this.be=!1,this.ye=mA()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Jt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class UU{constructor(e){this.ke=e,this.qe=new Map,this.Qe=go(),this.$e=wp(),this.Ue=wp(),this.Ke=new Fn(wt)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const r=this.He(t);switch(e.state){case 0:this.Je(t)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(t);break;case 3:this.Je(t)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),r.Ce(e.resumeToken));break;default:at()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((r,a)=>{this.Je(a)&&t(a)})}Ze(e){const t=e.targetId,r=e.ge.count,a=this.Xe(t);if(a){const o=a.target;if(D_(o))if(r===0){const l=new He(o.path);this.ze(t,l,di.newNoDocument(l,ut.min()))}else Jt(r===1);else{const l=this.et(t);if(l!==r){const c=this.tt(e),f=c?this.nt(c,e,l):1;if(f!==0){this.Ye(t);const d=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,d)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:o=0}=t;let l,c;try{l=_l(r).toUint8Array()}catch(f){if(f instanceof GI)return uh("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{c=new nw(l,a,o)}catch(f){return uh(f instanceof qf?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return c.Ee===0?null:c}nt(e,t,r){return t.ge.count===r-this.st(e,t.targetId)?0:2}st(e,t){const r=this.ke.getRemoteKeysForTarget(t);let a=0;return r.forEach(o=>{const l=this.ke.it(),c=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.ze(t,o,null),a++)}),a}ot(e){const t=new Map;this.qe.forEach((o,l)=>{const c=this.Xe(l);if(c){if(o.current&&D_(c.target)){const f=new He(c.target.path);this._t(f).has(l)||this.ut(l,f)||this.ze(l,f,di.newNoDocument(f,e))}o.ve&&(t.set(l,o.Fe()),o.Me())}});let r=Ot();this.Ue.forEach((o,l)=>{let c=!0;l.forEachWhile(f=>{const d=this.Xe(f);return!d||d.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(o))}),this.Qe.forEach((o,l)=>l.setReadTime(e));const a=new hy(e,t,this.Ke,this.Qe,r);return this.Qe=go(),this.$e=wp(),this.Ue=wp(),this.Ke=new Fn(wt),a}Ge(e,t){if(!this.Je(e))return;const r=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,r),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ue=this.Ue.insert(t.key,this.ct(t.key).add(e))}ze(e,t,r){if(!this.Je(e))return;const a=this.He(e);this.ut(e,t)?a.xe(t,1):a.Oe(t),this.Ue=this.Ue.insert(t,this.ct(t).delete(e)),this.Ue=this.Ue.insert(t,this.ct(t).add(e)),r&&(this.Qe=this.Qe.insert(t,r))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new dA,this.qe.set(e,t)),t}ct(e){let t=this.Ue.get(e);return t||(t=new Ar(wt),this.Ue=this.Ue.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new Ar(wt),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||xe("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new dA),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function wp(){return new Fn(He.comparator)}function mA(){return new Fn(He.comparator)}const zU={asc:"ASCENDING",desc:"DESCENDING"},BU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jU={and:"AND",or:"OR"};class FU{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function N_(n,e){return n.useProto3Json||ay(e)?e:{value:e}}function Rg(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function b2(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function $U(n,e){return Rg(n,e.toTimestamp())}function vs(n){return Jt(!!n),ut.fromTimestamp(function(t){const r=vl(t);return new Sr(r.seconds,r.nanos)}(n))}function rw(n,e){return M_(n,e).canonicalString()}function M_(n,e){const t=function(a){return new On(["projects",a.projectId,"databases",a.database])}(n).child("documents");return e===void 0?t:t.child(e)}function R2(n){const e=On.fromString(n);return Jt(I2(e)),e}function x_(n,e){return rw(n.databaseId,e.path)}function Fv(n,e){const t=R2(e);if(t.get(1)!==n.databaseId.projectId)throw new Le(me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Le(me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new He(A2(t))}function S2(n,e){return rw(n.databaseId,e)}function qU(n){const e=R2(n);return e.length===4?On.emptyPath():A2(e)}function k_(n){return new On(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function A2(n){return Jt(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function pA(n,e,t){return{name:x_(n,e),fields:t.value.mapValue.fields}}function HU(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:at()}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],o=function(d,p){return d.useProto3Json?(Jt(p===void 0||typeof p=="string"),ri.fromBase64String(p||"")):(Jt(p===void 0||p instanceof Buffer||p instanceof Uint8Array),ri.fromUint8Array(p||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&function(d){const p=d.code===void 0?me.UNKNOWN:T2(d.code);return new Le(p,d.message||"")}(l);t=new E2(r,a,o,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=Fv(n,r.document.name),o=vs(r.document.updateTime),l=r.document.createTime?vs(r.document.createTime):ut.min(),c=new Li({mapValue:{fields:r.document.fields}}),f=di.newFoundDocument(a,o,l,c),d=r.targetIds||[],p=r.removedTargetIds||[];t=new $p(d,p,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=Fv(n,r.document),o=r.readTime?vs(r.readTime):ut.min(),l=di.newNoDocument(a,o),c=r.removedTargetIds||[];t=new $p([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=Fv(n,r.document),o=r.removedTargetIds||[];t=new $p([],o,a,null)}else{if(!("filter"in e))return at();{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:o}=r,l=new PU(a,o),c=r.targetId;t=new w2(c,l)}}return t}function YU(n,e){let t;if(e instanceof Yd)t={update:pA(n,e.key,e.value)};else if(e instanceof ew)t={delete:x_(n,e.key)};else if(e instanceof Dl)t={update:pA(n,e.key,e.data),updateMask:t5(e.fieldMask)};else{if(!(e instanceof MU))return at();t={verify:x_(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,l){const c=l.transform;if(c instanceof Eg)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof yd)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof vd)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof bg)return{fieldPath:l.field.canonicalString(),increment:c.Ie};throw at()}(0,r))),e.precondition.isNone||(t.currentDocument=function(a,o){return o.updateTime!==void 0?{updateTime:$U(a,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:at()}(n,e.precondition)),t}function GU(n,e){return n&&n.length>0?(Jt(e!==void 0),n.map(t=>function(a,o){let l=a.updateTime?vs(a.updateTime):vs(o);return l.isEqual(ut.min())&&(l=vs(o)),new IU(l,a.transformResults||[])}(t,e))):[]}function QU(n,e){return{documents:[S2(n,e.path)]}}function KU(n,e){const t={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=S2(n,a);const o=function(d){if(d.length!==0)return D2(za.create(d,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const l=function(d){if(d.length!==0)return d.map(p=>function(w){return{field:Nc(w.field),direction:WU(w.dir)}}(p))}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const c=N_(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{ht:t,parent:a}}function ZU(n){let e=qU(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let a=null;if(r>0){Jt(r===1);const p=t.from[0];p.allDescendants?a=p.collectionId:e=e.child(p.collectionId)}let o=[];t.where&&(o=function(v){const w=C2(v);return w instanceof za&&r2(w)?w.getFilters():[w]}(t.where));let l=[];t.orderBy&&(l=function(v){return v.map(w=>function(R){return new gd(Mc(R.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction))}(w))}(t.orderBy));let c=null;t.limit&&(c=function(v){let w;return w=typeof v=="object"?v.value:v,ay(w)?null:w}(t.limit));let f=null;t.startAt&&(f=function(v){const w=!!v.before,E=v.values||[];return new wg(E,w)}(t.startAt));let d=null;return t.endAt&&(d=function(v){const w=!v.before,E=v.values||[];return new wg(E,w)}(t.endAt)),gU(e,a,l,o,c,"F",f,d)}function XU(n,e){const t=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return at()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function C2(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Mc(t.unaryFilter.field);return fr.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=Mc(t.unaryFilter.field);return fr.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Mc(t.unaryFilter.field);return fr.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Mc(t.unaryFilter.field);return fr.create(l,"!=",{nullValue:"NULL_VALUE"});default:return at()}}(n):n.fieldFilter!==void 0?function(t){return fr.create(Mc(t.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return at()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return za.create(t.compositeFilter.filters.map(r=>C2(r)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return at()}}(t.compositeFilter.op))}(n):at()}function WU(n){return zU[n]}function JU(n){return BU[n]}function e5(n){return jU[n]}function Nc(n){return{fieldPath:n.canonicalString()}}function Mc(n){return ti.fromServerFormat(n.fieldPath)}function D2(n){return n instanceof fr?function(t){if(t.op==="=="){if(nA(t.value))return{unaryFilter:{field:Nc(t.field),op:"IS_NAN"}};if(tA(t.value))return{unaryFilter:{field:Nc(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(nA(t.value))return{unaryFilter:{field:Nc(t.field),op:"IS_NOT_NAN"}};if(tA(t.value))return{unaryFilter:{field:Nc(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Nc(t.field),op:JU(t.op),value:t.value}}}(n):n instanceof za?function(t){const r=t.getFilters().map(a=>D2(a));return r.length===1?r[0]:{compositeFilter:{op:e5(t.op),filters:r}}}(n):at()}function t5(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function I2(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e,t,r,a,o=ut.min(),l=ut.min(),c=ri.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=f}withSequenceNumber(e){return new nl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new nl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new nl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new nl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n5{constructor(e){this.Tt=e}}function r5(n){const e=ZU({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?O_(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i5{constructor(){this.Tn=new a5}addToCollectionParentIndex(e,t){return this.Tn.add(t),de.resolve()}getCollectionParents(e,t){return de.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return de.resolve()}deleteFieldIndex(e,t){return de.resolve()}deleteAllFieldIndexes(e){return de.resolve()}createTargetIndexes(e,t){return de.resolve()}getDocumentsMatchingTarget(e,t){return de.resolve(null)}getIndexType(e,t){return de.resolve(0)}getFieldIndexes(e,t){return de.resolve([])}getNextCollectionGroupToUpdate(e){return de.resolve(null)}getMinOffset(e,t){return de.resolve(yl.min())}getMinOffsetFromCollectionGroup(e,t){return de.resolve(yl.min())}updateCollectionGroup(e,t,r){return de.resolve()}updateIndexEntries(e,t){return de.resolve()}}class a5{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t]||new Ar(On.comparator),o=!a.has(r);return this.index[t]=a.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t];return a&&a.has(r)}getEntries(e){return(this.index[e]||new Ar(On.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},O2=41943040;class ki{static withCacheSize(e){return new ki(e,ki.DEFAULT_COLLECTION_PERCENTILE,ki.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ki.DEFAULT_COLLECTION_PERCENTILE=10,ki.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ki.DEFAULT=new ki(O2,ki.DEFAULT_COLLECTION_PERCENTILE,ki.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ki.DISABLED=new ki(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new dh(0)}static Kn(){return new dh(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yA="LruGarbageCollector",s5=1048576;function vA([n,e],[t,r]){const a=wt(n,t);return a===0?wt(e,r):a}class o5{constructor(e){this.Hn=e,this.buffer=new Ar(vA),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();vA(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class l5{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){xe(yA,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Ih(t)?xe(yA,"Ignoring IndexedDB error during garbage collection: ",t):await Dh(t)}await this.er(3e5)})}}class u5{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return de.resolve(iy.ae);const r=new o5(t);return this.tr.forEachTarget(e,a=>r.Zn(a.sequenceNumber)).next(()=>this.tr.rr(e,a=>r.Zn(a))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.tr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(xe("LruGarbageCollector","Garbage collection skipped; disabled"),de.resolve(gA)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(xe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),gA):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let r,a,o,l,c,f,d;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(v=>(v>this.params.maximumSequenceNumbersToCollect?(xe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),a=this.params.maximumSequenceNumbersToCollect):a=v,l=Date.now(),this.nthSequenceNumber(e,a))).next(v=>(r=v,c=Date.now(),this.removeTargets(e,r,t))).next(v=>(o=v,f=Date.now(),this.removeOrphanedDocuments(e,r))).next(v=>(d=Date.now(),Ic()<=Dt.DEBUG&&xe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-p}ms
	Determined least recently used ${a} in `+(c-l)+`ms
	Removed ${o} targets in `+(f-c)+`ms
	Removed ${v} documents in `+(d-f)+`ms
Total Duration: ${d-p}ms`),de.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:o,documentsRemoved:v})))}}function c5(n,e){return new u5(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h5{constructor(){this.changes=new Vu(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,di.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?de.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f5{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d5{constructor(e,t,r,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(r=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(r!==null&&Jf(r.mutation,a,Xi.empty(),Sr.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Ot()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Ot()){const a=gu();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,r).next(o=>{let l=$f();return o.forEach((c,f)=>{l=l.insert(c,f.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=gu();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Ot()))}populateOverlays(e,t,r){const a=[];return r.forEach(o=>{t.has(o)||a.push(o)}),this.documentOverlayCache.getOverlays(e,a).next(o=>{o.forEach((l,c)=>{t.set(l,c)})})}computeViews(e,t,r,a){let o=go();const l=Wf(),c=function(){return Wf()}();return t.forEach((f,d)=>{const p=r.get(d.key);a.has(d.key)&&(p===void 0||p.mutation instanceof Dl)?o=o.insert(d.key,d):p!==void 0?(l.set(d.key,p.mutation.getFieldMask()),Jf(p.mutation,d,p.mutation.getFieldMask(),Sr.now())):l.set(d.key,Xi.empty())}),this.recalculateAndSaveOverlays(e,o).next(f=>(f.forEach((d,p)=>l.set(d,p)),t.forEach((d,p)=>{var v;return c.set(d,new f5(p,(v=l.get(d))!==null&&v!==void 0?v:null))}),c))}recalculateAndSaveOverlays(e,t){const r=Wf();let a=new Fn((l,c)=>l-c),o=Ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const c of l)c.keys().forEach(f=>{const d=t.get(f);if(d===null)return;let p=r.get(f)||Xi.empty();p=c.applyToLocalView(d,p),r.set(f,p);const v=(a.get(c.batchId)||Ot()).add(f);a=a.insert(c.batchId,v)})}).next(()=>{const l=[],c=a.getReverseIterator();for(;c.hasNext();){const f=c.getNext(),d=f.key,p=f.value,v=f2();p.forEach(w=>{if(!o.has(w)){const E=v2(t.get(w),r.get(w));E!==null&&v.set(w,E),o=o.add(w)}}),l.push(this.documentOverlayCache.saveOverlays(e,d,v))}return de.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,a){return function(l){return He.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):o2(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,a):this.getDocumentsMatchingCollectionQuery(e,t,r,a)}getNextDocuments(e,t,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,a).next(o=>{const l=a-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,a-o.size):de.resolve(gu());let c=fd,f=o;return l.next(d=>de.forEach(d,(p,v)=>(c<v.largestBatchId&&(c=v.largestBatchId),o.get(p)?de.resolve():this.remoteDocumentCache.getEntry(e,p).next(w=>{f=f.insert(p,w)}))).next(()=>this.populateOverlays(e,d,o)).next(()=>this.computeViews(e,f,d,Ot())).next(p=>({batchId:c,changes:h2(p)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new He(t)).next(r=>{let a=$f();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,r,a){const o=t.collectionGroup;let l=$f();return this.indexManager.getCollectionParents(e,o).next(c=>de.forEach(c,f=>{const d=function(v,w){return new Oh(w,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(t,f.child(o));return this.getDocumentsMatchingCollectionQuery(e,d,r,a).next(p=>{p.forEach((v,w)=>{l=l.insert(v,w)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,r,a){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,a))).next(l=>{o.forEach((f,d)=>{const p=d.getKey();l.get(p)===null&&(l=l.insert(p,di.newInvalidDocument(p)))});let c=$f();return l.forEach((f,d)=>{const p=o.get(f);p!==void 0&&Jf(p.mutation,d,Xi.empty(),Sr.now()),ly(t,d)&&(c=c.insert(f,d))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m5{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return de.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(a){return{id:a.id,version:a.version,createTime:vs(a.createTime)}}(t)),de.resolve()}getNamedQuery(e,t){return de.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(a){return{name:a.name,query:r5(a.bundledQuery),readTime:vs(a.readTime)}}(t)),de.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p5{constructor(){this.overlays=new Fn(He.comparator),this.Rr=new Map}getOverlay(e,t){return de.resolve(this.overlays.get(t))}getOverlays(e,t){const r=gu();return de.forEach(t,a=>this.getOverlay(e,a).next(o=>{o!==null&&r.set(a,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((a,o)=>{this.Et(e,t,o)}),de.resolve()}removeOverlaysForBatchId(e,t,r){const a=this.Rr.get(r);return a!==void 0&&(a.forEach(o=>this.overlays=this.overlays.remove(o)),this.Rr.delete(r)),de.resolve()}getOverlaysForCollection(e,t,r){const a=gu(),o=t.length+1,l=new He(t.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const f=c.getNext().value,d=f.getKey();if(!t.isPrefixOf(d.path))break;d.path.length===o&&f.largestBatchId>r&&a.set(f.getKey(),f)}return de.resolve(a)}getOverlaysForCollectionGroup(e,t,r,a){let o=new Fn((d,p)=>d-p);const l=this.overlays.getIterator();for(;l.hasNext();){const d=l.getNext().value;if(d.getKey().getCollectionGroup()===t&&d.largestBatchId>r){let p=o.get(d.largestBatchId);p===null&&(p=gu(),o=o.insert(d.largestBatchId,p)),p.set(d.getKey(),d)}}const c=gu(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((d,p)=>c.set(d,p)),!(c.size()>=a)););return de.resolve(c)}Et(e,t,r){const a=this.overlays.get(r.key);if(a!==null){const l=this.Rr.get(a.largestBatchId).delete(r.key);this.Rr.set(a.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new kU(t,r));let o=this.Rr.get(t);o===void 0&&(o=Ot(),this.Rr.set(t,o)),this.Rr.set(t,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g5{constructor(){this.sessionToken=ri.EMPTY_BYTE_STRING}getSessionToken(e){return de.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,de.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(){this.Vr=new Ar(kr.mr),this.gr=new Ar(kr.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const r=new kr(e,t);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.wr(new kr(e,t))}Sr(e,t){e.forEach(r=>this.removeReference(r,t))}br(e){const t=new He(new On([])),r=new kr(t,e),a=new kr(t,e+1),o=[];return this.gr.forEachInRange([r,a],l=>{this.wr(l),o.push(l.key)}),o}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new He(new On([])),r=new kr(t,e),a=new kr(t,e+1);let o=Ot();return this.gr.forEachInRange([r,a],l=>{o=o.add(l.key)}),o}containsKey(e){const t=new kr(e,0),r=this.Vr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class kr{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return He.comparator(e.key,t.key)||wt(e.Cr,t.Cr)}static pr(e,t){return wt(e.Cr,t.Cr)||He.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y5{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new Ar(kr.mr)}checkEmpty(e){return de.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,a){const o=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new xU(o,t,r,a);this.mutationQueue.push(l);for(const c of a)this.Mr=this.Mr.add(new kr(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return de.resolve(l)}lookupMutationBatch(e,t){return de.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,a=this.Nr(r),o=a<0?0:a;return de.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return de.resolve(this.mutationQueue.length===0?GT:this.Fr-1)}getAllMutationBatches(e){return de.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new kr(t,0),a=new kr(t,Number.POSITIVE_INFINITY),o=[];return this.Mr.forEachInRange([r,a],l=>{const c=this.Or(l.Cr);o.push(c)}),de.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ar(wt);return t.forEach(a=>{const o=new kr(a,0),l=new kr(a,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([o,l],c=>{r=r.add(c.Cr)})}),de.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,a=r.length+1;let o=r;He.isDocumentKey(o)||(o=o.child(""));const l=new kr(new He(o),0);let c=new Ar(wt);return this.Mr.forEachWhile(f=>{const d=f.key.path;return!!r.isPrefixOf(d)&&(d.length===a&&(c=c.add(f.Cr)),!0)},l),de.resolve(this.Br(c))}Br(e){const t=[];return e.forEach(r=>{const a=this.Or(r);a!==null&&t.push(a)}),t}removeMutationBatch(e,t){Jt(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return de.forEach(t.mutations,a=>{const o=new kr(a.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,t){const r=new kr(t,0),a=this.Mr.firstAfterOrEqual(r);return de.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,de.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v5{constructor(e){this.kr=e,this.docs=function(){return new Fn(He.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,a=this.docs.get(r),o=a?a.size:0,l=this.kr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return de.resolve(r?r.document.mutableCopy():di.newInvalidDocument(t))}getEntries(e,t){let r=go();return t.forEach(a=>{const o=this.docs.get(a);r=r.insert(a,o?o.document.mutableCopy():di.newInvalidDocument(a))}),de.resolve(r)}getDocumentsMatchingQuery(e,t,r,a){let o=go();const l=t.path,c=new He(l.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(c);for(;f.hasNext();){const{key:d,value:{document:p}}=f.getNext();if(!l.isPrefixOf(d.path))break;d.path.length>l.length+1||Q6(G6(p),r)<=0||(a.has(p.key)||ly(t,p))&&(o=o.insert(p.key,p.mutableCopy()))}return de.resolve(o)}getAllFromCollectionGroup(e,t,r,a){at()}qr(e,t){return de.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new _5(this)}getSize(e){return de.resolve(this.size)}}class _5 extends h5{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((r,a)=>{a.isValidDocument()?t.push(this.Ir.addEntry(e,a)):this.Ir.removeEntry(r)}),de.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T5{constructor(e){this.persistence=e,this.Qr=new Vu(t=>ZT(t),XT),this.lastRemoteSnapshotVersion=ut.min(),this.highestTargetId=0,this.$r=0,this.Ur=new iw,this.targetCount=0,this.Kr=dh.Un()}forEachTarget(e,t){return this.Qr.forEach((r,a)=>t(a)),de.resolve()}getLastRemoteSnapshotVersion(e){return de.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return de.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),de.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.$r&&(this.$r=t),de.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Kr=new dh(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,de.resolve()}updateTargetData(e,t){return this.zn(t),de.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Ur.br(t.targetId),this.targetCount-=1,de.resolve()}removeTargets(e,t,r){let a=0;const o=[];return this.Qr.forEach((l,c)=>{c.sequenceNumber<=t&&r.get(c.targetId)===null&&(this.Qr.delete(l),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),a++)}),de.waitFor(o).next(()=>a)}getTargetCount(e){return de.resolve(this.targetCount)}getTargetData(e,t){const r=this.Qr.get(t)||null;return de.resolve(r)}addMatchingKeys(e,t,r){return this.Ur.yr(t,r),de.resolve()}removeMatchingKeys(e,t,r){this.Ur.Sr(t,r);const a=this.persistence.referenceDelegate,o=[];return a&&t.forEach(l=>{o.push(a.markPotentiallyOrphaned(e,l))}),de.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Ur.br(t),de.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ur.vr(t);return de.resolve(r)}containsKey(e,t){return de.resolve(this.Ur.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new iy(0),this.zr=!1,this.zr=!0,this.jr=new g5,this.referenceDelegate=e(this),this.Hr=new T5(this),this.indexManager=new i5,this.remoteDocumentCache=function(a){return new v5(a)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new n5(t),this.Yr=new m5(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new p5,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Wr[e.toKey()];return r||(r=new y5(t,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,r){xe("MemoryPersistence","Starting transaction:",e);const a=new w5(this.Gr.next());return this.referenceDelegate.Zr(),r(a).next(o=>this.referenceDelegate.Xr(a).next(()=>o)).toPromise().then(o=>(a.raiseOnCommittedEvent(),o))}ei(e,t){return de.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,t)))}}class w5 extends Z6{constructor(e){super(),this.currentSequenceNumber=e}}class aw{constructor(e){this.persistence=e,this.ti=new iw,this.ni=null}static ri(e){return new aw(e)}get ii(){if(this.ni)return this.ni;throw at()}addReference(e,t,r){return this.ti.addReference(r,t),this.ii.delete(r.toString()),de.resolve()}removeReference(e,t,r){return this.ti.removeReference(r,t),this.ii.add(r.toString()),de.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),de.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(a=>this.ii.add(a.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(o=>this.ii.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return de.forEach(this.ii,r=>{const a=He.fromPath(r);return this.si(e,a).next(o=>{o||t.removeEntry(a,ut.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(r=>{r?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return de.or([()=>de.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class Sg{constructor(e,t){this.persistence=e,this.oi=new Vu(r=>J6(r.path),(r,a)=>r.isEqual(a)),this.garbageCollector=c5(this,t)}static ri(e,t){return new Sg(e,t)}Zr(){}Xr(e){return de.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(a=>r+a))}sr(e){let t=0;return this.rr(e,r=>{t++}).next(()=>t)}rr(e,t){return de.forEach(this.oi,(r,a)=>this.ar(e,r,a).next(o=>o?de.resolve():t(a)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const a=this.persistence.getRemoteDocumentCache(),o=a.newChangeBuffer();return a.qr(e,l=>this.ar(e,l,t).next(c=>{c||(r++,o.removeEntry(l,ut.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),de.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),de.resolve()}removeReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),de.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),de.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Bp(e.data.value)),t}ar(e,t,r){return de.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.oi.get(t);return de.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(e,t,r,a){this.targetId=e,this.fromCache=t,this.Hi=r,this.Ji=a}static Yi(e,t){let r=Ot(),a=Ot();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:a=a.add(o.doc.key)}return new sw(e,t.fromCache,r,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E5{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b5{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return TL()?8:X6(mi())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,r,a){const o={result:null};return this.rs(e,t).next(l=>{o.result=l}).next(()=>{if(!o.result)return this.ss(e,t,a,r).next(l=>{o.result=l})}).next(()=>{if(o.result)return;const l=new E5;return this._s(e,t,l).next(c=>{if(o.result=c,this.Xi)return this.us(e,t,l,c.size)})}).next(()=>o.result)}us(e,t,r,a){return r.documentReadCount<this.es?(Ic()<=Dt.DEBUG&&xe("QueryEngine","SDK will not create cache indexes for query:",Oc(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),de.resolve()):(Ic()<=Dt.DEBUG&&xe("QueryEngine","Query:",Oc(t),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.ts*a?(Ic()<=Dt.DEBUG&&xe("QueryEngine","The SDK decides to create cache indexes for query:",Oc(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ys(t))):de.resolve())}rs(e,t){if(sA(t))return de.resolve(null);let r=ys(t);return this.indexManager.getIndexType(e,r).next(a=>a===0?null:(t.limit!==null&&a===1&&(t=O_(t,null,"F"),r=ys(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const l=Ot(...o);return this.ns.getDocuments(e,l).next(c=>this.indexManager.getMinOffset(e,r).next(f=>{const d=this.cs(t,c);return this.ls(t,d,l,f.readTime)?this.rs(e,O_(t,null,"F")):this.hs(e,d,t,f)}))})))}ss(e,t,r,a){return sA(t)||a.isEqual(ut.min())?de.resolve(null):this.ns.getDocuments(e,r).next(o=>{const l=this.cs(t,o);return this.ls(t,l,r,a)?de.resolve(null):(Ic()<=Dt.DEBUG&&xe("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Oc(t)),this.hs(e,l,t,Y6(a,fd)).next(c=>c))})}cs(e,t){let r=new Ar(u2(e));return t.forEach((a,o)=>{ly(e,o)&&(r=r.add(o))}),r}ls(e,t,r,a){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(a)>0)}_s(e,t,r){return Ic()<=Dt.DEBUG&&xe("QueryEngine","Using full collection scan to execute query:",Oc(t)),this.ns.getDocumentsMatchingQuery(e,t,yl.min(),r)}hs(e,t,r,a){return this.ns.getDocumentsMatchingQuery(e,r,a).next(o=>(t.forEach(l=>{o=o.insert(l.key,l)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ow="LocalStore",R5=3e8;class S5{constructor(e,t,r,a){this.persistence=e,this.Ps=t,this.serializer=a,this.Ts=new Fn(wt),this.Is=new Vu(o=>ZT(o),XT),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new d5(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function A5(n,e,t,r){return new S5(n,e,t,r)}async function M2(n,e){const t=ft(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let a;return t.mutationQueue.getAllMutationBatches(r).next(o=>(a=o,t.As(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{const l=[],c=[];let f=Ot();for(const d of a){l.push(d.batchId);for(const p of d.mutations)f=f.add(p.key)}for(const d of o){c.push(d.batchId);for(const p of d.mutations)f=f.add(p.key)}return t.localDocuments.getDocuments(r,f).next(d=>({Rs:d,removedBatchIds:l,addedBatchIds:c}))})})}function C5(n,e){const t=ft(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const a=e.batch.keys(),o=t.ds.newChangeBuffer({trackRemovals:!0});return function(c,f,d,p){const v=d.batch,w=v.keys();let E=de.resolve();return w.forEach(R=>{E=E.next(()=>p.getEntry(f,R)).next(S=>{const D=d.docVersions.get(R);Jt(D!==null),S.version.compareTo(D)<0&&(v.applyToRemoteDocument(S,d),S.isValidDocument()&&(S.setReadTime(d.commitVersion),p.addEntry(S)))})}),E.next(()=>c.mutationQueue.removeMutationBatch(f,v))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let f=Ot();for(let d=0;d<c.mutationResults.length;++d)c.mutationResults[d].transformResults.length>0&&(f=f.add(c.batch.mutations[d].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,a))})}function x2(n){const e=ft(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function D5(n,e){const t=ft(n),r=e.snapshotVersion;let a=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const l=t.ds.newChangeBuffer({trackRemovals:!0});a=t.Ts;const c=[];e.targetChanges.forEach((p,v)=>{const w=a.get(v);if(!w)return;c.push(t.Hr.removeMatchingKeys(o,p.removedDocuments,v).next(()=>t.Hr.addMatchingKeys(o,p.addedDocuments,v)));let E=w.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(v)!==null?E=E.withResumeToken(ri.EMPTY_BYTE_STRING,ut.min()).withLastLimboFreeSnapshotVersion(ut.min()):p.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(p.resumeToken,r)),a=a.insert(v,E),function(S,D,N){return S.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=R5?!0:N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0}(w,E,p)&&c.push(t.Hr.updateTargetData(o,E))});let f=go(),d=Ot();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(o,p))}),c.push(I5(o,l,e.documentUpdates).next(p=>{f=p.Vs,d=p.fs})),!r.isEqual(ut.min())){const p=t.Hr.getLastRemoteSnapshotVersion(o).next(v=>t.Hr.setTargetsMetadata(o,o.currentSequenceNumber,r));c.push(p)}return de.waitFor(c).next(()=>l.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,f,d)).next(()=>f)}).then(o=>(t.Ts=a,o))}function I5(n,e,t){let r=Ot(),a=Ot();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let l=go();return t.forEach((c,f)=>{const d=o.get(c);f.isFoundDocument()!==d.isFoundDocument()&&(a=a.add(c)),f.isNoDocument()&&f.version.isEqual(ut.min())?(e.removeEntry(c,f.readTime),l=l.insert(c,f)):!d.isValidDocument()||f.version.compareTo(d.version)>0||f.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(f),l=l.insert(c,f)):xe(ow,"Ignoring outdated watch update for ",c,". Current version:",d.version," Watch version:",f.version)}),{Vs:l,fs:a}})}function O5(n,e){const t=ft(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=GT),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function N5(n,e){const t=ft(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let a;return t.Hr.getTargetData(r,e).next(o=>o?(a=o,de.resolve(a)):t.Hr.allocateTargetId(r).next(l=>(a=new nl(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Hr.addTargetData(r,a).next(()=>a))))}).then(r=>{const a=t.Ts.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(r.targetId,r),t.Is.set(e,r.targetId)),r})}async function P_(n,e,t){const r=ft(n),a=r.Ts.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,l=>r.persistence.referenceDelegate.removeTarget(l,a))}catch(l){if(!Ih(l))throw l;xe(ow,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ts=r.Ts.remove(e),r.Is.delete(a.target)}function _A(n,e,t){const r=ft(n);let a=ut.min(),o=Ot();return r.persistence.runTransaction("Execute query","readwrite",l=>function(f,d,p){const v=ft(f),w=v.Is.get(p);return w!==void 0?de.resolve(v.Ts.get(w)):v.Hr.getTargetData(d,p)}(r,l,ys(e)).next(c=>{if(c)return a=c.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(l,c.targetId).next(f=>{o=f})}).next(()=>r.Ps.getDocumentsMatchingQuery(l,e,t?a:ut.min(),t?o:Ot())).next(c=>(M5(r,vU(e),c),{documents:c,gs:o})))}function M5(n,e,t){let r=n.Es.get(e)||ut.min();t.forEach((a,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.Es.set(e,r)}class TA{constructor(){this.activeTargetIds=RU()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class x5{constructor(){this.ho=new TA,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,r){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new TA,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k5{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wA="ConnectivityMonitor";class EA{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){xe(wA,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){xe(wA,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ep=null;function L_(){return Ep===null?Ep=function(){return 268435456+Math.round(2147483648*Math.random())}():Ep++,"0x"+Ep.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $v="RestConnection",P5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class L5{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${r}/databases/${a}`,this.wo=this.databaseId.database===_g?`project_id=${r}`:`project_id=${r}&database_id=${a}`}So(e,t,r,a,o){const l=L_(),c=this.bo(e,t.toUriEncodedString());xe($v,`Sending RPC '${e}' ${l}:`,c,r);const f={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(f,a,o),this.vo(e,c,f,r).then(d=>(xe($v,`Received RPC '${e}' ${l}: `,d),d),d=>{throw uh($v,`RPC '${e}' ${l} failed with error: `,d,"url: ",c,"request:",r),d})}Co(e,t,r,a,o,l){return this.So(e,t,r,a,o)}Do(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ch}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,o)=>e[o]=a),r&&r.headers.forEach((a,o)=>e[o]=a)}bo(e,t){const r=P5[e];return`${this.po}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V5{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const li="WebChannelConnection";class U5 extends L5{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,r,a){const o=L_();return new Promise((l,c)=>{const f=new VI;f.setWithCredentials(!0),f.listenOnce(UI.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case zp.NO_ERROR:const p=f.getResponseJson();xe(li,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(p)),l(p);break;case zp.TIMEOUT:xe(li,`RPC '${e}' ${o} timed out`),c(new Le(me.DEADLINE_EXCEEDED,"Request time out"));break;case zp.HTTP_ERROR:const v=f.getStatus();if(xe(li,`RPC '${e}' ${o} failed with status:`,v,"response text:",f.getResponseText()),v>0){let w=f.getResponseJson();Array.isArray(w)&&(w=w[0]);const E=w==null?void 0:w.error;if(E&&E.status&&E.message){const R=function(D){const N=D.toLowerCase().replace(/_/g,"-");return Object.values(me).indexOf(N)>=0?N:me.UNKNOWN}(E.status);c(new Le(R,E.message))}else c(new Le(me.UNKNOWN,"Server responded with status "+f.getStatus()))}else c(new Le(me.UNAVAILABLE,"Connection failed."));break;default:at()}}finally{xe(li,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(a);xe(li,`RPC '${e}' ${o} sending request:`,a),f.send(t,"POST",d,r,15)})}Wo(e,t,r){const a=L_(),o=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=jI(),c=BI(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(f.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Do(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const p=o.join("");xe(li,`Creating RPC '${e}' stream ${a}: ${p}`,f);const v=l.createWebChannel(p,f);let w=!1,E=!1;const R=new V5({Fo:D=>{E?xe(li,`Not sending because RPC '${e}' stream ${a} is closed:`,D):(w||(xe(li,`Opening RPC '${e}' stream ${a} transport.`),v.open(),w=!0),xe(li,`RPC '${e}' stream ${a} sending:`,D),v.send(D))},Mo:()=>v.close()}),S=(D,N,M)=>{D.listen(N,L=>{try{M(L)}catch($){setTimeout(()=>{throw $},0)}})};return S(v,Ff.EventType.OPEN,()=>{E||(xe(li,`RPC '${e}' stream ${a} transport opened.`),R.Qo())}),S(v,Ff.EventType.CLOSE,()=>{E||(E=!0,xe(li,`RPC '${e}' stream ${a} transport closed`),R.Uo())}),S(v,Ff.EventType.ERROR,D=>{E||(E=!0,uh(li,`RPC '${e}' stream ${a} transport errored:`,D),R.Uo(new Le(me.UNAVAILABLE,"The operation could not be completed")))}),S(v,Ff.EventType.MESSAGE,D=>{var N;if(!E){const M=D.data[0];Jt(!!M);const L=M,$=(L==null?void 0:L.error)||((N=L[0])===null||N===void 0?void 0:N.error);if($){xe(li,`RPC '${e}' stream ${a} received error:`,$);const P=$.status;let H=function(O){const z=cr[O];if(z!==void 0)return T2(z)}(P),x=$.message;H===void 0&&(H=me.INTERNAL,x="Unknown error status: "+P+" with message "+$.message),E=!0,R.Uo(new Le(H,x)),v.close()}else xe(li,`RPC '${e}' stream ${a} received:`,M),R.Ko(M)}}),S(c,zI.STAT_EVENT,D=>{D.stat===b_.PROXY?xe(li,`RPC '${e}' stream ${a} detected buffering proxy`):D.stat===b_.NOPROXY&&xe(li,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{R.$o()},0),R}}function qv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fy(n){return new FU(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(e,t,r=1e3,a=1.5,o=6e4){this.Ti=e,this.timerId=t,this.Go=r,this.zo=a,this.jo=o,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),a=Math.max(0,t-r);a>0&&xe("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,a,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bA="PersistentStream";class P2{constructor(e,t,r,a,o,l,c,f){this.Ti=e,this.n_=r,this.r_=a,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=f,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new k2(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===me.RESOURCE_EXHAUSTED?(po(t.toString()),po("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===me.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,a])=>{this.i_===t&&this.V_(r,a)},r=>{e(()=>{const a=new Le(me.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(a)})})}V_(e,t){const r=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(a=>{r(()=>this.m_(a))}),this.stream.onMessage(a=>{r(()=>++this.__==1?this.g_(a):this.onNext(a))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return xe(bA,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(xe(bA,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class z5 extends P2{constructor(e,t,r,a,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,a,l),this.serializer=o}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=HU(this.serializer,e),r=function(o){if(!("targetChange"in o))return ut.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?ut.min():l.readTime?vs(l.readTime):ut.min()}(e);return this.listener.p_(t,r)}y_(e){const t={};t.database=k_(this.serializer),t.addTarget=function(o,l){let c;const f=l.target;if(c=D_(f)?{documents:QU(o,f)}:{query:KU(o,f).ht},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=b2(o,l.resumeToken);const d=N_(o,l.expectedCount);d!==null&&(c.expectedCount=d)}else if(l.snapshotVersion.compareTo(ut.min())>0){c.readTime=Rg(o,l.snapshotVersion.toTimestamp());const d=N_(o,l.expectedCount);d!==null&&(c.expectedCount=d)}return c}(this.serializer,e);const r=XU(this.serializer,e);r&&(t.labels=r),this.I_(t)}w_(e){const t={};t.database=k_(this.serializer),t.removeTarget=e,this.I_(t)}}class B5 extends P2{constructor(e,t,r,a,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,a,l),this.serializer=o}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return Jt(!!e.streamToken),this.lastStreamToken=e.streamToken,Jt(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Jt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=GU(e.writeResults,e.commitTime),r=vs(e.commitTime);return this.listener.v_(r,t)}C_(){const e={};e.database=k_(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>YU(this.serializer,r))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j5{}class F5 extends j5{constructor(e,t,r,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=a,this.F_=!1}M_(){if(this.F_)throw new Le(me.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,r,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.So(e,M_(t,r),a,o,l)).catch(o=>{throw o.name==="FirebaseError"?(o.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Le(me.UNKNOWN,o.toString())})}Co(e,t,r,a,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Co(e,M_(t,r),a,l,c,o)).catch(l=>{throw l.name==="FirebaseError"?(l.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Le(me.UNKNOWN,l.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class $5{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(po(t),this.N_=!1):xe("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mu="RemoteStore";class q5{constructor(e,t,r,a,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=o,this.z_.To(l=>{r.enqueueAndForget(async()=>{Uu(this)&&(xe(Mu,"Restarting streams for network reachability change."),await async function(f){const d=ft(f);d.W_.add(4),await Qd(d),d.j_.set("Unknown"),d.W_.delete(4),await dy(d)}(this))})}),this.j_=new $5(r,a)}}async function dy(n){if(Uu(n))for(const e of n.G_)await e(!0)}async function Qd(n){for(const e of n.G_)await e(!1)}function L2(n,e){const t=ft(n);t.K_.has(e.targetId)||(t.K_.set(e.targetId,e),hw(t)?cw(t):Nh(t).c_()&&uw(t,e))}function lw(n,e){const t=ft(n),r=Nh(t);t.K_.delete(e),r.c_()&&V2(t,e),t.K_.size===0&&(r.c_()?r.P_():Uu(t)&&t.j_.set("Unknown"))}function uw(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ut.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Nh(n).y_(e)}function V2(n,e){n.H_.Ne(e),Nh(n).w_(e)}function cw(n){n.H_=new UU({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.K_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),Nh(n).start(),n.j_.B_()}function hw(n){return Uu(n)&&!Nh(n).u_()&&n.K_.size>0}function Uu(n){return ft(n).W_.size===0}function U2(n){n.H_=void 0}async function H5(n){n.j_.set("Online")}async function Y5(n){n.K_.forEach((e,t)=>{uw(n,e)})}async function G5(n,e){U2(n),hw(n)?(n.j_.q_(e),cw(n)):n.j_.set("Unknown")}async function Q5(n,e,t){if(n.j_.set("Online"),e instanceof E2&&e.state===2&&e.cause)try{await async function(a,o){const l=o.cause;for(const c of o.targetIds)a.K_.has(c)&&(await a.remoteSyncer.rejectListen(c,l),a.K_.delete(c),a.H_.removeTarget(c))}(n,e)}catch(r){xe(Mu,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ag(n,r)}else if(e instanceof $p?n.H_.We(e):e instanceof w2?n.H_.Ze(e):n.H_.je(e),!t.isEqual(ut.min()))try{const r=await x2(n.localStore);t.compareTo(r)>=0&&await function(o,l){const c=o.H_.ot(l);return c.targetChanges.forEach((f,d)=>{if(f.resumeToken.approximateByteSize()>0){const p=o.K_.get(d);p&&o.K_.set(d,p.withResumeToken(f.resumeToken,l))}}),c.targetMismatches.forEach((f,d)=>{const p=o.K_.get(f);if(!p)return;o.K_.set(f,p.withResumeToken(ri.EMPTY_BYTE_STRING,p.snapshotVersion)),V2(o,f);const v=new nl(p.target,f,d,p.sequenceNumber);uw(o,v)}),o.remoteSyncer.applyRemoteEvent(c)}(n,t)}catch(r){xe(Mu,"Failed to raise snapshot:",r),await Ag(n,r)}}async function Ag(n,e,t){if(!Ih(e))throw e;n.W_.add(1),await Qd(n),n.j_.set("Offline"),t||(t=()=>x2(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{xe(Mu,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await dy(n)})}function z2(n,e){return e().catch(t=>Ag(n,t,e))}async function my(n){const e=ft(n),t=wl(e);let r=e.U_.length>0?e.U_[e.U_.length-1].batchId:GT;for(;K5(e);)try{const a=await O5(e.localStore,r);if(a===null){e.U_.length===0&&t.P_();break}r=a.batchId,Z5(e,a)}catch(a){await Ag(e,a)}B2(e)&&j2(e)}function K5(n){return Uu(n)&&n.U_.length<10}function Z5(n,e){n.U_.push(e);const t=wl(n);t.c_()&&t.S_&&t.b_(e.mutations)}function B2(n){return Uu(n)&&!wl(n).u_()&&n.U_.length>0}function j2(n){wl(n).start()}async function X5(n){wl(n).C_()}async function W5(n){const e=wl(n);for(const t of n.U_)e.b_(t.mutations)}async function J5(n,e,t){const r=n.U_.shift(),a=tw.from(r,e,t);await z2(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),await my(n)}async function e9(n,e){e&&wl(n).S_&&await async function(r,a){if(function(l){return LU(l)&&l!==me.ABORTED}(a.code)){const o=r.U_.shift();wl(r).h_(),await z2(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,a)),await my(r)}}(n,e),B2(n)&&j2(n)}async function RA(n,e){const t=ft(n);t.asyncQueue.verifyOperationInProgress(),xe(Mu,"RemoteStore received new credentials");const r=Uu(t);t.W_.add(3),await Qd(t),r&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await dy(t)}async function t9(n,e){const t=ft(n);e?(t.W_.delete(2),await dy(t)):e||(t.W_.add(2),await Qd(t),t.j_.set("Unknown"))}function Nh(n){return n.J_||(n.J_=function(t,r,a){const o=ft(t);return o.M_(),new z5(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)}(n.datastore,n.asyncQueue,{xo:H5.bind(null,n),No:Y5.bind(null,n),Lo:G5.bind(null,n),p_:Q5.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),hw(n)?cw(n):n.j_.set("Unknown")):(await n.J_.stop(),U2(n))})),n.J_}function wl(n){return n.Y_||(n.Y_=function(t,r,a){const o=ft(t);return o.M_(),new B5(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:X5.bind(null,n),Lo:e9.bind(null,n),D_:W5.bind(null,n),v_:J5.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await my(n)):(await n.Y_.stop(),n.U_.length>0&&(xe(Mu,`Stopping write stream with ${n.U_.length} pending writes`),n.U_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(e,t,r,a,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=a,this.removalCallback=o,this.deferred=new ll,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,a,o){const l=Date.now()+r,c=new fw(e,t,l,a,o);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Le(me.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function dw(n,e){if(po("AsyncQueue",`${e}: ${n}`),Ih(n))return new Le(me.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{static emptySet(e){return new Kc(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||He.comparator(t.key,r.key):(t,r)=>He.comparator(t.key,r.key),this.keyedMap=$f(),this.sortedSet=new Fn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Kc)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,o=r.getNext().key;if(!a.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Kc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(){this.Z_=new Fn(He.comparator)}track(e){const t=e.doc.key,r=this.Z_.get(t);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(t):e.type===1&&r.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):at():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,r)=>{e.push(r)}),e}}class mh{constructor(e,t,r,a,o,l,c,f,d){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=f,this.hasCachedResults=d}static fromInitialDocuments(e,t,r,a,o){const l=[];return t.forEach(c=>{l.push({type:0,doc:c})}),new mh(e,t,Kc.emptySet(t),l,r,a,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&oy(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==r[a].type||!t[a].doc.isEqual(r[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n9{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class r9{constructor(){this.queries=AA(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,r){const a=ft(t),o=a.queries;a.queries=AA(),o.forEach((l,c)=>{for(const f of c.ta)f.onError(r)})})(this,new Le(me.ABORTED,"Firestore shutting down"))}}function AA(){return new Vu(n=>l2(n),oy)}async function F2(n,e){const t=ft(n);let r=3;const a=e.query;let o=t.queries.get(a);o?!o.na()&&e.ra()&&(r=2):(o=new n9,r=e.ra()?0:1);try{switch(r){case 0:o.ea=await t.onListen(a,!0);break;case 1:o.ea=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(l){const c=dw(l,`Initialization of query '${Oc(e.query)}' failed`);return void e.onError(c)}t.queries.set(a,o),o.ta.push(e),e.sa(t.onlineState),o.ea&&e.oa(o.ea)&&mw(t)}async function $2(n,e){const t=ft(n),r=e.query;let a=3;const o=t.queries.get(r);if(o){const l=o.ta.indexOf(e);l>=0&&(o.ta.splice(l,1),o.ta.length===0?a=e.ra()?0:1:!o.na()&&e.ra()&&(a=2))}switch(a){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function i9(n,e){const t=ft(n);let r=!1;for(const a of e){const o=a.query,l=t.queries.get(o);if(l){for(const c of l.ta)c.oa(a)&&(r=!0);l.ea=a}}r&&mw(t)}function a9(n,e,t){const r=ft(n),a=r.queries.get(e);if(a)for(const o of a.ta)o.onError(t);r.queries.delete(e)}function mw(n){n.ia.forEach(e=>{e.next()})}var V_,CA;(CA=V_||(V_={}))._a="default",CA.Cache="cache";class q2{constructor(e,t,r){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new mh(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const r=t!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=mh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==V_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(e){this.key=e}}class Y2{constructor(e){this.key=e}}class s9{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ot(),this.mutatedKeys=Ot(),this.ya=u2(e),this.wa=new Kc(this.ya)}get Sa(){return this.fa}ba(e,t){const r=t?t.Da:new SA,a=t?t.wa:this.wa;let o=t?t.mutatedKeys:this.mutatedKeys,l=a,c=!1;const f=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,d=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((p,v)=>{const w=a.get(p),E=ly(this.query,v)?v:null,R=!!w&&this.mutatedKeys.has(w.key),S=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let D=!1;w&&E?w.data.isEqual(E.data)?R!==S&&(r.track({type:3,doc:E}),D=!0):this.va(w,E)||(r.track({type:2,doc:E}),D=!0,(f&&this.ya(E,f)>0||d&&this.ya(E,d)<0)&&(c=!0)):!w&&E?(r.track({type:0,doc:E}),D=!0):w&&!E&&(r.track({type:1,doc:w}),D=!0,(f||d)&&(c=!0)),D&&(E?(l=l.add(E),o=S?o.add(p):o.delete(p)):(l=l.delete(p),o=o.delete(p)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const p=this.query.limitType==="F"?l.last():l.first();l=l.delete(p.key),o=o.delete(p.key),r.track({type:1,doc:p})}return{wa:l,Da:r,ls:c,mutatedKeys:o}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,a){const o=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const l=e.Da.X_();l.sort((p,v)=>function(E,R){const S=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return at()}};return S(E)-S(R)}(p.type,v.type)||this.ya(p.doc,v.doc)),this.Ca(r),a=a!=null&&a;const c=t&&!a?this.Fa():[],f=this.pa.size===0&&this.current&&!a?1:0,d=f!==this.ga;return this.ga=f,l.length!==0||d?{snapshot:new mh(this.query,e.wa,o,l,e.mutatedKeys,f===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:c}:{Ma:c}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new SA,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Ot(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const t=[];return e.forEach(r=>{this.pa.has(r)||t.push(new Y2(r))}),this.pa.forEach(r=>{e.has(r)||t.push(new H2(r))}),t}Oa(e){this.fa=e.gs,this.pa=Ot();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return mh.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const pw="SyncEngine";class o9{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class l9{constructor(e){this.key=e,this.Ba=!1}}class u9{constructor(e,t,r,a,o,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=a,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.La={},this.ka=new Vu(c=>l2(c),oy),this.qa=new Map,this.Qa=new Set,this.$a=new Fn(He.comparator),this.Ua=new Map,this.Ka=new iw,this.Wa={},this.Ga=new Map,this.za=dh.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function c9(n,e,t=!0){const r=W2(n);let a;const o=r.ka.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.Na()):a=await G2(r,e,t,!0),a}async function h9(n,e){const t=W2(n);await G2(t,e,!0,!1)}async function G2(n,e,t,r){const a=await N5(n.localStore,ys(e)),o=a.targetId,l=n.sharedClientState.addLocalQueryTarget(o,t);let c;return r&&(c=await f9(n,e,o,l==="current",a.resumeToken)),n.isPrimaryClient&&t&&L2(n.remoteStore,a),c}async function f9(n,e,t,r,a){n.Ha=(v,w,E)=>async function(S,D,N,M){let L=D.view.ba(N);L.ls&&(L=await _A(S.localStore,D.query,!1).then(({documents:x})=>D.view.ba(x,L)));const $=M&&M.targetChanges.get(D.targetId),P=M&&M.targetMismatches.get(D.targetId)!=null,H=D.view.applyChanges(L,S.isPrimaryClient,$,P);return IA(S,D.targetId,H.Ma),H.snapshot}(n,v,w,E);const o=await _A(n.localStore,e,!0),l=new s9(e,o.gs),c=l.ba(o.documents),f=Gd.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",a),d=l.applyChanges(c,n.isPrimaryClient,f);IA(n,t,d.Ma);const p=new o9(e,t,l);return n.ka.set(e,p),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),d.snapshot}async function d9(n,e,t){const r=ft(n),a=r.ka.get(e),o=r.qa.get(a.targetId);if(o.length>1)return r.qa.set(a.targetId,o.filter(l=>!oy(l,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await P_(r.localStore,a.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(a.targetId),t&&lw(r.remoteStore,a.targetId),U_(r,a.targetId)}).catch(Dh)):(U_(r,a.targetId),await P_(r.localStore,a.targetId,!0))}async function m9(n,e){const t=ft(n),r=t.ka.get(e),a=t.qa.get(r.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),lw(t.remoteStore,r.targetId))}async function p9(n,e,t){const r=E9(n);try{const a=await function(l,c){const f=ft(l),d=Sr.now(),p=c.reduce((E,R)=>E.add(R.key),Ot());let v,w;return f.persistence.runTransaction("Locally write mutations","readwrite",E=>{let R=go(),S=Ot();return f.ds.getEntries(E,p).next(D=>{R=D,R.forEach((N,M)=>{M.isValidDocument()||(S=S.add(N))})}).next(()=>f.localDocuments.getOverlayedDocuments(E,R)).next(D=>{v=D;const N=[];for(const M of c){const L=NU(M,v.get(M.key).overlayedDocument);L!=null&&N.push(new Dl(M.key,L,e2(L.value.mapValue),La.exists(!0)))}return f.mutationQueue.addMutationBatch(E,d,N,c)}).next(D=>{w=D;const N=D.applyToLocalDocumentSet(v,S);return f.documentOverlayCache.saveOverlays(E,D.batchId,N)})}).then(()=>({batchId:w.batchId,changes:h2(v)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),function(l,c,f){let d=l.Wa[l.currentUser.toKey()];d||(d=new Fn(wt)),d=d.insert(c,f),l.Wa[l.currentUser.toKey()]=d}(r,a.batchId,t),await Kd(r,a.changes),await my(r.remoteStore)}catch(a){const o=dw(a,"Failed to persist write");t.reject(o)}}async function Q2(n,e){const t=ft(n);try{const r=await D5(t.localStore,e);e.targetChanges.forEach((a,o)=>{const l=t.Ua.get(o);l&&(Jt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?l.Ba=!0:a.modifiedDocuments.size>0?Jt(l.Ba):a.removedDocuments.size>0&&(Jt(l.Ba),l.Ba=!1))}),await Kd(t,r,e)}catch(r){await Dh(r)}}function DA(n,e,t){const r=ft(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const a=[];r.ka.forEach((o,l)=>{const c=l.view.sa(e);c.snapshot&&a.push(c.snapshot)}),function(l,c){const f=ft(l);f.onlineState=c;let d=!1;f.queries.forEach((p,v)=>{for(const w of v.ta)w.sa(c)&&(d=!0)}),d&&mw(f)}(r.eventManager,e),a.length&&r.La.p_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function g9(n,e,t){const r=ft(n);r.sharedClientState.updateQueryState(e,"rejected",t);const a=r.Ua.get(e),o=a&&a.key;if(o){let l=new Fn(He.comparator);l=l.insert(o,di.newNoDocument(o,ut.min()));const c=Ot().add(o),f=new hy(ut.min(),new Map,new Fn(wt),l,c);await Q2(r,f),r.$a=r.$a.remove(o),r.Ua.delete(e),gw(r)}else await P_(r.localStore,e,!1).then(()=>U_(r,e,t)).catch(Dh)}async function y9(n,e){const t=ft(n),r=e.batch.batchId;try{const a=await C5(t.localStore,e);Z2(t,r,null),K2(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Kd(t,a)}catch(a){await Dh(a)}}async function v9(n,e,t){const r=ft(n);try{const a=await function(l,c){const f=ft(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let p;return f.mutationQueue.lookupMutationBatch(d,c).next(v=>(Jt(v!==null),p=v.keys(),f.mutationQueue.removeMutationBatch(d,v))).next(()=>f.mutationQueue.performConsistencyCheck(d)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(d,p,c)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,p)).next(()=>f.localDocuments.getDocuments(d,p))})}(r.localStore,e);Z2(r,e,t),K2(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Kd(r,a)}catch(a){await Dh(a)}}function K2(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function Z2(n,e,t){const r=ft(n);let a=r.Wa[r.currentUser.toKey()];if(a){const o=a.get(e);o&&(t?o.reject(t):o.resolve(),a=a.remove(e)),r.Wa[r.currentUser.toKey()]=a}}function U_(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.qa.get(e))n.ka.delete(r),t&&n.La.Ja(r,t);n.qa.delete(e),n.isPrimaryClient&&n.Ka.br(e).forEach(r=>{n.Ka.containsKey(r)||X2(n,r)})}function X2(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(lw(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ua.delete(t),gw(n))}function IA(n,e,t){for(const r of t)r instanceof H2?(n.Ka.addReference(r.key,e),_9(n,r)):r instanceof Y2?(xe(pw,"Document no longer in limbo: "+r.key),n.Ka.removeReference(r.key,e),n.Ka.containsKey(r.key)||X2(n,r.key)):at()}function _9(n,e){const t=e.key,r=t.path.canonicalString();n.$a.get(t)||n.Qa.has(r)||(xe(pw,"New document in limbo: "+t),n.Qa.add(r),gw(n))}function gw(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new He(On.fromString(e)),r=n.za.next();n.Ua.set(r,new l9(t)),n.$a=n.$a.insert(t,r),L2(n.remoteStore,new nl(ys(WT(t.path)),r,"TargetPurposeLimboResolution",iy.ae))}}async function Kd(n,e,t){const r=ft(n),a=[],o=[],l=[];r.ka.isEmpty()||(r.ka.forEach((c,f)=>{l.push(r.Ha(f,e,t).then(d=>{var p;if((d||t)&&r.isPrimaryClient){const v=d?!d.fromCache:(p=t==null?void 0:t.targetChanges.get(f.targetId))===null||p===void 0?void 0:p.current;r.sharedClientState.updateQueryState(f.targetId,v?"current":"not-current")}if(d){a.push(d);const v=sw.Yi(f.targetId,d);o.push(v)}}))}),await Promise.all(l),r.La.p_(a),await async function(f,d){const p=ft(f);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>de.forEach(d,w=>de.forEach(w.Hi,E=>p.persistence.referenceDelegate.addReference(v,w.targetId,E)).next(()=>de.forEach(w.Ji,E=>p.persistence.referenceDelegate.removeReference(v,w.targetId,E)))))}catch(v){if(!Ih(v))throw v;xe(ow,"Failed to update sequence numbers: "+v)}for(const v of d){const w=v.targetId;if(!v.fromCache){const E=p.Ts.get(w),R=E.snapshotVersion,S=E.withLastLimboFreeSnapshotVersion(R);p.Ts=p.Ts.insert(w,S)}}}(r.localStore,o))}async function T9(n,e){const t=ft(n);if(!t.currentUser.isEqual(e)){xe(pw,"User change. New user:",e.toKey());const r=await M2(t.localStore,e);t.currentUser=e,function(o,l){o.Ga.forEach(c=>{c.forEach(f=>{f.reject(new Le(me.CANCELLED,l))})}),o.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Kd(t,r.Rs)}}function w9(n,e){const t=ft(n),r=t.Ua.get(e);if(r&&r.Ba)return Ot().add(r.key);{let a=Ot();const o=t.qa.get(e);if(!o)return a;for(const l of o){const c=t.ka.get(l);a=a.unionWith(c.view.Sa)}return a}}function W2(n){const e=ft(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Q2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=w9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=g9.bind(null,e),e.La.p_=i9.bind(null,e.eventManager),e.La.Ja=a9.bind(null,e.eventManager),e}function E9(n){const e=ft(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=y9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=v9.bind(null,e),e}class Cg{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=fy(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return A5(this.persistence,new b5,e.initialUser,this.serializer)}Xa(e){return new N2(aw.ri,this.serializer)}Za(e){return new x5}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Cg.provider={build:()=>new Cg};class b9 extends Cg{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){Jt(this.persistence.referenceDelegate instanceof Sg);const r=this.persistence.referenceDelegate.garbageCollector;return new l5(r,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?ki.withCacheSize(this.cacheSizeBytes):ki.DEFAULT;return new N2(r=>Sg.ri(r,t),this.serializer)}}class z_{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>DA(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=T9.bind(null,this.syncEngine),await t9(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new r9}()}createDatastore(e){const t=fy(e.databaseInfo.databaseId),r=function(o){return new U5(o)}(e.databaseInfo);return function(o,l,c,f){return new F5(o,l,c,f)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,a,o,l,c){return new q5(r,a,o,l,c)}(this.localStore,this.datastore,e.asyncQueue,t=>DA(this.syncEngine,t,0),function(){return EA.D()?new EA:new k5}())}createSyncEngine(e,t){return function(a,o,l,c,f,d,p){const v=new u9(a,o,l,c,f,d);return p&&(v.ja=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(a){const o=ft(a);xe(Mu,"RemoteStore shutting down."),o.W_.add(5),await Qd(o),o.z_.shutdown(),o.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}z_.provider={build:()=>new z_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):po("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const El="FirestoreClient";class R9{constructor(e,t,r,a,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=a,this.user=fi.UNAUTHENTICATED,this.clientId=qI.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async l=>{xe(El,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(xe(El,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ll;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=dw(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Hv(n,e){n.asyncQueue.verifyOperationInProgress(),xe(El,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async a=>{r.isEqual(a)||(await M2(e.localStore,a),r=a)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function OA(n,e){n.asyncQueue.verifyOperationInProgress();const t=await S9(n);xe(El,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>RA(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,a)=>RA(e.remoteStore,a)),n._onlineComponents=e}async function S9(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){xe(El,"Using user provided OfflineComponentProvider");try{await Hv(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(a){return a.name==="FirebaseError"?a.code===me.FAILED_PRECONDITION||a.code===me.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(t))throw t;uh("Error using user provided cache. Falling back to memory cache: "+t),await Hv(n,new Cg)}}else xe(El,"Using default OfflineComponentProvider"),await Hv(n,new b9(void 0));return n._offlineComponents}async function eO(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(xe(El,"Using user provided OnlineComponentProvider"),await OA(n,n._uninitializedComponentsProvider._online)):(xe(El,"Using default OnlineComponentProvider"),await OA(n,new z_))),n._onlineComponents}function A9(n){return eO(n).then(e=>e.syncEngine)}async function B_(n){const e=await eO(n),t=e.eventManager;return t.onListen=c9.bind(null,e.syncEngine),t.onUnlisten=d9.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=h9.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=m9.bind(null,e.syncEngine),t}function C9(n,e,t={}){const r=new ll;return n.asyncQueue.enqueueAndForget(async()=>function(o,l,c,f,d){const p=new J2({next:w=>{p.su(),l.enqueueAndForget(()=>$2(o,v)),w.fromCache&&f.source==="server"?d.reject(new Le(me.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(w)},error:w=>d.reject(w)}),v=new q2(c,p,{includeMetadataChanges:!0,Ta:!0});return F2(o,v)}(await B_(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tO(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NA=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nO(n,e,t){if(!t)throw new Le(me.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function D9(n,e,t,r){if(e===!0&&r===!0)throw new Le(me.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function MA(n){if(!He.isDocumentKey(n))throw new Le(me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function xA(n){if(He.isDocumentKey(n))throw new Le(me.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function py(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":at()}function _s(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Le(me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=py(n);throw new Le(me.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rO="firestore.googleapis.com",kA=!0;class PA{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Le(me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=rO,this.ssl=kA}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:kA;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=O2;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<s5)throw new Le(me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}D9("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=tO((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Le(me.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Le(me.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Le(me.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,a){return r.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gy{constructor(e,t,r,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new PA({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Le(me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Le(me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new PA(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new V6;switch(r.type){case"firstParty":return new j6(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Le(me.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=NA.get(t);r&&(xe("ComponentProvider","Removing Datastore"),NA.delete(t),r.terminate())}(this),Promise.resolve()}}function I9(n,e,t,r={}){var a;const o=(n=_s(n,gy))._getSettings(),l=Object.assign(Object.assign({},o),{emulatorOptions:n._getEmulatorOptions()}),c=`${e}:${t}`;o.host!==rO&&o.host!==c&&uh("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f=Object.assign(Object.assign({},o),{host:c,ssl:!1,emulatorOptions:r});if(!Du(f,l)&&(n._setSettings(f),r.mockUserToken)){let d,p;if(typeof r.mockUserToken=="string")d=r.mockUserToken,p=fi.MOCK_USER;else{d=dL(r.mockUserToken,(a=n._app)===null||a===void 0?void 0:a.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new Le(me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new fi(v)}n._authCredentials=new U6(new FI(d,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Il(this.firestore,e,this._query)}}class Vi{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ul(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vi(this.firestore,e,this._key)}}class ul extends Il{constructor(e,t,r){super(e,t,WT(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vi(this.firestore,null,new He(e))}withConverter(e){return new ul(this.firestore,e,this._path)}}function yw(n,e,...t){if(n=pi(n),nO("collection","path",e),n instanceof gy){const r=On.fromString(e,...t);return xA(r),new ul(n,null,r)}{if(!(n instanceof Vi||n instanceof ul))throw new Le(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(On.fromString(e,...t));return xA(r),new ul(n.firestore,null,r)}}function vw(n,e,...t){if(n=pi(n),arguments.length===1&&(e=qI.newId()),nO("doc","path",e),n instanceof gy){const r=On.fromString(e,...t);return MA(r),new Vi(n,null,new He(r))}{if(!(n instanceof Vi||n instanceof ul))throw new Le(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(On.fromString(e,...t));return MA(r),new Vi(n.firestore,n instanceof ul?n.converter:null,new He(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LA="AsyncQueue";class VA{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new k2(this,"async_queue_retry"),this.Su=()=>{const r=qv();r&&xe(LA,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;const t=qv();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=qv();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new ll;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Ih(e))throw e;xe(LA,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const a=function(l){let c=l.message||"";return l.stack&&(c=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),c}(r);throw po("INTERNAL UNHANDLED ERROR: ",a),r}).then(r=>(this.pu=!1,r))));return this.bu=t,t}enqueueAfterDelay(e,t,r){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const a=fw.createAndSchedule(this,e,t,r,o=>this.Fu(o));return this.fu.push(a),a}Du(){this.gu&&at()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}function UA(n){return function(t,r){if(typeof t!="object"||t===null)return!1;const a=t;for(const o of r)if(o in a&&typeof a[o]=="function")return!0;return!1}(n,["next","error","complete"])}class xu extends gy{constructor(e,t,r,a){super(e,t,r,a),this.type="firestore",this._queue=new VA,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new VA(e),this._firestoreClient=void 0,await e}}}function O9(n,e){const t=typeof n=="object"?n:tI(),r=typeof n=="string"?n:_g,a=PT(t,"firestore").getImmediate({identifier:r});if(!a._initialized){const o=hL("firestore");o&&I9(a,...o)}return a}function _w(n){if(n._terminated)throw new Le(me.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||N9(n),n._firestoreClient}function N9(n){var e,t,r;const a=n._freezeSettings(),o=function(c,f,d,p){return new nU(c,f,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,tO(p.experimentalLongPollingOptions),p.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,a);n._componentsProvider||!((t=a.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=a.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),n._firestoreClient=new R9(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(c){const f=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(f),_online:f}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ph(ri.fromBase64String(e))}catch(t){throw new Le(me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ph(ri.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Le(me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ti(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Le(me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Le(me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return wt(this._lat,e._lat)||wt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,a){if(r.length!==a.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==a[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M9=/^__.*__$/;class x9{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Dl(e,this.data,this.fieldMask,t,this.fieldTransforms):new Yd(e,this.data,t,this.fieldTransforms)}}class iO{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Dl(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function aO(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw at()}}class bw{constructor(e,t,r,a,o,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=a,o===void 0&&this.Bu(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new bw(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.ku({path:r,Qu:!1});return a.$u(e),a}Uu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.ku({path:r,Qu:!1});return a.Bu(),a}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Dg(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(aO(this.Lu)&&M9.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class k9{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||fy(e)}ju(e,t,r,a=!1){return new bw({Lu:e,methodName:t,zu:r,path:ti.emptyPath(),Qu:!1,Gu:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Rw(n){const e=n._freezeSettings(),t=fy(n._databaseId);return new k9(n._databaseId,!!e.ignoreUndefinedProperties,t)}function P9(n,e,t,r,a,o={}){const l=n.ju(o.merge||o.mergeFields?2:0,e,t,a);Sw("Data must be an object, but it was:",l,r);const c=sO(r,l);let f,d;if(o.merge)f=new Xi(l.fieldMask),d=l.fieldTransforms;else if(o.mergeFields){const p=[];for(const v of o.mergeFields){const w=j_(e,v,t);if(!l.contains(w))throw new Le(me.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);lO(p,w)||p.push(w)}f=new Xi(p),d=l.fieldTransforms.filter(v=>f.covers(v.field))}else f=null,d=l.fieldTransforms;return new x9(new Li(c),f,d)}class vy extends Tw{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof vy}}function L9(n,e,t,r){const a=n.ju(1,e,t);Sw("Data must be an object, but it was:",a,r);const o=[],l=Li.empty();Cl(r,(f,d)=>{const p=Aw(e,f,t);d=pi(d);const v=a.Uu(p);if(d instanceof vy)o.push(p);else{const w=Zd(d,v);w!=null&&(o.push(p),l.set(p,w))}});const c=new Xi(o);return new iO(l,c,a.fieldTransforms)}function V9(n,e,t,r,a,o){const l=n.ju(1,e,t),c=[j_(e,r,t)],f=[a];if(o.length%2!=0)throw new Le(me.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<o.length;w+=2)c.push(j_(e,o[w])),f.push(o[w+1]);const d=[],p=Li.empty();for(let w=c.length-1;w>=0;--w)if(!lO(d,c[w])){const E=c[w];let R=f[w];R=pi(R);const S=l.Uu(E);if(R instanceof vy)d.push(E);else{const D=Zd(R,S);D!=null&&(d.push(E),p.set(E,D))}}const v=new Xi(d);return new iO(p,v,l.fieldTransforms)}function U9(n,e,t,r=!1){return Zd(t,n.ju(r?4:3,e))}function Zd(n,e){if(oO(n=pi(n)))return Sw("Unsupported field value:",e,n),sO(n,e);if(n instanceof Tw)return function(r,a){if(!aO(a.Lu))throw a.Wu(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Wu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(a);o&&a.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,a){const o=[];let l=0;for(const c of r){let f=Zd(c,a.Ku(l));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),l++}return{arrayValue:{values:o}}}(n,e)}return function(r,a){if((r=pi(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return SU(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Sr.fromDate(r);return{timestampValue:Rg(a.serializer,o)}}if(r instanceof Sr){const o=new Sr(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Rg(a.serializer,o)}}if(r instanceof ww)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ph)return{bytesValue:b2(a.serializer,r._byteString)};if(r instanceof Vi){const o=a.databaseId,l=r.firestore._databaseId;if(!l.isEqual(o))throw a.Wu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:rw(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof Ew)return function(l,c){return{mapValue:{fields:{[WI]:{stringValue:JI},[Tg]:{arrayValue:{values:l.toArray().map(d=>{if(typeof d!="number")throw c.Wu("VectorValues must only contain numeric values.");return JT(c.serializer,d)})}}}}}}(r,a);throw a.Wu(`Unsupported field value: ${py(r)}`)}(n,e)}function sO(n,e){const t={};return YI(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Cl(n,(r,a)=>{const o=Zd(a,e.qu(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function oO(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Sr||n instanceof ww||n instanceof ph||n instanceof Vi||n instanceof Tw||n instanceof Ew)}function Sw(n,e,t){if(!oO(t)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(t)){const r=py(t);throw r==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+r)}}function j_(n,e,t){if((e=pi(e))instanceof yy)return e._internalPath;if(typeof e=="string")return Aw(n,e);throw Dg("Field path arguments must be of type string or ",n,!1,void 0,t)}const z9=new RegExp("[~\\*/\\[\\]]");function Aw(n,e,t){if(e.search(z9)>=0)throw Dg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new yy(...e.split("."))._internalPath}catch{throw Dg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Dg(n,e,t,r,a){const o=r&&!r.isEmpty(),l=a!==void 0;let c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let f="";return(o||l)&&(f+=" (found",o&&(f+=` in field ${r}`),l&&(f+=` in document ${a}`),f+=")"),new Le(me.INVALID_ARGUMENT,c+n+f)}function lO(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(e,t,r,a,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=a,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Vi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new B9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Cw("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class B9 extends uO{data(){return super.data()}}function Cw(n,e){return typeof e=="string"?Aw(n,e):e instanceof yy?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cO(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Le(me.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Dw{}class hO extends Dw{}function fO(n,e,...t){let r=[];e instanceof Dw&&r.push(e),r=r.concat(t),function(o){const l=o.filter(f=>f instanceof Ow).length,c=o.filter(f=>f instanceof Iw).length;if(l>1||l>0&&c>0)throw new Le(me.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const a of r)n=a._apply(n);return n}class Iw extends hO{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Iw(e,t,r)}_apply(e){const t=this._parse(e);return mO(e._query,t),new Il(e.firestore,e.converter,I_(e._query,t))}_parse(e){const t=Rw(e.firestore);return function(o,l,c,f,d,p,v){let w;if(d.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new Le(me.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){BA(v,p);const R=[];for(const S of v)R.push(zA(f,o,S));w={arrayValue:{values:R}}}else w=zA(f,o,v)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||BA(v,p),w=U9(c,l,v,p==="in"||p==="not-in");return fr.create(d,p,w)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class Ow extends Dw{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Ow(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:za.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(a,o){let l=a;const c=o.getFlattenedFilters();for(const f of c)mO(l,f),l=I_(l,f)}(e._query,t),new Il(e.firestore,e.converter,I_(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Nw extends hO{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Nw(e,t)}_apply(e){const t=function(a,o,l){if(a.startAt!==null)throw new Le(me.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new Le(me.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new gd(o,l)}(e._query,this._field,this._direction);return new Il(e.firestore,e.converter,function(a,o){const l=a.explicitOrderBy.concat([o]);return new Oh(a.path,a.collectionGroup,l,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,t))}}function dO(n,e="asc"){const t=e,r=Cw("orderBy",n);return Nw._create(r,t)}function zA(n,e,t){if(typeof(t=pi(t))=="string"){if(t==="")throw new Le(me.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!o2(e)&&t.indexOf("/")!==-1)throw new Le(me.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(On.fromString(t));if(!He.isDocumentKey(r))throw new Le(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return eA(n,new He(r))}if(t instanceof Vi)return eA(n,t._key);throw new Le(me.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${py(t)}.`)}function BA(n,e){if(!Array.isArray(n)||n.length===0)throw new Le(me.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function mO(n,e){const t=function(a,o){for(const l of a)for(const c of l.getFlattenedFilters())if(o.indexOf(c.op)>=0)return c.op;return null}(n.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new Le(me.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Le(me.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class j9{convertValue(e,t="none"){switch(Tl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return rr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(_l(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw at()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Cl(e,(a,o)=>{r[a]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,a;const o=(a=(r=(t=e.fields)===null||t===void 0?void 0:t[Tg].arrayValue)===null||r===void 0?void 0:r.values)===null||a===void 0?void 0:a.map(l=>rr(l.doubleValue));return new Ew(o)}convertGeoPoint(e){return new ww(rr(e.latitude),rr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=sy(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(dd(e));default:return null}}convertTimestamp(e){const t=vl(e);return new Sr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=On.fromString(e);Jt(I2(r));const a=new md(r.get(1),r.get(3)),o=new He(r.popFirst(5));return a.isEqual(t)||po(`Document ${o} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F9(n,e,t){let r;return r=n?n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class pO extends uO{constructor(e,t,r,a,o,l){super(e,t,r,a,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new qp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Cw("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class qp extends pO{data(e={}){return super.data(e)}}class gO{constructor(e,t,r,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Hf(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new qp(this._firestore,this._userDataWriter,r.key,r,new Hf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Le(me.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,o){if(a._snapshot.oldDocs.isEmpty()){let l=0;return a._snapshot.docChanges.map(c=>{const f=new qp(a._firestore,a._userDataWriter,c.doc.key,c.doc,new Hf(a._snapshot.mutatedKeys.has(c.doc.key),a._snapshot.fromCache),a.query.converter);return c.doc,{type:"added",doc:f,oldIndex:-1,newIndex:l++}})}{let l=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(c=>o||c.type!==3).map(c=>{const f=new qp(a._firestore,a._userDataWriter,c.doc.key,c.doc,new Hf(a._snapshot.mutatedKeys.has(c.doc.key),a._snapshot.fromCache),a.query.converter);let d=-1,p=-1;return c.type!==0&&(d=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),p=l.indexOf(c.doc.key)),{type:$9(c.type),doc:f,oldIndex:d,newIndex:p}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function $9(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return at()}}class Mw extends j9{constructor(e){super(),this.firestore=e}convertBytes(e){return new ph(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Vi(this.firestore,null,t)}}function q9(n){n=_s(n,Il);const e=_s(n.firestore,xu),t=_w(e),r=new Mw(e);return cO(n._query),C9(t,n._query).then(a=>new gO(e,r,n,a))}function jA(n,e,t,...r){n=_s(n,Vi);const a=_s(n.firestore,xu),o=Rw(a);let l;return l=typeof(e=pi(e))=="string"||e instanceof yy?V9(o,"updateDoc",n._key,e,t,r):L9(o,"updateDoc",n._key,e),xw(a,[l.toMutation(n._key,La.exists(!0))])}function H9(n){return xw(_s(n.firestore,xu),[new ew(n._key,La.none())])}function Y9(n,e){const t=_s(n.firestore,xu),r=vw(n),a=F9(n.converter,e);return xw(t,[P9(Rw(n.firestore),"addDoc",r._key,a,n.converter!==null,{}).toMutation(r._key,La.exists(!1))]).then(()=>r)}function G9(n,...e){var t,r,a;n=pi(n);let o={includeMetadataChanges:!1,source:"default"},l=0;typeof e[l]!="object"||UA(e[l])||(o=e[l],l++);const c={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(UA(e[l])){const v=e[l];e[l]=(t=v.next)===null||t===void 0?void 0:t.bind(v),e[l+1]=(r=v.error)===null||r===void 0?void 0:r.bind(v),e[l+2]=(a=v.complete)===null||a===void 0?void 0:a.bind(v)}let f,d,p;if(n instanceof Vi)d=_s(n.firestore,xu),p=WT(n._key.path),f={next:v=>{e[l]&&e[l](Q9(d,n,v))},error:e[l+1],complete:e[l+2]};else{const v=_s(n,Il);d=_s(v.firestore,xu),p=v._query;const w=new Mw(d);f={next:E=>{e[l]&&e[l](new gO(d,w,v,E))},error:e[l+1],complete:e[l+2]},cO(n._query)}return function(w,E,R,S){const D=new J2(S),N=new q2(E,D,R);return w.asyncQueue.enqueueAndForget(async()=>F2(await B_(w),N)),()=>{D.su(),w.asyncQueue.enqueueAndForget(async()=>$2(await B_(w),N))}}(_w(d),p,c,f)}function xw(n,e){return function(r,a){const o=new ll;return r.asyncQueue.enqueueAndForget(async()=>p9(await A9(r),a,o)),o.promise}(_w(n),e)}function Q9(n,e,t){const r=t.docs.get(e._key),a=new Mw(n);return new pO(n,a,e._key,r,new Hf(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(a){Ch=a})(Sh),oh(new Iu("firestore",(r,{instanceIdentifier:a,options:o})=>{const l=r.getProvider("app").getImmediate(),c=new xu(new z6(r.getProvider("auth-internal")),new F6(l,r.getProvider("app-check-internal")),function(d,p){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Le(me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new md(d.options.projectId,p)}(l,a),l);return o=Object.assign({useFetchStreams:t},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),sl(FS,$S,e),sl(FS,$S,"esm2017")})();const K9={apiKey:"AIzaSyASY_TDUPR0wPWFPs2yVkJZl4XZpyqq1JI",authDomain:"organizador-32dbb.firebaseapp.com",projectId:"organizador-32dbb",storageBucket:"organizador-32dbb.firebasestorage.app",messagingSenderId:"805321376378",appId:"1:805321376378:web:6ef2732c87d76dcbc031c3"},yO=eI(K9);P6(yO);const _d=O9(yO),rl=(n,e)=>{const t={position:"top-center",theme:"dark"};switch(e){case"error":rn.error(n,t);break;case"success":rn.success(n,t);break}};class vO{constructor({name:e,text:t,id:r="nada",date:a}){Df(this,"id");Df(this,"date");Df(this,"name");Df(this,"text");this.id=r,this.name=e,this.text=t,this.date=a||`${Sc.Now.plainTimeISO().toString().slice(0,5)} / ${Sc.Now.plainDateISO().toString()}`}async save(){const e=Sc.Now.plainTimeISO().toString().slice(0,5),t=Sc.Now.plainDateISO().toString();this.date=`${t} / ${e}`;try{const r=await Y9(yw(_d,"notes"),{name:this.name,date:this.date,text:this.text});await jA(r,{id:r.id}),rl("Nota guardada exitosamente","success")}catch(r){rl(`Error al guardar la nota: ${r}`,"error")}}async edit(e,t,r){const a=Sc.Now.plainTimeISO().toString().slice(0,5),l=`${Sc.Now.plainDateISO().toString()} / ${a}`;try{const c=vw(_d,"notes",r);await jA(c,{id:r,name:e,text:t,date:l}),rl("Nota actualizada exitosamente","success")}catch(c){rl(`Error al editar la nota: ${c}`,"error")}}show(){console.log(this)}}const Z9=()=>{const[n,e]=K.useState(""),[t,r]=K.useState(""),a=Pg();function o(){new vO({name:n,text:t}).save(),setTimeout(()=>{a("/notes")},2500)}return K.useEffect(()=>{const l=()=>{window.location.href="/notes"};return window.addEventListener("popstate",l),()=>{window.removeEventListener("popstate",l)}},[]),Ee.jsx("section",{className:"flex w-full relative pt-20",children:Ee.jsxs("div",{className:"z-10 flex flex-col min-h-screen w-full relative",children:[Ee.jsx(Rd,{className:"text-center text-lg font-bold w-full py-4 dark:bg-[var(--nd)] bg-[var(--nd)] dark:text-[var(--txt)] text-[var(--txt)]",to:"/notes",children:"Volver al inicio"}),Ee.jsxs("span",{className:"relative",children:[Ee.jsx("input",{className:"flex h-14 w-full py-2 pl-2 pr-12 truncate  text-lg font-bold dark:text-[var(--txt-2)] text-[var(--txt-2)] focus:dark:text-[var(--txt)] focus:text-[var(--txt)] border-b-2 dark:border-[var(--rd)] border-[var(--rd)] focus:bg-[var(--rd)] dark:focus:focus:bg-[var(--rd)] outline-none",placeholder:"Título",type:"text",onChange:l=>e(l.target.value)}),Ee.jsx("button",{className:"absolute right-2 top-3 text-3xl dark:text-[var(--txt)] text-[var(--txt)]",onClick:o,children:Ee.jsx(zC,{})})]}),Ee.jsx("textarea",{className:"p-2 dark:text-[var(--txt-2)] text-[var(--txt-2)] focus:dark:text-[var(--txt)] focus:text-[var(--txt)] outline-none w-full h-full focus:bg-[var(--rd)] dark:focus:focus:bg-[var(--rd)]",placeholder:"Escriba su nota aquí...",onChange:l=>r(l.target.value)})]})})};function X9(n){return rT({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M135.2 17.7C140.6 6.8 151.7 0 163.8 0L284.2 0c12.1 0 23.2 6.8 28.6 17.7L320 32l96 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 96C14.3 96 0 81.7 0 64S14.3 32 32 32l96 0 7.2-14.3zM32 128l384 0 0 320c0 35.3-28.7 64-64 64L96 512c-35.3 0-64-28.7-64-64l0-320zm96 64c-8.8 0-16 7.2-16 16l0 224c0 8.8 7.2 16 16 16s16-7.2 16-16l0-224c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16l0 224c0 8.8 7.2 16 16 16s16-7.2 16-16l0-224c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16l0 224c0 8.8 7.2 16 16 16s16-7.2 16-16l0-224c0-8.8-7.2-16-16-16z"},child:[]}]})(n)}function F_(n){const e={id:n.id,name:n.name?n.name:"",date:n.date?n.date:"",text:n.text?n.text:""};return new vO({id:e.id,name:e.name,date:e.date,text:e.text})}const W9=async({type:n,order:e})=>{try{const t=yw(_d,"notes"),r=fO(t,dO(n,e)),o=(await q9(r)).docs.map(c=>({id:c.id,...c.data()}));let l=[];return o.forEach(c=>{let f=F_(c);l.push(f)}),l}catch(t){return rl(`Error obteniendo notas: ${t}`,"error"),[]}},J9=async n=>{try{if(n){const e=vw(_d,"notes",n);await H9(e)}else rl("No se encuentra el ID del documento","error");rl("Nota eliminada exitosamente","success")}catch(e){rl(`Error al eliminar la nota: ${e}`,"error")}},ez=({initialData:n,changeInterface:e,fetch:t})=>{const[r,a]=K.useState(n.name),[o,l]=K.useState(n.text);function c(){n.id&&n.edit(r,o,n.id),e(!1),t()}return K.useEffect(()=>{const f=()=>{e(!1)};return window.addEventListener("popstate",f),()=>{window.removeEventListener("popstate",f)}},[]),Ee.jsx("section",{className:"flex w-full h-full relative pt-20",children:Ee.jsxs("div",{className:"z-10 flex flex-col min-h-96 w-full relative",children:[Ee.jsx("button",{className:"text-center text-lg font-bold w-full py-4 dark:bg-[var(--nd)] bg-[var(--nd)] dark:text-[var(--txt)] text-[var(--txt)]",onClick:()=>e(!1),children:"Volver al inicio"}),Ee.jsxs("div",{className:"w-full flex relative",children:[Ee.jsx("input",{className:"w-full flex h-14 py-2 pl-2 pr-12 truncate text-lg font-bold dark:text-[var(--txt-2)] text-[var(--txt-2)] focus:dark:text-[var(--txt)] focus:text-[var(--txt)] border-b-2 dark:border-[var(--rd)] border-[var(--rd)] focus:bg-[var(--rd)] dark:focus:focus:bg-[var(--rd)] outline-none",placeholder:"Título",defaultValue:n.name,type:"text",onChange:f=>a(f.target.value)}),Ee.jsx("button",{className:"absolute z-20 right-2 top-2 text-4xl dark:text-[var(--txt)] text-[var(--txt)]",onClick:c,children:Ee.jsx(zC,{})})]}),Ee.jsx("textarea",{className:"p-2 dark:text-[var(--txt-2)] text-[var(--txt-2)] focus:dark:text-[var(--txt)] focus:text-[var(--txt)] outline-none w-full h-full focus:bg-[var(--rd)] dark:focus:focus:bg-[var(--rd)]",placeholder:"Escriba su nota aquí...",defaultValue:n.text,onChange:f=>l(f.target.value)})]})})},Yv=()=>{const[n,e]=K.useState([]),[t,r]=K.useState(!0),[a,o]=K.useState(),[l,c]=K.useState(!1),[f,d]=K.useState(!1),p=Pg(),v=()=>JSON.parse(localStorage.getItem("notes")||"[]").map(F_),w=M=>{o(M),c(!0)},E=()=>{a&&a.id&&J9(a.id),N(),c(!1)},R=M=>{o(M),d(!0)},S=()=>{p("/notes/new")},D=async()=>{const M=v();if(M.length>0)e(M),r(!1);else{const L=await W9({type:"date",order:"desc"});e(L),localStorage.setItem("notes",JSON.stringify(L)),r(!1)}},N=()=>{const M=fO(yw(_d,"notes"),dO("date","desc"));return G9(M,$=>{const H=$.docs.map(x=>({id:x.id,...x.data()})).map(F_);e(H),r(!1),localStorage.setItem("notes",JSON.stringify(H))})};return K.useEffect(()=>{D()},[]),K.useEffect(()=>{r(!0);const M=N();return()=>M()},[]),f&&a?Ee.jsx("section",{className:"w-full min-h-screen",children:Ee.jsx(ez,{initialData:a,changeInterface:d,fetch:N})}):Ee.jsxs("section",{className:"relative flex pt-16",children:[l&&Ee.jsx("div",{className:"absolute z-20 flex items-center justify-center min-h-screen w-full bg-black/75",children:Ee.jsxs("div",{className:"flex flex-col items-center justify-center p-5",children:[Ee.jsxs("h1",{className:"text-[var(--txt)] dark:text-[var(--txt)] text-2xl font-bold p-5 bg-[var(--rd)]/75 rounded-lg",children:["¿ Estas seguro de que quieres eliminar la nota: ",Ee.jsx("b",{className:"text-[var(--th)]",children:a==null?void 0:a.name}),"?"]}),Ee.jsxs("span",{className:"w-full mt-10 flex gap-2 h-12 text-2xl font-bold",children:[Ee.jsx("button",{className:"bg-[var(--nd)] dark:bg-[var(--nd)] size-full rounded text-[var(--txt)] dark:text-[var(--txt)]",onClick:()=>c(!1),children:"Volver"}),Ee.jsx("button",{className:"bg-red-600 size-full rounded text-[var(--txt)] dark:text-[var(--txt)]",onClick:E,children:"Eliminar"})]})]})}),t&&Ee.jsx("div",{className:"flex min-h-screen w-full items-center justify-center",children:Ee.jsx("p",{className:"dark:text-[var(--txt)] text-[var(--txt)] text-2xl animate-pulse duration-300",children:"Cargando..."})}),!t&&n.length===0&&Ee.jsx("div",{className:"flex min-h-screen w-full items-center justify-center",children:Ee.jsx("p",{className:"dark:text-[var(--txt)] text-[var(--txt)] text-2xl animate-pulse duration-300",children:"No hay notas disponibles."})}),!t&&n.length>0&&Ee.jsxs("div",{className:"z-10 flex flex-col w-full min-h-[85vh] py-10 px-2",children:[Ee.jsx("h1",{className:"mb-4 font-bold text-center dark:text-[var(--txt-2)] text-[var(--txt-2)] ",children:"Selecciona una nota para editarla"}),Ee.jsxs("button",{className:"relative grid grid-cols-[80%_20%] gap-2 h-16 items-center pl-2 pr-4.5 bg-[var(--rd)] dark:[var(--rd)] rounded-lg",onClick:S,children:[Ee.jsx("h1",{className:"text-lg font-bold text-start text-[var(--txt)]",children:"Nueva nota"}),Ee.jsx("label",{className:"flex items-center justify-center size-full text-3xl",children:Ee.jsx(WP,{className:"text-lime-500"})})]}),Ee.jsx("ul",{className:"w-full max-h-[65vh] overflow-auto flex flex-col gap-2 py-2",children:n.map(M=>Ee.jsxs("li",{className:"relative grid grid-cols-[80%_20%] min-h-16 max-h-16 items-center px-2 bg-[var(--nd)] dark:[var(--nd)] rounded-lg",children:[Ee.jsx("h2",{className:"mb-1 text-lg font-bold truncate text-[var(--txt)] dark:[var(--txt)]",onClick:()=>R(M),children:M.name}),Ee.jsx("div",{className:"size-full flex",children:Ee.jsx("button",{className:"flex justify-center items-center size-full text-3xl text-red-500",onClick:()=>w(M),children:Ee.jsx(X9,{})})}),Ee.jsx("h5",{className:"absolute text-sm bottom-1 left-6 text-[var(--txt-2)] dark:[var(--txt-2)]",children:M.date})]},M.id))})]})]})},tz=[{name:"Balance de cuentas",url:"",icon:""},{name:"Cuentas de ahorro",url:"",icon:""}],nz=()=>Ee.jsxs("section",{className:"relative flex flex-col w-full min-h-screen bg-[var(--st)] dark:bg-[var(--st)] pt-20",children:[Ee.jsx(gC,{}),Ee.jsx("ul",{className:"flex flex-col dark:text-[var(--txt)] text-[var(--txt)] w-full p-2 text-lg font-bold gap-2",children:tz.map((n,e)=>Ee.jsx("li",{children:Ee.jsxs(Rd,{className:"flex items-center p-2 bg-[var(--nd)] dark:bg-[var(--nd)] rounded-lg h-12",to:n.url,children:[Ee.jsx("h1",{children:n.name}),Ee.jsx("span",{children:n.icon})]})},e))})]}),rz=Ik([{path:"/",element:Ee.jsx(ik,{to:"notes"})},{path:"/notes",element:Ee.jsx(IR,{}),children:[{index:!0,element:Ee.jsx(Yv,{})},{path:"/notes/main",element:Ee.jsx(Yv,{})},{path:"/notes/new",element:Ee.jsx(Z9,{})}]},{path:"/finances",children:[{index:!0,element:Ee.jsx(nz,{})},{path:"/finances/balance",element:""},{path:"/finances/saving",element:""},{path:"/finances/accounts",element:""}]},{path:"/test",element:Ee.jsx(IR,{}),children:[{index:!0,element:Ee.jsx(Yv,{})}]}]);LM.createRoot(document.getElementById("root")).render(Ee.jsx(K.StrictMode,{children:Ee.jsx(qk,{children:Ee.jsxs(jk,{children:[Ee.jsx(tk,{router:rz}),Ee.jsx(IM,{})]})})}));
