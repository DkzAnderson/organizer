var K2=Object.defineProperty;var Q2=(n,e,t)=>e in n?K2(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Yh=(n,e,t)=>Q2(n,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const u of s.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(a){if(a.ep)return;a.ep=!0;const s=t(a);fetch(a.href,s)}})();function Z2(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var dv={exports:{}},Gh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bb;function X2(){if(bb)return Gh;bb=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,a,s){var u=null;if(s!==void 0&&(u=""+s),a.key!==void 0&&(u=""+a.key),"key"in a){s={};for(var c in a)c!=="key"&&(s[c]=a[c])}else s=a;return a=s.ref,{$$typeof:n,type:r,key:u,ref:a!==void 0?a:null,props:s}}return Gh.Fragment=e,Gh.jsx=t,Gh.jsxs=t,Gh}var Rb;function W2(){return Rb||(Rb=1,dv.exports=X2()),dv.exports}var ze=W2(),mv={exports:{}},ht={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ab;function J2(){if(Ab)return ht;Ab=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function w(F){return F===null||typeof F!="object"?null:(F=v&&F[v]||F["@@iterator"],typeof F=="function"?F:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,C={};function D(F,ae,ve){this.props=F,this.context=ae,this.refs=C,this.updater=ve||b}D.prototype.isReactComponent={},D.prototype.setState=function(F,ae){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,ae,"setState")},D.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function M(){}M.prototype=D.prototype;function x(F,ae,ve){this.props=F,this.context=ae,this.refs=C,this.updater=ve||b}var P=x.prototype=new M;P.constructor=x,R(P,D.prototype),P.isPureReactComponent=!0;var $=Array.isArray,V={H:null,A:null,T:null,S:null},Y=Object.prototype.hasOwnProperty;function N(F,ae,ve,ye,_e,Pe){return ve=Pe.ref,{$$typeof:n,type:F,key:ae,ref:ve!==void 0?ve:null,props:Pe}}function I(F,ae){return N(F.type,ae,void 0,void 0,void 0,F.props)}function O(F){return typeof F=="object"&&F!==null&&F.$$typeof===n}function z(F){var ae={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(ve){return ae[ve]})}var j=/\/+/g;function q(F,ae){return typeof F=="object"&&F!==null&&F.key!=null?z(""+F.key):ae.toString(36)}function U(){}function Se(F){switch(F.status){case"fulfilled":return F.value;case"rejected":throw F.reason;default:switch(typeof F.status=="string"?F.then(U,U):(F.status="pending",F.then(function(ae){F.status==="pending"&&(F.status="fulfilled",F.value=ae)},function(ae){F.status==="pending"&&(F.status="rejected",F.reason=ae)})),F.status){case"fulfilled":return F.value;case"rejected":throw F.reason}}throw F}function se(F,ae,ve,ye,_e){var Pe=typeof F;(Pe==="undefined"||Pe==="boolean")&&(F=null);var Le=!1;if(F===null)Le=!0;else switch(Pe){case"bigint":case"string":case"number":Le=!0;break;case"object":switch(F.$$typeof){case n:case e:Le=!0;break;case g:return Le=F._init,se(Le(F._payload),ae,ve,ye,_e)}}if(Le)return _e=_e(F),Le=ye===""?"."+q(F,0):ye,$(_e)?(ve="",Le!=null&&(ve=Le.replace(j,"$&/")+"/"),se(_e,ae,ve,"",function(ct){return ct})):_e!=null&&(O(_e)&&(_e=I(_e,ve+(_e.key==null||F&&F.key===_e.key?"":(""+_e.key).replace(j,"$&/")+"/")+Le)),ae.push(_e)),1;Le=0;var wt=ye===""?".":ye+":";if($(F))for(var dt=0;dt<F.length;dt++)ye=F[dt],Pe=wt+q(ye,dt),Le+=se(ye,ae,ve,Pe,_e);else if(dt=w(F),typeof dt=="function")for(F=dt.call(F),dt=0;!(ye=F.next()).done;)ye=ye.value,Pe=wt+q(ye,dt++),Le+=se(ye,ae,ve,Pe,_e);else if(Pe==="object"){if(typeof F.then=="function")return se(Se(F),ae,ve,ye,_e);throw ae=String(F),Error("Objects are not valid as a React child (found: "+(ae==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":ae)+"). If you meant to render a collection of children, use an array instead.")}return Le}function re(F,ae,ve){if(F==null)return F;var ye=[],_e=0;return se(F,ye,"","",function(Pe){return ae.call(ve,Pe,_e++)}),ye}function de(F){if(F._status===-1){var ae=F._result;ae=ae(),ae.then(function(ve){(F._status===0||F._status===-1)&&(F._status=1,F._result=ve)},function(ve){(F._status===0||F._status===-1)&&(F._status=2,F._result=ve)}),F._status===-1&&(F._status=0,F._result=ae)}if(F._status===1)return F._result.default;throw F._result}var ge=typeof reportError=="function"?reportError:function(F){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ae=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof F=="object"&&F!==null&&typeof F.message=="string"?String(F.message):String(F),error:F});if(!window.dispatchEvent(ae))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",F);return}console.error(F)};function ke(){}return ht.Children={map:re,forEach:function(F,ae,ve){re(F,function(){ae.apply(this,arguments)},ve)},count:function(F){var ae=0;return re(F,function(){ae++}),ae},toArray:function(F){return re(F,function(ae){return ae})||[]},only:function(F){if(!O(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},ht.Component=D,ht.Fragment=t,ht.Profiler=a,ht.PureComponent=x,ht.StrictMode=r,ht.Suspense=f,ht.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=V,ht.act=function(){throw Error("act(...) is not supported in production builds of React.")},ht.cache=function(F){return function(){return F.apply(null,arguments)}},ht.cloneElement=function(F,ae,ve){if(F==null)throw Error("The argument must be a React element, but you passed "+F+".");var ye=R({},F.props),_e=F.key,Pe=void 0;if(ae!=null)for(Le in ae.ref!==void 0&&(Pe=void 0),ae.key!==void 0&&(_e=""+ae.key),ae)!Y.call(ae,Le)||Le==="key"||Le==="__self"||Le==="__source"||Le==="ref"&&ae.ref===void 0||(ye[Le]=ae[Le]);var Le=arguments.length-2;if(Le===1)ye.children=ve;else if(1<Le){for(var wt=Array(Le),dt=0;dt<Le;dt++)wt[dt]=arguments[dt+2];ye.children=wt}return N(F.type,_e,void 0,void 0,Pe,ye)},ht.createContext=function(F){return F={$$typeof:u,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null},F.Provider=F,F.Consumer={$$typeof:s,_context:F},F},ht.createElement=function(F,ae,ve){var ye,_e={},Pe=null;if(ae!=null)for(ye in ae.key!==void 0&&(Pe=""+ae.key),ae)Y.call(ae,ye)&&ye!=="key"&&ye!=="__self"&&ye!=="__source"&&(_e[ye]=ae[ye]);var Le=arguments.length-2;if(Le===1)_e.children=ve;else if(1<Le){for(var wt=Array(Le),dt=0;dt<Le;dt++)wt[dt]=arguments[dt+2];_e.children=wt}if(F&&F.defaultProps)for(ye in Le=F.defaultProps,Le)_e[ye]===void 0&&(_e[ye]=Le[ye]);return N(F,Pe,void 0,void 0,null,_e)},ht.createRef=function(){return{current:null}},ht.forwardRef=function(F){return{$$typeof:c,render:F}},ht.isValidElement=O,ht.lazy=function(F){return{$$typeof:g,_payload:{_status:-1,_result:F},_init:de}},ht.memo=function(F,ae){return{$$typeof:d,type:F,compare:ae===void 0?null:ae}},ht.startTransition=function(F){var ae=V.T,ve={};V.T=ve;try{var ye=F(),_e=V.S;_e!==null&&_e(ve,ye),typeof ye=="object"&&ye!==null&&typeof ye.then=="function"&&ye.then(ke,ge)}catch(Pe){ge(Pe)}finally{V.T=ae}},ht.unstable_useCacheRefresh=function(){return V.H.useCacheRefresh()},ht.use=function(F){return V.H.use(F)},ht.useActionState=function(F,ae,ve){return V.H.useActionState(F,ae,ve)},ht.useCallback=function(F,ae){return V.H.useCallback(F,ae)},ht.useContext=function(F){return V.H.useContext(F)},ht.useDebugValue=function(){},ht.useDeferredValue=function(F,ae){return V.H.useDeferredValue(F,ae)},ht.useEffect=function(F,ae){return V.H.useEffect(F,ae)},ht.useId=function(){return V.H.useId()},ht.useImperativeHandle=function(F,ae,ve){return V.H.useImperativeHandle(F,ae,ve)},ht.useInsertionEffect=function(F,ae){return V.H.useInsertionEffect(F,ae)},ht.useLayoutEffect=function(F,ae){return V.H.useLayoutEffect(F,ae)},ht.useMemo=function(F,ae){return V.H.useMemo(F,ae)},ht.useOptimistic=function(F,ae){return V.H.useOptimistic(F,ae)},ht.useReducer=function(F,ae,ve){return V.H.useReducer(F,ae,ve)},ht.useRef=function(F){return V.H.useRef(F)},ht.useState=function(F){return V.H.useState(F)},ht.useSyncExternalStore=function(F,ae,ve){return V.H.useSyncExternalStore(F,ae,ve)},ht.useTransition=function(){return V.H.useTransition()},ht.version="19.0.0",ht}var Sb;function P0(){return Sb||(Sb=1,mv.exports=J2()),mv.exports}var Z=P0();const zt=Z2(Z);function gA(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var a=n.length;for(e=0;e<a;e++)n[e]&&(t=gA(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function $l(){for(var n,e,t=0,r="",a=arguments.length;t<a;t++)(n=arguments[t])&&(e=gA(n))&&(r&&(r+=" "),r+=e);return r}function eO(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}eO(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var xf=n=>typeof n=="number"&&!isNaN(n),Gl=n=>typeof n=="string",xo=n=>typeof n=="function",tO=n=>Gl(n)||xf(n),$v=n=>Gl(n)||xo(n)?n:null,nO=(n,e)=>n===!1||xf(n)&&n>0?n:e,Fv=n=>Z.isValidElement(n)||Gl(n)||xo(n)||xf(n);function rO(n,e,t=300){let{scrollHeight:r,style:a}=n;requestAnimationFrame(()=>{a.minHeight="initial",a.height=r+"px",a.transition=`all ${t}ms`,requestAnimationFrame(()=>{a.height="0",a.padding="0",a.margin="0",setTimeout(e,t)})})}function iO({enter:n,exit:e,appendPosition:t=!1,collapse:r=!0,collapseDuration:a=300}){return function({children:s,position:u,preventExitTransition:c,done:f,nodeRef:d,isIn:g,playToast:v}){let w=t?`${n}--${u}`:n,b=t?`${e}--${u}`:e,R=Z.useRef(0);return Z.useLayoutEffect(()=>{let C=d.current,D=w.split(" "),M=x=>{x.target===d.current&&(v(),C.removeEventListener("animationend",M),C.removeEventListener("animationcancel",M),R.current===0&&x.type!=="animationcancel"&&C.classList.remove(...D))};C.classList.add(...D),C.addEventListener("animationend",M),C.addEventListener("animationcancel",M)},[]),Z.useEffect(()=>{let C=d.current,D=()=>{C.removeEventListener("animationend",D),r?rO(C,f,a):f()};g||(c?D():(R.current=1,C.className+=` ${b}`,C.addEventListener("animationend",D)))},[g]),zt.createElement(zt.Fragment,null,s)}}function Cb(n,e){return{content:yA(n.content,n.props),containerId:n.props.containerId,id:n.props.toastId,theme:n.props.theme,type:n.props.type,data:n.props.data||{},isLoading:n.props.isLoading,icon:n.props.icon,reason:n.removalReason,status:e}}function yA(n,e,t=!1){return Z.isValidElement(n)&&!Gl(n.type)?Z.cloneElement(n,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):xo(n)?n({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):n}function aO({closeToast:n,theme:e,ariaLabel:t="close"}){return zt.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:r=>{r.stopPropagation(),n(!0)},"aria-label":t},zt.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},zt.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function oO({delay:n,isRunning:e,closeToast:t,type:r="default",hide:a,className:s,controlledProgress:u,progress:c,rtl:f,isIn:d,theme:g}){let v=a||u&&c===0,w={animationDuration:`${n}ms`,animationPlayState:e?"running":"paused"};u&&(w.transform=`scaleX(${c})`);let b=$l("Toastify__progress-bar",u?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${g}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":f}),R=xo(s)?s({rtl:f,type:r,defaultClassName:b}):$l(b,s),C={[u&&c>=1?"onTransitionEnd":"onAnimationEnd"]:u&&c<1?null:()=>{d&&t()}};return zt.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":v},zt.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${g} Toastify__progress-bar--${r}`}),zt.createElement("div",{role:"progressbar","aria-hidden":v?"true":"false","aria-label":"notification timer",className:R,style:w,...C}))}var sO=1,vA=()=>`${sO++}`;function lO(n,e,t){let r=1,a=0,s=[],u=[],c=e,f=new Map,d=new Set,g=x=>(d.add(x),()=>d.delete(x)),v=()=>{u=Array.from(f.values()),d.forEach(x=>x())},w=({containerId:x,toastId:P,updateId:$})=>{let V=x?x!==n:n!==1,Y=f.has(P)&&$==null;return V||Y},b=(x,P)=>{f.forEach($=>{var V;(P==null||P===$.props.toastId)&&((V=$.toggle)==null||V.call($,x))})},R=x=>{var P,$;($=(P=x.props)==null?void 0:P.onClose)==null||$.call(P,x.removalReason),x.isActive=!1},C=x=>{if(x==null)f.forEach(R);else{let P=f.get(x);P&&R(P)}v()},D=()=>{a-=s.length,s=[]},M=x=>{var P,$;let{toastId:V,updateId:Y}=x.props,N=Y==null;x.staleId&&f.delete(x.staleId),x.isActive=!0,f.set(V,x),v(),t(Cb(x,N?"added":"updated")),N&&(($=(P=x.props).onOpen)==null||$.call(P))};return{id:n,props:c,observe:g,toggle:b,removeToast:C,toasts:f,clearQueue:D,buildToast:(x,P)=>{if(w(P))return;let{toastId:$,updateId:V,data:Y,staleId:N,delay:I}=P,O=V==null;O&&a++;let z={...c,style:c.toastStyle,key:r++,...Object.fromEntries(Object.entries(P).filter(([q,U])=>U!=null)),toastId:$,updateId:V,data:Y,isIn:!1,className:$v(P.className||c.toastClassName),progressClassName:$v(P.progressClassName||c.progressClassName),autoClose:P.isLoading?!1:nO(P.autoClose,c.autoClose),closeToast(q){f.get($).removalReason=q,C($)},deleteToast(){let q=f.get($);if(q!=null){if(t(Cb(q,"removed")),f.delete($),a--,a<0&&(a=0),s.length>0){M(s.shift());return}v()}}};z.closeButton=c.closeButton,P.closeButton===!1||Fv(P.closeButton)?z.closeButton=P.closeButton:P.closeButton===!0&&(z.closeButton=Fv(c.closeButton)?c.closeButton:!0);let j={content:x,props:z,staleId:N};c.limit&&c.limit>0&&a>c.limit&&O?s.push(j):xf(I)?setTimeout(()=>{M(j)},I):M(j)},setProps(x){c=x},setToggle:(x,P)=>{let $=f.get(x);$&&($.toggle=P)},isToastActive:x=>{var P;return(P=f.get(x))==null?void 0:P.isActive},getSnapshot:()=>u}}var Jr=new Map,gf=[],qv=new Set,uO=n=>qv.forEach(e=>e(n)),_A=()=>Jr.size>0;function cO(){gf.forEach(n=>wA(n.content,n.options)),gf=[]}var hO=(n,{containerId:e})=>{var t;return(t=Jr.get(e||1))==null?void 0:t.toasts.get(n)};function TA(n,e){var t;if(e)return!!((t=Jr.get(e))!=null&&t.isToastActive(n));let r=!1;return Jr.forEach(a=>{a.isToastActive(n)&&(r=!0)}),r}function fO(n){if(!_A()){gf=gf.filter(e=>n!=null&&e.options.toastId!==n);return}if(n==null||tO(n))Jr.forEach(e=>{e.removeToast(n)});else if(n&&("containerId"in n||"id"in n)){let e=Jr.get(n.containerId);e?e.removeToast(n.id):Jr.forEach(t=>{t.removeToast(n.id)})}}var dO=(n={})=>{Jr.forEach(e=>{e.props.limit&&(!n.containerId||e.id===n.containerId)&&e.clearQueue()})};function wA(n,e){Fv(n)&&(_A()||gf.push({content:n,options:e}),Jr.forEach(t=>{t.buildToast(n,e)}))}function mO(n){var e;(e=Jr.get(n.containerId||1))==null||e.setToggle(n.id,n.fn)}function EA(n,e){Jr.forEach(t=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===t.id)&&t.toggle(n,e==null?void 0:e.id)})}function pO(n){let e=n.containerId||1;return{subscribe(t){let r=lO(e,n,uO);Jr.set(e,r);let a=r.observe(t);return cO(),()=>{a(),Jr.delete(e)}},setProps(t){var r;(r=Jr.get(e))==null||r.setProps(t)},getSnapshot(){var t;return(t=Jr.get(e))==null?void 0:t.getSnapshot()}}}function gO(n){return qv.add(n),()=>{qv.delete(n)}}function yO(n){return n&&(Gl(n.toastId)||xf(n.toastId))?n.toastId:vA()}function kf(n,e){return wA(n,e),e.toastId}function Op(n,e){return{...e,type:e&&e.type||n,toastId:yO(e)}}function Mp(n){return(e,t)=>kf(e,Op(n,t))}function Gt(n,e){return kf(n,Op("default",e))}Gt.loading=(n,e)=>kf(n,Op("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function vO(n,{pending:e,error:t,success:r},a){let s;e&&(s=Gl(e)?Gt.loading(e,a):Gt.loading(e.render,{...a,...e}));let u={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},c=(d,g,v)=>{if(g==null){Gt.dismiss(s);return}let w={type:d,...u,...a,data:v},b=Gl(g)?{render:g}:g;return s?Gt.update(s,{...w,...b}):Gt(b.render,{...w,...b}),v},f=xo(n)?n():n;return f.then(d=>c("success",r,d)).catch(d=>c("error",t,d)),f}Gt.promise=vO;Gt.success=Mp("success");Gt.info=Mp("info");Gt.error=Mp("error");Gt.warning=Mp("warning");Gt.warn=Gt.warning;Gt.dark=(n,e)=>kf(n,Op("default",{theme:"dark",...e}));function _O(n){fO(n)}Gt.dismiss=_O;Gt.clearWaitingQueue=dO;Gt.isActive=TA;Gt.update=(n,e={})=>{let t=hO(n,e);if(t){let{props:r,content:a}=t,s={delay:100,...r,...e,toastId:e.toastId||n,updateId:vA()};s.toastId!==n&&(s.staleId=n);let u=s.render||a;delete s.render,kf(u,s)}};Gt.done=n=>{Gt.update(n,{progress:1})};Gt.onChange=gO;Gt.play=n=>EA(!0,n);Gt.pause=n=>EA(!1,n);function TO(n){var e;let{subscribe:t,getSnapshot:r,setProps:a}=Z.useRef(pO(n)).current;a(n);let s=(e=Z.useSyncExternalStore(t,r,r))==null?void 0:e.slice();function u(c){if(!s)return[];let f=new Map;return n.newestOnTop&&s.reverse(),s.forEach(d=>{let{position:g}=d.props;f.has(g)||f.set(g,[]),f.get(g).push(d)}),Array.from(f,d=>c(d[0],d[1]))}return{getToastToRender:u,isToastActive:TA,count:s==null?void 0:s.length}}function wO(n){let[e,t]=Z.useState(!1),[r,a]=Z.useState(!1),s=Z.useRef(null),u=Z.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:c,pauseOnHover:f,closeToast:d,onClick:g,closeOnClick:v}=n;mO({id:n.toastId,containerId:n.containerId,fn:t}),Z.useEffect(()=>{if(n.pauseOnFocusLoss)return w(),()=>{b()}},[n.pauseOnFocusLoss]);function w(){document.hasFocus()||M(),window.addEventListener("focus",D),window.addEventListener("blur",M)}function b(){window.removeEventListener("focus",D),window.removeEventListener("blur",M)}function R(N){if(n.draggable===!0||n.draggable===N.pointerType){x();let I=s.current;u.canCloseOnClick=!0,u.canDrag=!0,I.style.transition="none",n.draggableDirection==="x"?(u.start=N.clientX,u.removalDistance=I.offsetWidth*(n.draggablePercent/100)):(u.start=N.clientY,u.removalDistance=I.offsetHeight*(n.draggablePercent===80?n.draggablePercent*1.5:n.draggablePercent)/100)}}function C(N){let{top:I,bottom:O,left:z,right:j}=s.current.getBoundingClientRect();N.nativeEvent.type!=="touchend"&&n.pauseOnHover&&N.clientX>=z&&N.clientX<=j&&N.clientY>=I&&N.clientY<=O?M():D()}function D(){t(!0)}function M(){t(!1)}function x(){u.didMove=!1,document.addEventListener("pointermove",$),document.addEventListener("pointerup",V)}function P(){document.removeEventListener("pointermove",$),document.removeEventListener("pointerup",V)}function $(N){let I=s.current;if(u.canDrag&&I){u.didMove=!0,e&&M(),n.draggableDirection==="x"?u.delta=N.clientX-u.start:u.delta=N.clientY-u.start,u.start!==N.clientX&&(u.canCloseOnClick=!1);let O=n.draggableDirection==="x"?`${u.delta}px, var(--y)`:`0, calc(${u.delta}px + var(--y))`;I.style.transform=`translate3d(${O},0)`,I.style.opacity=`${1-Math.abs(u.delta/u.removalDistance)}`}}function V(){P();let N=s.current;if(u.canDrag&&u.didMove&&N){if(u.canDrag=!1,Math.abs(u.delta)>u.removalDistance){a(!0),n.closeToast(!0),n.collapseAll();return}N.style.transition="transform 0.2s, opacity 0.2s",N.style.removeProperty("transform"),N.style.removeProperty("opacity")}}let Y={onPointerDown:R,onPointerUp:C};return c&&f&&(Y.onMouseEnter=M,n.stacked||(Y.onMouseLeave=D)),v&&(Y.onClick=N=>{g&&g(N),u.canCloseOnClick&&d(!0)}),{playToast:D,pauseToast:M,isRunning:e,preventExitTransition:r,toastRef:s,eventHandlers:Y}}var EO=typeof window<"u"?Z.useLayoutEffect:Z.useEffect,Np=({theme:n,type:e,isLoading:t,...r})=>zt.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:n==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...r});function bO(n){return zt.createElement(Np,{...n},zt.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function RO(n){return zt.createElement(Np,{...n},zt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function AO(n){return zt.createElement(Np,{...n},zt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function SO(n){return zt.createElement(Np,{...n},zt.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function CO(){return zt.createElement("div",{className:"Toastify__spinner"})}var Hv={info:RO,warning:bO,success:AO,error:SO,spinner:CO},DO=n=>n in Hv;function IO({theme:n,type:e,isLoading:t,icon:r}){let a=null,s={theme:n,type:e};return r===!1||(xo(r)?a=r({...s,isLoading:t}):Z.isValidElement(r)?a=Z.cloneElement(r,s):t?a=Hv.spinner():DO(e)&&(a=Hv[e](s))),a}var OO=n=>{let{isRunning:e,preventExitTransition:t,toastRef:r,eventHandlers:a,playToast:s}=wO(n),{closeButton:u,children:c,autoClose:f,onClick:d,type:g,hideProgressBar:v,closeToast:w,transition:b,position:R,className:C,style:D,progressClassName:M,updateId:x,role:P,progress:$,rtl:V,toastId:Y,deleteToast:N,isIn:I,isLoading:O,closeOnClick:z,theme:j,ariaLabel:q}=n,U=$l("Toastify__toast",`Toastify__toast-theme--${j}`,`Toastify__toast--${g}`,{"Toastify__toast--rtl":V},{"Toastify__toast--close-on-click":z}),Se=xo(C)?C({rtl:V,position:R,type:g,defaultClassName:U}):$l(U,C),se=IO(n),re=!!$||!f,de={closeToast:w,type:g,theme:j},ge=null;return u===!1||(xo(u)?ge=u(de):Z.isValidElement(u)?ge=Z.cloneElement(u,de):ge=aO(de)),zt.createElement(b,{isIn:I,done:N,position:R,preventExitTransition:t,nodeRef:r,playToast:s},zt.createElement("div",{id:Y,tabIndex:0,onClick:d,"data-in":I,className:Se,...a,style:D,ref:r,...I&&{role:P,"aria-label":q}},se!=null&&zt.createElement("div",{className:$l("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!O})},se),yA(c,n,!e),ge,!n.customProgressBar&&zt.createElement(oO,{...x&&!re?{key:`p-${x}`}:{},rtl:V,theme:j,delay:f,isRunning:e,isIn:I,closeToast:w,hide:v,type:g,className:M,controlledProgress:re,progress:$||0})))},MO=(n,e=!1)=>({enter:`Toastify--animate Toastify__${n}-enter`,exit:`Toastify--animate Toastify__${n}-exit`,appendPosition:e}),NO=iO(MO("bounce",!0)),xO={position:"top-right",transition:NO,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:n=>n.altKey&&n.code==="KeyT"};function kO(n){let e={...xO,...n},t=n.stacked,[r,a]=Z.useState(!0),s=Z.useRef(null),{getToastToRender:u,isToastActive:c,count:f}=TO(e),{className:d,style:g,rtl:v,containerId:w,hotKeys:b}=e;function R(D){let M=$l("Toastify__toast-container",`Toastify__toast-container--${D}`,{"Toastify__toast-container--rtl":v});return xo(d)?d({position:D,rtl:v,defaultClassName:M}):$l(M,$v(d))}function C(){t&&(a(!0),Gt.play())}return EO(()=>{var D;if(t){let M=s.current.querySelectorAll('[data-in="true"]'),x=12,P=(D=e.position)==null?void 0:D.includes("top"),$=0,V=0;Array.from(M).reverse().forEach((Y,N)=>{let I=Y;I.classList.add("Toastify__toast--stacked"),N>0&&(I.dataset.collapsed=`${r}`),I.dataset.pos||(I.dataset.pos=P?"top":"bot");let O=$*(r?.2:1)+(r?0:x*N);I.style.setProperty("--y",`${P?O:O*-1}px`),I.style.setProperty("--g",`${x}`),I.style.setProperty("--s",`${1-(r?V:0)}`),$+=I.offsetHeight,V+=.025})}},[r,f,t]),Z.useEffect(()=>{function D(M){var x;let P=s.current;b(M)&&((x=P.querySelector('[tabIndex="0"]'))==null||x.focus(),a(!1),Gt.pause()),M.key==="Escape"&&(document.activeElement===P||P!=null&&P.contains(document.activeElement))&&(a(!0),Gt.play())}return document.addEventListener("keydown",D),()=>{document.removeEventListener("keydown",D)}},[b]),zt.createElement("section",{ref:s,className:"Toastify",id:w,onMouseEnter:()=>{t&&(a(!1),Gt.pause())},onMouseLeave:C,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},u((D,M)=>{let x=M.length?{...g}:{...g,pointerEvents:"none"};return zt.createElement("div",{tabIndex:-1,className:R(D),"data-stacked":t,style:x,key:`c-${D}`},M.map(({content:P,props:$})=>zt.createElement(OO,{...$,stacked:t,collapseAll:C,isIn:c($.toastId,$.containerId),key:`t-${$.key}`},P)))}))}var pv={exports:{}},Kh={},gv={exports:{}},yv={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Db;function PO(){return Db||(Db=1,function(n){function e(re,de){var ge=re.length;re.push(de);e:for(;0<ge;){var ke=ge-1>>>1,F=re[ke];if(0<a(F,de))re[ke]=de,re[ge]=F,ge=ke;else break e}}function t(re){return re.length===0?null:re[0]}function r(re){if(re.length===0)return null;var de=re[0],ge=re.pop();if(ge!==de){re[0]=ge;e:for(var ke=0,F=re.length,ae=F>>>1;ke<ae;){var ve=2*(ke+1)-1,ye=re[ve],_e=ve+1,Pe=re[_e];if(0>a(ye,ge))_e<F&&0>a(Pe,ye)?(re[ke]=Pe,re[_e]=ge,ke=_e):(re[ke]=ye,re[ve]=ge,ke=ve);else if(_e<F&&0>a(Pe,ge))re[ke]=Pe,re[_e]=ge,ke=_e;else break e}}return de}function a(re,de){var ge=re.sortIndex-de.sortIndex;return ge!==0?ge:re.id-de.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var u=Date,c=u.now();n.unstable_now=function(){return u.now()-c}}var f=[],d=[],g=1,v=null,w=3,b=!1,R=!1,C=!1,D=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;function P(re){for(var de=t(d);de!==null;){if(de.callback===null)r(d);else if(de.startTime<=re)r(d),de.sortIndex=de.expirationTime,e(f,de);else break;de=t(d)}}function $(re){if(C=!1,P(re),!R)if(t(f)!==null)R=!0,Se();else{var de=t(d);de!==null&&se($,de.startTime-re)}}var V=!1,Y=-1,N=5,I=-1;function O(){return!(n.unstable_now()-I<N)}function z(){if(V){var re=n.unstable_now();I=re;var de=!0;try{e:{R=!1,C&&(C=!1,M(Y),Y=-1),b=!0;var ge=w;try{t:{for(P(re),v=t(f);v!==null&&!(v.expirationTime>re&&O());){var ke=v.callback;if(typeof ke=="function"){v.callback=null,w=v.priorityLevel;var F=ke(v.expirationTime<=re);if(re=n.unstable_now(),typeof F=="function"){v.callback=F,P(re),de=!0;break t}v===t(f)&&r(f),P(re)}else r(f);v=t(f)}if(v!==null)de=!0;else{var ae=t(d);ae!==null&&se($,ae.startTime-re),de=!1}}break e}finally{v=null,w=ge,b=!1}de=void 0}}finally{de?j():V=!1}}}var j;if(typeof x=="function")j=function(){x(z)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,U=q.port2;q.port1.onmessage=z,j=function(){U.postMessage(null)}}else j=function(){D(z,0)};function Se(){V||(V=!0,j())}function se(re,de){Y=D(function(){re(n.unstable_now())},de)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(re){re.callback=null},n.unstable_continueExecution=function(){R||b||(R=!0,Se())},n.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<re?Math.floor(1e3/re):5},n.unstable_getCurrentPriorityLevel=function(){return w},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(re){switch(w){case 1:case 2:case 3:var de=3;break;default:de=w}var ge=w;w=de;try{return re()}finally{w=ge}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(re,de){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var ge=w;w=re;try{return de()}finally{w=ge}},n.unstable_scheduleCallback=function(re,de,ge){var ke=n.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?ke+ge:ke):ge=ke,re){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=ge+F,re={id:g++,callback:de,priorityLevel:re,startTime:ge,expirationTime:F,sortIndex:-1},ge>ke?(re.sortIndex=ge,e(d,re),t(f)===null&&re===t(d)&&(C?(M(Y),Y=-1):C=!0,se($,ge-ke))):(re.sortIndex=F,e(f,re),R||b||(R=!0,Se())),re},n.unstable_shouldYield=O,n.unstable_wrapCallback=function(re){var de=w;return function(){var ge=w;w=de;try{return re.apply(this,arguments)}finally{w=ge}}}}(yv)),yv}var Ib;function LO(){return Ib||(Ib=1,gv.exports=PO()),gv.exports}var vv={exports:{}},Vr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ob;function VO(){if(Ob)return Vr;Ob=1;var n=P0();function e(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)d+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function s(f,d,g){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:f,containerInfo:d,implementation:g}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Vr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Vr.createPortal=function(f,d){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return s(f,d,null,g)},Vr.flushSync=function(f){var d=u.T,g=r.p;try{if(u.T=null,r.p=2,f)return f()}finally{u.T=d,r.p=g,r.d.f()}},Vr.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(f,d))},Vr.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},Vr.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var g=d.as,v=c(g,d.crossOrigin),w=typeof d.integrity=="string"?d.integrity:void 0,b=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;g==="style"?r.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:v,integrity:w,fetchPriority:b}):g==="script"&&r.d.X(f,{crossOrigin:v,integrity:w,fetchPriority:b,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Vr.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var g=c(d.as,d.crossOrigin);r.d.M(f,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(f)},Vr.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var g=d.as,v=c(g,d.crossOrigin);r.d.L(f,g,{crossOrigin:v,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Vr.preloadModule=function(f,d){if(typeof f=="string")if(d){var g=c(d.as,d.crossOrigin);r.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(f)},Vr.requestFormReset=function(f){r.d.r(f)},Vr.unstable_batchedUpdates=function(f,d){return f(d)},Vr.useFormState=function(f,d,g){return u.H.useFormState(f,d,g)},Vr.useFormStatus=function(){return u.H.useHostTransitionStatus()},Vr.version="19.0.0",Vr}var Mb;function UO(){if(Mb)return vv.exports;Mb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),vv.exports=VO(),vv.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nb;function zO(){if(Nb)return Kh;Nb=1;var n=LO(),e=P0(),t=UO();function r(i){var o="https://react.dev/errors/"+i;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)o+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}var s=Symbol.for("react.element"),u=Symbol.for("react.transitional.element"),c=Symbol.for("react.portal"),f=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),g=Symbol.for("react.profiler"),v=Symbol.for("react.provider"),w=Symbol.for("react.consumer"),b=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),P=Symbol.for("react.offscreen"),$=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function Y(i){return i===null||typeof i!="object"?null:(i=V&&i[V]||i["@@iterator"],typeof i=="function"?i:null)}var N=Symbol.for("react.client.reference");function I(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===N?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case f:return"Fragment";case c:return"Portal";case g:return"Profiler";case d:return"StrictMode";case C:return"Suspense";case D:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case b:return(i.displayName||"Context")+".Provider";case w:return(i._context.displayName||"Context")+".Consumer";case R:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case M:return o=i.displayName||null,o!==null?o:I(i.type)||"Memo";case x:o=i._payload,i=i._init;try{return I(i(o))}catch{}}return null}var O=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z=Object.assign,j,q;function U(i){if(j===void 0)try{throw Error()}catch(l){var o=l.stack.trim().match(/\n( *(at )?)/);j=o&&o[1]||"",q=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+j+i+q}var Se=!1;function se(i,o){if(!i||Se)return"";Se=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(o){var me=function(){throw Error()};if(Object.defineProperty(me.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(me,[])}catch(oe){var te=oe}Reflect.construct(i,[],me)}else{try{me.call()}catch(oe){te=oe}i.call(me.prototype)}}else{try{throw Error()}catch(oe){te=oe}(me=i())&&typeof me.catch=="function"&&me.catch(function(){})}}catch(oe){if(oe&&te&&typeof oe.stack=="string")return[oe.stack,te.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var T=h.DetermineComponentFrameRoot(),S=T[0],k=T[1];if(S&&k){var B=S.split(`
`),K=k.split(`
`);for(p=h=0;h<B.length&&!B[h].includes("DetermineComponentFrameRoot");)h++;for(;p<K.length&&!K[p].includes("DetermineComponentFrameRoot");)p++;if(h===B.length||p===K.length)for(h=B.length-1,p=K.length-1;1<=h&&0<=p&&B[h]!==K[p];)p--;for(;1<=h&&0<=p;h--,p--)if(B[h]!==K[p]){if(h!==1||p!==1)do if(h--,p--,0>p||B[h]!==K[p]){var le=`
`+B[h].replace(" at new "," at ");return i.displayName&&le.includes("<anonymous>")&&(le=le.replace("<anonymous>",i.displayName)),le}while(1<=h&&0<=p);break}}}finally{Se=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?U(l):""}function re(i){switch(i.tag){case 26:case 27:case 5:return U(i.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 15:return i=se(i.type,!1),i;case 11:return i=se(i.type.render,!1),i;case 1:return i=se(i.type,!0),i;default:return""}}function de(i){try{var o="";do o+=re(i),i=i.return;while(i);return o}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function ge(i){var o=i,l=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(l=o.return),i=o.return;while(i)}return o.tag===3?l:null}function ke(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function F(i){if(ge(i)!==i)throw Error(r(188))}function ae(i){var o=i.alternate;if(!o){if(o=ge(i),o===null)throw Error(r(188));return o!==i?null:i}for(var l=i,h=o;;){var p=l.return;if(p===null)break;var T=p.alternate;if(T===null){if(h=p.return,h!==null){l=h;continue}break}if(p.child===T.child){for(T=p.child;T;){if(T===l)return F(p),i;if(T===h)return F(p),o;T=T.sibling}throw Error(r(188))}if(l.return!==h.return)l=p,h=T;else{for(var S=!1,k=p.child;k;){if(k===l){S=!0,l=p,h=T;break}if(k===h){S=!0,h=p,l=T;break}k=k.sibling}if(!S){for(k=T.child;k;){if(k===l){S=!0,l=T,h=p;break}if(k===h){S=!0,h=T,l=p;break}k=k.sibling}if(!S)throw Error(r(189))}}if(l.alternate!==h)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?i:o}function ve(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i;for(i=i.child;i!==null;){if(o=ve(i),o!==null)return o;i=i.sibling}return null}var ye=Array.isArray,_e=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Pe={pending:!1,data:null,method:null,action:null},Le=[],wt=-1;function dt(i){return{current:i}}function ct(i){0>wt||(i.current=Le[wt],Le[wt]=null,wt--)}function mt(i,o){wt++,Le[wt]=i.current,i.current=o}var Rn=dt(null),qr=dt(null),vn=dt(null),ma=dt(null);function pa(i,o){switch(mt(vn,o),mt(qr,i),mt(Rn,null),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)&&(o=o.namespaceURI)?WE(o):0;break;default:if(i=i===8?o.parentNode:o,o=i.tagName,i=i.namespaceURI)i=WE(i),o=JE(i,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}ct(Rn),mt(Rn,o)}function Di(){ct(Rn),ct(qr),ct(vn)}function rl(i){i.memoizedState!==null&&mt(ma,i);var o=Rn.current,l=JE(o,i.type);o!==l&&(mt(qr,i),mt(Rn,l))}function Ho(i){qr.current===i&&(ct(Rn),ct(qr)),ma.current===i&&(ct(ma),Bh._currentValue=Pe)}var Yo=Object.prototype.hasOwnProperty,Wa=n.unstable_scheduleCallback,ri=n.unstable_cancelCallback,Ja=n.unstable_shouldYield,Go=n.unstable_requestPaint,tr=n.unstable_now,di=n.unstable_getCurrentPriorityLevel,Ht=n.unstable_ImmediatePriority,On=n.unstable_UserBlockingPriority,mi=n.unstable_NormalPriority,cu=n.unstable_LowPriority,ii=n.unstable_IdlePriority,hu=n.log,ga=n.unstable_setDisableYieldValue,Xi=null,nr=null;function Ko(i){if(nr&&typeof nr.onCommitFiberRoot=="function")try{nr.onCommitFiberRoot(Xi,i,void 0,(i.current.flags&128)===128)}catch{}}function Hr(i){if(typeof hu=="function"&&ga(i),nr&&typeof nr.setStrictMode=="function")try{nr.setStrictMode(Xi,i)}catch{}}var rr=Math.clz32?Math.clz32:il,eo=Math.log,fu=Math.LN2;function il(i){return i>>>=0,i===0?32:31-(eo(i)/fu|0)|0}var Ii=128,Wi=4194304;function Pr(i){var o=i&42;if(o!==0)return o;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function gr(i,o){var l=i.pendingLanes;if(l===0)return 0;var h=0,p=i.suspendedLanes,T=i.pingedLanes,S=i.warmLanes;i=i.finishedLanes!==0;var k=l&134217727;return k!==0?(l=k&~p,l!==0?h=Pr(l):(T&=k,T!==0?h=Pr(T):i||(S=k&~S,S!==0&&(h=Pr(S))))):(k=l&~p,k!==0?h=Pr(k):T!==0?h=Pr(T):i||(S=l&~S,S!==0&&(h=Pr(S)))),h===0?0:o!==0&&o!==h&&(o&p)===0&&(p=h&-h,S=o&-o,p>=S||p===32&&(S&4194176)!==0)?o:h}function ya(i,o){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&o)===0}function Qo(i,o){switch(i){case 1:case 2:case 4:case 8:return o+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function H(){var i=Ii;return Ii<<=1,(Ii&4194176)===0&&(Ii=128),i}function Q(){var i=Wi;return Wi<<=1,(Wi&62914560)===0&&(Wi=4194304),i}function ne(i){for(var o=[],l=0;31>l;l++)o.push(i);return o}function ue(i,o){i.pendingLanes|=o,o!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function be(i,o,l,h,p,T){var S=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var k=i.entanglements,B=i.expirationTimes,K=i.hiddenUpdates;for(l=S&~l;0<l;){var le=31-rr(l),me=1<<le;k[le]=0,B[le]=-1;var te=K[le];if(te!==null)for(K[le]=null,le=0;le<te.length;le++){var oe=te[le];oe!==null&&(oe.lane&=-536870913)}l&=~me}h!==0&&Fe(i,h,0),T!==0&&p===0&&i.tag!==0&&(i.suspendedLanes|=T&~(S&~o))}function Fe(i,o,l){i.pendingLanes|=o,i.suspendedLanes&=~o;var h=31-rr(o);i.entangledLanes|=o,i.entanglements[h]=i.entanglements[h]|1073741824|l&4194218}function $e(i,o){var l=i.entangledLanes|=o;for(i=i.entanglements;l;){var h=31-rr(l),p=1<<h;p&o|i[h]&o&&(i[h]|=o),l&=~p}}function Ve(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function je(){var i=_e.p;return i!==0?i:(i=window.event,i===void 0?32:yb(i.type))}function Ae(i,o){var l=_e.p;try{return _e.p=i,o()}finally{_e.p=l}}var Oe=Math.random().toString(36).slice(2),Me="__reactFiber$"+Oe,Ye="__reactProps$"+Oe,Pt="__reactContainer$"+Oe,pn="__reactEvents$"+Oe,Jt="__reactListeners$"+Oe,kt="__reactHandles$"+Oe,dn="__reactResources$"+Oe,Yr="__reactMarker$"+Oe;function pi(i){delete i[Me],delete i[Ye],delete i[pn],delete i[Jt],delete i[kt]}function Mn(i){var o=i[Me];if(o)return o;for(var l=i.parentNode;l;){if(o=l[Pt]||l[Me]){if(l=o.alternate,o.child!==null||l!==null&&l.child!==null)for(i=nb(i);i!==null;){if(l=i[Me])return l;i=nb(i)}return o}i=l,l=i.parentNode}return null}function Vn(i){if(i=i[Me]||i[Pt]){var o=i.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return i}return null}function Oi(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i.stateNode;throw Error(r(33))}function ai(i){var o=i[dn];return o||(o=i[dn]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function jt(i){i[Yr]=!0}var va=new Set,Ji={};function ft(i,o){Bt(i,o),Bt(i+"Capture",o)}function Bt(i,o){for(Ji[i]=o,i=0;i<o.length;i++)va.add(o[i])}var ir=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),to=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),an={},Mi={};function al(i){return Yo.call(Mi,i)?!0:Yo.call(an,i)?!1:to.test(i)?Mi[i]=!0:(an[i]=!0,!1)}function _a(i,o,l){if(al(o))if(l===null)i.removeAttribute(o);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(o);return;case"boolean":var h=o.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){i.removeAttribute(o);return}}i.setAttribute(o,""+l)}}function Zo(i,o,l){if(l===null)i.removeAttribute(o);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttribute(o,""+l)}}function Ni(i,o,l,h){if(h===null)i.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(o,l,""+h)}}function Gr(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function ld(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function vg(i){var o=ld(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),h=""+i[o];if(!i.hasOwnProperty(o)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,T=l.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return p.call(this)},set:function(S){h=""+S,T.call(this,S)}}),Object.defineProperty(i,o,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(S){h=""+S},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function ol(i){i._valueTracker||(i._valueTracker=vg(i))}function Xc(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var l=o.getValue(),h="";return i&&(h=ld(i)?i.checked?"true":"false":i.value),i=h,i!==l?(o.setValue(i),!0):!1}function du(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var no=/[\n"\\]/g;function An(i){return i.replace(no,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Xo(i,o,l,h,p,T,S,k){i.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?i.type=S:i.removeAttribute("type"),o!=null?S==="number"?(o===0&&i.value===""||i.value!=o)&&(i.value=""+Gr(o)):i.value!==""+Gr(o)&&(i.value=""+Gr(o)):S!=="submit"&&S!=="reset"||i.removeAttribute("value"),o!=null?mu(i,S,Gr(o)):l!=null?mu(i,S,Gr(l)):h!=null&&i.removeAttribute("value"),p==null&&T!=null&&(i.defaultChecked=!!T),p!=null&&(i.checked=p&&typeof p!="function"&&typeof p!="symbol"),k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?i.name=""+Gr(k):i.removeAttribute("name")}function sl(i,o,l,h,p,T,S,k){if(T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(i.type=T),o!=null||l!=null){if(!(T!=="submit"&&T!=="reset"||o!=null))return;l=l!=null?""+Gr(l):"",o=o!=null?""+Gr(o):l,k||o===i.value||(i.value=o),i.defaultValue=o}h=h??p,h=typeof h!="function"&&typeof h!="symbol"&&!!h,i.checked=k?i.checked:!!h,i.defaultChecked=!!h,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(i.name=S)}function mu(i,o,l){o==="number"&&du(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function Lt(i,o,l,h){if(i=i.options,o){o={};for(var p=0;p<l.length;p++)o["$"+l[p]]=!0;for(l=0;l<i.length;l++)p=o.hasOwnProperty("$"+i[l].value),i[l].selected!==p&&(i[l].selected=p),p&&h&&(i[l].defaultSelected=!0)}else{for(l=""+Gr(l),o=null,p=0;p<i.length;p++){if(i[p].value===l){i[p].selected=!0,h&&(i[p].defaultSelected=!0);return}o!==null||i[p].disabled||(o=i[p])}o!==null&&(o.selected=!0)}}function ll(i,o,l){if(o!=null&&(o=""+Gr(o),o!==i.value&&(i.value=o),l==null)){i.defaultValue!==o&&(i.defaultValue=o);return}i.defaultValue=l!=null?""+Gr(l):""}function Wo(i,o,l,h){if(o==null){if(h!=null){if(l!=null)throw Error(r(92));if(ye(h)){if(1<h.length)throw Error(r(93));h=h[0]}l=h}l==null&&(l=""),o=l}l=Gr(o),i.defaultValue=l,h=i.textContent,h===l&&h!==""&&h!==null&&(i.value=h)}function xi(i,o){if(o){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=o;return}}i.textContent=o}var _g=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Wc(i,o,l){var h=o.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?h?i.setProperty(o,""):o==="float"?i.cssFloat="":i[o]="":h?i.setProperty(o,l):typeof l!="number"||l===0||_g.has(o)?o==="float"?i.cssFloat=l:i[o]=(""+l).trim():i[o]=l+"px"}function ud(i,o,l){if(o!=null&&typeof o!="object")throw Error(r(62));if(i=i.style,l!=null){for(var h in l)!l.hasOwnProperty(h)||o!=null&&o.hasOwnProperty(h)||(h.indexOf("--")===0?i.setProperty(h,""):h==="float"?i.cssFloat="":i[h]="");for(var p in o)h=o[p],o.hasOwnProperty(p)&&l[p]!==h&&Wc(i,p,h)}else for(var T in o)o.hasOwnProperty(T)&&Wc(i,T,o[T])}function Jc(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),wg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ta(i){return wg.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var ki=null;function pu(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var ro=null,io=null;function ao(i){var o=Vn(i);if(o&&(i=o.stateNode)){var l=i[Ye]||null;e:switch(i=o.stateNode,o.type){case"input":if(Xo(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),o=l.name,l.type==="radio"&&o!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+An(""+o)+'"][type="radio"]'),o=0;o<l.length;o++){var h=l[o];if(h!==i&&h.form===i.form){var p=h[Ye]||null;if(!p)throw Error(r(90));Xo(h,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(o=0;o<l.length;o++)h=l[o],h.form===i.form&&Xc(h)}break e;case"textarea":ll(i,l.value,l.defaultValue);break e;case"select":o=l.value,o!=null&&Lt(i,!!l.multiple,o,!1)}}}var eh=!1;function cd(i,o,l){if(eh)return i(o,l);eh=!0;try{var h=i(o);return h}finally{if(eh=!1,(ro!==null||io!==null)&&(tm(),ro&&(o=ro,i=io,io=ro=null,ao(o),i)))for(o=0;o<i.length;o++)ao(i[o])}}function ul(i,o){var l=i.stateNode;if(l===null)return null;var h=l[Ye]||null;if(h===null)return null;l=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(r(231,o,typeof l));return l}var Pi=!1;if(ir)try{var cl={};Object.defineProperty(cl,"passive",{get:function(){Pi=!0}}),window.addEventListener("test",cl,cl),window.removeEventListener("test",cl,cl)}catch{Pi=!1}var wa=null,Jo=null,oo=null;function th(){if(oo)return oo;var i,o=Jo,l=o.length,h,p="value"in wa?wa.value:wa.textContent,T=p.length;for(i=0;i<l&&o[i]===p[i];i++);var S=l-i;for(h=1;h<=S&&o[l-h]===p[T-h];h++);return oo=p.slice(i,1<h?1-h:void 0)}function Ea(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function ba(){return!0}function nh(){return!1}function ar(i){function o(l,h,p,T,S){this._reactName=l,this._targetInst=p,this.type=h,this.nativeEvent=T,this.target=S,this.currentTarget=null;for(var k in i)i.hasOwnProperty(k)&&(l=i[k],this[k]=l?l(T):T[k]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?ba:nh,this.isPropagationStopped=nh,this}return z(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=ba)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=ba)},persist:function(){},isPersistent:ba}),o}var $t={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gu=ar($t),hl=z({},$t,{view:0,detail:0}),hd=ar(hl),yu,vu,Ra,fl=z({},hl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pl,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ra&&(Ra&&i.type==="mousemove"?(yu=i.screenX-Ra.screenX,vu=i.screenY-Ra.screenY):vu=yu=0,Ra=i),yu)},movementY:function(i){return"movementY"in i?i.movementY:vu}}),Li=ar(fl),fd=z({},fl,{dataTransfer:0}),Eg=ar(fd),dl=z({},hl,{relatedTarget:0}),_u=ar(dl),rh=z({},$t,{animationName:0,elapsedTime:0,pseudoElement:0}),Tu=ar(rh),dd=z({},$t,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),wu=ar(dd),bg=z({},$t,{data:0}),ih=ar(bg),ml={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},md={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ah(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=pd[i])?!!o[i]:!1}function pl(){return ah}var gd=z({},hl,{key:function(i){if(i.key){var o=ml[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=Ea(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?md[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pl,charCode:function(i){return i.type==="keypress"?Ea(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Ea(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Eu=ar(gd),yd=z({},fl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),oh=ar(yd),so=z({},hl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pl}),vd=ar(so),_d=z({},$t,{propertyName:0,elapsedTime:0,pseudoElement:0}),Td=ar(_d),wd=z({},fl,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),bu=ar(wd),Kr=z({},$t,{newState:0,oldState:0}),Ed=ar(Kr),bd=[9,13,27,32],Aa=ir&&"CompositionEvent"in window,m=null;ir&&"documentMode"in document&&(m=document.documentMode);var E=ir&&"TextEvent"in window&&!m,A=ir&&(!Aa||m&&8<m&&11>=m),L=" ",J=!1;function ie(i,o){switch(i){case"keyup":return bd.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Te(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var It=!1;function qn(i,o){switch(i){case"compositionend":return Te(o);case"keypress":return o.which!==32?null:(J=!0,L);case"textInput":return i=o.data,i===L&&J?null:i;default:return null}}function Ot(i,o){if(It)return i==="compositionend"||!Aa&&ie(i,o)?(i=th(),oo=Jo=wa=null,It=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return A&&o.locale!=="ko"?null:o.data;default:return null}}var or={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!or[i.type]:o==="textarea"}function lo(i,o,l,h){ro?io?io.push(h):io=[h]:ro=h,o=om(o,"onChange"),0<o.length&&(l=new gu("onChange","change",null,l,h),i.push({event:l,listeners:o}))}var yr=null,Sa=null;function sh(i){GE(i,0)}function Rd(i){var o=Oi(i);if(Xc(o))return i}function ET(i,o){if(i==="change")return o}var bT=!1;if(ir){var Rg;if(ir){var Ag="oninput"in document;if(!Ag){var RT=document.createElement("div");RT.setAttribute("oninput","return;"),Ag=typeof RT.oninput=="function"}Rg=Ag}else Rg=!1;bT=Rg&&(!document.documentMode||9<document.documentMode)}function AT(){yr&&(yr.detachEvent("onpropertychange",ST),Sa=yr=null)}function ST(i){if(i.propertyName==="value"&&Rd(Sa)){var o=[];lo(o,Sa,i,pu(i)),cd(sh,o)}}function RI(i,o,l){i==="focusin"?(AT(),yr=o,Sa=l,yr.attachEvent("onpropertychange",ST)):i==="focusout"&&AT()}function AI(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Rd(Sa)}function SI(i,o){if(i==="click")return Rd(o)}function CI(i,o){if(i==="input"||i==="change")return Rd(o)}function DI(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var gi=typeof Object.is=="function"?Object.is:DI;function lh(i,o){if(gi(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var l=Object.keys(i),h=Object.keys(o);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var p=l[h];if(!Yo.call(o,p)||!gi(i[p],o[p]))return!1}return!0}function CT(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function DT(i,o){var l=CT(i);i=0;for(var h;l;){if(l.nodeType===3){if(h=i+l.textContent.length,i<=o&&h>=o)return{node:l,offset:o-i};i=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=CT(l)}}function IT(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?IT(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function OT(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var o=du(i.document);o instanceof i.HTMLIFrameElement;){try{var l=typeof o.contentWindow.location.href=="string"}catch{l=!1}if(l)i=o.contentWindow;else break;o=du(i.document)}return o}function Sg(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function II(i,o){var l=OT(o);o=i.focusedElem;var h=i.selectionRange;if(l!==o&&o&&o.ownerDocument&&IT(o.ownerDocument.documentElement,o)){if(h!==null&&Sg(o)){if(i=h.start,l=h.end,l===void 0&&(l=i),"selectionStart"in o)o.selectionStart=i,o.selectionEnd=Math.min(l,o.value.length);else if(l=(i=o.ownerDocument||document)&&i.defaultView||window,l.getSelection){l=l.getSelection();var p=o.textContent.length,T=Math.min(h.start,p);h=h.end===void 0?T:Math.min(h.end,p),!l.extend&&T>h&&(p=h,h=T,T=p),p=DT(o,T);var S=DT(o,h);p&&S&&(l.rangeCount!==1||l.anchorNode!==p.node||l.anchorOffset!==p.offset||l.focusNode!==S.node||l.focusOffset!==S.offset)&&(i=i.createRange(),i.setStart(p.node,p.offset),l.removeAllRanges(),T>h?(l.addRange(i),l.extend(S.node,S.offset)):(i.setEnd(S.node,S.offset),l.addRange(i)))}}for(i=[],l=o;l=l.parentNode;)l.nodeType===1&&i.push({element:l,left:l.scrollLeft,top:l.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<i.length;o++)l=i[o],l.element.scrollLeft=l.left,l.element.scrollTop=l.top}}var OI=ir&&"documentMode"in document&&11>=document.documentMode,Ru=null,Cg=null,uh=null,Dg=!1;function MT(i,o,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Dg||Ru==null||Ru!==du(h)||(h=Ru,"selectionStart"in h&&Sg(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),uh&&lh(uh,h)||(uh=h,h=om(Cg,"onSelect"),0<h.length&&(o=new gu("onSelect","select",null,o,l),i.push({event:o,listeners:h}),o.target=Ru)))}function gl(i,o){var l={};return l[i.toLowerCase()]=o.toLowerCase(),l["Webkit"+i]="webkit"+o,l["Moz"+i]="moz"+o,l}var Au={animationend:gl("Animation","AnimationEnd"),animationiteration:gl("Animation","AnimationIteration"),animationstart:gl("Animation","AnimationStart"),transitionrun:gl("Transition","TransitionRun"),transitionstart:gl("Transition","TransitionStart"),transitioncancel:gl("Transition","TransitionCancel"),transitionend:gl("Transition","TransitionEnd")},Ig={},NT={};ir&&(NT=document.createElement("div").style,"AnimationEvent"in window||(delete Au.animationend.animation,delete Au.animationiteration.animation,delete Au.animationstart.animation),"TransitionEvent"in window||delete Au.transitionend.transition);function yl(i){if(Ig[i])return Ig[i];if(!Au[i])return i;var o=Au[i],l;for(l in o)if(o.hasOwnProperty(l)&&l in NT)return Ig[i]=o[l];return i}var xT=yl("animationend"),kT=yl("animationiteration"),PT=yl("animationstart"),MI=yl("transitionrun"),NI=yl("transitionstart"),xI=yl("transitioncancel"),LT=yl("transitionend"),VT=new Map,UT="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function ea(i,o){VT.set(i,o),ft(o,[i])}var Vi=[],Su=0,Og=0;function Ad(){for(var i=Su,o=Og=Su=0;o<i;){var l=Vi[o];Vi[o++]=null;var h=Vi[o];Vi[o++]=null;var p=Vi[o];Vi[o++]=null;var T=Vi[o];if(Vi[o++]=null,h!==null&&p!==null){var S=h.pending;S===null?p.next=p:(p.next=S.next,S.next=p),h.pending=p}T!==0&&zT(l,p,T)}}function Sd(i,o,l,h){Vi[Su++]=i,Vi[Su++]=o,Vi[Su++]=l,Vi[Su++]=h,Og|=h,i.lanes|=h,i=i.alternate,i!==null&&(i.lanes|=h)}function Mg(i,o,l,h){return Sd(i,o,l,h),Cd(i)}function es(i,o){return Sd(i,null,null,o),Cd(i)}function zT(i,o,l){i.lanes|=l;var h=i.alternate;h!==null&&(h.lanes|=l);for(var p=!1,T=i.return;T!==null;)T.childLanes|=l,h=T.alternate,h!==null&&(h.childLanes|=l),T.tag===22&&(i=T.stateNode,i===null||i._visibility&1||(p=!0)),i=T,T=T.return;p&&o!==null&&i.tag===3&&(T=i.stateNode,p=31-rr(l),T=T.hiddenUpdates,i=T[p],i===null?T[p]=[o]:i.push(o),o.lane=l|536870912)}function Cd(i){if(50<kh)throw kh=0,Vy=null,Error(r(185));for(var o=i.return;o!==null;)i=o,o=i.return;return i.tag===3?i.stateNode:null}var Cu={},jT=new WeakMap;function Ui(i,o){if(typeof i=="object"&&i!==null){var l=jT.get(i);return l!==void 0?l:(o={value:i,source:o,stack:de(o)},jT.set(i,o),o)}return{value:i,source:o,stack:de(o)}}var Du=[],Iu=0,Dd=null,Id=0,zi=[],ji=0,vl=null,uo=1,co="";function _l(i,o){Du[Iu++]=Id,Du[Iu++]=Dd,Dd=i,Id=o}function BT(i,o,l){zi[ji++]=uo,zi[ji++]=co,zi[ji++]=vl,vl=i;var h=uo;i=co;var p=32-rr(h)-1;h&=~(1<<p),l+=1;var T=32-rr(o)+p;if(30<T){var S=p-p%5;T=(h&(1<<S)-1).toString(32),h>>=S,p-=S,uo=1<<32-rr(o)+p|l<<p|h,co=T+i}else uo=1<<T|l<<p|h,co=i}function Ng(i){i.return!==null&&(_l(i,1),BT(i,1,0))}function xg(i){for(;i===Dd;)Dd=Du[--Iu],Du[Iu]=null,Id=Du[--Iu],Du[Iu]=null;for(;i===vl;)vl=zi[--ji],zi[ji]=null,co=zi[--ji],zi[ji]=null,uo=zi[--ji],zi[ji]=null}var Qr=null,vr=null,Vt=!1,ta=null,Ca=!1,kg=Error(r(519));function Tl(i){var o=Error(r(418,""));throw fh(Ui(o,i)),kg}function $T(i){var o=i.stateNode,l=i.type,h=i.memoizedProps;switch(o[Me]=i,o[Ye]=h,l){case"dialog":Ct("cancel",o),Ct("close",o);break;case"iframe":case"object":case"embed":Ct("load",o);break;case"video":case"audio":for(l=0;l<Lh.length;l++)Ct(Lh[l],o);break;case"source":Ct("error",o);break;case"img":case"image":case"link":Ct("error",o),Ct("load",o);break;case"details":Ct("toggle",o);break;case"input":Ct("invalid",o),sl(o,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0),ol(o);break;case"select":Ct("invalid",o);break;case"textarea":Ct("invalid",o),Wo(o,h.value,h.defaultValue,h.children),ol(o)}l=h.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||o.textContent===""+l||h.suppressHydrationWarning===!0||XE(o.textContent,l)?(h.popover!=null&&(Ct("beforetoggle",o),Ct("toggle",o)),h.onScroll!=null&&Ct("scroll",o),h.onScrollEnd!=null&&Ct("scrollend",o),h.onClick!=null&&(o.onclick=sm),o=!0):o=!1,o||Tl(i)}function FT(i){for(Qr=i.return;Qr;)switch(Qr.tag){case 3:case 27:Ca=!0;return;case 5:case 13:Ca=!1;return;default:Qr=Qr.return}}function ch(i){if(i!==Qr)return!1;if(!Vt)return FT(i),Vt=!0,!1;var o=!1,l;if((l=i.tag!==3&&i.tag!==27)&&((l=i.tag===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||ev(i.type,i.memoizedProps)),l=!l),l&&(o=!0),o&&vr&&Tl(i),FT(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8)if(l=i.data,l==="/$"){if(o===0){vr=ra(i.nextSibling);break e}o--}else l!=="$"&&l!=="$!"&&l!=="$?"||o++;i=i.nextSibling}vr=null}}else vr=Qr?ra(i.stateNode.nextSibling):null;return!0}function hh(){vr=Qr=null,Vt=!1}function fh(i){ta===null?ta=[i]:ta.push(i)}var dh=Error(r(460)),qT=Error(r(474)),Pg={then:function(){}};function HT(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Od(){}function YT(i,o,l){switch(l=i[l],l===void 0?i.push(o):l!==o&&(o.then(Od,Od),o=l),o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,i===dh?Error(r(483)):i;default:if(typeof o.status=="string")o.then(Od,Od);else{if(i=on,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=o,i.status="pending",i.then(function(h){if(o.status==="pending"){var p=o;p.status="fulfilled",p.value=h}},function(h){if(o.status==="pending"){var p=o;p.status="rejected",p.reason=h}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,i===dh?Error(r(483)):i}throw mh=o,dh}}var mh=null;function GT(){if(mh===null)throw Error(r(459));var i=mh;return mh=null,i}var Ou=null,ph=0;function Md(i){var o=ph;return ph+=1,Ou===null&&(Ou=[]),YT(Ou,i,o)}function gh(i,o){o=o.props.ref,i.ref=o!==void 0?o:null}function Nd(i,o){throw o.$$typeof===s?Error(r(525)):(i=Object.prototype.toString.call(o),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i)))}function KT(i){var o=i._init;return o(i._payload)}function QT(i){function o(X,G){if(i){var ee=X.deletions;ee===null?(X.deletions=[G],X.flags|=16):ee.push(G)}}function l(X,G){if(!i)return null;for(;G!==null;)o(X,G),G=G.sibling;return null}function h(X){for(var G=new Map;X!==null;)X.key!==null?G.set(X.key,X):G.set(X.index,X),X=X.sibling;return G}function p(X,G){return X=fs(X,G),X.index=0,X.sibling=null,X}function T(X,G,ee){return X.index=ee,i?(ee=X.alternate,ee!==null?(ee=ee.index,ee<G?(X.flags|=33554434,G):ee):(X.flags|=33554434,G)):(X.flags|=1048576,G)}function S(X){return i&&X.alternate===null&&(X.flags|=33554434),X}function k(X,G,ee,ce){return G===null||G.tag!==6?(G=Iy(ee,X.mode,ce),G.return=X,G):(G=p(G,ee),G.return=X,G)}function B(X,G,ee,ce){var xe=ee.type;return xe===f?le(X,G,ee.props.children,ce,ee.key):G!==null&&(G.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===x&&KT(xe)===G.type)?(G=p(G,ee.props),gh(G,ee),G.return=X,G):(G=Zd(ee.type,ee.key,ee.props,null,X.mode,ce),gh(G,ee),G.return=X,G)}function K(X,G,ee,ce){return G===null||G.tag!==4||G.stateNode.containerInfo!==ee.containerInfo||G.stateNode.implementation!==ee.implementation?(G=Oy(ee,X.mode,ce),G.return=X,G):(G=p(G,ee.children||[]),G.return=X,G)}function le(X,G,ee,ce,xe){return G===null||G.tag!==7?(G=Ol(ee,X.mode,ce,xe),G.return=X,G):(G=p(G,ee),G.return=X,G)}function me(X,G,ee){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=Iy(""+G,X.mode,ee),G.return=X,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case u:return ee=Zd(G.type,G.key,G.props,null,X.mode,ee),gh(ee,G),ee.return=X,ee;case c:return G=Oy(G,X.mode,ee),G.return=X,G;case x:var ce=G._init;return G=ce(G._payload),me(X,G,ee)}if(ye(G)||Y(G))return G=Ol(G,X.mode,ee,null),G.return=X,G;if(typeof G.then=="function")return me(X,Md(G),ee);if(G.$$typeof===b)return me(X,Gd(X,G),ee);Nd(X,G)}return null}function te(X,G,ee,ce){var xe=G!==null?G.key:null;if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return xe!==null?null:k(X,G,""+ee,ce);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case u:return ee.key===xe?B(X,G,ee,ce):null;case c:return ee.key===xe?K(X,G,ee,ce):null;case x:return xe=ee._init,ee=xe(ee._payload),te(X,G,ee,ce)}if(ye(ee)||Y(ee))return xe!==null?null:le(X,G,ee,ce,null);if(typeof ee.then=="function")return te(X,G,Md(ee),ce);if(ee.$$typeof===b)return te(X,G,Gd(X,ee),ce);Nd(X,ee)}return null}function oe(X,G,ee,ce,xe){if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return X=X.get(ee)||null,k(G,X,""+ce,xe);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case u:return X=X.get(ce.key===null?ee:ce.key)||null,B(G,X,ce,xe);case c:return X=X.get(ce.key===null?ee:ce.key)||null,K(G,X,ce,xe);case x:var vt=ce._init;return ce=vt(ce._payload),oe(X,G,ee,ce,xe)}if(ye(ce)||Y(ce))return X=X.get(ee)||null,le(G,X,ce,xe,null);if(typeof ce.then=="function")return oe(X,G,ee,Md(ce),xe);if(ce.$$typeof===b)return oe(X,G,ee,Gd(G,ce),xe);Nd(G,ce)}return null}function Be(X,G,ee,ce){for(var xe=null,vt=null,qe=G,Ke=G=0,ur=null;qe!==null&&Ke<ee.length;Ke++){qe.index>Ke?(ur=qe,qe=null):ur=qe.sibling;var Ut=te(X,qe,ee[Ke],ce);if(Ut===null){qe===null&&(qe=ur);break}i&&qe&&Ut.alternate===null&&o(X,qe),G=T(Ut,G,Ke),vt===null?xe=Ut:vt.sibling=Ut,vt=Ut,qe=ur}if(Ke===ee.length)return l(X,qe),Vt&&_l(X,Ke),xe;if(qe===null){for(;Ke<ee.length;Ke++)qe=me(X,ee[Ke],ce),qe!==null&&(G=T(qe,G,Ke),vt===null?xe=qe:vt.sibling=qe,vt=qe);return Vt&&_l(X,Ke),xe}for(qe=h(qe);Ke<ee.length;Ke++)ur=oe(qe,X,Ke,ee[Ke],ce),ur!==null&&(i&&ur.alternate!==null&&qe.delete(ur.key===null?Ke:ur.key),G=T(ur,G,Ke),vt===null?xe=ur:vt.sibling=ur,vt=ur);return i&&qe.forEach(function(_s){return o(X,_s)}),Vt&&_l(X,Ke),xe}function ot(X,G,ee,ce){if(ee==null)throw Error(r(151));for(var xe=null,vt=null,qe=G,Ke=G=0,ur=null,Ut=ee.next();qe!==null&&!Ut.done;Ke++,Ut=ee.next()){qe.index>Ke?(ur=qe,qe=null):ur=qe.sibling;var _s=te(X,qe,Ut.value,ce);if(_s===null){qe===null&&(qe=ur);break}i&&qe&&_s.alternate===null&&o(X,qe),G=T(_s,G,Ke),vt===null?xe=_s:vt.sibling=_s,vt=_s,qe=ur}if(Ut.done)return l(X,qe),Vt&&_l(X,Ke),xe;if(qe===null){for(;!Ut.done;Ke++,Ut=ee.next())Ut=me(X,Ut.value,ce),Ut!==null&&(G=T(Ut,G,Ke),vt===null?xe=Ut:vt.sibling=Ut,vt=Ut);return Vt&&_l(X,Ke),xe}for(qe=h(qe);!Ut.done;Ke++,Ut=ee.next())Ut=oe(qe,X,Ke,Ut.value,ce),Ut!==null&&(i&&Ut.alternate!==null&&qe.delete(Ut.key===null?Ke:Ut.key),G=T(Ut,G,Ke),vt===null?xe=Ut:vt.sibling=Ut,vt=Ut);return i&&qe.forEach(function(G2){return o(X,G2)}),Vt&&_l(X,Ke),xe}function Dn(X,G,ee,ce){if(typeof ee=="object"&&ee!==null&&ee.type===f&&ee.key===null&&(ee=ee.props.children),typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case u:e:{for(var xe=ee.key;G!==null;){if(G.key===xe){if(xe=ee.type,xe===f){if(G.tag===7){l(X,G.sibling),ce=p(G,ee.props.children),ce.return=X,X=ce;break e}}else if(G.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===x&&KT(xe)===G.type){l(X,G.sibling),ce=p(G,ee.props),gh(ce,ee),ce.return=X,X=ce;break e}l(X,G);break}else o(X,G);G=G.sibling}ee.type===f?(ce=Ol(ee.props.children,X.mode,ce,ee.key),ce.return=X,X=ce):(ce=Zd(ee.type,ee.key,ee.props,null,X.mode,ce),gh(ce,ee),ce.return=X,X=ce)}return S(X);case c:e:{for(xe=ee.key;G!==null;){if(G.key===xe)if(G.tag===4&&G.stateNode.containerInfo===ee.containerInfo&&G.stateNode.implementation===ee.implementation){l(X,G.sibling),ce=p(G,ee.children||[]),ce.return=X,X=ce;break e}else{l(X,G);break}else o(X,G);G=G.sibling}ce=Oy(ee,X.mode,ce),ce.return=X,X=ce}return S(X);case x:return xe=ee._init,ee=xe(ee._payload),Dn(X,G,ee,ce)}if(ye(ee))return Be(X,G,ee,ce);if(Y(ee)){if(xe=Y(ee),typeof xe!="function")throw Error(r(150));return ee=xe.call(ee),ot(X,G,ee,ce)}if(typeof ee.then=="function")return Dn(X,G,Md(ee),ce);if(ee.$$typeof===b)return Dn(X,G,Gd(X,ee),ce);Nd(X,ee)}return typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint"?(ee=""+ee,G!==null&&G.tag===6?(l(X,G.sibling),ce=p(G,ee),ce.return=X,X=ce):(l(X,G),ce=Iy(ee,X.mode,ce),ce.return=X,X=ce),S(X)):l(X,G)}return function(X,G,ee,ce){try{ph=0;var xe=Dn(X,G,ee,ce);return Ou=null,xe}catch(qe){if(qe===dh)throw qe;var vt=qi(29,qe,null,X.mode);return vt.lanes=ce,vt.return=X,vt}finally{}}}var wl=QT(!0),ZT=QT(!1),Mu=dt(null),xd=dt(0);function XT(i,o){i=Eo,mt(xd,i),mt(Mu,o),Eo=i|o.baseLanes}function Lg(){mt(xd,Eo),mt(Mu,Mu.current)}function Vg(){Eo=xd.current,ct(Mu),ct(xd)}var Bi=dt(null),Da=null;function ts(i){var o=i.alternate;mt(Yn,Yn.current&1),mt(Bi,i),Da===null&&(o===null||Mu.current!==null||o.memoizedState!==null)&&(Da=i)}function WT(i){if(i.tag===22){if(mt(Yn,Yn.current),mt(Bi,i),Da===null){var o=i.alternate;o!==null&&o.memoizedState!==null&&(Da=i)}}else ns()}function ns(){mt(Yn,Yn.current),mt(Bi,Bi.current)}function ho(i){ct(Bi),Da===i&&(Da=null),ct(Yn)}var Yn=dt(0);function kd(i){for(var o=i;o!==null;){if(o.tag===13){var l=o.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var kI=typeof AbortController<"u"?AbortController:function(){var i=[],o=this.signal={aborted:!1,addEventListener:function(l,h){i.push(h)}};this.abort=function(){o.aborted=!0,i.forEach(function(l){return l()})}},PI=n.unstable_scheduleCallback,LI=n.unstable_NormalPriority,Gn={$$typeof:b,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ug(){return{controller:new kI,data:new Map,refCount:0}}function yh(i){i.refCount--,i.refCount===0&&PI(LI,function(){i.controller.abort()})}var vh=null,zg=0,Nu=0,xu=null;function VI(i,o){if(vh===null){var l=vh=[];zg=0,Nu=Hy(),xu={status:"pending",value:void 0,then:function(h){l.push(h)}}}return zg++,o.then(JT,JT),o}function JT(){if(--zg===0&&vh!==null){xu!==null&&(xu.status="fulfilled");var i=vh;vh=null,Nu=0,xu=null;for(var o=0;o<i.length;o++)(0,i[o])()}}function UI(i,o){var l=[],h={status:"pending",value:null,reason:null,then:function(p){l.push(p)}};return i.then(function(){h.status="fulfilled",h.value=o;for(var p=0;p<l.length;p++)(0,l[p])(o)},function(p){for(h.status="rejected",h.reason=p,p=0;p<l.length;p++)(0,l[p])(void 0)}),h}var ew=O.S;O.S=function(i,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&VI(i,o),ew!==null&&ew(i,o)};var El=dt(null);function jg(){var i=El.current;return i!==null?i:on.pooledCache}function Pd(i,o){o===null?mt(El,El.current):mt(El,o.pool)}function tw(){var i=jg();return i===null?null:{parent:Gn._currentValue,pool:i}}var rs=0,pt=null,Qt=null,Un=null,Ld=!1,ku=!1,bl=!1,Vd=0,_h=0,Pu=null,zI=0;function Nn(){throw Error(r(321))}function Bg(i,o){if(o===null)return!1;for(var l=0;l<o.length&&l<i.length;l++)if(!gi(i[l],o[l]))return!1;return!0}function $g(i,o,l,h,p,T){return rs=T,pt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,O.H=i===null||i.memoizedState===null?Rl:is,bl=!1,T=l(h,p),bl=!1,ku&&(T=rw(o,l,h,p)),nw(i),T}function nw(i){O.H=Ia;var o=Qt!==null&&Qt.next!==null;if(rs=0,Un=Qt=pt=null,Ld=!1,_h=0,Pu=null,o)throw Error(r(300));i===null||sr||(i=i.dependencies,i!==null&&Yd(i)&&(sr=!0))}function rw(i,o,l,h){pt=i;var p=0;do{if(ku&&(Pu=null),_h=0,ku=!1,25<=p)throw Error(r(301));if(p+=1,Un=Qt=null,i.updateQueue!=null){var T=i.updateQueue;T.lastEffect=null,T.events=null,T.stores=null,T.memoCache!=null&&(T.memoCache.index=0)}O.H=Al,T=o(l,h)}while(ku);return T}function jI(){var i=O.H,o=i.useState()[0];return o=typeof o.then=="function"?Th(o):o,i=i.useState()[0],(Qt!==null?Qt.memoizedState:null)!==i&&(pt.flags|=1024),o}function Fg(){var i=Vd!==0;return Vd=0,i}function qg(i,o,l){o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~l}function Hg(i){if(Ld){for(i=i.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}Ld=!1}rs=0,Un=Qt=pt=null,ku=!1,_h=Vd=0,Pu=null}function oi(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Un===null?pt.memoizedState=Un=i:Un=Un.next=i,Un}function zn(){if(Qt===null){var i=pt.alternate;i=i!==null?i.memoizedState:null}else i=Qt.next;var o=Un===null?pt.memoizedState:Un.next;if(o!==null)Un=o,Qt=i;else{if(i===null)throw pt.alternate===null?Error(r(467)):Error(r(310));Qt=i,i={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},Un===null?pt.memoizedState=Un=i:Un=Un.next=i}return Un}var Ud;Ud=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Th(i){var o=_h;return _h+=1,Pu===null&&(Pu=[]),i=YT(Pu,i,o),o=pt,(Un===null?o.memoizedState:Un.next)===null&&(o=o.alternate,O.H=o===null||o.memoizedState===null?Rl:is),i}function zd(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Th(i);if(i.$$typeof===b)return Lr(i)}throw Error(r(438,String(i)))}function Yg(i){var o=null,l=pt.updateQueue;if(l!==null&&(o=l.memoCache),o==null){var h=pt.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(o={data:h.data.map(function(p){return p.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),l===null&&(l=Ud(),pt.updateQueue=l),l.memoCache=o,l=o.data[o.index],l===void 0)for(l=o.data[o.index]=Array(i),h=0;h<i;h++)l[h]=$;return o.index++,l}function fo(i,o){return typeof o=="function"?o(i):o}function jd(i){var o=zn();return Gg(o,Qt,i)}function Gg(i,o,l){var h=i.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=l;var p=i.baseQueue,T=h.pending;if(T!==null){if(p!==null){var S=p.next;p.next=T.next,T.next=S}o.baseQueue=p=T,h.pending=null}if(T=i.baseState,p===null)i.memoizedState=T;else{o=p.next;var k=S=null,B=null,K=o,le=!1;do{var me=K.lane&-536870913;if(me!==K.lane?(Mt&me)===me:(rs&me)===me){var te=K.revertLane;if(te===0)B!==null&&(B=B.next={lane:0,revertLane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),me===Nu&&(le=!0);else if((rs&te)===te){K=K.next,te===Nu&&(le=!0);continue}else me={lane:0,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},B===null?(k=B=me,S=T):B=B.next=me,pt.lanes|=te,ds|=te;me=K.action,bl&&l(T,me),T=K.hasEagerState?K.eagerState:l(T,me)}else te={lane:me,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},B===null?(k=B=te,S=T):B=B.next=te,pt.lanes|=me,ds|=me;K=K.next}while(K!==null&&K!==o);if(B===null?S=T:B.next=k,!gi(T,i.memoizedState)&&(sr=!0,le&&(l=xu,l!==null)))throw l;i.memoizedState=T,i.baseState=S,i.baseQueue=B,h.lastRenderedState=T}return p===null&&(h.lanes=0),[i.memoizedState,h.dispatch]}function Kg(i){var o=zn(),l=o.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var h=l.dispatch,p=l.pending,T=o.memoizedState;if(p!==null){l.pending=null;var S=p=p.next;do T=i(T,S.action),S=S.next;while(S!==p);gi(T,o.memoizedState)||(sr=!0),o.memoizedState=T,o.baseQueue===null&&(o.baseState=T),l.lastRenderedState=T}return[T,h]}function iw(i,o,l){var h=pt,p=zn(),T=Vt;if(T){if(l===void 0)throw Error(r(407));l=l()}else l=o();var S=!gi((Qt||p).memoizedState,l);if(S&&(p.memoizedState=l,sr=!0),p=p.queue,Xg(sw.bind(null,h,p,i),[i]),p.getSnapshot!==o||S||Un!==null&&Un.memoizedState.tag&1){if(h.flags|=2048,Lu(9,ow.bind(null,h,p,l,o),{destroy:void 0},null),on===null)throw Error(r(349));T||(rs&60)!==0||aw(h,o,l)}return l}function aw(i,o,l){i.flags|=16384,i={getSnapshot:o,value:l},o=pt.updateQueue,o===null?(o=Ud(),pt.updateQueue=o,o.stores=[i]):(l=o.stores,l===null?o.stores=[i]:l.push(i))}function ow(i,o,l,h){o.value=l,o.getSnapshot=h,lw(o)&&uw(i)}function sw(i,o,l){return l(function(){lw(o)&&uw(i)})}function lw(i){var o=i.getSnapshot;i=i.value;try{var l=o();return!gi(i,l)}catch{return!0}}function uw(i){var o=es(i,2);o!==null&&Zr(o,i,2)}function Qg(i){var o=oi();if(typeof i=="function"){var l=i;if(i=l(),bl){Hr(!0);try{l()}finally{Hr(!1)}}}return o.memoizedState=o.baseState=i,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fo,lastRenderedState:i},o}function cw(i,o,l,h){return i.baseState=l,Gg(i,Qt,typeof h=="function"?h:fo)}function BI(i,o,l,h,p){if(Fd(i))throw Error(r(485));if(i=o.action,i!==null){var T={payload:p,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){T.listeners.push(S)}};O.T!==null?l(!0):T.isTransition=!1,h(T),l=o.pending,l===null?(T.next=o.pending=T,hw(o,T)):(T.next=l.next,o.pending=l.next=T)}}function hw(i,o){var l=o.action,h=o.payload,p=i.state;if(o.isTransition){var T=O.T,S={};O.T=S;try{var k=l(p,h),B=O.S;B!==null&&B(S,k),fw(i,o,k)}catch(K){Zg(i,o,K)}finally{O.T=T}}else try{T=l(p,h),fw(i,o,T)}catch(K){Zg(i,o,K)}}function fw(i,o,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(h){dw(i,o,h)},function(h){return Zg(i,o,h)}):dw(i,o,l)}function dw(i,o,l){o.status="fulfilled",o.value=l,mw(o),i.state=l,o=i.pending,o!==null&&(l=o.next,l===o?i.pending=null:(l=l.next,o.next=l,hw(i,l)))}function Zg(i,o,l){var h=i.pending;if(i.pending=null,h!==null){h=h.next;do o.status="rejected",o.reason=l,mw(o),o=o.next;while(o!==h)}i.action=null}function mw(i){i=i.listeners;for(var o=0;o<i.length;o++)(0,i[o])()}function pw(i,o){return o}function gw(i,o){if(Vt){var l=on.formState;if(l!==null){e:{var h=pt;if(Vt){if(vr){t:{for(var p=vr,T=Ca;p.nodeType!==8;){if(!T){p=null;break t}if(p=ra(p.nextSibling),p===null){p=null;break t}}T=p.data,p=T==="F!"||T==="F"?p:null}if(p){vr=ra(p.nextSibling),h=p.data==="F!";break e}}Tl(h)}h=!1}h&&(o=l[0])}}return l=oi(),l.memoizedState=l.baseState=o,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pw,lastRenderedState:o},l.queue=h,l=kw.bind(null,pt,h),h.dispatch=l,h=Qg(!1),T=ny.bind(null,pt,!1,h.queue),h=oi(),p={state:o,dispatch:null,action:i,pending:null},h.queue=p,l=BI.bind(null,pt,p,T,l),p.dispatch=l,h.memoizedState=i,[o,l,!1]}function yw(i){var o=zn();return vw(o,Qt,i)}function vw(i,o,l){o=Gg(i,o,pw)[0],i=jd(fo)[0],o=typeof o=="object"&&o!==null&&typeof o.then=="function"?Th(o):o;var h=zn(),p=h.queue,T=p.dispatch;return l!==h.memoizedState&&(pt.flags|=2048,Lu(9,$I.bind(null,p,l),{destroy:void 0},null)),[o,T,i]}function $I(i,o){i.action=o}function _w(i){var o=zn(),l=Qt;if(l!==null)return vw(o,l,i);zn(),o=o.memoizedState,l=zn();var h=l.queue.dispatch;return l.memoizedState=i,[o,h,!1]}function Lu(i,o,l,h){return i={tag:i,create:o,inst:l,deps:h,next:null},o=pt.updateQueue,o===null&&(o=Ud(),pt.updateQueue=o),l=o.lastEffect,l===null?o.lastEffect=i.next=i:(h=l.next,l.next=i,i.next=h,o.lastEffect=i),i}function Tw(){return zn().memoizedState}function Bd(i,o,l,h){var p=oi();pt.flags|=i,p.memoizedState=Lu(1|o,l,{destroy:void 0},h===void 0?null:h)}function $d(i,o,l,h){var p=zn();h=h===void 0?null:h;var T=p.memoizedState.inst;Qt!==null&&h!==null&&Bg(h,Qt.memoizedState.deps)?p.memoizedState=Lu(o,l,T,h):(pt.flags|=i,p.memoizedState=Lu(1|o,l,T,h))}function ww(i,o){Bd(8390656,8,i,o)}function Xg(i,o){$d(2048,8,i,o)}function Ew(i,o){return $d(4,2,i,o)}function bw(i,o){return $d(4,4,i,o)}function Rw(i,o){if(typeof o=="function"){i=i();var l=o(i);return function(){typeof l=="function"?l():o(null)}}if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function Aw(i,o,l){l=l!=null?l.concat([i]):null,$d(4,4,Rw.bind(null,o,i),l)}function Wg(){}function Sw(i,o){var l=zn();o=o===void 0?null:o;var h=l.memoizedState;return o!==null&&Bg(o,h[1])?h[0]:(l.memoizedState=[i,o],i)}function Cw(i,o){var l=zn();o=o===void 0?null:o;var h=l.memoizedState;if(o!==null&&Bg(o,h[1]))return h[0];if(h=i(),bl){Hr(!0);try{i()}finally{Hr(!1)}}return l.memoizedState=[h,o],h}function Jg(i,o,l){return l===void 0||(rs&1073741824)!==0?i.memoizedState=o:(i.memoizedState=l,i=IE(),pt.lanes|=i,ds|=i,l)}function Dw(i,o,l,h){return gi(l,o)?l:Mu.current!==null?(i=Jg(i,l,h),gi(i,o)||(sr=!0),i):(rs&42)===0?(sr=!0,i.memoizedState=l):(i=IE(),pt.lanes|=i,ds|=i,o)}function Iw(i,o,l,h,p){var T=_e.p;_e.p=T!==0&&8>T?T:8;var S=O.T,k={};O.T=k,ny(i,!1,o,l);try{var B=p(),K=O.S;if(K!==null&&K(k,B),B!==null&&typeof B=="object"&&typeof B.then=="function"){var le=UI(B,h);wh(i,o,le,Ti(i))}else wh(i,o,h,Ti(i))}catch(me){wh(i,o,{then:function(){},status:"rejected",reason:me},Ti())}finally{_e.p=T,O.T=S}}function FI(){}function ey(i,o,l,h){if(i.tag!==5)throw Error(r(476));var p=Ow(i).queue;Iw(i,p,o,Pe,l===null?FI:function(){return Mw(i),l(h)})}function Ow(i){var o=i.memoizedState;if(o!==null)return o;o={memoizedState:Pe,baseState:Pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fo,lastRenderedState:Pe},next:null};var l={};return o.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fo,lastRenderedState:l},next:null},i.memoizedState=o,i=i.alternate,i!==null&&(i.memoizedState=o),o}function Mw(i){var o=Ow(i).next.queue;wh(i,o,{},Ti())}function ty(){return Lr(Bh)}function Nw(){return zn().memoizedState}function xw(){return zn().memoizedState}function qI(i){for(var o=i.return;o!==null;){switch(o.tag){case 24:case 3:var l=Ti();i=ss(l);var h=ls(o,i,l);h!==null&&(Zr(h,o,l),Rh(h,o,l)),o={cache:Ug()},i.payload=o;return}o=o.return}}function HI(i,o,l){var h=Ti();l={lane:h,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Fd(i)?Pw(o,l):(l=Mg(i,o,l,h),l!==null&&(Zr(l,i,h),Lw(l,o,h)))}function kw(i,o,l){var h=Ti();wh(i,o,l,h)}function wh(i,o,l,h){var p={lane:h,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Fd(i))Pw(o,p);else{var T=i.alternate;if(i.lanes===0&&(T===null||T.lanes===0)&&(T=o.lastRenderedReducer,T!==null))try{var S=o.lastRenderedState,k=T(S,l);if(p.hasEagerState=!0,p.eagerState=k,gi(k,S))return Sd(i,o,p,0),on===null&&Ad(),!1}catch{}finally{}if(l=Mg(i,o,p,h),l!==null)return Zr(l,i,h),Lw(l,o,h),!0}return!1}function ny(i,o,l,h){if(h={lane:2,revertLane:Hy(),action:h,hasEagerState:!1,eagerState:null,next:null},Fd(i)){if(o)throw Error(r(479))}else o=Mg(i,l,h,2),o!==null&&Zr(o,i,2)}function Fd(i){var o=i.alternate;return i===pt||o!==null&&o===pt}function Pw(i,o){ku=Ld=!0;var l=i.pending;l===null?o.next=o:(o.next=l.next,l.next=o),i.pending=o}function Lw(i,o,l){if((l&4194176)!==0){var h=o.lanes;h&=i.pendingLanes,l|=h,o.lanes=l,$e(i,l)}}var Ia={readContext:Lr,use:zd,useCallback:Nn,useContext:Nn,useEffect:Nn,useImperativeHandle:Nn,useLayoutEffect:Nn,useInsertionEffect:Nn,useMemo:Nn,useReducer:Nn,useRef:Nn,useState:Nn,useDebugValue:Nn,useDeferredValue:Nn,useTransition:Nn,useSyncExternalStore:Nn,useId:Nn};Ia.useCacheRefresh=Nn,Ia.useMemoCache=Nn,Ia.useHostTransitionStatus=Nn,Ia.useFormState=Nn,Ia.useActionState=Nn,Ia.useOptimistic=Nn;var Rl={readContext:Lr,use:zd,useCallback:function(i,o){return oi().memoizedState=[i,o===void 0?null:o],i},useContext:Lr,useEffect:ww,useImperativeHandle:function(i,o,l){l=l!=null?l.concat([i]):null,Bd(4194308,4,Rw.bind(null,o,i),l)},useLayoutEffect:function(i,o){return Bd(4194308,4,i,o)},useInsertionEffect:function(i,o){Bd(4,2,i,o)},useMemo:function(i,o){var l=oi();o=o===void 0?null:o;var h=i();if(bl){Hr(!0);try{i()}finally{Hr(!1)}}return l.memoizedState=[h,o],h},useReducer:function(i,o,l){var h=oi();if(l!==void 0){var p=l(o);if(bl){Hr(!0);try{l(o)}finally{Hr(!1)}}}else p=o;return h.memoizedState=h.baseState=p,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:p},h.queue=i,i=i.dispatch=HI.bind(null,pt,i),[h.memoizedState,i]},useRef:function(i){var o=oi();return i={current:i},o.memoizedState=i},useState:function(i){i=Qg(i);var o=i.queue,l=kw.bind(null,pt,o);return o.dispatch=l,[i.memoizedState,l]},useDebugValue:Wg,useDeferredValue:function(i,o){var l=oi();return Jg(l,i,o)},useTransition:function(){var i=Qg(!1);return i=Iw.bind(null,pt,i.queue,!0,!1),oi().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,o,l){var h=pt,p=oi();if(Vt){if(l===void 0)throw Error(r(407));l=l()}else{if(l=o(),on===null)throw Error(r(349));(Mt&60)!==0||aw(h,o,l)}p.memoizedState=l;var T={value:l,getSnapshot:o};return p.queue=T,ww(sw.bind(null,h,T,i),[i]),h.flags|=2048,Lu(9,ow.bind(null,h,T,l,o),{destroy:void 0},null),l},useId:function(){var i=oi(),o=on.identifierPrefix;if(Vt){var l=co,h=uo;l=(h&~(1<<32-rr(h)-1)).toString(32)+l,o=":"+o+"R"+l,l=Vd++,0<l&&(o+="H"+l.toString(32)),o+=":"}else l=zI++,o=":"+o+"r"+l.toString(32)+":";return i.memoizedState=o},useCacheRefresh:function(){return oi().memoizedState=qI.bind(null,pt)}};Rl.useMemoCache=Yg,Rl.useHostTransitionStatus=ty,Rl.useFormState=gw,Rl.useActionState=gw,Rl.useOptimistic=function(i){var o=oi();o.memoizedState=o.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=l,o=ny.bind(null,pt,!0,l),l.dispatch=o,[i,o]};var is={readContext:Lr,use:zd,useCallback:Sw,useContext:Lr,useEffect:Xg,useImperativeHandle:Aw,useInsertionEffect:Ew,useLayoutEffect:bw,useMemo:Cw,useReducer:jd,useRef:Tw,useState:function(){return jd(fo)},useDebugValue:Wg,useDeferredValue:function(i,o){var l=zn();return Dw(l,Qt.memoizedState,i,o)},useTransition:function(){var i=jd(fo)[0],o=zn().memoizedState;return[typeof i=="boolean"?i:Th(i),o]},useSyncExternalStore:iw,useId:Nw};is.useCacheRefresh=xw,is.useMemoCache=Yg,is.useHostTransitionStatus=ty,is.useFormState=yw,is.useActionState=yw,is.useOptimistic=function(i,o){var l=zn();return cw(l,Qt,i,o)};var Al={readContext:Lr,use:zd,useCallback:Sw,useContext:Lr,useEffect:Xg,useImperativeHandle:Aw,useInsertionEffect:Ew,useLayoutEffect:bw,useMemo:Cw,useReducer:Kg,useRef:Tw,useState:function(){return Kg(fo)},useDebugValue:Wg,useDeferredValue:function(i,o){var l=zn();return Qt===null?Jg(l,i,o):Dw(l,Qt.memoizedState,i,o)},useTransition:function(){var i=Kg(fo)[0],o=zn().memoizedState;return[typeof i=="boolean"?i:Th(i),o]},useSyncExternalStore:iw,useId:Nw};Al.useCacheRefresh=xw,Al.useMemoCache=Yg,Al.useHostTransitionStatus=ty,Al.useFormState=_w,Al.useActionState=_w,Al.useOptimistic=function(i,o){var l=zn();return Qt!==null?cw(l,Qt,i,o):(l.baseState=i,[i,l.queue.dispatch])};function ry(i,o,l,h){o=i.memoizedState,l=l(h,o),l=l==null?o:z({},o,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var iy={isMounted:function(i){return(i=i._reactInternals)?ge(i)===i:!1},enqueueSetState:function(i,o,l){i=i._reactInternals;var h=Ti(),p=ss(h);p.payload=o,l!=null&&(p.callback=l),o=ls(i,p,h),o!==null&&(Zr(o,i,h),Rh(o,i,h))},enqueueReplaceState:function(i,o,l){i=i._reactInternals;var h=Ti(),p=ss(h);p.tag=1,p.payload=o,l!=null&&(p.callback=l),o=ls(i,p,h),o!==null&&(Zr(o,i,h),Rh(o,i,h))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var l=Ti(),h=ss(l);h.tag=2,o!=null&&(h.callback=o),o=ls(i,h,l),o!==null&&(Zr(o,i,l),Rh(o,i,l))}};function Vw(i,o,l,h,p,T,S){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,T,S):o.prototype&&o.prototype.isPureReactComponent?!lh(l,h)||!lh(p,T):!0}function Uw(i,o,l,h){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(l,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(l,h),o.state!==i&&iy.enqueueReplaceState(o,o.state,null)}function Sl(i,o){var l=o;if("ref"in o){l={};for(var h in o)h!=="ref"&&(l[h]=o[h])}if(i=i.defaultProps){l===o&&(l=z({},l));for(var p in i)l[p]===void 0&&(l[p]=i[p])}return l}var qd=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function zw(i){qd(i)}function jw(i){console.error(i)}function Bw(i){qd(i)}function Hd(i,o){try{var l=i.onUncaughtError;l(o.value,{componentStack:o.stack})}catch(h){setTimeout(function(){throw h})}}function $w(i,o,l){try{var h=i.onCaughtError;h(l.value,{componentStack:l.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function ay(i,o,l){return l=ss(l),l.tag=3,l.payload={element:null},l.callback=function(){Hd(i,o)},l}function Fw(i){return i=ss(i),i.tag=3,i}function qw(i,o,l,h){var p=l.type.getDerivedStateFromError;if(typeof p=="function"){var T=h.value;i.payload=function(){return p(T)},i.callback=function(){$w(o,l,h)}}var S=l.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(i.callback=function(){$w(o,l,h),typeof p!="function"&&(ms===null?ms=new Set([this]):ms.add(this));var k=h.stack;this.componentDidCatch(h.value,{componentStack:k!==null?k:""})})}function YI(i,o,l,h,p){if(l.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(o=l.alternate,o!==null&&bh(o,l,p,!0),l=Bi.current,l!==null){switch(l.tag){case 13:return Da===null?jy():l.alternate===null&&Cn===0&&(Cn=3),l.flags&=-257,l.flags|=65536,l.lanes=p,h===Pg?l.flags|=16384:(o=l.updateQueue,o===null?l.updateQueue=new Set([h]):o.add(h),$y(i,h,p)),!1;case 22:return l.flags|=65536,h===Pg?l.flags|=16384:(o=l.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([h])},l.updateQueue=o):(l=o.retryQueue,l===null?o.retryQueue=new Set([h]):l.add(h)),$y(i,h,p)),!1}throw Error(r(435,l.tag))}return $y(i,h,p),jy(),!1}if(Vt)return o=Bi.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=p,h!==kg&&(i=Error(r(422),{cause:h}),fh(Ui(i,l)))):(h!==kg&&(o=Error(r(423),{cause:h}),fh(Ui(o,l))),i=i.current.alternate,i.flags|=65536,p&=-p,i.lanes|=p,h=Ui(h,l),p=ay(i.stateNode,h,p),Ty(i,p),Cn!==4&&(Cn=2)),!1;var T=Error(r(520),{cause:h});if(T=Ui(T,l),Nh===null?Nh=[T]:Nh.push(T),Cn!==4&&(Cn=2),o===null)return!0;h=Ui(h,l),l=o;do{switch(l.tag){case 3:return l.flags|=65536,i=p&-p,l.lanes|=i,i=ay(l.stateNode,h,i),Ty(l,i),!1;case 1:if(o=l.type,T=l.stateNode,(l.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(ms===null||!ms.has(T))))return l.flags|=65536,p&=-p,l.lanes|=p,p=Fw(p),qw(p,i,l,h),Ty(l,p),!1}l=l.return}while(l!==null);return!1}var Hw=Error(r(461)),sr=!1;function _r(i,o,l,h){o.child=i===null?ZT(o,null,l,h):wl(o,i.child,l,h)}function Yw(i,o,l,h,p){l=l.render;var T=o.ref;if("ref"in h){var S={};for(var k in h)k!=="ref"&&(S[k]=h[k])}else S=h;return Dl(o),h=$g(i,o,l,S,T,p),k=Fg(),i!==null&&!sr?(qg(i,o,p),mo(i,o,p)):(Vt&&k&&Ng(o),o.flags|=1,_r(i,o,h,p),o.child)}function Gw(i,o,l,h,p){if(i===null){var T=l.type;return typeof T=="function"&&!Dy(T)&&T.defaultProps===void 0&&l.compare===null?(o.tag=15,o.type=T,Kw(i,o,T,h,p)):(i=Zd(l.type,null,h,o,o.mode,p),i.ref=o.ref,i.return=o,o.child=i)}if(T=i.child,!my(i,p)){var S=T.memoizedProps;if(l=l.compare,l=l!==null?l:lh,l(S,h)&&i.ref===o.ref)return mo(i,o,p)}return o.flags|=1,i=fs(T,h),i.ref=o.ref,i.return=o,o.child=i}function Kw(i,o,l,h,p){if(i!==null){var T=i.memoizedProps;if(lh(T,h)&&i.ref===o.ref)if(sr=!1,o.pendingProps=h=T,my(i,p))(i.flags&131072)!==0&&(sr=!0);else return o.lanes=i.lanes,mo(i,o,p)}return oy(i,o,l,h,p)}function Qw(i,o,l){var h=o.pendingProps,p=h.children,T=(o.stateNode._pendingVisibility&2)!==0,S=i!==null?i.memoizedState:null;if(Eh(i,o),h.mode==="hidden"||T){if((o.flags&128)!==0){if(h=S!==null?S.baseLanes|l:l,i!==null){for(p=o.child=i.child,T=0;p!==null;)T=T|p.lanes|p.childLanes,p=p.sibling;o.childLanes=T&~h}else o.childLanes=0,o.child=null;return Zw(i,o,h,l)}if((l&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},i!==null&&Pd(o,S!==null?S.cachePool:null),S!==null?XT(o,S):Lg(),WT(o);else return o.lanes=o.childLanes=536870912,Zw(i,o,S!==null?S.baseLanes|l:l,l)}else S!==null?(Pd(o,S.cachePool),XT(o,S),ns(),o.memoizedState=null):(i!==null&&Pd(o,null),Lg(),ns());return _r(i,o,p,l),o.child}function Zw(i,o,l,h){var p=jg();return p=p===null?null:{parent:Gn._currentValue,pool:p},o.memoizedState={baseLanes:l,cachePool:p},i!==null&&Pd(o,null),Lg(),WT(o),i!==null&&bh(i,o,h,!0),null}function Eh(i,o){var l=o.ref;if(l===null)i!==null&&i.ref!==null&&(o.flags|=2097664);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(i===null||i.ref!==l)&&(o.flags|=2097664)}}function oy(i,o,l,h,p){return Dl(o),l=$g(i,o,l,h,void 0,p),h=Fg(),i!==null&&!sr?(qg(i,o,p),mo(i,o,p)):(Vt&&h&&Ng(o),o.flags|=1,_r(i,o,l,p),o.child)}function Xw(i,o,l,h,p,T){return Dl(o),o.updateQueue=null,l=rw(o,h,l,p),nw(i),h=Fg(),i!==null&&!sr?(qg(i,o,T),mo(i,o,T)):(Vt&&h&&Ng(o),o.flags|=1,_r(i,o,l,T),o.child)}function Ww(i,o,l,h,p){if(Dl(o),o.stateNode===null){var T=Cu,S=l.contextType;typeof S=="object"&&S!==null&&(T=Lr(S)),T=new l(h,T),o.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,T.updater=iy,o.stateNode=T,T._reactInternals=o,T=o.stateNode,T.props=h,T.state=o.memoizedState,T.refs={},vy(o),S=l.contextType,T.context=typeof S=="object"&&S!==null?Lr(S):Cu,T.state=o.memoizedState,S=l.getDerivedStateFromProps,typeof S=="function"&&(ry(o,l,S,h),T.state=o.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(S=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),S!==T.state&&iy.enqueueReplaceState(T,T.state,null),Sh(o,h,T,p),Ah(),T.state=o.memoizedState),typeof T.componentDidMount=="function"&&(o.flags|=4194308),h=!0}else if(i===null){T=o.stateNode;var k=o.memoizedProps,B=Sl(l,k);T.props=B;var K=T.context,le=l.contextType;S=Cu,typeof le=="object"&&le!==null&&(S=Lr(le));var me=l.getDerivedStateFromProps;le=typeof me=="function"||typeof T.getSnapshotBeforeUpdate=="function",k=o.pendingProps!==k,le||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(k||K!==S)&&Uw(o,T,h,S),os=!1;var te=o.memoizedState;T.state=te,Sh(o,h,T,p),Ah(),K=o.memoizedState,k||te!==K||os?(typeof me=="function"&&(ry(o,l,me,h),K=o.memoizedState),(B=os||Vw(o,l,B,h,te,K,S))?(le||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(o.flags|=4194308)):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=K),T.props=h,T.state=K,T.context=S,h=B):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{T=o.stateNode,_y(i,o),S=o.memoizedProps,le=Sl(l,S),T.props=le,me=o.pendingProps,te=T.context,K=l.contextType,B=Cu,typeof K=="object"&&K!==null&&(B=Lr(K)),k=l.getDerivedStateFromProps,(K=typeof k=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(S!==me||te!==B)&&Uw(o,T,h,B),os=!1,te=o.memoizedState,T.state=te,Sh(o,h,T,p),Ah();var oe=o.memoizedState;S!==me||te!==oe||os||i!==null&&i.dependencies!==null&&Yd(i.dependencies)?(typeof k=="function"&&(ry(o,l,k,h),oe=o.memoizedState),(le=os||Vw(o,l,le,h,te,oe,B)||i!==null&&i.dependencies!==null&&Yd(i.dependencies))?(K||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(h,oe,B),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(h,oe,B)),typeof T.componentDidUpdate=="function"&&(o.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof T.componentDidUpdate!="function"||S===i.memoizedProps&&te===i.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||S===i.memoizedProps&&te===i.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=oe),T.props=h,T.state=oe,T.context=B,h=le):(typeof T.componentDidUpdate!="function"||S===i.memoizedProps&&te===i.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||S===i.memoizedProps&&te===i.memoizedState||(o.flags|=1024),h=!1)}return T=h,Eh(i,o),h=(o.flags&128)!==0,T||h?(T=o.stateNode,l=h&&typeof l.getDerivedStateFromError!="function"?null:T.render(),o.flags|=1,i!==null&&h?(o.child=wl(o,i.child,null,p),o.child=wl(o,null,l,p)):_r(i,o,l,p),o.memoizedState=T.state,i=o.child):i=mo(i,o,p),i}function Jw(i,o,l,h){return hh(),o.flags|=256,_r(i,o,l,h),o.child}var sy={dehydrated:null,treeContext:null,retryLane:0};function ly(i){return{baseLanes:i,cachePool:tw()}}function uy(i,o,l){return i=i!==null?i.childLanes&~l:0,o&&(i|=Hi),i}function eE(i,o,l){var h=o.pendingProps,p=!1,T=(o.flags&128)!==0,S;if((S=T)||(S=i!==null&&i.memoizedState===null?!1:(Yn.current&2)!==0),S&&(p=!0,o.flags&=-129),S=(o.flags&32)!==0,o.flags&=-33,i===null){if(Vt){if(p?ts(o):ns(),Vt){var k=vr,B;if(B=k){e:{for(B=k,k=Ca;B.nodeType!==8;){if(!k){k=null;break e}if(B=ra(B.nextSibling),B===null){k=null;break e}}k=B}k!==null?(o.memoizedState={dehydrated:k,treeContext:vl!==null?{id:uo,overflow:co}:null,retryLane:536870912},B=qi(18,null,null,0),B.stateNode=k,B.return=o,o.child=B,Qr=o,vr=null,B=!0):B=!1}B||Tl(o)}if(k=o.memoizedState,k!==null&&(k=k.dehydrated,k!==null))return k.data==="$!"?o.lanes=16:o.lanes=536870912,null;ho(o)}return k=h.children,h=h.fallback,p?(ns(),p=o.mode,k=hy({mode:"hidden",children:k},p),h=Ol(h,p,l,null),k.return=o,h.return=o,k.sibling=h,o.child=k,p=o.child,p.memoizedState=ly(l),p.childLanes=uy(i,S,l),o.memoizedState=sy,h):(ts(o),cy(o,k))}if(B=i.memoizedState,B!==null&&(k=B.dehydrated,k!==null)){if(T)o.flags&256?(ts(o),o.flags&=-257,o=fy(i,o,l)):o.memoizedState!==null?(ns(),o.child=i.child,o.flags|=128,o=null):(ns(),p=h.fallback,k=o.mode,h=hy({mode:"visible",children:h.children},k),p=Ol(p,k,l,null),p.flags|=2,h.return=o,p.return=o,h.sibling=p,o.child=h,wl(o,i.child,null,l),h=o.child,h.memoizedState=ly(l),h.childLanes=uy(i,S,l),o.memoizedState=sy,o=p);else if(ts(o),k.data==="$!"){if(S=k.nextSibling&&k.nextSibling.dataset,S)var K=S.dgst;S=K,h=Error(r(419)),h.stack="",h.digest=S,fh({value:h,source:null,stack:null}),o=fy(i,o,l)}else if(sr||bh(i,o,l,!1),S=(l&i.childLanes)!==0,sr||S){if(S=on,S!==null){if(h=l&-l,(h&42)!==0)h=1;else switch(h){case 2:h=1;break;case 8:h=4;break;case 32:h=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:h=64;break;case 268435456:h=134217728;break;default:h=0}if(h=(h&(S.suspendedLanes|l))!==0?0:h,h!==0&&h!==B.retryLane)throw B.retryLane=h,es(i,h),Zr(S,i,h),Hw}k.data==="$?"||jy(),o=fy(i,o,l)}else k.data==="$?"?(o.flags|=128,o.child=i.child,o=s2.bind(null,i),k._reactRetry=o,o=null):(i=B.treeContext,vr=ra(k.nextSibling),Qr=o,Vt=!0,ta=null,Ca=!1,i!==null&&(zi[ji++]=uo,zi[ji++]=co,zi[ji++]=vl,uo=i.id,co=i.overflow,vl=o),o=cy(o,h.children),o.flags|=4096);return o}return p?(ns(),p=h.fallback,k=o.mode,B=i.child,K=B.sibling,h=fs(B,{mode:"hidden",children:h.children}),h.subtreeFlags=B.subtreeFlags&31457280,K!==null?p=fs(K,p):(p=Ol(p,k,l,null),p.flags|=2),p.return=o,h.return=o,h.sibling=p,o.child=h,h=p,p=o.child,k=i.child.memoizedState,k===null?k=ly(l):(B=k.cachePool,B!==null?(K=Gn._currentValue,B=B.parent!==K?{parent:K,pool:K}:B):B=tw(),k={baseLanes:k.baseLanes|l,cachePool:B}),p.memoizedState=k,p.childLanes=uy(i,S,l),o.memoizedState=sy,h):(ts(o),l=i.child,i=l.sibling,l=fs(l,{mode:"visible",children:h.children}),l.return=o,l.sibling=null,i!==null&&(S=o.deletions,S===null?(o.deletions=[i],o.flags|=16):S.push(i)),o.child=l,o.memoizedState=null,l)}function cy(i,o){return o=hy({mode:"visible",children:o},i.mode),o.return=i,i.child=o}function hy(i,o){return SE(i,o,0,null)}function fy(i,o,l){return wl(o,i.child,null,l),i=cy(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function tE(i,o,l){i.lanes|=o;var h=i.alternate;h!==null&&(h.lanes|=o),gy(i.return,o,l)}function dy(i,o,l,h,p){var T=i.memoizedState;T===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:p}:(T.isBackwards=o,T.rendering=null,T.renderingStartTime=0,T.last=h,T.tail=l,T.tailMode=p)}function nE(i,o,l){var h=o.pendingProps,p=h.revealOrder,T=h.tail;if(_r(i,o,h.children,l),h=Yn.current,(h&2)!==0)h=h&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&tE(i,l,o);else if(i.tag===19)tE(i,l,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}h&=1}switch(mt(Yn,h),p){case"forwards":for(l=o.child,p=null;l!==null;)i=l.alternate,i!==null&&kd(i)===null&&(p=l),l=l.sibling;l=p,l===null?(p=o.child,o.child=null):(p=l.sibling,l.sibling=null),dy(o,!1,p,l,T);break;case"backwards":for(l=null,p=o.child,o.child=null;p!==null;){if(i=p.alternate,i!==null&&kd(i)===null){o.child=p;break}i=p.sibling,p.sibling=l,l=p,p=i}dy(o,!0,l,null,T);break;case"together":dy(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function mo(i,o,l){if(i!==null&&(o.dependencies=i.dependencies),ds|=o.lanes,(l&o.childLanes)===0)if(i!==null){if(bh(i,o,l,!1),(l&o.childLanes)===0)return null}else return null;if(i!==null&&o.child!==i.child)throw Error(r(153));if(o.child!==null){for(i=o.child,l=fs(i,i.pendingProps),o.child=l,l.return=o;i.sibling!==null;)i=i.sibling,l=l.sibling=fs(i,i.pendingProps),l.return=o;l.sibling=null}return o.child}function my(i,o){return(i.lanes&o)!==0?!0:(i=i.dependencies,!!(i!==null&&Yd(i)))}function GI(i,o,l){switch(o.tag){case 3:pa(o,o.stateNode.containerInfo),as(o,Gn,i.memoizedState.cache),hh();break;case 27:case 5:rl(o);break;case 4:pa(o,o.stateNode.containerInfo);break;case 10:as(o,o.type,o.memoizedProps.value);break;case 13:var h=o.memoizedState;if(h!==null)return h.dehydrated!==null?(ts(o),o.flags|=128,null):(l&o.child.childLanes)!==0?eE(i,o,l):(ts(o),i=mo(i,o,l),i!==null?i.sibling:null);ts(o);break;case 19:var p=(i.flags&128)!==0;if(h=(l&o.childLanes)!==0,h||(bh(i,o,l,!1),h=(l&o.childLanes)!==0),p){if(h)return nE(i,o,l);o.flags|=128}if(p=o.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),mt(Yn,Yn.current),h)break;return null;case 22:case 23:return o.lanes=0,Qw(i,o,l);case 24:as(o,Gn,i.memoizedState.cache)}return mo(i,o,l)}function rE(i,o,l){if(i!==null)if(i.memoizedProps!==o.pendingProps)sr=!0;else{if(!my(i,l)&&(o.flags&128)===0)return sr=!1,GI(i,o,l);sr=(i.flags&131072)!==0}else sr=!1,Vt&&(o.flags&1048576)!==0&&BT(o,Id,o.index);switch(o.lanes=0,o.tag){case 16:e:{i=o.pendingProps;var h=o.elementType,p=h._init;if(h=p(h._payload),o.type=h,typeof h=="function")Dy(h)?(i=Sl(h,i),o.tag=1,o=Ww(null,o,h,i,l)):(o.tag=0,o=oy(null,o,h,i,l));else{if(h!=null){if(p=h.$$typeof,p===R){o.tag=11,o=Yw(null,o,h,i,l);break e}else if(p===M){o.tag=14,o=Gw(null,o,h,i,l);break e}}throw o=I(h)||h,Error(r(306,o,""))}}return o;case 0:return oy(i,o,o.type,o.pendingProps,l);case 1:return h=o.type,p=Sl(h,o.pendingProps),Ww(i,o,h,p,l);case 3:e:{if(pa(o,o.stateNode.containerInfo),i===null)throw Error(r(387));var T=o.pendingProps;p=o.memoizedState,h=p.element,_y(i,o),Sh(o,T,null,l);var S=o.memoizedState;if(T=S.cache,as(o,Gn,T),T!==p.cache&&yy(o,[Gn],l,!0),Ah(),T=S.element,p.isDehydrated)if(p={element:T,isDehydrated:!1,cache:S.cache},o.updateQueue.baseState=p,o.memoizedState=p,o.flags&256){o=Jw(i,o,T,l);break e}else if(T!==h){h=Ui(Error(r(424)),o),fh(h),o=Jw(i,o,T,l);break e}else for(vr=ra(o.stateNode.containerInfo.firstChild),Qr=o,Vt=!0,ta=null,Ca=!0,l=ZT(o,null,T,l),o.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(hh(),T===h){o=mo(i,o,l);break e}_r(i,o,T,l)}o=o.child}return o;case 26:return Eh(i,o),i===null?(l=ob(o.type,null,o.pendingProps,null))?o.memoizedState=l:Vt||(l=o.type,i=o.pendingProps,h=lm(vn.current).createElement(l),h[Me]=o,h[Ye]=i,Tr(h,l,i),jt(h),o.stateNode=h):o.memoizedState=ob(o.type,i.memoizedProps,o.pendingProps,i.memoizedState),null;case 27:return rl(o),i===null&&Vt&&(h=o.stateNode=rb(o.type,o.pendingProps,vn.current),Qr=o,Ca=!0,vr=ra(h.firstChild)),h=o.pendingProps.children,i!==null||Vt?_r(i,o,h,l):o.child=wl(o,null,h,l),Eh(i,o),o.child;case 5:return i===null&&Vt&&((p=h=vr)&&(h=b2(h,o.type,o.pendingProps,Ca),h!==null?(o.stateNode=h,Qr=o,vr=ra(h.firstChild),Ca=!1,p=!0):p=!1),p||Tl(o)),rl(o),p=o.type,T=o.pendingProps,S=i!==null?i.memoizedProps:null,h=T.children,ev(p,T)?h=null:S!==null&&ev(p,S)&&(o.flags|=32),o.memoizedState!==null&&(p=$g(i,o,jI,null,null,l),Bh._currentValue=p),Eh(i,o),_r(i,o,h,l),o.child;case 6:return i===null&&Vt&&((i=l=vr)&&(l=R2(l,o.pendingProps,Ca),l!==null?(o.stateNode=l,Qr=o,vr=null,i=!0):i=!1),i||Tl(o)),null;case 13:return eE(i,o,l);case 4:return pa(o,o.stateNode.containerInfo),h=o.pendingProps,i===null?o.child=wl(o,null,h,l):_r(i,o,h,l),o.child;case 11:return Yw(i,o,o.type,o.pendingProps,l);case 7:return _r(i,o,o.pendingProps,l),o.child;case 8:return _r(i,o,o.pendingProps.children,l),o.child;case 12:return _r(i,o,o.pendingProps.children,l),o.child;case 10:return h=o.pendingProps,as(o,o.type,h.value),_r(i,o,h.children,l),o.child;case 9:return p=o.type._context,h=o.pendingProps.children,Dl(o),p=Lr(p),h=h(p),o.flags|=1,_r(i,o,h,l),o.child;case 14:return Gw(i,o,o.type,o.pendingProps,l);case 15:return Kw(i,o,o.type,o.pendingProps,l);case 19:return nE(i,o,l);case 22:return Qw(i,o,l);case 24:return Dl(o),h=Lr(Gn),i===null?(p=jg(),p===null&&(p=on,T=Ug(),p.pooledCache=T,T.refCount++,T!==null&&(p.pooledCacheLanes|=l),p=T),o.memoizedState={parent:h,cache:p},vy(o),as(o,Gn,p)):((i.lanes&l)!==0&&(_y(i,o),Sh(o,null,null,l),Ah()),p=i.memoizedState,T=o.memoizedState,p.parent!==h?(p={parent:h,cache:h},o.memoizedState=p,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=p),as(o,Gn,h)):(h=T.cache,as(o,Gn,h),h!==p.cache&&yy(o,[Gn],l,!0))),_r(i,o,o.pendingProps.children,l),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}var py=dt(null),Cl=null,po=null;function as(i,o,l){mt(py,o._currentValue),o._currentValue=l}function go(i){i._currentValue=py.current,ct(py)}function gy(i,o,l){for(;i!==null;){var h=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),i===l)break;i=i.return}}function yy(i,o,l,h){var p=i.child;for(p!==null&&(p.return=i);p!==null;){var T=p.dependencies;if(T!==null){var S=p.child;T=T.firstContext;e:for(;T!==null;){var k=T;T=p;for(var B=0;B<o.length;B++)if(k.context===o[B]){T.lanes|=l,k=T.alternate,k!==null&&(k.lanes|=l),gy(T.return,l,i),h||(S=null);break e}T=k.next}}else if(p.tag===18){if(S=p.return,S===null)throw Error(r(341));S.lanes|=l,T=S.alternate,T!==null&&(T.lanes|=l),gy(S,l,i),S=null}else S=p.child;if(S!==null)S.return=p;else for(S=p;S!==null;){if(S===i){S=null;break}if(p=S.sibling,p!==null){p.return=S.return,S=p;break}S=S.return}p=S}}function bh(i,o,l,h){i=null;for(var p=o,T=!1;p!==null;){if(!T){if((p.flags&524288)!==0)T=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var S=p.alternate;if(S===null)throw Error(r(387));if(S=S.memoizedProps,S!==null){var k=p.type;gi(p.pendingProps.value,S.value)||(i!==null?i.push(k):i=[k])}}else if(p===ma.current){if(S=p.alternate,S===null)throw Error(r(387));S.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(i!==null?i.push(Bh):i=[Bh])}p=p.return}i!==null&&yy(o,i,l,h),o.flags|=262144}function Yd(i){for(i=i.firstContext;i!==null;){if(!gi(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Dl(i){Cl=i,po=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Lr(i){return iE(Cl,i)}function Gd(i,o){return Cl===null&&Dl(i),iE(i,o)}function iE(i,o){var l=o._currentValue;if(o={context:o,memoizedValue:l,next:null},po===null){if(i===null)throw Error(r(308));po=o,i.dependencies={lanes:0,firstContext:o},i.flags|=524288}else po=po.next=o;return l}var os=!1;function vy(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _y(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function ss(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function ls(i,o,l){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(Tn&2)!==0){var p=h.pending;return p===null?o.next=o:(o.next=p.next,p.next=o),h.pending=o,o=Cd(i),zT(i,null,l),o}return Sd(i,h,o,l),Cd(i)}function Rh(i,o,l){if(o=o.updateQueue,o!==null&&(o=o.shared,(l&4194176)!==0)){var h=o.lanes;h&=i.pendingLanes,l|=h,o.lanes=l,$e(i,l)}}function Ty(i,o){var l=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var p=null,T=null;if(l=l.firstBaseUpdate,l!==null){do{var S={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};T===null?p=T=S:T=T.next=S,l=l.next}while(l!==null);T===null?p=T=o:T=T.next=o}else p=T=o;l={baseState:h.baseState,firstBaseUpdate:p,lastBaseUpdate:T,shared:h.shared,callbacks:h.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=o:i.next=o,l.lastBaseUpdate=o}var wy=!1;function Ah(){if(wy){var i=xu;if(i!==null)throw i}}function Sh(i,o,l,h){wy=!1;var p=i.updateQueue;os=!1;var T=p.firstBaseUpdate,S=p.lastBaseUpdate,k=p.shared.pending;if(k!==null){p.shared.pending=null;var B=k,K=B.next;B.next=null,S===null?T=K:S.next=K,S=B;var le=i.alternate;le!==null&&(le=le.updateQueue,k=le.lastBaseUpdate,k!==S&&(k===null?le.firstBaseUpdate=K:k.next=K,le.lastBaseUpdate=B))}if(T!==null){var me=p.baseState;S=0,le=K=B=null,k=T;do{var te=k.lane&-536870913,oe=te!==k.lane;if(oe?(Mt&te)===te:(h&te)===te){te!==0&&te===Nu&&(wy=!0),le!==null&&(le=le.next={lane:0,tag:k.tag,payload:k.payload,callback:null,next:null});e:{var Be=i,ot=k;te=o;var Dn=l;switch(ot.tag){case 1:if(Be=ot.payload,typeof Be=="function"){me=Be.call(Dn,me,te);break e}me=Be;break e;case 3:Be.flags=Be.flags&-65537|128;case 0:if(Be=ot.payload,te=typeof Be=="function"?Be.call(Dn,me,te):Be,te==null)break e;me=z({},me,te);break e;case 2:os=!0}}te=k.callback,te!==null&&(i.flags|=64,oe&&(i.flags|=8192),oe=p.callbacks,oe===null?p.callbacks=[te]:oe.push(te))}else oe={lane:te,tag:k.tag,payload:k.payload,callback:k.callback,next:null},le===null?(K=le=oe,B=me):le=le.next=oe,S|=te;if(k=k.next,k===null){if(k=p.shared.pending,k===null)break;oe=k,k=oe.next,oe.next=null,p.lastBaseUpdate=oe,p.shared.pending=null}}while(!0);le===null&&(B=me),p.baseState=B,p.firstBaseUpdate=K,p.lastBaseUpdate=le,T===null&&(p.shared.lanes=0),ds|=S,i.lanes=S,i.memoizedState=me}}function aE(i,o){if(typeof i!="function")throw Error(r(191,i));i.call(o)}function oE(i,o){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)aE(l[i],o)}function Ch(i,o){try{var l=o.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var p=h.next;l=p;do{if((l.tag&i)===i){h=void 0;var T=l.create,S=l.inst;h=T(),S.destroy=h}l=l.next}while(l!==p)}}catch(k){en(o,o.return,k)}}function us(i,o,l){try{var h=o.updateQueue,p=h!==null?h.lastEffect:null;if(p!==null){var T=p.next;h=T;do{if((h.tag&i)===i){var S=h.inst,k=S.destroy;if(k!==void 0){S.destroy=void 0,p=o;var B=l;try{k()}catch(K){en(p,B,K)}}}h=h.next}while(h!==T)}}catch(K){en(o,o.return,K)}}function sE(i){var o=i.updateQueue;if(o!==null){var l=i.stateNode;try{oE(o,l)}catch(h){en(i,i.return,h)}}}function lE(i,o,l){l.props=Sl(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(h){en(i,o,h)}}function Il(i,o){try{var l=i.ref;if(l!==null){var h=i.stateNode;switch(i.tag){case 26:case 27:case 5:var p=h;break;default:p=h}typeof l=="function"?i.refCleanup=l(p):l.current=p}}catch(T){en(i,o,T)}}function yi(i,o){var l=i.ref,h=i.refCleanup;if(l!==null)if(typeof h=="function")try{h()}catch(p){en(i,o,p)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(p){en(i,o,p)}else l.current=null}function uE(i){var o=i.type,l=i.memoizedProps,h=i.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":l.autoFocus&&h.focus();break e;case"img":l.src?h.src=l.src:l.srcSet&&(h.srcset=l.srcSet)}}catch(p){en(i,i.return,p)}}function cE(i,o,l){try{var h=i.stateNode;v2(h,i.type,l,o),h[Ye]=o}catch(p){en(i,i.return,p)}}function hE(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27||i.tag===4}function Ey(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||hE(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==27&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function by(i,o,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,o?l.nodeType===8?l.parentNode.insertBefore(i,o):l.insertBefore(i,o):(l.nodeType===8?(o=l.parentNode,o.insertBefore(i,l)):(o=l,o.appendChild(i)),l=l._reactRootContainer,l!=null||o.onclick!==null||(o.onclick=sm));else if(h!==4&&h!==27&&(i=i.child,i!==null))for(by(i,o,l),i=i.sibling;i!==null;)by(i,o,l),i=i.sibling}function Kd(i,o,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,o?l.insertBefore(i,o):l.appendChild(i);else if(h!==4&&h!==27&&(i=i.child,i!==null))for(Kd(i,o,l),i=i.sibling;i!==null;)Kd(i,o,l),i=i.sibling}var yo=!1,Sn=!1,Ry=!1,fE=typeof WeakSet=="function"?WeakSet:Set,lr=null,dE=!1;function KI(i,o){if(i=i.containerInfo,Wy=mm,i=OT(i),Sg(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var p=h.anchorOffset,T=h.focusNode;h=h.focusOffset;try{l.nodeType,T.nodeType}catch{l=null;break e}var S=0,k=-1,B=-1,K=0,le=0,me=i,te=null;t:for(;;){for(var oe;me!==l||p!==0&&me.nodeType!==3||(k=S+p),me!==T||h!==0&&me.nodeType!==3||(B=S+h),me.nodeType===3&&(S+=me.nodeValue.length),(oe=me.firstChild)!==null;)te=me,me=oe;for(;;){if(me===i)break t;if(te===l&&++K===p&&(k=S),te===T&&++le===h&&(B=S),(oe=me.nextSibling)!==null)break;me=te,te=me.parentNode}me=oe}l=k===-1||B===-1?null:{start:k,end:B}}else l=null}l=l||{start:0,end:0}}else l=null;for(Jy={focusedElem:i,selectionRange:l},mm=!1,lr=o;lr!==null;)if(o=lr,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,lr=i;else for(;lr!==null;){switch(o=lr,T=o.alternate,i=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&T!==null){i=void 0,l=o,p=T.memoizedProps,T=T.memoizedState,h=l.stateNode;try{var Be=Sl(l.type,p,l.elementType===l.type);i=h.getSnapshotBeforeUpdate(Be,T),h.__reactInternalSnapshotBeforeUpdate=i}catch(ot){en(l,l.return,ot)}}break;case 3:if((i&1024)!==0){if(i=o.stateNode.containerInfo,l=i.nodeType,l===9)rv(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":rv(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=o.sibling,i!==null){i.return=o.return,lr=i;break}lr=o.return}return Be=dE,dE=!1,Be}function mE(i,o,l){var h=l.flags;switch(l.tag){case 0:case 11:case 15:_o(i,l),h&4&&Ch(5,l);break;case 1:if(_o(i,l),h&4)if(i=l.stateNode,o===null)try{i.componentDidMount()}catch(k){en(l,l.return,k)}else{var p=Sl(l.type,o.memoizedProps);o=o.memoizedState;try{i.componentDidUpdate(p,o,i.__reactInternalSnapshotBeforeUpdate)}catch(k){en(l,l.return,k)}}h&64&&sE(l),h&512&&Il(l,l.return);break;case 3:if(_o(i,l),h&64&&(h=l.updateQueue,h!==null)){if(i=null,l.child!==null)switch(l.child.tag){case 27:case 5:i=l.child.stateNode;break;case 1:i=l.child.stateNode}try{oE(h,i)}catch(k){en(l,l.return,k)}}break;case 26:_o(i,l),h&512&&Il(l,l.return);break;case 27:case 5:_o(i,l),o===null&&h&4&&uE(l),h&512&&Il(l,l.return);break;case 12:_o(i,l);break;case 13:_o(i,l),h&4&&yE(i,l);break;case 22:if(p=l.memoizedState!==null||yo,!p){o=o!==null&&o.memoizedState!==null||Sn;var T=yo,S=Sn;yo=p,(Sn=o)&&!S?cs(i,l,(l.subtreeFlags&8772)!==0):_o(i,l),yo=T,Sn=S}h&512&&(l.memoizedProps.mode==="manual"?Il(l,l.return):yi(l,l.return));break;default:_o(i,l)}}function pE(i){var o=i.alternate;o!==null&&(i.alternate=null,pE(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&pi(o)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var jn=null,vi=!1;function vo(i,o,l){for(l=l.child;l!==null;)gE(i,o,l),l=l.sibling}function gE(i,o,l){if(nr&&typeof nr.onCommitFiberUnmount=="function")try{nr.onCommitFiberUnmount(Xi,l)}catch{}switch(l.tag){case 26:Sn||yi(l,o),vo(i,o,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Sn||yi(l,o);var h=jn,p=vi;for(jn=l.stateNode,vo(i,o,l),l=l.stateNode,o=l.attributes;o.length;)l.removeAttributeNode(o[0]);pi(l),jn=h,vi=p;break;case 5:Sn||yi(l,o);case 6:p=jn;var T=vi;if(jn=null,vo(i,o,l),jn=p,vi=T,jn!==null)if(vi)try{i=jn,h=l.stateNode,i.nodeType===8?i.parentNode.removeChild(h):i.removeChild(h)}catch(S){en(l,o,S)}else try{jn.removeChild(l.stateNode)}catch(S){en(l,o,S)}break;case 18:jn!==null&&(vi?(o=jn,l=l.stateNode,o.nodeType===8?nv(o.parentNode,l):o.nodeType===1&&nv(o,l),Hh(o)):nv(jn,l.stateNode));break;case 4:h=jn,p=vi,jn=l.stateNode.containerInfo,vi=!0,vo(i,o,l),jn=h,vi=p;break;case 0:case 11:case 14:case 15:Sn||us(2,l,o),Sn||us(4,l,o),vo(i,o,l);break;case 1:Sn||(yi(l,o),h=l.stateNode,typeof h.componentWillUnmount=="function"&&lE(l,o,h)),vo(i,o,l);break;case 21:vo(i,o,l);break;case 22:Sn||yi(l,o),Sn=(h=Sn)||l.memoizedState!==null,vo(i,o,l),Sn=h;break;default:vo(i,o,l)}}function yE(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Hh(i)}catch(l){en(o,o.return,l)}}function QI(i){switch(i.tag){case 13:case 19:var o=i.stateNode;return o===null&&(o=i.stateNode=new fE),o;case 22:return i=i.stateNode,o=i._retryCache,o===null&&(o=i._retryCache=new fE),o;default:throw Error(r(435,i.tag))}}function Ay(i,o){var l=QI(i);o.forEach(function(h){var p=l2.bind(null,i,h);l.has(h)||(l.add(h),h.then(p,p))})}function $i(i,o){var l=o.deletions;if(l!==null)for(var h=0;h<l.length;h++){var p=l[h],T=i,S=o,k=S;e:for(;k!==null;){switch(k.tag){case 27:case 5:jn=k.stateNode,vi=!1;break e;case 3:jn=k.stateNode.containerInfo,vi=!0;break e;case 4:jn=k.stateNode.containerInfo,vi=!0;break e}k=k.return}if(jn===null)throw Error(r(160));gE(T,S,p),jn=null,vi=!1,T=p.alternate,T!==null&&(T.return=null),p.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)vE(o,i),o=o.sibling}var na=null;function vE(i,o){var l=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:$i(o,i),Fi(i),h&4&&(us(3,i,i.return),Ch(3,i),us(5,i,i.return));break;case 1:$i(o,i),Fi(i),h&512&&(Sn||l===null||yi(l,l.return)),h&64&&yo&&(i=i.updateQueue,i!==null&&(h=i.callbacks,h!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?h:l.concat(h))));break;case 26:var p=na;if($i(o,i),Fi(i),h&512&&(Sn||l===null||yi(l,l.return)),h&4){var T=l!==null?l.memoizedState:null;if(h=i.memoizedState,l===null)if(h===null)if(i.stateNode===null){e:{h=i.type,l=i.memoizedProps,p=p.ownerDocument||p;t:switch(h){case"title":T=p.getElementsByTagName("title")[0],(!T||T[Yr]||T[Me]||T.namespaceURI==="http://www.w3.org/2000/svg"||T.hasAttribute("itemprop"))&&(T=p.createElement(h),p.head.insertBefore(T,p.querySelector("head > title"))),Tr(T,h,l),T[Me]=i,jt(T),h=T;break e;case"link":var S=ub("link","href",p).get(h+(l.href||""));if(S){for(var k=0;k<S.length;k++)if(T=S[k],T.getAttribute("href")===(l.href==null?null:l.href)&&T.getAttribute("rel")===(l.rel==null?null:l.rel)&&T.getAttribute("title")===(l.title==null?null:l.title)&&T.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){S.splice(k,1);break t}}T=p.createElement(h),Tr(T,h,l),p.head.appendChild(T);break;case"meta":if(S=ub("meta","content",p).get(h+(l.content||""))){for(k=0;k<S.length;k++)if(T=S[k],T.getAttribute("content")===(l.content==null?null:""+l.content)&&T.getAttribute("name")===(l.name==null?null:l.name)&&T.getAttribute("property")===(l.property==null?null:l.property)&&T.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&T.getAttribute("charset")===(l.charSet==null?null:l.charSet)){S.splice(k,1);break t}}T=p.createElement(h),Tr(T,h,l),p.head.appendChild(T);break;default:throw Error(r(468,h))}T[Me]=i,jt(T),h=T}i.stateNode=h}else cb(p,i.type,i.stateNode);else i.stateNode=lb(p,h,i.memoizedProps);else T!==h?(T===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):T.count--,h===null?cb(p,i.type,i.stateNode):lb(p,h,i.memoizedProps)):h===null&&i.stateNode!==null&&cE(i,i.memoizedProps,l.memoizedProps)}break;case 27:if(h&4&&i.alternate===null){p=i.stateNode,T=i.memoizedProps;try{for(var B=p.firstChild;B;){var K=B.nextSibling,le=B.nodeName;B[Yr]||le==="HEAD"||le==="BODY"||le==="SCRIPT"||le==="STYLE"||le==="LINK"&&B.rel.toLowerCase()==="stylesheet"||p.removeChild(B),B=K}for(var me=i.type,te=p.attributes;te.length;)p.removeAttributeNode(te[0]);Tr(p,me,T),p[Me]=i,p[Ye]=T}catch(Be){en(i,i.return,Be)}}case 5:if($i(o,i),Fi(i),h&512&&(Sn||l===null||yi(l,l.return)),i.flags&32){p=i.stateNode;try{xi(p,"")}catch(Be){en(i,i.return,Be)}}h&4&&i.stateNode!=null&&(p=i.memoizedProps,cE(i,p,l!==null?l.memoizedProps:p)),h&1024&&(Ry=!0);break;case 6:if($i(o,i),Fi(i),h&4){if(i.stateNode===null)throw Error(r(162));h=i.memoizedProps,l=i.stateNode;try{l.nodeValue=h}catch(Be){en(i,i.return,Be)}}break;case 3:if(hm=null,p=na,na=um(o.containerInfo),$i(o,i),na=p,Fi(i),h&4&&l!==null&&l.memoizedState.isDehydrated)try{Hh(o.containerInfo)}catch(Be){en(i,i.return,Be)}Ry&&(Ry=!1,_E(i));break;case 4:h=na,na=um(i.stateNode.containerInfo),$i(o,i),Fi(i),na=h;break;case 12:$i(o,i),Fi(i);break;case 13:$i(o,i),Fi(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(ky=tr()),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,Ay(i,h)));break;case 22:if(h&512&&(Sn||l===null||yi(l,l.return)),B=i.memoizedState!==null,K=l!==null&&l.memoizedState!==null,le=yo,me=Sn,yo=le||B,Sn=me||K,$i(o,i),Sn=me,yo=le,Fi(i),o=i.stateNode,o._current=i,o._visibility&=-3,o._visibility|=o._pendingVisibility&2,h&8192&&(o._visibility=B?o._visibility&-2:o._visibility|1,B&&(o=yo||Sn,l===null||K||o||Vu(i)),i.memoizedProps===null||i.memoizedProps.mode!=="manual"))e:for(l=null,o=i;;){if(o.tag===5||o.tag===26||o.tag===27){if(l===null){K=l=o;try{if(p=K.stateNode,B)T=p.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{S=K.stateNode,k=K.memoizedProps.style;var oe=k!=null&&k.hasOwnProperty("display")?k.display:null;S.style.display=oe==null||typeof oe=="boolean"?"":(""+oe).trim()}}catch(Be){en(K,K.return,Be)}}}else if(o.tag===6){if(l===null){K=o;try{K.stateNode.nodeValue=B?"":K.memoizedProps}catch(Be){en(K,K.return,Be)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===i)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break e;for(;o.sibling===null;){if(o.return===null||o.return===i)break e;l===o&&(l=null),o=o.return}l===o&&(l=null),o.sibling.return=o.return,o=o.sibling}h&4&&(h=i.updateQueue,h!==null&&(l=h.retryQueue,l!==null&&(h.retryQueue=null,Ay(i,l))));break;case 19:$i(o,i),Fi(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,Ay(i,h)));break;case 21:break;default:$i(o,i),Fi(i)}}function Fi(i){var o=i.flags;if(o&2){try{if(i.tag!==27){e:{for(var l=i.return;l!==null;){if(hE(l)){var h=l;break e}l=l.return}throw Error(r(160))}switch(h.tag){case 27:var p=h.stateNode,T=Ey(i);Kd(i,T,p);break;case 5:var S=h.stateNode;h.flags&32&&(xi(S,""),h.flags&=-33);var k=Ey(i);Kd(i,k,S);break;case 3:case 4:var B=h.stateNode.containerInfo,K=Ey(i);by(i,K,B);break;default:throw Error(r(161))}}}catch(le){en(i,i.return,le)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function _E(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var o=i;_E(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),i=i.sibling}}function _o(i,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)mE(i,o.alternate,o),o=o.sibling}function Vu(i){for(i=i.child;i!==null;){var o=i;switch(o.tag){case 0:case 11:case 14:case 15:us(4,o,o.return),Vu(o);break;case 1:yi(o,o.return);var l=o.stateNode;typeof l.componentWillUnmount=="function"&&lE(o,o.return,l),Vu(o);break;case 26:case 27:case 5:yi(o,o.return),Vu(o);break;case 22:yi(o,o.return),o.memoizedState===null&&Vu(o);break;default:Vu(o)}i=i.sibling}}function cs(i,o,l){for(l=l&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var h=o.alternate,p=i,T=o,S=T.flags;switch(T.tag){case 0:case 11:case 15:cs(p,T,l),Ch(4,T);break;case 1:if(cs(p,T,l),h=T,p=h.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(K){en(h,h.return,K)}if(h=T,p=h.updateQueue,p!==null){var k=h.stateNode;try{var B=p.shared.hiddenCallbacks;if(B!==null)for(p.shared.hiddenCallbacks=null,p=0;p<B.length;p++)aE(B[p],k)}catch(K){en(h,h.return,K)}}l&&S&64&&sE(T),Il(T,T.return);break;case 26:case 27:case 5:cs(p,T,l),l&&h===null&&S&4&&uE(T),Il(T,T.return);break;case 12:cs(p,T,l);break;case 13:cs(p,T,l),l&&S&4&&yE(p,T);break;case 22:T.memoizedState===null&&cs(p,T,l),Il(T,T.return);break;default:cs(p,T,l)}o=o.sibling}}function Sy(i,o){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(i=o.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&yh(l))}function Cy(i,o){i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&yh(i))}function hs(i,o,l,h){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)TE(i,o,l,h),o=o.sibling}function TE(i,o,l,h){var p=o.flags;switch(o.tag){case 0:case 11:case 15:hs(i,o,l,h),p&2048&&Ch(9,o);break;case 3:hs(i,o,l,h),p&2048&&(i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&yh(i)));break;case 12:if(p&2048){hs(i,o,l,h),i=o.stateNode;try{var T=o.memoizedProps,S=T.id,k=T.onPostCommit;typeof k=="function"&&k(S,o.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(B){en(o,o.return,B)}}else hs(i,o,l,h);break;case 23:break;case 22:T=o.stateNode,o.memoizedState!==null?T._visibility&4?hs(i,o,l,h):Dh(i,o):T._visibility&4?hs(i,o,l,h):(T._visibility|=4,Uu(i,o,l,h,(o.subtreeFlags&10256)!==0)),p&2048&&Sy(o.alternate,o);break;case 24:hs(i,o,l,h),p&2048&&Cy(o.alternate,o);break;default:hs(i,o,l,h)}}function Uu(i,o,l,h,p){for(p=p&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var T=i,S=o,k=l,B=h,K=S.flags;switch(S.tag){case 0:case 11:case 15:Uu(T,S,k,B,p),Ch(8,S);break;case 23:break;case 22:var le=S.stateNode;S.memoizedState!==null?le._visibility&4?Uu(T,S,k,B,p):Dh(T,S):(le._visibility|=4,Uu(T,S,k,B,p)),p&&K&2048&&Sy(S.alternate,S);break;case 24:Uu(T,S,k,B,p),p&&K&2048&&Cy(S.alternate,S);break;default:Uu(T,S,k,B,p)}o=o.sibling}}function Dh(i,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var l=i,h=o,p=h.flags;switch(h.tag){case 22:Dh(l,h),p&2048&&Sy(h.alternate,h);break;case 24:Dh(l,h),p&2048&&Cy(h.alternate,h);break;default:Dh(l,h)}o=o.sibling}}var Ih=8192;function zu(i){if(i.subtreeFlags&Ih)for(i=i.child;i!==null;)wE(i),i=i.sibling}function wE(i){switch(i.tag){case 26:zu(i),i.flags&Ih&&i.memoizedState!==null&&V2(na,i.memoizedState,i.memoizedProps);break;case 5:zu(i);break;case 3:case 4:var o=na;na=um(i.stateNode.containerInfo),zu(i),na=o;break;case 22:i.memoizedState===null&&(o=i.alternate,o!==null&&o.memoizedState!==null?(o=Ih,Ih=16777216,zu(i),Ih=o):zu(i));break;default:zu(i)}}function EE(i){var o=i.alternate;if(o!==null&&(i=o.child,i!==null)){o.child=null;do o=i.sibling,i.sibling=null,i=o;while(i!==null)}}function Oh(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var l=0;l<o.length;l++){var h=o[l];lr=h,RE(h,i)}EE(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)bE(i),i=i.sibling}function bE(i){switch(i.tag){case 0:case 11:case 15:Oh(i),i.flags&2048&&us(9,i,i.return);break;case 3:Oh(i);break;case 12:Oh(i);break;case 22:var o=i.stateNode;i.memoizedState!==null&&o._visibility&4&&(i.return===null||i.return.tag!==13)?(o._visibility&=-5,Qd(i)):Oh(i);break;default:Oh(i)}}function Qd(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var l=0;l<o.length;l++){var h=o[l];lr=h,RE(h,i)}EE(i)}for(i=i.child;i!==null;){switch(o=i,o.tag){case 0:case 11:case 15:us(8,o,o.return),Qd(o);break;case 22:l=o.stateNode,l._visibility&4&&(l._visibility&=-5,Qd(o));break;default:Qd(o)}i=i.sibling}}function RE(i,o){for(;lr!==null;){var l=lr;switch(l.tag){case 0:case 11:case 15:us(8,l,o);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var h=l.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:yh(l.memoizedState.cache)}if(h=l.child,h!==null)h.return=l,lr=h;else e:for(l=i;lr!==null;){h=lr;var p=h.sibling,T=h.return;if(pE(h),h===l){lr=null;break e}if(p!==null){p.return=T,lr=p;break e}lr=T}}}function ZI(i,o,l,h){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qi(i,o,l,h){return new ZI(i,o,l,h)}function Dy(i){return i=i.prototype,!(!i||!i.isReactComponent)}function fs(i,o){var l=i.alternate;return l===null?(l=qi(i.tag,o,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=o,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&31457280,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,o=i.dependencies,l.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function AE(i,o){i.flags&=31457282;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=o,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,o=l.dependencies,i.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),i}function Zd(i,o,l,h,p,T){var S=0;if(h=i,typeof i=="function")Dy(i)&&(S=1);else if(typeof i=="string")S=P2(i,l,Rn.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case f:return Ol(l.children,p,T,o);case d:S=8,p|=24;break;case g:return i=qi(12,l,o,p|2),i.elementType=g,i.lanes=T,i;case C:return i=qi(13,l,o,p),i.elementType=C,i.lanes=T,i;case D:return i=qi(19,l,o,p),i.elementType=D,i.lanes=T,i;case P:return SE(l,p,T,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case v:case b:S=10;break e;case w:S=9;break e;case R:S=11;break e;case M:S=14;break e;case x:S=16,h=null;break e}S=29,l=Error(r(130,i===null?"null":typeof i,"")),h=null}return o=qi(S,l,o,p),o.elementType=i,o.type=h,o.lanes=T,o}function Ol(i,o,l,h){return i=qi(7,i,h,o),i.lanes=l,i}function SE(i,o,l,h){i=qi(22,i,h,o),i.elementType=P,i.lanes=l;var p={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var T=p._current;if(T===null)throw Error(r(456));if((p._pendingVisibility&2)===0){var S=es(T,2);S!==null&&(p._pendingVisibility|=2,Zr(S,T,2))}},attach:function(){var T=p._current;if(T===null)throw Error(r(456));if((p._pendingVisibility&2)!==0){var S=es(T,2);S!==null&&(p._pendingVisibility&=-3,Zr(S,T,2))}}};return i.stateNode=p,i}function Iy(i,o,l){return i=qi(6,i,null,o),i.lanes=l,i}function Oy(i,o,l){return o=qi(4,i.children!==null?i.children:[],i.key,o),o.lanes=l,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function To(i){i.flags|=4}function CE(i,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!hb(o)){if(o=Bi.current,o!==null&&((Mt&4194176)===Mt?Da!==null:(Mt&62914560)!==Mt&&(Mt&536870912)===0||o!==Da))throw mh=Pg,qT;i.flags|=8192}}function Xd(i,o){o!==null&&(i.flags|=4),i.flags&16384&&(o=i.tag!==22?Q():536870912,i.lanes|=o,Bu|=o)}function Mh(i,o){if(!Vt)switch(i.tailMode){case"hidden":o=i.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function _n(i){var o=i.alternate!==null&&i.alternate.child===i.child,l=0,h=0;if(o)for(var p=i.child;p!==null;)l|=p.lanes|p.childLanes,h|=p.subtreeFlags&31457280,h|=p.flags&31457280,p.return=i,p=p.sibling;else for(p=i.child;p!==null;)l|=p.lanes|p.childLanes,h|=p.subtreeFlags,h|=p.flags,p.return=i,p=p.sibling;return i.subtreeFlags|=h,i.childLanes=l,o}function XI(i,o,l){var h=o.pendingProps;switch(xg(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _n(o),null;case 1:return _n(o),null;case 3:return l=o.stateNode,h=null,i!==null&&(h=i.memoizedState.cache),o.memoizedState.cache!==h&&(o.flags|=2048),go(Gn),Di(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(ch(o)?To(o):i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,ta!==null&&(Uy(ta),ta=null))),_n(o),null;case 26:return l=o.memoizedState,i===null?(To(o),l!==null?(_n(o),CE(o,l)):(_n(o),o.flags&=-16777217)):l?l!==i.memoizedState?(To(o),_n(o),CE(o,l)):(_n(o),o.flags&=-16777217):(i.memoizedProps!==h&&To(o),_n(o),o.flags&=-16777217),null;case 27:Ho(o),l=vn.current;var p=o.type;if(i!==null&&o.stateNode!=null)i.memoizedProps!==h&&To(o);else{if(!h){if(o.stateNode===null)throw Error(r(166));return _n(o),null}i=Rn.current,ch(o)?$T(o):(i=rb(p,h,l),o.stateNode=i,To(o))}return _n(o),null;case 5:if(Ho(o),l=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==h&&To(o);else{if(!h){if(o.stateNode===null)throw Error(r(166));return _n(o),null}if(i=Rn.current,ch(o))$T(o);else{switch(p=lm(vn.current),i){case 1:i=p.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:i=p.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":i=p.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":i=p.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":i=p.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof h.is=="string"?p.createElement("select",{is:h.is}):p.createElement("select"),h.multiple?i.multiple=!0:h.size&&(i.size=h.size);break;default:i=typeof h.is=="string"?p.createElement(l,{is:h.is}):p.createElement(l)}}i[Me]=o,i[Ye]=h;e:for(p=o.child;p!==null;){if(p.tag===5||p.tag===6)i.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===o)break e;for(;p.sibling===null;){if(p.return===null||p.return===o)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}o.stateNode=i;e:switch(Tr(i,l,h),l){case"button":case"input":case"select":case"textarea":i=!!h.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&To(o)}}return _n(o),o.flags&=-16777217,null;case 6:if(i&&o.stateNode!=null)i.memoizedProps!==h&&To(o);else{if(typeof h!="string"&&o.stateNode===null)throw Error(r(166));if(i=vn.current,ch(o)){if(i=o.stateNode,l=o.memoizedProps,h=null,p=Qr,p!==null)switch(p.tag){case 27:case 5:h=p.memoizedProps}i[Me]=o,i=!!(i.nodeValue===l||h!==null&&h.suppressHydrationWarning===!0||XE(i.nodeValue,l)),i||Tl(o)}else i=lm(i).createTextNode(h),i[Me]=o,o.stateNode=i}return _n(o),null;case 13:if(h=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(p=ch(o),h!==null&&h.dehydrated!==null){if(i===null){if(!p)throw Error(r(318));if(p=o.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(r(317));p[Me]=o}else hh(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;_n(o),p=!1}else ta!==null&&(Uy(ta),ta=null),p=!0;if(!p)return o.flags&256?(ho(o),o):(ho(o),null)}if(ho(o),(o.flags&128)!==0)return o.lanes=l,o;if(l=h!==null,i=i!==null&&i.memoizedState!==null,l){h=o.child,p=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(p=h.alternate.memoizedState.cachePool.pool);var T=null;h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(T=h.memoizedState.cachePool.pool),T!==p&&(h.flags|=2048)}return l!==i&&l&&(o.child.flags|=8192),Xd(o,o.updateQueue),_n(o),null;case 4:return Di(),i===null&&Qy(o.stateNode.containerInfo),_n(o),null;case 10:return go(o.type),_n(o),null;case 19:if(ct(Yn),p=o.memoizedState,p===null)return _n(o),null;if(h=(o.flags&128)!==0,T=p.rendering,T===null)if(h)Mh(p,!1);else{if(Cn!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(T=kd(i),T!==null){for(o.flags|=128,Mh(p,!1),i=T.updateQueue,o.updateQueue=i,Xd(o,i),o.subtreeFlags=0,i=l,l=o.child;l!==null;)AE(l,i),l=l.sibling;return mt(Yn,Yn.current&1|2),o.child}i=i.sibling}p.tail!==null&&tr()>Wd&&(o.flags|=128,h=!0,Mh(p,!1),o.lanes=4194304)}else{if(!h)if(i=kd(T),i!==null){if(o.flags|=128,h=!0,i=i.updateQueue,o.updateQueue=i,Xd(o,i),Mh(p,!0),p.tail===null&&p.tailMode==="hidden"&&!T.alternate&&!Vt)return _n(o),null}else 2*tr()-p.renderingStartTime>Wd&&l!==536870912&&(o.flags|=128,h=!0,Mh(p,!1),o.lanes=4194304);p.isBackwards?(T.sibling=o.child,o.child=T):(i=p.last,i!==null?i.sibling=T:o.child=T,p.last=T)}return p.tail!==null?(o=p.tail,p.rendering=o,p.tail=o.sibling,p.renderingStartTime=tr(),o.sibling=null,i=Yn.current,mt(Yn,h?i&1|2:i&1),o):(_n(o),null);case 22:case 23:return ho(o),Vg(),h=o.memoizedState!==null,i!==null?i.memoizedState!==null!==h&&(o.flags|=8192):h&&(o.flags|=8192),h?(l&536870912)!==0&&(o.flags&128)===0&&(_n(o),o.subtreeFlags&6&&(o.flags|=8192)):_n(o),l=o.updateQueue,l!==null&&Xd(o,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),h=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),h!==l&&(o.flags|=2048),i!==null&&ct(El),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),o.memoizedState.cache!==l&&(o.flags|=2048),go(Gn),_n(o),null;case 25:return null}throw Error(r(156,o.tag))}function WI(i,o){switch(xg(o),o.tag){case 1:return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return go(Gn),Di(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 26:case 27:case 5:return Ho(o),null;case 13:if(ho(o),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(r(340));hh()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return ct(Yn),null;case 4:return Di(),null;case 10:return go(o.type),null;case 22:case 23:return ho(o),Vg(),i!==null&&ct(El),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 24:return go(Gn),null;case 25:return null;default:return null}}function DE(i,o){switch(xg(o),o.tag){case 3:go(Gn),Di();break;case 26:case 27:case 5:Ho(o);break;case 4:Di();break;case 13:ho(o);break;case 19:ct(Yn);break;case 10:go(o.type);break;case 22:case 23:ho(o),Vg(),i!==null&&ct(El);break;case 24:go(Gn)}}var JI={getCacheForType:function(i){var o=Lr(Gn),l=o.data.get(i);return l===void 0&&(l=i(),o.data.set(i,l)),l}},e2=typeof WeakMap=="function"?WeakMap:Map,Tn=0,on=null,Et=null,Mt=0,sn=0,_i=null,wo=!1,ju=!1,My=!1,Eo=0,Cn=0,ds=0,Ml=0,Ny=0,Hi=0,Bu=0,Nh=null,Oa=null,xy=!1,ky=0,Wd=1/0,Jd=null,ms=null,em=!1,Nl=null,xh=0,Py=0,Ly=null,kh=0,Vy=null;function Ti(){if((Tn&2)!==0&&Mt!==0)return Mt&-Mt;if(O.T!==null){var i=Nu;return i!==0?i:Hy()}return je()}function IE(){Hi===0&&(Hi=(Mt&536870912)===0||Vt?H():536870912);var i=Bi.current;return i!==null&&(i.flags|=32),Hi}function Zr(i,o,l){(i===on&&sn===2||i.cancelPendingCommit!==null)&&($u(i,0),bo(i,Mt,Hi,!1)),ue(i,l),((Tn&2)===0||i!==on)&&(i===on&&((Tn&2)===0&&(Ml|=l),Cn===4&&bo(i,Mt,Hi,!1)),Ma(i))}function OE(i,o,l){if((Tn&6)!==0)throw Error(r(327));var h=!l&&(o&60)===0&&(o&i.expiredLanes)===0||ya(i,o),p=h?r2(i,o):By(i,o,!0),T=h;do{if(p===0){ju&&!h&&bo(i,o,0,!1);break}else if(p===6)bo(i,o,0,!wo);else{if(l=i.current.alternate,T&&!t2(l)){p=By(i,o,!1),T=!1;continue}if(p===2){if(T=o,i.errorRecoveryDisabledLanes&T)var S=0;else S=i.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){o=S;e:{var k=i;p=Nh;var B=k.current.memoizedState.isDehydrated;if(B&&($u(k,S).flags|=256),S=By(k,S,!1),S!==2){if(My&&!B){k.errorRecoveryDisabledLanes|=T,Ml|=T,p=4;break e}T=Oa,Oa=p,T!==null&&Uy(T)}p=S}if(T=!1,p!==2)continue}}if(p===1){$u(i,0),bo(i,o,0,!0);break}e:{switch(h=i,p){case 0:case 1:throw Error(r(345));case 4:if((o&4194176)===o){bo(h,o,Hi,!wo);break e}break;case 2:Oa=null;break;case 3:case 5:break;default:throw Error(r(329))}if(h.finishedWork=l,h.finishedLanes=o,(o&62914560)===o&&(T=ky+300-tr(),10<T)){if(bo(h,o,Hi,!wo),gr(h,0)!==0)break e;h.timeoutHandle=eb(ME.bind(null,h,l,Oa,Jd,xy,o,Hi,Ml,Bu,wo,2,-0,0),T);break e}ME(h,l,Oa,Jd,xy,o,Hi,Ml,Bu,wo,0,-0,0)}}break}while(!0);Ma(i)}function Uy(i){Oa===null?Oa=i:Oa.push.apply(Oa,i)}function ME(i,o,l,h,p,T,S,k,B,K,le,me,te){var oe=o.subtreeFlags;if((oe&8192||(oe&16785408)===16785408)&&(jh={stylesheets:null,count:0,unsuspend:L2},wE(o),o=U2(),o!==null)){i.cancelPendingCommit=o(UE.bind(null,i,l,h,p,S,k,B,1,me,te)),bo(i,T,S,!K);return}UE(i,l,h,p,S,k,B,le,me,te)}function t2(i){for(var o=i;;){var l=o.tag;if((l===0||l===11||l===15)&&o.flags&16384&&(l=o.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var h=0;h<l.length;h++){var p=l[h],T=p.getSnapshot;p=p.value;try{if(!gi(T(),p))return!1}catch{return!1}}if(l=o.child,o.subtreeFlags&16384&&l!==null)l.return=o,o=l;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function bo(i,o,l,h){o&=~Ny,o&=~Ml,i.suspendedLanes|=o,i.pingedLanes&=~o,h&&(i.warmLanes|=o),h=i.expirationTimes;for(var p=o;0<p;){var T=31-rr(p),S=1<<T;h[T]=-1,p&=~S}l!==0&&Fe(i,l,o)}function tm(){return(Tn&6)===0?(Ph(0),!1):!0}function zy(){if(Et!==null){if(sn===0)var i=Et.return;else i=Et,po=Cl=null,Hg(i),Ou=null,ph=0,i=Et;for(;i!==null;)DE(i.alternate,i),i=i.return;Et=null}}function $u(i,o){i.finishedWork=null,i.finishedLanes=0;var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,T2(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),zy(),on=i,Et=l=fs(i.current,null),Mt=o,sn=0,_i=null,wo=!1,ju=ya(i,o),My=!1,Bu=Hi=Ny=Ml=ds=Cn=0,Oa=Nh=null,xy=!1,(o&8)!==0&&(o|=o&32);var h=i.entangledLanes;if(h!==0)for(i=i.entanglements,h&=o;0<h;){var p=31-rr(h),T=1<<p;o|=i[p],h&=~T}return Eo=o,Ad(),l}function NE(i,o){pt=null,O.H=Ia,o===dh?(o=GT(),sn=3):o===qT?(o=GT(),sn=4):sn=o===Hw?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,_i=o,Et===null&&(Cn=1,Hd(i,Ui(o,i.current)))}function xE(){var i=O.H;return O.H=Ia,i===null?Ia:i}function kE(){var i=O.A;return O.A=JI,i}function jy(){Cn=4,wo||(Mt&4194176)!==Mt&&Bi.current!==null||(ju=!0),(ds&134217727)===0&&(Ml&134217727)===0||on===null||bo(on,Mt,Hi,!1)}function By(i,o,l){var h=Tn;Tn|=2;var p=xE(),T=kE();(on!==i||Mt!==o)&&(Jd=null,$u(i,o)),o=!1;var S=Cn;e:do try{if(sn!==0&&Et!==null){var k=Et,B=_i;switch(sn){case 8:zy(),S=6;break e;case 3:case 2:case 6:Bi.current===null&&(o=!0);var K=sn;if(sn=0,_i=null,Fu(i,k,B,K),l&&ju){S=0;break e}break;default:K=sn,sn=0,_i=null,Fu(i,k,B,K)}}n2(),S=Cn;break}catch(le){NE(i,le)}while(!0);return o&&i.shellSuspendCounter++,po=Cl=null,Tn=h,O.H=p,O.A=T,Et===null&&(on=null,Mt=0,Ad()),S}function n2(){for(;Et!==null;)PE(Et)}function r2(i,o){var l=Tn;Tn|=2;var h=xE(),p=kE();on!==i||Mt!==o?(Jd=null,Wd=tr()+500,$u(i,o)):ju=ya(i,o);e:do try{if(sn!==0&&Et!==null){o=Et;var T=_i;t:switch(sn){case 1:sn=0,_i=null,Fu(i,o,T,1);break;case 2:if(HT(T)){sn=0,_i=null,LE(o);break}o=function(){sn===2&&on===i&&(sn=7),Ma(i)},T.then(o,o);break e;case 3:sn=7;break e;case 4:sn=5;break e;case 7:HT(T)?(sn=0,_i=null,LE(o)):(sn=0,_i=null,Fu(i,o,T,7));break;case 5:var S=null;switch(Et.tag){case 26:S=Et.memoizedState;case 5:case 27:var k=Et;if(!S||hb(S)){sn=0,_i=null;var B=k.sibling;if(B!==null)Et=B;else{var K=k.return;K!==null?(Et=K,nm(K)):Et=null}break t}}sn=0,_i=null,Fu(i,o,T,5);break;case 6:sn=0,_i=null,Fu(i,o,T,6);break;case 8:zy(),Cn=6;break e;default:throw Error(r(462))}}i2();break}catch(le){NE(i,le)}while(!0);return po=Cl=null,O.H=h,O.A=p,Tn=l,Et!==null?0:(on=null,Mt=0,Ad(),Cn)}function i2(){for(;Et!==null&&!Ja();)PE(Et)}function PE(i){var o=rE(i.alternate,i,Eo);i.memoizedProps=i.pendingProps,o===null?nm(i):Et=o}function LE(i){var o=i,l=o.alternate;switch(o.tag){case 15:case 0:o=Xw(l,o,o.pendingProps,o.type,void 0,Mt);break;case 11:o=Xw(l,o,o.pendingProps,o.type.render,o.ref,Mt);break;case 5:Hg(o);default:DE(l,o),o=Et=AE(o,Eo),o=rE(l,o,Eo)}i.memoizedProps=i.pendingProps,o===null?nm(i):Et=o}function Fu(i,o,l,h){po=Cl=null,Hg(o),Ou=null,ph=0;var p=o.return;try{if(YI(i,p,o,l,Mt)){Cn=1,Hd(i,Ui(l,i.current)),Et=null;return}}catch(T){if(p!==null)throw Et=p,T;Cn=1,Hd(i,Ui(l,i.current)),Et=null;return}o.flags&32768?(Vt||h===1?i=!0:ju||(Mt&536870912)!==0?i=!1:(wo=i=!0,(h===2||h===3||h===6)&&(h=Bi.current,h!==null&&h.tag===13&&(h.flags|=16384))),VE(o,i)):nm(o)}function nm(i){var o=i;do{if((o.flags&32768)!==0){VE(o,wo);return}i=o.return;var l=XI(o.alternate,o,Eo);if(l!==null){Et=l;return}if(o=o.sibling,o!==null){Et=o;return}Et=o=i}while(o!==null);Cn===0&&(Cn=5)}function VE(i,o){do{var l=WI(i.alternate,i);if(l!==null){l.flags&=32767,Et=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!o&&(i=i.sibling,i!==null)){Et=i;return}Et=i=l}while(i!==null);Cn=6,Et=null}function UE(i,o,l,h,p,T,S,k,B,K){var le=O.T,me=_e.p;try{_e.p=2,O.T=null,a2(i,o,l,h,me,p,T,S,k,B,K)}finally{O.T=le,_e.p=me}}function a2(i,o,l,h,p,T,S,k){do qu();while(Nl!==null);if((Tn&6)!==0)throw Error(r(327));var B=i.finishedWork;if(h=i.finishedLanes,B===null)return null;if(i.finishedWork=null,i.finishedLanes=0,B===i.current)throw Error(r(177));i.callbackNode=null,i.callbackPriority=0,i.cancelPendingCommit=null;var K=B.lanes|B.childLanes;if(K|=Og,be(i,h,K,T,S,k),i===on&&(Et=on=null,Mt=0),(B.subtreeFlags&10256)===0&&(B.flags&10256)===0||em||(em=!0,Py=K,Ly=l,u2(mi,function(){return qu(),null})),l=(B.flags&15990)!==0,(B.subtreeFlags&15990)!==0||l?(l=O.T,O.T=null,T=_e.p,_e.p=2,S=Tn,Tn|=4,KI(i,B),vE(B,i),II(Jy,i.containerInfo),mm=!!Wy,Jy=Wy=null,i.current=B,mE(i,B.alternate,B),Go(),Tn=S,_e.p=T,O.T=l):i.current=B,em?(em=!1,Nl=i,xh=h):zE(i,K),K=i.pendingLanes,K===0&&(ms=null),Ko(B.stateNode),Ma(i),o!==null)for(p=i.onRecoverableError,B=0;B<o.length;B++)K=o[B],p(K.value,{componentStack:K.stack});return(xh&3)!==0&&qu(),K=i.pendingLanes,(h&4194218)!==0&&(K&42)!==0?i===Vy?kh++:(kh=0,Vy=i):kh=0,Ph(0),null}function zE(i,o){(i.pooledCacheLanes&=o)===0&&(o=i.pooledCache,o!=null&&(i.pooledCache=null,yh(o)))}function qu(){if(Nl!==null){var i=Nl,o=Py;Py=0;var l=Ve(xh),h=O.T,p=_e.p;try{if(_e.p=32>l?32:l,O.T=null,Nl===null)var T=!1;else{l=Ly,Ly=null;var S=Nl,k=xh;if(Nl=null,xh=0,(Tn&6)!==0)throw Error(r(331));var B=Tn;if(Tn|=4,bE(S.current),TE(S,S.current,k,l),Tn=B,Ph(0,!1),nr&&typeof nr.onPostCommitFiberRoot=="function")try{nr.onPostCommitFiberRoot(Xi,S)}catch{}T=!0}return T}finally{_e.p=p,O.T=h,zE(i,o)}}return!1}function jE(i,o,l){o=Ui(l,o),o=ay(i.stateNode,o,2),i=ls(i,o,2),i!==null&&(ue(i,2),Ma(i))}function en(i,o,l){if(i.tag===3)jE(i,i,l);else for(;o!==null;){if(o.tag===3){jE(o,i,l);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(ms===null||!ms.has(h))){i=Ui(l,i),l=Fw(2),h=ls(o,l,2),h!==null&&(qw(l,h,o,i),ue(h,2),Ma(h));break}}o=o.return}}function $y(i,o,l){var h=i.pingCache;if(h===null){h=i.pingCache=new e2;var p=new Set;h.set(o,p)}else p=h.get(o),p===void 0&&(p=new Set,h.set(o,p));p.has(l)||(My=!0,p.add(l),i=o2.bind(null,i,o,l),o.then(i,i))}function o2(i,o,l){var h=i.pingCache;h!==null&&h.delete(o),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,on===i&&(Mt&l)===l&&(Cn===4||Cn===3&&(Mt&62914560)===Mt&&300>tr()-ky?(Tn&2)===0&&$u(i,0):Ny|=l,Bu===Mt&&(Bu=0)),Ma(i)}function BE(i,o){o===0&&(o=Q()),i=es(i,o),i!==null&&(ue(i,o),Ma(i))}function s2(i){var o=i.memoizedState,l=0;o!==null&&(l=o.retryLane),BE(i,l)}function l2(i,o){var l=0;switch(i.tag){case 13:var h=i.stateNode,p=i.memoizedState;p!==null&&(l=p.retryLane);break;case 19:h=i.stateNode;break;case 22:h=i.stateNode._retryCache;break;default:throw Error(r(314))}h!==null&&h.delete(o),BE(i,l)}function u2(i,o){return Wa(i,o)}var rm=null,Hu=null,Fy=!1,im=!1,qy=!1,xl=0;function Ma(i){i!==Hu&&i.next===null&&(Hu===null?rm=Hu=i:Hu=Hu.next=i),im=!0,Fy||(Fy=!0,h2(c2))}function Ph(i,o){if(!qy&&im){qy=!0;do for(var l=!1,h=rm;h!==null;){if(i!==0){var p=h.pendingLanes;if(p===0)var T=0;else{var S=h.suspendedLanes,k=h.pingedLanes;T=(1<<31-rr(42|i)+1)-1,T&=p&~(S&~k),T=T&201326677?T&201326677|1:T?T|2:0}T!==0&&(l=!0,qE(h,T))}else T=Mt,T=gr(h,h===on?T:0),(T&3)===0||ya(h,T)||(l=!0,qE(h,T));h=h.next}while(l);qy=!1}}function c2(){im=Fy=!1;var i=0;xl!==0&&(_2()&&(i=xl),xl=0);for(var o=tr(),l=null,h=rm;h!==null;){var p=h.next,T=$E(h,o);T===0?(h.next=null,l===null?rm=p:l.next=p,p===null&&(Hu=l)):(l=h,(i!==0||(T&3)!==0)&&(im=!0)),h=p}Ph(i)}function $E(i,o){for(var l=i.suspendedLanes,h=i.pingedLanes,p=i.expirationTimes,T=i.pendingLanes&-62914561;0<T;){var S=31-rr(T),k=1<<S,B=p[S];B===-1?((k&l)===0||(k&h)!==0)&&(p[S]=Qo(k,o)):B<=o&&(i.expiredLanes|=k),T&=~k}if(o=on,l=Mt,l=gr(i,i===o?l:0),h=i.callbackNode,l===0||i===o&&sn===2||i.cancelPendingCommit!==null)return h!==null&&h!==null&&ri(h),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||ya(i,l)){if(o=l&-l,o===i.callbackPriority)return o;switch(h!==null&&ri(h),Ve(l)){case 2:case 8:l=On;break;case 32:l=mi;break;case 268435456:l=ii;break;default:l=mi}return h=FE.bind(null,i),l=Wa(l,h),i.callbackPriority=o,i.callbackNode=l,o}return h!==null&&h!==null&&ri(h),i.callbackPriority=2,i.callbackNode=null,2}function FE(i,o){var l=i.callbackNode;if(qu()&&i.callbackNode!==l)return null;var h=Mt;return h=gr(i,i===on?h:0),h===0?null:(OE(i,h,o),$E(i,tr()),i.callbackNode!=null&&i.callbackNode===l?FE.bind(null,i):null)}function qE(i,o){if(qu())return null;OE(i,o,!0)}function h2(i){w2(function(){(Tn&6)!==0?Wa(Ht,i):i()})}function Hy(){return xl===0&&(xl=H()),xl}function HE(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Ta(""+i)}function YE(i,o){var l=o.ownerDocument.createElement("input");return l.name=o.name,l.value=o.value,i.id&&l.setAttribute("form",i.id),o.parentNode.insertBefore(l,o),i=new FormData(i),l.parentNode.removeChild(l),i}function f2(i,o,l,h,p){if(o==="submit"&&l&&l.stateNode===p){var T=HE((p[Ye]||null).action),S=h.submitter;S&&(o=(o=S[Ye]||null)?HE(o.formAction):S.getAttribute("formAction"),o!==null&&(T=o,S=null));var k=new gu("action","action",null,h,p);i.push({event:k,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(xl!==0){var B=S?YE(p,S):new FormData(p);ey(l,{pending:!0,data:B,method:p.method,action:T},null,B)}}else typeof T=="function"&&(k.preventDefault(),B=S?YE(p,S):new FormData(p),ey(l,{pending:!0,data:B,method:p.method,action:T},T,B))},currentTarget:p}]})}}for(var Yy=0;Yy<UT.length;Yy++){var Gy=UT[Yy],d2=Gy.toLowerCase(),m2=Gy[0].toUpperCase()+Gy.slice(1);ea(d2,"on"+m2)}ea(xT,"onAnimationEnd"),ea(kT,"onAnimationIteration"),ea(PT,"onAnimationStart"),ea("dblclick","onDoubleClick"),ea("focusin","onFocus"),ea("focusout","onBlur"),ea(MI,"onTransitionRun"),ea(NI,"onTransitionStart"),ea(xI,"onTransitionCancel"),ea(LT,"onTransitionEnd"),Bt("onMouseEnter",["mouseout","mouseover"]),Bt("onMouseLeave",["mouseout","mouseover"]),Bt("onPointerEnter",["pointerout","pointerover"]),Bt("onPointerLeave",["pointerout","pointerover"]),ft("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ft("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ft("onBeforeInput",["compositionend","keypress","textInput","paste"]),ft("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ft("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ft("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),p2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Lh));function GE(i,o){o=(o&4)!==0;for(var l=0;l<i.length;l++){var h=i[l],p=h.event;h=h.listeners;e:{var T=void 0;if(o)for(var S=h.length-1;0<=S;S--){var k=h[S],B=k.instance,K=k.currentTarget;if(k=k.listener,B!==T&&p.isPropagationStopped())break e;T=k,p.currentTarget=K;try{T(p)}catch(le){qd(le)}p.currentTarget=null,T=B}else for(S=0;S<h.length;S++){if(k=h[S],B=k.instance,K=k.currentTarget,k=k.listener,B!==T&&p.isPropagationStopped())break e;T=k,p.currentTarget=K;try{T(p)}catch(le){qd(le)}p.currentTarget=null,T=B}}}}function Ct(i,o){var l=o[pn];l===void 0&&(l=o[pn]=new Set);var h=i+"__bubble";l.has(h)||(KE(o,i,2,!1),l.add(h))}function Ky(i,o,l){var h=0;o&&(h|=4),KE(l,i,h,o)}var am="_reactListening"+Math.random().toString(36).slice(2);function Qy(i){if(!i[am]){i[am]=!0,va.forEach(function(l){l!=="selectionchange"&&(p2.has(l)||Ky(l,!1,i),Ky(l,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[am]||(o[am]=!0,Ky("selectionchange",!1,o))}}function KE(i,o,l,h){switch(yb(o)){case 2:var p=B2;break;case 8:p=$2;break;default:p=lv}l=p.bind(null,o,l,i),p=void 0,!Pi||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(p=!0),h?p!==void 0?i.addEventListener(o,l,{capture:!0,passive:p}):i.addEventListener(o,l,!0):p!==void 0?i.addEventListener(o,l,{passive:p}):i.addEventListener(o,l,!1)}function Zy(i,o,l,h,p){var T=h;if((o&1)===0&&(o&2)===0&&h!==null)e:for(;;){if(h===null)return;var S=h.tag;if(S===3||S===4){var k=h.stateNode.containerInfo;if(k===p||k.nodeType===8&&k.parentNode===p)break;if(S===4)for(S=h.return;S!==null;){var B=S.tag;if((B===3||B===4)&&(B=S.stateNode.containerInfo,B===p||B.nodeType===8&&B.parentNode===p))return;S=S.return}for(;k!==null;){if(S=Mn(k),S===null)return;if(B=S.tag,B===5||B===6||B===26||B===27){h=T=S;continue e}k=k.parentNode}}h=h.return}cd(function(){var K=T,le=pu(l),me=[];e:{var te=VT.get(i);if(te!==void 0){var oe=gu,Be=i;switch(i){case"keypress":if(Ea(l)===0)break e;case"keydown":case"keyup":oe=Eu;break;case"focusin":Be="focus",oe=_u;break;case"focusout":Be="blur",oe=_u;break;case"beforeblur":case"afterblur":oe=_u;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":oe=Li;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":oe=Eg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":oe=vd;break;case xT:case kT:case PT:oe=Tu;break;case LT:oe=Td;break;case"scroll":case"scrollend":oe=hd;break;case"wheel":oe=bu;break;case"copy":case"cut":case"paste":oe=wu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":oe=oh;break;case"toggle":case"beforetoggle":oe=Ed}var ot=(o&4)!==0,Dn=!ot&&(i==="scroll"||i==="scrollend"),X=ot?te!==null?te+"Capture":null:te;ot=[];for(var G=K,ee;G!==null;){var ce=G;if(ee=ce.stateNode,ce=ce.tag,ce!==5&&ce!==26&&ce!==27||ee===null||X===null||(ce=ul(G,X),ce!=null&&ot.push(Vh(G,ce,ee))),Dn)break;G=G.return}0<ot.length&&(te=new oe(te,Be,null,l,le),me.push({event:te,listeners:ot}))}}if((o&7)===0){e:{if(te=i==="mouseover"||i==="pointerover",oe=i==="mouseout"||i==="pointerout",te&&l!==ki&&(Be=l.relatedTarget||l.fromElement)&&(Mn(Be)||Be[Pt]))break e;if((oe||te)&&(te=le.window===le?le:(te=le.ownerDocument)?te.defaultView||te.parentWindow:window,oe?(Be=l.relatedTarget||l.toElement,oe=K,Be=Be?Mn(Be):null,Be!==null&&(Dn=ge(Be),ot=Be.tag,Be!==Dn||ot!==5&&ot!==27&&ot!==6)&&(Be=null)):(oe=null,Be=K),oe!==Be)){if(ot=Li,ce="onMouseLeave",X="onMouseEnter",G="mouse",(i==="pointerout"||i==="pointerover")&&(ot=oh,ce="onPointerLeave",X="onPointerEnter",G="pointer"),Dn=oe==null?te:Oi(oe),ee=Be==null?te:Oi(Be),te=new ot(ce,G+"leave",oe,l,le),te.target=Dn,te.relatedTarget=ee,ce=null,Mn(le)===K&&(ot=new ot(X,G+"enter",Be,l,le),ot.target=ee,ot.relatedTarget=Dn,ce=ot),Dn=ce,oe&&Be)t:{for(ot=oe,X=Be,G=0,ee=ot;ee;ee=Yu(ee))G++;for(ee=0,ce=X;ce;ce=Yu(ce))ee++;for(;0<G-ee;)ot=Yu(ot),G--;for(;0<ee-G;)X=Yu(X),ee--;for(;G--;){if(ot===X||X!==null&&ot===X.alternate)break t;ot=Yu(ot),X=Yu(X)}ot=null}else ot=null;oe!==null&&QE(me,te,oe,ot,!1),Be!==null&&Dn!==null&&QE(me,Dn,Be,ot,!0)}}e:{if(te=K?Oi(K):window,oe=te.nodeName&&te.nodeName.toLowerCase(),oe==="select"||oe==="input"&&te.type==="file")var xe=ET;else if(Hn(te))if(bT)xe=CI;else{xe=AI;var vt=RI}else oe=te.nodeName,!oe||oe.toLowerCase()!=="input"||te.type!=="checkbox"&&te.type!=="radio"?K&&Jc(K.elementType)&&(xe=ET):xe=SI;if(xe&&(xe=xe(i,K))){lo(me,xe,l,le);break e}vt&&vt(i,te,K),i==="focusout"&&K&&te.type==="number"&&K.memoizedProps.value!=null&&mu(te,"number",te.value)}switch(vt=K?Oi(K):window,i){case"focusin":(Hn(vt)||vt.contentEditable==="true")&&(Ru=vt,Cg=K,uh=null);break;case"focusout":uh=Cg=Ru=null;break;case"mousedown":Dg=!0;break;case"contextmenu":case"mouseup":case"dragend":Dg=!1,MT(me,l,le);break;case"selectionchange":if(OI)break;case"keydown":case"keyup":MT(me,l,le)}var qe;if(Aa)e:{switch(i){case"compositionstart":var Ke="onCompositionStart";break e;case"compositionend":Ke="onCompositionEnd";break e;case"compositionupdate":Ke="onCompositionUpdate";break e}Ke=void 0}else It?ie(i,l)&&(Ke="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Ke="onCompositionStart");Ke&&(A&&l.locale!=="ko"&&(It||Ke!=="onCompositionStart"?Ke==="onCompositionEnd"&&It&&(qe=th()):(wa=le,Jo="value"in wa?wa.value:wa.textContent,It=!0)),vt=om(K,Ke),0<vt.length&&(Ke=new ih(Ke,i,null,l,le),me.push({event:Ke,listeners:vt}),qe?Ke.data=qe:(qe=Te(l),qe!==null&&(Ke.data=qe)))),(qe=E?qn(i,l):Ot(i,l))&&(Ke=om(K,"onBeforeInput"),0<Ke.length&&(vt=new ih("onBeforeInput","beforeinput",null,l,le),me.push({event:vt,listeners:Ke}),vt.data=qe)),f2(me,i,K,l,le)}GE(me,o)})}function Vh(i,o,l){return{instance:i,listener:o,currentTarget:l}}function om(i,o){for(var l=o+"Capture",h=[];i!==null;){var p=i,T=p.stateNode;p=p.tag,p!==5&&p!==26&&p!==27||T===null||(p=ul(i,l),p!=null&&h.unshift(Vh(i,p,T)),p=ul(i,o),p!=null&&h.push(Vh(i,p,T))),i=i.return}return h}function Yu(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function QE(i,o,l,h,p){for(var T=o._reactName,S=[];l!==null&&l!==h;){var k=l,B=k.alternate,K=k.stateNode;if(k=k.tag,B!==null&&B===h)break;k!==5&&k!==26&&k!==27||K===null||(B=K,p?(K=ul(l,T),K!=null&&S.unshift(Vh(l,K,B))):p||(K=ul(l,T),K!=null&&S.push(Vh(l,K,B)))),l=l.return}S.length!==0&&i.push({event:o,listeners:S})}var g2=/\r\n?/g,y2=/\u0000|\uFFFD/g;function ZE(i){return(typeof i=="string"?i:""+i).replace(g2,`
`).replace(y2,"")}function XE(i,o){return o=ZE(o),ZE(i)===o}function sm(){}function Zt(i,o,l,h,p,T){switch(l){case"children":typeof h=="string"?o==="body"||o==="textarea"&&h===""||xi(i,h):(typeof h=="number"||typeof h=="bigint")&&o!=="body"&&xi(i,""+h);break;case"className":Zo(i,"class",h);break;case"tabIndex":Zo(i,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":Zo(i,l,h);break;case"style":ud(i,h,T);break;case"data":if(o!=="object"){Zo(i,"data",h);break}case"src":case"href":if(h===""&&(o!=="a"||l!=="href")){i.removeAttribute(l);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(l);break}h=Ta(""+h),i.setAttribute(l,h);break;case"action":case"formAction":if(typeof h=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof T=="function"&&(l==="formAction"?(o!=="input"&&Zt(i,o,"name",p.name,p,null),Zt(i,o,"formEncType",p.formEncType,p,null),Zt(i,o,"formMethod",p.formMethod,p,null),Zt(i,o,"formTarget",p.formTarget,p,null)):(Zt(i,o,"encType",p.encType,p,null),Zt(i,o,"method",p.method,p,null),Zt(i,o,"target",p.target,p,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(l);break}h=Ta(""+h),i.setAttribute(l,h);break;case"onClick":h!=null&&(i.onclick=sm);break;case"onScroll":h!=null&&Ct("scroll",i);break;case"onScrollEnd":h!=null&&Ct("scrollend",i);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(l=h.__html,l!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"multiple":i.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":i.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){i.removeAttribute("xlink:href");break}l=Ta(""+h),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,""+h):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":h===!0?i.setAttribute(l,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,h):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?i.setAttribute(l,h):i.removeAttribute(l);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?i.removeAttribute(l):i.setAttribute(l,h);break;case"popover":Ct("beforetoggle",i),Ct("toggle",i),_a(i,"popover",h);break;case"xlinkActuate":Ni(i,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":Ni(i,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":Ni(i,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":Ni(i,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":Ni(i,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":Ni(i,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":Ni(i,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":Ni(i,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":Ni(i,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":_a(i,"is",h);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Tg.get(l)||l,_a(i,l,h))}}function Xy(i,o,l,h,p,T){switch(l){case"style":ud(i,h,T);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(l=h.__html,l!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"children":typeof h=="string"?xi(i,h):(typeof h=="number"||typeof h=="bigint")&&xi(i,""+h);break;case"onScroll":h!=null&&Ct("scroll",i);break;case"onScrollEnd":h!=null&&Ct("scrollend",i);break;case"onClick":h!=null&&(i.onclick=sm);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ji.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(p=l.endsWith("Capture"),o=l.slice(2,p?l.length-7:void 0),T=i[Ye]||null,T=T!=null?T[l]:null,typeof T=="function"&&i.removeEventListener(o,T,p),typeof h=="function")){typeof T!="function"&&T!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(o,h,p);break e}l in i?i[l]=h:h===!0?i.setAttribute(l,""):_a(i,l,h)}}}function Tr(i,o,l){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ct("error",i),Ct("load",i);var h=!1,p=!1,T;for(T in l)if(l.hasOwnProperty(T)){var S=l[T];if(S!=null)switch(T){case"src":h=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Zt(i,o,T,S,l,null)}}p&&Zt(i,o,"srcSet",l.srcSet,l,null),h&&Zt(i,o,"src",l.src,l,null);return;case"input":Ct("invalid",i);var k=T=S=p=null,B=null,K=null;for(h in l)if(l.hasOwnProperty(h)){var le=l[h];if(le!=null)switch(h){case"name":p=le;break;case"type":S=le;break;case"checked":B=le;break;case"defaultChecked":K=le;break;case"value":T=le;break;case"defaultValue":k=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(r(137,o));break;default:Zt(i,o,h,le,l,null)}}sl(i,T,k,B,K,S,p,!1),ol(i);return;case"select":Ct("invalid",i),h=S=T=null;for(p in l)if(l.hasOwnProperty(p)&&(k=l[p],k!=null))switch(p){case"value":T=k;break;case"defaultValue":S=k;break;case"multiple":h=k;default:Zt(i,o,p,k,l,null)}o=T,l=S,i.multiple=!!h,o!=null?Lt(i,!!h,o,!1):l!=null&&Lt(i,!!h,l,!0);return;case"textarea":Ct("invalid",i),T=p=h=null;for(S in l)if(l.hasOwnProperty(S)&&(k=l[S],k!=null))switch(S){case"value":h=k;break;case"defaultValue":p=k;break;case"children":T=k;break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(r(91));break;default:Zt(i,o,S,k,l,null)}Wo(i,h,p,T),ol(i);return;case"option":for(B in l)if(l.hasOwnProperty(B)&&(h=l[B],h!=null))switch(B){case"selected":i.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:Zt(i,o,B,h,l,null)}return;case"dialog":Ct("cancel",i),Ct("close",i);break;case"iframe":case"object":Ct("load",i);break;case"video":case"audio":for(h=0;h<Lh.length;h++)Ct(Lh[h],i);break;case"image":Ct("error",i),Ct("load",i);break;case"details":Ct("toggle",i);break;case"embed":case"source":case"link":Ct("error",i),Ct("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in l)if(l.hasOwnProperty(K)&&(h=l[K],h!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Zt(i,o,K,h,l,null)}return;default:if(Jc(o)){for(le in l)l.hasOwnProperty(le)&&(h=l[le],h!==void 0&&Xy(i,o,le,h,l,void 0));return}}for(k in l)l.hasOwnProperty(k)&&(h=l[k],h!=null&&Zt(i,o,k,h,l,null))}function v2(i,o,l,h){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,T=null,S=null,k=null,B=null,K=null,le=null;for(oe in l){var me=l[oe];if(l.hasOwnProperty(oe)&&me!=null)switch(oe){case"checked":break;case"value":break;case"defaultValue":B=me;default:h.hasOwnProperty(oe)||Zt(i,o,oe,null,h,me)}}for(var te in h){var oe=h[te];if(me=l[te],h.hasOwnProperty(te)&&(oe!=null||me!=null))switch(te){case"type":T=oe;break;case"name":p=oe;break;case"checked":K=oe;break;case"defaultChecked":le=oe;break;case"value":S=oe;break;case"defaultValue":k=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(r(137,o));break;default:oe!==me&&Zt(i,o,te,oe,h,me)}}Xo(i,S,k,B,K,le,T,p);return;case"select":oe=S=k=te=null;for(T in l)if(B=l[T],l.hasOwnProperty(T)&&B!=null)switch(T){case"value":break;case"multiple":oe=B;default:h.hasOwnProperty(T)||Zt(i,o,T,null,h,B)}for(p in h)if(T=h[p],B=l[p],h.hasOwnProperty(p)&&(T!=null||B!=null))switch(p){case"value":te=T;break;case"defaultValue":k=T;break;case"multiple":S=T;default:T!==B&&Zt(i,o,p,T,h,B)}o=k,l=S,h=oe,te!=null?Lt(i,!!l,te,!1):!!h!=!!l&&(o!=null?Lt(i,!!l,o,!0):Lt(i,!!l,l?[]:"",!1));return;case"textarea":oe=te=null;for(k in l)if(p=l[k],l.hasOwnProperty(k)&&p!=null&&!h.hasOwnProperty(k))switch(k){case"value":break;case"children":break;default:Zt(i,o,k,null,h,p)}for(S in h)if(p=h[S],T=l[S],h.hasOwnProperty(S)&&(p!=null||T!=null))switch(S){case"value":te=p;break;case"defaultValue":oe=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(r(91));break;default:p!==T&&Zt(i,o,S,p,h,T)}ll(i,te,oe);return;case"option":for(var Be in l)if(te=l[Be],l.hasOwnProperty(Be)&&te!=null&&!h.hasOwnProperty(Be))switch(Be){case"selected":i.selected=!1;break;default:Zt(i,o,Be,null,h,te)}for(B in h)if(te=h[B],oe=l[B],h.hasOwnProperty(B)&&te!==oe&&(te!=null||oe!=null))switch(B){case"selected":i.selected=te&&typeof te!="function"&&typeof te!="symbol";break;default:Zt(i,o,B,te,h,oe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ot in l)te=l[ot],l.hasOwnProperty(ot)&&te!=null&&!h.hasOwnProperty(ot)&&Zt(i,o,ot,null,h,te);for(K in h)if(te=h[K],oe=l[K],h.hasOwnProperty(K)&&te!==oe&&(te!=null||oe!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(r(137,o));break;default:Zt(i,o,K,te,h,oe)}return;default:if(Jc(o)){for(var Dn in l)te=l[Dn],l.hasOwnProperty(Dn)&&te!==void 0&&!h.hasOwnProperty(Dn)&&Xy(i,o,Dn,void 0,h,te);for(le in h)te=h[le],oe=l[le],!h.hasOwnProperty(le)||te===oe||te===void 0&&oe===void 0||Xy(i,o,le,te,h,oe);return}}for(var X in l)te=l[X],l.hasOwnProperty(X)&&te!=null&&!h.hasOwnProperty(X)&&Zt(i,o,X,null,h,te);for(me in h)te=h[me],oe=l[me],!h.hasOwnProperty(me)||te===oe||te==null&&oe==null||Zt(i,o,me,te,h,oe)}var Wy=null,Jy=null;function lm(i){return i.nodeType===9?i:i.ownerDocument}function WE(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function JE(i,o){if(i===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&o==="foreignObject"?0:i}function ev(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var tv=null;function _2(){var i=window.event;return i&&i.type==="popstate"?i===tv?!1:(tv=i,!0):(tv=null,!1)}var eb=typeof setTimeout=="function"?setTimeout:void 0,T2=typeof clearTimeout=="function"?clearTimeout:void 0,tb=typeof Promise=="function"?Promise:void 0,w2=typeof queueMicrotask=="function"?queueMicrotask:typeof tb<"u"?function(i){return tb.resolve(null).then(i).catch(E2)}:eb;function E2(i){setTimeout(function(){throw i})}function nv(i,o){var l=o,h=0;do{var p=l.nextSibling;if(i.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"){if(h===0){i.removeChild(p),Hh(o);return}h--}else l!=="$"&&l!=="$?"&&l!=="$!"||h++;l=p}while(l);Hh(o)}function rv(i){var o=i.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var l=o;switch(o=o.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":rv(l),pi(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function b2(i,o,l,h){for(;i.nodeType===1;){var p=l;if(i.nodeName.toLowerCase()!==o.toLowerCase()){if(!h&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(h){if(!i[Yr])switch(o){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(T=i.getAttribute("rel"),T==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(T!==p.rel||i.getAttribute("href")!==(p.href==null?null:p.href)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||i.getAttribute("title")!==(p.title==null?null:p.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(T=i.getAttribute("src"),(T!==(p.src==null?null:p.src)||i.getAttribute("type")!==(p.type==null?null:p.type)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&T&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(o==="input"&&i.type==="hidden"){var T=p.name==null?null:""+p.name;if(p.type==="hidden"&&i.getAttribute("name")===T)return i}else return i;if(i=ra(i.nextSibling),i===null)break}return null}function R2(i,o,l){if(o==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=ra(i.nextSibling),i===null))return null;return i}function ra(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return i}function nb(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(o===0)return i;o--}else l==="/$"&&o++}i=i.previousSibling}return null}function rb(i,o,l){switch(o=lm(l),i){case"html":if(i=o.documentElement,!i)throw Error(r(452));return i;case"head":if(i=o.head,!i)throw Error(r(453));return i;case"body":if(i=o.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}var Yi=new Map,ib=new Set;function um(i){return typeof i.getRootNode=="function"?i.getRootNode():i.ownerDocument}var Ro=_e.d;_e.d={f:A2,r:S2,D:C2,C:D2,L:I2,m:O2,X:N2,S:M2,M:x2};function A2(){var i=Ro.f(),o=tm();return i||o}function S2(i){var o=Vn(i);o!==null&&o.tag===5&&o.type==="form"?Mw(o):Ro.r(i)}var Gu=typeof document>"u"?null:document;function ab(i,o,l){var h=Gu;if(h&&typeof o=="string"&&o){var p=An(o);p='link[rel="'+i+'"][href="'+p+'"]',typeof l=="string"&&(p+='[crossorigin="'+l+'"]'),ib.has(p)||(ib.add(p),i={rel:i,crossOrigin:l,href:o},h.querySelector(p)===null&&(o=h.createElement("link"),Tr(o,"link",i),jt(o),h.head.appendChild(o)))}}function C2(i){Ro.D(i),ab("dns-prefetch",i,null)}function D2(i,o){Ro.C(i,o),ab("preconnect",i,o)}function I2(i,o,l){Ro.L(i,o,l);var h=Gu;if(h&&i&&o){var p='link[rel="preload"][as="'+An(o)+'"]';o==="image"&&l&&l.imageSrcSet?(p+='[imagesrcset="'+An(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(p+='[imagesizes="'+An(l.imageSizes)+'"]')):p+='[href="'+An(i)+'"]';var T=p;switch(o){case"style":T=Ku(i);break;case"script":T=Qu(i)}Yi.has(T)||(i=z({rel:"preload",href:o==="image"&&l&&l.imageSrcSet?void 0:i,as:o},l),Yi.set(T,i),h.querySelector(p)!==null||o==="style"&&h.querySelector(Uh(T))||o==="script"&&h.querySelector(zh(T))||(o=h.createElement("link"),Tr(o,"link",i),jt(o),h.head.appendChild(o)))}}function O2(i,o){Ro.m(i,o);var l=Gu;if(l&&i){var h=o&&typeof o.as=="string"?o.as:"script",p='link[rel="modulepreload"][as="'+An(h)+'"][href="'+An(i)+'"]',T=p;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":T=Qu(i)}if(!Yi.has(T)&&(i=z({rel:"modulepreload",href:i},o),Yi.set(T,i),l.querySelector(p)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(zh(T)))return}h=l.createElement("link"),Tr(h,"link",i),jt(h),l.head.appendChild(h)}}}function M2(i,o,l){Ro.S(i,o,l);var h=Gu;if(h&&i){var p=ai(h).hoistableStyles,T=Ku(i);o=o||"default";var S=p.get(T);if(!S){var k={loading:0,preload:null};if(S=h.querySelector(Uh(T)))k.loading=5;else{i=z({rel:"stylesheet",href:i,"data-precedence":o},l),(l=Yi.get(T))&&iv(i,l);var B=S=h.createElement("link");jt(B),Tr(B,"link",i),B._p=new Promise(function(K,le){B.onload=K,B.onerror=le}),B.addEventListener("load",function(){k.loading|=1}),B.addEventListener("error",function(){k.loading|=2}),k.loading|=4,cm(S,o,h)}S={type:"stylesheet",instance:S,count:1,state:k},p.set(T,S)}}}function N2(i,o){Ro.X(i,o);var l=Gu;if(l&&i){var h=ai(l).hoistableScripts,p=Qu(i),T=h.get(p);T||(T=l.querySelector(zh(p)),T||(i=z({src:i,async:!0},o),(o=Yi.get(p))&&av(i,o),T=l.createElement("script"),jt(T),Tr(T,"link",i),l.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},h.set(p,T))}}function x2(i,o){Ro.M(i,o);var l=Gu;if(l&&i){var h=ai(l).hoistableScripts,p=Qu(i),T=h.get(p);T||(T=l.querySelector(zh(p)),T||(i=z({src:i,async:!0,type:"module"},o),(o=Yi.get(p))&&av(i,o),T=l.createElement("script"),jt(T),Tr(T,"link",i),l.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},h.set(p,T))}}function ob(i,o,l,h){var p=(p=vn.current)?um(p):null;if(!p)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(o=Ku(l.href),l=ai(p).hoistableStyles,h=l.get(o),h||(h={type:"style",instance:null,count:0,state:null},l.set(o,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=Ku(l.href);var T=ai(p).hoistableStyles,S=T.get(i);if(S||(p=p.ownerDocument||p,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},T.set(i,S),(T=p.querySelector(Uh(i)))&&!T._p&&(S.instance=T,S.state.loading=5),Yi.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Yi.set(i,l),T||k2(p,i,l,S.state))),o&&h===null)throw Error(r(528,""));return S}if(o&&h!==null)throw Error(r(529,""));return null;case"script":return o=l.async,l=l.src,typeof l=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Qu(l),l=ai(p).hoistableScripts,h=l.get(o),h||(h={type:"script",instance:null,count:0,state:null},l.set(o,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Ku(i){return'href="'+An(i)+'"'}function Uh(i){return'link[rel="stylesheet"]['+i+"]"}function sb(i){return z({},i,{"data-precedence":i.precedence,precedence:null})}function k2(i,o,l,h){i.querySelector('link[rel="preload"][as="style"]['+o+"]")?h.loading=1:(o=i.createElement("link"),h.preload=o,o.addEventListener("load",function(){return h.loading|=1}),o.addEventListener("error",function(){return h.loading|=2}),Tr(o,"link",l),jt(o),i.head.appendChild(o))}function Qu(i){return'[src="'+An(i)+'"]'}function zh(i){return"script[async]"+i}function lb(i,o,l){if(o.count++,o.instance===null)switch(o.type){case"style":var h=i.querySelector('style[data-href~="'+An(l.href)+'"]');if(h)return o.instance=h,jt(h),h;var p=z({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return h=(i.ownerDocument||i).createElement("style"),jt(h),Tr(h,"style",p),cm(h,l.precedence,i),o.instance=h;case"stylesheet":p=Ku(l.href);var T=i.querySelector(Uh(p));if(T)return o.state.loading|=4,o.instance=T,jt(T),T;h=sb(l),(p=Yi.get(p))&&iv(h,p),T=(i.ownerDocument||i).createElement("link"),jt(T);var S=T;return S._p=new Promise(function(k,B){S.onload=k,S.onerror=B}),Tr(T,"link",h),o.state.loading|=4,cm(T,l.precedence,i),o.instance=T;case"script":return T=Qu(l.src),(p=i.querySelector(zh(T)))?(o.instance=p,jt(p),p):(h=l,(p=Yi.get(T))&&(h=z({},l),av(h,p)),i=i.ownerDocument||i,p=i.createElement("script"),jt(p),Tr(p,"link",h),i.head.appendChild(p),o.instance=p);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(h=o.instance,o.state.loading|=4,cm(h,l.precedence,i));return o.instance}function cm(i,o,l){for(var h=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=h.length?h[h.length-1]:null,T=p,S=0;S<h.length;S++){var k=h[S];if(k.dataset.precedence===o)T=k;else if(T!==p)break}T?T.parentNode.insertBefore(i,T.nextSibling):(o=l.nodeType===9?l.head:l,o.insertBefore(i,o.firstChild))}function iv(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.title==null&&(i.title=o.title)}function av(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.integrity==null&&(i.integrity=o.integrity)}var hm=null;function ub(i,o,l){if(hm===null){var h=new Map,p=hm=new Map;p.set(l,h)}else p=hm,h=p.get(l),h||(h=new Map,p.set(l,h));if(h.has(i))return h;for(h.set(i,null),l=l.getElementsByTagName(i),p=0;p<l.length;p++){var T=l[p];if(!(T[Yr]||T[Me]||i==="link"&&T.getAttribute("rel")==="stylesheet")&&T.namespaceURI!=="http://www.w3.org/2000/svg"){var S=T.getAttribute(o)||"";S=i+S;var k=h.get(S);k?k.push(T):h.set(S,[T])}}return h}function cb(i,o,l){i=i.ownerDocument||i,i.head.insertBefore(l,o==="title"?i.querySelector("head > title"):null)}function P2(i,o,l){if(l===1||o.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return i=o.disabled,typeof o.precedence=="string"&&i==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function hb(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var jh=null;function L2(){}function V2(i,o,l){if(jh===null)throw Error(r(475));var h=jh;if(o.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var p=Ku(l.href),T=i.querySelector(Uh(p));if(T){i=T._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(h.count++,h=fm.bind(h),i.then(h,h)),o.state.loading|=4,o.instance=T,jt(T);return}T=i.ownerDocument||i,l=sb(l),(p=Yi.get(p))&&iv(l,p),T=T.createElement("link"),jt(T);var S=T;S._p=new Promise(function(k,B){S.onload=k,S.onerror=B}),Tr(T,"link",l),o.instance=T}h.stylesheets===null&&(h.stylesheets=new Map),h.stylesheets.set(o,i),(i=o.state.preload)&&(o.state.loading&3)===0&&(h.count++,o=fm.bind(h),i.addEventListener("load",o),i.addEventListener("error",o))}}function U2(){if(jh===null)throw Error(r(475));var i=jh;return i.stylesheets&&i.count===0&&ov(i,i.stylesheets),0<i.count?function(o){var l=setTimeout(function(){if(i.stylesheets&&ov(i,i.stylesheets),i.unsuspend){var h=i.unsuspend;i.unsuspend=null,h()}},6e4);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(l)}}:null}function fm(){if(this.count--,this.count===0){if(this.stylesheets)ov(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var dm=null;function ov(i,o){i.stylesheets=null,i.unsuspend!==null&&(i.count++,dm=new Map,o.forEach(z2,i),dm=null,fm.call(i))}function z2(i,o){if(!(o.state.loading&4)){var l=dm.get(i);if(l)var h=l.get(null);else{l=new Map,dm.set(i,l);for(var p=i.querySelectorAll("link[data-precedence],style[data-precedence]"),T=0;T<p.length;T++){var S=p[T];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(l.set(S.dataset.precedence,S),h=S)}h&&l.set(null,h)}p=o.instance,S=p.getAttribute("data-precedence"),T=l.get(S)||h,T===h&&l.set(null,p),l.set(S,p),this.count++,h=fm.bind(this),p.addEventListener("load",h),p.addEventListener("error",h),T?T.parentNode.insertBefore(p,T.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(p,i.firstChild)),o.state.loading|=4}}var Bh={$$typeof:b,Provider:null,Consumer:null,_currentValue:Pe,_currentValue2:Pe,_threadCount:0};function j2(i,o,l,h,p,T,S,k){this.tag=1,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ne(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ne(0),this.hiddenUpdates=ne(null),this.identifierPrefix=h,this.onUncaughtError=p,this.onCaughtError=T,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function fb(i,o,l,h,p,T,S,k,B,K,le,me){return i=new j2(i,o,l,S,k,B,K,me),o=1,T===!0&&(o|=24),T=qi(3,null,null,o),i.current=T,T.stateNode=i,o=Ug(),o.refCount++,i.pooledCache=o,o.refCount++,T.memoizedState={element:h,isDehydrated:l,cache:o},vy(T),i}function db(i){return i?(i=Cu,i):Cu}function mb(i,o,l,h,p,T){p=db(p),h.context===null?h.context=p:h.pendingContext=p,h=ss(o),h.payload={element:l},T=T===void 0?null:T,T!==null&&(h.callback=T),l=ls(i,h,o),l!==null&&(Zr(l,i,o),Rh(l,i,o))}function pb(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<o?l:o}}function sv(i,o){pb(i,o),(i=i.alternate)&&pb(i,o)}function gb(i){if(i.tag===13){var o=es(i,67108864);o!==null&&Zr(o,i,67108864),sv(i,67108864)}}var mm=!0;function B2(i,o,l,h){var p=O.T;O.T=null;var T=_e.p;try{_e.p=2,lv(i,o,l,h)}finally{_e.p=T,O.T=p}}function $2(i,o,l,h){var p=O.T;O.T=null;var T=_e.p;try{_e.p=8,lv(i,o,l,h)}finally{_e.p=T,O.T=p}}function lv(i,o,l,h){if(mm){var p=uv(h);if(p===null)Zy(i,o,h,pm,l),vb(i,h);else if(q2(p,i,o,l,h))h.stopPropagation();else if(vb(i,h),o&4&&-1<F2.indexOf(i)){for(;p!==null;){var T=Vn(p);if(T!==null)switch(T.tag){case 3:if(T=T.stateNode,T.current.memoizedState.isDehydrated){var S=Pr(T.pendingLanes);if(S!==0){var k=T;for(k.pendingLanes|=2,k.entangledLanes|=2;S;){var B=1<<31-rr(S);k.entanglements[1]|=B,S&=~B}Ma(T),(Tn&6)===0&&(Wd=tr()+500,Ph(0))}}break;case 13:k=es(T,2),k!==null&&Zr(k,T,2),tm(),sv(T,2)}if(T=uv(h),T===null&&Zy(i,o,h,pm,l),T===p)break;p=T}p!==null&&h.stopPropagation()}else Zy(i,o,h,null,l)}}function uv(i){return i=pu(i),cv(i)}var pm=null;function cv(i){if(pm=null,i=Mn(i),i!==null){var o=ge(i);if(o===null)i=null;else{var l=o.tag;if(l===13){if(i=ke(o),i!==null)return i;i=null}else if(l===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return pm=i,null}function yb(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(di()){case Ht:return 2;case On:return 8;case mi:case cu:return 32;case ii:return 268435456;default:return 32}default:return 32}}var hv=!1,ps=null,gs=null,ys=null,$h=new Map,Fh=new Map,vs=[],F2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function vb(i,o){switch(i){case"focusin":case"focusout":ps=null;break;case"dragenter":case"dragleave":gs=null;break;case"mouseover":case"mouseout":ys=null;break;case"pointerover":case"pointerout":$h.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fh.delete(o.pointerId)}}function qh(i,o,l,h,p,T){return i===null||i.nativeEvent!==T?(i={blockedOn:o,domEventName:l,eventSystemFlags:h,nativeEvent:T,targetContainers:[p]},o!==null&&(o=Vn(o),o!==null&&gb(o)),i):(i.eventSystemFlags|=h,o=i.targetContainers,p!==null&&o.indexOf(p)===-1&&o.push(p),i)}function q2(i,o,l,h,p){switch(o){case"focusin":return ps=qh(ps,i,o,l,h,p),!0;case"dragenter":return gs=qh(gs,i,o,l,h,p),!0;case"mouseover":return ys=qh(ys,i,o,l,h,p),!0;case"pointerover":var T=p.pointerId;return $h.set(T,qh($h.get(T)||null,i,o,l,h,p)),!0;case"gotpointercapture":return T=p.pointerId,Fh.set(T,qh(Fh.get(T)||null,i,o,l,h,p)),!0}return!1}function _b(i){var o=Mn(i.target);if(o!==null){var l=ge(o);if(l!==null){if(o=l.tag,o===13){if(o=ke(l),o!==null){i.blockedOn=o,Ae(i.priority,function(){if(l.tag===13){var h=Ti(),p=es(l,h);p!==null&&Zr(p,l,h),sv(l,h)}});return}}else if(o===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function gm(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var l=uv(i.nativeEvent);if(l===null){l=i.nativeEvent;var h=new l.constructor(l.type,l);ki=h,l.target.dispatchEvent(h),ki=null}else return o=Vn(l),o!==null&&gb(o),i.blockedOn=l,!1;o.shift()}return!0}function Tb(i,o,l){gm(i)&&l.delete(o)}function H2(){hv=!1,ps!==null&&gm(ps)&&(ps=null),gs!==null&&gm(gs)&&(gs=null),ys!==null&&gm(ys)&&(ys=null),$h.forEach(Tb),Fh.forEach(Tb)}function ym(i,o){i.blockedOn===o&&(i.blockedOn=null,hv||(hv=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,H2)))}var vm=null;function wb(i){vm!==i&&(vm=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){vm===i&&(vm=null);for(var o=0;o<i.length;o+=3){var l=i[o],h=i[o+1],p=i[o+2];if(typeof h!="function"){if(cv(h||l)===null)continue;break}var T=Vn(l);T!==null&&(i.splice(o,3),o-=3,ey(T,{pending:!0,data:p,method:l.method,action:h},h,p))}}))}function Hh(i){function o(B){return ym(B,i)}ps!==null&&ym(ps,i),gs!==null&&ym(gs,i),ys!==null&&ym(ys,i),$h.forEach(o),Fh.forEach(o);for(var l=0;l<vs.length;l++){var h=vs[l];h.blockedOn===i&&(h.blockedOn=null)}for(;0<vs.length&&(l=vs[0],l.blockedOn===null);)_b(l),l.blockedOn===null&&vs.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(h=0;h<l.length;h+=3){var p=l[h],T=l[h+1],S=p[Ye]||null;if(typeof T=="function")S||wb(l);else if(S){var k=null;if(T&&T.hasAttribute("formAction")){if(p=T,S=T[Ye]||null)k=S.formAction;else if(cv(p)!==null)continue}else k=S.action;typeof k=="function"?l[h+1]=k:(l.splice(h,3),h-=3),wb(l)}}}function fv(i){this._internalRoot=i}_m.prototype.render=fv.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(r(409));var l=o.current,h=Ti();mb(l,h,i,o,null,null)},_m.prototype.unmount=fv.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;i.tag===0&&qu(),mb(i.current,2,null,i,null,null),tm(),o[Pt]=null}};function _m(i){this._internalRoot=i}_m.prototype.unstable_scheduleHydration=function(i){if(i){var o=je();i={blockedOn:null,target:i,priority:o};for(var l=0;l<vs.length&&o!==0&&o<vs[l].priority;l++);vs.splice(l,0,i),l===0&&_b(i)}};var Eb=e.version;if(Eb!=="19.0.0")throw Error(r(527,Eb,"19.0.0"));_e.findDOMNode=function(i){var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=ae(o),i=i!==null?ve(i):null,i=i===null?null:i.stateNode,i};var Y2={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:O,findFiberByHostInstance:Mn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tm.isDisabled&&Tm.supportsFiber)try{Xi=Tm.inject(Y2),nr=Tm}catch{}}return Kh.createRoot=function(i,o){if(!a(i))throw Error(r(299));var l=!1,h="",p=zw,T=jw,S=Bw,k=null;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(k=o.unstable_transitionCallbacks)),o=fb(i,1,!1,null,null,l,h,p,T,S,k,null),i[Pt]=o.current,Qy(i.nodeType===8?i.parentNode:i),new fv(o)},Kh.hydrateRoot=function(i,o,l){if(!a(i))throw Error(r(299));var h=!1,p="",T=zw,S=jw,k=Bw,B=null,K=null;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(T=l.onUncaughtError),l.onCaughtError!==void 0&&(S=l.onCaughtError),l.onRecoverableError!==void 0&&(k=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(B=l.unstable_transitionCallbacks),l.formState!==void 0&&(K=l.formState)),o=fb(i,1,!0,o,l??null,h,p,T,S,k,B,K),o.context=db(null),l=o.current,h=Ti(),p=ss(h),p.callback=null,ls(l,p,h),o.current.lanes=h,ue(o,h),Ma(o),i[Pt]=o.current,Qy(i),new _m(o)},Kh.version="19.0.0",Kh}var xb;function jO(){if(xb)return pv.exports;xb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),pv.exports=zO(),pv.exports}var BO=jO(),Qh={},kb;function $O(){if(kb)return Qh;kb=1,Object.defineProperty(Qh,"__esModule",{value:!0}),Qh.parse=u,Qh.serialize=d;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,s=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function u(w,b){const R=new s,C=w.length;if(C<2)return R;const D=(b==null?void 0:b.decode)||g;let M=0;do{const x=w.indexOf("=",M);if(x===-1)break;const P=w.indexOf(";",M),$=P===-1?C:P;if(x>$){M=w.lastIndexOf(";",x-1)+1;continue}const V=c(w,M,x),Y=f(w,x,V),N=w.slice(V,Y);if(R[N]===void 0){let I=c(w,x+1,$),O=f(w,$,I);const z=D(w.slice(I,O));R[N]=z}M=$+1}while(M<C);return R}function c(w,b,R){do{const C=w.charCodeAt(b);if(C!==32&&C!==9)return b}while(++b<R);return R}function f(w,b,R){for(;b>R;){const C=w.charCodeAt(--b);if(C!==32&&C!==9)return b+1}return R}function d(w,b,R){const C=(R==null?void 0:R.encode)||encodeURIComponent;if(!n.test(w))throw new TypeError(`argument name is invalid: ${w}`);const D=C(b);if(!e.test(D))throw new TypeError(`argument val is invalid: ${b}`);let M=w+"="+D;if(!R)return M;if(R.maxAge!==void 0){if(!Number.isInteger(R.maxAge))throw new TypeError(`option maxAge is invalid: ${R.maxAge}`);M+="; Max-Age="+R.maxAge}if(R.domain){if(!t.test(R.domain))throw new TypeError(`option domain is invalid: ${R.domain}`);M+="; Domain="+R.domain}if(R.path){if(!r.test(R.path))throw new TypeError(`option path is invalid: ${R.path}`);M+="; Path="+R.path}if(R.expires){if(!v(R.expires)||!Number.isFinite(R.expires.valueOf()))throw new TypeError(`option expires is invalid: ${R.expires}`);M+="; Expires="+R.expires.toUTCString()}if(R.httpOnly&&(M+="; HttpOnly"),R.secure&&(M+="; Secure"),R.partitioned&&(M+="; Partitioned"),R.priority)switch(typeof R.priority=="string"?R.priority.toLowerCase():void 0){case"low":M+="; Priority=Low";break;case"medium":M+="; Priority=Medium";break;case"high":M+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${R.priority}`)}if(R.sameSite)switch(typeof R.sameSite=="string"?R.sameSite.toLowerCase():R.sameSite){case!0:case"strict":M+="; SameSite=Strict";break;case"lax":M+="; SameSite=Lax";break;case"none":M+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${R.sameSite}`)}return M}function g(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function v(w){return a.call(w)==="[object Date]"}return Qh}$O();/**
 * react-router v7.4.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var bA=n=>{throw TypeError(n)},FO=(n,e,t)=>e.has(n)||bA("Cannot "+t),_v=(n,e,t)=>(FO(n,e,"read from private field"),t?t.call(n):e.get(n)),qO=(n,e,t)=>e.has(n)?bA("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),Pb="popstate";function HO(n={}){function e(a,s){let{pathname:u="/",search:c="",hash:f=""}=Fo(a.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),yf("",{pathname:u,search:c,hash:f},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(a,s){let u=a.document.querySelector("base"),c="";if(u&&u.getAttribute("href")){let f=a.location.href,d=f.indexOf("#");c=d===-1?f:f.slice(0,d)}return c+"#"+(typeof s=="string"?s:Us(s))}function r(a,s){Wn(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(s)})`)}return GO(e,t,r,n)}function At(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Wn(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function YO(){return Math.random().toString(36).substring(2,10)}function Lb(n,e){return{usr:n.state,key:n.key,idx:e}}function yf(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Fo(e):e,state:t,key:e&&e.key||r||YO()}}function Us({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Fo(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function GO(n,e,t,r={}){let{window:a=document.defaultView,v5Compat:s=!1}=r,u=a.history,c="POP",f=null,d=g();d==null&&(d=0,u.replaceState({...u.state,idx:d},""));function g(){return(u.state||{idx:null}).idx}function v(){c="POP";let D=g(),M=D==null?null:D-d;d=D,f&&f({action:c,location:C.location,delta:M})}function w(D,M){c="PUSH";let x=yf(C.location,D,M);t&&t(x,D),d=g()+1;let P=Lb(x,d),$=C.createHref(x);try{u.pushState(P,"",$)}catch(V){if(V instanceof DOMException&&V.name==="DataCloneError")throw V;a.location.assign($)}s&&f&&f({action:c,location:C.location,delta:1})}function b(D,M){c="REPLACE";let x=yf(C.location,D,M);t&&t(x,D),d=g();let P=Lb(x,d),$=C.createHref(x);u.replaceState(P,"",$),s&&f&&f({action:c,location:C.location,delta:0})}function R(D){let M=a.location.origin!=="null"?a.location.origin:a.location.href,x=typeof D=="string"?D:Us(D);return x=x.replace(/ $/,"%20"),At(M,`No window.location.(origin|href) available to create URL for href: ${x}`),new URL(x,M)}let C={get action(){return c},get location(){return n(a,u)},listen(D){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(Pb,v),f=D,()=>{a.removeEventListener(Pb,v),f=null}},createHref(D){return e(a,D)},createURL:R,encodeLocation(D){let M=R(D);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:w,replace:b,go(D){return u.go(D)}};return C}var Jh,Vb=class{constructor(n){if(qO(this,Jh,new Map),n)for(let[e,t]of n)this.set(e,t)}get(n){if(_v(this,Jh).has(n))return _v(this,Jh).get(n);if(n.defaultValue!==void 0)return n.defaultValue;throw new Error("No value found for context")}set(n,e){_v(this,Jh).set(n,e)}};Jh=new WeakMap;var KO=new Set(["lazy","caseSensitive","path","id","index","children"]);function QO(n){return n.index===!0}function Gm(n,e,t=[],r={}){return n.map((a,s)=>{let u=[...t,String(s)],c=typeof a.id=="string"?a.id:u.join("-");if(At(a.index!==!0||!a.children,"Cannot specify children on an index route"),At(!r[c],`Found a route id collision on id "${c}".  Route id's must be globally unique within Data Router usages`),QO(a)){let f={...a,...e(a),id:c};return r[c]=f,f}else{let f={...a,...e(a),id:c,children:void 0};return r[c]=f,a.children&&(f.children=Gm(a.children,e,u,r)),f}})}function Es(n,e,t="/"){return Om(n,e,t,!1)}function Om(n,e,t,r){let a=typeof e=="string"?Fo(e):e,s=Qi(a.pathname||"/",t);if(s==null)return null;let u=RA(n);XO(u);let c=null;for(let f=0;c==null&&f<u.length;++f){let d=lM(s);c=oM(u[f],d,r)}return c}function ZO(n,e){let{route:t,pathname:r,params:a}=n;return{id:t.id,pathname:r,params:a,data:e[t.id],handle:t.handle}}function RA(n,e=[],t=[],r=""){let a=(s,u,c)=>{let f={relativePath:c===void 0?s.path||"":c,caseSensitive:s.caseSensitive===!0,childrenIndex:u,route:s};f.relativePath.startsWith("/")&&(At(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length));let d=La([r,f.relativePath]),g=t.concat(f);s.children&&s.children.length>0&&(At(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),RA(s.children,e,g,d)),!(s.path==null&&!s.index)&&e.push({path:d,score:iM(d,s.index),routesMeta:g})};return n.forEach((s,u)=>{var c;if(s.path===""||!((c=s.path)!=null&&c.includes("?")))a(s,u);else for(let f of AA(s.path))a(s,u,f)}),e}function AA(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,a=t.endsWith("?"),s=t.replace(/\?$/,"");if(r.length===0)return a?[s,""]:[s];let u=AA(r.join("/")),c=[];return c.push(...u.map(f=>f===""?s:[s,f].join("/"))),a&&c.push(...u),c.map(f=>n.startsWith("/")&&f===""?"/":f)}function XO(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:aM(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var WO=/^:[\w-]+$/,JO=3,eM=2,tM=1,nM=10,rM=-2,Ub=n=>n==="*";function iM(n,e){let t=n.split("/"),r=t.length;return t.some(Ub)&&(r+=rM),e&&(r+=eM),t.filter(a=>!Ub(a)).reduce((a,s)=>a+(WO.test(s)?JO:s===""?tM:nM),r)}function aM(n,e){return n.length===e.length&&n.slice(0,-1).every((r,a)=>r===e[a])?n[n.length-1]-e[e.length-1]:0}function oM(n,e,t=!1){let{routesMeta:r}=n,a={},s="/",u=[];for(let c=0;c<r.length;++c){let f=r[c],d=c===r.length-1,g=s==="/"?e:e.slice(s.length)||"/",v=Km({path:f.relativePath,caseSensitive:f.caseSensitive,end:d},g),w=f.route;if(!v&&d&&t&&!r[r.length-1].route.index&&(v=Km({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},g)),!v)return null;Object.assign(a,v.params),u.push({params:a,pathname:La([s,v.pathname]),pathnameBase:hM(La([s,v.pathnameBase])),route:w}),v.pathnameBase!=="/"&&(s=La([s,v.pathnameBase]))}return u}function Km(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=sM(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let s=a[0],u=s.replace(/(.)\/+$/,"$1"),c=a.slice(1);return{params:r.reduce((d,{paramName:g,isOptional:v},w)=>{if(g==="*"){let R=c[w]||"";u=s.slice(0,s.length-R.length).replace(/(.)\/+$/,"$1")}const b=c[w];return v&&!b?d[g]=void 0:d[g]=(b||"").replace(/%2F/g,"/"),d},{}),pathname:s,pathnameBase:u,pattern:n}}function sM(n,e=!1,t=!0){Wn(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,c,f)=>(r.push({paramName:c,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function lM(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Wn(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Qi(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function uM(n,e="/"){let{pathname:t,search:r="",hash:a=""}=typeof n=="string"?Fo(n):n;return{pathname:t?t.startsWith("/")?t:cM(t,e):e,search:fM(r),hash:dM(a)}}function cM(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function Tv(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function SA(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function xp(n){let e=SA(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function kp(n,e,t,r=!1){let a;typeof n=="string"?a=Fo(n):(a={...n},At(!a.pathname||!a.pathname.includes("?"),Tv("?","pathname","search",a)),At(!a.pathname||!a.pathname.includes("#"),Tv("#","pathname","hash",a)),At(!a.search||!a.search.includes("#"),Tv("#","search","hash",a)));let s=n===""||a.pathname==="",u=s?"/":a.pathname,c;if(u==null)c=t;else{let v=e.length-1;if(!r&&u.startsWith("..")){let w=u.split("/");for(;w[0]==="..";)w.shift(),v-=1;a.pathname=w.join("/")}c=v>=0?e[v]:"/"}let f=uM(a,c),d=u&&u!=="/"&&u.endsWith("/"),g=(s||u===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(d||g)&&(f.pathname+="/"),f}var La=n=>n.join("/").replace(/\/\/+/g,"/"),hM=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),fM=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,dM=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,Qm=class{constructor(n,e,t,r=!1){this.status=n,this.statusText=e||"",this.internal=r,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function vf(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var CA=["POST","PUT","PATCH","DELETE"],mM=new Set(CA),pM=["GET",...CA],gM=new Set(pM),yM=new Set([301,302,303,307,308]),vM=new Set([307,308]),wv={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},_M={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Zh={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},L0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,TM=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),DA="remix-router-transitions",IA=Symbol("ResetLoaderData");function wM(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";At(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=n.mapRouteProperties||TM,a={},s=Gm(n.routes,r,void 0,a),u,c=n.basename||"/",f=n.dataStrategy||SM,d={unstable_middleware:!1,...n.future},g=null,v=new Set,w=null,b=null,R=null,C=n.hydrationData!=null,D=Es(s,n.history.location,c),M=!1,x=null;if(D==null&&!n.patchRoutesOnNavigation){let H=Ki(404,{pathname:n.history.location.pathname}),{matches:Q,route:ne}=Zb(s);D=Q,x={[ne.id]:H}}D&&!n.hydrationData&&Pr(D,s,n.history.location.pathname).active&&(D=null);let P;if(D)if(D.some(H=>H.route.lazy))P=!1;else if(!D.some(H=>H.route.loader))P=!0;else{let H=n.hydrationData?n.hydrationData.loaderData:null,Q=n.hydrationData?n.hydrationData.errors:null;if(Q){let ne=D.findIndex(ue=>Q[ue.route.id]!==void 0);P=D.slice(0,ne+1).every(ue=>!Gv(ue.route,H,Q))}else P=D.every(ne=>!Gv(ne.route,H,Q))}else{P=!1,D=[];let H=Pr(null,s,n.history.location.pathname);H.active&&H.matches&&(M=!0,D=H.matches)}let $,V={historyAction:n.history.action,location:n.history.location,matches:D,initialized:P,navigation:wv,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||x,fetchers:new Map,blockers:new Map},Y="POP",N=!1,I,O=!1,z=new Map,j=null,q=!1,U=!1,Se=new Set,se=new Map,re=0,de=-1,ge=new Map,ke=new Set,F=new Map,ae=new Map,ve=new Set,ye=new Map,_e,Pe=null;function Le(){if(g=n.history.listen(({action:H,location:Q,delta:ne})=>{if(_e){_e(),_e=void 0;return}Wn(ye.size===0||ne!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ue=rr({currentLocation:V.location,nextLocation:Q,historyAction:H});if(ue&&ne!=null){let be=new Promise(Fe=>{_e=Fe});n.history.go(ne*-1),Hr(ue,{state:"blocked",location:Q,proceed(){Hr(ue,{state:"proceeding",proceed:void 0,reset:void 0,location:Q}),be.then(()=>n.history.go(ne))},reset(){let Fe=new Map(V.blockers);Fe.set(ue,Zh),ct({blockers:Fe})}});return}return vn(H,Q)}),t){UM(e,z);let H=()=>zM(e,z);e.addEventListener("pagehide",H),j=()=>e.removeEventListener("pagehide",H)}return V.initialized||vn("POP",V.location,{initialHydration:!0}),$}function wt(){g&&g(),j&&j(),v.clear(),I&&I.abort(),V.fetchers.forEach((H,Q)=>mi(Q)),V.blockers.forEach((H,Q)=>Ko(Q))}function dt(H){return v.add(H),()=>v.delete(H)}function ct(H,Q={}){V={...V,...H};let ne=[],ue=[];V.fetchers.forEach((be,Fe)=>{be.state==="idle"&&(ve.has(Fe)?ne.push(Fe):ue.push(Fe))}),ve.forEach(be=>{!V.fetchers.has(be)&&!se.has(be)&&ne.push(be)}),[...v].forEach(be=>be(V,{deletedFetchers:ne,viewTransitionOpts:Q.viewTransitionOpts,flushSync:Q.flushSync===!0})),ne.forEach(be=>mi(be)),ue.forEach(be=>V.fetchers.delete(be))}function mt(H,Q,{flushSync:ne}={}){var Ae,Oe;let ue=V.actionData!=null&&V.navigation.formMethod!=null&&ia(V.navigation.formMethod)&&V.navigation.state==="loading"&&((Ae=H.state)==null?void 0:Ae._isRedirect)!==!0,be;Q.actionData?Object.keys(Q.actionData).length>0?be=Q.actionData:be=null:ue?be=V.actionData:be=null;let Fe=Q.loaderData?Kb(V.loaderData,Q.loaderData,Q.matches||[],Q.errors):V.loaderData,$e=V.blockers;$e.size>0&&($e=new Map($e),$e.forEach((Me,Ye)=>$e.set(Ye,Zh)));let Ve=N===!0||V.navigation.formMethod!=null&&ia(V.navigation.formMethod)&&((Oe=H.state)==null?void 0:Oe._isRedirect)!==!0;u&&(s=u,u=void 0),q||Y==="POP"||(Y==="PUSH"?n.history.push(H,H.state):Y==="REPLACE"&&n.history.replace(H,H.state));let je;if(Y==="POP"){let Me=z.get(V.location.pathname);Me&&Me.has(H.pathname)?je={currentLocation:V.location,nextLocation:H}:z.has(H.pathname)&&(je={currentLocation:H,nextLocation:V.location})}else if(O){let Me=z.get(V.location.pathname);Me?Me.add(H.pathname):(Me=new Set([H.pathname]),z.set(V.location.pathname,Me)),je={currentLocation:V.location,nextLocation:H}}ct({...Q,actionData:be,loaderData:Fe,historyAction:Y,location:H,initialized:!0,navigation:wv,revalidation:"idle",restoreScrollPosition:Wi(H,Q.matches||V.matches),preventScrollReset:Ve,blockers:$e},{viewTransitionOpts:je,flushSync:ne===!0}),Y="POP",N=!1,O=!1,q=!1,U=!1,Pe==null||Pe.resolve(),Pe=null}async function Rn(H,Q){if(typeof H=="number"){n.history.go(H);return}let ne=Yv(V.location,V.matches,c,H,Q==null?void 0:Q.fromRouteId,Q==null?void 0:Q.relative),{path:ue,submission:be,error:Fe}=zb(!1,ne,Q),$e=V.location,Ve=yf(V.location,ue,Q&&Q.state);Ve={...Ve,...n.history.encodeLocation(Ve)};let je=Q&&Q.replace!=null?Q.replace:void 0,Ae="PUSH";je===!0?Ae="REPLACE":je===!1||be!=null&&ia(be.formMethod)&&be.formAction===V.location.pathname+V.location.search&&(Ae="REPLACE");let Oe=Q&&"preventScrollReset"in Q?Q.preventScrollReset===!0:void 0,Me=(Q&&Q.flushSync)===!0,Ye=rr({currentLocation:$e,nextLocation:Ve,historyAction:Ae});if(Ye){Hr(Ye,{state:"blocked",location:Ve,proceed(){Hr(Ye,{state:"proceeding",proceed:void 0,reset:void 0,location:Ve}),Rn(H,Q)},reset(){let Pt=new Map(V.blockers);Pt.set(Ye,Zh),ct({blockers:Pt})}});return}await vn(Ae,Ve,{submission:be,pendingError:Fe,preventScrollReset:Oe,replace:Q&&Q.replace,enableViewTransition:Q&&Q.viewTransition,flushSync:Me})}function qr(){Pe||(Pe=jM()),tr(),ct({revalidation:"loading"});let H=Pe.promise;return V.navigation.state==="submitting"?H:V.navigation.state==="idle"?(vn(V.historyAction,V.location,{startUninterruptedRevalidation:!0}),H):(vn(Y||V.historyAction,V.navigation.location,{overrideNavigation:V.navigation,enableViewTransition:O===!0}),H)}async function vn(H,Q,ne){I&&I.abort(),I=null,Y=H,q=(ne&&ne.startUninterruptedRevalidation)===!0,Ii(V.location,V.matches),N=(ne&&ne.preventScrollReset)===!0,O=(ne&&ne.enableViewTransition)===!0;let ue=u||s,be=ne&&ne.overrideNavigation,Fe=ne!=null&&ne.initialHydration&&V.matches&&V.matches.length>0&&!M?V.matches:Es(ue,Q,c),$e=(ne&&ne.flushSync)===!0;if(Fe&&V.initialized&&!U&&xM(V.location,Q)&&!(ne&&ne.submission&&ia(ne.submission.formMethod))){mt(Q,{matches:Fe},{flushSync:$e});return}let Ve=Pr(Fe,ue,Q.pathname);if(Ve.active&&Ve.matches&&(Fe=Ve.matches),!Fe){let{error:Jt,notFoundMatches:kt,route:dn}=eo(Q.pathname);mt(Q,{matches:kt,loaderData:{},errors:{[dn.id]:Jt}},{flushSync:$e});return}I=new AbortController;let je=Zu(n.history,Q,I.signal,ne&&ne.submission),Ae=new Vb(n.unstable_getContext?await n.unstable_getContext():void 0),Oe;if(ne&&ne.pendingError)Oe=[Ll(Fe).route.id,{type:"error",error:ne.pendingError}];else if(ne&&ne.submission&&ia(ne.submission.formMethod)){let Jt=await ma(je,Q,ne.submission,Fe,Ae,Ve.active,{replace:ne.replace,flushSync:$e});if(Jt.shortCircuited)return;if(Jt.pendingActionResult){let[kt,dn]=Jt.pendingActionResult;if(bi(dn)&&vf(dn.error)&&dn.error.status===404){I=null,mt(Q,{matches:Jt.matches,loaderData:{},errors:{[kt]:dn.error}});return}}Fe=Jt.matches||Fe,Oe=Jt.pendingActionResult,be=Ev(Q,ne.submission),$e=!1,Ve.active=!1,je=Zu(n.history,je.url,je.signal)}let{shortCircuited:Me,matches:Ye,loaderData:Pt,errors:pn}=await pa(je,Q,Fe,Ae,Ve.active,be,ne&&ne.submission,ne&&ne.fetcherSubmission,ne&&ne.replace,ne&&ne.initialHydration===!0,$e,Oe);Me||(I=null,mt(Q,{matches:Ye||Fe,...Qb(Oe),loaderData:Pt,errors:pn}))}async function ma(H,Q,ne,ue,be,Fe,$e={}){tr();let Ve=LM(Q,ne);if(ct({navigation:Ve},{flushSync:$e.flushSync===!0}),Fe){let Oe=await gr(ue,Q.pathname,H.signal);if(Oe.type==="aborted")return{shortCircuited:!0};if(Oe.type==="error"){let Me=Ll(Oe.partialMatches).route.id;return{matches:Oe.partialMatches,pendingActionResult:[Me,{type:"error",error:Oe.error}]}}else if(Oe.matches)ue=Oe.matches;else{let{notFoundMatches:Me,error:Ye,route:Pt}=eo(Q.pathname);return{matches:Me,pendingActionResult:[Pt.id,{type:"error",error:Ye}]}}}let je,Ae=ef(ue,Q);if(!Ae.route.action&&!Ae.route.lazy)je={type:"error",error:Ki(405,{method:H.method,pathname:Q.pathname,routeId:Ae.route.id})};else{let Oe=await Ja("action",H,[Ae],ue,be,null);if(je=Oe[Ae.route.id],!je){for(let Me of ue)if(Oe[Me.route.id]){je=Oe[Me.route.id];break}}if(H.signal.aborted)return{shortCircuited:!0}}if(Ul(je)){let Oe;return $e&&$e.replace!=null?Oe=$e.replace:Oe=Hb(je.response.headers.get("Location"),new URL(H.url),c)===V.location.pathname+V.location.search,await ri(H,je,!0,{submission:ne,replace:Oe}),{shortCircuited:!0}}if(bi(je)){let Oe=Ll(ue,Ae.route.id);return($e&&$e.replace)!==!0&&(Y="PUSH"),{matches:ue,pendingActionResult:[Oe.route.id,je]}}return{matches:ue,pendingActionResult:[Ae.route.id,je]}}async function pa(H,Q,ne,ue,be,Fe,$e,Ve,je,Ae,Oe,Me){let Ye=Fe||Ev(Q,$e),Pt=$e||Ve||Wb(Ye),pn=!q&&!Ae;if(be){if(pn){let Bt=Di(Me);ct({navigation:Ye,...Bt!==void 0?{actionData:Bt}:{}},{flushSync:Oe})}let ft=await gr(ne,Q.pathname,H.signal);if(ft.type==="aborted")return{shortCircuited:!0};if(ft.type==="error"){let Bt=Ll(ft.partialMatches).route.id;return{matches:ft.partialMatches,loaderData:{},errors:{[Bt]:ft.error}}}else if(ft.matches)ne=ft.matches;else{let{error:Bt,notFoundMatches:ir,route:to}=eo(Q.pathname);return{matches:ir,loaderData:{},errors:{[to.id]:Bt}}}}let Jt=u||s,[kt,dn]=Bb(n.history,V,ne,Pt,Q,Ae===!0,U,Se,ve,F,ke,Jt,c,Me);if(de=++re,kt.length===0&&dn.length===0){let ft=ga();return mt(Q,{matches:ne,loaderData:{},errors:Me&&bi(Me[1])?{[Me[0]]:Me[1].error}:null,...Qb(Me),...ft?{fetchers:new Map(V.fetchers)}:{}},{flushSync:Oe}),{shortCircuited:!0}}if(pn){let ft={};if(!be){ft.navigation=Ye;let Bt=Di(Me);Bt!==void 0&&(ft.actionData=Bt)}dn.length>0&&(ft.fetchers=rl(dn)),ct(ft,{flushSync:Oe})}dn.forEach(ft=>{ii(ft.key),ft.controller&&se.set(ft.key,ft.controller)});let Yr=()=>dn.forEach(ft=>ii(ft.key));I&&I.signal.addEventListener("abort",Yr);let{loaderResults:pi,fetcherResults:Mn}=await Go(ne,kt,dn,H,ue);if(H.signal.aborted)return{shortCircuited:!0};I&&I.signal.removeEventListener("abort",Yr),dn.forEach(ft=>se.delete(ft.key));let Vn=wm(pi);if(Vn)return await ri(H,Vn.result,!0,{replace:je}),{shortCircuited:!0};if(Vn=wm(Mn),Vn)return ke.add(Vn.key),await ri(H,Vn.result,!0,{replace:je}),{shortCircuited:!0};let{loaderData:Oi,errors:ai}=Gb(V,ne,pi,Me,dn,Mn);Ae&&V.errors&&(ai={...V.errors,...ai});let jt=ga(),va=Xi(de),Ji=jt||va||dn.length>0;return{matches:ne,loaderData:Oi,errors:ai,...Ji?{fetchers:new Map(V.fetchers)}:{}}}function Di(H){if(H&&!bi(H[1]))return{[H[0]]:H[1].data};if(V.actionData)return Object.keys(V.actionData).length===0?null:V.actionData}function rl(H){return H.forEach(Q=>{let ne=V.fetchers.get(Q.key),ue=Xh(void 0,ne?ne.data:void 0);V.fetchers.set(Q.key,ue)}),new Map(V.fetchers)}async function Ho(H,Q,ne,ue){ii(H);let be=(ue&&ue.flushSync)===!0,Fe=u||s,$e=Yv(V.location,V.matches,c,ne,Q,ue==null?void 0:ue.relative),Ve=Es(Fe,$e,c),je=Pr(Ve,Fe,$e);if(je.active&&je.matches&&(Ve=je.matches),!Ve){Ht(H,Q,Ki(404,{pathname:$e}),{flushSync:be});return}let{path:Ae,submission:Oe,error:Me}=zb(!0,$e,ue);if(Me){Ht(H,Q,Me,{flushSync:be});return}let Ye=ef(Ve,Ae),Pt=new Vb(n.unstable_getContext?await n.unstable_getContext():void 0),pn=(ue&&ue.preventScrollReset)===!0;if(Oe&&ia(Oe.formMethod)){await Yo(H,Q,Ae,Ye,Ve,Pt,je.active,be,pn,Oe);return}F.set(H,{routeId:Q,path:Ae}),await Wa(H,Q,Ae,Ye,Ve,Pt,je.active,be,pn,Oe)}async function Yo(H,Q,ne,ue,be,Fe,$e,Ve,je,Ae){tr(),F.delete(H);function Oe(an){if(!an.route.action&&!an.route.lazy){let Mi=Ki(405,{method:Ae.formMethod,pathname:ne,routeId:Q});return Ht(H,Q,Mi,{flushSync:Ve}),!0}return!1}if(!$e&&Oe(ue))return;let Me=V.fetchers.get(H);di(H,VM(Ae,Me),{flushSync:Ve});let Ye=new AbortController,Pt=Zu(n.history,ne,Ye.signal,Ae);if($e){let an=await gr(be,ne,Pt.signal,H);if(an.type==="aborted")return;if(an.type==="error"){Ht(H,Q,an.error,{flushSync:Ve});return}else if(an.matches){if(be=an.matches,ue=ef(be,ne),Oe(ue))return}else{Ht(H,Q,Ki(404,{pathname:ne}),{flushSync:Ve});return}}se.set(H,Ye);let pn=re,kt=(await Ja("action",Pt,[ue],be,Fe,H))[ue.route.id];if(Pt.signal.aborted){se.get(H)===Ye&&se.delete(H);return}if(ve.has(H)){if(Ul(kt)||bi(kt)){di(H,ws(void 0));return}}else{if(Ul(kt))if(se.delete(H),de>pn){di(H,ws(void 0));return}else return ke.add(H),di(H,Xh(Ae)),ri(Pt,kt,!1,{fetcherSubmission:Ae,preventScrollReset:je});if(bi(kt)){Ht(H,Q,kt.error);return}}let dn=V.navigation.location||V.location,Yr=Zu(n.history,dn,Ye.signal),pi=u||s,Mn=V.navigation.state!=="idle"?Es(pi,V.navigation.location,c):V.matches;At(Mn,"Didn't find any matches after fetcher action");let Vn=++re;ge.set(H,Vn);let Oi=Xh(Ae,kt.data);V.fetchers.set(H,Oi);let[ai,jt]=Bb(n.history,V,Mn,Ae,dn,!1,U,Se,ve,F,ke,pi,c,[ue.route.id,kt]);jt.filter(an=>an.key!==H).forEach(an=>{let Mi=an.key,al=V.fetchers.get(Mi),_a=Xh(void 0,al?al.data:void 0);V.fetchers.set(Mi,_a),ii(Mi),an.controller&&se.set(Mi,an.controller)}),ct({fetchers:new Map(V.fetchers)});let va=()=>jt.forEach(an=>ii(an.key));Ye.signal.addEventListener("abort",va);let{loaderResults:Ji,fetcherResults:ft}=await Go(Mn,ai,jt,Yr,Fe);if(Ye.signal.aborted)return;Ye.signal.removeEventListener("abort",va),ge.delete(H),se.delete(H),jt.forEach(an=>se.delete(an.key));let Bt=wm(Ji);if(Bt)return ri(Yr,Bt.result,!1,{preventScrollReset:je});if(Bt=wm(ft),Bt)return ke.add(Bt.key),ri(Yr,Bt.result,!1,{preventScrollReset:je});let{loaderData:ir,errors:to}=Gb(V,Mn,Ji,void 0,jt,ft);if(V.fetchers.has(H)){let an=ws(kt.data);V.fetchers.set(H,an)}Xi(Vn),V.navigation.state==="loading"&&Vn>de?(At(Y,"Expected pending action"),I&&I.abort(),mt(V.navigation.location,{matches:Mn,loaderData:ir,errors:to,fetchers:new Map(V.fetchers)})):(ct({errors:to,loaderData:Kb(V.loaderData,ir,Mn,to),fetchers:new Map(V.fetchers)}),U=!1)}async function Wa(H,Q,ne,ue,be,Fe,$e,Ve,je,Ae){let Oe=V.fetchers.get(H);di(H,Xh(Ae,Oe?Oe.data:void 0),{flushSync:Ve});let Me=new AbortController,Ye=Zu(n.history,ne,Me.signal);if($e){let kt=await gr(be,ne,Ye.signal,H);if(kt.type==="aborted")return;if(kt.type==="error"){Ht(H,Q,kt.error,{flushSync:Ve});return}else if(kt.matches)be=kt.matches,ue=ef(be,ne);else{Ht(H,Q,Ki(404,{pathname:ne}),{flushSync:Ve});return}}se.set(H,Me);let Pt=re,Jt=(await Ja("loader",Ye,[ue],be,Fe,H))[ue.route.id];if(se.get(H)===Me&&se.delete(H),!Ye.signal.aborted){if(ve.has(H)){di(H,ws(void 0));return}if(Ul(Jt))if(de>Pt){di(H,ws(void 0));return}else{ke.add(H),await ri(Ye,Jt,!1,{preventScrollReset:je});return}if(bi(Jt)){Ht(H,Q,Jt.error);return}di(H,ws(Jt.data))}}async function ri(H,Q,ne,{submission:ue,fetcherSubmission:be,preventScrollReset:Fe,replace:$e}={}){Q.response.headers.has("X-Remix-Revalidate")&&(U=!0);let Ve=Q.response.headers.get("Location");At(Ve,"Expected a Location header on the redirect Response"),Ve=Hb(Ve,new URL(H.url),c);let je=yf(V.location,Ve,{_isRedirect:!0});if(t){let pn=!1;if(Q.response.headers.has("X-Remix-Reload-Document"))pn=!0;else if(L0.test(Ve)){const Jt=n.history.createURL(Ve);pn=Jt.origin!==e.location.origin||Qi(Jt.pathname,c)==null}if(pn){$e?e.location.replace(Ve):e.location.assign(Ve);return}}I=null;let Ae=$e===!0||Q.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Oe,formAction:Me,formEncType:Ye}=V.navigation;!ue&&!be&&Oe&&Me&&Ye&&(ue=Wb(V.navigation));let Pt=ue||be;if(vM.has(Q.response.status)&&Pt&&ia(Pt.formMethod))await vn(Ae,je,{submission:{...Pt,formAction:Ve},preventScrollReset:Fe||N,enableViewTransition:ne?O:void 0});else{let pn=Ev(je,ue);await vn(Ae,je,{overrideNavigation:pn,fetcherSubmission:be,preventScrollReset:Fe||N,enableViewTransition:ne?O:void 0})}}async function Ja(H,Q,ne,ue,be,Fe){let $e,Ve={};try{$e=await DM(f,H,Q,ne,ue,Fe,a,r,be,d.unstable_middleware)}catch(je){return ne.forEach(Ae=>{Ve[Ae.route.id]={type:"error",error:je}}),Ve}for(let[je,Ae]of Object.entries($e))if(kM(Ae)){let Oe=Ae.result;Ve[je]={type:"redirect",response:MM(Oe,Q,je,ue,c)}}else Ve[je]=await OM(Ae);return Ve}async function Go(H,Q,ne,ue,be){let Fe=Ja("loader",ue,Q,H,be,null),$e=Promise.all(ne.map(async Ae=>{if(Ae.matches&&Ae.match&&Ae.controller){let Me=(await Ja("loader",Zu(n.history,Ae.path,Ae.controller.signal),[Ae.match],Ae.matches,be,Ae.key))[Ae.match.route.id];return{[Ae.key]:Me}}else return Promise.resolve({[Ae.key]:{type:"error",error:Ki(404,{pathname:Ae.path})}})})),Ve=await Fe,je=(await $e).reduce((Ae,Oe)=>Object.assign(Ae,Oe),{});return{loaderResults:Ve,fetcherResults:je}}function tr(){U=!0,F.forEach((H,Q)=>{se.has(Q)&&Se.add(Q),ii(Q)})}function di(H,Q,ne={}){V.fetchers.set(H,Q),ct({fetchers:new Map(V.fetchers)},{flushSync:(ne&&ne.flushSync)===!0})}function Ht(H,Q,ne,ue={}){let be=Ll(V.matches,Q);mi(H),ct({errors:{[be.route.id]:ne},fetchers:new Map(V.fetchers)},{flushSync:(ue&&ue.flushSync)===!0})}function On(H){return ae.set(H,(ae.get(H)||0)+1),ve.has(H)&&ve.delete(H),V.fetchers.get(H)||_M}function mi(H){let Q=V.fetchers.get(H);se.has(H)&&!(Q&&Q.state==="loading"&&ge.has(H))&&ii(H),F.delete(H),ge.delete(H),ke.delete(H),ve.delete(H),Se.delete(H),V.fetchers.delete(H)}function cu(H){let Q=(ae.get(H)||0)-1;Q<=0?(ae.delete(H),ve.add(H)):ae.set(H,Q),ct({fetchers:new Map(V.fetchers)})}function ii(H){let Q=se.get(H);Q&&(Q.abort(),se.delete(H))}function hu(H){for(let Q of H){let ne=On(Q),ue=ws(ne.data);V.fetchers.set(Q,ue)}}function ga(){let H=[],Q=!1;for(let ne of ke){let ue=V.fetchers.get(ne);At(ue,`Expected fetcher: ${ne}`),ue.state==="loading"&&(ke.delete(ne),H.push(ne),Q=!0)}return hu(H),Q}function Xi(H){let Q=[];for(let[ne,ue]of ge)if(ue<H){let be=V.fetchers.get(ne);At(be,`Expected fetcher: ${ne}`),be.state==="loading"&&(ii(ne),ge.delete(ne),Q.push(ne))}return hu(Q),Q.length>0}function nr(H,Q){let ne=V.blockers.get(H)||Zh;return ye.get(H)!==Q&&ye.set(H,Q),ne}function Ko(H){V.blockers.delete(H),ye.delete(H)}function Hr(H,Q){let ne=V.blockers.get(H)||Zh;At(ne.state==="unblocked"&&Q.state==="blocked"||ne.state==="blocked"&&Q.state==="blocked"||ne.state==="blocked"&&Q.state==="proceeding"||ne.state==="blocked"&&Q.state==="unblocked"||ne.state==="proceeding"&&Q.state==="unblocked",`Invalid blocker state transition: ${ne.state} -> ${Q.state}`);let ue=new Map(V.blockers);ue.set(H,Q),ct({blockers:ue})}function rr({currentLocation:H,nextLocation:Q,historyAction:ne}){if(ye.size===0)return;ye.size>1&&Wn(!1,"A router only supports one blocker at a time");let ue=Array.from(ye.entries()),[be,Fe]=ue[ue.length-1],$e=V.blockers.get(be);if(!($e&&$e.state==="proceeding")&&Fe({currentLocation:H,nextLocation:Q,historyAction:ne}))return be}function eo(H){let Q=Ki(404,{pathname:H}),ne=u||s,{matches:ue,route:be}=Zb(ne);return{notFoundMatches:ue,route:be,error:Q}}function fu(H,Q,ne){if(w=H,R=Q,b=ne||null,!C&&V.navigation===wv){C=!0;let ue=Wi(V.location,V.matches);ue!=null&&ct({restoreScrollPosition:ue})}return()=>{w=null,R=null,b=null}}function il(H,Q){return b&&b(H,Q.map(ue=>ZO(ue,V.loaderData)))||H.key}function Ii(H,Q){if(w&&R){let ne=il(H,Q);w[ne]=R()}}function Wi(H,Q){if(w){let ne=il(H,Q),ue=w[ne];if(typeof ue=="number")return ue}return null}function Pr(H,Q,ne){if(n.patchRoutesOnNavigation)if(H){if(Object.keys(H[0].params).length>0)return{active:!0,matches:Om(Q,ne,c,!0)}}else return{active:!0,matches:Om(Q,ne,c,!0)||[]};return{active:!1,matches:null}}async function gr(H,Q,ne,ue){if(!n.patchRoutesOnNavigation)return{type:"success",matches:H};let be=H;for(;;){let Fe=u==null,$e=u||s,Ve=a;try{await n.patchRoutesOnNavigation({signal:ne,path:Q,matches:be,fetcherKey:ue,patch:(Oe,Me)=>{ne.aborted||Fb(Oe,Me,$e,Ve,r)}})}catch(Oe){return{type:"error",error:Oe,partialMatches:be}}finally{Fe&&!ne.aborted&&(s=[...s])}if(ne.aborted)return{type:"aborted"};let je=Es($e,Q,c);if(je)return{type:"success",matches:je};let Ae=Om($e,Q,c,!0);if(!Ae||be.length===Ae.length&&be.every((Oe,Me)=>Oe.route.id===Ae[Me].route.id))return{type:"success",matches:null};be=Ae}}function ya(H){a={},u=Gm(H,r,void 0,a)}function Qo(H,Q){let ne=u==null;Fb(H,Q,u||s,a,r),ne&&(s=[...s],ct({}))}return $={get basename(){return c},get future(){return d},get state(){return V},get routes(){return s},get window(){return e},initialize:Le,subscribe:dt,enableScrollRestoration:fu,navigate:Rn,fetch:Ho,revalidate:qr,createHref:H=>n.history.createHref(H),encodeLocation:H=>n.history.encodeLocation(H),getFetcher:On,deleteFetcher:cu,dispose:wt,getBlocker:nr,deleteBlocker:Ko,patchRoutes:Qo,_internalFetchControllers:se,_internalSetRoutes:ya},$}function EM(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function Yv(n,e,t,r,a,s){let u,c;if(a){u=[];for(let d of e)if(u.push(d),d.route.id===a){c=d;break}}else u=e,c=e[e.length-1];let f=kp(r||".",xp(u),Qi(n.pathname,t)||n.pathname,s==="path");if(r==null&&(f.search=n.search,f.hash=n.hash),(r==null||r===""||r===".")&&c){let d=V0(f.search);if(c.route.index&&!d)f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index";else if(!c.route.index&&d){let g=new URLSearchParams(f.search),v=g.getAll("index");g.delete("index"),v.filter(b=>b).forEach(b=>g.append("index",b));let w=g.toString();f.search=w?`?${w}`:""}}return t!=="/"&&(f.pathname=f.pathname==="/"?t:La([t,f.pathname])),Us(f)}function zb(n,e,t){if(!t||!EM(t))return{path:e};if(t.formMethod&&!PM(t.formMethod))return{path:e,error:Ki(405,{method:t.formMethod})};let r=()=>({path:e,error:Ki(400,{type:"invalid-body"})}),s=(t.formMethod||"get").toUpperCase(),u=NA(e);if(t.body!==void 0){if(t.formEncType==="text/plain"){if(!ia(s))return r();let v=typeof t.body=="string"?t.body:t.body instanceof FormData||t.body instanceof URLSearchParams?Array.from(t.body.entries()).reduce((w,[b,R])=>`${w}${b}=${R}
`,""):String(t.body);return{path:e,submission:{formMethod:s,formAction:u,formEncType:t.formEncType,formData:void 0,json:void 0,text:v}}}else if(t.formEncType==="application/json"){if(!ia(s))return r();try{let v=typeof t.body=="string"?JSON.parse(t.body):t.body;return{path:e,submission:{formMethod:s,formAction:u,formEncType:t.formEncType,formData:void 0,json:v,text:void 0}}}catch{return r()}}}At(typeof FormData=="function","FormData is not available in this environment");let c,f;if(t.formData)c=Kv(t.formData),f=t.formData;else if(t.body instanceof FormData)c=Kv(t.body),f=t.body;else if(t.body instanceof URLSearchParams)c=t.body,f=Yb(c);else if(t.body==null)c=new URLSearchParams,f=new FormData;else try{c=new URLSearchParams(t.body),f=Yb(c)}catch{return r()}let d={formMethod:s,formAction:u,formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:f,json:void 0,text:void 0};if(ia(d.formMethod))return{path:e,submission:d};let g=Fo(e);return n&&g.search&&V0(g.search)&&c.append("index",""),g.search=`?${c}`,{path:Us(g),submission:d}}function jb(n,e,t=!1){let r=n.findIndex(a=>a.route.id===e);return r>=0?n.slice(0,t?r+1:r):n}function Bb(n,e,t,r,a,s,u,c,f,d,g,v,w,b){let R=b?bi(b[1])?b[1].error:b[1].data:void 0,C=n.createURL(e.location),D=n.createURL(a),M=t;s&&e.errors?M=jb(t,Object.keys(e.errors)[0],!0):b&&bi(b[1])&&(M=jb(t,b[0]));let x=b?b[1].statusCode:void 0,P=x&&x>=400,$=M.filter((Y,N)=>{let{route:I}=Y;if(I.lazy)return!0;if(I.loader==null)return!1;if(s)return Gv(I,e.loaderData,e.errors);if(bM(e.loaderData,e.matches[N],Y))return!0;let O=e.matches[N],z=Y;return $b(Y,{currentUrl:C,currentParams:O.params,nextUrl:D,nextParams:z.params,...r,actionResult:R,actionStatus:x,defaultShouldRevalidate:P?!1:u||C.pathname+C.search===D.pathname+D.search||C.search!==D.search||RM(O,z)})}),V=[];return d.forEach((Y,N)=>{if(s||!t.some(q=>q.route.id===Y.routeId)||f.has(N))return;let I=Es(v,Y.path,w);if(!I){V.push({key:N,routeId:Y.routeId,path:Y.path,matches:null,match:null,controller:null});return}let O=e.fetchers.get(N),z=ef(I,Y.path),j=!1;g.has(N)?j=!1:c.has(N)?(c.delete(N),j=!0):O&&O.state!=="idle"&&O.data===void 0?j=u:j=$b(z,{currentUrl:C,currentParams:e.matches[e.matches.length-1].params,nextUrl:D,nextParams:t[t.length-1].params,...r,actionResult:R,actionStatus:x,defaultShouldRevalidate:P?!1:u}),j&&V.push({key:N,routeId:Y.routeId,path:Y.path,matches:I,match:z,controller:new AbortController})}),[$,V]}function Gv(n,e,t){if(n.lazy)return!0;if(!n.loader)return!1;let r=e!=null&&e[n.id]!==void 0,a=t!=null&&t[n.id]!==void 0;return!r&&a?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!r&&!a}function bM(n,e,t){let r=!e||t.route.id!==e.route.id,a=!n.hasOwnProperty(t.route.id);return r||a}function RM(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function $b(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function Fb(n,e,t,r,a){let s;if(n){let f=r[n];At(f,`No route found to patch children into: routeId = ${n}`),f.children||(f.children=[]),s=f.children}else s=t;let u=e.filter(f=>!s.some(d=>OA(f,d))),c=Gm(u,a,[n||"_","patch",String((s==null?void 0:s.length)||"0")],r);s.push(...c)}function OA(n,e){return"id"in n&&"id"in e&&n.id===e.id?!0:n.index===e.index&&n.path===e.path&&n.caseSensitive===e.caseSensitive?(!n.children||n.children.length===0)&&(!e.children||e.children.length===0)?!0:n.children.every((t,r)=>{var a;return(a=e.children)==null?void 0:a.some(s=>OA(t,s))}):!1}async function AM(n,e,t){if(!n.lazy)return;let r=await n.lazy();if(!n.lazy)return;let a=t[n.id];At(a,"No route found in manifest");let s={};for(let u in r){let f=a[u]!==void 0&&u!=="hasErrorBoundary";Wn(!f,`Route "${a.id}" has a static property "${u}" defined but its lazy function is also returning a value for this property. The lazy route property "${u}" will be ignored.`),!f&&!KO.has(u)&&(s[u]=r[u])}Object.assign(a,s),Object.assign(a,{...e(a),lazy:void 0})}async function qb(n){let e=n.matches.filter(a=>a.shouldLoad),t={};return(await Promise.all(e.map(a=>a.resolve()))).forEach((a,s)=>{t[e[s].route.id]=a}),t}async function SM(n){return n.matches.some(e=>e.route.unstable_middleware)?CM(n,!1,()=>qb(n),(e,t)=>({[t]:{type:"error",result:e}})):qb(n)}async function CM(n,e,t,r){let{matches:a,request:s,params:u,context:c}=n,f={handlerResult:void 0};try{let d=a.flatMap(v=>v.route.unstable_middleware?v.route.unstable_middleware.map(w=>[v.route.id,w]):[]),g=await MA({request:s,params:u,context:c},d,e,f,t);return e?g:f.handlerResult}catch(d){if(!f.middlewareError)throw d;let g=await r(f.middlewareError.error,f.middlewareError.routeId);return f.handlerResult?Object.assign(f.handlerResult,g):g}}async function MA(n,e,t,r,a,s=0){let{request:u}=n;if(u.signal.aborted)throw u.signal.reason?u.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${u.method} ${u.url}`);let c=e[s];if(!c)return r.handlerResult=await a(),r.handlerResult;let[f,d]=c,g=!1,v,w=async()=>{if(g)throw new Error("You may only call `next()` once per middleware");g=!0,await MA(n,e,t,r,a,s+1)};try{let b=await d({request:n.request,params:n.params,context:n.context},w);return g?b===void 0?v:b:w()}catch(b){throw r.middlewareError?r.middlewareError.error!==b&&(r.middlewareError={routeId:f,error:b}):r.middlewareError={routeId:f,error:b},b}}async function DM(n,e,t,r,a,s,u,c,f,d){let g=a.map(b=>b.route.lazy?AM(b.route,c,u):void 0);d&&await Promise.all(g);let v=a.map((b,R)=>{let C=g[R],D=r.some(x=>x.route.id===b.route.id);return{...b,shouldLoad:D,resolve:async x=>(x&&t.method==="GET"&&(b.route.lazy||b.route.loader)&&(D=!0),D?IM(e,t,b,C,x,f):Promise.resolve({type:"data",result:void 0}))}}),w=await n({matches:v,request:t,params:a[0].params,fetcherKey:s,context:f});try{await Promise.all(g)}catch{}return w}async function IM(n,e,t,r,a,s){let u,c,f=d=>{let g,v=new Promise((R,C)=>g=C);c=()=>g(),e.signal.addEventListener("abort",c);let w=R=>typeof d!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${n}" [routeId: ${t.route.id}]`)):d({request:e,params:t.params,context:s},...R!==void 0?[R]:[]),b=(async()=>{try{return{type:"data",result:await(a?a(C=>w(C)):w())}}catch(R){return{type:"error",result:R}}})();return Promise.race([b,v])};try{let d=t.route[n];if(r)if(d){let g,[v]=await Promise.all([f(d).catch(w=>{g=w}),r]);if(g!==void 0)throw g;u=v}else if(await r,d=t.route[n],d)u=await f(d);else if(n==="action"){let g=new URL(e.url),v=g.pathname+g.search;throw Ki(405,{method:e.method,pathname:v,routeId:t.route.id})}else return{type:"data",result:void 0};else if(d)u=await f(d);else{let g=new URL(e.url),v=g.pathname+g.search;throw Ki(404,{pathname:v})}}catch(d){return{type:"error",result:d}}finally{c&&e.signal.removeEventListener("abort",c)}return u}async function OM(n){var r,a,s,u,c,f;let{result:e,type:t}=n;if(xA(e)){let d;try{let g=e.headers.get("Content-Type");g&&/\bapplication\/json\b/.test(g)?e.body==null?d=null:d=await e.json():d=await e.text()}catch(g){return{type:"error",error:g}}return t==="error"?{type:"error",error:new Qm(e.status,e.statusText,d),statusCode:e.status,headers:e.headers}:{type:"data",data:d,statusCode:e.status,headers:e.headers}}return t==="error"?Xb(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(r=e.init)==null?void 0:r.status,headers:(a=e.init)!=null&&a.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new Qm(((s=e.init)==null?void 0:s.status)||500,void 0,e.data),statusCode:vf(e)?e.status:void 0,headers:(u=e.init)!=null&&u.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:vf(e)?e.status:void 0}:Xb(e)?{type:"data",data:e.data,statusCode:(c=e.init)==null?void 0:c.status,headers:(f=e.init)!=null&&f.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function MM(n,e,t,r,a){let s=n.headers.get("Location");if(At(s,"Redirects returned/thrown from loaders/actions must have a Location header"),!L0.test(s)){let u=r.slice(0,r.findIndex(c=>c.route.id===t)+1);s=Yv(new URL(e.url),u,a,s),n.headers.set("Location",s)}return n}function Hb(n,e,t){if(L0.test(n)){let r=n,a=r.startsWith("//")?new URL(e.protocol+r):new URL(r),s=Qi(a.pathname,t)!=null;if(a.origin===e.origin&&s)return a.pathname+a.search+a.hash}return n}function Zu(n,e,t,r){let a=n.createURL(NA(e)).toString(),s={signal:t};if(r&&ia(r.formMethod)){let{formMethod:u,formEncType:c}=r;s.method=u.toUpperCase(),c==="application/json"?(s.headers=new Headers({"Content-Type":c}),s.body=JSON.stringify(r.json)):c==="text/plain"?s.body=r.text:c==="application/x-www-form-urlencoded"&&r.formData?s.body=Kv(r.formData):s.body=r.formData}return new Request(a,s)}function Kv(n){let e=new URLSearchParams;for(let[t,r]of n.entries())e.append(t,typeof r=="string"?r:r.name);return e}function Yb(n){let e=new FormData;for(let[t,r]of n.entries())e.append(t,r);return e}function NM(n,e,t,r=!1,a=!1){let s={},u=null,c,f=!1,d={},g=t&&bi(t[1])?t[1].error:void 0;return n.forEach(v=>{if(!(v.route.id in e))return;let w=v.route.id,b=e[w];if(At(!Ul(b),"Cannot handle redirect results in processLoaderData"),bi(b)){let R=b.error;if(g!==void 0&&(R=g,g=void 0),u=u||{},a)u[w]=R;else{let C=Ll(n,w);u[C.route.id]==null&&(u[C.route.id]=R)}r||(s[w]=IA),f||(f=!0,c=vf(b.error)?b.error.status:500),b.headers&&(d[w]=b.headers)}else s[w]=b.data,b.statusCode&&b.statusCode!==200&&!f&&(c=b.statusCode),b.headers&&(d[w]=b.headers)}),g!==void 0&&t&&(u={[t[0]]:g},s[t[0]]=void 0),{loaderData:s,errors:u,statusCode:c||200,loaderHeaders:d}}function Gb(n,e,t,r,a,s){let{loaderData:u,errors:c}=NM(e,t,r);return a.forEach(f=>{let{key:d,match:g,controller:v}=f,w=s[d];if(At(w,"Did not find corresponding fetcher result"),!(v&&v.signal.aborted))if(bi(w)){let b=Ll(n.matches,g==null?void 0:g.route.id);c&&c[b.route.id]||(c={...c,[b.route.id]:w.error}),n.fetchers.delete(d)}else if(Ul(w))At(!1,"Unhandled fetcher revalidation redirect");else{let b=ws(w.data);n.fetchers.set(d,b)}}),{loaderData:u,errors:c}}function Kb(n,e,t,r){let a=Object.entries(e).filter(([,s])=>s!==IA).reduce((s,[u,c])=>(s[u]=c,s),{});for(let s of t){let u=s.route.id;if(!e.hasOwnProperty(u)&&n.hasOwnProperty(u)&&s.route.loader&&(a[u]=n[u]),r&&r.hasOwnProperty(u))break}return a}function Qb(n){return n?bi(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function Ll(n,e){return(e?n.slice(0,n.findIndex(r=>r.route.id===e)+1):[...n]).reverse().find(r=>r.route.hasErrorBoundary===!0)||n[0]}function Zb(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Ki(n,{pathname:e,routeId:t,method:r,type:a,message:s}={}){let u="Unknown Server Error",c="Unknown @remix-run/router error";return n===400?(u="Bad Request",r&&e&&t?c=`You made a ${r} request to "${e}" but did not provide a \`loader\` for route "${t}", so there is no way to handle the request.`:a==="invalid-body"&&(c="Unable to encode submission body")):n===403?(u="Forbidden",c=`Route "${t}" does not match URL "${e}"`):n===404?(u="Not Found",c=`No route matches URL "${e}"`):n===405&&(u="Method Not Allowed",r&&e&&t?c=`You made a ${r.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${t}", so there is no way to handle the request.`:r&&(c=`Invalid request method "${r.toUpperCase()}"`)),new Qm(n||500,u,new Error(c),!0)}function wm(n){let e=Object.entries(n);for(let t=e.length-1;t>=0;t--){let[r,a]=e[t];if(Ul(a))return{key:r,result:a}}}function NA(n){let e=typeof n=="string"?Fo(n):n;return Us({...e,hash:""})}function xM(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function kM(n){return xA(n.result)&&yM.has(n.result.status)}function bi(n){return n.type==="error"}function Ul(n){return(n&&n.type)==="redirect"}function Xb(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function xA(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function PM(n){return gM.has(n.toUpperCase())}function ia(n){return mM.has(n.toUpperCase())}function V0(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function ef(n,e){let t=typeof e=="string"?Fo(e).search:e.search;if(n[n.length-1].route.index&&V0(t||""))return n[n.length-1];let r=SA(n);return r[r.length-1]}function Wb(n){let{formMethod:e,formAction:t,formEncType:r,text:a,formData:s,json:u}=n;if(!(!e||!t||!r)){if(a!=null)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:void 0,text:a};if(s!=null)return{formMethod:e,formAction:t,formEncType:r,formData:s,json:void 0,text:void 0};if(u!==void 0)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:u,text:void 0}}}function Ev(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function LM(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Xh(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function VM(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function ws(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function UM(n,e){try{let t=n.sessionStorage.getItem(DA);if(t){let r=JSON.parse(t);for(let[a,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(a,new Set(s||[]))}}catch{}}function zM(n,e){if(e.size>0){let t={};for(let[r,a]of e)t[r]=[...a];try{n.sessionStorage.setItem(DA,JSON.stringify(t))}catch(r){Wn(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function jM(){let n,e,t=new Promise((r,a)=>{n=async s=>{r(s);try{await t}catch{}},e=async s=>{a(s);try{await t}catch{}}});return{promise:t,resolve:n,reject:e}}var au=Z.createContext(null);au.displayName="DataRouter";var Pf=Z.createContext(null);Pf.displayName="DataRouterState";var U0=Z.createContext({isTransitioning:!1});U0.displayName="ViewTransition";var kA=Z.createContext(new Map);kA.displayName="Fetchers";var BM=Z.createContext(null);BM.displayName="Await";var fa=Z.createContext(null);fa.displayName="Navigation";var Pp=Z.createContext(null);Pp.displayName="Location";var da=Z.createContext({outlet:null,matches:[],isDataRoute:!1});da.displayName="Route";var z0=Z.createContext(null);z0.displayName="RouteError";function $M(n,{relative:e}={}){At(Pc(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=Z.useContext(fa),{hash:a,pathname:s,search:u}=Lf(n,{relative:e}),c=s;return t!=="/"&&(c=s==="/"?t:La([t,s])),r.createHref({pathname:c,search:u,hash:a})}function Pc(){return Z.useContext(Pp)!=null}function Zs(){return At(Pc(),"useLocation() may be used only in the context of a <Router> component."),Z.useContext(Pp).location}var PA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function LA(n){Z.useContext(fa).static||Z.useLayoutEffect(n)}function Lp(){let{isDataRoute:n}=Z.useContext(da);return n?rN():FM()}function FM(){At(Pc(),"useNavigate() may be used only in the context of a <Router> component.");let n=Z.useContext(au),{basename:e,navigator:t}=Z.useContext(fa),{matches:r}=Z.useContext(da),{pathname:a}=Zs(),s=JSON.stringify(xp(r)),u=Z.useRef(!1);return LA(()=>{u.current=!0}),Z.useCallback((f,d={})=>{if(Wn(u.current,PA),!u.current)return;if(typeof f=="number"){t.go(f);return}let g=kp(f,JSON.parse(s),a,d.relative==="path");n==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:La([e,g.pathname])),(d.replace?t.replace:t.push)(g,d.state,d)},[e,t,s,a,n])}var qM=Z.createContext(null);function HM(n){let e=Z.useContext(da).outlet;return e&&Z.createElement(qM.Provider,{value:n},e)}function Lf(n,{relative:e}={}){let{matches:t}=Z.useContext(da),{pathname:r}=Zs(),a=JSON.stringify(xp(t));return Z.useMemo(()=>kp(n,JSON.parse(a),r,e==="path"),[n,a,r,e])}function YM(n,e,t,r){At(Pc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:s}=Z.useContext(fa),{matches:u}=Z.useContext(da),c=u[u.length-1],f=c?c.params:{},d=c?c.pathname:"/",g=c?c.pathnameBase:"/",v=c&&c.route;{let x=v&&v.path||"";VA(d,!v||x.endsWith("*")||x.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${x}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${x}"> to <Route path="${x==="/"?"*":`${x}/*`}">.`)}let w=Zs(),b;b=w;let R=b.pathname||"/",C=R;if(g!=="/"){let x=g.replace(/^\//,"").split("/");C="/"+R.replace(/^\//,"").split("/").slice(x.length).join("/")}let D=!s&&t&&t.matches&&t.matches.length>0?t.matches:Es(n,{pathname:C});return Wn(v||D!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Wn(D==null||D[D.length-1].route.element!==void 0||D[D.length-1].route.Component!==void 0||D[D.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),XM(D&&D.map(x=>Object.assign({},x,{params:Object.assign({},f,x.params),pathname:La([g,a.encodeLocation?a.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?g:La([g,a.encodeLocation?a.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),u,t,r)}function GM(){let n=nN(),e=vf(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=Z.createElement(Z.Fragment,null,Z.createElement("p",null," Hey developer "),Z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Z.createElement("code",{style:s},"ErrorBoundary")," or"," ",Z.createElement("code",{style:s},"errorElement")," prop on your route.")),Z.createElement(Z.Fragment,null,Z.createElement("h2",null,"Unexpected Application Error!"),Z.createElement("h3",{style:{fontStyle:"italic"}},e),t?Z.createElement("pre",{style:a},t):null,u)}var KM=Z.createElement(GM,null),QM=class extends Z.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?Z.createElement(da.Provider,{value:this.props.routeContext},Z.createElement(z0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ZM({routeContext:n,match:e,children:t}){let r=Z.useContext(au);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),Z.createElement(da.Provider,{value:n},t)}function XM(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,s=t==null?void 0:t.errors;if(s!=null){let f=a.findIndex(d=>d.route.id&&(s==null?void 0:s[d.route.id])!==void 0);At(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),a=a.slice(0,Math.min(a.length,f+1))}let u=!1,c=-1;if(t)for(let f=0;f<a.length;f++){let d=a[f];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=f),d.route.id){let{loaderData:g,errors:v}=t,w=d.route.loader&&!g.hasOwnProperty(d.route.id)&&(!v||v[d.route.id]===void 0);if(d.route.lazy||w){u=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((f,d,g)=>{let v,w=!1,b=null,R=null;t&&(v=s&&d.route.id?s[d.route.id]:void 0,b=d.route.errorElement||KM,u&&(c<0&&g===0?(VA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,R=null):c===g&&(w=!0,R=d.route.hydrateFallbackElement||null)));let C=e.concat(a.slice(0,g+1)),D=()=>{let M;return v?M=b:w?M=R:d.route.Component?M=Z.createElement(d.route.Component,null):d.route.element?M=d.route.element:M=f,Z.createElement(ZM,{match:d,routeContext:{outlet:f,matches:C,isDataRoute:t!=null},children:M})};return t&&(d.route.ErrorBoundary||d.route.errorElement||g===0)?Z.createElement(QM,{location:t.location,revalidation:t.revalidation,component:b,error:v,children:D(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):D()},null)}function j0(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function WM(n){let e=Z.useContext(au);return At(e,j0(n)),e}function JM(n){let e=Z.useContext(Pf);return At(e,j0(n)),e}function eN(n){let e=Z.useContext(da);return At(e,j0(n)),e}function B0(n){let e=eN(n),t=e.matches[e.matches.length-1];return At(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function tN(){return B0("useRouteId")}function nN(){var r;let n=Z.useContext(z0),e=JM("useRouteError"),t=B0("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function rN(){let{router:n}=WM("useNavigate"),e=B0("useNavigate"),t=Z.useRef(!1);return LA(()=>{t.current=!0}),Z.useCallback(async(a,s={})=>{Wn(t.current,PA),t.current&&(typeof a=="number"?n.navigate(a):await n.navigate(a,{fromRouteId:e,...s}))},[n,e])}var Jb={};function VA(n,e,t){!e&&!Jb[n]&&(Jb[n]=!0,Wn(!1,t))}var e1={};function t1(n,e){!n&&!e1[e]&&(e1[e]=!0,console.warn(e))}function iN(n){let e={hasErrorBoundary:n.hasErrorBoundary||n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&(n.element&&Wn(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:Z.createElement(n.Component),Component:void 0})),n.HydrateFallback&&(n.hydrateFallbackElement&&Wn(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:Z.createElement(n.HydrateFallback),HydrateFallback:void 0})),n.ErrorBoundary&&(n.errorElement&&Wn(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:Z.createElement(n.ErrorBoundary),ErrorBoundary:void 0})),e}var aN=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",t(r))}})}};function oN({router:n,flushSync:e}){let[t,r]=Z.useState(n.state),[a,s]=Z.useState(),[u,c]=Z.useState({isTransitioning:!1}),[f,d]=Z.useState(),[g,v]=Z.useState(),[w,b]=Z.useState(),R=Z.useRef(new Map),C=Z.useCallback((P,{deletedFetchers:$,flushSync:V,viewTransitionOpts:Y})=>{P.fetchers.forEach((I,O)=>{I.data!==void 0&&R.current.set(O,I.data)}),$.forEach(I=>R.current.delete(I)),t1(V===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let N=n.window!=null&&n.window.document!=null&&typeof n.window.document.startViewTransition=="function";if(t1(Y==null||N,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!Y||!N){e&&V?e(()=>r(P)):Z.startTransition(()=>r(P));return}if(e&&V){e(()=>{g&&(f&&f.resolve(),g.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:Y.currentLocation,nextLocation:Y.nextLocation})});let I=n.window.document.startViewTransition(()=>{e(()=>r(P))});I.finished.finally(()=>{e(()=>{d(void 0),v(void 0),s(void 0),c({isTransitioning:!1})})}),e(()=>v(I));return}g?(f&&f.resolve(),g.skipTransition(),b({state:P,currentLocation:Y.currentLocation,nextLocation:Y.nextLocation})):(s(P),c({isTransitioning:!0,flushSync:!1,currentLocation:Y.currentLocation,nextLocation:Y.nextLocation}))},[n.window,e,g,f]);Z.useLayoutEffect(()=>n.subscribe(C),[n,C]),Z.useEffect(()=>{u.isTransitioning&&!u.flushSync&&d(new aN)},[u]),Z.useEffect(()=>{if(f&&a&&n.window){let P=a,$=f.promise,V=n.window.document.startViewTransition(async()=>{Z.startTransition(()=>r(P)),await $});V.finished.finally(()=>{d(void 0),v(void 0),s(void 0),c({isTransitioning:!1})}),v(V)}},[a,f,n.window]),Z.useEffect(()=>{f&&a&&t.location.key===a.location.key&&f.resolve()},[f,g,t.location,a]),Z.useEffect(()=>{!u.isTransitioning&&w&&(s(w.state),c({isTransitioning:!0,flushSync:!1,currentLocation:w.currentLocation,nextLocation:w.nextLocation}),b(void 0))},[u.isTransitioning,w]);let D=Z.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:P=>n.navigate(P),push:(P,$,V)=>n.navigate(P,{state:$,preventScrollReset:V==null?void 0:V.preventScrollReset}),replace:(P,$,V)=>n.navigate(P,{replace:!0,state:$,preventScrollReset:V==null?void 0:V.preventScrollReset})}),[n]),M=n.basename||"/",x=Z.useMemo(()=>({router:n,navigator:D,static:!1,basename:M}),[n,D,M]);return Z.createElement(Z.Fragment,null,Z.createElement(au.Provider,{value:x},Z.createElement(Pf.Provider,{value:t},Z.createElement(kA.Provider,{value:R.current},Z.createElement(U0.Provider,{value:u},Z.createElement(hN,{basename:M,location:t.location,navigationType:t.historyAction,navigator:D},Z.createElement(sN,{routes:n.routes,future:n.future,state:t})))))),null)}var sN=Z.memo(lN);function lN({routes:n,future:e,state:t}){return YM(n,void 0,t,e)}function uN({to:n,replace:e,state:t,relative:r}){At(Pc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=Z.useContext(fa);Wn(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=Z.useContext(da),{pathname:u}=Zs(),c=Lp(),f=kp(n,xp(s),u,r==="path"),d=JSON.stringify(f);return Z.useEffect(()=>{c(JSON.parse(d),{replace:e,state:t,relative:r})},[c,d,r,e,t]),null}function cN(n){return HM(n.context)}function hN({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:a,static:s=!1}){At(!Pc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),c=Z.useMemo(()=>({basename:u,navigator:a,static:s,future:{}}),[u,a,s]);typeof t=="string"&&(t=Fo(t));let{pathname:f="/",search:d="",hash:g="",state:v=null,key:w="default"}=t,b=Z.useMemo(()=>{let R=Qi(f,u);return R==null?null:{location:{pathname:R,search:d,hash:g,state:v,key:w},navigationType:r}},[u,f,d,g,v,w,r]);return Wn(b!=null,`<Router basename="${u}"> is not able to match the URL "${f}${d}${g}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:Z.createElement(fa.Provider,{value:c},Z.createElement(Pp.Provider,{children:e,value:b}))}var Mm="get",Nm="application/x-www-form-urlencoded";function Vp(n){return n!=null&&typeof n.tagName=="string"}function fN(n){return Vp(n)&&n.tagName.toLowerCase()==="button"}function dN(n){return Vp(n)&&n.tagName.toLowerCase()==="form"}function mN(n){return Vp(n)&&n.tagName.toLowerCase()==="input"}function pN(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function gN(n,e){return n.button===0&&(!e||e==="_self")&&!pN(n)}var Em=null;function yN(){if(Em===null)try{new FormData(document.createElement("form"),0),Em=!1}catch{Em=!0}return Em}var vN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function bv(n){return n!=null&&!vN.has(n)?(Wn(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Nm}"`),null):n}function _N(n,e){let t,r,a,s,u;if(dN(n)){let c=n.getAttribute("action");r=c?Qi(c,e):null,t=n.getAttribute("method")||Mm,a=bv(n.getAttribute("enctype"))||Nm,s=new FormData(n)}else if(fN(n)||mN(n)&&(n.type==="submit"||n.type==="image")){let c=n.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||c.getAttribute("action");if(r=f?Qi(f,e):null,t=n.getAttribute("formmethod")||c.getAttribute("method")||Mm,a=bv(n.getAttribute("formenctype"))||bv(c.getAttribute("enctype"))||Nm,s=new FormData(c,n),!yN()){let{name:d,type:g,value:v}=n;if(g==="image"){let w=d?`${d}.`:"";s.append(`${w}x`,"0"),s.append(`${w}y`,"0")}else d&&s.append(d,v)}}else{if(Vp(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Mm,r=null,a=Nm,u=n}return s&&a==="text/plain"&&(u=s,s=void 0),{action:r,method:t.toLowerCase(),encType:a,formData:s,body:u}}function $0(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function TN(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function wN(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function EN(n,e,t){let r=await Promise.all(n.map(async a=>{let s=e.routes[a.route.id];if(s){let u=await TN(s,t);return u.links?u.links():[]}return[]}));return SN(r.flat(1).filter(wN).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function n1(n,e,t,r,a,s){let u=(f,d)=>t[d]?f.route.id!==t[d].route.id:!0,c=(f,d)=>{var g;return t[d].pathname!==f.pathname||((g=t[d].route.path)==null?void 0:g.endsWith("*"))&&t[d].params["*"]!==f.params["*"]};return s==="assets"?e.filter((f,d)=>u(f,d)||c(f,d)):s==="data"?e.filter((f,d)=>{var v;let g=r.routes[f.route.id];if(!g||!g.hasLoader)return!1;if(u(f,d)||c(f,d))return!0;if(f.route.shouldRevalidate){let w=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((v=t[0])==null?void 0:v.params)||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function bN(n,e,{includeHydrateFallback:t}={}){return RN(n.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let s=[a.module];return a.clientActionModule&&(s=s.concat(a.clientActionModule)),a.clientLoaderModule&&(s=s.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(s=s.concat(a.hydrateFallbackModule)),a.imports&&(s=s.concat(a.imports)),s}).flat(1))}function RN(n){return[...new Set(n)]}function AN(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function SN(n,e){let t=new Set;return new Set(e),n.reduce((r,a)=>{let s=JSON.stringify(AN(a));return t.has(s)||(t.add(s),r.push({key:s,link:a})),r},[])}function CN(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&Qi(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function UA(){let n=Z.useContext(au);return $0(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function DN(){let n=Z.useContext(Pf);return $0(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var F0=Z.createContext(void 0);F0.displayName="FrameworkContext";function zA(){let n=Z.useContext(F0);return $0(n,"You must render this element inside a <HydratedRouter> element"),n}function IN(n,e){let t=Z.useContext(F0),[r,a]=Z.useState(!1),[s,u]=Z.useState(!1),{onFocus:c,onBlur:f,onMouseEnter:d,onMouseLeave:g,onTouchStart:v}=e,w=Z.useRef(null);Z.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let C=M=>{M.forEach(x=>{u(x.isIntersecting)})},D=new IntersectionObserver(C,{threshold:.5});return w.current&&D.observe(w.current),()=>{D.disconnect()}}},[n]),Z.useEffect(()=>{if(r){let C=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(C)}}},[r]);let b=()=>{a(!0)},R=()=>{a(!1),u(!1)};return t?n!=="intent"?[s,w,{}]:[s,w,{onFocus:Wh(c,b),onBlur:Wh(f,R),onMouseEnter:Wh(d,b),onMouseLeave:Wh(g,R),onTouchStart:Wh(v,b)}]:[!1,w,{}]}function Wh(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function ON({page:n,...e}){let{router:t}=UA(),r=Z.useMemo(()=>Es(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?Z.createElement(NN,{page:n,matches:r,...e}):null}function MN(n){let{manifest:e,routeModules:t}=zA(),[r,a]=Z.useState([]);return Z.useEffect(()=>{let s=!1;return EN(n,e,t).then(u=>{s||a(u)}),()=>{s=!0}},[n,e,t]),r}function NN({page:n,matches:e,...t}){let r=Zs(),{manifest:a,routeModules:s}=zA(),{basename:u}=UA(),{loaderData:c,matches:f}=DN(),d=Z.useMemo(()=>n1(n,e,f,a,r,"data"),[n,e,f,a,r]),g=Z.useMemo(()=>n1(n,e,f,a,r,"assets"),[n,e,f,a,r]),v=Z.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let R=new Set,C=!1;if(e.forEach(M=>{var P;let x=a.routes[M.route.id];!x||!x.hasLoader||(!d.some($=>$.route.id===M.route.id)&&M.route.id in c&&((P=s[M.route.id])!=null&&P.shouldRevalidate)||x.hasClientLoader?C=!0:R.add(M.route.id))}),R.size===0)return[];let D=CN(n,u);return C&&R.size>0&&D.searchParams.set("_routes",e.filter(M=>R.has(M.route.id)).map(M=>M.route.id).join(",")),[D.pathname+D.search]},[u,c,r,a,d,e,n,s]),w=Z.useMemo(()=>bN(g,a),[g,a]),b=MN(g);return Z.createElement(Z.Fragment,null,v.map(R=>Z.createElement("link",{key:R,rel:"prefetch",as:"fetch",href:R,...t})),w.map(R=>Z.createElement("link",{key:R,rel:"modulepreload",href:R,...t})),b.map(({key:R,link:C})=>Z.createElement("link",{key:R,...C})))}function xN(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var jA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{jA&&(window.__reactRouterVersion="7.4.0")}catch{}function kN(n,e){return wM({basename:e==null?void 0:e.basename,unstable_getContext:e==null?void 0:e.unstable_getContext,future:e==null?void 0:e.future,history:HO({window:e==null?void 0:e.window}),hydrationData:PN(),routes:n,mapRouteProperties:iN,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function PN(){let n=window==null?void 0:window.__staticRouterHydrationData;return n&&n.errors&&(n={...n,errors:LN(n.errors)}),n}function LN(n){if(!n)return null;let e=Object.entries(n),t={};for(let[r,a]of e)if(a&&a.__type==="RouteErrorResponse")t[r]=new Qm(a.status,a.statusText,a.data,a.internal===!0);else if(a&&a.__type==="Error"){if(a.__subType){let s=window[a.__subType];if(typeof s=="function")try{let u=new s(a.message);u.stack="",t[r]=u}catch{}}if(t[r]==null){let s=new Error(a.message);s.stack="",t[r]=s}}else t[r]=a;return t}var BA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,q0=Z.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:a,reloadDocument:s,replace:u,state:c,target:f,to:d,preventScrollReset:g,viewTransition:v,...w},b){let{basename:R}=Z.useContext(fa),C=typeof d=="string"&&BA.test(d),D,M=!1;if(typeof d=="string"&&C&&(D=d,jA))try{let O=new URL(window.location.href),z=d.startsWith("//")?new URL(O.protocol+d):new URL(d),j=Qi(z.pathname,R);z.origin===O.origin&&j!=null?d=j+z.search+z.hash:M=!0}catch{Wn(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let x=$M(d,{relative:a}),[P,$,V]=IN(r,w),Y=jN(d,{replace:u,state:c,target:f,preventScrollReset:g,relative:a,viewTransition:v});function N(O){e&&e(O),O.defaultPrevented||Y(O)}let I=Z.createElement("a",{...w,...V,href:D||x,onClick:M||s?e:N,ref:xN(b,$),target:f,"data-discover":!C&&t==="render"?"true":void 0});return P&&!C?Z.createElement(Z.Fragment,null,I,Z.createElement(ON,{page:x})):I});q0.displayName="Link";var VN=Z.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:a=!1,style:s,to:u,viewTransition:c,children:f,...d},g){let v=Lf(u,{relative:d.relative}),w=Zs(),b=Z.useContext(Pf),{navigator:R,basename:C}=Z.useContext(fa),D=b!=null&&HN(v)&&c===!0,M=R.encodeLocation?R.encodeLocation(v).pathname:v.pathname,x=w.pathname,P=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;t||(x=x.toLowerCase(),P=P?P.toLowerCase():null,M=M.toLowerCase()),P&&C&&(P=Qi(P,C)||P);const $=M!=="/"&&M.endsWith("/")?M.length-1:M.length;let V=x===M||!a&&x.startsWith(M)&&x.charAt($)==="/",Y=P!=null&&(P===M||!a&&P.startsWith(M)&&P.charAt(M.length)==="/"),N={isActive:V,isPending:Y,isTransitioning:D},I=V?e:void 0,O;typeof r=="function"?O=r(N):O=[r,V?"active":null,Y?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let z=typeof s=="function"?s(N):s;return Z.createElement(q0,{...d,"aria-current":I,className:O,ref:g,style:z,to:u,viewTransition:c},typeof f=="function"?f(N):f)});VN.displayName="NavLink";var UN=Z.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:a,state:s,method:u=Mm,action:c,onSubmit:f,relative:d,preventScrollReset:g,viewTransition:v,...w},b)=>{let R=FN(),C=qN(c,{relative:d}),D=u.toLowerCase()==="get"?"get":"post",M=typeof c=="string"&&BA.test(c),x=P=>{if(f&&f(P),P.defaultPrevented)return;P.preventDefault();let $=P.nativeEvent.submitter,V=($==null?void 0:$.getAttribute("formmethod"))||u;R($||P.currentTarget,{fetcherKey:e,method:V,navigate:t,replace:a,state:s,relative:d,preventScrollReset:g,viewTransition:v})};return Z.createElement("form",{ref:b,method:D,action:C,onSubmit:r?f:x,...w,"data-discover":!M&&n==="render"?"true":void 0})});UN.displayName="Form";function zN(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $A(n){let e=Z.useContext(au);return At(e,zN(n)),e}function jN(n,{target:e,replace:t,state:r,preventScrollReset:a,relative:s,viewTransition:u}={}){let c=Lp(),f=Zs(),d=Lf(n,{relative:s});return Z.useCallback(g=>{if(gN(g,e)){g.preventDefault();let v=t!==void 0?t:Us(f)===Us(d);c(n,{replace:v,state:r,preventScrollReset:a,relative:s,viewTransition:u})}},[f,c,d,t,r,e,n,a,s,u])}var BN=0,$N=()=>`__${String(++BN)}__`;function FN(){let{router:n}=$A("useSubmit"),{basename:e}=Z.useContext(fa),t=tN();return Z.useCallback(async(r,a={})=>{let{action:s,method:u,encType:c,formData:f,body:d}=_N(r,e);if(a.navigate===!1){let g=a.fetcherKey||$N();await n.fetch(g,t,a.action||s,{preventScrollReset:a.preventScrollReset,formData:f,body:d,formMethod:a.method||u,formEncType:a.encType||c,flushSync:a.flushSync})}else await n.navigate(a.action||s,{preventScrollReset:a.preventScrollReset,formData:f,body:d,formMethod:a.method||u,formEncType:a.encType||c,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,e,t])}function qN(n,{relative:e}={}){let{basename:t}=Z.useContext(fa),r=Z.useContext(da);At(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),s={...Lf(n||".",{relative:e})},u=Zs();if(n==null){s.search=u.search;let c=new URLSearchParams(s.search),f=c.getAll("index");if(f.some(g=>g==="")){c.delete("index"),f.filter(v=>v).forEach(v=>c.append("index",v));let g=c.toString();s.search=g?`?${g}`:""}}return(!n||n===".")&&a.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(s.pathname=s.pathname==="/"?t:La([t,s.pathname])),Us(s)}function HN(n,e={}){let t=Z.useContext(U0);At(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=$A("useViewTransitionState"),a=Lf(n,{relative:e.relative});if(!t.isTransitioning)return!1;let s=Qi(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=Qi(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Km(a.pathname,u)!=null||Km(a.pathname,s)!=null}new TextEncoder;const FA=Z.createContext(void 0),YN=({children:n})=>{const e=localStorage.getItem("theme"),[t,r]=Z.useState(e||"light"),a=()=>{const s=t==="light"?"dark":"light";r(s),localStorage.setItem("theme",s),document.documentElement.classList.toggle("dark",s==="dark")};return Z.useEffect(()=>{document.documentElement.classList.toggle("dark",t==="dark")},[t]),ze.jsx(FA.Provider,{value:{theme:t,toggleTheme:a},children:n})},GN=()=>{const n=Z.useContext(FA);if(!n)throw new Error("Error de contexto");return n},KN=Z.createContext(void 0),QN=({children:n})=>{const[e,t]=Z.useState(null);return ze.jsx(KN.Provider,{value:{user:e,setUser:t},children:n})},r1=()=>ze.jsx("section",{className:"flex flex-col w-full min-h-screen bg-[var(--st)] dark:bg-[var(--st)]",children:ze.jsx(cN,{})});var qA={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},i1=zt.createContext&&zt.createContext(qA),ZN=["attr","size","title"];function XN(n,e){if(n==null)return{};var t=WN(n,e),r,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(a=0;a<s.length;a++)r=s[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function WN(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function Zm(){return Zm=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Zm.apply(this,arguments)}function a1(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,r)}return t}function Xm(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?a1(Object(t),!0).forEach(function(r){JN(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):a1(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function JN(n,e,t){return e=ex(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function ex(n){var e=tx(n,"string");return typeof e=="symbol"?e:e+""}function tx(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function HA(n){return n&&n.map((e,t)=>zt.createElement(e.tag,Xm({key:t},e.attr),HA(e.child)))}function H0(n){return e=>zt.createElement(nx,Zm({attr:Xm({},n.attr)},e),HA(n.child))}function nx(n){var e=t=>{var{attr:r,size:a,title:s}=n,u=XN(n,ZN),c=a||t.size||"1em",f;return t.className&&(f=t.className),n.className&&(f=(f?f+" ":"")+n.className),zt.createElement("svg",Zm({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,u,{className:f,style:Xm(Xm({color:n.color||t.color},t.style),n.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),s&&zt.createElement("title",null,s),n.children)};return i1!==void 0?zt.createElement(i1.Consumer,null,t=>e(t)):e(qA)}function rx(n){return H0({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm144 276c0 6.6-5.4 12-12 12h-92v92c0 6.6-5.4 12-12 12h-56c-6.6 0-12-5.4-12-12v-92h-92c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h92v-92c0-6.6 5.4-12 12-12h56c6.6 0 12 5.4 12 12v92h92c6.6 0 12 5.4 12 12v56z"},child:[]}]})(n)}function YA(n){return H0({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"},child:[]}]})(n)}class _ extends Array{constructor(e,t){if(super(e),this.sign=t,Object.setPrototypeOf(this,_.prototype),e>_.__kMaxLength)throw new RangeError("Maximum BigInt size exceeded")}static BigInt(e){var t=Math.floor,r=Number.isFinite;if(typeof e=="number"){if(e===0)return _.__zero();if(_.__isOneDigitInt(e))return 0>e?_.__oneDigit(-e,!0):_.__oneDigit(e,!1);if(!r(e)||t(e)!==e)throw new RangeError("The number "+e+" cannot be converted to BigInt because it is not an integer");return _.__fromDouble(e)}if(typeof e=="string"){const a=_.__fromString(e);if(a===null)throw new SyntaxError("Cannot convert "+e+" to a BigInt");return a}if(typeof e=="boolean")return e===!0?_.__oneDigit(1,!1):_.__zero();if(typeof e=="object"){if(e.constructor===_)return e;const a=_.__toPrimitive(e);return _.BigInt(a)}throw new TypeError("Cannot convert "+e+" to a BigInt")}toDebugString(){const e=["BigInt["];for(const t of this)e.push((t&&(t>>>0).toString(16))+", ");return e.push("]"),e.join("")}toString(e=10){if(2>e||36<e)throw new RangeError("toString() radix argument must be between 2 and 36");return this.length===0?"0":(e&e-1)==0?_.__toStringBasePowerOfTwo(this,e):_.__toStringGeneric(this,e,!1)}valueOf(){throw new Error("Convert JSBI instances to native numbers using `toNumber`.")}static toNumber(e){const t=e.length;if(t===0)return 0;if(t===1){const D=e.__unsignedDigit(0);return e.sign?-D:D}const r=e.__digit(t-1),a=_.__clz30(r),s=30*t-a;if(1024<s)return e.sign?-1/0:1/0;let u=s-1,c=r,f=t-1;const d=a+3;let g=d===32?0:c<<d;g>>>=12;const v=d-12;let w=12<=d?0:c<<20+d,b=20+d;for(0<v&&0<f&&(f--,c=e.__digit(f),g|=c>>>30-v,w=c<<v+2,b=v+2);0<b&&0<f;)f--,c=e.__digit(f),w|=30<=b?c<<b-30:c>>>30-b,b-=30;const R=_.__decideRounding(e,b,f,c);if((R===1||R===0&&(1&w)==1)&&(w=w+1>>>0,w===0&&(g++,g>>>20!=0&&(g=0,u++,1023<u))))return e.sign?-1/0:1/0;const C=e.sign?-2147483648:0;return u=u+1023<<20,_.__kBitConversionInts[1]=C|u|g,_.__kBitConversionInts[0]=w,_.__kBitConversionDouble[0]}static unaryMinus(e){if(e.length===0)return e;const t=e.__copy();return t.sign=!e.sign,t}static bitwiseNot(e){return e.sign?_.__absoluteSubOne(e).__trim():_.__absoluteAddOne(e,!0)}static exponentiate(e,t){if(t.sign)throw new RangeError("Exponent must be positive");if(t.length===0)return _.__oneDigit(1,!1);if(e.length===0)return e;if(e.length===1&&e.__digit(0)===1)return e.sign&&(1&t.__digit(0))==0?_.unaryMinus(e):e;if(1<t.length)throw new RangeError("BigInt too big");let r=t.__unsignedDigit(0);if(r===1)return e;if(r>=_.__kMaxLengthBits)throw new RangeError("BigInt too big");if(e.length===1&&e.__digit(0)===2){const u=1+(0|r/30),c=e.sign&&(1&r)!=0,f=new _(u,c);f.__initializeDigits();const d=1<<r%30;return f.__setDigit(u-1,d),f}let a=null,s=e;for((1&r)!=0&&(a=e),r>>=1;r!==0;r>>=1)s=_.multiply(s,s),(1&r)!=0&&(a===null?a=s:a=_.multiply(a,s));return a}static multiply(e,t){if(e.length===0)return e;if(t.length===0)return t;let r=e.length+t.length;30<=e.__clzmsd()+t.__clzmsd()&&r--;const a=new _(r,e.sign!==t.sign);a.__initializeDigits();for(let s=0;s<e.length;s++)_.__multiplyAccumulate(t,e.__digit(s),a,s);return a.__trim()}static divide(e,t){if(t.length===0)throw new RangeError("Division by zero");if(0>_.__absoluteCompare(e,t))return _.__zero();const r=e.sign!==t.sign,a=t.__unsignedDigit(0);let s;if(t.length===1&&32767>=a){if(a===1)return r===e.sign?e:_.unaryMinus(e);s=_.__absoluteDivSmall(e,a,null)}else s=_.__absoluteDivLarge(e,t,!0,!1);return s.sign=r,s.__trim()}static remainder(e,t){if(t.length===0)throw new RangeError("Division by zero");if(0>_.__absoluteCompare(e,t))return e;const r=t.__unsignedDigit(0);if(t.length===1&&32767>=r){if(r===1)return _.__zero();const s=_.__absoluteModSmall(e,r);return s===0?_.__zero():_.__oneDigit(s,e.sign)}const a=_.__absoluteDivLarge(e,t,!1,!0);return a.sign=e.sign,a.__trim()}static add(e,t){const r=e.sign;return r===t.sign?_.__absoluteAdd(e,t,r):0<=_.__absoluteCompare(e,t)?_.__absoluteSub(e,t,r):_.__absoluteSub(t,e,!r)}static subtract(e,t){const r=e.sign;return r===t.sign?0<=_.__absoluteCompare(e,t)?_.__absoluteSub(e,t,r):_.__absoluteSub(t,e,!r):_.__absoluteAdd(e,t,r)}static leftShift(e,t){return t.length===0||e.length===0?e:t.sign?_.__rightShiftByAbsolute(e,t):_.__leftShiftByAbsolute(e,t)}static signedRightShift(e,t){return t.length===0||e.length===0?e:t.sign?_.__leftShiftByAbsolute(e,t):_.__rightShiftByAbsolute(e,t)}static unsignedRightShift(){throw new TypeError("BigInts have no unsigned right shift; use >> instead")}static lessThan(e,t){return 0>_.__compareToBigInt(e,t)}static lessThanOrEqual(e,t){return 0>=_.__compareToBigInt(e,t)}static greaterThan(e,t){return 0<_.__compareToBigInt(e,t)}static greaterThanOrEqual(e,t){return 0<=_.__compareToBigInt(e,t)}static equal(e,t){if(e.sign!==t.sign||e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e.__digit(r)!==t.__digit(r))return!1;return!0}static notEqual(e,t){return!_.equal(e,t)}static bitwiseAnd(e,t){var r=Math.max;if(!e.sign&&!t.sign)return _.__absoluteAnd(e,t).__trim();if(e.sign&&t.sign){const a=r(e.length,t.length)+1;let s=_.__absoluteSubOne(e,a);const u=_.__absoluteSubOne(t);return s=_.__absoluteOr(s,u,s),_.__absoluteAddOne(s,!0,s).__trim()}return e.sign&&([e,t]=[t,e]),_.__absoluteAndNot(e,_.__absoluteSubOne(t)).__trim()}static bitwiseXor(e,t){var r=Math.max;if(!e.sign&&!t.sign)return _.__absoluteXor(e,t).__trim();if(e.sign&&t.sign){const u=r(e.length,t.length),c=_.__absoluteSubOne(e,u),f=_.__absoluteSubOne(t);return _.__absoluteXor(c,f,c).__trim()}const a=r(e.length,t.length)+1;e.sign&&([e,t]=[t,e]);let s=_.__absoluteSubOne(t,a);return s=_.__absoluteXor(s,e,s),_.__absoluteAddOne(s,!0,s).__trim()}static bitwiseOr(e,t){var r=Math.max;const a=r(e.length,t.length);if(!e.sign&&!t.sign)return _.__absoluteOr(e,t).__trim();if(e.sign&&t.sign){let u=_.__absoluteSubOne(e,a);const c=_.__absoluteSubOne(t);return u=_.__absoluteAnd(u,c,u),_.__absoluteAddOne(u,!0,u).__trim()}e.sign&&([e,t]=[t,e]);let s=_.__absoluteSubOne(t,a);return s=_.__absoluteAndNot(s,e,s),_.__absoluteAddOne(s,!0,s).__trim()}static asIntN(e,t){var r=Math.floor;if(t.length===0)return t;if(e=r(e),0>e)throw new RangeError("Invalid value: not (convertible to) a safe integer");if(e===0)return _.__zero();if(e>=_.__kMaxLengthBits)return t;const a=0|(e+29)/30;if(t.length<a)return t;const s=t.__unsignedDigit(a-1),u=1<<(e-1)%30;if(t.length===a&&s<u)return t;if((s&u)!==u)return _.__truncateToNBits(e,t);if(!t.sign)return _.__truncateAndSubFromPowerOfTwo(e,t,!0);if((s&u-1)==0){for(let c=a-2;0<=c;c--)if(t.__digit(c)!==0)return _.__truncateAndSubFromPowerOfTwo(e,t,!1);return t.length===a&&s===u?t:_.__truncateToNBits(e,t)}return _.__truncateAndSubFromPowerOfTwo(e,t,!1)}static asUintN(e,t){var r=Math.floor;if(t.length===0)return t;if(e=r(e),0>e)throw new RangeError("Invalid value: not (convertible to) a safe integer");if(e===0)return _.__zero();if(t.sign){if(e>_.__kMaxLengthBits)throw new RangeError("BigInt too big");return _.__truncateAndSubFromPowerOfTwo(e,t,!1)}if(e>=_.__kMaxLengthBits)return t;const a=0|(e+29)/30;if(t.length<a)return t;const s=e%30;return t.length==a&&(s===0||!(t.__digit(a-1)>>>s))?t:_.__truncateToNBits(e,t)}static ADD(e,t){if(e=_.__toPrimitive(e),t=_.__toPrimitive(t),typeof e=="string")return typeof t!="string"&&(t=t.toString()),e+t;if(typeof t=="string")return e.toString()+t;if(e=_.__toNumeric(e),t=_.__toNumeric(t),_.__isBigInt(e)&&_.__isBigInt(t))return _.add(e,t);if(typeof e=="number"&&typeof t=="number")return e+t;throw new TypeError("Cannot mix BigInt and other types, use explicit conversions")}static LT(e,t){return _.__compare(e,t,0)}static LE(e,t){return _.__compare(e,t,1)}static GT(e,t){return _.__compare(e,t,2)}static GE(e,t){return _.__compare(e,t,3)}static EQ(e,t){for(;;){if(_.__isBigInt(e))return _.__isBigInt(t)?_.equal(e,t):_.EQ(t,e);if(typeof e=="number"){if(_.__isBigInt(t))return _.__equalToNumber(t,e);if(typeof t!="object")return e==t;t=_.__toPrimitive(t)}else if(typeof e=="string"){if(_.__isBigInt(t))return e=_.__fromString(e),e!==null&&_.equal(e,t);if(typeof t!="object")return e==t;t=_.__toPrimitive(t)}else if(typeof e=="boolean"){if(_.__isBigInt(t))return _.__equalToNumber(t,+e);if(typeof t!="object")return e==t;t=_.__toPrimitive(t)}else if(typeof e=="symbol"){if(_.__isBigInt(t))return!1;if(typeof t!="object")return e==t;t=_.__toPrimitive(t)}else if(typeof e=="object"){if(typeof t=="object"&&t.constructor!==_)return e==t;e=_.__toPrimitive(e)}else return e==t}}static NE(e,t){return!_.EQ(e,t)}static DataViewGetBigInt64(e,t,r=!1){return _.asIntN(64,_.DataViewGetBigUint64(e,t,r))}static DataViewGetBigUint64(e,t,r=!1){const[a,s]=r?[4,0]:[0,4],u=e.getUint32(t+a,r),c=e.getUint32(t+s,r),f=new _(3,!1);return f.__setDigit(0,1073741823&c),f.__setDigit(1,(268435455&u)<<2|c>>>30),f.__setDigit(2,u>>>28),f.__trim()}static DataViewSetBigInt64(e,t,r,a=!1){_.DataViewSetBigUint64(e,t,r,a)}static DataViewSetBigUint64(e,t,r,a=!1){r=_.asUintN(64,r);let s=0,u=0;if(0<r.length&&(u=r.__digit(0),1<r.length)){const d=r.__digit(1);u|=d<<30,s=d>>>2,2<r.length&&(s|=r.__digit(2)<<28)}const[c,f]=a?[4,0]:[0,4];e.setUint32(t+c,s,a),e.setUint32(t+f,u,a)}static __zero(){return new _(0,!1)}static __oneDigit(e,t){const r=new _(1,t);return r.__setDigit(0,e),r}__copy(){const e=new _(this.length,this.sign);for(let t=0;t<this.length;t++)e[t]=this[t];return e}__trim(){let e=this.length,t=this[e-1];for(;t===0;)e--,t=this[e-1],this.pop();return e===0&&(this.sign=!1),this}__initializeDigits(){for(let e=0;e<this.length;e++)this[e]=0}static __decideRounding(e,t,r,a){if(0<t)return-1;let s;if(0>t)s=-t-1;else{if(r===0)return-1;r--,a=e.__digit(r),s=29}let u=1<<s;if((a&u)==0)return-1;if(u-=1,(a&u)!=0)return 1;for(;0<r;)if(r--,e.__digit(r)!==0)return 1;return 0}static __fromDouble(e){_.__kBitConversionDouble[0]=e;const t=2047&_.__kBitConversionInts[1]>>>20,r=t-1023,a=(0|r/30)+1,s=new _(a,0>e);let u=1048575&_.__kBitConversionInts[1]|1048576,c=_.__kBitConversionInts[0];const f=20,d=r%30;let g,v=0;if(d<20){const w=f-d;v=w+32,g=u>>>w,u=u<<32-w|c>>>w,c<<=32-w}else if(d===20)v=32,g=u,u=c,c=0;else{const w=d-f;v=32-w,g=u<<w|c>>>32-w,u=c<<w,c=0}s.__setDigit(a-1,g);for(let w=a-2;0<=w;w--)0<v?(v-=30,g=u>>>2,u=u<<30|c>>>2,c<<=30):g=0,s.__setDigit(w,g);return s.__trim()}static __isWhitespace(e){return 13>=e&&9<=e||(159>=e?e==32:131071>=e?e==160||e==5760:196607>=e?(e&=131071,10>=e||e==40||e==41||e==47||e==95||e==4096):e==65279)}static __fromString(e,t=0){let r=0;const a=e.length;let s=0;if(s===a)return _.__zero();let u=e.charCodeAt(s);for(;_.__isWhitespace(u);){if(++s===a)return _.__zero();u=e.charCodeAt(s)}if(u===43){if(++s===a)return null;u=e.charCodeAt(s),r=1}else if(u===45){if(++s===a)return null;u=e.charCodeAt(s),r=-1}if(t===0){if(t=10,u===48){if(++s===a)return _.__zero();if(u=e.charCodeAt(s),u===88||u===120){if(t=16,++s===a)return null;u=e.charCodeAt(s)}else if(u===79||u===111){if(t=8,++s===a)return null;u=e.charCodeAt(s)}else if(u===66||u===98){if(t=2,++s===a)return null;u=e.charCodeAt(s)}}}else if(t===16&&u===48){if(++s===a)return _.__zero();if(u=e.charCodeAt(s),u===88||u===120){if(++s===a)return null;u=e.charCodeAt(s)}}if(r!=0&&t!==10)return null;for(;u===48;){if(++s===a)return _.__zero();u=e.charCodeAt(s)}const c=a-s;let f=_.__kMaxBitsPerChar[t],d=_.__kBitsPerCharTableMultiplier-1;if(c>1073741824/f)return null;const g=f*c+d>>>_.__kBitsPerCharTableShift,v=new _(0|(g+29)/30,!1),w=10>t?t:10,b=10<t?t-10:0;if((t&t-1)==0){f>>=_.__kBitsPerCharTableShift;const R=[],C=[];let D=!1;do{let M=0,x=0;for(;;){let P;if(u-48>>>0<w)P=u-48;else if((32|u)-97>>>0<b)P=(32|u)-87;else{D=!0;break}if(x+=f,M=M<<f|P,++s===a){D=!0;break}if(u=e.charCodeAt(s),30<x+f)break}R.push(M),C.push(x)}while(!D);_.__fillFromParts(v,R,C)}else{v.__initializeDigits();let R=!1,C=0;do{let D=0,M=1;for(;;){let P;if(u-48>>>0<w)P=u-48;else if((32|u)-97>>>0<b)P=(32|u)-87;else{R=!0;break}const $=M*t;if(1073741823<$)break;if(M=$,D=D*t+P,C++,++s===a){R=!0;break}u=e.charCodeAt(s)}d=30*_.__kBitsPerCharTableMultiplier-1;const x=0|(f*C+d>>>_.__kBitsPerCharTableShift)/30;v.__inplaceMultiplyAdd(M,D,x)}while(!R)}if(s!==a){if(!_.__isWhitespace(u))return null;for(s++;s<a;s++)if(u=e.charCodeAt(s),!_.__isWhitespace(u))return null}return v.sign=r==-1,v.__trim()}static __fillFromParts(e,t,r){let a=0,s=0,u=0;for(let c=t.length-1;0<=c;c--){const f=t[c],d=r[c];s|=f<<u,u+=d,u===30?(e.__setDigit(a++,s),u=0,s=0):30<u&&(e.__setDigit(a++,1073741823&s),u-=30,s=f>>>d-u)}if(s!==0){if(a>=e.length)throw new Error("implementation bug");e.__setDigit(a++,s)}for(;a<e.length;a++)e.__setDigit(a,0)}static __toStringBasePowerOfTwo(e,t){const r=e.length;let a=t-1;a=(85&a>>>1)+(85&a),a=(51&a>>>2)+(51&a),a=(15&a>>>4)+(15&a);const s=a,u=t-1,c=e.__digit(r-1),f=_.__clz30(c);let d=0|(30*r-f+s-1)/s;if(e.sign&&d++,268435456<d)throw new Error("string too long");const g=Array(d);let v=d-1,w=0,b=0;for(let C=0;C<r-1;C++){const D=e.__digit(C),M=(w|D<<b)&u;g[v--]=_.__kConversionChars[M];const x=s-b;for(w=D>>>x,b=30-x;b>=s;)g[v--]=_.__kConversionChars[w&u],w>>>=s,b-=s}const R=(w|c<<b)&u;for(g[v--]=_.__kConversionChars[R],w=c>>>s-b;w!==0;)g[v--]=_.__kConversionChars[w&u],w>>>=s;if(e.sign&&(g[v--]="-"),v!=-1)throw new Error("implementation bug");return g.join("")}static __toStringGeneric(e,t,r){const a=e.length;if(a===0)return"";if(a===1){let C=e.__unsignedDigit(0).toString(t);return r===!1&&e.sign&&(C="-"+C),C}const s=30*a-_.__clz30(e.__digit(a-1)),u=_.__kMaxBitsPerChar[t],c=u-1;let f=s*_.__kBitsPerCharTableMultiplier;f+=c-1,f=0|f/c;const d=f+1>>1,g=_.exponentiate(_.__oneDigit(t,!1),_.__oneDigit(d,!1));let v,w;const b=g.__unsignedDigit(0);if(g.length===1&&32767>=b){v=new _(e.length,!1),v.__initializeDigits();let C=0;for(let D=2*e.length-1;0<=D;D--){const M=C<<15|e.__halfDigit(D);v.__setHalfDigit(D,0|M/b),C=0|M%b}w=C.toString(t)}else{const C=_.__absoluteDivLarge(e,g,!0,!0);v=C.quotient;const D=C.remainder.__trim();w=_.__toStringGeneric(D,t,!0)}v.__trim();let R=_.__toStringGeneric(v,t,!0);for(;w.length<d;)w="0"+w;return r===!1&&e.sign&&(R="-"+R),R+w}static __unequalSign(e){return e?-1:1}static __absoluteGreater(e){return e?-1:1}static __absoluteLess(e){return e?1:-1}static __compareToBigInt(e,t){const r=e.sign;if(r!==t.sign)return _.__unequalSign(r);const a=_.__absoluteCompare(e,t);return 0<a?_.__absoluteGreater(r):0>a?_.__absoluteLess(r):0}static __compareToNumber(e,t){if(_.__isOneDigitInt(t)){const r=e.sign,a=0>t;if(r!==a)return _.__unequalSign(r);if(e.length===0){if(a)throw new Error("implementation bug");return t===0?0:-1}if(1<e.length)return _.__absoluteGreater(r);const s=Math.abs(t),u=e.__unsignedDigit(0);return u>s?_.__absoluteGreater(r):u<s?_.__absoluteLess(r):0}return _.__compareToDouble(e,t)}static __compareToDouble(e,t){if(t!==t)return t;if(t===1/0)return-1;if(t===-1/0)return 1;const r=e.sign;if(r!==0>t)return _.__unequalSign(r);if(t===0)throw new Error("implementation bug: should be handled elsewhere");if(e.length===0)return-1;_.__kBitConversionDouble[0]=t;const a=2047&_.__kBitConversionInts[1]>>>20;if(a==2047)throw new Error("implementation bug: handled elsewhere");const s=a-1023;if(0>s)return _.__absoluteGreater(r);const u=e.length;let c=e.__digit(u-1);const f=_.__clz30(c),d=30*u-f,g=s+1;if(d<g)return _.__absoluteLess(r);if(d>g)return _.__absoluteGreater(r);let v=1048576|1048575&_.__kBitConversionInts[1],w=_.__kBitConversionInts[0];const b=20,R=29-f;if(R!==(0|(d-1)%30))throw new Error("implementation bug");let C,D=0;if(20>R){const M=b-R;D=M+32,C=v>>>M,v=v<<32-M|w>>>M,w<<=32-M}else if(R===20)D=32,C=v,v=w,w=0;else{const M=R-b;D=32-M,C=v<<M|w>>>32-M,v=w<<M,w=0}if(c>>>=0,C>>>=0,c>C)return _.__absoluteGreater(r);if(c<C)return _.__absoluteLess(r);for(let M=u-2;0<=M;M--){0<D?(D-=30,C=v>>>2,v=v<<30|w>>>2,w<<=30):C=0;const x=e.__unsignedDigit(M);if(x>C)return _.__absoluteGreater(r);if(x<C)return _.__absoluteLess(r)}if(v!==0||w!==0){if(D===0)throw new Error("implementation bug");return _.__absoluteLess(r)}return 0}static __equalToNumber(e,t){var r=Math.abs;return _.__isOneDigitInt(t)?t===0?e.length===0:e.length===1&&e.sign===0>t&&e.__unsignedDigit(0)===r(t):_.__compareToDouble(e,t)===0}static __comparisonResultToBool(e,t){return t===0?0>e:t===1?0>=e:t===2?0<e:t===3?0<=e:void 0}static __compare(e,t,r){if(e=_.__toPrimitive(e),t=_.__toPrimitive(t),typeof e=="string"&&typeof t=="string")switch(r){case 0:return e<t;case 1:return e<=t;case 2:return e>t;case 3:return e>=t}if(_.__isBigInt(e)&&typeof t=="string")return t=_.__fromString(t),t!==null&&_.__comparisonResultToBool(_.__compareToBigInt(e,t),r);if(typeof e=="string"&&_.__isBigInt(t))return e=_.__fromString(e),e!==null&&_.__comparisonResultToBool(_.__compareToBigInt(e,t),r);if(e=_.__toNumeric(e),t=_.__toNumeric(t),_.__isBigInt(e)){if(_.__isBigInt(t))return _.__comparisonResultToBool(_.__compareToBigInt(e,t),r);if(typeof t!="number")throw new Error("implementation bug");return _.__comparisonResultToBool(_.__compareToNumber(e,t),r)}if(typeof e!="number")throw new Error("implementation bug");if(_.__isBigInt(t))return _.__comparisonResultToBool(_.__compareToNumber(t,e),2^r);if(typeof t!="number")throw new Error("implementation bug");return r===0?e<t:r===1?e<=t:r===2?e>t:r===3?e>=t:void 0}__clzmsd(){return _.__clz30(this.__digit(this.length-1))}static __absoluteAdd(e,t,r){if(e.length<t.length)return _.__absoluteAdd(t,e,r);if(e.length===0)return e;if(t.length===0)return e.sign===r?e:_.unaryMinus(e);let a=e.length;(e.__clzmsd()===0||t.length===e.length&&t.__clzmsd()===0)&&a++;const s=new _(a,r);let u=0,c=0;for(;c<t.length;c++){const f=e.__digit(c)+t.__digit(c)+u;u=f>>>30,s.__setDigit(c,1073741823&f)}for(;c<e.length;c++){const f=e.__digit(c)+u;u=f>>>30,s.__setDigit(c,1073741823&f)}return c<s.length&&s.__setDigit(c,u),s.__trim()}static __absoluteSub(e,t,r){if(e.length===0)return e;if(t.length===0)return e.sign===r?e:_.unaryMinus(e);const a=new _(e.length,r);let s=0,u=0;for(;u<t.length;u++){const c=e.__digit(u)-t.__digit(u)-s;s=1&c>>>30,a.__setDigit(u,1073741823&c)}for(;u<e.length;u++){const c=e.__digit(u)-s;s=1&c>>>30,a.__setDigit(u,1073741823&c)}return a.__trim()}static __absoluteAddOne(e,t,r=null){const a=e.length;r===null?r=new _(a,t):r.sign=t;let s=1;for(let u=0;u<a;u++){const c=e.__digit(u)+s;s=c>>>30,r.__setDigit(u,1073741823&c)}return s!=0&&r.__setDigitGrow(a,1),r}static __absoluteSubOne(e,t){const r=e.length;t=t||r;const a=new _(t,!1);let s=1;for(let u=0;u<r;u++){const c=e.__digit(u)-s;s=1&c>>>30,a.__setDigit(u,1073741823&c)}if(s!=0)throw new Error("implementation bug");for(let u=r;u<t;u++)a.__setDigit(u,0);return a}static __absoluteAnd(e,t,r=null){let a=e.length,s=t.length,u=s;if(a<s){u=a;const d=e,g=a;e=t,a=s,t=d,s=g}let c=u;r===null?r=new _(c,!1):c=r.length;let f=0;for(;f<u;f++)r.__setDigit(f,e.__digit(f)&t.__digit(f));for(;f<c;f++)r.__setDigit(f,0);return r}static __absoluteAndNot(e,t,r=null){const a=e.length,s=t.length;let u=s;a<s&&(u=a);let c=a;r===null?r=new _(c,!1):c=r.length;let f=0;for(;f<u;f++)r.__setDigit(f,e.__digit(f)&~t.__digit(f));for(;f<a;f++)r.__setDigit(f,e.__digit(f));for(;f<c;f++)r.__setDigit(f,0);return r}static __absoluteOr(e,t,r=null){let a=e.length,s=t.length,u=s;if(a<s){u=a;const d=e,g=a;e=t,a=s,t=d,s=g}let c=a;r===null?r=new _(c,!1):c=r.length;let f=0;for(;f<u;f++)r.__setDigit(f,e.__digit(f)|t.__digit(f));for(;f<a;f++)r.__setDigit(f,e.__digit(f));for(;f<c;f++)r.__setDigit(f,0);return r}static __absoluteXor(e,t,r=null){let a=e.length,s=t.length,u=s;if(a<s){u=a;const d=e,g=a;e=t,a=s,t=d,s=g}let c=a;r===null?r=new _(c,!1):c=r.length;let f=0;for(;f<u;f++)r.__setDigit(f,e.__digit(f)^t.__digit(f));for(;f<a;f++)r.__setDigit(f,e.__digit(f));for(;f<c;f++)r.__setDigit(f,0);return r}static __absoluteCompare(e,t){const r=e.length-t.length;if(r!=0)return r;let a=e.length-1;for(;0<=a&&e.__digit(a)===t.__digit(a);)a--;return 0>a?0:e.__unsignedDigit(a)>t.__unsignedDigit(a)?1:-1}static __multiplyAccumulate(e,t,r,a){if(t===0)return;const s=32767&t,u=t>>>15;let c=0,f=0;for(let d,g=0;g<e.length;g++,a++){d=r.__digit(a);const v=e.__digit(g),w=32767&v,b=v>>>15,R=_.__imul(w,s),C=_.__imul(w,u),D=_.__imul(b,s),M=_.__imul(b,u);d+=f+R+c,c=d>>>30,d&=1073741823,d+=((32767&C)<<15)+((32767&D)<<15),c+=d>>>30,f=M+(C>>>15)+(D>>>15),r.__setDigit(a,1073741823&d)}for(;c!=0||f!==0;a++){let d=r.__digit(a);d+=c+f,f=0,c=d>>>30,r.__setDigit(a,1073741823&d)}}static __internalMultiplyAdd(e,t,r,a,s){let u=r,c=0;for(let f=0;f<a;f++){const d=e.__digit(f),g=_.__imul(32767&d,t),v=_.__imul(d>>>15,t),w=g+((32767&v)<<15)+c+u;u=w>>>30,c=v>>>15,s.__setDigit(f,1073741823&w)}if(s.length>a)for(s.__setDigit(a++,u+c);a<s.length;)s.__setDigit(a++,0);else if(u+c!==0)throw new Error("implementation bug")}__inplaceMultiplyAdd(e,t,r){r>this.length&&(r=this.length);const a=32767&e,s=e>>>15;let u=0,c=t;for(let f=0;f<r;f++){const d=this.__digit(f),g=32767&d,v=d>>>15,w=_.__imul(g,a),b=_.__imul(g,s),R=_.__imul(v,a),C=_.__imul(v,s);let D=c+w+u;u=D>>>30,D&=1073741823,D+=((32767&b)<<15)+((32767&R)<<15),u+=D>>>30,c=C+(b>>>15)+(R>>>15),this.__setDigit(f,1073741823&D)}if(u!=0||c!==0)throw new Error("implementation bug")}static __absoluteDivSmall(e,t,r=null){r===null&&(r=new _(e.length,!1));let a=0;for(let s,u=2*e.length-1;0<=u;u-=2){s=(a<<15|e.__halfDigit(u))>>>0;const c=0|s/t;a=0|s%t,s=(a<<15|e.__halfDigit(u-1))>>>0;const f=0|s/t;a=0|s%t,r.__setDigit(u>>>1,c<<15|f)}return r}static __absoluteModSmall(e,t){let r=0;for(let a=2*e.length-1;0<=a;a--)r=0|((r<<15|e.__halfDigit(a))>>>0)%t;return r}static __absoluteDivLarge(e,t,r,a){const s=t.__halfDigitLength(),u=t.length,c=e.__halfDigitLength()-s;let f=null;r&&(f=new _(c+2>>>1,!1),f.__initializeDigits());const d=new _(s+2>>>1,!1);d.__initializeDigits();const g=_.__clz15(t.__halfDigit(s-1));0<g&&(t=_.__specialLeftShift(t,g,0));const v=_.__specialLeftShift(e,g,1),w=t.__halfDigit(s-1);let b=0;for(let R,C=c;0<=C;C--){R=32767;const D=v.__halfDigit(C+s);if(D!==w){const x=(D<<15|v.__halfDigit(C+s-1))>>>0;R=0|x/w;let P=0|x%w;const $=t.__halfDigit(s-2),V=v.__halfDigit(C+s-2);for(;_.__imul(R,$)>>>0>(P<<16|V)>>>0&&(R--,P+=w,!(32767<P)););}_.__internalMultiplyAdd(t,R,0,u,d);let M=v.__inplaceSub(d,C,s+1);M!==0&&(M=v.__inplaceAdd(t,C,s),v.__setHalfDigit(C+s,32767&v.__halfDigit(C+s)+M),R--),r&&(1&C?b=R<<15:f.__setDigit(C>>>1,b|R))}if(a)return v.__inplaceRightShift(g),r?{quotient:f,remainder:v}:v;if(r)return f;throw new Error("unreachable")}static __clz15(e){return _.__clz30(e)-15}__inplaceAdd(e,t,r){let a=0;for(let s=0;s<r;s++){const u=this.__halfDigit(t+s)+e.__halfDigit(s)+a;a=u>>>15,this.__setHalfDigit(t+s,32767&u)}return a}__inplaceSub(e,t,r){let a=0;if(1&t){t>>=1;let s=this.__digit(t),u=32767&s,c=0;for(;c<r-1>>>1;c++){const g=e.__digit(c),v=(s>>>15)-(32767&g)-a;a=1&v>>>15,this.__setDigit(t+c,(32767&v)<<15|32767&u),s=this.__digit(t+c+1),u=(32767&s)-(g>>>15)-a,a=1&u>>>15}const f=e.__digit(c),d=(s>>>15)-(32767&f)-a;if(a=1&d>>>15,this.__setDigit(t+c,(32767&d)<<15|32767&u),t+c+1>=this.length)throw new RangeError("out of bounds");(1&r)==0&&(s=this.__digit(t+c+1),u=(32767&s)-(f>>>15)-a,a=1&u>>>15,this.__setDigit(t+e.length,1073709056&s|32767&u))}else{t>>=1;let s=0;for(;s<e.length-1;s++){const g=this.__digit(t+s),v=e.__digit(s),w=(32767&g)-(32767&v)-a;a=1&w>>>15;const b=(g>>>15)-(v>>>15)-a;a=1&b>>>15,this.__setDigit(t+s,(32767&b)<<15|32767&w)}const u=this.__digit(t+s),c=e.__digit(s),f=(32767&u)-(32767&c)-a;a=1&f>>>15;let d=0;(1&r)==0&&(d=(u>>>15)-(c>>>15)-a,a=1&d>>>15),this.__setDigit(t+s,(32767&d)<<15|32767&f)}return a}__inplaceRightShift(e){if(e===0)return;let t=this.__digit(0)>>>e;const r=this.length-1;for(let a=0;a<r;a++){const s=this.__digit(a+1);this.__setDigit(a,1073741823&s<<30-e|t),t=s>>>e}this.__setDigit(r,t)}static __specialLeftShift(e,t,r){const a=e.length,s=new _(a+r,!1);if(t===0){for(let c=0;c<a;c++)s.__setDigit(c,e.__digit(c));return 0<r&&s.__setDigit(a,0),s}let u=0;for(let c=0;c<a;c++){const f=e.__digit(c);s.__setDigit(c,1073741823&f<<t|u),u=f>>>30-t}return 0<r&&s.__setDigit(a,u),s}static __leftShiftByAbsolute(e,t){const r=_.__toShiftAmount(t);if(0>r)throw new RangeError("BigInt too big");const a=0|r/30,s=r%30,u=e.length,c=s!==0&&e.__digit(u-1)>>>30-s!=0,f=u+a+(c?1:0),d=new _(f,e.sign);if(s===0){let g=0;for(;g<a;g++)d.__setDigit(g,0);for(;g<f;g++)d.__setDigit(g,e.__digit(g-a))}else{let g=0;for(let v=0;v<a;v++)d.__setDigit(v,0);for(let v=0;v<u;v++){const w=e.__digit(v);d.__setDigit(v+a,1073741823&w<<s|g),g=w>>>30-s}if(c)d.__setDigit(u+a,g);else if(g!==0)throw new Error("implementation bug")}return d.__trim()}static __rightShiftByAbsolute(e,t){const r=e.length,a=e.sign,s=_.__toShiftAmount(t);if(0>s)return _.__rightShiftByMaximum(a);const u=0|s/30,c=s%30;let f=r-u;if(0>=f)return _.__rightShiftByMaximum(a);let d=!1;if(a){if((e.__digit(u)&(1<<c)-1)!=0)d=!0;else for(let v=0;v<u;v++)if(e.__digit(v)!==0){d=!0;break}}d&&c===0&&~e.__digit(r-1)==0&&f++;let g=new _(f,a);if(c===0){g.__setDigit(f-1,0);for(let v=u;v<r;v++)g.__setDigit(v-u,e.__digit(v))}else{let v=e.__digit(u)>>>c;const w=r-u-1;for(let b=0;b<w;b++){const R=e.__digit(b+u+1);g.__setDigit(b,1073741823&R<<30-c|v),v=R>>>c}g.__setDigit(w,v)}return d&&(g=_.__absoluteAddOne(g,!0,g)),g.__trim()}static __rightShiftByMaximum(e){return e?_.__oneDigit(1,!0):_.__zero()}static __toShiftAmount(e){if(1<e.length)return-1;const t=e.__unsignedDigit(0);return t>_.__kMaxLengthBits?-1:t}static __toPrimitive(e,t="default"){if(typeof e!="object"||e.constructor===_)return e;if(typeof Symbol<"u"&&typeof Symbol.toPrimitive=="symbol"){const s=e[Symbol.toPrimitive];if(s){const u=s(t);if(typeof u!="object")return u;throw new TypeError("Cannot convert object to primitive value")}}const r=e.valueOf;if(r){const s=r.call(e);if(typeof s!="object")return s}const a=e.toString;if(a){const s=a.call(e);if(typeof s!="object")return s}throw new TypeError("Cannot convert object to primitive value")}static __toNumeric(e){return _.__isBigInt(e)?e:+e}static __isBigInt(e){return typeof e=="object"&&e!==null&&e.constructor===_}static __truncateToNBits(e,t){const r=0|(e+29)/30,a=new _(r,t.sign),s=r-1;for(let c=0;c<s;c++)a.__setDigit(c,t.__digit(c));let u=t.__digit(s);if(e%30!=0){const c=32-e%30;u=u<<c>>>c}return a.__setDigit(s,u),a.__trim()}static __truncateAndSubFromPowerOfTwo(e,t,r){var a=Math.min;const s=0|(e+29)/30,u=new _(s,r);let c=0;const f=s-1;let d=0;for(const b=a(f,t.length);c<b;c++){const R=0-t.__digit(c)-d;d=1&R>>>30,u.__setDigit(c,1073741823&R)}for(;c<f;c++)u.__setDigit(c,0|1073741823&-d);let g=f<t.length?t.__digit(f):0;const v=e%30;let w;if(v==0)w=0-g-d,w&=1073741823;else{const b=32-v;g=g<<b>>>b;const R=1<<32-b;w=R-g-d,w&=R-1}return u.__setDigit(f,w),u.__trim()}__digit(e){return this[e]}__unsignedDigit(e){return this[e]>>>0}__setDigit(e,t){this[e]=0|t}__setDigitGrow(e,t){this[e]=0|t}__halfDigitLength(){const e=this.length;return 32767>=this.__unsignedDigit(e-1)?2*e-1:2*e}__halfDigit(e){return 32767&this[e>>>1]>>>15*(1&e)}__setHalfDigit(e,t){const r=e>>>1,a=this.__digit(r),s=1&e?32767&a|t<<15:1073709056&a|32767&t;this.__setDigit(r,s)}static __digitPow(e,t){let r=1;for(;0<t;)1&t&&(r*=e),t>>>=1,e*=e;return r}static __isOneDigitInt(e){return(1073741823&e)===e}}_.__kMaxLength=33554432,_.__kMaxLengthBits=_.__kMaxLength<<5,_.__kMaxBitsPerChar=[0,0,32,51,64,75,83,90,96,102,107,111,115,119,122,126,128,131,134,136,139,141,143,145,147,149,151,153,154,156,158,159,160,162,163,165,166],_.__kBitsPerCharTableShift=5,_.__kBitsPerCharTableMultiplier=1<<_.__kBitsPerCharTableShift,_.__kConversionChars=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],_.__kBitConversionBuffer=new ArrayBuffer(8),_.__kBitConversionDouble=new Float64Array(_.__kBitConversionBuffer),_.__kBitConversionInts=new Int32Array(_.__kBitConversionBuffer),_.__clz30=Math.clz32?function(n){return Math.clz32(n)-2}:function(n){return n===0?30:0|29-(0|Math.log(n>>>0)/Math.LN2)},_.__imul=Math.imul||function(n,e){return 0|n*e};const Qv={};function Qa(n,e){Object.defineProperty(n.prototype,Symbol.toStringTag,{value:e,writable:!1,enumerable:!1,configurable:!0});for(const t of Object.getOwnPropertyNames(n)){const r=Object.getOwnPropertyDescriptor(n,t);r.configurable&&r.enumerable&&(r.enumerable=!1,Object.defineProperty(n,t,r))}for(const t of Object.getOwnPropertyNames(n.prototype)){const r=Object.getOwnPropertyDescriptor(n.prototype,t);r.configurable&&r.enumerable&&(r.enumerable=!1,Object.defineProperty(n.prototype,t,r))}nn(e,n),nn(`${e}.prototype`,n.prototype)}function nn(n,e){const t=`%${n}%`;if(Qv[t]!==void 0)throw new Error(`intrinsic ${n} already exists`);Qv[t]=e}function pe(n){return Qv[n]}var o1,s1;const Ue="slot-epochNanoSeconds",xa="slot-timezone-identifier",we="slot-year",Ee="slot-month",Re="slot-day",Qe="slot-hour",Ze="slot-minute",Xe="slot-second",We="slot-millisecond",Je="slot-microsecond",et="slot-nanosecond",W="slot-calendar",GA="slot-date-brand",KA="slot-year-month-brand",QA="slot-month-day-brand",dr="slot-cached-instant",Dt="slot-time-zone",wr="slot-years",$n="slot-months",zr="slot-weeks",Er="slot-days",br="slot-hours",Rr="slot-minutes",Ar="slot-seconds",Sr="slot-milliseconds",Cr="slot-microseconds",Dr="slot-nanoseconds",tn="slot-calendar-identifier",ZA=new WeakMap,Zv=Symbol.for("@@Temporal__GetSlots");(o1=globalThis)[Zv]||(o1[Zv]=function(e){return ZA.get(e)});const Y0=globalThis[Zv],Xv=Symbol.for("@@Temporal__CreateSlots");(s1=globalThis)[Xv]||(s1[Xv]=function(e){ZA.set(e,Object.create(null))});const Za=globalThis[Xv];function Ln(n,...e){if(!n||typeof n!="object")return!1;const t=Y0(n);return!!t&&e.every(r=>r in t)}function y(n,e){var r;const t=(r=Y0(n))==null?void 0:r[e];if(t===void 0)throw new TypeError(`Missing internal slot ${e}`);return t}function tt(n,e,t){const r=Y0(n);if(r===void 0)throw new TypeError("Missing slots for the given container");if(r[e])throw new TypeError(`${e} already has set`);r[e]=t}const l1=/\.[-A-Za-z_]|\.\.[-A-Za-z._]{1,12}|\.[-A-Za-z_][-A-Za-z._]{0,12}|[A-Za-z_][-A-Za-z._]{0,13}/,Vf=new RegExp("(?:"+[`(?:${l1.source})(?:\\/(?:${l1.source}))*`,"Etc/GMT(?:0|[-+]\\d{1,2})","GMT[-+]?0","EST5EDT","CST6CDT","MST7MDT","PST8PDT",/(?:[+\u2212-][0-2][0-9](?::?[0-5][0-9](?::?[0-5][0-9](?:[.,]\d{1,9})?)?)?)/.source].join("|")+")"),XA=/(?:[+\u2212-]\d{6}|\d{4})/,Wm=/(?:0[1-9]|1[0-2])/,Wv=/(?:0[1-9]|[12]\d|3[01])/,ix=new RegExp(`(${XA.source})(?:-(${Wm.source})-(${Wv.source})|(${Wm.source})(${Wv.source}))`),WA=/(\d{2})(?::(\d{2})(?::(\d{2})(?:[.,](\d{1,9}))?)?|(\d{2})(?:(\d{2})(?:[.,](\d{1,9}))?)?)?/,JA=/([+\u2212-])([01][0-9]|2[0-3])(?::?([0-5][0-9])(?::?([0-5][0-9])(?:[.,](\d{1,9}))?)?)?/,eS=new RegExp(`([zZ])|${JA.source}?`),Xs=/\[(!)?([a-z_][a-z0-9_-]*)=([A-Za-z0-9]+(?:-[A-Za-z0-9]+)*)\]/g,ax=new RegExp([`^${ix.source}`,`(?:(?:T|\\s+)${WA.source}(?:${eS.source})?)?`,`(?:\\[!?(${Vf.source})\\])?`,`((?:${Xs.source})*)$`].join(""),"i"),ox=new RegExp([`^T?${WA.source}`,`(?:${eS.source})?`,`(?:\\[!?${Vf.source}\\])?`,`((?:${Xs.source})*)$`].join(""),"i"),sx=new RegExp(`^(${XA.source})-?(${Wm.source})(?:\\[!?${Vf.source}\\])?((?:${Xs.source})*)$`),lx=new RegExp(`^(?:--)?(${Wm.source})-?(${Wv.source})(?:\\[!?${Vf.source}\\])?((?:${Xs.source})*)$`),Rv=/(\d+)(?:[.,](\d{1,9}))?/,ux=new RegExp(`(?:${Rv.source}H)?(?:${Rv.source}M)?(?:${Rv.source}S)?`),cx=new RegExp(`^([+-])?P${/(?:(\d+)Y)?(?:(\d+)M)?(?:(\d+)W)?(?:(\d+)D)?/.source}(?:T(?!$)${ux.source})?$`,"i"),hx=Array.prototype.includes,tS=Array.prototype.push,nS=globalThis.Intl.DateTimeFormat,fx=Math.min,dx=Math.max,Yt=Math.abs,ei=Math.floor,yc=Math.sign,zl=Math.trunc,Up=Number.isNaN,Or=Number.isFinite,mx=Number,Uf=String,px=Number.MAX_SAFE_INTEGER,pr=Object.create,gx=Object.getOwnPropertyDescriptor,zp=Reflect.apply,yx=Reflect.ownKeys,fn=_.BigInt(0),Lc=_.BigInt(1),Va=_.BigInt(60),rS=_.BigInt(24),Tt=_.BigInt(1e3),Ri=_.BigInt(1e6),Ua=_.BigInt(1e9),vx=_.BigInt(-1),iS=_.multiply(_.BigInt(3600),Ua),aS=_.multiply(Va,Ua),Ha=_.multiply(iS,rS),_f=_.multiply(_.BigInt(-86400),_.BigInt(1e17)),vc=_.multiply(_.BigInt(86400),_.BigInt(1e17)),Jm=-271821,ep=275760,oc=_.multiply(_.BigInt(-388152),_.BigInt(1e13)),_x=_.multiply(Ha,_.BigInt(3660)),oS=_.multiply(Ha,_.BigInt(366)),sS=_.multiply(Ha,_.BigInt(14)),Tx=["iso8601","hebrew","islamic","islamic-umalqura","islamic-tbla","islamic-civil","islamic-rgsa","islamicc","persian","ethiopic","ethioaa","coptic","chinese","dangi","roc","indian","buddhist","japanese","gregory"];function Ei(n){return _.equal(n,fn)}function bt(n,e){const t=n[e];if(t!==void 0)return t}function De(n,e,t){const r=arguments.length>2?t:[];return zp(n,e,r)}function Kt(n){return typeof n=="object"&&n!==null||typeof n=="function"}function _c(n){if(typeof n=="bigint")throw new TypeError("Cannot convert BigInt to number");return mx(n)}function wn(n){const e=_c(n);if(Up(e)||e===0)return 0;if(!Or(e))return e;const t=ei(Yt(e));return t===0?0:yc(e)*t}function fi(n){if(typeof n!="number"||Up(n)||!Or(n))return!1;const e=Yt(n);return ei(e)===e}function xr(n){if(typeof n=="symbol")throw new TypeError("Cannot convert a Symbol value to a String");return Uf(n)}function gt(n){const e=_c(n);if(e===0)return 0;if(Up(e)||!Or(e))throw new RangeError("invalid number value");const t=zl(e);return t===0?0:t}function u1(n,e){const t=gt(n);if(t<=0)throw e!==void 0?new RangeError(`property '${e}' cannot be a a number less than one`):new RangeError("Cannot convert a number less than one to a positive integer");return t}function kn(n){const e=_c(n);if(!Or(e))throw new RangeError("infinity is out of range");if(!fi(e))throw new RangeError(`unsupported fractional value ${n}`);return e===0?0:e}function gn(n,e){return{quotient:_.divide(n,e),remainder:_.remainder(n,e)}}function tp(n){return _.lessThan(n,fn)}function c1(n){return Ei(n)?0:tp(n)?-1:1}function oa(n){return _.lessThan(n,fn)?_.multiply(n,vx):n}const h1=new Map([["year",gt],["month",u1],["monthCode",xr],["day",u1],["hour",gt],["minute",gt],["second",gt],["millisecond",gt],["microsecond",gt],["nanosecond",gt],["years",kn],["months",kn],["weeks",kn],["days",kn],["hours",kn],["minutes",kn],["seconds",kn],["milliseconds",kn],["microseconds",kn],["nanoseconds",kn],["era",xr],["eraYear",wn],["offset",xr]]),wx=new Map([["hour",0],["minute",0],["second",0],["millisecond",0],["microsecond",0],["nanosecond",0]]),zf=[["years","year","date"],["months","month","date"],["weeks","week","date"],["days","day","date"],["hours","hour","time"],["minutes","minute","time"],["seconds","second","time"],["milliseconds","millisecond","time"],["microseconds","microsecond","time"],["nanoseconds","nanosecond","time"]],np=new Map(zf.map(n=>[n[0],n[1]])),Ex=new Map(zf.map(([n,e])=>[e,n])),f1=zf.map(([,n])=>n),d1=Array.from(np.keys()).sort(),m1=new Map;function lS(n){let e=m1.get(n);return e===void 0&&(e=new nS("en-us",{timeZone:Uf(n),hour12:!1,era:"short",year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"}),m1.set(n,e)),e}function p1(n){if(n==null)throw new TypeError(`Expected object not ${n}`);return Object(n)}function sc(n,e,t,r){if(e==null)return;const a=yx(e);for(const s of a)if(!t.some(u=>Object.is(u,s))&&Object.prototype.propertyIsEnumerable.call(e,s)){const u=e[s];if(r&&r.some(c=>Object.is(c,u)))continue;n[s]=u}}function In(n){return Ln(n,Ue)&&!Ln(n,Dt,W)}function wi(n){return Ln(n,xa)}function ln(n){return Ln(n,tn)}function cn(n){return Ln(n,wr,$n,Er,br,Rr,Ar,Sr,Cr,Dr)}function st(n){return Ln(n,GA)}function hn(n){return Ln(n,Qe,Ze,Xe,We,Je,et)&&!Ln(n,we,Ee,Re)}function Ge(n){return Ln(n,we,Ee,Re,Qe,Ze,Xe,We,Je,et)}function _t(n){return Ln(n,KA)}function xn(n){return Ln(n,QA)}function Ce(n){return Ln(n,Ue,Dt,W)}function Vc(n){if(Ln(n,W)||Ln(n,Dt))throw new TypeError("with() does not support a calendar or timeZone property");if(hn(n))throw new TypeError("with() does not accept Temporal.PlainTime, use withPlainTime() instead");if(n.calendar!==void 0)throw new TypeError("with() does not support a calendar property");if(n.timeZone!==void 0)throw new TypeError("with() does not support a timeZone property")}function bx(n){const{ianaName:e,offset:t,z:r}=function(s){if(new RegExp(`^${Vf.source}$`,"i").test(s))return{ianaName:s};try{const u=Xa(s);if(u.z||u.offset||u.ianaName)return u}catch{}throw new RangeError(`Invalid time zone: ${s}`)}(n);return e?r_(e):r?"UTC":Xp(js(t))}function G0(n,e){return e==="never"?"":K0(Xn(n),e)}function K0(n,e){return e==="never"||e==="auto"&&n==="iso8601"?"":`[${e==="critical"?"!":""}u-ca=${n}]`}function Xa(n){const e=ax.exec(n);if(!e)throw new RangeError(`invalid ISO 8601 string: ${n}`);let t=e[1];if(t[0]===""&&(t=`-${t.slice(1)}`),t==="-000000")throw new RangeError(`invalid ISO 8601 string: ${n}`);const r=wn(t),a=wn(e[2]||e[4]),s=wn(e[3]||e[5]),u=wn(e[6]),c=e[6]!==void 0,f=wn(e[7]||e[10]);let d=wn(e[8]||e[11]);d===60&&(d=59);const g=(e[9]||e[12])+"000000000",v=wn(g.slice(0,3)),w=wn(g.slice(3,6)),b=wn(g.slice(6,9));let R,C=!1;if(e[13])R=void 0,C=!0;else if(e[14]&&e[15]){const P=e[14]==="-"||e[14]===""?"-":"+",$=e[15]||"00",V=e[16]||"00",Y=e[17]||"00";let N=e[18]||"0";if(R=`${P}${$}:${V}`,+N){for(;N.endsWith("0");)N=N.slice(0,-1);R+=`:${Y}.${N}`}else+Y&&(R+=`:${Y}`);R==="-00:00"&&(R="+00:00")}const D=e[19],M=e[20];let x;for(const[,P,$,V]of M.matchAll(Xs))if($==="u-ca")x===void 0&&(x=V);else if(P==="!")throw new RangeError(`Unrecognized annotation: !${$}=${V}`);return o_(r,a,s,u,f,d,v,w,b),{year:r,month:a,day:s,hasTime:c,hour:u,minute:f,second:d,millisecond:v,microsecond:w,nanosecond:b,ianaName:D,offset:R,z:C,calendar:x}}function Q0(n){const e=sx.exec(n);let t,r,a,s;if(e){let u=e[1];if(u[0]===""&&(u=`-${u.slice(1)}`),u==="-000000")throw new RangeError(`invalid ISO 8601 string: ${n}`);t=wn(u),r=wn(e[2]);const c=e[3];for(const[,f,d,g]of c.matchAll(Xs))if(d==="u-ca")a===void 0&&(a=g);else if(f==="!")throw new RangeError(`Unrecognized annotation: !${d}=${g}`);if(a!==void 0&&a!=="iso8601")throw new RangeError("YYYY-MM format is only valid with iso8601 calendar")}else{let u;if({year:t,month:r,calendar:a,day:s,z:u}=Xa(n),u)throw new RangeError("Z designator not supported for PlainYearMonth")}return{year:t,month:r,calendar:a,referenceISODay:s}}function Z0(n){const e=lx.exec(n);let t,r,a,s;if(e){t=wn(e[1]),r=wn(e[2]);const u=e[3];for(const[,c,f,d]of u.matchAll(Xs))if(f==="u-ca")a===void 0&&(a=d);else if(c==="!")throw new RangeError(`Unrecognized annotation: !${f}=${d}`);if(a!==void 0&&a!=="iso8601")throw new RangeError("MM-DD format is only valid with iso8601 calendar")}else{let u;if({month:t,day:r,calendar:a,year:s,z:u}=Xa(n),u)throw new RangeError("Z designator not supported for PlainMonthDay")}return{month:t,day:r,calendar:a,referenceISOYear:s}}function Rx(n){let{year:e,month:t,day:r,hour:a,minute:s,second:u,millisecond:c,microsecond:f,nanosecond:d,offset:g,z:v}=function(C){const D=Xa(C);if(!D.z&&!D.offset)throw new RangeError("Temporal.Instant requires a time zone offset");return D}(n);if(!v&&!g)throw new RangeError("Temporal.Instant requires a time zone offset");const w=v?0:js(g);({year:e,month:t,day:r,hour:a,minute:s,second:u,millisecond:c,microsecond:f,nanosecond:d}=i_(e,t,r,a,s,u,c,f,d-w));const b=Bs(e,t,r,a,s,u,c,f,d);if(b===null)throw new RangeError("DateTime outside of supported range");return b}function rp(n,e,t,r){let a=n,s=e,u=t;switch(r){case"reject":Ya(a,s,u);break;case"constrain":({year:a,month:s,day:u}=AS(a,s,u))}return{year:a,month:s,day:u}}function jp(n,e,t,r,a,s,u){let c=n,f=e,d=t,g=r,v=a,w=s;switch(u){case"reject":Jp(c,f,d,g,v,w);break;case"constrain":({hour:c,minute:f,second:d,millisecond:g,microsecond:v,nanosecond:w}=function(R,C,D,M,x,P){const $=Wr(R,0,23),V=Wr(C,0,59),Y=Wr(D,0,59),N=Wr(M,0,999),I=Wr(x,0,999),O=Wr(P,0,999);return{hour:$,minute:V,second:Y,millisecond:N,microsecond:I,nanosecond:O}}(c,f,d,g,v,w))}return{hour:c,minute:f,second:d,millisecond:g,microsecond:v,nanosecond:w}}function ou(n){if(!Kt(n))return function(R){const C=cx.exec(R);if(!C)throw new RangeError(`invalid duration: ${R}`);if(C.slice(2).every(de=>de===void 0))throw new RangeError(`invalid duration: ${R}`);const D=C[1]==="-"||C[1]===""?-1:1,M=C[2]===void 0?0:gt(C[2])*D,x=C[3]===void 0?0:gt(C[3])*D,P=C[4]===void 0?0:gt(C[4])*D,$=C[5]===void 0?0:gt(C[5])*D,V=C[6]===void 0?0:gt(C[6])*D,Y=C[7],N=C[8],I=C[9],O=C[10],z=C[11];let j=0,q=0,U=0;if(Y!==void 0){if(N??I??O??z)throw new RangeError("only the smallest unit can be fractional");U=3600*wn((Y+"000000000").slice(0,9))*D}else if(j=N===void 0?0:gt(N)*D,I!==void 0){if(O??z)throw new RangeError("only the smallest unit can be fractional");U=60*wn((I+"000000000").slice(0,9))*D}else q=O===void 0?0:gt(O)*D,z!==void 0&&(U=wn((z+"000000000").slice(0,9))*D);const Se=U%1e3,se=zl(U/1e3)%1e3,re=zl(U/1e6)%1e3;return q+=zl(U/1e9)%60,j+=zl(U/6e10),up(M,x,P,$,V,j,q,re,se,Se),{years:M,months:x,weeks:P,days:$,hours:V,minutes:j,seconds:q,milliseconds:re,microseconds:se,nanoseconds:Se}}(xr(n));if(cn(n))return{years:y(n,wr),months:y(n,$n),weeks:y(n,zr),days:y(n,Er),hours:y(n,br),minutes:y(n,Rr),seconds:y(n,Ar),milliseconds:y(n,Sr),microseconds:y(n,Cr),nanoseconds:y(n,Dr)};const e={years:0,months:0,weeks:0,days:0,hours:0,minutes:0,seconds:0,milliseconds:0,microseconds:0,nanoseconds:0};let t=function(R){if(!Kt(R))throw new TypeError("invalid duration-like");const C={years:void 0,months:void 0,weeks:void 0,days:void 0,hours:void 0,minutes:void 0,seconds:void 0,milliseconds:void 0,microseconds:void 0,nanoseconds:void 0};let D=!1;for(const M of d1){const x=R[M];x!==void 0&&(D=!0,C[M]=kn(x))}if(!D)throw new TypeError("invalid duration-like");return C}(n);for(const b of d1){const R=t[b];R!==void 0&&(e[b]=R)}let{years:r,months:a,weeks:s,days:u,hours:c,minutes:f,seconds:d,milliseconds:g,microseconds:v,nanoseconds:w}=e;return up(r,a,s,u,c,f,d,g,v,w),{years:r,months:a,weeks:s,days:u,hours:c,minutes:f,seconds:d,milliseconds:g,microseconds:v,nanoseconds:w}}function yn(n){return n===void 0?"constrain":Fs(n,"overflow",["constrain","reject"],"constrain")}function Tc(n){return n===void 0?"compatible":Fs(n,"disambiguation",["compatible","earlier","later","reject"],"compatible")}function ua(n,e){return Fs(n,"roundingMode",["ceil","floor","expand","trunc","halfCeil","halfFloor","halfExpand","halfTrunc","halfEven"],e)}function ip(n,e){return n===void 0?e:Fs(n,"offset",["prefer","use","ignore","reject"],e)}function jf(n){return Fs(n,"calendarName",["auto","always","never","critical"],"auto")}function Uc(n){let e=n.roundingIncrement;if(e===void 0)return 1;if(e=_c(e),!Or(e))throw new RangeError("roundingIncrement must be finite");const t=zl(e);if(t<1||t>1e9)throw new RangeError(`roundingIncrement must be at least 1 and at most 1e9, not ${e}`);return t}function zc(n,e,t){const r=t?e:e-1;if(n>r)throw new RangeError(`roundingIncrement must be at least 1 and less than ${r}, not ${n}`);if(e%n!=0)throw new RangeError(`Rounding increment must divide evenly into ${e}`)}function Bf(n){const e=n.fractionalSecondDigits;if(e===void 0)return"auto";if(typeof e!="number"){if(xr(e)!=="auto")throw new RangeError(`fractionalSecondDigits must be 'auto' or 0 through 9, not ${e}`);return"auto"}const t=ei(e);if(!Or(t)||t<0||t>9)throw new RangeError(`fractionalSecondDigits must be 'auto' or 0 through 9, not ${e}`);return t}function $f(n,e){switch(n){case"minute":return{precision:"minute",unit:"minute",increment:1};case"second":return{precision:0,unit:"second",increment:1};case"millisecond":return{precision:3,unit:"millisecond",increment:1};case"microsecond":return{precision:6,unit:"microsecond",increment:1};case"nanosecond":return{precision:9,unit:"nanosecond",increment:1}}switch(e){case"auto":return{precision:e,unit:"nanosecond",increment:1};case 0:return{precision:e,unit:"second",increment:1};case 1:case 2:case 3:return{precision:e,unit:"millisecond",increment:10**(3-e)};case 4:case 5:case 6:return{precision:e,unit:"microsecond",increment:10**(6-e)};case 7:case 8:case 9:return{precision:e,unit:"nanosecond",increment:10**(9-e)};default:throw new RangeError(`fractionalSecondDigits must be 'auto' or 0 through 9, not ${e}`)}}const Kl=Symbol("~required~");function ti(n,e,t,r,a=[]){const s=[];for(const[,d,g]of zf)t!=="datetime"&&t!==g||s.push(d);s.push(...a);let u=r;u===Kl?u=void 0:u!==void 0&&s.push(u);const c=[...s];for(const d of s){const g=Ex.get(d);g!==void 0&&c.push(g)}let f=Fs(n,e,c,u);if(f===void 0&&r===Kl)throw new RangeError(`${e} is required`);return np.has(f)?np.get(f):f}function xm(n){const e=n.relativeTo;if(e===void 0)return e;let t,r,a,s,u,c,f,d,g,v,w,b,R="option",C=!1;if(Kt(e)){if(Ce(e)||st(e))return e;if(Ge(e))return Ec(e);v=Yf(e);const D=En(v,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]);D.push("timeZone","offset");const M=it(e,D,[]),x=pr(null);x.overflow="constrain",{year:t,month:r,day:a,hour:s,minute:u,second:c,millisecond:f,microsecond:d,nanosecond:g}=Ff(v,M,x),b=M.offset,b===void 0&&(R="wall"),w=M.timeZone,w!==void 0&&(w=mr(w))}else{let D,M;if({year:t,month:r,day:a,hour:s,minute:u,second:c,millisecond:f,microsecond:d,nanosecond:g,calendar:v,ianaName:D,offset:b,z:M}=Xa(xr(e)),D)w=mr(D),M?R="exact":b||(R="wall"),C=!0;else if(M)throw new RangeError("Z designator not supported for PlainDate relativeTo; either remove the Z or add a bracketed time zone");if(v||(v="iso8601"),!Lo(v))throw new RangeError(`invalid calendar identifier ${v}`);v=Ga(v)}return w===void 0?Ci(t,r,a,v):Kn(op(t,r,a,s,u,c,f,d,g,R,R==="option"?js(b):0,w,"compatible","reject",C),w,v)}function Jv(n,e,t,r,a,s,u,c,f,d){for(const[g,v]of[["years",n],["months",e],["weeks",t],["days",r],["hours",a],["minutes",s],["seconds",u],["milliseconds",c],["microseconds",f],["nanoseconds",d]])if(v!==0)return np.get(g);return"nanosecond"}function Ql(n,e){return f1.indexOf(n)>f1.indexOf(e)?e:n}function it(n,e,t,{emptySourceErrorMessage:r}={emptySourceErrorMessage:"no supported properties found"}){const a=pr(null);let s=!1;e.sort();for(const u of e){let c=n[u];if(c!==void 0)s=!0,h1.has(u)&&(c=h1.get(u)(c)),a[u]=c;else if(t!=="partial"){if(hx.call(t,u))throw new TypeError(`required property '${u}' missing or undefined`);c=wx.get(u),a[u]=c}}if(t==="partial"&&!s)throw new TypeError(r);return a}function ap(n,e="complete"){const t=["hour","microsecond","millisecond","minute","nanosecond","second"],r=it(n,t,"partial",{emptySourceErrorMessage:"invalid time-like"}),a={};for(const s of t){const u=gx(r,s);u!==void 0?a[s]=u.value:e==="complete"&&(a[s]=0)}return a}function xt(n,e){let t=n;if(Kt(t)){if(st(t))return t;if(Ce(t)&&(yn(e),t=hi(y(t,Dt),y(t,dr),y(t,W))),Ge(t))return yn(e),Ci(y(t,we),y(t,Ee),y(t,Re),y(t,W));const f=Yf(t);return ko(f,it(t,En(f,["day","month","monthCode","year"]),[]),e)}yn(e);let{year:r,month:a,day:s,calendar:u,z:c}=function(d){return Xa(d)}(xr(t));if(c)throw new RangeError("Z designator not supported for PlainDate");if(u||(u="iso8601"),!Lo(u))throw new RangeError(`invalid calendar identifier ${u}`);return u=Ga(u),Ci(r,a,s,u)}function Ff(n,e,t){let{hour:r,minute:a,second:s,millisecond:u,microsecond:c,nanosecond:f}=ap(e);const d=yn(t),g=ko(n,e,t),v=y(g,we),w=y(g,Ee),b=y(g,Re);return{hour:r,minute:a,second:s,millisecond:u,microsecond:c,nanosecond:f}=jp(r,a,s,u,c,f,d),{year:v,month:w,day:b,hour:r,minute:a,second:s,millisecond:u,microsecond:c,nanosecond:f}}function jl(n,e){let t,r,a,s,u,c,f,d,g,v;if(Kt(n)){if(Ge(n))return n;if(Ce(n))return yn(e),hi(y(n,Dt),y(n,dr),y(n,W));if(st(n))return yn(e),Xr(y(n,we),y(n,Ee),y(n,Re),0,0,0,0,0,0,y(n,W));v=Yf(n);const w=it(n,En(v,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]),[]);({year:t,month:r,day:a,hour:s,minute:u,second:c,millisecond:f,microsecond:d,nanosecond:g}=Ff(v,w,e))}else{let w;if(yn(e),{year:t,month:r,day:a,hour:s,minute:u,second:c,millisecond:f,microsecond:d,nanosecond:g,calendar:v,z:w}=function(R){return Xa(R)}(xr(n)),w)throw new RangeError("Z designator not supported for PlainDateTime");if(o_(t,r,a,s,u,c,f,d,g),v||(v="iso8601"),!Lo(v))throw new RangeError(`invalid calendar identifier ${v}`);v=Ga(v)}return Xr(t,r,a,s,u,c,f,d,g,v)}function lc(n){if(cn(n))return n;let{years:e,months:t,weeks:r,days:a,hours:s,minutes:u,seconds:c,milliseconds:f,microseconds:d,nanoseconds:g}=ou(n);return new(pe("%Temporal.Duration%"))(e,t,r,a,s,u,c,f,d,g)}function sa(n){if(In(n))return n;if(Ce(n))return new(pe("%Temporal.Instant%"))(y(n,Ue));const e=Rx(xr(n));return new(pe("%Temporal.Instant%"))(e)}function g1(n,e){let t=n;if(Kt(t)){if(xn(t))return t;let c,f;if(Ln(t,W))c=y(t,W),f=!1;else{let g=t.calendar;f=g===void 0,g===void 0&&(g="iso8601"),c=ni(g)}const d=it(t,En(c,["day","month","monthCode","year"]),[]);return f&&d.month!==void 0&&d.monthCode===void 0&&d.year===void 0&&(d.year=1972),wc(c,d,e)}yn(e);let{month:r,day:a,referenceISOYear:s,calendar:u}=Z0(xr(t));if(u===void 0&&(u="iso8601"),!Lo(u))throw new RangeError(`invalid calendar identifier ${u}`);return u=Ga(u),s===void 0?(Ya(1972,r,a),Tf(r,a,u)):wc(u,Tf(r,a,u,s))}function So(n,e="constrain"){let t,r,a,s,u,c,f=n;if(Kt(f)){if(hn(f))return f;if(Ce(f)&&(f=hi(y(f,Dt),y(f,dr),y(f,W))),Ge(f))return new(pe("%Temporal.PlainTime%"))(y(f,Qe),y(f,Ze),y(f,Xe),y(f,We),y(f,Je),y(f,et));({hour:t,minute:r,second:a,millisecond:s,microsecond:u,nanosecond:c}=ap(f)),{hour:t,minute:r,second:a,millisecond:s,microsecond:u,nanosecond:c}=jp(t,r,a,s,u,c,e)}else({hour:t,minute:r,second:a,millisecond:s,microsecond:u,nanosecond:c}=function(g){const v=ox.exec(g);let w,b,R,C,D,M,x;if(v){w=wn(v[1]),b=wn(v[2]||v[5]),R=wn(v[3]||v[6]),R===60&&(R=59);const P=(v[4]||v[7])+"000000000";C=wn(P.slice(0,3)),D=wn(P.slice(3,6)),M=wn(P.slice(6,9)),x=v[14];for(const[,$,V,Y]of x.matchAll(Xs))if(V!=="u-ca"&&$==="!")throw new RangeError(`Unrecognized annotation: !${V}=${Y}`);if(v[8])throw new RangeError("Z designator not supported for PlainTime")}else{let P,$;if({hasTime:$,hour:w,minute:b,second:R,millisecond:C,microsecond:D,nanosecond:M,z:P}=Xa(g),!$)throw new RangeError(`time is missing in string: ${g}`);if(P)throw new RangeError("Z designator not supported for PlainTime")}if(/[tT ][0-9][0-9]/.test(g))return{hour:w,minute:b,second:R,millisecond:C,microsecond:D,nanosecond:M};try{const{month:P,day:$}=Z0(g);Ya(1972,P,$)}catch{try{const{year:P,month:$}=Q0(g);Ya(P,$,1)}catch{return{hour:w,minute:b,second:R,millisecond:C,microsecond:D,nanosecond:M}}}throw new RangeError(`invalid ISO 8601 time-only string ${g}; may need a T prefix`)}(xr(f))),Jp(t,r,a,s,u,c);return new(pe("%Temporal.PlainTime%"))(t,r,a,s,u,c)}function tf(n,e){if(Kt(n)){if(_t(n))return n;const u=Yf(n);return Xl(u,it(n,En(u,["month","monthCode","year"]),[]),e)}yn(e);let{year:t,month:r,referenceISODay:a,calendar:s}=Q0(xr(n));if(s===void 0&&(s="iso8601"),!Lo(s))throw new RangeError(`invalid calendar identifier ${s}`);return s=Ga(s),a===void 0?(Ya(t,r,1),wf(t,r,s)):Xl(s,wf(t,r,s,a))}function op(n,e,t,r,a,s,u,c,f,d,g,v,w,b,R){const C=new(pe("%Temporal.PlainDateTime%"))(n,e,t,r,a,s,u,c,f);if(d==="wall"||b==="ignore")return y(Mr(v,C,w),Ue);if(d==="exact"||b==="use"){const M=Bs(n,e,t,r,a,s,u,c,f);if(M===null)throw new RangeError("ZonedDateTime outside of supported range");return _.subtract(M,_.BigInt(g))}const D=sp(v,C);for(const M of D){const x=ca(v,M),P=_.toNumber(si(_.BigInt(x),aS,"halfExpand"));if(x===g||R&&P===g)return y(M,Ue)}if(b==="reject"){const M=Xp(g),x=wi(v)?y(v,xa):"time zone";throw new RangeError(`Offset ${M} is invalid for ${C.toString()} in ${x}`)}return y(yS(D,v,C,w),Ue)}function nf(n,e){let t,r,a,s,u,c,f,d,g,v,w,b,R,C,D=!1,M="option";if(Kt(n)){if(Ce(n))return n;b=Yf(n);const P=En(b,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]);P.push("timeZone","offset");const $=it(n,P,["timeZone"]);v=mr($.timeZone),w=$.offset,w===void 0&&(M="wall"),R=Tc(e),C=ip(e,"reject"),{year:t,month:r,day:a,hour:s,minute:u,second:c,millisecond:f,microsecond:d,nanosecond:g}=Ff(b,$,e)}else{let P,$;if({year:t,month:r,day:a,hour:s,minute:u,second:c,millisecond:f,microsecond:d,nanosecond:g,ianaName:P,offset:w,z:$,calendar:b}=function(Y){const N=Xa(Y);if(!N.ianaName)throw new RangeError("Temporal.ZonedDateTime requires a time zone ID in brackets");return N}(xr(n)),v=mr(P),$?M="exact":w||(M="wall"),b||(b="iso8601"),!Lo(b))throw new RangeError(`invalid calendar identifier ${b}`);b=Ga(b),D=!0,R=Tc(e),C=ip(e,"reject"),yn(e)}let x=0;return M==="option"&&(x=js(w)),Kn(op(t,r,a,s,u,c,f,d,g,M,x,v,R,C,D),v,b)}function uS(n,e,t,r,a){Ya(e,t,r),SS(e,t,r),Za(n),tt(n,we,e),tt(n,Ee,t),tt(n,Re,r),tt(n,W,a),tt(n,GA,!0)}function Ci(n,e,t,r="iso8601"){const a=pe("%Temporal.PlainDate%"),s=pr(a.prototype);return uS(s,n,e,t,r),s}function cS(n,e,t,r,a,s,u,c,f,d,g){o_(e,t,r,a,s,u,c,f,d),CS(e,t,r,a,s,u,c,f,d),Za(n),tt(n,we,e),tt(n,Ee,t),tt(n,Re,r),tt(n,Qe,a),tt(n,Ze,s),tt(n,Xe,u),tt(n,We,c),tt(n,Je,f),tt(n,et,d),tt(n,W,g)}function Xr(n,e,t,r,a,s,u,c,f,d="iso8601"){const g=pe("%Temporal.PlainDateTime%"),v=pr(g.prototype);return cS(v,n,e,t,r,a,s,u,c,f,d),v}function hS(n,e,t,r,a){Ya(a,e,t),SS(a,e,t),Za(n),tt(n,Ee,e),tt(n,Re,t),tt(n,we,a),tt(n,W,r),tt(n,QA,!0)}function Tf(n,e,t="iso8601",r=1972){const a=pe("%Temporal.PlainMonthDay%"),s=pr(a.prototype);return hS(s,n,e,t,r),s}function fS(n,e,t,r,a){Ya(e,t,a),function(u,c){Zn(u,Jm,ep),u===Jm?Zn(c,4,12):u===ep&&Zn(c,1,9)}(e,t),Za(n),tt(n,we,e),tt(n,Ee,t),tt(n,Re,a),tt(n,W,r),tt(n,KA,!0)}function wf(n,e,t="iso8601",r=1){const a=pe("%Temporal.PlainYearMonth%"),s=pr(a.prototype);return fS(s,n,e,t,r),s}function dS(n,e,t,r){Vl(e),Za(n),tt(n,Ue,e),tt(n,Dt,t),tt(n,W,r);const a=new(pe("%Temporal.Instant%"))(y(n,Ue));tt(n,dr,a)}function Kn(n,e,t="iso8601"){const r=pe("%Temporal.ZonedDateTime%"),a=pr(r.prototype);return dS(a,n,e,t),a}function En(n,e){if(typeof n=="string"){const a=new(pe("%Temporal.Calendar%"))(n);return De(pe("%Temporal.Calendar.prototype.fields%"),a,[e])}const t=De(bt(n,"fields"),n,[e]),r=[];for(const a of t){if(typeof a!="string")throw new TypeError("bad return from calendar.fields()");tS.call(r,a)}return r}function Zl(n,e,t){if(typeof n=="string"){const a=new(pe("%Temporal.Calendar%"))(n);return De(pe("%Temporal.Calendar.prototype.mergeFields%"),a,[e,t])}const r=De(bt(n,"mergeFields"),n,[e,t]);if(!Kt(r))throw new TypeError("bad return from calendar.mergeFields()");return r}function Qn(n,e,t,r,a){let s=a;if(typeof n=="string"){const c=new(pe("%Temporal.Calendar%"))(n);return De(pe("%Temporal.Calendar.prototype.dateAdd%"),c,[e,t,r])}s===void 0&&(s=bt(n,"dateAdd"));const u=zp(s,n,[e,t,r]);if(!st(u))throw new TypeError("invalid result");return u}function zs(n,e,t,r,a){let s=a;if(typeof n=="string"){const c=new(pe("%Temporal.Calendar%"))(n);return De(pe("%Temporal.Calendar.prototype.dateUntil%"),c,[e,t,r])}s===void 0&&(s=bt(n,"dateUntil"));const u=zp(s,n,[e,t,r]);if(!cn(u))throw new TypeError("invalid result");return u}function Bp(n,e){if(typeof n=="string"){const r=new(pe("%Temporal.Calendar%"))(n);return De(pe("%Temporal.Calendar.prototype.year%"),r,[e])}let t=De(bt(n,"year"),n,[e]);if(typeof t!="number")throw new TypeError("calendar year result must be an integer");if(!fi(t))throw new RangeError("calendar year result must be an integer");return t}function $p(n,e){if(typeof n=="string"){const r=new(pe("%Temporal.Calendar%"))(n);return De(pe("%Temporal.Calendar.prototype.month%"),r,[e])}let t=De(bt(n,"month"),n,[e]);if(typeof t!="number")throw new TypeError("calendar month result must be a positive integer");if(!fi(t)||t<1)throw new RangeError("calendar month result must be a positive integer");return t}function qf(n,e){if(typeof n=="string"){const r=new(pe("%Temporal.Calendar%"))(n);return De(pe("%Temporal.Calendar.prototype.monthCode%"),r,[e])}let t=De(bt(n,"monthCode"),n,[e]);if(typeof t!="string")throw new TypeError("calendar monthCode result must be a string");return t}function Hf(n,e){if(typeof n=="string"){const r=new(pe("%Temporal.Calendar%"))(n);return De(pe("%Temporal.Calendar.prototype.day%"),r,[e])}const t=De(bt(n,"day"),n,[e]);if(typeof t!="number")throw new TypeError("calendar day result must be a positive integer");if(!fi(t)||t<1)throw new RangeError("calendar day result must be a positive integer");return t}function Fp(n,e){if(typeof n=="string"){const r=new(pe("%Temporal.Calendar%"))(n);return De(pe("%Temporal.Calendar.prototype.era%"),r,[e])}let t=De(bt(n,"era"),n,[e]);if(t===void 0)return t;if(typeof t!="string")throw new TypeError("calendar era result must be a string or undefined");return t}function qp(n,e){if(typeof n=="string"){const r=new(pe("%Temporal.Calendar%"))(n);return De(pe("%Temporal.Calendar.prototype.eraYear%"),r,[e])}let t=De(bt(n,"eraYear"),n,[e]);if(t===void 0)return t;if(typeof t!="number")throw new TypeError("calendar eraYear result must be an integer or undefined");if(!fi(t))throw new RangeError("calendar eraYear result must be an integer or undefined");return t}function X0(n,e){if(typeof n=="string"){const r=new(pe("%Temporal.Calendar%"))(n);return De(pe("%Temporal.Calendar.prototype.dayOfWeek%"),r,[e])}const t=De(bt(n,"dayOfWeek"),n,[e]);if(typeof t!="number")throw new TypeError("calendar dayOfWeek result must be a positive integer");if(!fi(t)||t<1)throw new RangeError("calendar dayOfWeek result must be a positive integer");return t}function W0(n,e){if(typeof n=="string"){const r=new(pe("%Temporal.Calendar%"))(n);return De(pe("%Temporal.Calendar.prototype.dayOfYear%"),r,[e])}const t=De(bt(n,"dayOfYear"),n,[e]);if(typeof t!="number")throw new TypeError("calendar dayOfYear result must be a positive integer");if(!fi(t)||t<1)throw new RangeError("calendar dayOfYear result must be a positive integer");return t}function J0(n,e){if(typeof n=="string"){const r=new(pe("%Temporal.Calendar%"))(n);return De(pe("%Temporal.Calendar.prototype.weekOfYear%"),r,[e])}const t=De(bt(n,"weekOfYear"),n,[e]);if(typeof t!="number")throw new TypeError("calendar weekOfYear result must be a positive integer");if(!fi(t)||t<1)throw new RangeError("calendar weekOfYear result must be a positive integer");return t}function e_(n,e){if(typeof n=="string"){const r=new(pe("%Temporal.Calendar%"))(n);return De(pe("%Temporal.Calendar.prototype.yearOfWeek%"),r,[e])}const t=De(bt(n,"yearOfWeek"),n,[e]);if(typeof t!="number")throw new TypeError("calendar yearOfWeek result must be an integer");if(!fi(t))throw new RangeError("calendar yearOfWeek result must be an integer");return t}function t_(n,e){if(typeof n=="string"){const r=new(pe("%Temporal.Calendar%"))(n);return De(pe("%Temporal.Calendar.prototype.daysInWeek%"),r,[e])}const t=De(bt(n,"daysInWeek"),n,[e]);if(typeof t!="number")throw new TypeError("calendar daysInWeek result must be a positive integer");if(!fi(t)||t<1)throw new RangeError("calendar daysInWeek result must be a positive integer");return t}function Hp(n,e){if(typeof n=="string"){const r=new(pe("%Temporal.Calendar%"))(n);return De(pe("%Temporal.Calendar.prototype.daysInMonth%"),r,[e])}const t=De(bt(n,"daysInMonth"),n,[e]);if(typeof t!="number")throw new TypeError("calendar daysInMonth result must be a positive integer");if(!fi(t)||t<1)throw new RangeError("calendar daysInMonth result must be a positive integer");return t}function Yp(n,e){if(typeof n=="string"){const r=new(pe("%Temporal.Calendar%"))(n);return De(pe("%Temporal.Calendar.prototype.daysInYear%"),r,[e])}const t=De(bt(n,"daysInYear"),n,[e]);if(typeof t!="number")throw new TypeError("calendar daysInYear result must be a positive integer");if(!fi(t)||t<1)throw new RangeError("calendar daysInYear result must be a positive integer");return t}function Gp(n,e){if(typeof n=="string"){const r=new(pe("%Temporal.Calendar%"))(n);return De(pe("%Temporal.Calendar.prototype.monthsInYear%"),r,[e])}const t=De(bt(n,"monthsInYear"),n,[e]);if(typeof t!="number")throw new TypeError("calendar monthsInYear result must be a positive integer");if(!fi(t)||t<1)throw new RangeError("calendar monthsInYear result must be a positive integer");return t}function Kp(n,e){if(typeof n=="string"){const r=new(pe("%Temporal.Calendar%"))(n);return De(pe("%Temporal.Calendar.prototype.inLeapYear%"),r,[e])}const t=De(bt(n,"inLeapYear"),n,[e]);if(typeof t!="boolean")throw new TypeError("calendar inLeapYear result must be a boolean");return t}function ni(n){if(Kt(n)){if(Ln(n,W))return y(n,W);if(!function(a){return!!ln(a)||"dateAdd"in a&&"dateFromFields"in a&&"dateUntil"in a&&"day"in a&&"dayOfWeek"in a&&"dayOfYear"in a&&"daysInMonth"in a&&"daysInWeek"in a&&"daysInYear"in a&&"fields"in a&&"id"in a&&"inLeapYear"in a&&"mergeFields"in a&&"month"in a&&"monthCode"in a&&"monthDayFromFields"in a&&"monthsInYear"in a&&"weekOfYear"in a&&"year"in a&&"yearMonthFromFields"in a&&"yearOfWeek"in a}(n))throw new TypeError("expected a Temporal.Calendar or object implementing the Temporal.Calendar protocol");return n}const e=xr(n);if(Lo(e))return Ga(e);let t;try{({calendar:t}=Xa(e))}catch{try{({calendar:t}=Q0(e))}catch{({calendar:t}=Z0(e))}}if(t||(t="iso8601"),!Lo(t))throw new RangeError(`invalid calendar identifier ${t}`);return Ga(t)}function Yf(n){if(Ln(n,W))return y(n,W);const{calendar:e}=n;return e===void 0?"iso8601":ni(e)}function Xn(n){if(typeof n=="string")return n;const e=n.id;if(typeof e!="string")throw new TypeError("calendar.id should be a string");return e}function jc(n){return Kt(n)?n:new(pe("%Temporal.Calendar%"))(n)}function Gf(n,e){return n===e?!0:Xn(n)===Xn(e)}function Qp(n,e,t){if(n===e)return;const r=Xn(n),a=Xn(e);if(r!==a)throw new RangeError(`cannot ${t} of ${r} and ${a} calendars`)}function mS(n,e){if(n===e)return e;const t=Xn(n),r=Xn(e);if(t===r||t==="iso8601")return e;if(r==="iso8601")return n;throw new RangeError("irreconcilable calendars")}function ko(n,e,t,r){if(typeof n=="string"){const s=new(pe("%Temporal.Calendar%"))(n);return De(pe("%Temporal.Calendar.prototype.dateFromFields%"),s,[e,t])}const a=De(bt(n,"dateFromFields"),n,[e,t]);if(!st(a))throw new TypeError("invalid result");return a}function Xl(n,e,t){if(typeof n=="string"){const a=new(pe("%Temporal.Calendar%"))(n);return De(pe("%Temporal.Calendar.prototype.yearMonthFromFields%"),a,[e,t])}let r=De(bt(n,"yearMonthFromFields"),n,[e,t]);if(!_t(r))throw new TypeError("invalid result");return r}function wc(n,e,t){if(typeof n=="string"){const a=new(pe("%Temporal.Calendar%"))(n);return De(pe("%Temporal.Calendar.prototype.monthDayFromFields%"),a,[e,t])}let r=De(bt(n,"monthDayFromFields"),n,[e,t]);if(!xn(r))throw new TypeError("invalid result");return r}function mr(n){if(Kt(n)){if(Ce(n))return y(n,Dt);if(!function(t){return!!wi(t)||"getOffsetNanosecondsFor"in t&&"getPossibleInstantsFor"in t&&"id"in t}(n))throw new TypeError("expected a Temporal.TimeZone or object implementing the Temporal.TimeZone protocol");return n}return bx(xr(n))}function Ef(n){if(typeof n=="string")return n;const e=n.id;if(typeof e!="string")throw new TypeError("timeZone.id should be a string");return e}function pS(n){return Kt(n)?n:new(pe("%Temporal.TimeZone%"))(n)}function gS(n,e){return n===e?!0:Ef(n)===Ef(e)}function Ec(n){return Ci(y(n,we),y(n,Ee),y(n,Re),y(n,W))}function n_(n){return new(pe("%Temporal.PlainTime%"))(y(n,Qe),y(n,Ze),y(n,Xe),y(n,We),y(n,Je),y(n,et))}function ca(n,e,t){if(typeof n=="string"){const a=new(pe("%Temporal.TimeZone%"))(n);return De(pe("%Temporal.TimeZone.prototype.getOffsetNanosecondsFor%"),a,[e])}const r=De(bt(n,"getOffsetNanosecondsFor"),n,[e]);if(typeof r!="number")throw new TypeError("bad return from getOffsetNanosecondsFor");if(!fi(r)||Yt(r)>=864e11)throw new RangeError("out-of-range return from getOffsetNanosecondsFor");return r}function e0(n,e){return Xp(ca(n,e))}function hi(n,e,t){const r=y(e,Ue),a=ca(n,e);let{year:s,month:u,day:c,hour:f,minute:d,second:g,millisecond:v,microsecond:w,nanosecond:b}=_S(r);return{year:s,month:u,day:c,hour:f,minute:d,second:g,millisecond:v,microsecond:w,nanosecond:b}=i_(s,u,c,f,d,g,v,w,b+a),Xr(s,u,c,f,d,g,v,w,b,t)}function Mr(n,e,t){return yS(sp(n,e),n,e,t)}function yS(n,e,t,r){const a=pe("%Temporal.Instant%"),s=n.length;if(s===1)return n[0];if(s)switch(r){case"compatible":case"earlier":return n[0];case"later":return n[s-1];case"reject":throw new RangeError("multiple instants found")}const u=y(t,we),c=y(t,Ee),f=y(t,Re),d=y(t,Qe),g=y(t,Ze),v=y(t,Xe),w=y(t,We),b=y(t,Je),R=y(t,et),C=Bs(u,c,f,d,g,v,w,b,R);if(C===null)throw new RangeError("DateTime outside of supported range");const D=new a(_.subtract(C,Ha)),M=new a(_.add(C,Ha)),x=ca(e,D),P=ca(e,M)-x;switch(r){case"earlier":{const $=y(t,W),V=pe("%Temporal.PlainDateTime%"),Y=i0(u,c,f,d,g,v,w,b,R,$,0,0,0,0,0,0,0,0,0,-P,void 0);return sp(e,new V(Y.year,Y.month,Y.day,Y.hour,Y.minute,Y.second,Y.millisecond,Y.microsecond,Y.nanosecond,$))[0]}case"compatible":case"later":{const $=y(t,W),V=pe("%Temporal.PlainDateTime%"),Y=i0(u,c,f,d,g,v,w,b,R,$,0,0,0,0,0,0,0,0,0,P,void 0),N=sp(e,new V(Y.year,Y.month,Y.day,Y.hour,Y.minute,Y.second,Y.millisecond,Y.microsecond,Y.nanosecond,$));return N[N.length-1]}case"reject":throw new RangeError("no such instant found")}}function sp(n,e,t){if(typeof n=="string"){const s=new(pe("%Temporal.TimeZone%"))(n);return De(pe("%Temporal.TimeZone.prototype.getPossibleInstantsFor%"),s,[e])}const r=De(bt(n,"getPossibleInstantsFor"),n,[e]),a=[];for(const s of r){if(!In(s))throw new TypeError("bad return from getPossibleInstantsFor");tS.call(a,s)}return a}function su(n){let e;return n<0||n>9999?e=(n<0?"-":"+")+`000000${Yt(n)}`.slice(-6):e=`0000${n}`.slice(-4),e}function Wt(n){return`00${n}`.slice(-2)}function Zp(n,e,t,r,a){if(a==="minute")return"";const s=`:${Wt(n)}`;let u,c=1e6*e+1e3*t+r;if(a==="auto"){if(c===0)return s;for(u=`${c}`.padStart(9,"0");u[u.length-1]==="0";)u=u.slice(0,-1)}else{if(a===0)return s;u=`${c}`.padStart(9,"0").slice(0,a)}return`${s}.${u}`}function y1(n,e,t){let r=e;r===void 0&&(r="UTC");const a=hi(r,n,"iso8601"),s=su(y(a,we)),u=Wt(y(a,Ee)),c=Wt(y(a,Re)),f=Wt(y(a,Qe)),d=Wt(y(a,Ze)),g=Zp(y(a,Xe),y(a,We),y(a,Je),y(a,et),t);let v="Z";return e!==void 0&&(v=vS(ca(r,n))),`${s}-${u}-${c}T${f}:${d}${g}${v}`}function Av(n,e="auto",t){function r(O){return O<=px?O.toString(10):_.BigInt(O).toString(10)}const a=y(n,wr),s=y(n,$n),u=y(n,zr),c=y(n,Er),f=y(n,br),d=y(n,Rr);let g=y(n,Ar),v=y(n,Sr),w=y(n,Cr),b=y(n,Dr);const R=za(a,s,u,c,f,d,g,v,w,b);if(t){const{unit:O,increment:z,roundingMode:j}=t;({seconds:g,milliseconds:v,microseconds:w,nanoseconds:b}=Po(0,0,0,0,0,0,g,v,w,b,z,O,j))}const C=[];a&&C.push(`${r(Yt(a))}Y`),s&&C.push(`${r(Yt(s))}M`),u&&C.push(`${r(Yt(u))}W`),c&&C.push(`${r(Yt(c))}D`);const D=[];f&&D.push(`${r(Yt(f))}H`),d&&D.push(`${r(Yt(d))}M`);const M=[];let x,P,$,V,Y=bc(0,0,0,g,v,w,b,0);({quotient:Y,remainder:x}=gn(Y,Tt)),{quotient:Y,remainder:P}=gn(Y,Tt),{quotient:V,remainder:$}=gn(Y,Tt);const N=1e6*Yt(_.toNumber($))+1e3*Yt(_.toNumber(P))+Yt(_.toNumber(x));let I;if(e==="auto"){if(N!==0)for(I=`${N}`.padStart(9,"0");I[I.length-1]==="0";)I=I.slice(0,-1)}else e!==0&&(I=`${N}`.padStart(9,"0").slice(0,e));return I&&M.unshift(".",I),_.equal(V,fn)&&!M.length&&e==="auto"||M.unshift(oa(V).toString()),M.length&&D.push(`${M.join("")}S`),D.length&&D.unshift("T"),C.length||D.length?`${R<0?"-":""}P${C.join("")}${D.join("")}`:"PT0S"}function v1(n,e="auto"){return`${su(y(n,we))}-${Wt(y(n,Ee))}-${Wt(y(n,Re))}${G0(y(n,W),e)}`}function _1(n,e,t="auto",r){let a=y(n,we),s=y(n,Ee),u=y(n,Re),c=y(n,Qe),f=y(n,Ze),d=y(n,Xe),g=y(n,We),v=y(n,Je),w=y(n,et);if(r){const{unit:b,increment:R,roundingMode:C}=r;({year:a,month:s,day:u,hour:c,minute:f,second:d,millisecond:g,microsecond:v,nanosecond:w}=c_(a,s,u,c,f,d,g,v,w,R,b,C))}return`${su(a)}-${Wt(s)}-${Wt(u)}T${Wt(c)}:${Wt(f)}${Zp(d,g,v,w,e)}${G0(y(n,W),t)}`}function T1(n,e="auto"){let t=`${Wt(y(n,Ee))}-${Wt(y(n,Re))}`;const r=Xn(y(n,W));(e==="always"||e==="critical"||r!=="iso8601")&&(t=`${su(y(n,we))}-${t}`);const a=K0(r,e);return a&&(t+=a),t}function w1(n,e="auto"){let t=`${su(y(n,we))}-${Wt(y(n,Ee))}`;const r=Xn(y(n,W));(e==="always"||e==="critical"||r!=="iso8601")&&(t+=`-${Wt(y(n,Re))}`);const a=K0(r,e);return a&&(t+=a),t}function E1(n,e,t="auto",r="auto",a="auto",s){let u=y(n,dr);if(s){const{unit:g,increment:v,roundingMode:w}=s,b=cp(y(n,Ue),v,g,w);u=new(pe("%Temporal.Instant%"))(b)}const c=y(n,Dt),f=hi(c,u,"iso8601");let d=`${su(y(f,we))}-${Wt(y(f,Ee))}-${Wt(y(f,Re))}T${Wt(y(f,Qe))}:${Wt(y(f,Ze))}${Zp(y(f,Xe),y(f,We),y(f,Je),y(f,et),e)}`;return a!=="never"&&(d+=vS(ca(c,u))),r!=="never"&&(d+=`[${r==="critical"?"!":""}${Ef(c)}]`),d+=G0(y(n,W),t),d}function ic(n){return kS.test(Uf(n))}function js(n){const e=kS.exec(Uf(n));if(!e)throw new RangeError(`invalid time zone offset: ${n}`);return(e[1]==="-"||e[1]===""?-1:1)*(1e9*(60*(60*+e[2]+ +(e[3]||0))+ +(e[4]||0))+ +((e[5]||0)+"000000000").slice(0,9))}function r_(n){return ic(n)?Xp(js(n)):lS(Uf(n)).resolvedOptions().timeZone}function Oo(n,e){const{year:t,month:r,day:a,hour:s,minute:u,second:c,millisecond:f,microsecond:d,nanosecond:g}=TS(n,e),v=t%400,w=(t-v)/400,b=_.multiply(_.BigInt(146097),Ha),R=Bs(v,r,a,s,u,c,f,d,g),C=_.add(R,_.multiply(b,_.BigInt(w)));return _.toNumber(_.subtract(C,e))}function Xp(n){const e=n<0?"-":"+",t=Yt(n),r=t%1e9,a=ei(t/1e9)%60,s=ei(t/6e10)%60,u=Wt(ei(t/36e11)),c=Wt(s),f=Wt(a);let d="";if(r){let g=`${r}`.padStart(9,"0");for(;g[g.length-1]==="0";)g=g.slice(0,-1);d=`:${f}.${g}`}else a&&(d=`:${f}`);return`${e}${u}:${c}${d}`}function vS(n){let e=_.toNumber(si(_.BigInt(n),aS,"halfExpand"));const t=e<0?"-":"+";e=Yt(e);const r=e/6e10%60;return`${t}${Wt(ei(e/36e11))}:${Wt(r)}`}function Bs(n,e,t,r,a,s,u,c,f){const d=new Date;d.setUTCHours(r,a,s,u),d.setUTCFullYear(n,e-1,t);const g=d.getTime();if(Up(g))return null;let v=_.multiply(_.BigInt(g),Ri);return v=_.add(v,_.multiply(_.BigInt(c),Tt)),v=_.add(v,_.BigInt(f)),_.lessThan(v,_f)||_.greaterThan(v,vc)?null:v}function _S(n){const{quotient:e,remainder:t}=gn(n,Ri);let r=_.toNumber(e),a=_.toNumber(t);a<0&&(a+=1e6,r-=1);const s=ei(a/1e3)%1e3,u=a%1e3,c=new Date(r);return{epochMilliseconds:r,year:c.getUTCFullYear(),month:c.getUTCMonth()+1,day:c.getUTCDate(),hour:c.getUTCHours(),minute:c.getUTCMinutes(),second:c.getUTCSeconds(),millisecond:c.getUTCMilliseconds(),microsecond:s,nanosecond:u}}function TS(n,e){const{epochMilliseconds:t,millisecond:r,microsecond:a,nanosecond:s}=_S(e),{year:u,month:c,day:f,hour:d,minute:g,second:v}=function(b,R){const C=lS(b).format(new Date(R));return function(M){const x=M.split(/[^\w]+/);if(x.length!==7)throw new RangeError(`expected 7 parts in "${M}`);const P=+x[0],$=+x[1];let V=+x[2];const Y=x[3].toUpperCase();if(Y==="B"||Y==="BC")V=1-V;else if(Y!=="A"&&Y!=="AD")throw new RangeError(`Unknown era ${Y} in "${M}`);let N=+x[4];N===24&&(N=0);const I=+x[5],O=+x[6];if(!(Or(V)&&Or(P)&&Or($)&&Or(N)&&Or(I)&&Or(O)))throw new RangeError(`Invalid number in "${M}`);return{year:V,month:P,day:$,hour:N,minute:I,second:O}}(C)}(n,t);return i_(u,c,f,d,g,v,r,a,s)}function b1(n,e){return _.lessThan(n,e)?e:n}function wS(){return _.add(f_(),_x)}function ES(n,e){if(_.lessThan(e,oc))return ES(n,oc);const t=_.add(e,oS),r=b1(wS(),t);let a=b1(oc,e);const s=Oo(n,a);let u=a,c=s;for(;s===c&&_.lessThan(_.BigInt(a),r);){if(u=_.add(a,sS),_.greaterThan(u,vc))return null;c=Oo(n,u),s===c&&(a=u)}return s===c?null:PS(f=>Oo(n,f),a,u,s,c)}function t0(n,e){const t=wS(),r=_.greaterThan(e,t),a=r?_.subtract(e,oS):oc;if(n==="Africa/Casablanca"||n==="Africa/El_Aaiun"){const d=y(sa("2088-01-01T00Z"),Ue);if(_.lessThan(d,e))return t0(n,d)}let s=_.subtract(e,Lc);if(_.lessThan(s,oc))return null;const u=Oo(n,s);let c=s,f=u;for(;u===f&&_.greaterThan(s,a);){if(c=_.subtract(s,sS),_.lessThan(c,oc))return null;f=Oo(n,c),u===f&&(s=c)}if(u===f){if(r){const d=_.subtract(t,Ha);return t0(n,d)}return null}return PS(d=>Oo(n,d),c,s,f,u)}function $s(n){return n===void 0?!1:n%4==0&&(n%100!=0||n%400==0)}function Mo(n,e){return{standard:[31,28,31,30,31,30,31,31,30,31,30,31],leapyear:[31,29,31,30,31,30,31,31,30,31,30,31]}[$s(n)?"leapyear":"standard"][e-1]}function n0(n,e,t){const r=e+(e<3?10:-2),a=n-(e<3?1:0),s=ei(a/100),u=a-100*s,c=(t+ei(2.6*r-.2)+(u+ei(u/4))+(ei(s/4)-2*s))%7;return c+(c<=0?7:0)}function lp(n,e,t){let r=t;for(let a=e-1;a>0;a--)r+=Mo(n,a);return r}function R1(n,e,t){const r=lp(n,e,t),a=n0(n,e,t)||7,s=n0(n,1,1),u=ei((r-a+10)/7);return u<1?s===5||s===6&&$s(n-1)?{week:53,year:n-1}:{week:52,year:n-1}:u===53&&($s(n)?366:365)-r<4-a?{week:1,year:n+1}:{week:u,year:n}}function za(n,e,t,r,a,s,u,c,f,d){for(const g of[n,e,t,r,a,s,u,c,f,d])if(g!==0)return g<0?-1:1;return 0}function km(n,e){let t=n,r=e;if(!Or(t)||!Or(r))throw new RangeError("infinity is out of range");return r-=1,t+=ei(r/12),r%=12,r<0&&(r+=12),r+=1,{year:t,month:r}}function Wp(n,e,t){let r=n,a=e,s=t;if(!Or(s))throw new RangeError("infinity is out of range");({year:r,month:a}=km(r,a));const u=146097;if(Yt(s)>u){const d=zl(s/u);r+=400*d,s-=d*u}let c=0,f=a>2?r:r-1;for(;c=$s(f)?366:365,s<-c;)r-=1,f-=1,s+=c;for(f+=1;c=$s(f)?366:365,s>c;)r+=1,f+=1,s-=c;for(;s<1;)({year:r,month:a}=km(r,a-1)),s+=Mo(r,a);for(;s>Mo(r,a);)s-=Mo(r,a),{year:r,month:a}=km(r,a+1);return{year:r,month:a,day:s}}function i_(n,e,t,r,a,s,u,c,f){const{deltaDays:d,hour:g,minute:v,second:w,millisecond:b,microsecond:R,nanosecond:C}=Ao(r,a,s,u,c,f),{year:D,month:M,day:x}=Wp(n,e,t+d);return{year:D,month:M,day:x,hour:g,minute:v,second:w,millisecond:b,microsecond:R,nanosecond:C}}function Ao(n,e,t,r,a,s){let u,c=_.BigInt(n),f=_.BigInt(e),d=_.BigInt(t),g=_.BigInt(r),v=_.BigInt(a),w=_.BigInt(s);return{quotient:u,remainder:w}=kl(w,Tt),v=_.add(v,u),{quotient:u,remainder:v}=kl(v,Tt),g=_.add(g,u),{quotient:u,remainder:g}=kl(g,Tt),d=_.add(d,u),{quotient:u,remainder:d}=kl(d,Va),f=_.add(f,u),{quotient:u,remainder:f}=kl(f,Va),c=_.add(c,u),{quotient:u,remainder:c}=kl(c,rS),{deltaDays:_.toNumber(u),hour:_.toNumber(c),minute:_.toNumber(f),second:_.toNumber(d),millisecond:_.toNumber(g),microsecond:_.toNumber(v),nanosecond:_.toNumber(w)}}function bc(n,e,t,r,a,s,u,c){const f=_.BigInt(n);let d=_.BigInt(u);n!==0&&(d=_.subtract(_.BigInt(u),_.BigInt(c)));const g=_.add(_.BigInt(e),_.multiply(f,_.BigInt(24))),v=_.add(_.BigInt(t),_.multiply(g,Va)),w=_.add(_.BigInt(r),_.multiply(v,Va)),b=_.add(_.BigInt(a),_.multiply(w,Tt)),R=_.add(_.BigInt(s),_.multiply(b,Tt));return _.add(_.BigInt(d),_.multiply(R,Tt))}function a_(n,e){const t=pe("%Temporal.Instant%"),r=yc(_.toNumber(n));let a=_.BigInt(n),s=864e11;if(r===0)return{days:0,nanoseconds:fn,dayLengthNs:s};if(!Ce(e)){let P;return{quotient:P,remainder:a}=gn(a,_.BigInt(s)),{days:_.toNumber(P),nanoseconds:a,dayLengthNs:s}}const u=y(e,Ue),c=y(e,dr),f=_.add(u,a),d=new t(f),g=y(e,Dt),v=y(e,W),w=hi(g,c,v),b=hi(g,d,v);let{days:R}=u_(y(w,we),y(w,Ee),y(w,Re),y(w,Qe),y(w,Ze),y(w,Xe),y(w,We),y(w,Je),y(w,et),y(b,we),y(b,Ee),y(b,Re),y(b,Qe),y(b,Ze),y(b,Xe),y(b,We),y(b,Je),y(b,et),v,"day",pr(null)),C=Si(c,g,v,0,0,0,R,0,0,0,0,0,0),D=_.BigInt(R);if(r===1)for(;_.greaterThan(D,fn)&&_.greaterThan(C,f);)D=_.subtract(D,Lc),C=Si(c,g,v,0,0,0,_.toNumber(D),0,0,0,0,0,0);a=_.subtract(f,C);let M=!1,x=new t(C);do{const P=Si(x,g,v,0,0,0,r,0,0,0,0,0,0),$=y(x,Ue);s=_.toNumber(_.subtract(P,$)),M=_.greaterThanOrEqual(_.multiply(_.subtract(a,_.BigInt(s)),_.BigInt(r)),fn),M&&(a=_.subtract(a,_.BigInt(s)),x=new t(P),D=_.add(D,_.BigInt(r)))}while(M);if(!Ei(D)&&c1(D)!==r)throw new RangeError("Time zone or calendar converted nanoseconds into a number of days with the opposite sign");if(!Ei(a)&&c1(a)!==r)throw tp(a)&&r===1?new Error("assert not reached"):new RangeError("Time zone or calendar ended up with a remainder of nanoseconds with the opposite sign");if(_.greaterThanOrEqual(oa(a),oa(_.BigInt(s))))throw new Error("assert not reached");return{days:_.toNumber(D),nanoseconds:a,dayLengthNs:Yt(s)}}function Zi(n,e,t,r,a,s,u,c,f){let d=bS(n,e,t,r,a,s,u,c,f);if(d==="positive overflow"||d==="negative overflow")throw new RangeError("Duration out of range");return d}function bS(n,e,t,r,a,s,u,c,f){let d,g,v,w,b,R,C=n;if(Ce(f)){const N=Si(y(f,dr),y(f,Dt),y(f,W),0,0,0,C,e,t,r,a,s,u),I=y(f,Ue);d=_.subtract(N,I)}else d=bc(C,e,t,r,a,s,u,0);c==="year"||c==="month"||c==="week"||c==="day"?{days:C,nanoseconds:d}=a_(d,f):C=0;const D=_.lessThan(d,fn)?-1:1;switch(d=oa(d),g=v=w=b=R=fn,c){case"year":case"month":case"week":case"day":case"hour":({quotient:g,remainder:d}=gn(d,Tt)),{quotient:v,remainder:g}=gn(g,Tt),{quotient:w,remainder:v}=gn(v,Tt),{quotient:b,remainder:w}=gn(w,Va),{quotient:R,remainder:b}=gn(b,Va);break;case"minute":({quotient:g,remainder:d}=gn(d,Tt)),{quotient:v,remainder:g}=gn(g,Tt),{quotient:w,remainder:v}=gn(v,Tt),{quotient:b,remainder:w}=gn(w,Va);break;case"second":({quotient:g,remainder:d}=gn(d,Tt)),{quotient:v,remainder:g}=gn(g,Tt),{quotient:w,remainder:v}=gn(v,Tt);break;case"millisecond":({quotient:g,remainder:d}=gn(d,Tt)),{quotient:v,remainder:g}=gn(g,Tt);break;case"microsecond":({quotient:g,remainder:d}=gn(d,Tt));break;case"nanosecond":break;default:throw new Error("assert not reached")}const M=_.toNumber(R)*D,x=_.toNumber(b)*D,P=_.toNumber(w)*D,$=_.toNumber(v)*D,V=_.toNumber(g)*D,Y=_.toNumber(d)*D;for(const N of[C,M,x,P,$,V,Y])if(!Or(N))return D===1?"positive overflow":"negative overflow";return{days:C,hours:M,minutes:x,seconds:P,milliseconds:$,microseconds:V,nanoseconds:Y}}function bm(n,e,t,r,a,s){const u=pe("%Temporal.Duration%"),c=za(n,e,t,r,0,0,0,0,0,0);if(c===0)return{years:n,months:e,weeks:t,days:r};const f=_.BigInt(c);let d,g,v=_.BigInt(n),w=_.BigInt(e),b=_.BigInt(t),R=_.BigInt(r);s&&(g=xt(s),d=y(g,W));const C=new u(c),D=new u(0,c),M=new u(0,0,c);switch(a){case"year":break;case"month":{if(!d)throw new RangeError("a starting point is required for months balancing");let x,P;for(typeof d!="string"&&(x=bt(d,"dateAdd"),P=bt(d,"dateUntil"));!Ei(v);){const $=Qn(d,g,C,void 0,x),V=pr(null);V.largestUnit="month";const Y=zs(d,g,$,V,P),N=_.BigInt(y(Y,$n));g=$,w=_.add(w,N),v=_.subtract(v,f)}}break;case"week":{if(!d)throw new RangeError("a starting point is required for weeks balancing");const x=typeof d!="string"?bt(d,"dateAdd"):void 0;for(;!Ei(v);){let P;({relativeTo:g,days:P}=fr(d,g,C,x)),R=_.add(R,_.BigInt(P)),v=_.subtract(v,f)}for(;!Ei(w);){let P;({relativeTo:g,days:P}=fr(d,g,D,x)),R=_.add(R,_.BigInt(P)),w=_.subtract(w,f)}break}default:{if(Ei(v)&&Ei(w)&&Ei(b))break;if(!d)throw new RangeError("a starting point is required for balancing calendar units");const x=typeof d!="string"?bt(d,"dateAdd"):void 0;for(;!Ei(v);){let P;({relativeTo:g,days:P}=fr(d,g,C,x)),R=_.add(R,_.BigInt(P)),v=_.subtract(v,f)}for(;!Ei(w);){let P;({relativeTo:g,days:P}=fr(d,g,D,x)),R=_.add(R,_.BigInt(P)),w=_.subtract(w,f)}for(;!Ei(b);){let P;({relativeTo:g,days:P}=fr(d,g,M,x)),R=_.add(R,_.BigInt(P)),b=_.subtract(b,f)}break}}return{years:_.toNumber(v),months:_.toNumber(w),weeks:_.toNumber(b),days:_.toNumber(R)}}function A1(n,e,t,r,a){if(Ce(n)){const s=y(n,dr),u=y(n,Dt),c=y(n,W),f=ca(u,s),d=Si(s,u,c,e,t,r,a,0,0,0,0,0,0);return ca(u,new(pe("%Temporal.Instant%"))(d))-f}return 0}function RS(n){return new(pe("%Temporal.Duration%"))(-y(n,wr),-y(n,$n),-y(n,zr),-y(n,Er),-y(n,br),-y(n,Rr),-y(n,Ar),-y(n,Sr),-y(n,Cr),-y(n,Dr))}function Wr(n,e,t){return fx(t,dx(e,n))}function AS(n,e,t){const r=Wr(e,1,12);return{year:n,month:r,day:Wr(t,1,Mo(n,r))}}function Zn(n,e,t){if(n<e||n>t)throw new RangeError(`value out of range: ${e} <= ${n} <= ${t}`)}function Ya(n,e,t){Zn(e,1,12),Zn(t,1,Mo(n,e))}function SS(n,e,t){CS(n,e,t,12,0,0,0,0,0)}function Jp(n,e,t,r,a,s){Zn(n,0,23),Zn(e,0,59),Zn(t,0,59),Zn(r,0,999),Zn(a,0,999),Zn(s,0,999)}function o_(n,e,t,r,a,s,u,c,f){Ya(n,e,t),Jp(r,a,s,u,c,f)}function CS(n,e,t,r,a,s,u,c,f){if(Zn(n,Jm,ep),n===Jm&&Bs(n,e,t+1,r,a,s,u,c,f-1)==null||n===ep&&Bs(n,e,t-1,r,a,s,u,c,f+1)==null)throw new RangeError("DateTime outside of supported range")}function Vl(n){if(_.lessThan(n,_f)||_.greaterThan(n,vc))throw new RangeError("Instant outside of supported range")}function up(n,e,t,r,a,s,u,c,f,d){const g=za(n,e,t,r,a,s,u,c,f,d);for(const v of[n,e,t,r,a,s,u,c,f,d]){if(!Or(v))throw new RangeError("infinite values not allowed as duration fields");const w=yc(v);if(w!==0&&w!==g)throw new RangeError("mixed-sign values not allowed as duration fields")}}function s_(n,e,t,r,a,s,u){switch(u){case"year":case"month":{const c=-Ds(n,e,t,r,a,s);if(c===0)return{years:0,months:0,weeks:0,days:0};const f={year:n,month:e},d={year:r,month:a,day:s};let g=d.year-f.year,v=Fl(n,e,t,g,0,0,0,"constrain"),w=-Ds(v.year,v.month,v.day,r,a,s);if(w===0)return u==="year"?{years:g,months:0,weeks:0,days:0}:{years:0,months:12*g,weeks:0,days:0};let b=d.month-f.month;if(w!==c&&(g-=c,b+=12*c),v=Fl(n,e,t,g,b,0,0,"constrain"),w=-Ds(v.year,v.month,v.day,r,a,s),w===0)return u==="year"?{years:g,months:b,weeks:0,days:0}:{years:0,months:b+12*g,weeks:0,days:0};w!==c&&(b-=c,b===-c&&(g-=c,b=11*c),v=Fl(n,e,t,g,b,0,0,"constrain"));let R=0;return R=v.month===d.month?d.day-v.day:c<0?-v.day-(Mo(d.year,d.month)-d.day):d.day+(Mo(v.year,v.month)-v.day),u==="month"&&(b+=12*g,g=0),{years:g,months:b,weeks:0,days:R}}case"week":case"day":{let c,f,d;Ds(n,e,t,r,a,s)<0?(f={year:n,month:e,day:t},c={year:r,month:a,day:s},d=1):(f={year:r,month:a,day:s},c={year:n,month:e,day:t},d=-1);let g=lp(c.year,c.month,c.day)-lp(f.year,f.month,f.day);for(let w=f.year;w<c.year;++w)g+=$s(w)?366:365;let v=0;return u==="week"&&(v=ei(g/7),g%=7),v*=d,g*=d,{years:0,months:0,weeks:v,days:g}}default:throw new Error("assert not reached")}}function DS(n,e,t,r,a,s,u,c,f,d,g,v){let w=u-n,b=c-e,R=f-t,C=d-r,D=g-a,M=v-s;const x=za(0,0,0,0,w,b,R,C,D,M);w*=x,b*=x,R*=x,C*=x,D*=x,M*=x;let P=0;if({deltaDays:P,hour:w,minute:b,second:R,millisecond:C,microsecond:D,nanosecond:M}=Ao(w,b,R,C,D,M),P!=0)throw new Error("assertion failure in DifferenceTime: _bt_.[[Days]] should be 0");return w*=x,b*=x,R*=x,C*=x,D*=x,M*=x,{hours:w,minutes:b,seconds:R,milliseconds:C,microseconds:D,nanoseconds:M}}function l_(n,e,t,r,a,s){const u=_.subtract(e,n);let c=0,f=0,d=_.toNumber(_.remainder(u,Tt)),g=_.toNumber(_.remainder(_.divide(u,Tt),Tt)),v=_.toNumber(_.remainder(_.divide(u,Ri),Tt)),w=_.toNumber(_.divide(u,Ua));return{hours:c,minutes:f,seconds:w,milliseconds:v,microseconds:g,nanoseconds:d}=Po(0,0,0,0,0,0,w,v,g,d,t,r,s),Zi(0,c,f,w,v,g,d,a)}function u_(n,e,t,r,a,s,u,c,f,d,g,v,w,b,R,C,D,M,x,P,$){let V=n,Y=e,N=t,{hours:I,minutes:O,seconds:z,milliseconds:j,microseconds:q,nanoseconds:U}=DS(r,a,s,u,c,f,w,b,R,C,D,M);const Se=za(0,0,0,0,I,O,z,j,q,U);Ds(d,g,v,V,Y,N)===-Se&&({year:V,month:Y,day:N}=Wp(V,Y,N-Se),{hours:I,minutes:O,seconds:z,milliseconds:j,microseconds:q,nanoseconds:U}=Zi(-Se,I,O,z,j,q,U,P));const se=Ci(V,Y,N,x),re=Ci(d,g,v,x),de=Ql("day",P),ge=Ws($);ge.largestUnit=de;let{years:ke,months:F,weeks:ae,days:ve}=zs(x,se,re,ge);return{days:ve,hours:I,minutes:O,seconds:z,milliseconds:j,microseconds:q,nanoseconds:U}=Zi(ve,I,O,z,j,q,U,P),{years:ke,months:F,weeks:ae,days:ve,hours:I,minutes:O,seconds:z,milliseconds:j,microseconds:q,nanoseconds:U}}function IS(n,e,t,r,a,s){const u=_.subtract(e,n);if(_.equal(u,fn))return{years:0,months:0,weeks:0,days:0,hours:0,minutes:0,seconds:0,milliseconds:0,microseconds:0,nanoseconds:0};const c=pe("%Temporal.Instant%"),f=new c(n),d=new c(e),g=hi(t,f,r),v=hi(t,d,r);let{years:w,months:b,weeks:R,days:C}=u_(y(g,we),y(g,Ee),y(g,Re),y(g,Qe),y(g,Ze),y(g,Xe),y(g,We),y(g,Je),y(g,et),y(v,we),y(v,Ee),y(v,Re),y(v,Qe),y(v,Ze),y(v,Xe),y(v,We),y(v,Je),y(v,et),r,a,s);const D=Si(f,t,r,w,b,R,0,0,0,0,0,0,0);let M=_.subtract(e,D);const x=Kn(D,t,r);({nanoseconds:M,days:C}=a_(M,x));const{hours:P,minutes:$,seconds:V,milliseconds:Y,microseconds:N,nanoseconds:I}=Zi(0,0,0,0,0,0,_.toNumber(M),"hour");return{years:w,months:b,weeks:R,days:C,hours:P,minutes:$,seconds:V,milliseconds:Y,microseconds:N,nanoseconds:I}}function Bc(n,e,t,r,a,s){const u=zf.reduce((b,R)=>{const C=R[0],D=R[1],M=R[2];return t!=="datetime"&&M!==t||r.includes(D)||b.push(D,C),b},[]);let c=ti(e,"largestUnit",t,"auto");if(r.includes(c))throw new RangeError(`largestUnit must be one of ${u.join(", ")}, not ${c}`);const f=Uc(e);let d=ua(e,"trunc");n==="since"&&(d=function(R){switch(R){case"ceil":return"floor";case"floor":return"ceil";case"halfCeil":return"halfFloor";case"halfFloor":return"halfCeil";default:return R}}(d));const g=ti(e,"smallestUnit",t,a);if(r.includes(g))throw new RangeError(`smallestUnit must be one of ${u.join(", ")}, not ${g}`);const v=Ql(s,g);if(c==="auto"&&(c=v),Ql(c,g)!==c)throw new RangeError(`largestUnit ${c} cannot be smaller than smallestUnit ${g}`);const w={hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[g];return w!==void 0&&zc(f,w,!1),{largestUnit:c,roundingIncrement:f,roundingMode:d,smallestUnit:g}}function S1(n,e,t,r){const a=n==="since"?-1:1,s=sa(t),u=Bc(n,Ws(r),"time",[],"nanosecond","second"),c=y(e,Ue),f=y(s,Ue);let{hours:d,minutes:g,seconds:v,milliseconds:w,microseconds:b,nanoseconds:R}=l_(c,f,u.roundingIncrement,u.smallestUnit,u.largestUnit,u.roundingMode);return new(pe("%Temporal.Duration%"))(0,0,0,0,a*d,a*g,a*v,a*w,a*b,a*R)}function C1(n,e,t,r){const a=n==="since"?-1:1,s=xt(t),u=y(e,W);Qp(u,y(s,W),"compute difference between dates");const c=Ws(r),f=Bc(n,c,"date",[],"day","day");c.largestUnit=f.largestUnit;let{years:d,months:g,weeks:v,days:w}=zs(u,e,s,c);return f.smallestUnit==="day"&&f.roundingIncrement===1||({years:d,months:g,weeks:v,days:w}=Po(d,g,v,w,0,0,0,0,0,0,f.roundingIncrement,f.smallestUnit,f.roundingMode,e)),new(pe("%Temporal.Duration%"))(a*d,a*g,a*v,a*w,0,0,0,0,0,0)}function D1(n,e,t,r){const a=n==="since"?-1:1,s=jl(t),u=y(e,W);Qp(u,y(s,W),"compute difference between dates");const c=Ws(r),f=Bc(n,c,"datetime",[],"nanosecond","day");let{years:d,months:g,weeks:v,days:w,hours:b,minutes:R,seconds:C,milliseconds:D,microseconds:M,nanoseconds:x}=u_(y(e,we),y(e,Ee),y(e,Re),y(e,Qe),y(e,Ze),y(e,Xe),y(e,We),y(e,Je),y(e,et),y(s,we),y(s,Ee),y(s,Re),y(s,Qe),y(s,Ze),y(s,Xe),y(s,We),y(s,Je),y(s,et),u,f.largestUnit,c);const P=Ec(e);return{years:d,months:g,weeks:v,days:w,hours:b,minutes:R,seconds:C,milliseconds:D,microseconds:M,nanoseconds:x}=Po(d,g,v,w,b,R,C,D,M,x,f.roundingIncrement,f.smallestUnit,f.roundingMode,P),{days:w,hours:b,minutes:R,seconds:C,milliseconds:D,microseconds:M,nanoseconds:x}=Zi(w,b,R,C,D,M,x,f.largestUnit),new(pe("%Temporal.Duration%"))(a*d,a*g,a*v,a*w,a*b,a*R,a*C,a*D,a*M,a*x)}function I1(n,e,t,r){const a=n==="since"?-1:1,s=So(t),u=Bc(n,Ws(r),"time",[],"nanosecond","hour");let{hours:c,minutes:f,seconds:d,milliseconds:g,microseconds:v,nanoseconds:w}=DS(y(e,Qe),y(e,Ze),y(e,Xe),y(e,We),y(e,Je),y(e,et),y(s,Qe),y(s,Ze),y(s,Xe),y(s,We),y(s,Je),y(s,et));return{hours:c,minutes:f,seconds:d,milliseconds:g,microseconds:v,nanoseconds:w}=Po(0,0,0,0,c,f,d,g,v,w,u.roundingIncrement,u.smallestUnit,u.roundingMode),{hours:c,minutes:f,seconds:d,milliseconds:g,microseconds:v,nanoseconds:w}=Zi(0,c,f,d,g,v,w,u.largestUnit),new(pe("%Temporal.Duration%"))(0,0,0,0,a*c,a*f,a*d,a*g,a*v,a*w)}function O1(n,e,t,r){const a=n==="since"?-1:1,s=tf(t),u=y(e,W);Qp(u,y(s,W),"compute difference between months");const c=Ws(r),f=Bc(n,c,"date",["week","day"],"month","year");c.largestUnit=f.largestUnit;const d=En(u,["monthCode","year"]),g=it(e,d,[]);g.day=1;const v=ko(u,g),w=it(s,d,[]);w.day=1;const b=ko(u,w);let{years:R,months:C}=zs(u,v,b,c);return f.smallestUnit==="month"&&f.roundingIncrement===1||({years:R,months:C}=Po(R,C,0,0,0,0,0,0,0,0,f.roundingIncrement,f.smallestUnit,f.roundingMode,v)),new(pe("%Temporal.Duration%"))(a*R,a*C,0,0,0,0,0,0,0,0)}function M1(n,e,t,r){const a=n==="since"?-1:1,s=nf(t),u=y(e,W);Qp(u,y(s,W),"compute difference between dates");const c=Ws(r),f=Bc(n,c,"datetime",[],"nanosecond","hour");c.largestUnit=f.largestUnit;const d=y(e,Ue),g=y(s,Ue);let v,w,b,R,C,D,M,x,P,$;if(f.largestUnit!=="year"&&f.largestUnit!=="month"&&f.largestUnit!=="week"&&f.largestUnit!=="day")v=0,w=0,b=0,R=0,{hours:C,minutes:D,seconds:M,milliseconds:x,microseconds:P,nanoseconds:$}=l_(d,g,f.roundingIncrement,f.smallestUnit,f.largestUnit,f.roundingMode);else{const V=y(e,Dt);if(!gS(V,y(s,Dt)))throw new RangeError("When calculating difference between time zones, largestUnit must be 'hours' or smaller because day lengths can vary between time zones due to DST or time zone offset changes.");({years:v,months:w,weeks:b,days:R,hours:C,minutes:D,seconds:M,milliseconds:x,microseconds:P,nanoseconds:$}=IS(d,g,V,u,f.largestUnit,c)),{years:v,months:w,weeks:b,days:R,hours:C,minutes:D,seconds:M,milliseconds:x,microseconds:P,nanoseconds:$}=Po(v,w,b,R,C,D,M,x,P,$,f.roundingIncrement,f.smallestUnit,f.roundingMode,e),{years:v,months:w,weeks:b,days:R,hours:C,minutes:D,seconds:M,milliseconds:x,microseconds:P,nanoseconds:$}=xS(v,w,b,R,C,D,M,x,P,$,f.roundingIncrement,f.smallestUnit,f.roundingMode,e)}return new(pe("%Temporal.Duration%"))(a*v,a*w,a*b,a*R,a*C,a*D,a*M,a*x,a*P,a*$)}function Fl(n,e,t,r,a,s,u,c){let f=n,d=e,g=t,v=s,w=u;return f+=r,d+=a,{year:f,month:d}=km(f,d),{year:f,month:d,day:g}=rp(f,d,g,c),w+=7*v,g+=w,{year:f,month:d,day:g}=Wp(f,d,g),{year:f,month:d,day:g}}function OS(n,e,t,r,a,s,u,c,f,d,g,v){let w=n,b=e,R=t,C=r,D=a,M=s;w+=u,b+=c,R+=f,C+=d,D+=g,M+=v;let x=0;return{deltaDays:x,hour:w,minute:b,second:R,millisecond:C,microsecond:D,nanosecond:M}=Ao(w,b,R,C,D,M),{deltaDays:x,hour:w,minute:b,second:R,millisecond:C,microsecond:D,nanosecond:M}}function MS(n,e,t,r,a,s,u,c,f,d,g,v,w,b,R,C,D,M,x,P,$){const V=Ql(Jv(n,e,t,r,a,s,u,c,f,d),Jv(g,v,w,b,R,C,D,M,x,P));let Y,N,I,O,z,j,q,U,Se,se;if($)if(st($)){const re=pe("%Temporal.Duration%"),de=y($,W),ge=new re(n,e,t,r,0,0,0,0,0,0),ke=new re(g,v,w,b,0,0,0,0,0,0),F=typeof de!="string"?bt(de,"dateAdd"):void 0,ae=Qn(de,$,ge,void 0,F),ve=Qn(de,ae,ke,void 0,F),ye=Ql("day",V),_e=pr(null);_e.largestUnit=ye,{years:Y,months:N,weeks:I,days:O}=zs(de,$,ve,_e),{days:O,hours:z,minutes:j,seconds:q,milliseconds:U,microseconds:Se,nanoseconds:se}=Zi(O,_.add(_.BigInt(a),_.BigInt(R)),_.add(_.BigInt(s),_.BigInt(C)),_.add(_.BigInt(u),_.BigInt(D)),_.add(_.BigInt(c),_.BigInt(M)),_.add(_.BigInt(f),_.BigInt(x)),_.add(_.BigInt(d),_.BigInt(P)),V)}else{const re=pe("%Temporal.Instant%"),de=y($,Dt),ge=y($,W),ke=Si(y($,dr),de,ge,n,e,t,r,a,s,u,c,f,d),F=Si(new re(ke),de,ge,g,v,w,b,R,C,D,M,x,P);V!=="year"&&V!=="month"&&V!=="week"&&V!=="day"?(Y=0,N=0,I=0,O=0,{hours:z,minutes:j,seconds:q,milliseconds:U,microseconds:Se,nanoseconds:se}=l_(y($,Ue),F,1,"nanosecond",V,"halfExpand")):{years:Y,months:N,weeks:I,days:O,hours:z,minutes:j,seconds:q,milliseconds:U,microseconds:Se,nanoseconds:se}=IS(y($,Ue),F,de,ge,V,pr(null))}else{if(V==="year"||V==="month"||V==="week")throw new RangeError("relativeTo is required for years, months, or weeks arithmetic");Y=N=I=0,{days:O,hours:z,minutes:j,seconds:q,milliseconds:U,microseconds:Se,nanoseconds:se}=Zi(r+b,_.add(_.BigInt(a),_.BigInt(R)),_.add(_.BigInt(s),_.BigInt(C)),_.add(_.BigInt(u),_.BigInt(D)),_.add(_.BigInt(c),_.BigInt(M)),_.add(_.BigInt(f),_.BigInt(x)),_.add(_.BigInt(d),_.BigInt(P)),V)}return up(Y,N,I,O,z,j,q,U,Se,se),{years:Y,months:N,weeks:I,days:O,hours:z,minutes:j,seconds:q,milliseconds:U,microseconds:Se,nanoseconds:se}}function r0(n,e,t,r,a,s,u){let c=fn;c=_.add(c,_.BigInt(u)),c=_.add(c,_.multiply(_.BigInt(s),Tt)),c=_.add(c,_.multiply(_.BigInt(a),Ri)),c=_.add(c,_.multiply(_.BigInt(r),Ua)),c=_.add(c,_.multiply(_.BigInt(t),_.BigInt(6e10))),c=_.add(c,_.multiply(_.BigInt(e),_.BigInt(36e11)));const f=_.add(n,c);return Vl(f),f}function i0(n,e,t,r,a,s,u,c,f,d,g,v,w,b,R,C,D,M,x,P,$){let V=b,{deltaDays:Y,hour:N,minute:I,second:O,millisecond:z,microsecond:j,nanosecond:q}=OS(r,a,s,u,c,f,R,C,D,M,x,P);V+=Y;const U=pe("%Temporal.Duration%"),Se=Qn(d,Ci(n,e,t,d),new U(g,v,w,V,0,0,0,0,0,0),$);return{year:y(Se,we),month:y(Se,Ee),day:y(Se,Re),hour:N,minute:I,second:O,millisecond:z,microsecond:j,nanosecond:q}}function Si(n,e,t,r,a,s,u,c,f,d,g,v,w,b){const R=pe("%Temporal.Duration%");if(za(r,a,s,u,0,0,0,0,0,0)===0)return r0(y(n,Ue),c,f,d,g,v,w);const C=hi(e,n,t),D=Qn(t,Ci(y(C,we),y(C,Ee),y(C,Re),t),new R(r,a,s,u,0,0,0,0,0,0),b),M=Xr(y(D,we),y(D,Ee),y(D,Re),y(C,Qe),y(C,Ze),y(C,Xe),y(C,We),y(C,Je),y(C,et),t);return r0(y(Mr(e,M,"compatible"),Ue),c,f,d,g,v,w)}function N1(n,e,t,r){const a=n==="subtract"?-1:1;let{years:s,months:u,weeks:c,days:f,hours:d,minutes:g,seconds:v,milliseconds:w,microseconds:b,nanoseconds:R}=ou(t);const C=xm(ut(r));return{years:s,months:u,weeks:c,days:f,hours:d,minutes:g,seconds:v,milliseconds:w,microseconds:b,nanoseconds:R}=MS(y(e,wr),y(e,$n),y(e,zr),y(e,Er),y(e,br),y(e,Rr),y(e,Ar),y(e,Sr),y(e,Cr),y(e,Dr),a*s,a*u,a*c,a*f,a*d,a*g,a*v,a*w,a*b,a*R,C),new(pe("%Temporal.Duration%"))(s,u,c,f,d,g,v,w,b,R)}function x1(n,e,t){const r=n==="subtract"?-1:1,{hours:a,minutes:s,seconds:u,milliseconds:c,microseconds:f,nanoseconds:d}=function(w,b){let R=ou(w);for(const C of b)if(R[C]!==0)throw new RangeError(`Duration field ${C} not supported by Temporal.Instant. Try Temporal.ZonedDateTime instead.`);return R}(t,["years","months","weeks","days"]),g=r0(y(e,Ue),r*a,r*s,r*u,r*c,r*f,r*d);return new(pe("%Temporal.Instant%"))(g)}function k1(n,e,t,r){const a=n==="subtract"?-1:1,{years:s,months:u,weeks:c,days:f,hours:d,minutes:g,seconds:v,milliseconds:w,microseconds:b,nanoseconds:R}=ou(t),C=ut(r),D=y(e,W),{year:M,month:x,day:P,hour:$,minute:V,second:Y,millisecond:N,microsecond:I,nanosecond:O}=i0(y(e,we),y(e,Ee),y(e,Re),y(e,Qe),y(e,Ze),y(e,Xe),y(e,We),y(e,Je),y(e,et),D,a*s,a*u,a*c,a*f,a*d,a*g,a*v,a*w,a*b,a*R,C);return Xr(M,x,P,$,V,Y,N,I,O,D)}function P1(n,e,t){const r=n==="subtract"?-1:1,{hours:a,minutes:s,seconds:u,milliseconds:c,microseconds:f,nanoseconds:d}=ou(t);let{hour:g,minute:v,second:w,millisecond:b,microsecond:R,nanosecond:C}=OS(y(e,Qe),y(e,Ze),y(e,Xe),y(e,We),y(e,Je),y(e,et),r*a,r*s,r*u,r*c,r*f,r*d);return{hour:g,minute:v,second:w,millisecond:b,microsecond:R,nanosecond:C}=jp(g,v,w,b,R,C,"reject"),new(pe("%Temporal.PlainTime%"))(g,v,w,b,R,C)}function L1(n,e,t,r){let a=ou(t);n==="subtract"&&(a={years:-a.years,months:-a.months,weeks:-a.weeks,days:-a.days,hours:-a.hours,minutes:-a.minutes,seconds:-a.seconds,milliseconds:-a.milliseconds,microseconds:-a.microseconds,nanoseconds:-a.nanoseconds});let{years:s,months:u,weeks:c,days:f,hours:d,minutes:g,seconds:v,milliseconds:w,microseconds:b,nanoseconds:R}=a;({days:f}=Zi(f,d,g,v,w,b,R,"day"));const C=ut(r),D=y(e,W),M=En(D,["monthCode","year"]),x=it(e,M,[]),P=pr(null);sc(P,x,[]),x.day=1;let $=ko(D,x);const V=za(s,u,c,f,0,0,0,0,0,0),Y=bt(D,"dateAdd"),N=pe("%Temporal.Duration%");if(V<0){const z=Qn(D,$,new N(0,1,0,0,0,0,0,0,0,0),void 0,Y),j=Qn(D,z,new N(0,0,0,-1,0,0,0,0,0,0),void 0,Y);P.day=Hf(D,j),$=ko(D,P)}const I=new N(s,u,c,f,0,0,0,0,0,0),O=Ws(C);return Xl(D,it(Qn(D,$,I,C,Y),M,[]),O)}function V1(n,e,t,r){const a=n==="subtract"?-1:1,{years:s,months:u,weeks:c,days:f,hours:d,minutes:g,seconds:v,milliseconds:w,microseconds:b,nanoseconds:R}=ou(t),C=ut(r),D=y(e,Dt),M=y(e,W);return Kn(Si(y(e,dr),D,M,a*s,a*u,a*c,a*f,a*d,a*g,a*v,a*w,a*b,a*R,C),D,M)}function si(n,e,t){if(_.equal(e,Lc))return n;let{quotient:r,remainder:a}=gn(n,e);if(_.equal(a,fn))return n;const s=_.lessThan(a,fn)?-1:1,u=oa(_.multiply(a,_.BigInt(2))),c=_.equal(u,e),f=_.greaterThan(u,e);switch(t){case"ceil":s>0&&(r=_.add(r,_.BigInt(s)));break;case"floor":s<0&&(r=_.add(r,_.BigInt(s)));break;case"expand":r=_.add(r,_.BigInt(s));break;case"trunc":break;case"halfCeil":(f||c&&s>0)&&(r=_.add(r,_.BigInt(s)));break;case"halfFloor":(f||c&&s<0)&&(r=_.add(r,_.BigInt(s)));break;case"halfExpand":(f||c)&&(r=_.add(r,_.BigInt(s)));break;case"halfTrunc":f&&(r=_.add(r,_.BigInt(s)));break;case"halfEven":(f||c&&_.toNumber(_.remainder(oa(r),_.BigInt(2)))===1)&&(r=_.add(r,_.BigInt(s)))}return _.multiply(r,e)}function cp(n,e,t,r){let{remainder:a}=kl(n,Ha);const s=_.subtract(n,a),u=si(a,_.BigInt(LS[t]*e),r);return _.add(s,u)}function c_(n,e,t,r,a,s,u,c,f,d,g,v,w=864e11){const{deltaDays:b,hour:R,minute:C,second:D,millisecond:M,microsecond:x,nanosecond:P}=h_(r,a,s,u,c,f,d,g,v,w),{year:$,month:V,day:Y}=Wp(n,e,t+b);return{year:$,month:V,day:Y,hour:R,minute:C,second:D,millisecond:M,microsecond:x,nanosecond:P}}function h_(n,e,t,r,a,s,u,c,f,d=864e11){let g=fn;switch(c){case"day":case"hour":g=_.BigInt(n);case"minute":g=_.add(_.multiply(g,Va),_.BigInt(e));case"second":g=_.add(_.multiply(g,Va),_.BigInt(t));case"millisecond":g=_.add(_.multiply(g,Tt),_.BigInt(r));case"microsecond":g=_.add(_.multiply(g,Tt),_.BigInt(a));case"nanosecond":g=_.add(_.multiply(g,Tt),_.BigInt(s))}const v=c==="day"?d:LS[c],w=si(g,_.BigInt(v*u),f),b=_.toNumber(_.divide(w,_.BigInt(v)));switch(c){case"day":return{deltaDays:b,hour:0,minute:0,second:0,millisecond:0,microsecond:0,nanosecond:0};case"hour":return Ao(b,0,0,0,0,0);case"minute":return Ao(n,b,0,0,0,0);case"second":return Ao(n,e,b,0,0,0);case"millisecond":return Ao(n,e,t,b,0,0);case"microsecond":return Ao(n,e,t,r,b,0);case"nanosecond":return Ao(n,e,t,r,a,b);default:throw new Error(`Invalid unit ${c}`)}}function Pm(n,e){return s_(y(n,we),y(n,Ee),y(n,Re),y(e,we),y(e,Ee),y(e,Re),"day").days}function fr(n,e,t,r){const a=Qn(n,e,t,void 0,r);return{relativeTo:a,days:Pm(e,a)}}function NS(n,e,t,r,a){const s=y(n,Dt),u=y(n,W);return Kn(Si(y(n,dr),s,u,e,t,r,a,0,0,0,0,0,0),s,u)}function xS(n,e,t,r,a,s,u,c,f,d,g,v,w,b){let R=n,C=e,D=t,M=r,x=a,P=s,$=u,V=c,Y=f,N=d;if(!Ce(b)||v==="year"||v==="month"||v==="week"||v==="day"||v==="nanosecond"&&g===1)return{years:R,months:C,weeks:D,days:M,hours:x,minutes:P,seconds:$,milliseconds:V,microseconds:Y,nanoseconds:N};let I=bc(0,x,P,$,V,Y,N,0);const O=yc(_.toNumber(I)),z=y(b,Dt),j=y(b,W),q=Si(y(b,dr),z,j,R,C,D,M,0,0,0,0,0,0),U=Si(new(pe("%Temporal.Instant%"))(q),z,j,0,0,0,O,0,0,0,0,0,0),Se=_.subtract(U,q);return _.greaterThanOrEqual(_.multiply(_.subtract(I,Se),_.BigInt(O)),fn)&&({years:R,months:C,weeks:D,days:M}=MS(R,C,D,M,0,0,0,0,0,0,0,0,0,O,0,0,0,0,0,0,b),I=cp(_.subtract(I,Se),g,v,w),{hours:x,minutes:P,seconds:$,milliseconds:V,microseconds:Y,nanoseconds:N}=Zi(0,0,0,0,0,0,_.toNumber(I),"hour")),{years:R,months:C,weeks:D,days:M,hours:x,minutes:P,seconds:$,milliseconds:V,microseconds:Y,nanoseconds:N}}function Po(n,e,t,r,a,s,u,c,f,d,g,v,w,b){let R=n,C=e,D=t,M=r,x=a,P=s,$=u,V=c,Y=f,N=_.BigInt(d);const I=pe("%Temporal.Duration%");let O,z,j,q,U=b;if(U){if(Ce(U))z=U,U=xt(U);else if(!st(U))throw new TypeError("starting point must be PlainDate or ZonedDateTime");O=y(U,W)}if(v==="year"||v==="month"||v==="week"||v==="day"){let Se,se,re;N=bc(0,x,P,$,V,Y,d,0),z&&(Se=NS(z,R,C,D,M)),{days:se,nanoseconds:N,dayLengthNs:re}=a_(N,Se),j=_.BigInt(re),M+=se,x=P=$=V=Y=0}switch(v){case"year":{if(!O)throw new RangeError("A starting point is required for years rounding");const Se=new I(R),se=typeof O!="string"?bt(O,"dateAdd"):void 0,re=Qn(O,U,Se,void 0,se),de=Qn(O,U,new I(R,C,D),void 0,se);U=re,M+=Pm(re,de);const ge=Qn(O,U,new I(0,0,0,M),void 0,se),ke=pr(null);ke.largestUnit="year";const F=zs(O,U,ge,ke).years;R+=F;const ae=U;U=Qn(O,U,new I(F),void 0,se),M-=Pm(ae,U);const ve=new I(M<0?-1:1);let{days:ye}=fr(O,U,ve,se);ye=Yt(ye);const _e=_.multiply(_.BigInt(ye),j);N=_.add(_.add(_.multiply(_e,_.BigInt(R)),_.multiply(_.BigInt(M),j)),N);const Pe=si(N,_.multiply(_e,_.BigInt(g)),w);q=Na(N,_e),R=_.toNumber(_.divide(Pe,_e)),N=fn,C=D=M=0;break}case"month":{if(!O)throw new RangeError("A starting point is required for months rounding");const Se=new I(R,C),se=typeof O!="string"?bt(O,"dateAdd"):void 0,re=Qn(O,U,Se,void 0,se),de=Qn(O,U,new I(R,C,D),void 0,se);U=re,M+=Pm(re,de);const ge=yc(M),ke=new I(0,M<0?-1:1);let F;for({relativeTo:U,days:F}=fr(O,U,ke,se);Yt(M)>=Yt(F);)C+=ge,M-=F,{relativeTo:U,days:F}=fr(O,U,ke,se);F=Yt(F);const ae=_.multiply(_.BigInt(F),j);N=_.add(_.add(_.multiply(ae,_.BigInt(C)),_.multiply(_.BigInt(M),j)),N);const ve=si(N,_.multiply(ae,_.BigInt(g)),w);q=Na(N,ae),C=_.toNumber(_.divide(ve,ae)),N=fn,D=M=0;break}case"week":{if(!O)throw new RangeError("A starting point is required for weeks rounding");const Se=yc(M),se=new I(0,0,M<0?-1:1),re=typeof O!="string"?bt(O,"dateAdd"):void 0;let de;for({relativeTo:U,days:de}=fr(O,U,se,re);Yt(M)>=Yt(de);)D+=Se,M-=de,{relativeTo:U,days:de}=fr(O,U,se,re);de=Yt(de);const ge=_.multiply(_.BigInt(de),j);N=_.add(_.add(_.multiply(ge,_.BigInt(D)),_.multiply(_.BigInt(M),j)),N);const ke=si(N,_.multiply(ge,_.BigInt(g)),w);q=Na(N,ge),D=_.toNumber(_.divide(ke,ge)),N=fn,M=0;break}case"day":{const Se=j;N=_.add(_.multiply(Se,_.BigInt(M)),N);const se=si(N,_.multiply(Se,_.BigInt(g)),w);q=Na(N,Se),M=_.toNumber(_.divide(se,Se)),N=fn;break}case"hour":{let se=_.multiply(_.BigInt(x),_.BigInt(36e11));se=_.add(se,_.multiply(_.BigInt(P),_.BigInt(6e10))),se=_.add(se,_.multiply(_.BigInt($),Ua)),se=_.add(se,_.multiply(_.BigInt(V),Ri)),se=_.add(se,_.multiply(_.BigInt(Y),Tt)),se=_.add(se,N),q=Na(se,_.BigInt(36e11));const re=si(se,_.BigInt(36e11*g),w);x=_.toNumber(_.divide(re,_.BigInt(36e11))),N=fn,P=$=V=Y=0;break}case"minute":{let se=_.multiply(_.BigInt(P),_.BigInt(6e10));se=_.add(se,_.multiply(_.BigInt($),Ua)),se=_.add(se,_.multiply(_.BigInt(V),Ri)),se=_.add(se,_.multiply(_.BigInt(Y),Tt)),se=_.add(se,N),q=Na(se,_.BigInt(6e10));const re=si(se,_.BigInt(6e10*g),w);P=_.toNumber(_.divide(re,_.BigInt(6e10))),N=fn,$=V=Y=0;break}case"second":{let se=_.multiply(_.BigInt($),Ua);se=_.add(se,_.multiply(_.BigInt(V),Ri)),se=_.add(se,_.multiply(_.BigInt(Y),Tt)),se=_.add(se,N),q=Na(se,_.BigInt(1e9));const re=si(se,_.BigInt(1e9*g),w);$=_.toNumber(_.divide(re,_.BigInt(1e9))),N=fn,V=Y=0;break}case"millisecond":{let se=_.multiply(_.BigInt(V),Ri);se=_.add(se,_.multiply(_.BigInt(Y),Tt)),se=_.add(se,N),q=Na(se,_.BigInt(1e6));const re=si(se,_.BigInt(1e6*g),w);V=_.toNumber(_.divide(re,_.BigInt(1e6))),N=fn,Y=0;break}case"microsecond":{let se=_.multiply(_.BigInt(Y),Tt);se=_.add(se,N),q=Na(se,_.BigInt(1e3));const re=si(se,_.BigInt(1e3*g),w);Y=_.toNumber(_.divide(re,_.BigInt(1e3))),N=fn;break}case"nanosecond":q=_.toNumber(N),N=si(_.BigInt(N),_.BigInt(g),w)}return{years:R,months:C,weeks:D,days:M,hours:x,minutes:P,seconds:$,milliseconds:V,microseconds:Y,nanoseconds:_.toNumber(N),total:q}}function Ds(n,e,t,r,a,s){for(const[u,c]of[[n,r],[e,a],[t,s]])if(u!==c)return ql(u-c);return 0}function kl(n,e){let{quotient:t,remainder:r}=gn(n,e);return _.lessThan(r,fn)&&(t=_.subtract(t,Lc),r=_.add(r,e)),{quotient:t,remainder:r}}function uc(n,e){const{quotient:t,remainder:r}=gn(n,e);return Ei(r)||!tp(n)==!tp(e)?t:_.subtract(t,Lc)}function Na(n,e){const{quotient:t,remainder:r}=gn(n,e);return _.toNumber(t)+_.toNumber(r)/_.toNumber(e)}function hp(n){const e=lf(n);return globalThis.BigInt!==void 0?globalThis.BigInt(e.toString(10)):e}function lf(n){let e=n;if(typeof n=="object"){const t=n[Symbol.toPrimitive];t&&typeof t=="function"&&(e=zp(t,n,["number"]))}if(typeof e=="number")throw new TypeError("cannot convert number to bigint");return typeof e=="bigint"?_.BigInt(e.toString(10)):_.BigInt(e)}const f_=(()=>{let n=_.BigInt(Date.now()%1e6);return()=>{const e=_.BigInt(Date.now()),t=_.add(_.multiply(e,Ri),n);return n=_.remainder(e,Ri),_.greaterThan(t,vc)?vc:_.lessThan(t,_f)?_f:t}})();function bs(){return new nS().resolvedOptions().timeZone}function ql(n){return n<0?-1:n>0?1:n}function ut(n){if(n===void 0)return pr(null);if(Kt(n)&&n!==null)return n;throw new TypeError("Options parameter must be an object, not "+(n===null?"null":typeof n))}function Rc(n,e){const t=pr(null);return t[n]=e,t}function Ws(n){const e=pr(null);return sc(e,ut(n),[]),e}function Fs(n,e,t,r){let a=n[e];if(a!==void 0){if(a=xr(a),!t.includes(a))throw new RangeError(`${e} must be one of ${t.join(", ")}, not ${a}`);return a}return r}function Lo(n){return Tx.includes(Ga(n))}function Ga(n){return n.replace(/[A-Z]/g,e=>{const t=e.charCodeAt(0);return String.fromCharCode(t+32)})}const kS=new RegExp(`^${JA.source}$`);function PS(n,e,t,r=n(e),a=n(t)){let s=_.BigInt(e),u=_.BigInt(t),c=r,f=a;for(;_.greaterThan(_.subtract(u,s),Lc);){const d=_.divide(_.add(s,u),_.BigInt(2)),g=n(d);if(g===c)s=d,c=g;else{if(g!==f)throw new Error(`invalid state in bisection ${c} - ${g} - ${f}`);u=d,f=g}}return u}const LS={hour:36e11,minute:6e10,second:1e9,millisecond:1e6,microsecond:1e3,nanosecond:1},VS=Symbol("date"),US=Symbol("ym"),zS=Symbol("md"),jS=Symbol("time"),BS=Symbol("datetime"),$S=Symbol("instant"),cc=Symbol("original"),Ju=Symbol("timezone"),Gi=Symbol("calendar-id"),FS=Symbol("locale"),a0=Symbol("options"),uf=n=>({value:n,enumerable:!0,writable:!1,configurable:!0}),hc=globalThis.Intl.DateTimeFormat,Vo=Object.assign,Ax=Object.prototype.hasOwnProperty,Sx=Reflect.apply;function Xu(n,e){let t=n[e];return typeof t=="function"&&(t=new hc(n[FS],t(n[a0])),n[e]=t),t}function Wl(n,e={}){if(!(this instanceof Wl))return new Wl(n,e);const t=e!==void 0,r=t?Vo({},e):{},a=new hc(n,r),s=a.resolvedOptions();if(t){const u=Vo({},s);for(const c in u)Sx(Ax,r,[c])||delete u[c];this[a0]=u}else this[a0]=r;this[FS]=s.locale,this[cc]=a,this[Ju]=s.timeZone,this[Gi]=s.calendar,this[VS]=Ox,this[US]=Dx,this[zS]=Ix,this[jS]=Cx,this[BS]=Mx,this[$S]=Nx}Object.defineProperty(Wl,"name",{writable:!0,value:"DateTimeFormat"}),Wl.supportedLocalesOf=function(n,e){return hc.supportedLocalesOf(n,e)};const Sv={resolvedOptions:uf(function(){return this[cc].resolvedOptions()}),format:uf(function(e,...t){let{instant:r,formatter:a}=fc(e,this);return r&&a?a.format(r.epochMilliseconds):this[cc].format(e,...t)}),formatRange:uf(function(e,t){if(Ac(e)||Ac(t)){if(!qS(e,t))throw new TypeError("Intl.DateTimeFormat.formatRange accepts two values of the same type");const{instant:r,formatter:a}=fc(e,this),{instant:s,formatter:u}=fc(t,this);if(r&&s&&a&&u&&a===u)return a.formatRange(r.epochMilliseconds,s.epochMilliseconds)}return this[cc].formatRange(e,t)})};"formatToParts"in hc.prototype&&(Sv.formatToParts=uf(function(e,...t){let{instant:r,formatter:a}=fc(e,this);return r&&a?a.formatToParts(r.epochMilliseconds):this[cc].formatToParts(e,...t)})),"formatRangeToParts"in hc.prototype&&(Sv.formatRangeToParts=uf(function(e,t){if(Ac(e)||Ac(t)){if(!qS(e,t))throw new TypeError("Intl.DateTimeFormat.formatRangeToParts accepts two values of the same type");const{instant:r,formatter:a}=fc(e,this),{instant:s,formatter:u}=fc(t,this);if(r&&s&&a&&u&&a===u)return a.formatRangeToParts(r.epochMilliseconds,s.epochMilliseconds)}return this[cc].formatRangeToParts(e,t)})),Wl.prototype=Object.create(hc.prototype,Sv),Object.defineProperty(Wl,"prototype",{writable:!1,enumerable:!1,configurable:!1});const Js=Wl;function Kf(n={},e={}){const t=Vo({},n);for(const r of["year","month","day","hour","minute","second","weekday","dayPeriod","timeZoneName","dateStyle","timeStyle"])t[r]=r in e?e[r]:t[r],t[r]!==!1&&t[r]!==void 0||delete t[r];return t}function Cx(n){let e=Kf(n,{year:!1,month:!1,day:!1,weekday:!1,timeZoneName:!1,dateStyle:!1});return m_(e)||(e=Vo({},e,{hour:"numeric",minute:"numeric",second:"numeric"})),e}function Dx(n){let e=Kf(n,{day:!1,hour:!1,minute:!1,second:!1,weekday:!1,dayPeriod:!1,timeZoneName:!1,dateStyle:!1,timeStyle:!1});return"year"in e||"month"in e||(e=Vo(e,{year:"numeric",month:"numeric"})),e}function Ix(n){let e=Kf(n,{year:!1,hour:!1,minute:!1,second:!1,weekday:!1,dayPeriod:!1,timeZoneName:!1,dateStyle:!1,timeStyle:!1});return"month"in e||"day"in e||(e=Vo({},e,{month:"numeric",day:"numeric"})),e}function Ox(n){let e=Kf(n,{hour:!1,minute:!1,second:!1,dayPeriod:!1,timeZoneName:!1,timeStyle:!1});return d_(e)||(e=Vo({},e,{year:"numeric",month:"numeric",day:"numeric"})),e}function Mx(n){let e=Kf(n,{timeZoneName:!1});return m_(e)||d_(e)||(e=Vo({},e,{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"})),e}function Nx(n){let e=n;return m_(e)||d_(e)||(e=Vo({},e,{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"})),e}function d_(n){return"year"in n||"month"in n||"day"in n||"weekday"in n||"dateStyle"in n}function m_(n){return"hour"in n||"minute"in n||"second"in n||"timeStyle"in n||"dayPeriod"in n}function Ac(n){return st(n)||hn(n)||Ge(n)||Ce(n)||_t(n)||xn(n)||In(n)}function qS(n,e){return!(!Ac(n)||!Ac(e))&&!(hn(n)&&!hn(e))&&!(st(n)&&!st(e))&&!(Ge(n)&&!Ge(e))&&!(Ce(n)&&!Ce(e))&&!(_t(n)&&!_t(e))&&!(xn(n)&&!xn(e))&&!(In(n)&&!In(e))}function fc(n,e){const t=pe("%Temporal.PlainDateTime%");if(hn(n)){const r=new t(1970,1,1,y(n,Qe),y(n,Ze),y(n,Xe),y(n,We),y(n,Je),y(n,et),e[Gi]);return{instant:Mr(e[Ju],r,"compatible"),formatter:Xu(e,jS)}}if(_t(n)){const r=y(n,we),a=y(n,Ee),s=y(n,Re),u=Xn(y(n,W));if(u!==e[Gi])throw new RangeError(`cannot format PlainYearMonth with calendar ${u} in locale with calendar ${e[Gi]}`);const c=new t(r,a,s,12,0,0,0,0,0,u);return{instant:Mr(e[Ju],c,"compatible"),formatter:Xu(e,US)}}if(xn(n)){const r=y(n,we),a=y(n,Ee),s=y(n,Re),u=Xn(y(n,W));if(u!==e[Gi])throw new RangeError(`cannot format PlainMonthDay with calendar ${u} in locale with calendar ${e[Gi]}`);const c=new t(r,a,s,12,0,0,0,0,0,u);return{instant:Mr(e[Ju],c,"compatible"),formatter:Xu(e,zS)}}if(st(n)){const r=y(n,we),a=y(n,Ee),s=y(n,Re),u=Xn(y(n,W));if(u!=="iso8601"&&u!==e[Gi])throw new RangeError(`cannot format PlainDate with calendar ${u} in locale with calendar ${e[Gi]}`);const c=new t(r,a,s,12,0,0,0,0,0,e[Gi]);return{instant:Mr(e[Ju],c,"compatible"),formatter:Xu(e,VS)}}if(Ge(n)){const r=y(n,we),a=y(n,Ee),s=y(n,Re),u=y(n,Qe),c=y(n,Ze),f=y(n,Xe),d=y(n,We),g=y(n,Je),v=y(n,et),w=Xn(y(n,W));if(w!=="iso8601"&&w!==e[Gi])throw new RangeError(`cannot format PlainDateTime with calendar ${w} in locale with calendar ${e[Gi]}`);let b=n;return w==="iso8601"&&(b=new t(r,a,s,u,c,f,d,g,v,e[Gi])),{instant:Mr(e[Ju],b,"compatible"),formatter:Xu(e,BS)}}if(Ce(n))throw new TypeError("Temporal.ZonedDateTime not supported in DateTimeFormat methods. Use toLocaleString() instead.");return In(n)?{instant:n,formatter:Xu(e,$S)}:{}}class aa{constructor(e){if(arguments.length<1)throw new TypeError("missing argument: epochNanoseconds is required");const t=lf(e);Vl(t),Za(this),tt(this,Ue,t)}get epochSeconds(){if(!In(this))throw new TypeError("invalid receiver");const e=y(this,Ue);return _.toNumber(uc(e,Ua))}get epochMilliseconds(){if(!In(this))throw new TypeError("invalid receiver");const e=_.BigInt(y(this,Ue));return _.toNumber(uc(e,Ri))}get epochMicroseconds(){if(!In(this))throw new TypeError("invalid receiver");return hp(uc(_.BigInt(y(this,Ue)),Tt))}get epochNanoseconds(){if(!In(this))throw new TypeError("invalid receiver");return hp(_.BigInt(y(this,Ue)))}add(e){if(!In(this))throw new TypeError("invalid receiver");return x1("add",this,e)}subtract(e){if(!In(this))throw new TypeError("invalid receiver");return x1("subtract",this,e)}until(e,t){if(!In(this))throw new TypeError("invalid receiver");return S1("until",this,e,t)}since(e,t){if(!In(this))throw new TypeError("invalid receiver");return S1("since",this,e,t)}round(e){if(!In(this))throw new TypeError("invalid receiver");if(e===void 0)throw new TypeError("options parameter is required");const t=typeof e=="string"?Rc("smallestUnit",e):ut(e),r=Uc(t),a=ua(t,"halfExpand"),s=ti(t,"smallestUnit","time",Kl);zc(r,{hour:24,minute:1440,second:86400,millisecond:864e5,microsecond:864e8,nanosecond:864e11}[s],!0);const u=cp(y(this,Ue),r,s,a);return new aa(u)}equals(e){if(!In(this))throw new TypeError("invalid receiver");const t=sa(e),r=y(this,Ue),a=y(t,Ue);return _.equal(_.BigInt(r),_.BigInt(a))}toString(e){if(!In(this))throw new TypeError("invalid receiver");const t=ut(e),r=Bf(t),a=ua(t,"trunc"),s=ti(t,"smallestUnit","time",void 0);if(s==="hour")throw new RangeError('smallestUnit must be a time unit other than "hour"');let u=t.timeZone;u!==void 0&&(u=mr(u));const{precision:c,unit:f,increment:d}=$f(s,r),g=cp(y(this,Ue),d,f,a);return y1(new aa(g),u,c)}toJSON(){if(!In(this))throw new TypeError("invalid receiver");return y1(this,void 0,"auto")}toLocaleString(e,t){if(!In(this))throw new TypeError("invalid receiver");return new Js(e,t).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.Instant")}toZonedDateTime(e){if(!In(this))throw new TypeError("invalid receiver");if(!Kt(e))throw new TypeError("invalid argument in toZonedDateTime");const t=e.calendar;if(t===void 0)throw new TypeError("missing calendar property in toZonedDateTime");const r=ni(t),a=e.timeZone;if(a===void 0)throw new TypeError("missing timeZone property in toZonedDateTime");const s=mr(a);return Kn(y(this,Ue),s,r)}toZonedDateTimeISO(e){if(!In(this))throw new TypeError("invalid receiver");const t=mr(e);return Kn(y(this,Ue),t,"iso8601")}static fromEpochSeconds(e){const t=_c(e),r=_.multiply(_.BigInt(t),Ua);return Vl(r),new aa(r)}static fromEpochMilliseconds(e){const t=_c(e),r=_.multiply(_.BigInt(t),Ri);return Vl(r),new aa(r)}static fromEpochMicroseconds(e){const t=lf(e),r=_.multiply(t,Tt);return Vl(r),new aa(r)}static fromEpochNanoseconds(e){const t=lf(e);return Vl(t),new aa(t)}static from(e){return In(e)?new aa(y(e,Ue)):sa(e)}static compare(e,t){const r=sa(e),a=sa(t),s=y(r,Ue),u=y(a,Ue);return _.lessThan(s,u)?-1:_.greaterThan(s,u)?1:0}}Qa(aa,"Temporal.Instant");const HS=Array.prototype.includes,xx=Array.prototype.push,kx=globalThis.Intl.DateTimeFormat,Px=Array.prototype.sort,Lx=Math.abs,Vx=Math.floor,Cv=Object.create,o0=Object.entries,YS=Set,U1=Reflect.ownKeys,cr=Set.prototype.add,GS=Set.prototype.values,Xt={};class un{constructor(e){if(arguments.length<1)throw new RangeError("missing argument: id is required");const t=xr(e);if(!Lo(t))throw new RangeError(`invalid calendar identifier ${t}`);Za(this),tt(this,tn,Ga(t))}get id(){if(!ln(this))throw new TypeError("invalid receiver");return y(this,tn)}dateFromFields(e,t){if(!ln(this))throw new TypeError("invalid receiver");if(!Kt(e))throw new TypeError("invalid fields");const r=ut(t),a=y(this,tn);return Xt[a].dateFromFields(e,r,a)}yearMonthFromFields(e,t){if(!ln(this))throw new TypeError("invalid receiver");if(!Kt(e))throw new TypeError("invalid fields");const r=ut(t),a=y(this,tn);return Xt[a].yearMonthFromFields(e,r,a)}monthDayFromFields(e,t){if(!ln(this))throw new TypeError("invalid receiver");if(!Kt(e))throw new TypeError("invalid fields");const r=ut(t),a=y(this,tn);return Xt[a].monthDayFromFields(e,r,a)}fields(e){if(!ln(this))throw new TypeError("invalid receiver");const t=[],r=new Set(["year","month","monthCode","day","hour","minute","second","millisecond","microsecond","nanosecond"]);for(const a of e){if(typeof a!="string")throw new TypeError("invalid fields");if(!r.has(a))throw new RangeError(`invalid field name ${a}`);r.delete(a),xx.call(t,a)}return Xt[y(this,tn)].fields(t)}mergeFields(e,t){if(!ln(this))throw new TypeError("invalid receiver");const r=p1(e),a=Cv(null);sc(a,r,[],[void 0]);const s=p1(t),u=Cv(null);sc(u,s,[],[void 0]);const c=U1(u),f=Xt[y(this,tn)].fieldKeysToIgnore(c),d=Cv(null),g=U1(a);for(const v of g){let w;w=De(HS,f,[v])?u[v]:a[v],w!==void 0&&(d[v]=w)}return sc(d,u,[]),d}dateAdd(e,t,r){if(!ln(this))throw new TypeError("invalid receiver");const a=xt(e),s=lc(t),u=yn(ut(r)),{days:c}=Zi(y(s,Er),y(s,br),y(s,Rr),y(s,Ar),y(s,Sr),y(s,Cr),y(s,Dr),"day"),f=y(this,tn);return Xt[f].dateAdd(a,y(s,wr),y(s,$n),y(s,zr),c,u,f)}dateUntil(e,t,r){if(!ln(this))throw new TypeError("invalid receiver");const a=xt(e),s=xt(t);let u=ti(ut(r),"largestUnit","date","auto");u==="auto"&&(u="day");const{years:c,months:f,weeks:d,days:g}=Xt[y(this,tn)].dateUntil(a,s,u);return new(pe("%Temporal.Duration%"))(c,f,d,g,0,0,0,0,0,0)}year(e){let t=e;if(!ln(this))throw new TypeError("invalid receiver");return _t(t)||(t=xt(t)),Xt[y(this,tn)].year(t)}month(e){let t=e;if(!ln(this))throw new TypeError("invalid receiver");if(xn(t))throw new TypeError("use monthCode on PlainMonthDay instead");return _t(t)||(t=xt(t)),Xt[y(this,tn)].month(t)}monthCode(e){let t=e;if(!ln(this))throw new TypeError("invalid receiver");return _t(t)||xn(t)||(t=xt(t)),Xt[y(this,tn)].monthCode(t)}day(e){let t=e;if(!ln(this))throw new TypeError("invalid receiver");return xn(t)||(t=xt(t)),Xt[y(this,tn)].day(t)}era(e){let t=e;if(!ln(this))throw new TypeError("invalid receiver");return _t(t)||(t=xt(t)),Xt[y(this,tn)].era(t)}eraYear(e){let t=e;if(!ln(this))throw new TypeError("invalid receiver");return _t(t)||(t=xt(t)),Xt[y(this,tn)].eraYear(t)}dayOfWeek(e){if(!ln(this))throw new TypeError("invalid receiver");const t=xt(e);return Xt[y(this,tn)].dayOfWeek(t)}dayOfYear(e){if(!ln(this))throw new TypeError("invalid receiver");const t=xt(e);return Xt[y(this,tn)].dayOfYear(t)}weekOfYear(e){if(!ln(this))throw new TypeError("invalid receiver");const t=xt(e);return Xt[y(this,tn)].weekOfYear(t)}yearOfWeek(e){if(!ln(this))throw new TypeError("invalid receiver");const t=xt(e);return Xt[y(this,tn)].yearOfWeek(t)}daysInWeek(e){if(!ln(this))throw new TypeError("invalid receiver");const t=xt(e);return Xt[y(this,tn)].daysInWeek(t)}daysInMonth(e){let t=e;if(!ln(this))throw new TypeError("invalid receiver");return _t(t)||(t=xt(t)),Xt[y(this,tn)].daysInMonth(t)}daysInYear(e){let t=e;if(!ln(this))throw new TypeError("invalid receiver");return _t(t)||(t=xt(t)),Xt[y(this,tn)].daysInYear(t)}monthsInYear(e){let t=e;if(!ln(this))throw new TypeError("invalid receiver");return _t(t)||(t=xt(t)),Xt[y(this,tn)].monthsInYear(t)}inLeapYear(e){let t=e;if(!ln(this))throw new TypeError("invalid receiver");return _t(t)||(t=xt(t)),Xt[y(this,tn)].inLeapYear(t)}toString(){if(!ln(this))throw new TypeError("invalid receiver");return y(this,tn)}toJSON(){if(!ln(this))throw new TypeError("invalid receiver");return y(this,tn)}static from(e){return jc(ni(e))}}function p_(n){if(!n.startsWith("M"))throw new RangeError(`Invalid month code: ${n}.  Month codes must start with M.`);const e=+n.slice(1);if(isNaN(e))throw new RangeError(`Invalid month code: ${n}`);return e}function No(n,e=!1){return`M${n.toString().padStart(2,"0")}${e?"L":""}`}function Lm(n,e,t=12){let{month:r,monthCode:a}=n;if(a===void 0){if(r===void 0)throw new TypeError("Either month or monthCode are required");e==="reject"&&Zn(r,1,t),e==="constrain"&&(r=Wr(r,1,t)),a=No(r)}else{const s=p_(a);if(r!==void 0&&r!==s)throw new RangeError(`monthCode ${a} and month ${r} must match if both are present`);if(a!==No(s))throw new RangeError(`Invalid month code: ${a}`);if(r=s,r<1||r>t)throw new RangeError(`Invalid monthCode: ${a}`)}return{...n,month:r,monthCode:a}}Qa(un,"Temporal.Calendar"),nn("Temporal.Calendar.from",un.from),nn("Temporal.Calendar.prototype.dateAdd",un.prototype.dateAdd),nn("Temporal.Calendar.prototype.dateFromFields",un.prototype.dateFromFields),nn("Temporal.Calendar.prototype.dateUntil",un.prototype.dateUntil),nn("Temporal.Calendar.prototype.day",un.prototype.day),nn("Temporal.Calendar.prototype.dayOfWeek",un.prototype.dayOfWeek),nn("Temporal.Calendar.prototype.dayOfYear",un.prototype.dayOfYear),nn("Temporal.Calendar.prototype.daysInMonth",un.prototype.daysInMonth),nn("Temporal.Calendar.prototype.daysInWeek",un.prototype.daysInWeek),nn("Temporal.Calendar.prototype.daysInYear",un.prototype.daysInYear),nn("Temporal.Calendar.prototype.era",un.prototype.era),nn("Temporal.Calendar.prototype.eraYear",un.prototype.eraYear),nn("Temporal.Calendar.prototype.fields",un.prototype.fields),nn("Temporal.Calendar.prototype.inLeapYear",un.prototype.inLeapYear),nn("Temporal.Calendar.prototype.mergeFields",un.prototype.mergeFields),nn("Temporal.Calendar.prototype.month",un.prototype.month),nn("Temporal.Calendar.prototype.monthCode",un.prototype.monthCode),nn("Temporal.Calendar.prototype.monthDayFromFields",un.prototype.monthDayFromFields),nn("Temporal.Calendar.prototype.monthsInYear",un.prototype.monthsInYear),nn("Temporal.Calendar.prototype.weekOfYear",un.prototype.weekOfYear),nn("Temporal.Calendar.prototype.year",un.prototype.year),nn("Temporal.Calendar.prototype.yearMonthFromFields",un.prototype.yearMonthFromFields),nn("Temporal.Calendar.prototype.yearOfWeek",un.prototype.yearOfWeek),Xt.iso8601={dateFromFields(n,e,t){let r=it(n,["day","month","monthCode","year"],["year","day"]);const a=yn(e);r=Lm(r);let{year:s,month:u,day:c}=r;return{year:s,month:u,day:c}=rp(s,u,c,a),Ci(s,u,c,t)},yearMonthFromFields(n,e,t){let r=it(n,["month","monthCode","year"],["year"]);const a=yn(e);r=Lm(r);let{year:s,month:u}=r;return{year:s,month:u}=function(f,d,g){let v=f,w=d;switch(g){case"reject":Ya(v,w,1);break;case"constrain":({year:v,month:w}=AS(v,w))}return{year:v,month:w}}(s,u,a),wf(s,u,t,1)},monthDayFromFields(n,e,t){let r=it(n,["day","month","monthCode","year"],["day"]);const a=yn(e);if(r.month!==void 0&&r.year===void 0&&r.monthCode===void 0)throw new TypeError("either year or monthCode required with month");const s=r.monthCode===void 0;r=Lm(r);let{month:u,day:c,year:f}=r;return{month:u,day:c}=rp(s?f:1972,u,c,a),Tf(u,c,t,1972)},fields:n=>n,fieldKeysToIgnore(n){const e=new YS;for(let t=0;t<n.length;t++){const r=n[t];De(cr,e,[r]),r==="month"?De(cr,e,["monthCode"]):r==="monthCode"&&De(cr,e,["month"])}return[...De(GS,e,[])]},dateAdd(n,e,t,r,a,s,u){let c=y(n,we),f=y(n,Ee),d=y(n,Re);return{year:c,month:f,day:d}=Fl(c,f,d,e,t,r,a,s),Ci(c,f,d,u)},dateUntil:(n,e,t)=>s_(y(n,we),y(n,Ee),y(n,Re),y(e,we),y(e,Ee),y(e,Re),t),year:n=>y(n,we),era(){},eraYear(){},month:n=>y(n,Ee),monthCode:n=>No(y(n,Ee)),day:n=>y(n,Re),dayOfWeek:n=>n0(y(n,we),y(n,Ee),y(n,Re)),dayOfYear:n=>lp(y(n,we),y(n,Ee),y(n,Re)),weekOfYear:n=>R1(y(n,we),y(n,Ee),y(n,Re)).week,yearOfWeek:n=>R1(y(n,we),y(n,Ee),y(n,Re)).year,daysInWeek:()=>7,daysInMonth:n=>Mo(y(n,we),y(n,Ee)),daysInYear(n){let e=n;return Ln(e,we)||(e=xt(e)),$s(y(e,we))?366:365},monthsInYear:()=>12,inLeapYear(n){let e=n;return Ln(e,we)||(e=xt(e)),$s(y(e,we))}};class rn{constructor(e){if(this.map=new Map,this.calls=0,this.hits=0,this.misses=0,this.now=globalThis.performance?globalThis.performance.now():Date.now(),e!==void 0){let t=0;for(const r of e.map.entries()){if(++t>rn.MAX_CACHE_ENTRIES)break;this.map.set(...r)}}}get(e){const t=this.map.get(e);return t&&(this.hits++,this.report()),this.calls++,t}set(e,t){this.map.set(e,t),this.misses++,this.report()}report(){}setObject(e){if(rn.objectMap.get(e))throw new RangeError("object already cached");rn.objectMap.set(e,this),this.report()}static getCacheForObject(e){let t=rn.objectMap.get(e);return t||(t=new rn,rn.objectMap.set(e,t)),t}}function KS({isoYear:n,isoMonth:e,isoDay:t}){return`${su(n)}-${Wt(e)}-${Wt(t)}T00:00Z`}function Dv(n,e){return{years:n.year-e.year,months:n.month-e.month,days:n.day-e.day}}rn.objectMap=new WeakMap,rn.MAX_CACHE_ENTRIES=1e3;class $c{constructor(){this.eraLength="short",this.hasEra=!0,this.erasBeginMidYear=!1}getFormatter(){return this.formatter===void 0&&(this.formatter=new kx(`en-US-u-ca-${this.id}`,{day:"numeric",month:"numeric",year:"numeric",era:this.eraLength,timeZone:"UTC"})),this.formatter}isoToCalendarDate(e,t){const{year:r,month:a,day:s}=e,u=JSON.stringify({func:"isoToCalendarDate",isoYear:r,isoMonth:a,isoDay:s,id:this.id}),c=t.get(u);if(c)return c;const f=this.getFormatter();let d,g;try{g=KS({isoYear:r,isoMonth:a,isoDay:s}),d=f.formatToParts(new Date(g))}catch{throw new RangeError(`Invalid ISO date: ${JSON.stringify({isoYear:r,isoMonth:a,isoDay:s})}`)}const v={};for(let{type:b,value:R}of d){if(b==="year"&&(v.eraYear=+R),b==="relatedYear"&&(v.eraYear=+R),b==="month"){const C=/^([0-9]*)(.*?)$/.exec(R);if(!C||C.length!=3||!C[1]&&!C[2])throw new RangeError(`Unexpected month: ${R}`);if(v.month=C[1]?+C[1]:1,v.month<1)throw new RangeError(`Invalid month ${R} from ${g}[u-ca-${this.id}] (probably due to https://bugs.chromium.org/p/v8/issues/detail?id=10527)`);if(v.month>13)throw new RangeError(`Invalid month ${R} from ${g}[u-ca-${this.id}] (probably due to https://bugs.chromium.org/p/v8/issues/detail?id=10529)`);C[2]&&(v.monthExtra=C[2])}b==="day"&&(v.day=+R),this.hasEra&&b==="era"&&R!=null&&R!==""&&(R=R.split(" (")[0],v.era=R.normalize("NFD").replace(/[^-0-9 \p{L}]/gu,"").replace(" ","-").toLowerCase())}if(v.eraYear===void 0)throw new RangeError(`Intl.DateTimeFormat.formatToParts lacks relatedYear in ${this.id} calendar. Try Node 14+ or modern browsers.`);if(this.reviseIntlEra){const{era:b,eraYear:R}=this.reviseIntlEra(v,e);v.era=b,v.eraYear=R}this.checkIcuBugs&&this.checkIcuBugs(e);const w=this.adjustCalendarDate(v,t,"constrain",!0);if(w.year===void 0)throw new RangeError(`Missing year converting ${JSON.stringify(e)}`);if(w.month===void 0)throw new RangeError(`Missing month converting ${JSON.stringify(e)}`);if(w.day===void 0)throw new RangeError(`Missing day converting ${JSON.stringify(e)}`);return t.set(u,w),["constrain","reject"].forEach(b=>{const R=JSON.stringify({func:"calendarToIsoDate",year:w.year,month:w.month,day:w.day,overflow:b,id:this.id});t.set(R,e)}),w}validateCalendarDate(e){const{era:t,month:r,year:a,day:s,eraYear:u,monthCode:c,monthExtra:f}=e;if(f!==void 0)throw new RangeError("Unexpected `monthExtra` value");if(a===void 0&&u===void 0)throw new TypeError("year or eraYear is required");if(r===void 0&&c===void 0)throw new TypeError("month or monthCode is required");if(s===void 0)throw new RangeError("Missing day");if(c!==void 0){if(typeof c!="string")throw new RangeError("monthCode must be a string, not "+typeof c);if(!/^M([01]?\d)(L?)$/.test(c))throw new RangeError(`Invalid monthCode: ${c}`)}if(this.constantEra){if(t!==void 0&&t!==this.constantEra)throw new RangeError(`era must be ${this.constantEra}, not ${t}`);if(u!==void 0&&a!==void 0&&u!==a)throw new RangeError(`eraYear ${u} does not match year ${a}`)}if(this.hasEra&&e.era===void 0!=(e.eraYear===void 0))throw new RangeError("properties 'era' and 'eraYear' must be provided together")}adjustCalendarDate(e,t,r="constrain",a=!1){if(this.calendarType==="lunisolar")throw new RangeError("Override required for lunisolar calendars");let s=e;if(this.validateCalendarDate(s),this.constantEra){const{year:d,eraYear:g}=s;s={...s,era:this.constantEra,year:d!==void 0?d:g,eraYear:g!==void 0?g:d}}const u=this.monthsInYear(s,t);let{month:c,monthCode:f}=s;return{month:c,monthCode:f}=Lm(s,r,u),{...s,month:c,monthCode:f}}regulateMonthDayNaive(e,t,r){const a=this.monthsInYear(e,r);let{month:s,day:u}=e;return t==="reject"?(Zn(s,1,a),Zn(u,1,this.maximumMonthLength(e))):(s=Wr(s,1,a),u=Wr(u,1,this.maximumMonthLength({...e,month:s}))),{...e,month:s,day:u}}calendarToIsoDate(e,t="constrain",r){const a=e;let s=this.adjustCalendarDate(e,r,t,!1);s=this.regulateMonthDayNaive(s,t,r);const{year:u,month:c,day:f}=s,d=JSON.stringify({func:"calendarToIsoDate",year:u,month:c,day:f,overflow:t,id:this.id});let g,v=r.get(d);if(v||a.year!==void 0&&a.month!==void 0&&a.day!==void 0&&(a.year!==s.year||a.month!==s.month||a.day!==s.day)&&(g=JSON.stringify({func:"calendarToIsoDate",year:a.year,month:a.month,day:a.day,overflow:t,id:this.id}),v=r.get(g),v))return v;let w=this.estimateIsoDate({year:u,month:c,day:f});const b=x=>{let P=this.addDaysIso(w,x);if(s.day>this.minimumMonthLength(s)){let $=this.isoToCalendarDate(P,r);for(;$.month!==c||$.year!==u;){if(t==="reject")throw new RangeError(`day ${f} does not exist in month ${c} of year ${u}`);P=this.addDaysIso(P,-1),$=this.isoToCalendarDate(P,r)}}return P};let R=0,C=this.isoToCalendarDate(w,r),D=Dv(s,C);if(D.years!==0||D.months!==0||D.days!==0){const x=365*D.years+30*D.months+D.days;w=this.addDaysIso(w,x),C=this.isoToCalendarDate(w,r),D=Dv(s,C),D.years===0&&D.months===0?w=b(D.days):R=this.compareCalendarDates(s,C)}let M=8;for(;R;){w=this.addDaysIso(w,R*M);const x=C;C=this.isoToCalendarDate(w,r);const P=R;if(R=this.compareCalendarDates(s,C),R){if(D=Dv(s,C),D.years===0&&D.months===0)w=b(D.days),R=0;else if(P&&R!==P)if(M>1)M/=2;else{if(t==="reject")throw new RangeError(`Can't find ISO date from calendar date: ${JSON.stringify({...a})}`);this.compareCalendarDates(C,x)>0&&(w=this.addDaysIso(w,-1)),R=0}}}if(r.set(d,w),g&&r.set(g,w),s.year===void 0||s.month===void 0||s.day===void 0||s.monthCode===void 0||this.hasEra&&(s.era===void 0||s.eraYear===void 0))throw new RangeError("Unexpected missing property");return w}temporalToCalendarDate(e,t){const r={year:y(e,we),month:y(e,Ee),day:y(e,Re)};return this.isoToCalendarDate(r,t)}compareCalendarDates(e,t){const r=it(e,["day","month","year"],["day","month","year"]),a=it(t,["day","month","year"],["day","month","year"]);return r.year!==a.year?ql(r.year-a.year):r.month!==a.month?ql(r.month-a.month):r.day!==a.day?ql(r.day-a.day):0}regulateDate(e,t="constrain",r){const a=this.calendarToIsoDate(e,t,r);return this.isoToCalendarDate(a,r)}addDaysIso(e,t){return Fl(e.year,e.month,e.day,0,0,0,t,"constrain")}addDaysCalendar(e,t,r){const a=this.calendarToIsoDate(e,"constrain",r),s=this.addDaysIso(a,t);return this.isoToCalendarDate(s,r)}addMonthsCalendar(e,t,r,a){let s=e;const{day:u}=s;for(let c=0,f=Lx(t);c<f;c++){const{month:d}=s,g=s,v=t<0?-Math.max(u,this.daysInPreviousMonth(s,a)):this.daysInMonth(s,a),w=this.calendarToIsoDate(s,"constrain",a);let b=this.addDaysIso(w,v);if(s=this.isoToCalendarDate(b,a),t>0){const R=this.monthsInYear(g,a);for(;s.month-1!=d%R;)b=this.addDaysIso(b,-1),s=this.isoToCalendarDate(b,a)}s.day!==u&&(s=this.regulateDate({...s,day:u},"constrain",a))}if(r==="reject"&&s.day!==u)throw new RangeError(`Day ${u} does not exist in resulting calendar month`);return s}addCalendar(e,{years:t=0,months:r=0,weeks:a=0,days:s=0},u,c){const{year:f,day:d,monthCode:g}=e,v=this.adjustCalendarDate({year:f+t,monthCode:g,day:d},c),w=this.addMonthsCalendar(v,r,u,c),b=s+7*a;return this.addDaysCalendar(w,b,c)}untilCalendar(e,t,r,a){let s=0,u=0,c=0,f=0;switch(r){case"day":s=this.calendarDaysUntil(e,t,a);break;case"week":{const d=this.calendarDaysUntil(e,t,a);s=d%7,u=(d-s)/7;break}case"month":case"year":{const d=this.compareCalendarDates(t,e);if(!d)return{years:0,months:0,weeks:0,days:0};const g=t.year-e.year,v=t.day-e.day;if(r==="year"&&g){let R=0;t.monthCode>e.monthCode&&(R=1),t.monthCode<e.monthCode&&(R=-1),R||(R=Math.sign(v)),f=R*d<0?g-d:g}let w,b=f?this.addCalendar(e,{years:f},"constrain",a):e;do c+=d,w=b,b=this.addMonthsCalendar(w,d,"constrain",a),b.day!==e.day&&(b=this.regulateDate({...b,day:e.day},"constrain",a));while(this.compareCalendarDates(t,b)*d>=0);c-=d,s=this.calendarDaysUntil(w,t,a);break}}return{years:f,months:c,weeks:u,days:s}}daysInMonth(e,t){const{day:r}=e,a=this.maximumMonthLength(e),s=this.minimumMonthLength(e);if(s===a)return s;const u=r<=a-s?a:s,c=this.calendarToIsoDate(e,"constrain",t),f=this.addDaysIso(c,u),d=this.isoToCalendarDate(f,t),g=this.addDaysIso(f,-d.day);return this.isoToCalendarDate(g,t).day}daysInPreviousMonth(e,t){const{day:r,month:a,year:s}=e;let u={year:a>1?s:s-1,month:a,day:1};const c=a>1?a-1:this.monthsInYear(u,t);u={...u,month:c};const f=this.minimumMonthLength(u),d=this.maximumMonthLength(u);if(f===d)return d;const g=this.calendarToIsoDate(e,"constrain",t),v=this.addDaysIso(g,-r);return this.isoToCalendarDate(v,t).day}startOfCalendarYear(e){return{year:e.year,month:1,monthCode:"M01",day:1}}startOfCalendarMonth(e){return{year:e.year,month:e.month,day:1}}calendarDaysUntil(e,t,r){const a=this.calendarToIsoDate(e,"constrain",r),s=this.calendarToIsoDate(t,"constrain",r);return this.isoDaysUntil(a,s)}isoDaysUntil(e,t){return s_(e.year,e.month,e.day,t.year,t.month,t.day,"day").days}monthDayFromFields(e,t,r){let a,s,u,c,f,{monthCode:d,day:g}=e;if(d===void 0){let{year:b,era:R,eraYear:C}=e;if(b===void 0&&(R===void 0||C===void 0))throw new TypeError("when `monthCode` is omitted, `year` (or `era` and `eraYear`) and `month` are required");({monthCode:d,day:g}=this.isoToCalendarDate(this.calendarToIsoDate(e,t,r),r))}const v=this.isoToCalendarDate({year:1972,month:12,day:31},r),w=v.monthCode>d||v.monthCode===d&&v.day>=g?v.year:v.year-1;for(let b=0;b<100;b++){const R=this.adjustCalendarDate({day:g,monthCode:d,year:w-b},r),C=this.calendarToIsoDate(R,"constrain",r),D=this.isoToCalendarDate(C,r);if({year:a,month:s,day:u}=C,D.monthCode===d&&D.day===g)return{month:s,day:u,year:a};t==="constrain"&&(c===void 0||D.monthCode===c.monthCode&&D.day>c.day)&&(c=D,f=C)}if(t==="constrain"&&f!==void 0)return f;throw new RangeError(`No recent ${this.id} year with monthCode ${d} and day ${g}`)}}class Ux extends $c{constructor(){super(...arguments),this.id="hebrew",this.calendarType="lunisolar",this.months={Tishri:{leap:1,regular:1,monthCode:"M01",days:30},Heshvan:{leap:2,regular:2,monthCode:"M02",days:{min:29,max:30}},Kislev:{leap:3,regular:3,monthCode:"M03",days:{min:29,max:30}},Tevet:{leap:4,regular:4,monthCode:"M04",days:29},Shevat:{leap:5,regular:5,monthCode:"M05",days:30},Adar:{leap:void 0,regular:6,monthCode:"M06",days:29},"Adar I":{leap:6,regular:void 0,monthCode:"M05L",days:30},"Adar II":{leap:7,regular:void 0,monthCode:"M06",days:29},Nisan:{leap:8,regular:7,monthCode:"M07",days:30},Iyar:{leap:9,regular:8,monthCode:"M08",days:29},Sivan:{leap:10,regular:9,monthCode:"M09",days:30},Tamuz:{leap:11,regular:10,monthCode:"M10",days:29},Av:{leap:12,regular:11,monthCode:"M11",days:30},Elul:{leap:13,regular:12,monthCode:"M12",days:29}},this.hasEra=!1}inLeapYear(e){const{year:t}=e;return(7*t+1)%19<7}monthsInYear(e){return this.inLeapYear(e)?13:12}minimumMonthLength(e){return this.minMaxMonthLength(e,"min")}maximumMonthLength(e){return this.minMaxMonthLength(e,"max")}minMaxMonthLength(e,t){const{month:r,year:a}=e,s=this.getMonthCode(a,r),u=o0(this.months).find(f=>f[1].monthCode===s);if(u===void 0)throw new RangeError(`unmatched Hebrew month: ${r}`);const c=u[1].days;return typeof c=="number"?c:c[t]}estimateIsoDate(e){const{year:t}=e;return{year:t-3760,month:1,day:1}}getMonthCode(e,t){return this.inLeapYear({year:e})?t===6?No(5,!0):No(t<6?t:t-1):No(t)}adjustCalendarDate(e,t,r="constrain",a=!1){let{year:s,eraYear:u,month:c,monthCode:f,day:d,monthExtra:g}=e;if(s===void 0&&u!==void 0&&(s=u),u===void 0&&s!==void 0&&(u=s),a){if(g){const v=this.months[g];if(!v)throw new RangeError(`Unrecognized month from formatToParts: ${g}`);c=this.inLeapYear({year:s})?v.leap:v.regular}return f=this.getMonthCode(s,c),{year:s,month:c,day:d,era:void 0,eraYear:u,monthCode:f}}if(this.validateCalendarDate(e),c===void 0)if(f.endsWith("L")){if(f!=="M05L")throw new RangeError(`Hebrew leap month must have monthCode M05L, not ${f}`);if(c=6,!this.inLeapYear({year:s})){if(r==="reject")throw new RangeError(`Hebrew monthCode M05L is invalid in year ${s} which is not a leap year`);c=6,f="M06"}}else{c=p_(f),this.inLeapYear({year:s})&&c>=6&&c++;const v=this.monthsInYear({year:s});if(c<1||c>v)throw new RangeError(`Invalid monthCode: ${f}`)}else if(r==="reject"?(Zn(c,1,this.monthsInYear({year:s})),Zn(d,1,this.maximumMonthLength({year:s,month:c}))):(c=Wr(c,1,this.monthsInYear({year:s})),d=Wr(d,1,this.maximumMonthLength({year:s,month:c}))),f===void 0)f=this.getMonthCode(s,c);else if(this.getMonthCode(s,c)!==f)throw new RangeError(`monthCode ${f} doesn't correspond to month ${c} in Hebrew year ${s}`);return{...e,day:d,month:c,monthCode:f,year:s,eraYear:u}}}class Fc extends $c{constructor(){super(...arguments),this.calendarType="lunar",this.DAYS_PER_ISLAMIC_YEAR=354+11/30,this.DAYS_PER_ISO_YEAR=365.2425,this.constantEra="ah"}inLeapYear(e,t){return this.daysInMonth({year:e.year,month:12,day:1},t)===30}monthsInYear(){return 12}minimumMonthLength(){return 29}maximumMonthLength(){return 30}estimateIsoDate(e){const{year:t}=this.adjustCalendarDate(e);return{year:Vx(t*this.DAYS_PER_ISLAMIC_YEAR/this.DAYS_PER_ISO_YEAR)+622,month:1,day:1}}}class QS extends Fc{constructor(){super(...arguments),this.id="islamic"}}class zx extends Fc{constructor(){super(...arguments),this.id="islamic-umalqura"}}class jx extends Fc{constructor(){super(...arguments),this.id="islamic-tbla"}}class Bx extends Fc{constructor(){super(...arguments),this.id="islamic-civil"}}class $x extends Fc{constructor(){super(...arguments),this.id="islamic-rgsa"}}class Fx extends Fc{constructor(){super(...arguments),this.id="islamicc"}}class qx extends $c{constructor(){super(...arguments),this.id="persian",this.calendarType="solar",this.constantEra="ap"}inLeapYear(e,t){return QS.prototype.inLeapYear.call(this,e,t)}monthsInYear(){return 12}minimumMonthLength(e){const{month:t}=e;return t===12?29:t<=6?31:30}maximumMonthLength(e){const{month:t}=e;return t===12?30:t<=6?31:30}estimateIsoDate(e){const{year:t}=this.adjustCalendarDate(e);return{year:t+621,month:1,day:1}}}class Hx extends $c{constructor(){super(...arguments),this.id="indian",this.calendarType="solar",this.constantEra="saka",this.months={1:{length:30,month:3,day:22,leap:{length:31,month:3,day:21}},2:{length:31,month:4,day:21},3:{length:31,month:5,day:22},4:{length:31,month:6,day:22},5:{length:31,month:7,day:23},6:{length:31,month:8,day:23},7:{length:30,month:9,day:23},8:{length:30,month:10,day:23},9:{length:30,month:11,day:22},10:{length:30,month:12,day:22},11:{length:30,month:1,nextYear:!0,day:21},12:{length:30,month:2,nextYear:!0,day:20}},this.vulnerableToBceBug=new Date("0000-01-01T00:00Z").toLocaleDateString("en-US-u-ca-indian",{timeZone:"UTC"})!=="10/11/-79 Saka"}inLeapYear(e){return ZS(e.year+78)}monthsInYear(){return 12}minimumMonthLength(e){return this.getMonthInfo(e).length}maximumMonthLength(e){return this.getMonthInfo(e).length}getMonthInfo(e){const{month:t}=e;let r=this.months[t];if(r===void 0)throw new RangeError(`Invalid month: ${t}`);return this.inLeapYear(e)&&r.leap&&(r=r.leap),r}estimateIsoDate(e){const t=this.adjustCalendarDate(e),r=this.getMonthInfo(t);return Fl(t.year+78+(r.nextYear?1:0),r.month,r.day,0,0,0,t.day-1,"constrain")}checkIcuBugs(e){if(this.vulnerableToBceBug&&e.year<1)throw new RangeError(`calendar '${this.id}' is broken for ISO dates before 0001-01-01 (see https://bugs.chromium.org/p/v8/issues/detail?id=10529)`)}}function ZS(n){return n%4==0&&(n%100!=0||n%400==0)}class Qf extends $c{constructor(e,t){super(),this.calendarType="solar",this.v8IsVulnerableToJulianBug=new Date("+001001-01-01T00:00Z").toLocaleDateString("en-US-u-ca-japanese",{timeZone:"UTC"}).startsWith("12"),this.calendarIsVulnerableToJulianBug=!1,this.id=e;const{eras:r,anchorEra:a}=function(u){let c,f=u;if(f.length===0)throw new RangeError("Invalid era data: eras are required");if(f.length===1&&f[0].reverseOf)throw new RangeError("Invalid era data: anchor era cannot count years backwards");if(f.length===1&&!f[0].name)throw new RangeError("Invalid era data: at least one named era is required");if(f.filter(g=>g.reverseOf!=null).length>1)throw new RangeError("Invalid era data: only one era can count years backwards");f.forEach(g=>{if(g.isAnchor||!g.anchorEpoch&&!g.reverseOf){if(c)throw new RangeError("Invalid era data: cannot have multiple anchor eras");c=g,g.anchorEpoch={year:g.hasYearZero?0:1}}else if(!g.name)throw new RangeError("If era name is blank, it must be the anchor era")}),f=f.filter(g=>g.name),f.forEach(g=>{const{reverseOf:v}=g;if(v){const w=f.find(b=>b.name===v);if(w===void 0)throw new RangeError(`Invalid era data: unmatched reverseOf era: ${v}`);g.reverseOf=w,g.anchorEpoch=w.anchorEpoch,g.isoEpoch=w.isoEpoch}g.anchorEpoch.month===void 0&&(g.anchorEpoch.month=1),g.anchorEpoch.day===void 0&&(g.anchorEpoch.day=1)}),Px.call(f,(g,v)=>{if(g.reverseOf)return 1;if(v.reverseOf)return-1;if(!g.isoEpoch||!v.isoEpoch)throw new RangeError("Invalid era data: missing ISO epoch");return v.isoEpoch.year-g.isoEpoch.year});const d=f[f.length-1].reverseOf;if(d&&d!==f[f.length-2])throw new RangeError("Invalid era data: invalid reverse-sign era");return f.forEach((g,v)=>{g.genericName="era"+(f.length-1-v)}),{eras:f,anchorEra:c||f[0]}}(t);this.anchorEra=a,this.eras=r}inLeapYear(e){const{year:t}=this.estimateIsoDate({month:1,day:1,year:e.year});return ZS(t)}monthsInYear(){return 12}minimumMonthLength(e){const{month:t}=e;return t===2?this.inLeapYear(e)?29:28:[4,6,9,11].indexOf(t)>=0?30:31}maximumMonthLength(e){return this.minimumMonthLength(e)}completeEraYear(e){const t=(c,f)=>{const d=e[c];if(d!=null&&d!=f)throw new RangeError(`Input ${c} ${d} doesn't match calculated value ${f}`)},r=c=>{let f;const d={...e,year:c},g=this.eras.find((v,w)=>{if(w===this.eras.length-1){if(v.reverseOf){if(c>0)throw new RangeError(`Signed year ${c} is invalid for era ${v.name}`);return f=v.anchorEpoch.year-c,!0}return f=c-v.anchorEpoch.year+(v.hasYearZero?0:1),!0}return this.compareCalendarDates(d,v.anchorEpoch)>=0&&(f=c-v.anchorEpoch.year+(v.hasYearZero?0:1),!0)});if(!g)throw new RangeError(`Year ${c} was not matched by any era`);return{eraYear:f,era:g.name}};let{year:a,eraYear:s,era:u}=e;if(a!=null)({eraYear:s,era:u}=r(a)),t("era",u),t("eraYear",s);else{if(s==null)throw new RangeError("Either `year` or `eraYear` and `era` are required");{const c=u===void 0?void 0:this.eras.find(f=>f.name===u||f.genericName===u);if(!c)throw new RangeError(`Era ${u} (ISO year ${s}) was not matched by any era`);if(s<1&&c.reverseOf)throw new RangeError(`Years in ${u} era must be positive, not ${a}`);a=c.reverseOf?c.anchorEpoch.year-s:s+c.anchorEpoch.year-(c.hasYearZero?0:1),t("year",a),{eraYear:s,era:u}=r(a)}}return{...e,year:a,eraYear:s,era:u}}adjustCalendarDate(e,t,r="constrain"){let a=e;const{month:s,monthCode:u}=a;return s===void 0&&(a={...a,month:p_(u)}),this.validateCalendarDate(a),a=this.completeEraYear(a),super.adjustCalendarDate(a,t,r)}estimateIsoDate(e){const t=this.adjustCalendarDate(e),{year:r,month:a,day:s}=t,{anchorEra:u}=this;return rp(r+u.isoEpoch.year-(u.hasYearZero?0:1),a,s,"constrain")}checkIcuBugs(e){if(this.calendarIsVulnerableToJulianBug&&this.v8IsVulnerableToJulianBug&&Ds(e.year,e.month,e.day,1582,10,15)<0)throw new RangeError(`calendar '${this.id}' is broken for ISO dates before 1582-10-15 (see https://bugs.chromium.org/p/chromium/issues/detail?id=1173158)`)}}class g_ extends Qf{constructor(e,t){super(e,t)}inLeapYear(e){const{year:t}=e;return(t+1)%4==0}monthsInYear(){return 13}minimumMonthLength(e){const{month:t}=e;return t===13?this.inLeapYear(e)?6:5:30}maximumMonthLength(e){return this.minimumMonthLength(e)}}class Yx extends g_{constructor(){super("ethioaa",[{name:"era0",isoEpoch:{year:-5492,month:7,day:17}}])}}class Gx extends g_{constructor(){super("coptic",[{name:"era1",isoEpoch:{year:284,month:8,day:29}},{name:"era0",reverseOf:"era1"}])}}class Kx extends g_{constructor(){super("ethiopic",[{name:"era0",isoEpoch:{year:-5492,month:7,day:17}},{name:"era1",isoEpoch:{year:8,month:8,day:27},anchorEpoch:{year:5501}}])}}class Qx extends Qf{constructor(){super("roc",[{name:"minguo",isoEpoch:{year:1912,month:1,day:1}},{name:"before-roc",reverseOf:"minguo"}]),this.calendarIsVulnerableToJulianBug=!0}}class Zx extends Qf{constructor(){super("buddhist",[{name:"be",hasYearZero:!0,isoEpoch:{year:-543,month:1,day:1}}]),this.calendarIsVulnerableToJulianBug=!0}}class Xx extends Qf{constructor(){super("gregory",[{name:"ce",isoEpoch:{year:1,month:1,day:1}},{name:"bce",reverseOf:"ce"}])}reviseIntlEra(e){let{era:t,eraYear:r}=e;return t!=="bc"&&t!=="b"||(t="bce"),t!=="ad"&&t!=="a"||(t="ce"),{era:t,eraYear:r}}}class Wx extends Qf{constructor(){super("japanese",[{name:"reiwa",isoEpoch:{year:2019,month:5,day:1},anchorEpoch:{year:2019,month:5,day:1}},{name:"heisei",isoEpoch:{year:1989,month:1,day:8},anchorEpoch:{year:1989,month:1,day:8}},{name:"showa",isoEpoch:{year:1926,month:12,day:25},anchorEpoch:{year:1926,month:12,day:25}},{name:"taisho",isoEpoch:{year:1912,month:7,day:30},anchorEpoch:{year:1912,month:7,day:30}},{name:"meiji",isoEpoch:{year:1868,month:9,day:8},anchorEpoch:{year:1868,month:9,day:8}},{name:"ce",isoEpoch:{year:1,month:1,day:1}},{name:"bce",reverseOf:"ce"}]),this.calendarIsVulnerableToJulianBug=!0,this.eraLength="long",this.erasBeginMidYear=!0}reviseIntlEra(e,t){const{era:r,eraYear:a}=e,{year:s}=t;return this.eras.find(u=>u.name===r)?{era:r,eraYear:a}:s<1?{era:"bce",eraYear:1-s}:{era:"ce",eraYear:s}}}class XS extends $c{constructor(){super(...arguments),this.calendarType="lunisolar",this.hasEra=!1}inLeapYear(e,t){const r=this.getMonthList(e.year,t);return o0(r).length===13}monthsInYear(e,t){return this.inLeapYear(e,t)?13:12}minimumMonthLength(){return 29}maximumMonthLength(){return 30}getMonthList(e,t){if(e===void 0)throw new TypeError("Missing year");const r=JSON.stringify({func:"getMonthList",calendarYear:e,id:this.id}),a=t.get(r);if(a)return a;const s=this.getFormatter(),u=(D,M)=>{const x=KS({isoYear:D,isoMonth:2,isoDay:1}),P=new Date(x);P.setUTCDate(M+1);const $=s.formatToParts(P),V=$.find(I=>I.type==="month").value,Y=+$.find(I=>I.type==="day").value;let N=$.find(I=>I.type==="relatedYear");if(N===void 0)throw new RangeError(`Intl.DateTimeFormat.formatToParts lacks relatedYear in ${this.id} calendar. Try Node 14+ or modern browsers.`);return N=+N.value,{calendarMonthString:V,calendarDay:Y,calendarYearToVerify:N}};let c=17,{calendarMonthString:f,calendarDay:d,calendarYearToVerify:g}=u(e,c);f!=="1"&&(c+=29,{calendarMonthString:f,calendarDay:d}=u(e,c)),c-=d-5;const v={};let w,b,R=1,C=!1;do({calendarMonthString:f,calendarDay:d,calendarYearToVerify:g}=u(e,c)),w&&(v[b].daysInMonth=w+30-d),g!==e?C=!0:(v[f]={monthIndex:R++},c+=30),w=d,b=f;while(!C);return v[b].daysInMonth=w+30-d,t.set(r,v),v}estimateIsoDate(e){const{year:t,month:r}=e;return{year:t,month:r>=12?12:r+1,day:1}}adjustCalendarDate(e,t,r="constrain",a=!1){let{year:s,month:u,monthExtra:c,day:f,monthCode:d,eraYear:g}=e;if(a){if(s=g,c&&c!=="bis")throw new RangeError(`Unexpected leap month suffix: ${c}`);const v=No(u,c!==void 0),w=`${u}${c||""}`,b=this.getMonthList(s,t)[w];if(b===void 0)throw new RangeError(`Unmatched month ${w} in Chinese year ${s}`);return u=b.monthIndex,{year:s,month:u,day:f,era:void 0,eraYear:g,monthCode:v}}if(this.validateCalendarDate(e),s===void 0&&(s=g),g===void 0&&(g=s),u===void 0){const v=this.getMonthList(s,t);let w=d.replace("L","bis").slice(1);w[0]==="0"&&(w=w.slice(1));let b=v[w];if(u=b&&b.monthIndex,u===void 0&&d.endsWith("L")&&d!="M13L"&&r==="constrain"){let R=d.slice(1,-1);R[0]==="0"&&(R=R.slice(1)),b=v[R],b&&(u=b.monthIndex,d=No(R))}if(u===void 0)throw new RangeError(`Unmatched month ${d} in Chinese year ${s}`)}else if(d===void 0){const v=this.getMonthList(s,t),w=o0(v),b=w.length;r==="reject"?(Zn(u,1,b),Zn(f,1,this.maximumMonthLength())):(u=Wr(u,1,b),f=Wr(f,1,this.maximumMonthLength()));const R=w.find(([,C])=>C.monthIndex===u);if(R===void 0)throw new RangeError(`Invalid month ${u} in Chinese year ${s}`);d=No(R[0].replace("bis",""),R[0].indexOf("bis")!==-1)}else{const v=this.getMonthList(s,t);let w=d.replace("L","bis").slice(1);w[0]==="0"&&(w=w.slice(1));const b=v[w];if(!b)throw new RangeError(`Unmatched monthCode ${d} in Chinese year ${s}`);if(u!==b.monthIndex)throw new RangeError(`monthCode ${d} doesn't correspond to month ${u} in Chinese year ${s}`)}return{...e,year:s,eraYear:g,month:u,monthCode:d,day:f}}}class Jx extends XS{constructor(){super(...arguments),this.id="chinese"}}class ek extends XS{constructor(){super(...arguments),this.id="dangi"}}class tk{constructor(e){this.helper=e}dateFromFields(e,t,r){const a=new rn,s=it(e,this.fields(["day","month","monthCode","year"]),[]),u=yn(t),{year:c,month:f,day:d}=this.helper.calendarToIsoDate(s,u,a),g=Ci(c,f,d,r);return a.setObject(g),g}yearMonthFromFields(e,t,r){const a=new rn,s=it(e,this.fields(["month","monthCode","year"]),[]),u=yn(t),{year:c,month:f,day:d}=this.helper.calendarToIsoDate({...s,day:1},u,a),g=wf(c,f,r,d);return a.setObject(g),g}monthDayFromFields(e,t,r){const a=new rn,s=it(e,this.fields(["day","month","monthCode","year"]),[]),u=yn(t),{year:c,month:f,day:d}=this.helper.monthDayFromFields(s,u,a),g=Tf(f,d,r,c);return a.setObject(g),g}fields(e){let t=e;return HS.call(t,"year")&&(t=[...t,"era","eraYear"]),t}fieldKeysToIgnore(e){const t=new YS;for(let r=0;r<e.length;r++){const a=e[r];switch(De(cr,t,[a]),a){case"era":De(cr,t,["eraYear"]),De(cr,t,["year"]);break;case"eraYear":De(cr,t,["era"]),De(cr,t,["year"]);break;case"year":De(cr,t,["era"]),De(cr,t,["eraYear"]);break;case"month":De(cr,t,["monthCode"]),this.helper.erasBeginMidYear&&(De(cr,t,["era"]),De(cr,t,["eraYear"]));break;case"monthCode":De(cr,t,["month"]),this.helper.erasBeginMidYear&&(De(cr,t,["era"]),De(cr,t,["eraYear"]));break;case"day":this.helper.erasBeginMidYear&&(De(cr,t,["era"]),De(cr,t,["eraYear"]))}}return[...De(GS,t,[])]}dateAdd(e,t,r,a,s,u,c){const f=rn.getCacheForObject(e),d=this.helper.temporalToCalendarDate(e,f),g=this.helper.addCalendar(d,{years:t,months:r,weeks:a,days:s},u,f),v=this.helper.calendarToIsoDate(g,"constrain",f),{year:w,month:b,day:R}=v,C=Ci(w,b,R,c);return new rn(f).setObject(C),C}dateUntil(e,t,r){const a=rn.getCacheForObject(e),s=rn.getCacheForObject(t),u=this.helper.temporalToCalendarDate(e,a),c=this.helper.temporalToCalendarDate(t,s);return this.helper.untilCalendar(u,c,r,a)}year(e){const t=rn.getCacheForObject(e);return this.helper.temporalToCalendarDate(e,t).year}month(e){const t=rn.getCacheForObject(e);return this.helper.temporalToCalendarDate(e,t).month}day(e){const t=rn.getCacheForObject(e);return this.helper.temporalToCalendarDate(e,t).day}era(e){if(!this.helper.hasEra)return;const t=rn.getCacheForObject(e);return this.helper.temporalToCalendarDate(e,t).era}eraYear(e){if(!this.helper.hasEra)return;const t=rn.getCacheForObject(e);return this.helper.temporalToCalendarDate(e,t).eraYear}monthCode(e){const t=rn.getCacheForObject(e);return this.helper.temporalToCalendarDate(e,t).monthCode}dayOfWeek(e){return Xt.iso8601.dayOfWeek(e)}dayOfYear(e){const t=rn.getCacheForObject(e),r=this.helper.isoToCalendarDate(e,t),a=this.helper.startOfCalendarYear(r);return this.helper.calendarDaysUntil(a,r,t)+1}weekOfYear(e){return Xt.iso8601.weekOfYear(e)}yearOfWeek(e){return Xt.iso8601.yearOfWeek(e)}daysInWeek(e){return Xt.iso8601.daysInWeek(e)}daysInMonth(e){const t=rn.getCacheForObject(e),r=this.helper.temporalToCalendarDate(e,t),a=this.helper.maximumMonthLength(r);if(a===this.helper.minimumMonthLength(r))return a;const s=this.helper.startOfCalendarMonth(r),u=this.helper.addMonthsCalendar(s,1,"constrain",t);return this.helper.calendarDaysUntil(s,u,t)}daysInYear(e){let t=e;Ln(t,we)||(t=xt(t));const r=rn.getCacheForObject(t),a=this.helper.temporalToCalendarDate(t,r),s=this.helper.startOfCalendarYear(a),u=this.helper.addCalendar(s,{years:1},"constrain",r);return this.helper.calendarDaysUntil(s,u,r)}monthsInYear(e){const t=rn.getCacheForObject(e),r=this.helper.temporalToCalendarDate(e,t);return this.helper.monthsInYear(r,t)}inLeapYear(e){let t=e;Ln(t,we)||(t=xt(t));const r=rn.getCacheForObject(t),a=this.helper.temporalToCalendarDate(t,r);return this.helper.inLeapYear(a,r)}}for(const n of[Ux,qx,Kx,Yx,Gx,Jx,ek,Qx,Hx,Zx,Xx,Wx,QS,zx,jx,Bx,$x,Fx]){const e=new n;Xt[e.id]=new tk(e)}class Zf{constructor(e,t,r,a="iso8601"){uS(this,gt(e),gt(t),gt(r),ni(a))}get calendarId(){if(!st(this))throw new TypeError("invalid receiver");return Xn(y(this,W))}get era(){if(!st(this))throw new TypeError("invalid receiver");return Fp(y(this,W),this)}get eraYear(){if(!st(this))throw new TypeError("invalid receiver");return qp(y(this,W),this)}get year(){if(!st(this))throw new TypeError("invalid receiver");return Bp(y(this,W),this)}get month(){if(!st(this))throw new TypeError("invalid receiver");return $p(y(this,W),this)}get monthCode(){if(!st(this))throw new TypeError("invalid receiver");return qf(y(this,W),this)}get day(){if(!st(this))throw new TypeError("invalid receiver");return Hf(y(this,W),this)}get dayOfWeek(){if(!st(this))throw new TypeError("invalid receiver");return X0(y(this,W),this)}get dayOfYear(){if(!st(this))throw new TypeError("invalid receiver");return W0(y(this,W),this)}get weekOfYear(){if(!st(this))throw new TypeError("invalid receiver");return J0(y(this,W),this)}get yearOfWeek(){if(!st(this))throw new TypeError("invalid receiver");return e_(y(this,W),this)}get daysInWeek(){if(!st(this))throw new TypeError("invalid receiver");return t_(y(this,W),this)}get daysInMonth(){if(!st(this))throw new TypeError("invalid receiver");return Hp(y(this,W),this)}get daysInYear(){if(!st(this))throw new TypeError("invalid receiver");return Yp(y(this,W),this)}get monthsInYear(){if(!st(this))throw new TypeError("invalid receiver");return Gp(y(this,W),this)}get inLeapYear(){if(!st(this))throw new TypeError("invalid receiver");return Kp(y(this,W),this)}with(e,t){if(!st(this))throw new TypeError("invalid receiver");if(!Kt(e))throw new TypeError("invalid argument");Vc(e);const r=ut(t),a=y(this,W),s=En(a,["day","month","monthCode","year"]);let u=it(this,s,[]);return u=Zl(a,u,it(e,s,"partial")),u=it(u,s,[]),ko(a,u,r)}withCalendar(e){if(!st(this))throw new TypeError("invalid receiver");const t=ni(e);return new Zf(y(this,we),y(this,Ee),y(this,Re),t)}add(e,t){if(!st(this))throw new TypeError("invalid receiver");const r=lc(e),a=ut(t);return Qn(y(this,W),this,r,a)}subtract(e,t){if(!st(this))throw new TypeError("invalid receiver");const r=RS(lc(e)),a=ut(t);return Qn(y(this,W),this,r,a)}until(e,t){if(!st(this))throw new TypeError("invalid receiver");return C1("until",this,e,t)}since(e,t){if(!st(this))throw new TypeError("invalid receiver");return C1("since",this,e,t)}equals(e){if(!st(this))throw new TypeError("invalid receiver");const t=xt(e);for(const r of[we,Ee,Re])if(y(this,r)!==y(t,r))return!1;return Gf(y(this,W),y(t,W))}toString(e){if(!st(this))throw new TypeError("invalid receiver");return v1(this,jf(ut(e)))}toJSON(){if(!st(this))throw new TypeError("invalid receiver");return v1(this)}toLocaleString(e,t){if(!st(this))throw new TypeError("invalid receiver");return new Js(e,t).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainDate")}toPlainDateTime(e){if(!st(this))throw new TypeError("invalid receiver");const t=y(this,we),r=y(this,Ee),a=y(this,Re),s=y(this,W);if(e===void 0)return Xr(t,r,a,0,0,0,0,0,0,s);const u=So(e);return Xr(t,r,a,y(u,Qe),y(u,Ze),y(u,Xe),y(u,We),y(u,Je),y(u,et),s)}toZonedDateTime(e){if(!st(this))throw new TypeError("invalid receiver");let t,r;if(Kt(e))if(wi(e))t=e;else{const R=e.timeZone;R===void 0?t=mr(e):(t=mr(R),r=e.plainTime)}else t=mr(e);const a=y(this,we),s=y(this,Ee),u=y(this,Re),c=y(this,W);let f=0,d=0,g=0,v=0,w=0,b=0;return r!==void 0&&(r=So(r),f=y(r,Qe),d=y(r,Ze),g=y(r,Xe),v=y(r,We),w=y(r,Je),b=y(r,et)),Kn(y(Mr(t,Xr(a,s,u,f,d,g,v,w,b,c),"compatible"),Ue),t,c)}toPlainYearMonth(){if(!st(this))throw new TypeError("invalid receiver");const e=y(this,W);return Xl(e,it(this,En(e,["monthCode","year"]),[]))}toPlainMonthDay(){if(!st(this))throw new TypeError("invalid receiver");const e=y(this,W);return wc(e,it(this,En(e,["day","monthCode"]),[]))}getISOFields(){if(!st(this))throw new TypeError("invalid receiver");return{calendar:y(this,W),isoDay:y(this,Re),isoMonth:y(this,Ee),isoYear:y(this,we)}}getCalendar(){if(!st(this))throw new TypeError("invalid receiver");return jc(y(this,W))}static from(e,t){const r=ut(t);return st(e)?(yn(r),Ci(y(e,we),y(e,Ee),y(e,Re),y(e,W))):xt(e,r)}static compare(e,t){const r=xt(e),a=xt(t);return Ds(y(r,we),y(r,Ee),y(r,Re),y(a,we),y(a,Ee),y(a,Re))}}Qa(Zf,"Temporal.PlainDate");class Xf{constructor(e,t,r,a=0,s=0,u=0,c=0,f=0,d=0,g="iso8601"){cS(this,gt(e),gt(t),gt(r),a===void 0?0:gt(a),s===void 0?0:gt(s),u===void 0?0:gt(u),c===void 0?0:gt(c),f===void 0?0:gt(f),d===void 0?0:gt(d),ni(g))}get calendarId(){if(!Ge(this))throw new TypeError("invalid receiver");return Xn(y(this,W))}get year(){if(!Ge(this))throw new TypeError("invalid receiver");return Bp(y(this,W),this)}get month(){if(!Ge(this))throw new TypeError("invalid receiver");return $p(y(this,W),this)}get monthCode(){if(!Ge(this))throw new TypeError("invalid receiver");return qf(y(this,W),this)}get day(){if(!Ge(this))throw new TypeError("invalid receiver");return Hf(y(this,W),this)}get hour(){if(!Ge(this))throw new TypeError("invalid receiver");return y(this,Qe)}get minute(){if(!Ge(this))throw new TypeError("invalid receiver");return y(this,Ze)}get second(){if(!Ge(this))throw new TypeError("invalid receiver");return y(this,Xe)}get millisecond(){if(!Ge(this))throw new TypeError("invalid receiver");return y(this,We)}get microsecond(){if(!Ge(this))throw new TypeError("invalid receiver");return y(this,Je)}get nanosecond(){if(!Ge(this))throw new TypeError("invalid receiver");return y(this,et)}get era(){if(!Ge(this))throw new TypeError("invalid receiver");return Fp(y(this,W),this)}get eraYear(){if(!Ge(this))throw new TypeError("invalid receiver");return qp(y(this,W),this)}get dayOfWeek(){if(!Ge(this))throw new TypeError("invalid receiver");return X0(y(this,W),this)}get dayOfYear(){if(!Ge(this))throw new TypeError("invalid receiver");return W0(y(this,W),this)}get weekOfYear(){if(!Ge(this))throw new TypeError("invalid receiver");return J0(y(this,W),this)}get yearOfWeek(){if(!Ge(this))throw new TypeError("invalid receiver");return e_(y(this,W),this)}get daysInWeek(){if(!Ge(this))throw new TypeError("invalid receiver");return t_(y(this,W),this)}get daysInYear(){if(!Ge(this))throw new TypeError("invalid receiver");return Yp(y(this,W),this)}get daysInMonth(){if(!Ge(this))throw new TypeError("invalid receiver");return Hp(y(this,W),this)}get monthsInYear(){if(!Ge(this))throw new TypeError("invalid receiver");return Gp(y(this,W),this)}get inLeapYear(){if(!Ge(this))throw new TypeError("invalid receiver");return Kp(y(this,W),this)}with(e,t){if(!Ge(this))throw new TypeError("invalid receiver");if(!Kt(e))throw new TypeError("invalid argument");Vc(e);const r=ut(t),a=y(this,W),s=En(a,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]);let u=it(this,s,[]);u=Zl(a,u,it(e,s,"partial")),u=it(u,s,[]);const{year:c,month:f,day:d,hour:g,minute:v,second:w,millisecond:b,microsecond:R,nanosecond:C}=Ff(a,u,r);return Xr(c,f,d,g,v,w,b,R,C,a)}withPlainTime(e){if(!Ge(this))throw new TypeError("invalid receiver");const t=y(this,we),r=y(this,Ee),a=y(this,Re),s=y(this,W);if(e===void 0)return Xr(t,r,a,0,0,0,0,0,0,s);const u=So(e);return Xr(t,r,a,y(u,Qe),y(u,Ze),y(u,Xe),y(u,We),y(u,Je),y(u,et),s)}withPlainDate(e){if(!Ge(this))throw new TypeError("invalid receiver");const t=xt(e),r=y(t,we),a=y(t,Ee),s=y(t,Re);let u=y(t,W);const c=y(this,Qe),f=y(this,Ze),d=y(this,Xe),g=y(this,We),v=y(this,Je),w=y(this,et);return u=mS(y(this,W),u),Xr(r,a,s,c,f,d,g,v,w,u)}withCalendar(e){if(!Ge(this))throw new TypeError("invalid receiver");const t=ni(e);return new Xf(y(this,we),y(this,Ee),y(this,Re),y(this,Qe),y(this,Ze),y(this,Xe),y(this,We),y(this,Je),y(this,et),t)}add(e,t){if(!Ge(this))throw new TypeError("invalid receiver");return k1("add",this,e,t)}subtract(e,t){if(!Ge(this))throw new TypeError("invalid receiver");return k1("subtract",this,e,t)}until(e,t){if(!Ge(this))throw new TypeError("invalid receiver");return D1("until",this,e,t)}since(e,t){if(!Ge(this))throw new TypeError("invalid receiver");return D1("since",this,e,t)}round(e){if(!Ge(this))throw new TypeError("invalid receiver");if(e===void 0)throw new TypeError("options parameter is required");const t=typeof e=="string"?Rc("smallestUnit",e):ut(e),r=Uc(t),a=ua(t,"halfExpand"),s=ti(t,"smallestUnit","time",Kl,["day"]),u={day:1,hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[s];zc(r,u,u===1);let c=y(this,we),f=y(this,Ee),d=y(this,Re),g=y(this,Qe),v=y(this,Ze),w=y(this,Xe),b=y(this,We),R=y(this,Je),C=y(this,et);return{year:c,month:f,day:d,hour:g,minute:v,second:w,millisecond:b,microsecond:R,nanosecond:C}=c_(c,f,d,g,v,w,b,R,C,r,s,a),Xr(c,f,d,g,v,w,b,R,C,y(this,W))}equals(e){if(!Ge(this))throw new TypeError("invalid receiver");const t=jl(e);for(const r of[we,Ee,Re,Qe,Ze,Xe,We,Je,et])if(y(this,r)!==y(t,r))return!1;return Gf(y(this,W),y(t,W))}toString(e){if(!Ge(this))throw new TypeError("invalid receiver");const t=ut(e),r=jf(t),a=Bf(t),s=ua(t,"trunc"),u=ti(t,"smallestUnit","time",void 0);if(u==="hour")throw new RangeError('smallestUnit must be a time unit other than "hour"');const{precision:c,unit:f,increment:d}=$f(u,a);return _1(this,c,r,{unit:f,increment:d,roundingMode:s})}toJSON(){if(!Ge(this))throw new TypeError("invalid receiver");return _1(this,"auto")}toLocaleString(e,t){if(!Ge(this))throw new TypeError("invalid receiver");return new Js(e,t).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainDateTime")}toZonedDateTime(e,t){if(!Ge(this))throw new TypeError("invalid receiver");const r=mr(e);return Kn(y(Mr(r,this,Tc(ut(t))),Ue),r,y(this,W))}toPlainDate(){if(!Ge(this))throw new TypeError("invalid receiver");return Ec(this)}toPlainYearMonth(){if(!Ge(this))throw new TypeError("invalid receiver");const e=y(this,W);return Xl(e,it(this,En(e,["monthCode","year"]),[]))}toPlainMonthDay(){if(!Ge(this))throw new TypeError("invalid receiver");const e=y(this,W);return wc(e,it(this,En(e,["day","monthCode"]),[]))}toPlainTime(){if(!Ge(this))throw new TypeError("invalid receiver");return n_(this)}getISOFields(){if(!Ge(this))throw new TypeError("invalid receiver");return{calendar:y(this,W),isoDay:y(this,Re),isoHour:y(this,Qe),isoMicrosecond:y(this,Je),isoMillisecond:y(this,We),isoMinute:y(this,Ze),isoMonth:y(this,Ee),isoNanosecond:y(this,et),isoSecond:y(this,Xe),isoYear:y(this,we)}}getCalendar(){if(!Ge(this))throw new TypeError("invalid receiver");return jc(y(this,W))}static from(e,t){const r=ut(t);return Ge(e)?(yn(r),Xr(y(e,we),y(e,Ee),y(e,Re),y(e,Qe),y(e,Ze),y(e,Xe),y(e,We),y(e,Je),y(e,et),y(e,W))):jl(e,r)}static compare(e,t){const r=jl(e),a=jl(t);for(const s of[we,Ee,Re,Qe,Ze,Xe,We,Je,et]){const u=y(r,s),c=y(a,s);if(u!==c)return ql(u-c)}return 0}}Qa(Xf,"Temporal.PlainDateTime");class Is{constructor(e=0,t=0,r=0,a=0,s=0,u=0,c=0,f=0,d=0,g=0){const v=e===void 0?0:kn(e),w=t===void 0?0:kn(t),b=r===void 0?0:kn(r),R=a===void 0?0:kn(a),C=s===void 0?0:kn(s),D=u===void 0?0:kn(u),M=c===void 0?0:kn(c),x=f===void 0?0:kn(f),P=d===void 0?0:kn(d),$=g===void 0?0:kn(g);up(v,w,b,R,C,D,M,x,P,$),Za(this),tt(this,wr,v),tt(this,$n,w),tt(this,zr,b),tt(this,Er,R),tt(this,br,C),tt(this,Rr,D),tt(this,Ar,M),tt(this,Sr,x),tt(this,Cr,P),tt(this,Dr,$)}get years(){if(!cn(this))throw new TypeError("invalid receiver");return y(this,wr)}get months(){if(!cn(this))throw new TypeError("invalid receiver");return y(this,$n)}get weeks(){if(!cn(this))throw new TypeError("invalid receiver");return y(this,zr)}get days(){if(!cn(this))throw new TypeError("invalid receiver");return y(this,Er)}get hours(){if(!cn(this))throw new TypeError("invalid receiver");return y(this,br)}get minutes(){if(!cn(this))throw new TypeError("invalid receiver");return y(this,Rr)}get seconds(){if(!cn(this))throw new TypeError("invalid receiver");return y(this,Ar)}get milliseconds(){if(!cn(this))throw new TypeError("invalid receiver");return y(this,Sr)}get microseconds(){if(!cn(this))throw new TypeError("invalid receiver");return y(this,Cr)}get nanoseconds(){if(!cn(this))throw new TypeError("invalid receiver");return y(this,Dr)}get sign(){if(!cn(this))throw new TypeError("invalid receiver");return za(y(this,wr),y(this,$n),y(this,zr),y(this,Er),y(this,br),y(this,Rr),y(this,Ar),y(this,Sr),y(this,Cr),y(this,Dr))}get blank(){if(!cn(this))throw new TypeError("invalid receiver");return za(y(this,wr),y(this,$n),y(this,zr),y(this,Er),y(this,br),y(this,Rr),y(this,Ar),y(this,Sr),y(this,Cr),y(this,Dr))===0}with(e){if(!cn(this))throw new TypeError("invalid receiver");const t=it(e,["days","hours","microseconds","milliseconds","minutes","months","nanoseconds","seconds","weeks","years"],"partial"),{years:r=y(this,wr),months:a=y(this,$n),weeks:s=y(this,zr),days:u=y(this,Er),hours:c=y(this,br),minutes:f=y(this,Rr),seconds:d=y(this,Ar),milliseconds:g=y(this,Sr),microseconds:v=y(this,Cr),nanoseconds:w=y(this,Dr)}=t;return new Is(r,a,s,u,c,f,d,g,v,w)}negated(){if(!cn(this))throw new TypeError("invalid receiver");return RS(this)}abs(){if(!cn(this))throw new TypeError("invalid receiver");return new Is(Math.abs(y(this,wr)),Math.abs(y(this,$n)),Math.abs(y(this,zr)),Math.abs(y(this,Er)),Math.abs(y(this,br)),Math.abs(y(this,Rr)),Math.abs(y(this,Ar)),Math.abs(y(this,Sr)),Math.abs(y(this,Cr)),Math.abs(y(this,Dr)))}add(e,t){if(!cn(this))throw new TypeError("invalid receiver");return N1("add",this,e,t)}subtract(e,t){if(!cn(this))throw new TypeError("invalid receiver");return N1("subtract",this,e,t)}round(e){if(!cn(this))throw new TypeError("invalid receiver");if(e===void 0)throw new TypeError("options parameter is required");let t=y(this,wr),r=y(this,$n),a=y(this,zr),s=y(this,Er),u=y(this,br),c=y(this,Rr),f=y(this,Ar),d=y(this,Sr),g=y(this,Cr),v=y(this,Dr),w=Jv(t,r,a,s,u,c,f,d,g,v);const b=typeof e=="string"?Rc("smallestUnit",e):ut(e);let R=ti(b,"largestUnit","datetime",void 0,["auto"]),C=xm(b);const D=Uc(b),M=ua(b,"halfExpand");let x=ti(b,"smallestUnit","datetime",void 0),P=!0;x||(P=!1,x="nanosecond"),w=Ql(w,x);let $=!0;if(R||($=!1,R=w),R==="auto"&&(R=w),!P&&!$)throw new RangeError("at least one of smallestUnit or largestUnit is required");if(Ql(R,x)!==R)throw new RangeError(`largestUnit ${R} cannot be smaller than smallestUnit ${x}`);const V={hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[x];return V!==void 0&&zc(D,V,!1),{years:t,months:r,weeks:a,days:s}=bm(t,r,a,s,R,C),{years:t,months:r,weeks:a,days:s,hours:u,minutes:c,seconds:f,milliseconds:d,microseconds:g,nanoseconds:v}=Po(t,r,a,s,u,c,f,d,g,v,D,x,M,C),{years:t,months:r,weeks:a,days:s,hours:u,minutes:c,seconds:f,milliseconds:d,microseconds:g,nanoseconds:v}=xS(t,r,a,s,u,c,f,d,g,v,D,x,M,C),{days:s,hours:u,minutes:c,seconds:f,milliseconds:d,microseconds:g,nanoseconds:v}=Zi(s,u,c,f,d,g,v,R,C),{years:t,months:r,weeks:a,days:s}=function(N,I,O,z,j,q){const U=pe("%Temporal.Duration%"),Se=za(N,I,O,z,0,0,0,0,0,0);if(Se===0)return{years:N,months:I,weeks:O,days:z};const se=_.BigInt(Se);let re,de,ge=_.BigInt(N),ke=_.BigInt(I),F=_.BigInt(O),ae=_.BigInt(z);q&&(de=xt(q),re=y(de,W));const ve=new U(Se),ye=new U(0,Se),_e=new U(0,0,Se);switch(j){case"year":{if(!re)throw new RangeError("a starting point is required for years balancing");const Pe=typeof re!="string"?bt(re,"dateAdd"):void 0;let Le,wt,dt;for({relativeTo:Le,days:wt}=fr(re,de,ve,Pe);_.greaterThanOrEqual(oa(ae),_.BigInt(Yt(wt)));)ae=_.subtract(ae,_.BigInt(wt)),ge=_.add(ge,se),de=Le,{relativeTo:Le,days:wt}=fr(re,de,ve,Pe);for({relativeTo:Le,days:dt}=fr(re,de,ye,Pe);_.greaterThanOrEqual(oa(ae),_.BigInt(Yt(dt)));)ae=_.subtract(ae,_.BigInt(dt)),ke=_.add(ke,se),de=Le,{relativeTo:Le,days:dt}=fr(re,de,ye,Pe);Le=Qn(re,de,ve,void 0,Pe);const ct=typeof re!="string"?bt(re,"dateUntil"):void 0,mt=pr(null);mt.largestUnit="month";let Rn=zs(re,de,Le,mt,ct),qr=y(Rn,$n);for(;_.greaterThanOrEqual(oa(ke),_.BigInt(Yt(qr)));){ke=_.subtract(ke,_.BigInt(qr)),ge=_.add(ge,se),de=Le,Le=Qn(re,de,ve,void 0,Pe);const vn=pr(null);vn.largestUnit="month",Rn=zs(re,de,Le,vn,ct),qr=y(Rn,$n)}break}case"month":{if(!re)throw new RangeError("a starting point is required for months balancing");const Pe=typeof re!="string"?bt(re,"dateAdd"):void 0;let Le,wt;for({relativeTo:Le,days:wt}=fr(re,de,ye,Pe);_.greaterThanOrEqual(oa(ae),_.BigInt(Yt(wt)));)ae=_.subtract(ae,_.BigInt(wt)),ke=_.add(ke,se),de=Le,{relativeTo:Le,days:wt}=fr(re,de,ye,Pe);break}case"week":{if(!re)throw new RangeError("a starting point is required for weeks balancing");const Pe=typeof re!="string"?bt(re,"dateAdd"):void 0;let Le,wt;for({relativeTo:Le,days:wt}=fr(re,de,_e,Pe);_.greaterThanOrEqual(oa(ae),_.BigInt(Yt(wt)));)ae=_.subtract(ae,_.BigInt(wt)),F=_.add(F,se),de=Le,{relativeTo:Le,days:wt}=fr(re,de,_e,Pe);break}}return{years:_.toNumber(ge),months:_.toNumber(ke),weeks:_.toNumber(F),days:_.toNumber(ae)}}(t,r,a,s,R,C),new Is(t,r,a,s,u,c,f,d,g,v)}total(e){if(!cn(this))throw new TypeError("invalid receiver");let t=y(this,wr),r=y(this,$n),a=y(this,zr),s=y(this,Er),u=y(this,br),c=y(this,Rr),f=y(this,Ar),d=y(this,Sr),g=y(this,Cr),v=y(this,Dr);if(e===void 0)throw new TypeError("options argument is required");const w=typeof e=="string"?Rc("unit",e):ut(e),b=xm(w),R=ti(w,"unit","datetime",Kl);let C;({years:t,months:r,weeks:a,days:s}=bm(t,r,a,s,R,b)),Ce(b)&&(C=NS(b,t,r,a,0));let D=bS(s,u,c,f,d,g,v,R,C);if(D==="positive overflow")return 1/0;if(D==="negative overflow")return-1/0;({days:s,hours:u,minutes:c,seconds:f,milliseconds:d,microseconds:g,nanoseconds:v}=D);const{total:M}=Po(t,r,a,s,u,c,f,d,g,v,1,R,"trunc",b);return M}toString(e){if(!cn(this))throw new TypeError("invalid receiver");const t=ut(e),r=Bf(t),a=ua(t,"trunc"),s=ti(t,"smallestUnit","time",void 0);if(s==="hour"||s==="minute")throw new RangeError('smallestUnit must be a time unit other than "hours" or "minutes"');const{precision:u,unit:c,increment:f}=$f(s,r);return Av(this,u,{unit:c,increment:f,roundingMode:a})}toJSON(){if(!cn(this))throw new TypeError("invalid receiver");return Av(this)}toLocaleString(e,t){if(!cn(this))throw new TypeError("invalid receiver");return typeof Intl<"u"&&Intl.DurationFormat!==void 0?new Intl.DurationFormat(e,t).format(this):(console.warn("Temporal.Duration.prototype.toLocaleString() requires Intl.DurationFormat."),Av(this))}valueOf(){throw new TypeError("use compare() to compare Temporal.Duration")}static from(e){return cn(e)?new Is(y(e,wr),y(e,$n),y(e,zr),y(e,Er),y(e,br),y(e,Rr),y(e,Ar),y(e,Sr),y(e,Cr),y(e,Dr)):lc(e)}static compare(e,t,r){const a=lc(e),s=lc(t),u=xm(ut(r)),c=y(a,wr),f=y(a,$n),d=y(a,zr);let g=y(a,Er);const v=y(a,br),w=y(a,Rr),b=y(a,Ar),R=y(a,Sr),C=y(a,Cr);let D=y(a,Dr);const M=y(s,wr),x=y(s,$n),P=y(s,zr);let $=y(s,Er);const V=y(s,br),Y=y(s,Rr),N=y(s,Ar),I=y(s,Sr),O=y(s,Cr);let z=y(s,Dr);const j=A1(u,c,f,d,g),q=A1(u,M,x,P,$);c===0&&M===0&&f===0&&x===0&&d===0&&P===0||({days:g}=bm(c,f,d,g,"day",u),{days:$}=bm(M,x,P,$,"day",u));const U=bc(g,v,w,b,R,C,D,j),Se=bc($,V,Y,N,I,O,z,q);return ql(_.toNumber(_.subtract(U,Se)))}}Qa(Is,"Temporal.Duration");const nk=Object.create;class y_{constructor(e,t,r="iso8601",a=1972){hS(this,gt(e),gt(t),ni(r),gt(a))}get monthCode(){if(!xn(this))throw new TypeError("invalid receiver");return qf(y(this,W),this)}get day(){if(!xn(this))throw new TypeError("invalid receiver");return Hf(y(this,W),this)}get calendarId(){if(!xn(this))throw new TypeError("invalid receiver");return Xn(y(this,W))}with(e,t){if(!xn(this))throw new TypeError("invalid receiver");if(!Kt(e))throw new TypeError("invalid argument");Vc(e);const r=ut(t),a=y(this,W),s=En(a,["day","month","monthCode","year"]);let u=it(this,s,[]);return u=Zl(a,u,it(e,s,"partial")),u=it(u,s,[]),wc(a,u,r)}equals(e){if(!xn(this))throw new TypeError("invalid receiver");const t=g1(e);for(const r of[Ee,Re,we])if(y(this,r)!==y(t,r))return!1;return Gf(y(this,W),y(t,W))}toString(e){if(!xn(this))throw new TypeError("invalid receiver");return T1(this,jf(ut(e)))}toJSON(){if(!xn(this))throw new TypeError("invalid receiver");return T1(this)}toLocaleString(e,t){if(!xn(this))throw new TypeError("invalid receiver");return new Js(e,t).format(this)}valueOf(){throw new TypeError("use equals() to compare Temporal.PlainMonthDay")}toPlainDate(e){if(!xn(this))throw new TypeError("invalid receiver");if(!Kt(e))throw new TypeError("argument should be an object");const t=y(this,W),r=En(t,["day","monthCode"]),a=it(this,r,[]),s=En(t,["year"]);let u=Zl(t,a,it(e,s,[]));u=it(u,[...new Set([...r,...s])],[]);const c=nk(null);return c.overflow="reject",ko(t,u,c)}getISOFields(){if(!xn(this))throw new TypeError("invalid receiver");return{calendar:y(this,W),isoDay:y(this,Re),isoMonth:y(this,Ee),isoYear:y(this,we)}}getCalendar(){if(!xn(this))throw new TypeError("invalid receiver");return jc(y(this,W))}static from(e,t){const r=ut(t);return xn(e)?(yn(r),Tf(y(e,Ee),y(e,Re),y(e,W),y(e,we))):g1(e,r)}}Qa(y_,"Temporal.PlainMonthDay");const v_=()=>new(pe("%Temporal.Instant%"))(f_()),z1=(n,e=bs())=>{const t=mr(e),r=ni(n);return hi(t,v_(),r)},Iv=(n=bs())=>hi(mr(n),v_(),"iso8601"),j1=(n,e=bs())=>{const t=mr(e),r=ni(n);return Kn(f_(),t,r)},WS={instant:v_,plainDateTime:z1,plainDateTimeISO:Iv,plainDate:(n,e=bs())=>Ec(z1(n,e)),plainDateISO:(n=bs())=>Ec(Iv(n)),plainTimeISO:(n=bs())=>n_(Iv(n)),timeZoneId:()=>bs(),zonedDateTime:j1,zonedDateTimeISO:(n=bs())=>j1("iso8601",n),[Symbol.toStringTag]:"Temporal.Now"};Object.defineProperty(WS,Symbol.toStringTag,{value:"Temporal.Now",writable:!1,enumerable:!1,configurable:!0});const rk=Object.assign;function B1(n,e,t){let r=y(n,Qe),a=y(n,Ze),s=y(n,Xe),u=y(n,We),c=y(n,Je),f=y(n,et);if(t){const{unit:d,increment:g,roundingMode:v}=t;({hour:r,minute:a,second:s,millisecond:u,microsecond:c,nanosecond:f}=h_(r,a,s,u,c,f,g,d,v))}return`${Wt(r)}:${Wt(a)}${Zp(s,u,c,f,e)}`}class Hl{constructor(e=0,t=0,r=0,a=0,s=0,u=0){const c=e===void 0?0:gt(e),f=t===void 0?0:gt(t),d=r===void 0?0:gt(r),g=a===void 0?0:gt(a),v=s===void 0?0:gt(s),w=u===void 0?0:gt(u);Jp(c,f,d,g,v,w),Za(this),tt(this,Qe,c),tt(this,Ze,f),tt(this,Xe,d),tt(this,We,g),tt(this,Je,v),tt(this,et,w)}get hour(){if(!hn(this))throw new TypeError("invalid receiver");return y(this,Qe)}get minute(){if(!hn(this))throw new TypeError("invalid receiver");return y(this,Ze)}get second(){if(!hn(this))throw new TypeError("invalid receiver");return y(this,Xe)}get millisecond(){if(!hn(this))throw new TypeError("invalid receiver");return y(this,We)}get microsecond(){if(!hn(this))throw new TypeError("invalid receiver");return y(this,Je)}get nanosecond(){if(!hn(this))throw new TypeError("invalid receiver");return y(this,et)}with(e,t){if(!hn(this))throw new TypeError("invalid receiver");if(!Kt(e))throw new TypeError("invalid argument");Vc(e);const r=yn(ut(t)),a=ap(e,"partial"),s=ap(this);let{hour:u,minute:c,second:f,millisecond:d,microsecond:g,nanosecond:v}=rk(s,a);return{hour:u,minute:c,second:f,millisecond:d,microsecond:g,nanosecond:v}=jp(u,c,f,d,g,v,r),new Hl(u,c,f,d,g,v)}add(e){if(!hn(this))throw new TypeError("invalid receiver");return P1("add",this,e)}subtract(e){if(!hn(this))throw new TypeError("invalid receiver");return P1("subtract",this,e)}until(e,t){if(!hn(this))throw new TypeError("invalid receiver");return I1("until",this,e,t)}since(e,t){if(!hn(this))throw new TypeError("invalid receiver");return I1("since",this,e,t)}round(e){if(!hn(this))throw new TypeError("invalid receiver");if(e===void 0)throw new TypeError("options parameter is required");const t=typeof e=="string"?Rc("smallestUnit",e):ut(e),r=Uc(t),a=ua(t,"halfExpand"),s=ti(t,"smallestUnit","time",Kl);zc(r,{hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[s],!1);let u=y(this,Qe),c=y(this,Ze),f=y(this,Xe),d=y(this,We),g=y(this,Je),v=y(this,et);return{hour:u,minute:c,second:f,millisecond:d,microsecond:g,nanosecond:v}=h_(u,c,f,d,g,v,r,s,a),new Hl(u,c,f,d,g,v)}equals(e){if(!hn(this))throw new TypeError("invalid receiver");const t=So(e);for(const r of[Qe,Ze,Xe,We,Je,et])if(y(this,r)!==y(t,r))return!1;return!0}toString(e){if(!hn(this))throw new TypeError("invalid receiver");const t=ut(e),r=Bf(t),a=ua(t,"trunc"),s=ti(t,"smallestUnit","time",void 0);if(s==="hour")throw new RangeError('smallestUnit must be a time unit other than "hour"');const{precision:u,unit:c,increment:f}=$f(s,r);return B1(this,u,{unit:c,increment:f,roundingMode:a})}toJSON(){if(!hn(this))throw new TypeError("invalid receiver");return B1(this,"auto")}toLocaleString(e,t){if(!hn(this))throw new TypeError("invalid receiver");return new Js(e,t).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainTime")}toPlainDateTime(e){if(!hn(this))throw new TypeError("invalid receiver");const t=xt(e),r=y(t,we),a=y(t,Ee),s=y(t,Re),u=y(t,W);return Xr(r,a,s,y(this,Qe),y(this,Ze),y(this,Xe),y(this,We),y(this,Je),y(this,et),u)}toZonedDateTime(e){if(!hn(this))throw new TypeError("invalid receiver");if(!Kt(e))throw new TypeError("invalid argument");const t=e.plainDate;if(t===void 0)throw new TypeError("missing date property");const r=xt(t),a=e.timeZone;if(a===void 0)throw new TypeError("missing timeZone property");const s=mr(a),u=y(r,we),c=y(r,Ee),f=y(r,Re),d=y(r,W),g=y(this,Qe),v=y(this,Ze),w=y(this,Xe),b=y(this,We),R=y(this,Je),C=y(this,et);return Kn(y(Mr(s,new(pe("%Temporal.PlainDateTime%"))(u,c,f,g,v,w,b,R,C,d),"compatible"),Ue),s,d)}getISOFields(){if(!hn(this))throw new TypeError("invalid receiver");return{isoHour:y(this,Qe),isoMicrosecond:y(this,Je),isoMillisecond:y(this,We),isoMinute:y(this,Ze),isoNanosecond:y(this,et),isoSecond:y(this,Xe)}}static from(e,t){const r=yn(ut(t));return hn(e)?new Hl(y(e,Qe),y(e,Ze),y(e,Xe),y(e,We),y(e,Je),y(e,et)):So(e,r)}static compare(e,t){const r=So(e),a=So(t);for(const s of[Qe,Ze,Xe,We,Je,et]){const u=y(r,s),c=y(a,s);if(u!==c)return ql(u-c)}return 0}}Qa(Hl,"Temporal.PlainTime");class cf{constructor(e){if(arguments.length<1)throw new RangeError("missing argument: identifier is required");const t=r_(e);Za(this),tt(this,xa,t)}get id(){if(!wi(this))throw new TypeError("invalid receiver");return y(this,xa)}getOffsetNanosecondsFor(e){if(!wi(this))throw new TypeError("invalid receiver");const t=sa(e),r=y(this,xa);return ic(r)?js(r):Oo(r,y(t,Ue))}getOffsetStringFor(e){if(!wi(this))throw new TypeError("invalid receiver");return e0(this,sa(e))}getPlainDateTimeFor(e,t="iso8601"){if(!wi(this))throw new TypeError("invalid receiver");return hi(this,sa(e),ni(t))}getInstantFor(e,t){if(!wi(this))throw new TypeError("invalid receiver");return Mr(this,jl(e),Tc(ut(t)))}getPossibleInstantsFor(e){if(!wi(this))throw new TypeError("invalid receiver");const t=jl(e),r=pe("%Temporal.Instant%"),a=y(this,xa);if(ic(a)){const u=Bs(y(t,we),y(t,Ee),y(t,Re),y(t,Qe),y(t,Ze),y(t,Xe),y(t,We),y(t,Je),y(t,et));if(u===null)throw new RangeError("DateTime outside of supported range");const c=js(a);return[new r(_.subtract(u,_.BigInt(c)))]}return function(c,f,d,g,v,w,b,R,C,D){const M=Bs(f,d,g,v,w,b,R,C,D);if(M===null)throw new RangeError("DateTime outside of supported range");let x=_.subtract(M,Ha);_.lessThan(x,_f)&&(x=M);let P=_.add(M,Ha);_.greaterThan(P,vc)&&(P=M);const $=Oo(c,x),V=Oo(c,P);return($===V?[$]:[$,V]).map(Y=>{const N=_.subtract(M,_.BigInt(Y)),I=TS(c,N);if(f===I.year&&d===I.month&&g===I.day&&v===I.hour&&w===I.minute&&b===I.second&&R===I.millisecond&&C===I.microsecond&&D===I.nanosecond)return N}).filter(Y=>Y!==void 0)}(a,y(t,we),y(t,Ee),y(t,Re),y(t,Qe),y(t,Ze),y(t,Xe),y(t,We),y(t,Je),y(t,et)).map(u=>new r(u))}getNextTransition(e){if(!wi(this))throw new TypeError("invalid receiver");const t=sa(e),r=y(this,xa);if(ic(r)||r==="UTC")return null;let a=y(t,Ue);const s=pe("%Temporal.Instant%");return a=ES(r,a),a===null?null:new s(a)}getPreviousTransition(e){if(!wi(this))throw new TypeError("invalid receiver");const t=sa(e),r=y(this,xa);if(ic(r)||r==="UTC")return null;let a=y(t,Ue);const s=pe("%Temporal.Instant%");return a=t0(r,a),a===null?null:new s(a)}toString(){if(!wi(this))throw new TypeError("invalid receiver");return y(this,xa)}toJSON(){if(!wi(this))throw new TypeError("invalid receiver");return y(this,xa)}static from(e){return pS(mr(e))}}Qa(cf,"Temporal.TimeZone"),nn("Temporal.TimeZone.prototype.getOffsetNanosecondsFor",cf.prototype.getOffsetNanosecondsFor),nn("Temporal.TimeZone.prototype.getPossibleInstantsFor",cf.prototype.getPossibleInstantsFor);const ik=Object.create;class __{constructor(e,t,r="iso8601",a=1){fS(this,gt(e),gt(t),ni(r),gt(a))}get year(){if(!_t(this))throw new TypeError("invalid receiver");return Bp(y(this,W),this)}get month(){if(!_t(this))throw new TypeError("invalid receiver");return $p(y(this,W),this)}get monthCode(){if(!_t(this))throw new TypeError("invalid receiver");return qf(y(this,W),this)}get calendarId(){if(!_t(this))throw new TypeError("invalid receiver");return Xn(y(this,W))}get era(){if(!_t(this))throw new TypeError("invalid receiver");return Fp(y(this,W),this)}get eraYear(){if(!_t(this))throw new TypeError("invalid receiver");return qp(y(this,W),this)}get daysInMonth(){if(!_t(this))throw new TypeError("invalid receiver");return Hp(y(this,W),this)}get daysInYear(){if(!_t(this))throw new TypeError("invalid receiver");return Yp(y(this,W),this)}get monthsInYear(){if(!_t(this))throw new TypeError("invalid receiver");return Gp(y(this,W),this)}get inLeapYear(){if(!_t(this))throw new TypeError("invalid receiver");return Kp(y(this,W),this)}with(e,t){if(!_t(this))throw new TypeError("invalid receiver");if(!Kt(e))throw new TypeError("invalid argument");Vc(e);const r=ut(t),a=y(this,W),s=En(a,["month","monthCode","year"]);let u=it(this,s,[]);return u=Zl(a,u,it(e,s,"partial")),u=it(u,s,[]),Xl(a,u,r)}add(e,t){if(!_t(this))throw new TypeError("invalid receiver");return L1("add",this,e,t)}subtract(e,t){if(!_t(this))throw new TypeError("invalid receiver");return L1("subtract",this,e,t)}until(e,t){if(!_t(this))throw new TypeError("invalid receiver");return O1("until",this,e,t)}since(e,t){if(!_t(this))throw new TypeError("invalid receiver");return O1("since",this,e,t)}equals(e){if(!_t(this))throw new TypeError("invalid receiver");const t=tf(e);for(const r of[we,Ee,Re])if(y(this,r)!==y(t,r))return!1;return Gf(y(this,W),y(t,W))}toString(e){if(!_t(this))throw new TypeError("invalid receiver");return w1(this,jf(ut(e)))}toJSON(){if(!_t(this))throw new TypeError("invalid receiver");return w1(this)}toLocaleString(e,t){if(!_t(this))throw new TypeError("invalid receiver");return new Js(e,t).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainYearMonth")}toPlainDate(e){if(!_t(this))throw new TypeError("invalid receiver");if(!Kt(e))throw new TypeError("argument should be an object");const t=y(this,W),r=En(t,["monthCode","year"]),a=it(this,r,[]),s=En(t,["day"]);let u=Zl(t,a,it(e,s,[]));u=it(u,[...new Set([...r,...s])],[]);const c=ik(null);return c.overflow="reject",ko(t,u,c)}getISOFields(){if(!_t(this))throw new TypeError("invalid receiver");return{calendar:y(this,W),isoDay:y(this,Re),isoMonth:y(this,Ee),isoYear:y(this,we)}}getCalendar(){if(!_t(this))throw new TypeError("invalid receiver");return jc(y(this,W))}static from(e,t){const r=ut(t);return _t(e)?(yn(r),wf(y(e,we),y(e,Ee),y(e,W),y(e,Re))):tf(e,r)}static compare(e,t){const r=tf(e),a=tf(t);return Ds(y(r,we),y(r,Ee),y(r,Re),y(a,we),y(a,Ee),y(a,Re))}}Qa(__,"Temporal.PlainYearMonth");const ak=Js.prototype.resolvedOptions,ok=Object.create;class T_{constructor(e,t,r="iso8601"){if(arguments.length<1)throw new TypeError("missing argument: epochNanoseconds is required");dS(this,lf(e),mr(t),ni(r))}get calendarId(){if(!Ce(this))throw new TypeError("invalid receiver");return Xn(y(this,W))}get timeZoneId(){if(!Ce(this))throw new TypeError("invalid receiver");return Ef(y(this,Dt))}get year(){if(!Ce(this))throw new TypeError("invalid receiver");return Bp(y(this,W),Ft(this))}get month(){if(!Ce(this))throw new TypeError("invalid receiver");return $p(y(this,W),Ft(this))}get monthCode(){if(!Ce(this))throw new TypeError("invalid receiver");return qf(y(this,W),Ft(this))}get day(){if(!Ce(this))throw new TypeError("invalid receiver");return Hf(y(this,W),Ft(this))}get hour(){if(!Ce(this))throw new TypeError("invalid receiver");return y(Ft(this),Qe)}get minute(){if(!Ce(this))throw new TypeError("invalid receiver");return y(Ft(this),Ze)}get second(){if(!Ce(this))throw new TypeError("invalid receiver");return y(Ft(this),Xe)}get millisecond(){if(!Ce(this))throw new TypeError("invalid receiver");return y(Ft(this),We)}get microsecond(){if(!Ce(this))throw new TypeError("invalid receiver");return y(Ft(this),Je)}get nanosecond(){if(!Ce(this))throw new TypeError("invalid receiver");return y(Ft(this),et)}get era(){if(!Ce(this))throw new TypeError("invalid receiver");return Fp(y(this,W),Ft(this))}get eraYear(){if(!Ce(this))throw new TypeError("invalid receiver");return qp(y(this,W),Ft(this))}get epochSeconds(){if(!Ce(this))throw new TypeError("invalid receiver");const e=y(this,Ue);return _.toNumber(uc(e,Ua))}get epochMilliseconds(){if(!Ce(this))throw new TypeError("invalid receiver");const e=y(this,Ue);return _.toNumber(uc(e,Ri))}get epochMicroseconds(){if(!Ce(this))throw new TypeError("invalid receiver");return hp(uc(y(this,Ue),Tt))}get epochNanoseconds(){if(!Ce(this))throw new TypeError("invalid receiver");return hp(y(this,Ue))}get dayOfWeek(){if(!Ce(this))throw new TypeError("invalid receiver");return X0(y(this,W),Ft(this))}get dayOfYear(){if(!Ce(this))throw new TypeError("invalid receiver");return W0(y(this,W),Ft(this))}get weekOfYear(){if(!Ce(this))throw new TypeError("invalid receiver");return J0(y(this,W),Ft(this))}get yearOfWeek(){if(!Ce(this))throw new TypeError("invalid receiver");return e_(y(this,W),Ft(this))}get hoursInDay(){if(!Ce(this))throw new TypeError("invalid receiver");const e=Ft(this),t=pe("%Temporal.PlainDateTime%"),r=y(e,we),a=y(e,Ee),s=y(e,Re),u=new t(r,a,s,0,0,0,0,0,0),c=Fl(r,a,s,0,0,0,1,"reject"),f=new t(c.year,c.month,c.day,0,0,0,0,0,0),d=y(this,Dt),g=y(Mr(d,u,"compatible"),Ue),v=y(Mr(d,f,"compatible"),Ue);return Na(_.subtract(v,g),iS)}get daysInWeek(){if(!Ce(this))throw new TypeError("invalid receiver");return t_(y(this,W),Ft(this))}get daysInMonth(){if(!Ce(this))throw new TypeError("invalid receiver");return Hp(y(this,W),Ft(this))}get daysInYear(){if(!Ce(this))throw new TypeError("invalid receiver");return Yp(y(this,W),Ft(this))}get monthsInYear(){if(!Ce(this))throw new TypeError("invalid receiver");return Gp(y(this,W),Ft(this))}get inLeapYear(){if(!Ce(this))throw new TypeError("invalid receiver");return Kp(y(this,W),Ft(this))}get offset(){if(!Ce(this))throw new TypeError("invalid receiver");return e0(y(this,Dt),y(this,dr))}get offsetNanoseconds(){if(!Ce(this))throw new TypeError("invalid receiver");return ca(y(this,Dt),y(this,dr))}with(e,t){if(!Ce(this))throw new TypeError("invalid receiver");if(!Kt(e))throw new TypeError("invalid zoned-date-time-like");Vc(e);const r=ut(t),a=y(this,W);let s=En(a,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]);s.push("offset");let u=it(this,s,["offset"]);u=Zl(a,u,it(e,s,"partial")),u=it(u,s,["offset"]);const c=Tc(r),f=ip(r,"prefer");let{year:d,month:g,day:v,hour:w,minute:b,second:R,millisecond:C,microsecond:D,nanosecond:M}=Ff(a,u,r);const x=js(u.offset),P=y(this,Dt);return Kn(op(d,g,v,w,b,R,C,D,M,"option",x,P,c,f,!1),P,a)}withPlainDate(e){if(!Ce(this))throw new TypeError("invalid receiver");const t=xt(e),r=y(t,we),a=y(t,Ee),s=y(t,Re);let u=y(t,W);const c=Ft(this),f=y(c,Qe),d=y(c,Ze),g=y(c,Xe),v=y(c,We),w=y(c,Je),b=y(c,et);u=mS(y(this,W),u);const R=y(this,Dt);return Kn(y(Mr(R,new(pe("%Temporal.PlainDateTime%"))(r,a,s,f,d,g,v,w,b,u),"compatible"),Ue),R,u)}withPlainTime(e){if(!Ce(this))throw new TypeError("invalid receiver");const t=pe("%Temporal.PlainTime%"),r=e===void 0?new t:So(e),a=Ft(this),s=y(a,we),u=y(a,Ee),c=y(a,Re),f=y(this,W),d=y(r,Qe),g=y(r,Ze),v=y(r,Xe),w=y(r,We),b=y(r,Je),R=y(r,et),C=y(this,Dt);return Kn(y(Mr(C,new(pe("%Temporal.PlainDateTime%"))(s,u,c,d,g,v,w,b,R,f),"compatible"),Ue),C,f)}withTimeZone(e){if(!Ce(this))throw new TypeError("invalid receiver");const t=mr(e);return Kn(y(this,Ue),t,y(this,W))}withCalendar(e){if(!Ce(this))throw new TypeError("invalid receiver");const t=ni(e);return Kn(y(this,Ue),y(this,Dt),t)}add(e,t){if(!Ce(this))throw new TypeError("invalid receiver");return V1("add",this,e,t)}subtract(e,t){if(!Ce(this))throw new TypeError("invalid receiver");return V1("subtract",this,e,t)}until(e,t){if(!Ce(this))throw new TypeError("invalid receiver");return M1("until",this,e,t)}since(e,t){if(!Ce(this))throw new TypeError("invalid receiver");return M1("since",this,e,t)}round(e){if(!Ce(this))throw new TypeError("invalid receiver");if(e===void 0)throw new TypeError("options parameter is required");const t=typeof e=="string"?Rc("smallestUnit",e):ut(e),r=Uc(t),a=ua(t,"halfExpand"),s=ti(t,"smallestUnit","time",Kl,["day"]),u={day:1,hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[s];zc(r,u,u===1);const c=Ft(this);let f=y(c,we),d=y(c,Ee),g=y(c,Re),v=y(c,Qe),w=y(c,Ze),b=y(c,Xe),R=y(c,We),C=y(c,Je),D=y(c,et);const M=pe("%Temporal.PlainDateTime%"),x=y(this,Dt),P=y(this,W),$=Mr(x,new M(y(c,we),y(c,Ee),y(c,Re),0,0,0,0,0,0),"compatible"),V=Si($,x,P,0,0,0,1,0,0,0,0,0,0),Y=_.subtract(V,_.BigInt(y($,Ue)));if(_.lessThanOrEqual(Y,fn))throw new RangeError("cannot round a ZonedDateTime in a calendar with zero or negative length days");return{year:f,month:d,day:g,hour:v,minute:w,second:b,millisecond:R,microsecond:C,nanosecond:D}=c_(f,d,g,v,w,b,R,C,D,r,s,a,_.toNumber(Y)),Kn(op(f,d,g,v,w,b,R,C,D,"option",ca(x,y(this,dr)),x,"compatible","prefer",!1),x,y(this,W))}equals(e){if(!Ce(this))throw new TypeError("invalid receiver");const t=nf(e),r=y(this,Ue),a=y(t,Ue);return!!_.equal(_.BigInt(r),_.BigInt(a))&&!!gS(y(this,Dt),y(t,Dt))&&Gf(y(this,W),y(t,W))}toString(e){if(!Ce(this))throw new TypeError("invalid receiver");const t=ut(e),r=jf(t),a=Bf(t),s=function(b){return Fs(b,"offset",["auto","never"],"auto")}(t),u=ua(t,"trunc"),c=ti(t,"smallestUnit","time",void 0);if(c==="hour")throw new RangeError('smallestUnit must be a time unit other than "hour"');const f=function(b){return Fs(b,"timeZoneName",["auto","never","critical"],"auto")}(t),{precision:d,unit:g,increment:v}=$f(c,a);return E1(this,d,r,f,s,{unit:g,increment:v,roundingMode:u})}toLocaleString(e,t){if(!Ce(this))throw new TypeError("invalid receiver");const r=ut(t),a=ok(null);if(sc(a,r,["timeZone"]),r.timeZone!==void 0)throw new TypeError("ZonedDateTime toLocaleString does not accept a timeZone option");a.year===void 0&&a.month===void 0&&a.day===void 0&&a.weekday===void 0&&a.dateStyle===void 0&&a.hour===void 0&&a.minute===void 0&&a.second===void 0&&a.timeStyle===void 0&&a.dayPeriod===void 0&&a.timeZoneName===void 0&&(a.timeZoneName="short");let s=Ef(y(this,Dt));if(ic(s))throw new RangeError("toLocaleString does not support offset string time zones");s=r_(s),a.timeZone=s;const u=new Js(e,a),c=De(ak,u,[]).calendar,f=Xn(y(this,W));if(f!=="iso8601"&&c!=="iso8601"&&c!==f)throw new RangeError(`cannot format ZonedDateTime with calendar ${f} in locale with calendar ${c}`);return u.format(y(this,dr))}toJSON(){if(!Ce(this))throw new TypeError("invalid receiver");return E1(this,"auto")}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.ZonedDateTime")}startOfDay(){if(!Ce(this))throw new TypeError("invalid receiver");const e=Ft(this),t=pe("%Temporal.PlainDateTime%"),r=y(this,W),a=new t(y(e,we),y(e,Ee),y(e,Re),0,0,0,0,0,0,r),s=y(this,Dt);return Kn(y(Mr(s,a,"compatible"),Ue),s,r)}toInstant(){if(!Ce(this))throw new TypeError("invalid receiver");return new(pe("%Temporal.Instant%"))(y(this,Ue))}toPlainDate(){if(!Ce(this))throw new TypeError("invalid receiver");return Ec(Ft(this))}toPlainTime(){if(!Ce(this))throw new TypeError("invalid receiver");return n_(Ft(this))}toPlainDateTime(){if(!Ce(this))throw new TypeError("invalid receiver");return Ft(this)}toPlainYearMonth(){if(!Ce(this))throw new TypeError("invalid receiver");const e=y(this,W);return Xl(e,it(this,En(e,["monthCode","year"]),[]))}toPlainMonthDay(){if(!Ce(this))throw new TypeError("invalid receiver");const e=y(this,W);return wc(e,it(this,En(e,["day","monthCode"]),[]))}getISOFields(){if(!Ce(this))throw new TypeError("invalid receiver");const e=Ft(this),t=y(this,Dt);return{calendar:y(this,W),isoDay:y(e,Re),isoHour:y(e,Qe),isoMicrosecond:y(e,Je),isoMillisecond:y(e,We),isoMinute:y(e,Ze),isoMonth:y(e,Ee),isoNanosecond:y(e,et),isoSecond:y(e,Xe),isoYear:y(e,we),offset:e0(t,y(this,dr)),timeZone:t}}getCalendar(){if(!Ce(this))throw new TypeError("invalid receiver");return jc(y(this,W))}getTimeZone(){if(!Ce(this))throw new TypeError("invalid receiver");return pS(y(this,Dt))}static from(e,t){const r=ut(t);return Ce(e)?(Tc(r),ip(r,"reject"),yn(r),Kn(y(e,Ue),y(e,Dt),y(e,W))):nf(e,r)}static compare(e,t){const r=nf(e),a=nf(t),s=y(r,Ue),u=y(a,Ue);return _.lessThan(_.BigInt(s),_.BigInt(u))?-1:_.greaterThan(_.BigInt(s),_.BigInt(u))?1:0}}function Ft(n){return hi(y(n,Dt),y(n,dr),y(n,W))}Qa(T_,"Temporal.ZonedDateTime");var Wu=Object.freeze({__proto__:null,Calendar:un,Duration:Is,Instant:aa,Now:WS,PlainDate:Zf,PlainDateTime:Xf,PlainMonthDay:y_,PlainTime:Hl,PlainYearMonth:__,TimeZone:cf,ZonedDateTime:T_});const sk=[aa,un,Zf,Xf,Is,y_,Hl,cf,__,T_];for(const n of sk){const e=Object.getOwnPropertyDescriptor(n,"prototype");(e.configurable||e.enumerable||e.writable)&&(e.configurable=!1,e.enumerable=!1,e.writable=!1,Object.defineProperty(n,"prototype",e))}const lk=()=>{};var $1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JS=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let a=n.charCodeAt(r);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},uk=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const a=n[t++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const s=n[t++];e[r++]=String.fromCharCode((a&31)<<6|s&63)}else if(a>239&&a<365){const s=n[t++],u=n[t++],c=n[t++],f=((a&7)<<18|(s&63)<<12|(u&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const s=n[t++],u=n[t++];e[r++]=String.fromCharCode((a&15)<<12|(s&63)<<6|u&63)}}return e.join("")},eC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<n.length;a+=3){const s=n[a],u=a+1<n.length,c=u?n[a+1]:0,f=a+2<n.length,d=f?n[a+2]:0,g=s>>2,v=(s&3)<<4|c>>4;let w=(c&15)<<2|d>>6,b=d&63;f||(b=64,u||(w=64)),r.push(t[g],t[v],t[w],t[b])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(JS(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):uk(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<n.length;){const s=t[n.charAt(a++)],c=a<n.length?t[n.charAt(a)]:0;++a;const d=a<n.length?t[n.charAt(a)]:64;++a;const v=a<n.length?t[n.charAt(a)]:64;if(++a,s==null||c==null||d==null||v==null)throw new ck;const w=s<<2|c>>4;if(r.push(w),d!==64){const b=c<<4&240|d>>2;if(r.push(b),v!==64){const R=d<<6&192|v;r.push(R)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class ck extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const hk=function(n){const e=JS(n);return eC.encodeByteArray(e,!0)},fp=function(n){return hk(n).replace(/\./g,"")},tC=function(n){try{return eC.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dk=()=>fk().__FIREBASE_DEFAULTS__,mk=()=>{if(typeof process>"u"||typeof $1>"u")return;const n=$1.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},pk=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&tC(n[1]);return e&&JSON.parse(e)},eg=()=>{try{return lk()||dk()||mk()||pk()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},nC=n=>{var e,t;return(t=(e=eg())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},gk=n=>{const e=nC(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},rC=()=>{var n;return(n=eg())===null||n===void 0?void 0:n.config},iC=n=>{var e;return(e=eg())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vk(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",a=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[fp(JSON.stringify(t)),fp(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $r(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _k(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($r())}function Tk(){var n;const e=(n=eg())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function wk(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Ek(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function bk(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Rk(){const n=$r();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function Ak(){return!Tk()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Sk(){try{return typeof indexedDB=="object"}catch{return!1}}function Ck(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var s;e(((s=a.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dk="FirebaseError";class qo extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=Dk,Object.setPrototypeOf(this,qo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Wf.prototype.create)}}class Wf{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},a=`${this.service}/${e}`,s=this.errors[e],u=s?Ik(s,r):"Error",c=`${this.serviceName}: ${u} (${a}).`;return new qo(a,c,r)}}function Ik(n,e){return n.replace(Ok,(t,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const Ok=/\{\$([^}]+)}/g;function Mk(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Jl(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const a of t){if(!r.includes(a))return!1;const s=n[a],u=e[a];if(F1(s)&&F1(u)){if(!Jl(s,u))return!1}else if(s!==u)return!1}for(const a of r)if(!t.includes(a))return!1;return!0}function F1(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jf(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Nk(n,e){const t=new xk(n,e);return t.subscribe.bind(t)}class xk{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let a;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");kk(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:r},a.next===void 0&&(a.next=Ov),a.error===void 0&&(a.error=Ov),a.complete===void 0&&(a.complete=Ov);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function kk(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Ov(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fr(n){return n&&n._delegate?n._delegate:n}class eu{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new yk;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(a)return null;throw s}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Vk(e))try{this.getOrInitializeService({instanceIdentifier:Pl})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:a});r.resolve(s)}catch{}}}}clearInstance(e=Pl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Pl){return this.instances.has(e)}getOptions(e=Pl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,u]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(s);r===c&&u.resolve(a)}return a}onInit(e,t){var r;const a=this.normalizeInstanceIdentifier(t),s=(r=this.onInitCallbacks.get(a))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(a,s);const u=this.instances.get(a);return u&&e(u,a),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const a of r)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Lk(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Pl){return this.component?this.component.multipleInstances?e:Pl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Lk(n){return n===Pl?void 0:n}function Vk(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Pk(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Rt||(Rt={}));const zk={debug:Rt.DEBUG,verbose:Rt.VERBOSE,info:Rt.INFO,warn:Rt.WARN,error:Rt.ERROR,silent:Rt.SILENT},jk=Rt.INFO,Bk={[Rt.DEBUG]:"log",[Rt.VERBOSE]:"log",[Rt.INFO]:"info",[Rt.WARN]:"warn",[Rt.ERROR]:"error"},$k=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),a=Bk[e];if(a)console[a](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class w_{constructor(e){this.name=e,this._logLevel=jk,this._logHandler=$k,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Rt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?zk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Rt.DEBUG,...e),this._logHandler(this,Rt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Rt.VERBOSE,...e),this._logHandler(this,Rt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Rt.INFO,...e),this._logHandler(this,Rt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Rt.WARN,...e),this._logHandler(this,Rt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Rt.ERROR,...e),this._logHandler(this,Rt.ERROR,...e)}}const Fk=(n,e)=>e.some(t=>n instanceof t);let q1,H1;function qk(){return q1||(q1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Hk(){return H1||(H1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const aC=new WeakMap,s0=new WeakMap,oC=new WeakMap,Mv=new WeakMap,E_=new WeakMap;function Yk(n){const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("success",s),n.removeEventListener("error",u)},s=()=>{t(Ns(n.result)),a()},u=()=>{r(n.error),a()};n.addEventListener("success",s),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&aC.set(t,n)}).catch(()=>{}),E_.set(e,n),e}function Gk(n){if(s0.has(n))return;const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",u),n.removeEventListener("abort",u)},s=()=>{t(),a()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",s),n.addEventListener("error",u),n.addEventListener("abort",u)});s0.set(n,e)}let l0={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return s0.get(n);if(e==="objectStoreNames")return n.objectStoreNames||oC.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ns(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Kk(n){l0=n(l0)}function Qk(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Nv(this),e,...t);return oC.set(r,e.sort?e.sort():[e]),Ns(r)}:Hk().includes(n)?function(...e){return n.apply(Nv(this),e),Ns(aC.get(this))}:function(...e){return Ns(n.apply(Nv(this),e))}}function Zk(n){return typeof n=="function"?Qk(n):(n instanceof IDBTransaction&&Gk(n),Fk(n,qk())?new Proxy(n,l0):n)}function Ns(n){if(n instanceof IDBRequest)return Yk(n);if(Mv.has(n))return Mv.get(n);const e=Zk(n);return e!==n&&(Mv.set(n,e),E_.set(e,n)),e}const Nv=n=>E_.get(n);function Xk(n,e,{blocked:t,upgrade:r,blocking:a,terminated:s}={}){const u=indexedDB.open(n,e),c=Ns(u);return r&&u.addEventListener("upgradeneeded",f=>{r(Ns(u.result),f.oldVersion,f.newVersion,Ns(u.transaction),f)}),t&&u.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),c.then(f=>{s&&f.addEventListener("close",()=>s()),a&&f.addEventListener("versionchange",d=>a(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}const Wk=["get","getKey","getAll","getAllKeys","count"],Jk=["put","add","delete","clear"],xv=new Map;function Y1(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(xv.get(e))return xv.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,a=Jk.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(a||Wk.includes(t)))return;const s=async function(u,...c){const f=this.transaction(u,a?"readwrite":"readonly");let d=f.store;return r&&(d=d.index(c.shift())),(await Promise.all([d[t](...c),a&&f.done]))[0]};return xv.set(e,s),s}Kk(n=>({...n,get:(e,t,r)=>Y1(e,t)||n.get(e,t,r),has:(e,t)=>!!Y1(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(tP(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function tP(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const u0="@firebase/app",G1="0.11.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uo=new w_("@firebase/app"),nP="@firebase/app-compat",rP="@firebase/analytics-compat",iP="@firebase/analytics",aP="@firebase/app-check-compat",oP="@firebase/app-check",sP="@firebase/auth",lP="@firebase/auth-compat",uP="@firebase/database",cP="@firebase/data-connect",hP="@firebase/database-compat",fP="@firebase/functions",dP="@firebase/functions-compat",mP="@firebase/installations",pP="@firebase/installations-compat",gP="@firebase/messaging",yP="@firebase/messaging-compat",vP="@firebase/performance",_P="@firebase/performance-compat",TP="@firebase/remote-config",wP="@firebase/remote-config-compat",EP="@firebase/storage",bP="@firebase/storage-compat",RP="@firebase/firestore",AP="@firebase/vertexai",SP="@firebase/firestore-compat",CP="firebase",DP="11.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c0="[DEFAULT]",IP={[u0]:"fire-core",[nP]:"fire-core-compat",[iP]:"fire-analytics",[rP]:"fire-analytics-compat",[oP]:"fire-app-check",[aP]:"fire-app-check-compat",[sP]:"fire-auth",[lP]:"fire-auth-compat",[uP]:"fire-rtdb",[cP]:"fire-data-connect",[hP]:"fire-rtdb-compat",[fP]:"fire-fn",[dP]:"fire-fn-compat",[mP]:"fire-iid",[pP]:"fire-iid-compat",[gP]:"fire-fcm",[yP]:"fire-fcm-compat",[vP]:"fire-perf",[_P]:"fire-perf-compat",[TP]:"fire-rc",[wP]:"fire-rc-compat",[EP]:"fire-gcs",[bP]:"fire-gcs-compat",[RP]:"fire-fst",[SP]:"fire-fst-compat",[AP]:"fire-vertex","fire-js":"fire-js",[CP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dp=new Map,OP=new Map,h0=new Map;function K1(n,e){try{n.container.addComponent(e)}catch(t){Uo.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Sc(n){const e=n.name;if(h0.has(e))return Uo.debug(`There were multiple attempts to register component ${e}.`),!1;h0.set(e,n);for(const t of dp.values())K1(t,n);for(const t of OP.values())K1(t,n);return!0}function b_(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Pa(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},xs=new Wf("app","Firebase",MP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NP{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new eu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw xs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qc=DP;function sC(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:c0,automaticDataCollectionEnabled:!1},e),a=r.name;if(typeof a!="string"||!a)throw xs.create("bad-app-name",{appName:String(a)});if(t||(t=rC()),!t)throw xs.create("no-options");const s=dp.get(a);if(s){if(Jl(t,s.options)&&Jl(r,s.config))return s;throw xs.create("duplicate-app",{appName:a})}const u=new Uk(a);for(const f of h0.values())u.addComponent(f);const c=new NP(t,r,u);return dp.set(a,c),c}function lC(n=c0){const e=dp.get(n);if(!e&&n===c0&&rC())return sC();if(!e)throw xs.create("no-app",{appName:n});return e}function ks(n,e,t){var r;let a=(r=IP[n])!==null&&r!==void 0?r:n;t&&(a+=`-${t}`);const s=a.match(/\s|\//),u=e.match(/\s|\//);if(s||u){const c=[`Unable to register library "${a}" with version "${e}":`];s&&c.push(`library name "${a}" contains illegal characters (whitespace or "/")`),s&&u&&c.push("and"),u&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Uo.warn(c.join(" "));return}Sc(new eu(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xP="firebase-heartbeat-database",kP=1,bf="firebase-heartbeat-store";let kv=null;function uC(){return kv||(kv=Xk(xP,kP,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(bf)}catch(t){console.warn(t)}}}}).catch(n=>{throw xs.create("idb-open",{originalErrorMessage:n.message})})),kv}async function PP(n){try{const t=(await uC()).transaction(bf),r=await t.objectStore(bf).get(cC(n));return await t.done,r}catch(e){if(e instanceof qo)Uo.warn(e.message);else{const t=xs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Uo.warn(t.message)}}}async function Q1(n,e){try{const r=(await uC()).transaction(bf,"readwrite");await r.objectStore(bf).put(e,cC(n)),await r.done}catch(t){if(t instanceof qo)Uo.warn(t.message);else{const r=xs.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Uo.warn(r.message)}}}function cC(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LP=1024,VP=30;class UP{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new jP(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Z1();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(u=>u.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:a}),this._heartbeatsCache.heartbeats.length>VP){const u=BP(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Uo.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Z1(),{heartbeatsToSend:r,unsentEntries:a}=zP(this._heartbeatsCache.heartbeats),s=fp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return Uo.warn(t),""}}}function Z1(){return new Date().toISOString().substring(0,10)}function zP(n,e=LP){const t=[];let r=n.slice();for(const a of n){const s=t.find(u=>u.agent===a.agent);if(s){if(s.dates.push(a.date),X1(t)>e){s.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),X1(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class jP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Sk()?Ck().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await PP(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return Q1(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return Q1(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function X1(n){return fp(JSON.stringify({version:2,heartbeats:n})).length}function BP(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $P(n){Sc(new eu("platform-logger",e=>new eP(e),"PRIVATE")),Sc(new eu("heartbeat",e=>new UP(e),"PRIVATE")),ks(u0,G1,n),ks(u0,G1,"esm2017"),ks("fire-js","")}$P("");var FP="firebase",qP="11.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ks(FP,qP,"app");function R_(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t}function hC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const HP=hC,fC=new Wf("auth","Firebase",hC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mp=new w_("@firebase/auth");function YP(n,...e){mp.logLevel<=Rt.WARN&&mp.warn(`Auth (${qc}): ${n}`,...e)}function Vm(n,...e){mp.logLevel<=Rt.ERROR&&mp.error(`Auth (${qc}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zo(n,...e){throw A_(n,...e)}function ja(n,...e){return A_(n,...e)}function dC(n,e,t){const r=Object.assign(Object.assign({},HP()),{[e]:t});return new Wf("auth","Firebase",r).create(e,{appName:n.name})}function Yl(n){return dC(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function A_(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return fC.create(n,...e)}function rt(n,e,...t){if(!n)throw A_(e,...t)}function Co(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Vm(e),new Error(e)}function jo(n,e){n||Co(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f0(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function GP(){return W1()==="http:"||W1()==="https:"}function W1(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(GP()||Ek()||"connection"in navigator)?navigator.onLine:!0}function QP(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(e,t){this.shortDelay=e,this.longDelay=t,jo(t>e,"Short delay should be less than long delay!"),this.isMobile=_k()||bk()}get(){return KP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S_(n,e){jo(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Co("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Co("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Co("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XP=new ed(3e4,6e4);function C_(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Hc(n,e,t,r,a={}){return pC(n,a,async()=>{let s={},u={};r&&(e==="GET"?u=r:s={body:JSON.stringify(r)});const c=Jf(Object.assign({key:n.config.apiKey},u)).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const d=Object.assign({method:e,headers:f},s);return wk()||(d.referrerPolicy="no-referrer"),mC.fetch()(gC(n,n.config.apiHost,t,c),d)})}async function pC(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},ZP),e);try{const a=new JP(n),s=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const u=await s.json();if("needConfirmation"in u)throw Rm(n,"account-exists-with-different-credential",u);if(s.ok&&!("errorMessage"in u))return u;{const c=s.ok?u.errorMessage:u.error.message,[f,d]=c.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Rm(n,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw Rm(n,"email-already-in-use",u);if(f==="USER_DISABLED")throw Rm(n,"user-disabled",u);const g=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw dC(n,g,d);zo(n,g)}}catch(a){if(a instanceof qo)throw a;zo(n,"network-request-failed",{message:String(a)})}}async function WP(n,e,t,r,a={}){const s=await Hc(n,e,t,r,a);return"mfaPendingCredential"in s&&zo(n,"multi-factor-auth-required",{_serverResponse:s}),s}function gC(n,e,t,r){const a=`${e}${t}?${r}`;return n.config.emulator?S_(n.config,a):`${n.config.apiScheme}://${a}`}class JP{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(ja(this.auth,"network-request-failed")),XP.get())})}}function Rm(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const a=ja(n,e,r);return a.customData._tokenResponse=t,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e3(n,e){return Hc(n,"POST","/v1/accounts:delete",e)}async function yC(n,e){return Hc(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hf(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function t3(n,e=!1){const t=Fr(n),r=await t.getIdToken(e),a=D_(r);rt(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const s=typeof a.firebase=="object"?a.firebase:void 0,u=s==null?void 0:s.sign_in_provider;return{claims:a,token:r,authTime:hf(Pv(a.auth_time)),issuedAtTime:hf(Pv(a.iat)),expirationTime:hf(Pv(a.exp)),signInProvider:u||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Pv(n){return Number(n)*1e3}function D_(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Vm("JWT malformed, contained fewer than 3 sections"),null;try{const a=tC(t);return a?JSON.parse(a):(Vm("Failed to decode base64 JWT payload"),null)}catch(a){return Vm("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function J1(n){const e=D_(n);return rt(e,"internal-error"),rt(typeof e.exp<"u","internal-error"),rt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rf(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof qo&&n3(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function n3({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r3{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const a=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=hf(this.lastLoginAt),this.creationTime=hf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pp(n){var e;const t=n.auth,r=await n.getIdToken(),a=await Rf(n,yC(t,{idToken:r}));rt(a==null?void 0:a.users.length,t,"internal-error");const s=a.users[0];n._notifyReloadListener(s);const u=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?vC(s.providerUserInfo):[],c=a3(n.providerData,u),f=n.isAnonymous,d=!(n.email&&s.passwordHash)&&!(c!=null&&c.length),g=f?d:!1,v={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new d0(s.createdAt,s.lastLoginAt),isAnonymous:g};Object.assign(n,v)}async function i3(n){const e=Fr(n);await pp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function a3(n,e){return[...n.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function vC(n){return n.map(e=>{var{providerId:t}=e,r=R_(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o3(n,e){const t=await pC(n,{},async()=>{const r=Jf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:s}=n.config,u=gC(n,a,"/v1/token",`key=${s}`),c=await n._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",mC.fetch()(u,{method:"POST",headers:c,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function s3(n,e){return Hc(n,"POST","/v2/accounts:revokeToken",C_(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){rt(e.idToken,"internal-error"),rt(typeof e.idToken<"u","internal-error"),rt(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):J1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){rt(e.length!==0,"internal-error");const t=J1(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(rt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:a,expiresIn:s}=await o3(e,t);this.updateTokensAndExpiration(r,a,Number(s))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:a,expirationTime:s}=t,u=new dc;return r&&(rt(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),a&&(rt(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),s&&(rt(typeof s=="number","internal-error",{appName:e}),u.expirationTime=s),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new dc,this.toJSON())}_performRefresh(){return Co("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ts(n,e){rt(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Do{constructor(e){var{uid:t,auth:r,stsTokenManager:a}=e,s=R_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new r3(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new d0(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await Rf(this,this.stsTokenManager.getToken(this.auth,e));return rt(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return t3(this,e)}reload(){return i3(this)}_assign(e){this!==e&&(rt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Do(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){rt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await pp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Pa(this.auth.app))return Promise.reject(Yl(this.auth));const e=await this.getIdToken();return await Rf(this,e3(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,a,s,u,c,f,d,g;const v=(r=t.displayName)!==null&&r!==void 0?r:void 0,w=(a=t.email)!==null&&a!==void 0?a:void 0,b=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,R=(u=t.photoURL)!==null&&u!==void 0?u:void 0,C=(c=t.tenantId)!==null&&c!==void 0?c:void 0,D=(f=t._redirectEventId)!==null&&f!==void 0?f:void 0,M=(d=t.createdAt)!==null&&d!==void 0?d:void 0,x=(g=t.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:P,emailVerified:$,isAnonymous:V,providerData:Y,stsTokenManager:N}=t;rt(P&&N,e,"internal-error");const I=dc.fromJSON(this.name,N);rt(typeof P=="string",e,"internal-error"),Ts(v,e.name),Ts(w,e.name),rt(typeof $=="boolean",e,"internal-error"),rt(typeof V=="boolean",e,"internal-error"),Ts(b,e.name),Ts(R,e.name),Ts(C,e.name),Ts(D,e.name),Ts(M,e.name),Ts(x,e.name);const O=new Do({uid:P,auth:e,email:w,emailVerified:$,displayName:v,isAnonymous:V,photoURL:R,phoneNumber:b,tenantId:C,stsTokenManager:I,createdAt:M,lastLoginAt:x});return Y&&Array.isArray(Y)&&(O.providerData=Y.map(z=>Object.assign({},z))),D&&(O._redirectEventId=D),O}static async _fromIdTokenResponse(e,t,r=!1){const a=new dc;a.updateFromServerResponse(t);const s=new Do({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await pp(s),s}static async _fromGetAccountInfoResponse(e,t,r){const a=t.users[0];rt(a.localId!==void 0,"internal-error");const s=a.providerUserInfo!==void 0?vC(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!(s!=null&&s.length),c=new dc;c.updateFromIdToken(r);const f=new Do({uid:a.localId,auth:e,stsTokenManager:c,isAnonymous:u}),d={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:s,metadata:new d0(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(s!=null&&s.length)};return Object.assign(f,d),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eR=new Map;function Io(n){jo(n instanceof Function,"Expected a class definition");let e=eR.get(n);return e?(jo(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,eR.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}_C.type="NONE";const tR=_C;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Um(n,e,t){return`firebase:${n}:${e}:${t}`}class mc{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:a,name:s}=this.auth;this.fullUserKey=Um(this.userKey,a.apiKey,s),this.fullPersistenceKey=Um("persistence",a.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Do._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new mc(Io(tR),e,r);const a=(await Promise.all(t.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let s=a[0]||Io(tR);const u=Um(r,e.config.apiKey,e.name);let c=null;for(const d of t)try{const g=await d._get(u);if(g){const v=Do._fromJSON(e,g);d!==s&&(c=v),s=d;break}}catch{}const f=a.filter(d=>d._shouldAllowMigration);return!s._shouldAllowMigration||!f.length?new mc(s,e,r):(s=f[0],c&&await s._set(u,c.toJSON()),await Promise.all(t.map(async d=>{if(d!==s)try{await d._remove(u)}catch{}})),new mc(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nR(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(bC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(TC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(AC(e))return"Blackberry";if(SC(e))return"Webos";if(wC(e))return"Safari";if((e.includes("chrome/")||EC(e))&&!e.includes("edge/"))return"Chrome";if(RC(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function TC(n=$r()){return/firefox\//i.test(n)}function wC(n=$r()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function EC(n=$r()){return/crios\//i.test(n)}function bC(n=$r()){return/iemobile/i.test(n)}function RC(n=$r()){return/android/i.test(n)}function AC(n=$r()){return/blackberry/i.test(n)}function SC(n=$r()){return/webos/i.test(n)}function I_(n=$r()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function l3(n=$r()){var e;return I_(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function u3(){return Rk()&&document.documentMode===10}function CC(n=$r()){return I_(n)||RC(n)||SC(n)||AC(n)||/windows phone/i.test(n)||bC(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DC(n,e=[]){let t;switch(n){case"Browser":t=nR($r());break;case"Worker":t=`${nR($r())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${qc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c3{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((u,c)=>{try{const f=e(s);u(f)}catch(f){c(f)}});r.onAbort=t,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h3(n,e={}){return Hc(n,"GET","/v2/passwordPolicy",C_(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f3=6;class d3{constructor(e){var t,r,a,s;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:f3,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,a,s,u,c;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(t=f.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),f.isValid&&(f.isValid=(r=f.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(a=f.containsLowercaseLetter)!==null&&a!==void 0?a:!0),f.isValid&&(f.isValid=(s=f.containsUppercaseLetter)!==null&&s!==void 0?s:!0),f.isValid&&(f.isValid=(u=f.containsNumericCharacter)!==null&&u!==void 0?u:!0),f.isValid&&(f.isValid=(c=f.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),f}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,a,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m3{constructor(e,t,r,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new rR(this),this.idTokenSubscription=new rR(this),this.beforeStateQueue=new c3(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Io(t)),this._initializationPromise=this.queue(async()=>{var r,a;if(!this._deleted&&(this.persistenceManager=await mc.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await yC(this,{idToken:e}),r=await Do._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Pa(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(c,c))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let a=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,c=a==null?void 0:a._redirectEventId,f=await this.tryRedirectSignIn(e);(!u||u===c)&&(f!=null&&f.user)&&(a=f.user,s=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(a)}catch(u){a=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return rt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await pp(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=QP()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Pa(this.app))return Promise.reject(Yl(this));const t=e?Fr(e):null;return t&&rt(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&rt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Pa(this.app)?Promise.reject(Yl(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Pa(this.app)?Promise.reject(Yl(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Io(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await h3(this),t=new d3(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Wf("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await s3(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Io(e)||this._popupRedirectResolver;rt(t,this,"argument-error"),this.redirectPersistenceManager=await mc.create(this,[Io(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,a){if(this._deleted)return()=>{};const s=typeof t=="function"?t:t.next.bind(t);let u=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(rt(c,this,"internal-error"),c.then(()=>{u||s(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,a);return()=>{u=!0,f()}}else{const f=e.addObserver(t);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return rt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=DC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){var e;if(Pa(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&YP(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function O_(n){return Fr(n)}class rR{constructor(e){this.auth=e,this.observer=null,this.addObserver=Nk(t=>this.observer=t)}get next(){return rt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let M_={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function p3(n){M_=n}function g3(n){return M_.loadJS(n)}function y3(){return M_.gapiScript}function v3(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _3(n,e){const t=b_(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),s=t.getOptions();if(Jl(s,e??{}))return a;zo(a,"already-initialized")}return t.initialize({options:e})}function T3(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Io);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function w3(n,e,t){const r=O_(n);rt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,s=IC(e),{host:u,port:c}=E3(e),f=c===null?"":`:${c}`,d={url:`${s}//${u}${f}/`},g=Object.freeze({host:u,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){rt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),rt(Jl(d,r.config.emulator)&&Jl(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,b3()}function IC(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function E3(n){const e=IC(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const s=a[1];return{host:s,port:iR(r.substr(s.length+1))}}else{const[s,u]=r.split(":");return{host:s,port:iR(u)}}}function iR(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function b3(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Co("not implemented")}_getIdTokenResponse(e){return Co("not implemented")}_linkToIdToken(e,t){return Co("not implemented")}_getReauthenticationResolver(e){return Co("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pc(n,e){return WP(n,"POST","/v1/accounts:signInWithIdp",C_(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R3="http://localhost";class tu extends OC{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new tu(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):zo("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a}=t,s=R_(t,["providerId","signInMethod"]);if(!r||!a)return null;const u=new tu(r,a);return u.idToken=s.idToken||void 0,u.accessToken=s.accessToken||void 0,u.secret=s.secret,u.nonce=s.nonce,u.pendingToken=s.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return pc(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,pc(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,pc(e,t)}buildRequest(){const e={requestUri:R3,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Jf(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td extends MC{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs extends td{constructor(){super("facebook.com")}static credential(e){return tu._fromParams({providerId:Rs.PROVIDER_ID,signInMethod:Rs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Rs.credentialFromTaggedObject(e)}static credentialFromError(e){return Rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Rs.credential(e.oauthAccessToken)}catch{return null}}}Rs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Rs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As extends td{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return tu._fromParams({providerId:As.PROVIDER_ID,signInMethod:As.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return As.credentialFromTaggedObject(e)}static credentialFromError(e){return As.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return As.credential(t,r)}catch{return null}}}As.GOOGLE_SIGN_IN_METHOD="google.com";As.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss extends td{constructor(){super("github.com")}static credential(e){return tu._fromParams({providerId:Ss.PROVIDER_ID,signInMethod:Ss.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ss.credentialFromTaggedObject(e)}static credentialFromError(e){return Ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ss.credential(e.oauthAccessToken)}catch{return null}}}Ss.GITHUB_SIGN_IN_METHOD="github.com";Ss.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs extends td{constructor(){super("twitter.com")}static credential(e,t){return tu._fromParams({providerId:Cs.PROVIDER_ID,signInMethod:Cs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Cs.credentialFromTaggedObject(e)}static credentialFromError(e){return Cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Cs.credential(t,r)}catch{return null}}}Cs.TWITTER_SIGN_IN_METHOD="twitter.com";Cs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,a=!1){const s=await Do._fromIdTokenResponse(e,r,a),u=aR(r);return new Cc({user:s,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const a=aR(r);return new Cc({user:e,providerId:a,_tokenResponse:r,operationType:t})}}function aR(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp extends qo{constructor(e,t,r,a){var s;super(t.code,t.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,gp.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,a){return new gp(e,t,r,a)}}function NC(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?gp._fromErrorAndOperation(n,s,e,r):s})}async function A3(n,e,t=!1){const r=await Rf(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Cc._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S3(n,e,t=!1){const{auth:r}=n;if(Pa(r.app))return Promise.reject(Yl(r));const a="reauthenticate";try{const s=await Rf(n,NC(r,a,e,n),t);rt(s.idToken,r,"internal-error");const u=D_(s.idToken);rt(u,r,"internal-error");const{sub:c}=u;return rt(n.uid===c,r,"user-mismatch"),Cc._forOperation(n,a,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&zo(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C3(n,e,t=!1){if(Pa(n.app))return Promise.reject(Yl(n));const r="signIn",a=await NC(n,r,e),s=await Cc._fromIdTokenResponse(n,r,a);return t||await n._updateCurrentUser(s.user),s}function D3(n,e,t,r){return Fr(n).onIdTokenChanged(e,t,r)}function I3(n,e,t){return Fr(n).beforeAuthStateChanged(e,t)}const yp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(yp,"1"),this.storage.removeItem(yp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O3=1e3,M3=10;class kC extends xC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=CC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),a=this.localCache[t];r!==a&&e(t,a,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,c,f)=>{this.notifyListeners(u,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},s=this.storage.getItem(r);u3()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,M3):a()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},O3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}kC.type="LOCAL";const N3=kC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC extends xC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}PC.type="SESSION";const LC=PC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x3(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const r=new tg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:a,data:s}=t.data,u=this.handlersMap[a];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const c=Array.from(u).map(async d=>d(t.origin,s)),f=await x3(c);t.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}tg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N_(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k3{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let s,u;return new Promise((c,f)=>{const d=N_("",20);a.port1.start();const g=setTimeout(()=>{f(new Error("unsupported_event"))},r);u={messageChannel:a,onMessage(v){const w=v;if(w.data.eventId===d)switch(w.data.status){case"ack":clearTimeout(g),s=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(w.data.response);break;default:clearTimeout(g),clearTimeout(s),f(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:d,data:t},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ba(){return window}function P3(n){Ba().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VC(){return typeof Ba().WorkerGlobalScope<"u"&&typeof Ba().importScripts=="function"}async function L3(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function V3(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function U3(){return VC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC="firebaseLocalStorageDb",z3=1,vp="firebaseLocalStorage",zC="fbase_key";class nd{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function ng(n,e){return n.transaction([vp],e?"readwrite":"readonly").objectStore(vp)}function j3(){const n=indexedDB.deleteDatabase(UC);return new nd(n).toPromise()}function m0(){const n=indexedDB.open(UC,z3);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(vp,{keyPath:zC})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(vp)?e(r):(r.close(),await j3(),e(await m0()))})})}async function oR(n,e,t){const r=ng(n,!0).put({[zC]:e,value:t});return new nd(r).toPromise()}async function B3(n,e){const t=ng(n,!1).get(e),r=await new nd(t).toPromise();return r===void 0?null:r.value}function sR(n,e){const t=ng(n,!0).delete(e);return new nd(t).toPromise()}const $3=800,F3=3;class jC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await m0(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>F3)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return VC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=tg._getInstance(U3()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await L3(),!this.activeServiceWorker)return;this.sender=new k3(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||V3()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await m0();return await oR(e,yp,"1"),await sR(e,yp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>oR(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>B3(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>sR(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const s=ng(a,!1).getAll();return new nd(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:s}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(s)&&(this.notifyListeners(a,s),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),$3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}jC.type="LOCAL";const q3=jC;new ed(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H3(n,e){return e?Io(e):(rt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x_ extends OC{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return pc(e,this._buildIdpRequest())}_linkToIdToken(e,t){return pc(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return pc(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Y3(n){return C3(n.auth,new x_(n),n.bypassAuthState)}function G3(n){const{auth:e,user:t}=n;return rt(t,e,"internal-error"),S3(t,new x_(n),n.bypassAuthState)}async function K3(n){const{auth:e,user:t}=n;return rt(t,e,"internal-error"),A3(t,new x_(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(e,t,r,a,s=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:a,tenantId:s,error:u,type:c}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:s||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(f))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Y3;case"linkViaPopup":case"linkViaRedirect":return K3;case"reauthViaPopup":case"reauthViaRedirect":return G3;default:zo(this.auth,"internal-error")}}resolve(e){jo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){jo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q3=new ed(2e3,1e4);class ac extends BC{constructor(e,t,r,a,s){super(e,t,a,s),this.provider=r,this.authWindow=null,this.pollId=null,ac.currentPopupAction&&ac.currentPopupAction.cancel(),ac.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return rt(e,this.auth,"internal-error"),e}async onExecution(){jo(this.filter.length===1,"Popup operations only handle one event");const e=N_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ja(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ja(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ac.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ja(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Q3.get())};e()}}ac.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z3="pendingRedirect",zm=new Map;class X3 extends BC{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=zm.get(this.auth._key());if(!e){try{const r=await W3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}zm.set(this.auth._key(),e)}return this.bypassAuthState||zm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function W3(n,e){const t=t4(e),r=e4(n);if(!await r._isAvailable())return!1;const a=await r._get(t)==="true";return await r._remove(t),a}function J3(n,e){zm.set(n._key(),e)}function e4(n){return Io(n._redirectPersistence)}function t4(n){return Um(Z3,n.config.apiKey,n.name)}async function n4(n,e,t=!1){if(Pa(n.app))return Promise.reject(Yl(n));const r=O_(n),a=H3(r,e),u=await new X3(r,a,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r4=10*60*1e3;class i4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!a4(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!$C(e)){const a=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(ja(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=r4&&this.cachedEventUids.clear(),this.cachedEventUids.has(lR(e))}saveEventToCache(e){this.cachedEventUids.add(lR(e)),this.lastProcessedEventTime=Date.now()}}function lR(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function $C({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function a4(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $C(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o4(n,e={}){return Hc(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,l4=/^https?/;async function u4(n){if(n.config.emulator)return;const{authorizedDomains:e}=await o4(n);for(const t of e)try{if(c4(t))return}catch{}zo(n,"unauthorized-domain")}function c4(n){const e=f0(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!l4.test(t))return!1;if(s4.test(n))return r===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h4=new ed(3e4,6e4);function uR(){const n=Ba().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function f4(n){return new Promise((e,t)=>{var r,a,s;function u(){uR(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{uR(),t(ja(n,"network-request-failed"))},timeout:h4.get()})}if(!((a=(r=Ba().gapi)===null||r===void 0?void 0:r.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((s=Ba().gapi)===null||s===void 0)&&s.load)u();else{const c=v3("iframefcb");return Ba()[c]=()=>{gapi.load?u():t(ja(n,"network-request-failed"))},g3(`${y3()}?onload=${c}`).catch(f=>t(f))}}).catch(e=>{throw jm=null,e})}let jm=null;function d4(n){return jm=jm||f4(n),jm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m4=new ed(5e3,15e3),p4="__/auth/iframe",g4="emulator/auth/iframe",y4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},v4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _4(n){const e=n.config;rt(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?S_(e,g4):`https://${n.config.authDomain}/${p4}`,r={apiKey:e.apiKey,appName:n.name,v:qc},a=v4.get(n.config.apiHost);a&&(r.eid=a);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${Jf(r).slice(1)}`}async function T4(n){const e=await d4(n),t=Ba().gapi;return rt(t,n,"internal-error"),e.open({where:document.body,url:_4(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:y4,dontclear:!0},r=>new Promise(async(a,s)=>{await r.restyle({setHideOnLeave:!1});const u=ja(n,"network-request-failed"),c=Ba().setTimeout(()=>{s(u)},m4.get());function f(){Ba().clearTimeout(c),a(r)}r.ping(f).then(f,()=>{s(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},E4=500,b4=600,R4="_blank",A4="http://localhost";class cR{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function S4(n,e,t,r=E4,a=b4){const s=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const f=Object.assign(Object.assign({},w4),{width:r.toString(),height:a.toString(),top:s,left:u}),d=$r().toLowerCase();t&&(c=EC(d)?R4:t),TC(d)&&(e=e||A4,f.scrollbars="yes");const g=Object.entries(f).reduce((w,[b,R])=>`${w}${b}=${R},`,"");if(l3(d)&&c!=="_self")return C4(e||"",c),new cR(null);const v=window.open(e||"",c,g);rt(v,n,"popup-blocked");try{v.focus()}catch{}return new cR(v)}function C4(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D4="__/auth/handler",I4="emulator/auth/handler",O4=encodeURIComponent("fac");async function hR(n,e,t,r,a,s){rt(n.config.authDomain,n,"auth-domain-config-required"),rt(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:qc,eventId:a};if(e instanceof MC){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",Mk(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,v]of Object.entries({}))u[g]=v}if(e instanceof td){const g=e.getScopes().filter(v=>v!=="");g.length>0&&(u.scopes=g.join(","))}n.tenantId&&(u.tid=n.tenantId);const c=u;for(const g of Object.keys(c))c[g]===void 0&&delete c[g];const f=await n._getAppCheckToken(),d=f?`#${O4}=${encodeURIComponent(f)}`:"";return`${M4(n)}?${Jf(c).slice(1)}${d}`}function M4({config:n}){return n.emulator?S_(n,I4):`https://${n.authDomain}/${D4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lv="webStorageSupport";class N4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=LC,this._completeRedirectFn=n4,this._overrideRedirectResult=J3}async _openPopup(e,t,r,a){var s;jo((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const u=await hR(e,t,r,f0(),a);return S4(e,u,N_())}async _openRedirect(e,t,r,a){await this._originValidation(e);const s=await hR(e,t,r,f0(),a);return P3(s),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:s}=this.eventManagers[t];return a?Promise.resolve(a):(jo(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await T4(e),r=new i4(e);return t.register("authEvent",a=>(rt(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Lv,{type:Lv},a=>{var s;const u=(s=a==null?void 0:a[0])===null||s===void 0?void 0:s[Lv];u!==void 0&&t(!!u),zo(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=u4(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return CC()||wC()||I_()}}const x4=N4;var fR="@firebase/auth",dR="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){rt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P4(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function L4(n){Sc(new eu("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:u,authDomain:c}=r.options;rt(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:u,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:DC(n)},d=new m3(r,a,s,f);return T3(d,t),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Sc(new eu("auth-internal",e=>{const t=O_(e.getProvider("auth").getImmediate());return(r=>new k4(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ks(fR,dR,P4(n)),ks(fR,dR,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V4=5*60,U4=iC("authIdTokenMaxAge")||V4;let mR=null;const z4=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>U4)return;const a=t==null?void 0:t.token;mR!==a&&(mR=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function j4(n=lC()){const e=b_(n,"auth");if(e.isInitialized())return e.getImmediate();const t=_3(n,{popupRedirectResolver:x4,persistence:[q3,N3,LC]}),r=iC("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const u=z4(s.toString());I3(t,u,()=>u(t.currentUser)),D3(t,c=>u(c))}}const a=nC("auth");return a&&w3(t,`http://${a}`),t}function B4(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}p3({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=a=>{const s=ja("internal-error");s.customData=a,t(s)},r.type="text/javascript",r.charset="UTF-8",B4().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});L4("Browser");var pR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ps,FC;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,I){function O(){}O.prototype=I.prototype,N.D=I.prototype,N.prototype=new O,N.prototype.constructor=N,N.C=function(z,j,q){for(var U=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)U[Se-2]=arguments[Se];return I.prototype[j].apply(z,U)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(N,I,O){O||(O=0);var z=Array(16);if(typeof I=="string")for(var j=0;16>j;++j)z[j]=I.charCodeAt(O++)|I.charCodeAt(O++)<<8|I.charCodeAt(O++)<<16|I.charCodeAt(O++)<<24;else for(j=0;16>j;++j)z[j]=I[O++]|I[O++]<<8|I[O++]<<16|I[O++]<<24;I=N.g[0],O=N.g[1],j=N.g[2];var q=N.g[3],U=I+(q^O&(j^q))+z[0]+3614090360&4294967295;I=O+(U<<7&4294967295|U>>>25),U=q+(j^I&(O^j))+z[1]+3905402710&4294967295,q=I+(U<<12&4294967295|U>>>20),U=j+(O^q&(I^O))+z[2]+606105819&4294967295,j=q+(U<<17&4294967295|U>>>15),U=O+(I^j&(q^I))+z[3]+3250441966&4294967295,O=j+(U<<22&4294967295|U>>>10),U=I+(q^O&(j^q))+z[4]+4118548399&4294967295,I=O+(U<<7&4294967295|U>>>25),U=q+(j^I&(O^j))+z[5]+1200080426&4294967295,q=I+(U<<12&4294967295|U>>>20),U=j+(O^q&(I^O))+z[6]+2821735955&4294967295,j=q+(U<<17&4294967295|U>>>15),U=O+(I^j&(q^I))+z[7]+4249261313&4294967295,O=j+(U<<22&4294967295|U>>>10),U=I+(q^O&(j^q))+z[8]+1770035416&4294967295,I=O+(U<<7&4294967295|U>>>25),U=q+(j^I&(O^j))+z[9]+2336552879&4294967295,q=I+(U<<12&4294967295|U>>>20),U=j+(O^q&(I^O))+z[10]+4294925233&4294967295,j=q+(U<<17&4294967295|U>>>15),U=O+(I^j&(q^I))+z[11]+2304563134&4294967295,O=j+(U<<22&4294967295|U>>>10),U=I+(q^O&(j^q))+z[12]+1804603682&4294967295,I=O+(U<<7&4294967295|U>>>25),U=q+(j^I&(O^j))+z[13]+4254626195&4294967295,q=I+(U<<12&4294967295|U>>>20),U=j+(O^q&(I^O))+z[14]+2792965006&4294967295,j=q+(U<<17&4294967295|U>>>15),U=O+(I^j&(q^I))+z[15]+1236535329&4294967295,O=j+(U<<22&4294967295|U>>>10),U=I+(j^q&(O^j))+z[1]+4129170786&4294967295,I=O+(U<<5&4294967295|U>>>27),U=q+(O^j&(I^O))+z[6]+3225465664&4294967295,q=I+(U<<9&4294967295|U>>>23),U=j+(I^O&(q^I))+z[11]+643717713&4294967295,j=q+(U<<14&4294967295|U>>>18),U=O+(q^I&(j^q))+z[0]+3921069994&4294967295,O=j+(U<<20&4294967295|U>>>12),U=I+(j^q&(O^j))+z[5]+3593408605&4294967295,I=O+(U<<5&4294967295|U>>>27),U=q+(O^j&(I^O))+z[10]+38016083&4294967295,q=I+(U<<9&4294967295|U>>>23),U=j+(I^O&(q^I))+z[15]+3634488961&4294967295,j=q+(U<<14&4294967295|U>>>18),U=O+(q^I&(j^q))+z[4]+3889429448&4294967295,O=j+(U<<20&4294967295|U>>>12),U=I+(j^q&(O^j))+z[9]+568446438&4294967295,I=O+(U<<5&4294967295|U>>>27),U=q+(O^j&(I^O))+z[14]+3275163606&4294967295,q=I+(U<<9&4294967295|U>>>23),U=j+(I^O&(q^I))+z[3]+4107603335&4294967295,j=q+(U<<14&4294967295|U>>>18),U=O+(q^I&(j^q))+z[8]+1163531501&4294967295,O=j+(U<<20&4294967295|U>>>12),U=I+(j^q&(O^j))+z[13]+2850285829&4294967295,I=O+(U<<5&4294967295|U>>>27),U=q+(O^j&(I^O))+z[2]+4243563512&4294967295,q=I+(U<<9&4294967295|U>>>23),U=j+(I^O&(q^I))+z[7]+1735328473&4294967295,j=q+(U<<14&4294967295|U>>>18),U=O+(q^I&(j^q))+z[12]+2368359562&4294967295,O=j+(U<<20&4294967295|U>>>12),U=I+(O^j^q)+z[5]+4294588738&4294967295,I=O+(U<<4&4294967295|U>>>28),U=q+(I^O^j)+z[8]+2272392833&4294967295,q=I+(U<<11&4294967295|U>>>21),U=j+(q^I^O)+z[11]+1839030562&4294967295,j=q+(U<<16&4294967295|U>>>16),U=O+(j^q^I)+z[14]+4259657740&4294967295,O=j+(U<<23&4294967295|U>>>9),U=I+(O^j^q)+z[1]+2763975236&4294967295,I=O+(U<<4&4294967295|U>>>28),U=q+(I^O^j)+z[4]+1272893353&4294967295,q=I+(U<<11&4294967295|U>>>21),U=j+(q^I^O)+z[7]+4139469664&4294967295,j=q+(U<<16&4294967295|U>>>16),U=O+(j^q^I)+z[10]+3200236656&4294967295,O=j+(U<<23&4294967295|U>>>9),U=I+(O^j^q)+z[13]+681279174&4294967295,I=O+(U<<4&4294967295|U>>>28),U=q+(I^O^j)+z[0]+3936430074&4294967295,q=I+(U<<11&4294967295|U>>>21),U=j+(q^I^O)+z[3]+3572445317&4294967295,j=q+(U<<16&4294967295|U>>>16),U=O+(j^q^I)+z[6]+76029189&4294967295,O=j+(U<<23&4294967295|U>>>9),U=I+(O^j^q)+z[9]+3654602809&4294967295,I=O+(U<<4&4294967295|U>>>28),U=q+(I^O^j)+z[12]+3873151461&4294967295,q=I+(U<<11&4294967295|U>>>21),U=j+(q^I^O)+z[15]+530742520&4294967295,j=q+(U<<16&4294967295|U>>>16),U=O+(j^q^I)+z[2]+3299628645&4294967295,O=j+(U<<23&4294967295|U>>>9),U=I+(j^(O|~q))+z[0]+4096336452&4294967295,I=O+(U<<6&4294967295|U>>>26),U=q+(O^(I|~j))+z[7]+1126891415&4294967295,q=I+(U<<10&4294967295|U>>>22),U=j+(I^(q|~O))+z[14]+2878612391&4294967295,j=q+(U<<15&4294967295|U>>>17),U=O+(q^(j|~I))+z[5]+4237533241&4294967295,O=j+(U<<21&4294967295|U>>>11),U=I+(j^(O|~q))+z[12]+1700485571&4294967295,I=O+(U<<6&4294967295|U>>>26),U=q+(O^(I|~j))+z[3]+2399980690&4294967295,q=I+(U<<10&4294967295|U>>>22),U=j+(I^(q|~O))+z[10]+4293915773&4294967295,j=q+(U<<15&4294967295|U>>>17),U=O+(q^(j|~I))+z[1]+2240044497&4294967295,O=j+(U<<21&4294967295|U>>>11),U=I+(j^(O|~q))+z[8]+1873313359&4294967295,I=O+(U<<6&4294967295|U>>>26),U=q+(O^(I|~j))+z[15]+4264355552&4294967295,q=I+(U<<10&4294967295|U>>>22),U=j+(I^(q|~O))+z[6]+2734768916&4294967295,j=q+(U<<15&4294967295|U>>>17),U=O+(q^(j|~I))+z[13]+1309151649&4294967295,O=j+(U<<21&4294967295|U>>>11),U=I+(j^(O|~q))+z[4]+4149444226&4294967295,I=O+(U<<6&4294967295|U>>>26),U=q+(O^(I|~j))+z[11]+3174756917&4294967295,q=I+(U<<10&4294967295|U>>>22),U=j+(I^(q|~O))+z[2]+718787259&4294967295,j=q+(U<<15&4294967295|U>>>17),U=O+(q^(j|~I))+z[9]+3951481745&4294967295,N.g[0]=N.g[0]+I&4294967295,N.g[1]=N.g[1]+(j+(U<<21&4294967295|U>>>11))&4294967295,N.g[2]=N.g[2]+j&4294967295,N.g[3]=N.g[3]+q&4294967295}r.prototype.u=function(N,I){I===void 0&&(I=N.length);for(var O=I-this.blockSize,z=this.B,j=this.h,q=0;q<I;){if(j==0)for(;q<=O;)a(this,N,q),q+=this.blockSize;if(typeof N=="string"){for(;q<I;)if(z[j++]=N.charCodeAt(q++),j==this.blockSize){a(this,z),j=0;break}}else for(;q<I;)if(z[j++]=N[q++],j==this.blockSize){a(this,z),j=0;break}}this.h=j,this.o+=I},r.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var I=1;I<N.length-8;++I)N[I]=0;var O=8*this.o;for(I=N.length-8;I<N.length;++I)N[I]=O&255,O/=256;for(this.u(N),N=Array(16),I=O=0;4>I;++I)for(var z=0;32>z;z+=8)N[O++]=this.g[I]>>>z&255;return N};function s(N,I){var O=c;return Object.prototype.hasOwnProperty.call(O,N)?O[N]:O[N]=I(N)}function u(N,I){this.h=I;for(var O=[],z=!0,j=N.length-1;0<=j;j--){var q=N[j]|0;z&&q==I||(O[j]=q,z=!1)}this.g=O}var c={};function f(N){return-128<=N&&128>N?s(N,function(I){return new u([I|0],0>I?-1:0)}):new u([N|0],0>N?-1:0)}function d(N){if(isNaN(N)||!isFinite(N))return v;if(0>N)return D(d(-N));for(var I=[],O=1,z=0;N>=O;z++)I[z]=N/O|0,O*=4294967296;return new u(I,0)}function g(N,I){if(N.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(N.charAt(0)=="-")return D(g(N.substring(1),I));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var O=d(Math.pow(I,8)),z=v,j=0;j<N.length;j+=8){var q=Math.min(8,N.length-j),U=parseInt(N.substring(j,j+q),I);8>q?(q=d(Math.pow(I,q)),z=z.j(q).add(d(U))):(z=z.j(O),z=z.add(d(U)))}return z}var v=f(0),w=f(1),b=f(16777216);n=u.prototype,n.m=function(){if(C(this))return-D(this).m();for(var N=0,I=1,O=0;O<this.g.length;O++){var z=this.i(O);N+=(0<=z?z:4294967296+z)*I,I*=4294967296}return N},n.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(R(this))return"0";if(C(this))return"-"+D(this).toString(N);for(var I=d(Math.pow(N,6)),O=this,z="";;){var j=$(O,I).g;O=M(O,j.j(I));var q=((0<O.g.length?O.g[0]:O.h)>>>0).toString(N);if(O=j,R(O))return q+z;for(;6>q.length;)q="0"+q;z=q+z}},n.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function R(N){if(N.h!=0)return!1;for(var I=0;I<N.g.length;I++)if(N.g[I]!=0)return!1;return!0}function C(N){return N.h==-1}n.l=function(N){return N=M(this,N),C(N)?-1:R(N)?0:1};function D(N){for(var I=N.g.length,O=[],z=0;z<I;z++)O[z]=~N.g[z];return new u(O,~N.h).add(w)}n.abs=function(){return C(this)?D(this):this},n.add=function(N){for(var I=Math.max(this.g.length,N.g.length),O=[],z=0,j=0;j<=I;j++){var q=z+(this.i(j)&65535)+(N.i(j)&65535),U=(q>>>16)+(this.i(j)>>>16)+(N.i(j)>>>16);z=U>>>16,q&=65535,U&=65535,O[j]=U<<16|q}return new u(O,O[O.length-1]&-2147483648?-1:0)};function M(N,I){return N.add(D(I))}n.j=function(N){if(R(this)||R(N))return v;if(C(this))return C(N)?D(this).j(D(N)):D(D(this).j(N));if(C(N))return D(this.j(D(N)));if(0>this.l(b)&&0>N.l(b))return d(this.m()*N.m());for(var I=this.g.length+N.g.length,O=[],z=0;z<2*I;z++)O[z]=0;for(z=0;z<this.g.length;z++)for(var j=0;j<N.g.length;j++){var q=this.i(z)>>>16,U=this.i(z)&65535,Se=N.i(j)>>>16,se=N.i(j)&65535;O[2*z+2*j]+=U*se,x(O,2*z+2*j),O[2*z+2*j+1]+=q*se,x(O,2*z+2*j+1),O[2*z+2*j+1]+=U*Se,x(O,2*z+2*j+1),O[2*z+2*j+2]+=q*Se,x(O,2*z+2*j+2)}for(z=0;z<I;z++)O[z]=O[2*z+1]<<16|O[2*z];for(z=I;z<2*I;z++)O[z]=0;return new u(O,0)};function x(N,I){for(;(N[I]&65535)!=N[I];)N[I+1]+=N[I]>>>16,N[I]&=65535,I++}function P(N,I){this.g=N,this.h=I}function $(N,I){if(R(I))throw Error("division by zero");if(R(N))return new P(v,v);if(C(N))return I=$(D(N),I),new P(D(I.g),D(I.h));if(C(I))return I=$(N,D(I)),new P(D(I.g),I.h);if(30<N.g.length){if(C(N)||C(I))throw Error("slowDivide_ only works with positive integers.");for(var O=w,z=I;0>=z.l(N);)O=V(O),z=V(z);var j=Y(O,1),q=Y(z,1);for(z=Y(z,2),O=Y(O,2);!R(z);){var U=q.add(z);0>=U.l(N)&&(j=j.add(O),q=U),z=Y(z,1),O=Y(O,1)}return I=M(N,j.j(I)),new P(j,I)}for(j=v;0<=N.l(I);){for(O=Math.max(1,Math.floor(N.m()/I.m())),z=Math.ceil(Math.log(O)/Math.LN2),z=48>=z?1:Math.pow(2,z-48),q=d(O),U=q.j(I);C(U)||0<U.l(N);)O-=z,q=d(O),U=q.j(I);R(q)&&(q=w),j=j.add(q),N=M(N,U)}return new P(j,N)}n.A=function(N){return $(this,N).h},n.and=function(N){for(var I=Math.max(this.g.length,N.g.length),O=[],z=0;z<I;z++)O[z]=this.i(z)&N.i(z);return new u(O,this.h&N.h)},n.or=function(N){for(var I=Math.max(this.g.length,N.g.length),O=[],z=0;z<I;z++)O[z]=this.i(z)|N.i(z);return new u(O,this.h|N.h)},n.xor=function(N){for(var I=Math.max(this.g.length,N.g.length),O=[],z=0;z<I;z++)O[z]=this.i(z)^N.i(z);return new u(O,this.h^N.h)};function V(N){for(var I=N.g.length+1,O=[],z=0;z<I;z++)O[z]=N.i(z)<<1|N.i(z-1)>>>31;return new u(O,N.h)}function Y(N,I){var O=I>>5;I%=32;for(var z=N.g.length-O,j=[],q=0;q<z;q++)j[q]=0<I?N.i(q+O)>>>I|N.i(q+O+1)<<32-I:N.i(q+O);return new u(j,N.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,FC=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=d,u.fromString=g,Ps=u}).apply(typeof pR<"u"?pR:typeof self<"u"?self:typeof window<"u"?window:{});var Am=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qC,rf,HC,Bm,p0,YC,GC,KC;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,E,A){return m==Array.prototype||m==Object.prototype||(m[E]=A.value),m};function t(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof Am=="object"&&Am];for(var E=0;E<m.length;++E){var A=m[E];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var r=t(this);function a(m,E){if(E)e:{var A=r;m=m.split(".");for(var L=0;L<m.length-1;L++){var J=m[L];if(!(J in A))break e;A=A[J]}m=m[m.length-1],L=A[m],E=E(L),E!=L&&E!=null&&e(A,m,{configurable:!0,writable:!0,value:E})}}function s(m,E){m instanceof String&&(m+="");var A=0,L=!1,J={next:function(){if(!L&&A<m.length){var ie=A++;return{value:E(ie,m[ie]),done:!1}}return L=!0,{done:!0,value:void 0}}};return J[Symbol.iterator]=function(){return J},J}a("Array.prototype.values",function(m){return m||function(){return s(this,function(E,A){return A})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},c=this||self;function f(m){var E=typeof m;return E=E!="object"?E:m?Array.isArray(m)?"array":E:"null",E=="array"||E=="object"&&typeof m.length=="number"}function d(m){var E=typeof m;return E=="object"&&m!=null||E=="function"}function g(m,E,A){return m.call.apply(m.bind,arguments)}function v(m,E,A){if(!m)throw Error();if(2<arguments.length){var L=Array.prototype.slice.call(arguments,2);return function(){var J=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(J,L),m.apply(E,J)}}return function(){return m.apply(E,arguments)}}function w(m,E,A){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:v,w.apply(null,arguments)}function b(m,E){var A=Array.prototype.slice.call(arguments,1);return function(){var L=A.slice();return L.push.apply(L,arguments),m.apply(this,L)}}function R(m,E){function A(){}A.prototype=E.prototype,m.aa=E.prototype,m.prototype=new A,m.prototype.constructor=m,m.Qb=function(L,J,ie){for(var Te=Array(arguments.length-2),It=2;It<arguments.length;It++)Te[It-2]=arguments[It];return E.prototype[J].apply(L,Te)}}function C(m){const E=m.length;if(0<E){const A=Array(E);for(let L=0;L<E;L++)A[L]=m[L];return A}return[]}function D(m,E){for(let A=1;A<arguments.length;A++){const L=arguments[A];if(f(L)){const J=m.length||0,ie=L.length||0;m.length=J+ie;for(let Te=0;Te<ie;Te++)m[J+Te]=L[Te]}else m.push(L)}}class M{constructor(E,A){this.i=E,this.j=A,this.h=0,this.g=null}get(){let E;return 0<this.h?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function x(m){return/^[\s\xa0]*$/.test(m)}function P(){var m=c.navigator;return m&&(m=m.userAgent)?m:""}function $(m){return $[" "](m),m}$[" "]=function(){};var V=P().indexOf("Gecko")!=-1&&!(P().toLowerCase().indexOf("webkit")!=-1&&P().indexOf("Edge")==-1)&&!(P().indexOf("Trident")!=-1||P().indexOf("MSIE")!=-1)&&P().indexOf("Edge")==-1;function Y(m,E,A){for(const L in m)E.call(A,m[L],L,m)}function N(m,E){for(const A in m)E.call(void 0,m[A],A,m)}function I(m){const E={};for(const A in m)E[A]=m[A];return E}const O="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function z(m,E){let A,L;for(let J=1;J<arguments.length;J++){L=arguments[J];for(A in L)m[A]=L[A];for(let ie=0;ie<O.length;ie++)A=O[ie],Object.prototype.hasOwnProperty.call(L,A)&&(m[A]=L[A])}}function j(m){var E=1;m=m.split(":");const A=[];for(;0<E&&m.length;)A.push(m.shift()),E--;return m.length&&A.push(m.join(":")),A}function q(m){c.setTimeout(()=>{throw m},0)}function U(){var m=ke;let E=null;return m.g&&(E=m.g,m.g=m.g.next,m.g||(m.h=null),E.next=null),E}class Se{constructor(){this.h=this.g=null}add(E,A){const L=se.get();L.set(E,A),this.h?this.h.next=L:this.g=L,this.h=L}}var se=new M(()=>new re,m=>m.reset());class re{constructor(){this.next=this.g=this.h=null}set(E,A){this.h=E,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let de,ge=!1,ke=new Se,F=()=>{const m=c.Promise.resolve(void 0);de=()=>{m.then(ae)}};var ae=()=>{for(var m;m=U();){try{m.h.call(m.g)}catch(A){q(A)}var E=se;E.j(m),100>E.h&&(E.h++,m.next=E.g,E.g=m)}ge=!1};function ve(){this.s=this.s,this.C=this.C}ve.prototype.s=!1,ve.prototype.ma=function(){this.s||(this.s=!0,this.N())},ve.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ye(m,E){this.type=m,this.g=this.target=E,this.defaultPrevented=!1}ye.prototype.h=function(){this.defaultPrevented=!0};var _e=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var m=!1,E=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const A=()=>{};c.addEventListener("test",A,E),c.removeEventListener("test",A,E)}catch{}return m}();function Pe(m,E){if(ye.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var A=this.type=m.type,L=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=E,E=m.relatedTarget){if(V){e:{try{$(E.nodeName);var J=!0;break e}catch{}J=!1}J||(E=null)}}else A=="mouseover"?E=m.fromElement:A=="mouseout"&&(E=m.toElement);this.relatedTarget=E,L?(this.clientX=L.clientX!==void 0?L.clientX:L.pageX,this.clientY=L.clientY!==void 0?L.clientY:L.pageY,this.screenX=L.screenX||0,this.screenY=L.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:Le[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&Pe.aa.h.call(this)}}R(Pe,ye);var Le={2:"touch",3:"pen",4:"mouse"};Pe.prototype.h=function(){Pe.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var wt="closure_listenable_"+(1e6*Math.random()|0),dt=0;function ct(m,E,A,L,J){this.listener=m,this.proxy=null,this.src=E,this.type=A,this.capture=!!L,this.ha=J,this.key=++dt,this.da=this.fa=!1}function mt(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function Rn(m){this.src=m,this.g={},this.h=0}Rn.prototype.add=function(m,E,A,L,J){var ie=m.toString();m=this.g[ie],m||(m=this.g[ie]=[],this.h++);var Te=vn(m,E,L,J);return-1<Te?(E=m[Te],A||(E.fa=!1)):(E=new ct(E,this.src,ie,!!L,J),E.fa=A,m.push(E)),E};function qr(m,E){var A=E.type;if(A in m.g){var L=m.g[A],J=Array.prototype.indexOf.call(L,E,void 0),ie;(ie=0<=J)&&Array.prototype.splice.call(L,J,1),ie&&(mt(E),m.g[A].length==0&&(delete m.g[A],m.h--))}}function vn(m,E,A,L){for(var J=0;J<m.length;++J){var ie=m[J];if(!ie.da&&ie.listener==E&&ie.capture==!!A&&ie.ha==L)return J}return-1}var ma="closure_lm_"+(1e6*Math.random()|0),pa={};function Di(m,E,A,L,J){if(Array.isArray(E)){for(var ie=0;ie<E.length;ie++)Di(m,E[ie],A,L,J);return null}return A=di(A),m&&m[wt]?m.K(E,A,d(L)?!!L.capture:!1,J):rl(m,E,A,!1,L,J)}function rl(m,E,A,L,J,ie){if(!E)throw Error("Invalid event type");var Te=d(J)?!!J.capture:!!J,It=Go(m);if(It||(m[ma]=It=new Rn(m)),A=It.add(E,A,L,Te,ie),A.proxy)return A;if(L=Ho(),A.proxy=L,L.src=m,L.listener=A,m.addEventListener)_e||(J=Te),J===void 0&&(J=!1),m.addEventListener(E.toString(),L,J);else if(m.attachEvent)m.attachEvent(ri(E.toString()),L);else if(m.addListener&&m.removeListener)m.addListener(L);else throw Error("addEventListener and attachEvent are unavailable.");return A}function Ho(){function m(A){return E.call(m.src,m.listener,A)}const E=Ja;return m}function Yo(m,E,A,L,J){if(Array.isArray(E))for(var ie=0;ie<E.length;ie++)Yo(m,E[ie],A,L,J);else L=d(L)?!!L.capture:!!L,A=di(A),m&&m[wt]?(m=m.i,E=String(E).toString(),E in m.g&&(ie=m.g[E],A=vn(ie,A,L,J),-1<A&&(mt(ie[A]),Array.prototype.splice.call(ie,A,1),ie.length==0&&(delete m.g[E],m.h--)))):m&&(m=Go(m))&&(E=m.g[E.toString()],m=-1,E&&(m=vn(E,A,L,J)),(A=-1<m?E[m]:null)&&Wa(A))}function Wa(m){if(typeof m!="number"&&m&&!m.da){var E=m.src;if(E&&E[wt])qr(E.i,m);else{var A=m.type,L=m.proxy;E.removeEventListener?E.removeEventListener(A,L,m.capture):E.detachEvent?E.detachEvent(ri(A),L):E.addListener&&E.removeListener&&E.removeListener(L),(A=Go(E))?(qr(A,m),A.h==0&&(A.src=null,E[ma]=null)):mt(m)}}}function ri(m){return m in pa?pa[m]:pa[m]="on"+m}function Ja(m,E){if(m.da)m=!0;else{E=new Pe(E,this);var A=m.listener,L=m.ha||m.src;m.fa&&Wa(m),m=A.call(L,E)}return m}function Go(m){return m=m[ma],m instanceof Rn?m:null}var tr="__closure_events_fn_"+(1e9*Math.random()>>>0);function di(m){return typeof m=="function"?m:(m[tr]||(m[tr]=function(E){return m.handleEvent(E)}),m[tr])}function Ht(){ve.call(this),this.i=new Rn(this),this.M=this,this.F=null}R(Ht,ve),Ht.prototype[wt]=!0,Ht.prototype.removeEventListener=function(m,E,A,L){Yo(this,m,E,A,L)};function On(m,E){var A,L=m.F;if(L)for(A=[];L;L=L.F)A.push(L);if(m=m.M,L=E.type||E,typeof E=="string")E=new ye(E,m);else if(E instanceof ye)E.target=E.target||m;else{var J=E;E=new ye(L,m),z(E,J)}if(J=!0,A)for(var ie=A.length-1;0<=ie;ie--){var Te=E.g=A[ie];J=mi(Te,L,!0,E)&&J}if(Te=E.g=m,J=mi(Te,L,!0,E)&&J,J=mi(Te,L,!1,E)&&J,A)for(ie=0;ie<A.length;ie++)Te=E.g=A[ie],J=mi(Te,L,!1,E)&&J}Ht.prototype.N=function(){if(Ht.aa.N.call(this),this.i){var m=this.i,E;for(E in m.g){for(var A=m.g[E],L=0;L<A.length;L++)mt(A[L]);delete m.g[E],m.h--}}this.F=null},Ht.prototype.K=function(m,E,A,L){return this.i.add(String(m),E,!1,A,L)},Ht.prototype.L=function(m,E,A,L){return this.i.add(String(m),E,!0,A,L)};function mi(m,E,A,L){if(E=m.i.g[String(E)],!E)return!0;E=E.concat();for(var J=!0,ie=0;ie<E.length;++ie){var Te=E[ie];if(Te&&!Te.da&&Te.capture==A){var It=Te.listener,qn=Te.ha||Te.src;Te.fa&&qr(m.i,Te),J=It.call(qn,L)!==!1&&J}}return J&&!L.defaultPrevented}function cu(m,E,A){if(typeof m=="function")A&&(m=w(m,A));else if(m&&typeof m.handleEvent=="function")m=w(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(E)?-1:c.setTimeout(m,E||0)}function ii(m){m.g=cu(()=>{m.g=null,m.i&&(m.i=!1,ii(m))},m.l);const E=m.h;m.h=null,m.m.apply(null,E)}class hu extends ve{constructor(E,A){super(),this.m=E,this.l=A,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:ii(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ga(m){ve.call(this),this.h=m,this.g={}}R(ga,ve);var Xi=[];function nr(m){Y(m.g,function(E,A){this.g.hasOwnProperty(A)&&Wa(E)},m),m.g={}}ga.prototype.N=function(){ga.aa.N.call(this),nr(this)},ga.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ko=c.JSON.stringify,Hr=c.JSON.parse,rr=class{stringify(m){return c.JSON.stringify(m,void 0)}parse(m){return c.JSON.parse(m,void 0)}};function eo(){}eo.prototype.h=null;function fu(m){return m.h||(m.h=m.i())}function il(){}var Ii={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Wi(){ye.call(this,"d")}R(Wi,ye);function Pr(){ye.call(this,"c")}R(Pr,ye);var gr={},ya=null;function Qo(){return ya=ya||new Ht}gr.La="serverreachability";function H(m){ye.call(this,gr.La,m)}R(H,ye);function Q(m){const E=Qo();On(E,new H(E))}gr.STAT_EVENT="statevent";function ne(m,E){ye.call(this,gr.STAT_EVENT,m),this.stat=E}R(ne,ye);function ue(m){const E=Qo();On(E,new ne(E,m))}gr.Ma="timingevent";function be(m,E){ye.call(this,gr.Ma,m),this.size=E}R(be,ye);function Fe(m,E){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){m()},E)}function $e(){this.g=!0}$e.prototype.xa=function(){this.g=!1};function Ve(m,E,A,L,J,ie){m.info(function(){if(m.g)if(ie)for(var Te="",It=ie.split("&"),qn=0;qn<It.length;qn++){var Ot=It[qn].split("=");if(1<Ot.length){var or=Ot[0];Ot=Ot[1];var Hn=or.split("_");Te=2<=Hn.length&&Hn[1]=="type"?Te+(or+"="+Ot+"&"):Te+(or+"=redacted&")}}else Te=null;else Te=ie;return"XMLHTTP REQ ("+L+") [attempt "+J+"]: "+E+`
`+A+`
`+Te})}function je(m,E,A,L,J,ie,Te){m.info(function(){return"XMLHTTP RESP ("+L+") [ attempt "+J+"]: "+E+`
`+A+`
`+ie+" "+Te})}function Ae(m,E,A,L){m.info(function(){return"XMLHTTP TEXT ("+E+"): "+Me(m,A)+(L?" "+L:"")})}function Oe(m,E){m.info(function(){return"TIMEOUT: "+E})}$e.prototype.info=function(){};function Me(m,E){if(!m.g)return E;if(!E)return null;try{var A=JSON.parse(E);if(A){for(m=0;m<A.length;m++)if(Array.isArray(A[m])){var L=A[m];if(!(2>L.length)){var J=L[1];if(Array.isArray(J)&&!(1>J.length)){var ie=J[0];if(ie!="noop"&&ie!="stop"&&ie!="close")for(var Te=1;Te<J.length;Te++)J[Te]=""}}}}return Ko(A)}catch{return E}}var Ye={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Pt={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},pn;function Jt(){}R(Jt,eo),Jt.prototype.g=function(){return new XMLHttpRequest},Jt.prototype.i=function(){return{}},pn=new Jt;function kt(m,E,A,L){this.j=m,this.i=E,this.l=A,this.R=L||1,this.U=new ga(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new dn}function dn(){this.i=null,this.g="",this.h=!1}var Yr={},pi={};function Mn(m,E,A){m.L=1,m.v=ll(An(E)),m.m=A,m.P=!0,Vn(m,null)}function Vn(m,E){m.F=Date.now(),jt(m),m.A=An(m.v);var A=m.A,L=m.R;Array.isArray(L)||(L=[String(L)]),io(A.i,"t",L),m.C=0,A=m.j.J,m.h=new dn,m.g=Td(m.j,A?E:null,!m.m),0<m.O&&(m.M=new hu(w(m.Y,m,m.g),m.O)),E=m.U,A=m.g,L=m.ca;var J="readystatechange";Array.isArray(J)||(J&&(Xi[0]=J.toString()),J=Xi);for(var ie=0;ie<J.length;ie++){var Te=Di(A,J[ie],L||E.handleEvent,!1,E.h||E);if(!Te)break;E.g[Te.key]=Te}E=m.H?I(m.H):{},m.m?(m.u||(m.u="POST"),E["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,E)):(m.u="GET",m.g.ea(m.A,m.u,null,E)),Q(),Ve(m.i,m.u,m.A,m.l,m.R,m.m)}kt.prototype.ca=function(m){m=m.target;const E=this.M;E&&Li(m)==3?E.j():this.Y(m)},kt.prototype.Y=function(m){try{if(m==this.g)e:{const Hn=Li(this.g);var E=this.g.Ba();const lo=this.g.Z();if(!(3>Hn)&&(Hn!=3||this.g&&(this.h.h||this.g.oa()||fd(this.g)))){this.J||Hn!=4||E==7||(E==8||0>=lo?Q(3):Q(2)),Ji(this);var A=this.g.Z();this.X=A;t:if(Oi(this)){var L=fd(this.g);m="";var J=L.length,ie=Li(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Bt(this),ft(this);var Te="";break t}this.h.i=new c.TextDecoder}for(E=0;E<J;E++)this.h.h=!0,m+=this.h.i.decode(L[E],{stream:!(ie&&E==J-1)});L.length=0,this.h.g+=m,this.C=0,Te=this.h.g}else Te=this.g.oa();if(this.o=A==200,je(this.i,this.u,this.A,this.l,this.R,Hn,A),this.o){if(this.T&&!this.K){t:{if(this.g){var It,qn=this.g;if((It=qn.g?qn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(It)){var Ot=It;break t}}Ot=null}if(A=Ot)Ae(this.i,this.l,A,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ir(this,A);else{this.o=!1,this.s=3,ue(12),Bt(this),ft(this);break e}}if(this.P){A=!0;let yr;for(;!this.J&&this.C<Te.length;)if(yr=ai(this,Te),yr==pi){Hn==4&&(this.s=4,ue(14),A=!1),Ae(this.i,this.l,null,"[Incomplete Response]");break}else if(yr==Yr){this.s=4,ue(15),Ae(this.i,this.l,Te,"[Invalid Chunk]"),A=!1;break}else Ae(this.i,this.l,yr,null),ir(this,yr);if(Oi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Hn!=4||Te.length!=0||this.h.h||(this.s=1,ue(16),A=!1),this.o=this.o&&A,!A)Ae(this.i,this.l,Te,"[Invalid Chunked Response]"),Bt(this),ft(this);else if(0<Te.length&&!this.W){this.W=!0;var or=this.j;or.g==this&&or.ba&&!or.M&&(or.j.info("Great, no buffering proxy detected. Bytes received: "+Te.length),pl(or),or.M=!0,ue(11))}}else Ae(this.i,this.l,Te,null),ir(this,Te);Hn==4&&Bt(this),this.o&&!this.J&&(Hn==4?yd(this.j,this):(this.o=!1,jt(this)))}else Eg(this.g),A==400&&0<Te.indexOf("Unknown SID")?(this.s=3,ue(12)):(this.s=0,ue(13)),Bt(this),ft(this)}}}catch{}finally{}};function Oi(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function ai(m,E){var A=m.C,L=E.indexOf(`
`,A);return L==-1?pi:(A=Number(E.substring(A,L)),isNaN(A)?Yr:(L+=1,L+A>E.length?pi:(E=E.slice(L,L+A),m.C=L+A,E)))}kt.prototype.cancel=function(){this.J=!0,Bt(this)};function jt(m){m.S=Date.now()+m.I,va(m,m.I)}function va(m,E){if(m.B!=null)throw Error("WatchDog timer not null");m.B=Fe(w(m.ba,m),E)}function Ji(m){m.B&&(c.clearTimeout(m.B),m.B=null)}kt.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(Oe(this.i,this.A),this.L!=2&&(Q(),ue(17)),Bt(this),this.s=2,ft(this)):va(this,this.S-m)};function ft(m){m.j.G==0||m.J||yd(m.j,m)}function Bt(m){Ji(m);var E=m.M;E&&typeof E.ma=="function"&&E.ma(),m.M=null,nr(m.U),m.g&&(E=m.g,m.g=null,E.abort(),E.ma())}function ir(m,E){try{var A=m.j;if(A.G!=0&&(A.g==m||_a(A.h,m))){if(!m.K&&_a(A.h,m)&&A.G==3){try{var L=A.Da.g.parse(E)}catch{L=null}if(Array.isArray(L)&&L.length==3){var J=L;if(J[0]==0){e:if(!A.u){if(A.g)if(A.g.F+3e3<m.F)Eu(A),Tu(A);else break e;ah(A),ue(18)}}else A.za=J[1],0<A.za-A.T&&37500>J[2]&&A.F&&A.v==0&&!A.C&&(A.C=Fe(w(A.Za,A),6e3));if(1>=al(A.h)&&A.ca){try{A.ca()}catch{}A.ca=void 0}}else so(A,11)}else if((m.K||A.g==m)&&Eu(A),!x(E))for(J=A.Da.g.parse(E),E=0;E<J.length;E++){let Ot=J[E];if(A.T=Ot[0],Ot=Ot[1],A.G==2)if(Ot[0]=="c"){A.K=Ot[1],A.ia=Ot[2];const or=Ot[3];or!=null&&(A.la=or,A.j.info("VER="+A.la));const Hn=Ot[4];Hn!=null&&(A.Aa=Hn,A.j.info("SVER="+A.Aa));const lo=Ot[5];lo!=null&&typeof lo=="number"&&0<lo&&(L=1.5*lo,A.L=L,A.j.info("backChannelRequestTimeoutMs_="+L)),L=A;const yr=m.g;if(yr){const Sa=yr.g?yr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Sa){var ie=L.h;ie.g||Sa.indexOf("spdy")==-1&&Sa.indexOf("quic")==-1&&Sa.indexOf("h2")==-1||(ie.j=ie.l,ie.g=new Set,ie.h&&(Zo(ie,ie.h),ie.h=null))}if(L.D){const sh=yr.g?yr.g.getResponseHeader("X-HTTP-Session-Id"):null;sh&&(L.ya=sh,Lt(L.I,L.D,sh))}}A.G=3,A.l&&A.l.ua(),A.ba&&(A.R=Date.now()-m.F,A.j.info("Handshake RTT: "+A.R+"ms")),L=A;var Te=m;if(L.qa=_d(L,L.J?L.ia:null,L.W),Te.K){Ni(L.h,Te);var It=Te,qn=L.L;qn&&(It.I=qn),It.B&&(Ji(It),jt(It)),L.g=Te}else pd(L);0<A.i.length&&wu(A)}else Ot[0]!="stop"&&Ot[0]!="close"||so(A,7);else A.G==3&&(Ot[0]=="stop"||Ot[0]=="close"?Ot[0]=="stop"?so(A,7):rh(A):Ot[0]!="noop"&&A.l&&A.l.ta(Ot),A.v=0)}}Q(4)}catch{}}var to=class{constructor(m,E){this.g=m,this.map=E}};function an(m){this.l=m||10,c.PerformanceNavigationTiming?(m=c.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Mi(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function al(m){return m.h?1:m.g?m.g.size:0}function _a(m,E){return m.h?m.h==E:m.g?m.g.has(E):!1}function Zo(m,E){m.g?m.g.add(E):m.h=E}function Ni(m,E){m.h&&m.h==E?m.h=null:m.g&&m.g.has(E)&&m.g.delete(E)}an.prototype.cancel=function(){if(this.i=Gr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function Gr(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let E=m.i;for(const A of m.g.values())E=E.concat(A.D);return E}return C(m.i)}function ld(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(f(m)){for(var E=[],A=m.length,L=0;L<A;L++)E.push(m[L]);return E}E=[],A=0;for(L in m)E[A++]=m[L];return E}function vg(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(f(m)||typeof m=="string"){var E=[];m=m.length;for(var A=0;A<m;A++)E.push(A);return E}E=[],A=0;for(const L in m)E[A++]=L;return E}}}function ol(m,E){if(m.forEach&&typeof m.forEach=="function")m.forEach(E,void 0);else if(f(m)||typeof m=="string")Array.prototype.forEach.call(m,E,void 0);else for(var A=vg(m),L=ld(m),J=L.length,ie=0;ie<J;ie++)E.call(void 0,L[ie],A&&A[ie],m)}var Xc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function du(m,E){if(m){m=m.split("&");for(var A=0;A<m.length;A++){var L=m[A].indexOf("="),J=null;if(0<=L){var ie=m[A].substring(0,L);J=m[A].substring(L+1)}else ie=m[A];E(ie,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function no(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof no){this.h=m.h,Xo(this,m.j),this.o=m.o,this.g=m.g,sl(this,m.s),this.l=m.l;var E=m.i,A=new Ta;A.i=E.i,E.g&&(A.g=new Map(E.g),A.h=E.h),mu(this,A),this.m=m.m}else m&&(E=String(m).match(Xc))?(this.h=!1,Xo(this,E[1]||"",!0),this.o=Wo(E[2]||""),this.g=Wo(E[3]||"",!0),sl(this,E[4]),this.l=Wo(E[5]||"",!0),mu(this,E[6]||"",!0),this.m=Wo(E[7]||"")):(this.h=!1,this.i=new Ta(null,this.h))}no.prototype.toString=function(){var m=[],E=this.j;E&&m.push(xi(E,Wc,!0),":");var A=this.g;return(A||E=="file")&&(m.push("//"),(E=this.o)&&m.push(xi(E,Wc,!0),"@"),m.push(encodeURIComponent(String(A)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.s,A!=null&&m.push(":",String(A))),(A=this.l)&&(this.g&&A.charAt(0)!="/"&&m.push("/"),m.push(xi(A,A.charAt(0)=="/"?Jc:ud,!0))),(A=this.i.toString())&&m.push("?",A),(A=this.m)&&m.push("#",xi(A,wg)),m.join("")};function An(m){return new no(m)}function Xo(m,E,A){m.j=A?Wo(E,!0):E,m.j&&(m.j=m.j.replace(/:$/,""))}function sl(m,E){if(E){if(E=Number(E),isNaN(E)||0>E)throw Error("Bad port number "+E);m.s=E}else m.s=null}function mu(m,E,A){E instanceof Ta?(m.i=E,eh(m.i,m.h)):(A||(E=xi(E,Tg)),m.i=new Ta(E,m.h))}function Lt(m,E,A){m.i.set(E,A)}function ll(m){return Lt(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function Wo(m,E){return m?E?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function xi(m,E,A){return typeof m=="string"?(m=encodeURI(m).replace(E,_g),A&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function _g(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var Wc=/[#\/\?@]/g,ud=/[#\?:]/g,Jc=/[#\?]/g,Tg=/[#\?@]/g,wg=/#/g;function Ta(m,E){this.h=this.g=null,this.i=m||null,this.j=!!E}function ki(m){m.g||(m.g=new Map,m.h=0,m.i&&du(m.i,function(E,A){m.add(decodeURIComponent(E.replace(/\+/g," ")),A)}))}n=Ta.prototype,n.add=function(m,E){ki(this),this.i=null,m=ao(this,m);var A=this.g.get(m);return A||this.g.set(m,A=[]),A.push(E),this.h+=1,this};function pu(m,E){ki(m),E=ao(m,E),m.g.has(E)&&(m.i=null,m.h-=m.g.get(E).length,m.g.delete(E))}function ro(m,E){return ki(m),E=ao(m,E),m.g.has(E)}n.forEach=function(m,E){ki(this),this.g.forEach(function(A,L){A.forEach(function(J){m.call(E,J,L,this)},this)},this)},n.na=function(){ki(this);const m=Array.from(this.g.values()),E=Array.from(this.g.keys()),A=[];for(let L=0;L<E.length;L++){const J=m[L];for(let ie=0;ie<J.length;ie++)A.push(E[L])}return A},n.V=function(m){ki(this);let E=[];if(typeof m=="string")ro(this,m)&&(E=E.concat(this.g.get(ao(this,m))));else{m=Array.from(this.g.values());for(let A=0;A<m.length;A++)E=E.concat(m[A])}return E},n.set=function(m,E){return ki(this),this.i=null,m=ao(this,m),ro(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[E]),this.h+=1,this},n.get=function(m,E){return m?(m=this.V(m),0<m.length?String(m[0]):E):E};function io(m,E,A){pu(m,E),0<A.length&&(m.i=null,m.g.set(ao(m,E),C(A)),m.h+=A.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],E=Array.from(this.g.keys());for(var A=0;A<E.length;A++){var L=E[A];const ie=encodeURIComponent(String(L)),Te=this.V(L);for(L=0;L<Te.length;L++){var J=ie;Te[L]!==""&&(J+="="+encodeURIComponent(String(Te[L]))),m.push(J)}}return this.i=m.join("&")};function ao(m,E){return E=String(E),m.j&&(E=E.toLowerCase()),E}function eh(m,E){E&&!m.j&&(ki(m),m.i=null,m.g.forEach(function(A,L){var J=L.toLowerCase();L!=J&&(pu(this,L),io(this,J,A))},m)),m.j=E}function cd(m,E){const A=new $e;if(c.Image){const L=new Image;L.onload=b(Pi,A,"TestLoadImage: loaded",!0,E,L),L.onerror=b(Pi,A,"TestLoadImage: error",!1,E,L),L.onabort=b(Pi,A,"TestLoadImage: abort",!1,E,L),L.ontimeout=b(Pi,A,"TestLoadImage: timeout",!1,E,L),c.setTimeout(function(){L.ontimeout&&L.ontimeout()},1e4),L.src=m}else E(!1)}function ul(m,E){const A=new $e,L=new AbortController,J=setTimeout(()=>{L.abort(),Pi(A,"TestPingServer: timeout",!1,E)},1e4);fetch(m,{signal:L.signal}).then(ie=>{clearTimeout(J),ie.ok?Pi(A,"TestPingServer: ok",!0,E):Pi(A,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(J),Pi(A,"TestPingServer: error",!1,E)})}function Pi(m,E,A,L,J){try{J&&(J.onload=null,J.onerror=null,J.onabort=null,J.ontimeout=null),L(A)}catch{}}function cl(){this.g=new rr}function wa(m,E,A){const L=A||"";try{ol(m,function(J,ie){let Te=J;d(J)&&(Te=Ko(J)),E.push(L+ie+"="+encodeURIComponent(Te))})}catch(J){throw E.push(L+"type="+encodeURIComponent("_badmap")),J}}function Jo(m){this.l=m.Ub||null,this.j=m.eb||!1}R(Jo,eo),Jo.prototype.g=function(){return new oo(this.l,this.j)},Jo.prototype.i=function(m){return function(){return m}}({});function oo(m,E){Ht.call(this),this.D=m,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}R(oo,Ht),n=oo.prototype,n.open=function(m,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=E,this.readyState=1,ba(this)},n.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const E={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(E.body=m),(this.D||c).fetch(new Request(this.A,E)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ea(this)),this.readyState=0},n.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,ba(this)),this.g&&(this.readyState=3,ba(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;th(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function th(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}n.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var E=m.value?m.value:new Uint8Array(0);(E=this.v.decode(E,{stream:!m.done}))&&(this.response=this.responseText+=E)}m.done?Ea(this):ba(this),this.readyState==3&&th(this)}},n.Ra=function(m){this.g&&(this.response=this.responseText=m,Ea(this))},n.Qa=function(m){this.g&&(this.response=m,Ea(this))},n.ga=function(){this.g&&Ea(this)};function Ea(m){m.readyState=4,m.l=null,m.j=null,m.v=null,ba(m)}n.setRequestHeader=function(m,E){this.u.append(m,E)},n.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],E=this.h.entries();for(var A=E.next();!A.done;)A=A.value,m.push(A[0]+": "+A[1]),A=E.next();return m.join(`\r
`)};function ba(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(oo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function nh(m){let E="";return Y(m,function(A,L){E+=L,E+=":",E+=A,E+=`\r
`}),E}function ar(m,E,A){e:{for(L in A){var L=!1;break e}L=!0}L||(A=nh(A),typeof m=="string"?A!=null&&encodeURIComponent(String(A)):Lt(m,E,A))}function $t(m){Ht.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}R($t,Ht);var gu=/^https?$/i,hl=["POST","PUT"];n=$t.prototype,n.Ha=function(m){this.J=m},n.ea=function(m,E,A,L){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);E=E?E.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():pn.g(),this.v=this.o?fu(this.o):fu(pn),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(E,String(m),!0),this.B=!1}catch(ie){hd(this,ie);return}if(m=A||"",A=new Map(this.headers),L)if(Object.getPrototypeOf(L)===Object.prototype)for(var J in L)A.set(J,L[J]);else if(typeof L.keys=="function"&&typeof L.get=="function")for(const ie of L.keys())A.set(ie,L.get(ie));else throw Error("Unknown input type for opt_headers: "+String(L));L=Array.from(A.keys()).find(ie=>ie.toLowerCase()=="content-type"),J=c.FormData&&m instanceof c.FormData,!(0<=Array.prototype.indexOf.call(hl,E,void 0))||L||J||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ie,Te]of A)this.g.setRequestHeader(ie,Te);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{fl(this),this.u=!0,this.g.send(m),this.u=!1}catch(ie){hd(this,ie)}};function hd(m,E){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=E,m.m=5,yu(m),Ra(m)}function yu(m){m.A||(m.A=!0,On(m,"complete"),On(m,"error"))}n.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,On(this,"complete"),On(this,"abort"),Ra(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ra(this,!0)),$t.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?vu(this):this.bb())},n.bb=function(){vu(this)};function vu(m){if(m.h&&typeof u<"u"&&(!m.v[1]||Li(m)!=4||m.Z()!=2)){if(m.u&&Li(m)==4)cu(m.Ea,0,m);else if(On(m,"readystatechange"),Li(m)==4){m.h=!1;try{const Te=m.Z();e:switch(Te){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var A;if(!(A=E)){var L;if(L=Te===0){var J=String(m.D).match(Xc)[1]||null;!J&&c.self&&c.self.location&&(J=c.self.location.protocol.slice(0,-1)),L=!gu.test(J?J.toLowerCase():"")}A=L}if(A)On(m,"complete"),On(m,"success");else{m.m=6;try{var ie=2<Li(m)?m.g.statusText:""}catch{ie=""}m.l=ie+" ["+m.Z()+"]",yu(m)}}finally{Ra(m)}}}}function Ra(m,E){if(m.g){fl(m);const A=m.g,L=m.v[0]?()=>{}:null;m.g=null,m.v=null,E||On(m,"ready");try{A.onreadystatechange=L}catch{}}}function fl(m){m.I&&(c.clearTimeout(m.I),m.I=null)}n.isActive=function(){return!!this.g};function Li(m){return m.g?m.g.readyState:0}n.Z=function(){try{return 2<Li(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(m){if(this.g){var E=this.g.responseText;return m&&E.indexOf(m)==0&&(E=E.substring(m.length)),Hr(E)}};function fd(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function Eg(m){const E={};m=(m.g&&2<=Li(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let L=0;L<m.length;L++){if(x(m[L]))continue;var A=j(m[L]);const J=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const ie=E[J]||[];E[J]=ie,ie.push(A)}N(E,function(L){return L.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function dl(m,E,A){return A&&A.internalChannelParams&&A.internalChannelParams[m]||E}function _u(m){this.Aa=0,this.i=[],this.j=new $e,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=dl("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=dl("baseRetryDelayMs",5e3,m),this.cb=dl("retryDelaySeedMs",1e4,m),this.Wa=dl("forwardChannelMaxRetries",2,m),this.wa=dl("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new an(m&&m.concurrentRequestLimit),this.Da=new cl,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=_u.prototype,n.la=8,n.G=1,n.connect=function(m,E,A,L){ue(0),this.W=m,this.H=E||{},A&&L!==void 0&&(this.H.OSID=A,this.H.OAID=L),this.F=this.X,this.I=_d(this,null,this.W),wu(this)};function rh(m){if(dd(m),m.G==3){var E=m.U++,A=An(m.I);if(Lt(A,"SID",m.K),Lt(A,"RID",E),Lt(A,"TYPE","terminate"),ml(m,A),E=new kt(m,m.j,E),E.L=2,E.v=ll(An(A)),A=!1,c.navigator&&c.navigator.sendBeacon)try{A=c.navigator.sendBeacon(E.v.toString(),"")}catch{}!A&&c.Image&&(new Image().src=E.v,A=!0),A||(E.g=Td(E.j,null),E.g.ea(E.v)),E.F=Date.now(),jt(E)}vd(m)}function Tu(m){m.g&&(pl(m),m.g.cancel(),m.g=null)}function dd(m){Tu(m),m.u&&(c.clearTimeout(m.u),m.u=null),Eu(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&c.clearTimeout(m.s),m.s=null)}function wu(m){if(!Mi(m.h)&&!m.s){m.s=!0;var E=m.Ga;de||F(),ge||(de(),ge=!0),ke.add(E,m),m.B=0}}function bg(m,E){return al(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=E.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=Fe(w(m.Ga,m,E),oh(m,m.B)),m.B++,!0)}n.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const J=new kt(this,this.j,m);let ie=this.o;if(this.S&&(ie?(ie=I(ie),z(ie,this.S)):ie=this.S),this.m!==null||this.O||(J.H=ie,ie=null),this.P)e:{for(var E=0,A=0;A<this.i.length;A++){t:{var L=this.i[A];if("__data__"in L.map&&(L=L.map.__data__,typeof L=="string")){L=L.length;break t}L=void 0}if(L===void 0)break;if(E+=L,4096<E){E=A;break e}if(E===4096||A===this.i.length-1){E=A+1;break e}}E=1e3}else E=1e3;E=md(this,J,E),A=An(this.I),Lt(A,"RID",m),Lt(A,"CVER",22),this.D&&Lt(A,"X-HTTP-Session-Id",this.D),ml(this,A),ie&&(this.O?E="headers="+encodeURIComponent(String(nh(ie)))+"&"+E:this.m&&ar(A,this.m,ie)),Zo(this.h,J),this.Ua&&Lt(A,"TYPE","init"),this.P?(Lt(A,"$req",E),Lt(A,"SID","null"),J.T=!0,Mn(J,A,null)):Mn(J,A,E),this.G=2}}else this.G==3&&(m?ih(this,m):this.i.length==0||Mi(this.h)||ih(this))};function ih(m,E){var A;E?A=E.l:A=m.U++;const L=An(m.I);Lt(L,"SID",m.K),Lt(L,"RID",A),Lt(L,"AID",m.T),ml(m,L),m.m&&m.o&&ar(L,m.m,m.o),A=new kt(m,m.j,A,m.B+1),m.m===null&&(A.H=m.o),E&&(m.i=E.D.concat(m.i)),E=md(m,A,1e3),A.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),Zo(m.h,A),Mn(A,L,E)}function ml(m,E){m.H&&Y(m.H,function(A,L){Lt(E,L,A)}),m.l&&ol({},function(A,L){Lt(E,L,A)})}function md(m,E,A){A=Math.min(m.i.length,A);var L=m.l?w(m.l.Na,m.l,m):null;e:{var J=m.i;let ie=-1;for(;;){const Te=["count="+A];ie==-1?0<A?(ie=J[0].g,Te.push("ofs="+ie)):ie=0:Te.push("ofs="+ie);let It=!0;for(let qn=0;qn<A;qn++){let Ot=J[qn].g;const or=J[qn].map;if(Ot-=ie,0>Ot)ie=Math.max(0,J[qn].g-100),It=!1;else try{wa(or,Te,"req"+Ot+"_")}catch{L&&L(or)}}if(It){L=Te.join("&");break e}}}return m=m.i.splice(0,A),E.D=m,L}function pd(m){if(!m.g&&!m.u){m.Y=1;var E=m.Fa;de||F(),ge||(de(),ge=!0),ke.add(E,m),m.v=0}}function ah(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=Fe(w(m.Fa,m),oh(m,m.v)),m.v++,!0)}n.Fa=function(){if(this.u=null,gd(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=Fe(w(this.ab,this),m)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ue(10),Tu(this),gd(this))};function pl(m){m.A!=null&&(c.clearTimeout(m.A),m.A=null)}function gd(m){m.g=new kt(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var E=An(m.qa);Lt(E,"RID","rpc"),Lt(E,"SID",m.K),Lt(E,"AID",m.T),Lt(E,"CI",m.F?"0":"1"),!m.F&&m.ja&&Lt(E,"TO",m.ja),Lt(E,"TYPE","xmlhttp"),ml(m,E),m.m&&m.o&&ar(E,m.m,m.o),m.L&&(m.g.I=m.L);var A=m.g;m=m.ia,A.L=1,A.v=ll(An(E)),A.m=null,A.P=!0,Vn(A,m)}n.Za=function(){this.C!=null&&(this.C=null,Tu(this),ah(this),ue(19))};function Eu(m){m.C!=null&&(c.clearTimeout(m.C),m.C=null)}function yd(m,E){var A=null;if(m.g==E){Eu(m),pl(m),m.g=null;var L=2}else if(_a(m.h,E))A=E.D,Ni(m.h,E),L=1;else return;if(m.G!=0){if(E.o)if(L==1){A=E.m?E.m.length:0,E=Date.now()-E.F;var J=m.B;L=Qo(),On(L,new be(L,A)),wu(m)}else pd(m);else if(J=E.s,J==3||J==0&&0<E.X||!(L==1&&bg(m,E)||L==2&&ah(m)))switch(A&&0<A.length&&(E=m.h,E.i=E.i.concat(A)),J){case 1:so(m,5);break;case 4:so(m,10);break;case 3:so(m,6);break;default:so(m,2)}}}function oh(m,E){let A=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(A*=2),A*E}function so(m,E){if(m.j.info("Error code "+E),E==2){var A=w(m.fb,m),L=m.Xa;const J=!L;L=new no(L||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Xo(L,"https"),ll(L),J?cd(L.toString(),A):ul(L.toString(),A)}else ue(2);m.G=0,m.l&&m.l.sa(E),vd(m),dd(m)}n.fb=function(m){m?(this.j.info("Successfully pinged google.com"),ue(2)):(this.j.info("Failed to ping google.com"),ue(1))};function vd(m){if(m.G=0,m.ka=[],m.l){const E=Gr(m.h);(E.length!=0||m.i.length!=0)&&(D(m.ka,E),D(m.ka,m.i),m.h.i.length=0,C(m.i),m.i.length=0),m.l.ra()}}function _d(m,E,A){var L=A instanceof no?An(A):new no(A);if(L.g!="")E&&(L.g=E+"."+L.g),sl(L,L.s);else{var J=c.location;L=J.protocol,E=E?E+"."+J.hostname:J.hostname,J=+J.port;var ie=new no(null);L&&Xo(ie,L),E&&(ie.g=E),J&&sl(ie,J),A&&(ie.l=A),L=ie}return A=m.D,E=m.ya,A&&E&&Lt(L,A,E),Lt(L,"VER",m.la),ml(m,L),L}function Td(m,E,A){if(E&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return E=m.Ca&&!m.pa?new $t(new Jo({eb:A})):new $t(m.pa),E.Ha(m.J),E}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function wd(){}n=wd.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function bu(){}bu.prototype.g=function(m,E){return new Kr(m,E)};function Kr(m,E){Ht.call(this),this.g=new _u(E),this.l=m,this.h=E&&E.messageUrlParams||null,m=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(m?m["X-WebChannel-Content-Type"]=E.messageContentType:m={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.va&&(m?m["X-WebChannel-Client-Profile"]=E.va:m={"X-WebChannel-Client-Profile":E.va}),this.g.S=m,(m=E&&E.Sb)&&!x(m)&&(this.g.m=m),this.v=E&&E.supportsCrossDomainXhr||!1,this.u=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!x(E)&&(this.g.D=E,m=this.h,m!==null&&E in m&&(m=this.h,E in m&&delete m[E])),this.j=new Aa(this)}R(Kr,Ht),Kr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Kr.prototype.close=function(){rh(this.g)},Kr.prototype.o=function(m){var E=this.g;if(typeof m=="string"){var A={};A.__data__=m,m=A}else this.u&&(A={},A.__data__=Ko(m),m=A);E.i.push(new to(E.Ya++,m)),E.G==3&&wu(E)},Kr.prototype.N=function(){this.g.l=null,delete this.j,rh(this.g),delete this.g,Kr.aa.N.call(this)};function Ed(m){Wi.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var E=m.__sm__;if(E){e:{for(const A in E){m=A;break e}m=void 0}(this.i=m)&&(m=this.i,E=E!==null&&m in E?E[m]:void 0),this.data=E}else this.data=m}R(Ed,Wi);function bd(){Pr.call(this),this.status=1}R(bd,Pr);function Aa(m){this.g=m}R(Aa,wd),Aa.prototype.ua=function(){On(this.g,"a")},Aa.prototype.ta=function(m){On(this.g,new Ed(m))},Aa.prototype.sa=function(m){On(this.g,new bd)},Aa.prototype.ra=function(){On(this.g,"b")},bu.prototype.createWebChannel=bu.prototype.g,Kr.prototype.send=Kr.prototype.o,Kr.prototype.open=Kr.prototype.m,Kr.prototype.close=Kr.prototype.close,KC=function(){return new bu},GC=function(){return Qo()},YC=gr,p0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ye.NO_ERROR=0,Ye.TIMEOUT=8,Ye.HTTP_ERROR=6,Bm=Ye,Pt.COMPLETE="complete",HC=Pt,il.EventType=Ii,Ii.OPEN="a",Ii.CLOSE="b",Ii.ERROR="c",Ii.MESSAGE="d",Ht.prototype.listen=Ht.prototype.K,rf=il,$t.prototype.listenOnce=$t.prototype.L,$t.prototype.getLastError=$t.prototype.Ka,$t.prototype.getLastErrorCode=$t.prototype.Ba,$t.prototype.getStatus=$t.prototype.Z,$t.prototype.getResponseJson=$t.prototype.Oa,$t.prototype.getResponseText=$t.prototype.oa,$t.prototype.send=$t.prototype.ea,$t.prototype.setWithCredentials=$t.prototype.Ha,qC=$t}).apply(typeof Am<"u"?Am:typeof self<"u"?self:typeof window<"u"?window:{});const gR="@firebase/firestore",yR="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}jr.UNAUTHENTICATED=new jr(null),jr.GOOGLE_CREDENTIALS=new jr("google-credentials-uid"),jr.FIRST_PARTY=new jr("first-party-uid"),jr.MOCK_USER=new jr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yc="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nu=new w_("@firebase/firestore");function ec(){return nu.logLevel}function Ie(n,...e){if(nu.logLevel<=Rt.DEBUG){const t=e.map(k_);nu.debug(`Firestore (${Yc}): ${n}`,...t)}}function Bo(n,...e){if(nu.logLevel<=Rt.ERROR){const t=e.map(k_);nu.error(`Firestore (${Yc}): ${n}`,...t)}}function Dc(n,...e){if(nu.logLevel<=Rt.WARN){const t=e.map(k_);nu.warn(`Firestore (${Yc}): ${n}`,...t)}}function k_(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nt(n="Unexpected state"){const e=`FIRESTORE (${Yc}) INTERNAL ASSERTION FAILED: `+n;throw Bo(e),new Error(e)}function qt(n,e){n||nt()}function lt(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ne extends qo{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(jr.UNAUTHENTICATED))}shutdown(){}}class F4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class q4{constructor(e){this.t=e,this.currentUser=jr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){qt(this.o===void 0);let r=this.i;const a=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let s=new Ls;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ls,e.enqueueRetryable(()=>a(this.currentUser))};const u=()=>{const f=s;e.enqueueRetryable(async()=>{await f.promise,await a(this.currentUser)})},c=f=>{Ie("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(f=>c(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?c(f):(Ie("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ls)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Ie("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(qt(typeof r.accessToken=="string"),new QC(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qt(e===null||typeof e=="string"),new jr(e)}}class H4{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=jr.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Y4{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new H4(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(jr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class vR{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class G4{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Pa(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){qt(this.o===void 0);const r=s=>{s.error!=null&&Ie("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const u=s.token!==this.R;return this.R=s.token,Ie("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const a=s=>{Ie("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>a(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?a(s):Ie("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new vR(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(qt(typeof t.token=="string"),this.R=t.token,new vR(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K4(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZC(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=K4(40);for(let s=0;s<a.length;++s)r.length<20&&a[s]<t&&(r+=e.charAt(a[s]%62))}return r}}function yt(n,e){return n<e?-1:n>e?1:0}function g0(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),a=e.codePointAt(t);if(r!==a){if(r<128&&a<128)return yt(r,a);{const s=ZC(),u=Q4(s.encode(_R(n,t)),s.encode(_R(e,t)));return u!==0?u:yt(r,a)}}t+=r>65535?2:1}return yt(n.length,e.length)}function _R(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function Q4(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return yt(n[t],e[t]);return yt(n.length,e.length)}function Ic(n,e,t){return n.length===e.length&&n.every((r,a)=>t(r,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TR=-62135596800,wR=1e6;class Jn{static now(){return Jn.fromMillis(Date.now())}static fromDate(e){return Jn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*wR);return new Jn(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ne(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ne(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<TR)throw new Ne(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ne(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/wR}_compareTo(e){return this.seconds===e.seconds?yt(this.nanoseconds,e.nanoseconds):yt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-TR;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{static fromTimestamp(e){return new at(e)}static min(){return new at(new Jn(0,0))}static max(){return new at(new Jn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER="__name__";class ka{constructor(e,t,r){t===void 0?t=0:t>e.length&&nt(),r===void 0?r=e.length-t:r>e.length-t&&nt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return ka.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ka?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let a=0;a<r;a++){const s=ka.compareSegments(e.get(a),t.get(a));if(s!==0)return s}return yt(e.length,t.length)}static compareSegments(e,t){const r=ka.isNumericId(e),a=ka.isNumericId(t);return r&&!a?-1:!r&&a?1:r&&a?ka.extractNumericId(e).compare(ka.extractNumericId(t)):g0(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ps.fromString(e.substring(4,e.length-2))}}class mn extends ka{construct(e,t,r){return new mn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ne(fe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(a=>a.length>0))}return new mn(t)}static emptyPath(){return new mn([])}}const Z4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Nr extends ka{construct(e,t,r){return new Nr(e,t,r)}static isValidIdentifier(e){return Z4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Nr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ER}static keyField(){return new Nr([ER])}static fromServerFormat(e){const t=[];let r="",a=0;const s=()=>{if(r.length===0)throw new Ne(fe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;a<e.length;){const c=e[a];if(c==="\\"){if(a+1===e.length)throw new Ne(fe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[a+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new Ne(fe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,a+=2}else c==="`"?(u=!u,a++):c!=="."||u?(r+=c,a++):(s(),a++)}if(s(),u)throw new Ne(fe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Nr(t)}static emptyPath(){return new Nr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(e){this.path=e}static fromPath(e){return new He(mn.fromString(e))}static fromName(e){return new He(mn.fromString(e).popFirst(5))}static empty(){return new He(mn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&mn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return mn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new He(new mn(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Af=-1;function X4(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,a=at.fromTimestamp(r===1e9?new Jn(t+1,0):new Jn(t,r));return new qs(a,He.empty(),e)}function W4(n){return new qs(n.readTime,n.key,Af)}class qs{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new qs(at.min(),He.empty(),Af)}static max(){return new qs(at.max(),He.empty(),Af)}}function J4(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=He.comparator(n.documentKey,e.documentKey),t!==0?t:yt(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class tL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gc(n){if(n.code!==fe.FAILED_PRECONDITION||n.message!==eL)throw n;Ie("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&nt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new he((r,a)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,a)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof he?t:he.resolve(t)}catch(t){return he.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):he.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):he.reject(t)}static resolve(e){return new he((t,r)=>{t(e)})}static reject(e){return new he((t,r)=>{r(e)})}static waitFor(e){return new he((t,r)=>{let a=0,s=0,u=!1;e.forEach(c=>{++a,c.next(()=>{++s,u&&s===a&&t()},f=>r(f))}),u=!0,s===a&&t()})}static or(e){let t=he.resolve(!1);for(const r of e)t=t.next(a=>a?he.resolve(a):r());return t}static forEach(e,t){const r=[];return e.forEach((a,s)=>{r.push(t.call(this,a,s))}),this.waitFor(r)}static mapArray(e,t){return new he((r,a)=>{const s=e.length,u=new Array(s);let c=0;for(let f=0;f<s;f++){const d=f;t(e[d]).next(g=>{u[d]=g,++c,c===s&&r(u)},g=>a(g))}})}static doWhile(e,t){return new he((r,a)=>{const s=()=>{e()===!0?t().next(()=>{s()},a):r()};s()})}}function nL(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Kc(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.oe(r),this._e=r=>t.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}rg.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P_=-1;function ig(n){return n==null}function _p(n){return n===0&&1/n==-1/0}function rL(n){return typeof n=="number"&&Number.isInteger(n)&&!_p(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WC="";function iL(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=bR(e)),e=aL(n.get(t),e);return bR(e)}function aL(n,e){let t=e;const r=n.length;for(let a=0;a<r;a++){const s=n.charAt(a);switch(s){case"\0":t+="";break;case WC:t+="";break;default:t+=s}}return t}function bR(n){return n+WC+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RR(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function el(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function JC(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e,t){this.comparator=e,this.root=t||Ir.EMPTY}insert(e,t){return new bn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ir.BLACK,null,null))}remove(e){return new bn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ir.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return t+r.left.size;a<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Sm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Sm(this.root,e,this.comparator,!1)}getReverseIterator(){return new Sm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Sm(this.root,e,this.comparator,!0)}}class Sm{constructor(e,t,r,a){this.isReverse=a,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&a&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ir{constructor(e,t,r,a,s){this.key=e,this.value=t,this.color=r??Ir.RED,this.left=a??Ir.EMPTY,this.right=s??Ir.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,a,s){return new Ir(e??this.key,t??this.value,r??this.color,a??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let a=this;const s=r(e,a.key);return a=s<0?a.copy(null,null,null,a.left.insert(e,t,r),null):s===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Ir.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return Ir.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ir.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ir.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw nt();const e=this.left.check();if(e!==this.right.check())throw nt();return e+(this.isRed()?0:1)}}Ir.EMPTY=null,Ir.RED=!0,Ir.BLACK=!1;Ir.EMPTY=new class{constructor(){this.size=0}get key(){throw nt()}get value(){throw nt()}get color(){throw nt()}get left(){throw nt()}get right(){throw nt()}copy(e,t,r,a,s){return this}insert(e,t,r){return new Ir(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(e){this.comparator=e,this.data=new bn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new AR(this.data.getIterator())}getIteratorFrom(e){return new AR(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof er)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,s=r.getNext().key;if(this.comparator(a,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new er(this.comparator);return t.data=e,t}}class AR{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(e){this.fields=e,e.sort(Nr.comparator)}static empty(){return new Ai([])}unionWith(e){let t=new er(Nr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Ai(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ic(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(a){try{return atob(a)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new eD("Invalid base64 string: "+s):s}}(e);return new kr(t)}static fromUint8Array(e){const t=function(a){let s="";for(let u=0;u<a.length;++u)s+=String.fromCharCode(a[u]);return s}(e);return new kr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let a=0;a<t.length;a++)r[a]=t.charCodeAt(a);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return yt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}kr.EMPTY_BYTE_STRING=new kr("");const oL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hs(n){if(qt(!!n),typeof n=="string"){let e=0;const t=oL.exec(n);if(qt(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Pn(n.seconds),nanos:Pn(n.nanos)}}function Pn(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ys(n){return typeof n=="string"?kr.fromBase64String(n):kr.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tD="server_timestamp",nD="__type__",rD="__previous_value__",iD="__local_write_time__";function L_(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[nD])===null||t===void 0?void 0:t.stringValue)===tD}function ag(n){const e=n.mapValue.fields[rD];return L_(e)?ag(e):e}function Sf(n){const e=Hs(n.mapValue.fields[iD].timestampValue);return new Jn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sL{constructor(e,t,r,a,s,u,c,f,d){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=a,this.ssl=s,this.forceLongPolling=u,this.autoDetectLongPolling=c,this.longPollingOptions=f,this.useFetchStreams=d}}const Tp="(default)";class Cf{constructor(e,t){this.projectId=e,this.database=t||Tp}static empty(){return new Cf("","")}get isDefaultDatabase(){return this.database===Tp}isEqual(e){return e instanceof Cf&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aD="__type__",lL="__max__",Cm={mapValue:{}},oD="__vector__",wp="value";function Gs(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?L_(n)?4:cL(n)?9007199254740991:uL(n)?10:11:nt()}function Ka(n,e){if(n===e)return!0;const t=Gs(n);if(t!==Gs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Sf(n).isEqual(Sf(e));case 3:return function(a,s){if(typeof a.timestampValue=="string"&&typeof s.timestampValue=="string"&&a.timestampValue.length===s.timestampValue.length)return a.timestampValue===s.timestampValue;const u=Hs(a.timestampValue),c=Hs(s.timestampValue);return u.seconds===c.seconds&&u.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(a,s){return Ys(a.bytesValue).isEqual(Ys(s.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(a,s){return Pn(a.geoPointValue.latitude)===Pn(s.geoPointValue.latitude)&&Pn(a.geoPointValue.longitude)===Pn(s.geoPointValue.longitude)}(n,e);case 2:return function(a,s){if("integerValue"in a&&"integerValue"in s)return Pn(a.integerValue)===Pn(s.integerValue);if("doubleValue"in a&&"doubleValue"in s){const u=Pn(a.doubleValue),c=Pn(s.doubleValue);return u===c?_p(u)===_p(c):isNaN(u)&&isNaN(c)}return!1}(n,e);case 9:return Ic(n.arrayValue.values||[],e.arrayValue.values||[],Ka);case 10:case 11:return function(a,s){const u=a.mapValue.fields||{},c=s.mapValue.fields||{};if(RR(u)!==RR(c))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(c[f]===void 0||!Ka(u[f],c[f])))return!1;return!0}(n,e);default:return nt()}}function Df(n,e){return(n.values||[]).find(t=>Ka(t,e))!==void 0}function Oc(n,e){if(n===e)return 0;const t=Gs(n),r=Gs(e);if(t!==r)return yt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return yt(n.booleanValue,e.booleanValue);case 2:return function(s,u){const c=Pn(s.integerValue||s.doubleValue),f=Pn(u.integerValue||u.doubleValue);return c<f?-1:c>f?1:c===f?0:isNaN(c)?isNaN(f)?0:-1:1}(n,e);case 3:return SR(n.timestampValue,e.timestampValue);case 4:return SR(Sf(n),Sf(e));case 5:return g0(n.stringValue,e.stringValue);case 6:return function(s,u){const c=Ys(s),f=Ys(u);return c.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(s,u){const c=s.split("/"),f=u.split("/");for(let d=0;d<c.length&&d<f.length;d++){const g=yt(c[d],f[d]);if(g!==0)return g}return yt(c.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,u){const c=yt(Pn(s.latitude),Pn(u.latitude));return c!==0?c:yt(Pn(s.longitude),Pn(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return CR(n.arrayValue,e.arrayValue);case 10:return function(s,u){var c,f,d,g;const v=s.fields||{},w=u.fields||{},b=(c=v[wp])===null||c===void 0?void 0:c.arrayValue,R=(f=w[wp])===null||f===void 0?void 0:f.arrayValue,C=yt(((d=b==null?void 0:b.values)===null||d===void 0?void 0:d.length)||0,((g=R==null?void 0:R.values)===null||g===void 0?void 0:g.length)||0);return C!==0?C:CR(b,R)}(n.mapValue,e.mapValue);case 11:return function(s,u){if(s===Cm.mapValue&&u===Cm.mapValue)return 0;if(s===Cm.mapValue)return 1;if(u===Cm.mapValue)return-1;const c=s.fields||{},f=Object.keys(c),d=u.fields||{},g=Object.keys(d);f.sort(),g.sort();for(let v=0;v<f.length&&v<g.length;++v){const w=g0(f[v],g[v]);if(w!==0)return w;const b=Oc(c[f[v]],d[g[v]]);if(b!==0)return b}return yt(f.length,g.length)}(n.mapValue,e.mapValue);default:throw nt()}}function SR(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return yt(n,e);const t=Hs(n),r=Hs(e),a=yt(t.seconds,r.seconds);return a!==0?a:yt(t.nanos,r.nanos)}function CR(n,e){const t=n.values||[],r=e.values||[];for(let a=0;a<t.length&&a<r.length;++a){const s=Oc(t[a],r[a]);if(s)return s}return yt(t.length,r.length)}function Mc(n){return y0(n)}function y0(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Hs(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Ys(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return He.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",a=!0;for(const s of t.values||[])a?a=!1:r+=",",r+=y0(s);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let a="{",s=!0;for(const u of r)s?s=!1:a+=",",a+=`${u}:${y0(t.fields[u])}`;return a+"}"}(n.mapValue):nt()}function $m(n){switch(Gs(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ag(n);return e?16+$m(e):16;case 5:return 2*n.stringValue.length;case 6:return Ys(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((a,s)=>a+$m(s),0)}(n.arrayValue);case 10:case 11:return function(r){let a=0;return el(r.fields,(s,u)=>{a+=s.length+$m(u)}),a}(n.mapValue);default:throw nt()}}function DR(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function v0(n){return!!n&&"integerValue"in n}function V_(n){return!!n&&"arrayValue"in n}function IR(n){return!!n&&"nullValue"in n}function OR(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Fm(n){return!!n&&"mapValue"in n}function uL(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[aD])===null||t===void 0?void 0:t.stringValue)===oD}function ff(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return el(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=ff(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ff(n.arrayValue.values[t]);return e}return Object.assign({},n)}function cL(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===lL}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(e){this.value=e}static empty(){return new ui({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Fm(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ff(t)}setAll(e){let t=Nr.emptyPath(),r={},a=[];e.forEach((u,c)=>{if(!t.isImmediateParentOf(c)){const f=this.getFieldsMap(t);this.applyChanges(f,r,a),r={},a=[],t=c.popLast()}u?r[c.lastSegment()]=ff(u):a.push(c.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,a)}delete(e){const t=this.field(e.popLast());Fm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ka(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=t.mapValue.fields[e.get(r)];Fm(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,r){el(t,(a,s)=>e[a]=s);for(const a of r)delete e[a]}clone(){return new ui(ff(this.value))}}function sD(n){const e=[];return el(n.fields,(t,r)=>{const a=new Nr([t]);if(Fm(r)){const s=sD(r.mapValue).fields;if(s.length===0)e.push(a);else for(const u of s)e.push(a.child(u))}else e.push(a)}),new Ai(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(e,t,r,a,s,u,c){this.key=e,this.documentType=t,this.version=r,this.readTime=a,this.createTime=s,this.data=u,this.documentState=c}static newInvalidDocument(e){return new Br(e,0,at.min(),at.min(),at.min(),ui.empty(),0)}static newFoundDocument(e,t,r,a){return new Br(e,1,t,at.min(),r,a,0)}static newNoDocument(e,t){return new Br(e,2,t,at.min(),at.min(),ui.empty(),0)}static newUnknownDocument(e,t){return new Br(e,3,t,at.min(),at.min(),ui.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(at.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ui.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ui.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=at.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Br&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Br(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep{constructor(e,t){this.position=e,this.inclusive=t}}function MR(n,e,t){let r=0;for(let a=0;a<n.position.length;a++){const s=e[a],u=n.position[a];if(s.field.isKeyField()?r=He.comparator(He.fromName(u.referenceValue),t.key):r=Oc(u,t.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function NR(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ka(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(e,t="asc"){this.field=e,this.dir=t}}function hL(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{}class Fn extends lD{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new dL(e,t,r):t==="array-contains"?new gL(e,r):t==="in"?new yL(e,r):t==="not-in"?new vL(e,r):t==="array-contains-any"?new _L(e,r):new Fn(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new mL(e,r):new pL(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Oc(t,this.value)):t!==null&&Gs(this.value)===Gs(t)&&this.matchesComparison(Oc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return nt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ha extends lD{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new ha(e,t)}matches(e){return uD(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function uD(n){return n.op==="and"}function cD(n){return fL(n)&&uD(n)}function fL(n){for(const e of n.filters)if(e instanceof ha)return!1;return!0}function _0(n){if(n instanceof Fn)return n.field.canonicalString()+n.op.toString()+Mc(n.value);if(cD(n))return n.filters.map(e=>_0(e)).join(",");{const e=n.filters.map(t=>_0(t)).join(",");return`${n.op}(${e})`}}function hD(n,e){return n instanceof Fn?function(r,a){return a instanceof Fn&&r.op===a.op&&r.field.isEqual(a.field)&&Ka(r.value,a.value)}(n,e):n instanceof ha?function(r,a){return a instanceof ha&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce((s,u,c)=>s&&hD(u,a.filters[c]),!0):!1}(n,e):void nt()}function fD(n){return n instanceof Fn?function(t){return`${t.field.canonicalString()} ${t.op} ${Mc(t.value)}`}(n):n instanceof ha?function(t){return t.op.toString()+" {"+t.getFilters().map(fD).join(" ,")+"}"}(n):"Filter"}class dL extends Fn{constructor(e,t,r){super(e,t,r),this.key=He.fromName(r.referenceValue)}matches(e){const t=He.comparator(e.key,this.key);return this.matchesComparison(t)}}class mL extends Fn{constructor(e,t){super(e,"in",t),this.keys=dD("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class pL extends Fn{constructor(e,t){super(e,"not-in",t),this.keys=dD("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function dD(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>He.fromName(r.referenceValue))}class gL extends Fn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return V_(t)&&Df(t.arrayValue,this.value)}}class yL extends Fn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Df(this.value.arrayValue,t)}}class vL extends Fn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Df(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Df(this.value.arrayValue,t)}}class _L extends Fn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!V_(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Df(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TL{constructor(e,t=null,r=[],a=[],s=null,u=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=a,this.limit=s,this.startAt=u,this.endAt=c,this.le=null}}function xR(n,e=null,t=[],r=[],a=null,s=null,u=null){return new TL(n,e,t,r,a,s,u)}function U_(n){const e=lt(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>_0(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),ig(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Mc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Mc(r)).join(",")),e.le=t}return e.le}function z_(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!hL(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!hD(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!NR(n.startAt,e.startAt)&&NR(n.endAt,e.endAt)}function T0(n){return He.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(e,t=null,r=[],a=[],s=null,u="F",c=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=a,this.limit=s,this.limitType=u,this.startAt=c,this.endAt=f,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function wL(n,e,t,r,a,s,u,c){return new Qc(n,e,t,r,a,s,u,c)}function j_(n){return new Qc(n)}function kR(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function mD(n){return n.collectionGroup!==null}function df(n){const e=lt(n);if(e.he===null){e.he=[];const t=new Set;for(const s of e.explicitOrderBy)e.he.push(s),t.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let c=new er(Nr.comparator);return u.filters.forEach(f=>{f.getFlattenedFilters().forEach(d=>{d.isInequality()&&(c=c.add(d.field))})}),c})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.he.push(new If(s,r))}),t.has(Nr.keyField().canonicalString())||e.he.push(new If(Nr.keyField(),r))}return e.he}function $a(n){const e=lt(n);return e.Pe||(e.Pe=EL(e,df(n))),e.Pe}function EL(n,e){if(n.limitType==="F")return xR(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(a=>{const s=a.dir==="desc"?"asc":"desc";return new If(a.field,s)});const t=n.endAt?new Ep(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Ep(n.startAt.position,n.startAt.inclusive):null;return xR(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function w0(n,e){const t=n.filters.concat([e]);return new Qc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function E0(n,e,t){return new Qc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function og(n,e){return z_($a(n),$a(e))&&n.limitType===e.limitType}function pD(n){return`${U_($a(n))}|lt:${n.limitType}`}function tc(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(a=>fD(a)).join(", ")}]`),ig(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(a=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(a)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(a=>Mc(a)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(a=>Mc(a)).join(",")),`Target(${r})`}($a(n))}; limitType=${n.limitType})`}function sg(n,e){return e.isFoundDocument()&&function(r,a){const s=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):He.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(n,e)&&function(r,a){for(const s of df(r))if(!s.field.isKeyField()&&a.data.field(s.field)===null)return!1;return!0}(n,e)&&function(r,a){for(const s of r.filters)if(!s.matches(a))return!1;return!0}(n,e)&&function(r,a){return!(r.startAt&&!function(u,c,f){const d=MR(u,c,f);return u.inclusive?d<=0:d<0}(r.startAt,df(r),a)||r.endAt&&!function(u,c,f){const d=MR(u,c,f);return u.inclusive?d>=0:d>0}(r.endAt,df(r),a))}(n,e)}function bL(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function gD(n){return(e,t)=>{let r=!1;for(const a of df(n)){const s=RL(a,e,t);if(s!==0)return s;r=r||a.field.isKeyField()}return 0}}function RL(n,e,t){const r=n.field.isKeyField()?He.comparator(e.key,t.key):function(s,u,c){const f=u.data.field(s),d=c.data.field(s);return f!==null&&d!==null?Oc(f,d):nt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return nt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[a,s]of r)if(this.equalsFn(a,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<a.length;s++)if(this.equalsFn(a[s][0],e))return void(a[s]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[t]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){el(this.inner,(t,r)=>{for(const[a,s]of r)e(a,s)})}isEmpty(){return JC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AL=new bn(He.comparator);function $o(){return AL}const yD=new bn(He.comparator);function af(...n){let e=yD;for(const t of n)e=e.insert(t.key,t);return e}function vD(n){let e=yD;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Bl(){return mf()}function _D(){return mf()}function mf(){return new lu(n=>n.toString(),(n,e)=>n.isEqual(e))}const SL=new bn(He.comparator),CL=new er(He.comparator);function St(...n){let e=CL;for(const t of n)e=e.add(t);return e}const DL=new er(yt);function IL(){return DL}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B_(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_p(e)?"-0":e}}function TD(n){return{integerValue:""+n}}function OL(n,e){return rL(e)?TD(e):B_(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(){this._=void 0}}function ML(n,e,t){return n instanceof bp?function(a,s){const u={fields:{[nD]:{stringValue:tD},[iD]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return s&&L_(s)&&(s=ag(s)),s&&(u.fields[rD]=s),{mapValue:u}}(t,e):n instanceof Of?ED(n,e):n instanceof Mf?bD(n,e):function(a,s){const u=wD(a,s),c=PR(u)+PR(a.Ie);return v0(u)&&v0(a.Ie)?TD(c):B_(a.serializer,c)}(n,e)}function NL(n,e,t){return n instanceof Of?ED(n,e):n instanceof Mf?bD(n,e):t}function wD(n,e){return n instanceof Rp?function(r){return v0(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class bp extends lg{}class Of extends lg{constructor(e){super(),this.elements=e}}function ED(n,e){const t=RD(e);for(const r of n.elements)t.some(a=>Ka(a,r))||t.push(r);return{arrayValue:{values:t}}}class Mf extends lg{constructor(e){super(),this.elements=e}}function bD(n,e){let t=RD(e);for(const r of n.elements)t=t.filter(a=>!Ka(a,r));return{arrayValue:{values:t}}}class Rp extends lg{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function PR(n){return Pn(n.integerValue||n.doubleValue)}function RD(n){return V_(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function xL(n,e){return n.field.isEqual(e.field)&&function(r,a){return r instanceof Of&&a instanceof Of||r instanceof Mf&&a instanceof Mf?Ic(r.elements,a.elements,Ka):r instanceof Rp&&a instanceof Rp?Ka(r.Ie,a.Ie):r instanceof bp&&a instanceof bp}(n.transform,e.transform)}class kL{constructor(e,t){this.version=e,this.transformResults=t}}class la{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new la}static exists(e){return new la(void 0,e)}static updateTime(e){return new la(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function qm(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class ug{}function AD(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new $_(n.key,la.none()):new rd(n.key,n.data,la.none());{const t=n.data,r=ui.empty();let a=new er(Nr.comparator);for(let s of e.fields)if(!a.has(s)){let u=t.field(s);u===null&&s.length>1&&(s=s.popLast(),u=t.field(s)),u===null?r.delete(s):r.set(s,u),a=a.add(s)}return new tl(n.key,r,new Ai(a.toArray()),la.none())}}function PL(n,e,t){n instanceof rd?function(a,s,u){const c=a.value.clone(),f=VR(a.fieldTransforms,s,u.transformResults);c.setAll(f),s.convertToFoundDocument(u.version,c).setHasCommittedMutations()}(n,e,t):n instanceof tl?function(a,s,u){if(!qm(a.precondition,s))return void s.convertToUnknownDocument(u.version);const c=VR(a.fieldTransforms,s,u.transformResults),f=s.data;f.setAll(SD(a)),f.setAll(c),s.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,e,t):function(a,s,u){s.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function pf(n,e,t,r){return n instanceof rd?function(s,u,c,f){if(!qm(s.precondition,u))return c;const d=s.value.clone(),g=UR(s.fieldTransforms,f,u);return d.setAll(g),u.convertToFoundDocument(u.version,d).setHasLocalMutations(),null}(n,e,t,r):n instanceof tl?function(s,u,c,f){if(!qm(s.precondition,u))return c;const d=UR(s.fieldTransforms,f,u),g=u.data;return g.setAll(SD(s)),g.setAll(d),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(v=>v.field))}(n,e,t,r):function(s,u,c){return qm(s.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):c}(n,e,t)}function LL(n,e){let t=null;for(const r of n.fieldTransforms){const a=e.data.field(r.field),s=wD(r.transform,a||null);s!=null&&(t===null&&(t=ui.empty()),t.set(r.field,s))}return t||null}function LR(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&Ic(r,a,(s,u)=>xL(s,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class rd extends ug{constructor(e,t,r,a=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class tl extends ug{constructor(e,t,r,a,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=a,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function SD(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function VR(n,e,t){const r=new Map;qt(n.length===t.length);for(let a=0;a<t.length;a++){const s=n[a],u=s.transform,c=e.data.field(s.field);r.set(s.field,NL(u,c,t[a]))}return r}function UR(n,e,t){const r=new Map;for(const a of n){const s=a.transform,u=t.data.field(a.field);r.set(a.field,ML(s,u,e))}return r}class $_ extends ug{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class VL extends ug{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UL{constructor(e,t,r,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const s=this.mutations[a];s.key.isEqual(e.key)&&PL(s,e,r[a])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=pf(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=pf(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=_D();return this.mutations.forEach(a=>{const s=e.get(a.key),u=s.overlayedDocument;let c=this.applyToLocalView(u,s.mutatedFields);c=t.has(a.key)?null:c;const f=AD(u,c);f!==null&&r.set(a.key,f),u.isValidDocument()||u.convertToNoDocument(at.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),St())}isEqual(e){return this.batchId===e.batchId&&Ic(this.mutations,e.mutations,(t,r)=>LR(t,r))&&Ic(this.baseMutations,e.baseMutations,(t,r)=>LR(t,r))}}class F_{constructor(e,t,r,a){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=a}static from(e,t,r){qt(e.mutations.length===r.length);let a=function(){return SL}();const s=e.mutations;for(let u=0;u<s.length;u++)a=a.insert(s[u].key,r[u].version);return new F_(e,t,r,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zL{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jL{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bn,Nt;function BL(n){switch(n){case fe.OK:return nt();case fe.CANCELLED:case fe.UNKNOWN:case fe.DEADLINE_EXCEEDED:case fe.RESOURCE_EXHAUSTED:case fe.INTERNAL:case fe.UNAVAILABLE:case fe.UNAUTHENTICATED:return!1;case fe.INVALID_ARGUMENT:case fe.NOT_FOUND:case fe.ALREADY_EXISTS:case fe.PERMISSION_DENIED:case fe.FAILED_PRECONDITION:case fe.ABORTED:case fe.OUT_OF_RANGE:case fe.UNIMPLEMENTED:case fe.DATA_LOSS:return!0;default:return nt()}}function CD(n){if(n===void 0)return Bo("GRPC error has no .code"),fe.UNKNOWN;switch(n){case Bn.OK:return fe.OK;case Bn.CANCELLED:return fe.CANCELLED;case Bn.UNKNOWN:return fe.UNKNOWN;case Bn.DEADLINE_EXCEEDED:return fe.DEADLINE_EXCEEDED;case Bn.RESOURCE_EXHAUSTED:return fe.RESOURCE_EXHAUSTED;case Bn.INTERNAL:return fe.INTERNAL;case Bn.UNAVAILABLE:return fe.UNAVAILABLE;case Bn.UNAUTHENTICATED:return fe.UNAUTHENTICATED;case Bn.INVALID_ARGUMENT:return fe.INVALID_ARGUMENT;case Bn.NOT_FOUND:return fe.NOT_FOUND;case Bn.ALREADY_EXISTS:return fe.ALREADY_EXISTS;case Bn.PERMISSION_DENIED:return fe.PERMISSION_DENIED;case Bn.FAILED_PRECONDITION:return fe.FAILED_PRECONDITION;case Bn.ABORTED:return fe.ABORTED;case Bn.OUT_OF_RANGE:return fe.OUT_OF_RANGE;case Bn.UNIMPLEMENTED:return fe.UNIMPLEMENTED;case Bn.DATA_LOSS:return fe.DATA_LOSS;default:return nt()}}(Nt=Bn||(Bn={}))[Nt.OK=0]="OK",Nt[Nt.CANCELLED=1]="CANCELLED",Nt[Nt.UNKNOWN=2]="UNKNOWN",Nt[Nt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Nt[Nt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Nt[Nt.NOT_FOUND=5]="NOT_FOUND",Nt[Nt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Nt[Nt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Nt[Nt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Nt[Nt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Nt[Nt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Nt[Nt.ABORTED=10]="ABORTED",Nt[Nt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Nt[Nt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Nt[Nt.INTERNAL=13]="INTERNAL",Nt[Nt.UNAVAILABLE=14]="UNAVAILABLE",Nt[Nt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $L=new Ps([4294967295,4294967295],0);function zR(n){const e=ZC().encode(n),t=new FC;return t.update(e),new Uint8Array(t.digest())}function jR(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ps([t,r],0),new Ps([a,s],0)]}class q_{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new of(`Invalid padding: ${t}`);if(r<0)throw new of(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new of(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new of(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=Ps.fromNumber(this.Ee)}Ae(e,t,r){let a=e.add(t.multiply(Ps.fromNumber(r)));return a.compare($L)===1&&(a=new Ps([a.getBits(0),a.getBits(1)],0)),a.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=zR(e),[r,a]=jR(t);for(let s=0;s<this.hashCount;s++){const u=this.Ae(r,a,s);if(!this.Re(u))return!1}return!0}static create(e,t,r){const a=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),u=new q_(s,a,t);return r.forEach(c=>u.insert(c)),u}insert(e){if(this.Ee===0)return;const t=zR(e),[r,a]=jR(t);for(let s=0;s<this.hashCount;s++){const u=this.Ae(r,a,s);this.Ve(u)}}Ve(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class of extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(e,t,r,a,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const a=new Map;return a.set(e,id.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new cg(at.min(),a,new bn(yt),$o(),St())}}class id{constructor(e,t,r,a,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new id(r,t,St(),St(),St())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(e,t,r,a){this.me=e,this.removedTargetIds=t,this.key=r,this.fe=a}}class DD{constructor(e,t){this.targetId=e,this.ge=t}}class ID{constructor(e,t,r=kr.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=a}}class BR{constructor(){this.pe=0,this.ye=$R(),this.we=kr.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=St(),t=St(),r=St();return this.ye.forEach((a,s)=>{switch(s){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:r=r.add(a);break;default:nt()}}),new id(this.we,this.Se,e,t,r)}Me(){this.be=!1,this.ye=$R()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,qt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class FL{constructor(e){this.ke=e,this.qe=new Map,this.Qe=$o(),this.$e=Dm(),this.Ue=Dm(),this.Ke=new bn(yt)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const r=this.He(t);switch(e.state){case 0:this.Je(t)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(t);break;case 3:this.Je(t)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),r.Ce(e.resumeToken));break;default:nt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((r,a)=>{this.Je(a)&&t(a)})}Ze(e){const t=e.targetId,r=e.ge.count,a=this.Xe(t);if(a){const s=a.target;if(T0(s))if(r===0){const u=new He(s.path);this.ze(t,u,Br.newNoDocument(u,at.min()))}else qt(r===1);else{const u=this.et(t);if(u!==r){const c=this.tt(e),f=c?this.nt(c,e,u):1;if(f!==0){this.Ye(t);const d=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,d)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:s=0}=t;let u,c;try{u=Ys(r).toUint8Array()}catch(f){if(f instanceof eD)return Dc("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{c=new q_(u,a,s)}catch(f){return Dc(f instanceof of?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return c.Ee===0?null:c}nt(e,t,r){return t.ge.count===r-this.st(e,t.targetId)?0:2}st(e,t){const r=this.ke.getRemoteKeysForTarget(t);let a=0;return r.forEach(s=>{const u=this.ke.it(),c=`projects/${u.projectId}/databases/${u.database}/documents/${s.path.canonicalString()}`;e.mightContain(c)||(this.ze(t,s,null),a++)}),a}ot(e){const t=new Map;this.qe.forEach((s,u)=>{const c=this.Xe(u);if(c){if(s.current&&T0(c.target)){const f=new He(c.target.path);this._t(f).has(u)||this.ut(u,f)||this.ze(u,f,Br.newNoDocument(f,e))}s.ve&&(t.set(u,s.Fe()),s.Me())}});let r=St();this.Ue.forEach((s,u)=>{let c=!0;u.forEachWhile(f=>{const d=this.Xe(f);return!d||d.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(s))}),this.Qe.forEach((s,u)=>u.setReadTime(e));const a=new cg(e,t,this.Ke,this.Qe,r);return this.Qe=$o(),this.$e=Dm(),this.Ue=Dm(),this.Ke=new bn(yt),a}Ge(e,t){if(!this.Je(e))return;const r=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,r),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ue=this.Ue.insert(t.key,this.ct(t.key).add(e))}ze(e,t,r){if(!this.Je(e))return;const a=this.He(e);this.ut(e,t)?a.xe(t,1):a.Oe(t),this.Ue=this.Ue.insert(t,this.ct(t).delete(e)),this.Ue=this.Ue.insert(t,this.ct(t).add(e)),r&&(this.Qe=this.Qe.insert(t,r))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new BR,this.qe.set(e,t)),t}ct(e){let t=this.Ue.get(e);return t||(t=new er(yt),this.Ue=this.Ue.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new er(yt),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||Ie("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new BR),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function Dm(){return new bn(He.comparator)}function $R(){return new bn(He.comparator)}const qL={asc:"ASCENDING",desc:"DESCENDING"},HL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},YL={and:"AND",or:"OR"};class GL{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function b0(n,e){return n.useProto3Json||ig(e)?e:{value:e}}function Ap(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function OD(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function KL(n,e){return Ap(n,e.toTimestamp())}function Fa(n){return qt(!!n),at.fromTimestamp(function(t){const r=Hs(t);return new Jn(r.seconds,r.nanos)}(n))}function H_(n,e){return R0(n,e).canonicalString()}function R0(n,e){const t=function(a){return new mn(["projects",a.projectId,"databases",a.database])}(n).child("documents");return e===void 0?t:t.child(e)}function MD(n){const e=mn.fromString(n);return qt(LD(e)),e}function A0(n,e){return H_(n.databaseId,e.path)}function Vv(n,e){const t=MD(e);if(t.get(1)!==n.databaseId.projectId)throw new Ne(fe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ne(fe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new He(xD(t))}function ND(n,e){return H_(n.databaseId,e)}function QL(n){const e=MD(n);return e.length===4?mn.emptyPath():xD(e)}function S0(n){return new mn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function xD(n){return qt(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function FR(n,e,t){return{name:A0(n,e),fields:t.value.mapValue.fields}}function ZL(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:nt()}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],s=function(d,g){return d.useProto3Json?(qt(g===void 0||typeof g=="string"),kr.fromBase64String(g||"")):(qt(g===void 0||g instanceof Buffer||g instanceof Uint8Array),kr.fromUint8Array(g||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,c=u&&function(d){const g=d.code===void 0?fe.UNKNOWN:CD(d.code);return new Ne(g,d.message||"")}(u);t=new ID(r,a,s,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=Vv(n,r.document.name),s=Fa(r.document.updateTime),u=r.document.createTime?Fa(r.document.createTime):at.min(),c=new ui({mapValue:{fields:r.document.fields}}),f=Br.newFoundDocument(a,s,u,c),d=r.targetIds||[],g=r.removedTargetIds||[];t=new Hm(d,g,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=Vv(n,r.document),s=r.readTime?Fa(r.readTime):at.min(),u=Br.newNoDocument(a,s),c=r.removedTargetIds||[];t=new Hm([],c,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=Vv(n,r.document),s=r.removedTargetIds||[];t=new Hm([],s,a,null)}else{if(!("filter"in e))return nt();{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:s}=r,u=new jL(a,s),c=r.targetId;t=new DD(c,u)}}return t}function XL(n,e){let t;if(e instanceof rd)t={update:FR(n,e.key,e.value)};else if(e instanceof $_)t={delete:A0(n,e.key)};else if(e instanceof tl)t={update:FR(n,e.key,e.data),updateMask:o6(e.fieldMask)};else{if(!(e instanceof VL))return nt();t={verify:A0(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,u){const c=u.transform;if(c instanceof bp)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Of)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Mf)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Rp)return{fieldPath:u.field.canonicalString(),increment:c.Ie};throw nt()}(0,r))),e.precondition.isNone||(t.currentDocument=function(a,s){return s.updateTime!==void 0?{updateTime:KL(a,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:nt()}(n,e.precondition)),t}function WL(n,e){return n&&n.length>0?(qt(e!==void 0),n.map(t=>function(a,s){let u=a.updateTime?Fa(a.updateTime):Fa(s);return u.isEqual(at.min())&&(u=Fa(s)),new kL(u,a.transformResults||[])}(t,e))):[]}function JL(n,e){return{documents:[ND(n,e.path)]}}function e6(n,e){const t={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=ND(n,a);const s=function(d){if(d.length!==0)return PD(ha.create(d,"and"))}(e.filters);s&&(t.structuredQuery.where=s);const u=function(d){if(d.length!==0)return d.map(g=>function(w){return{field:nc(w.field),direction:r6(w.dir)}}(g))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const c=b0(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{ht:t,parent:a}}function t6(n){let e=QL(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let a=null;if(r>0){qt(r===1);const g=t.from[0];g.allDescendants?a=g.collectionId:e=e.child(g.collectionId)}let s=[];t.where&&(s=function(v){const w=kD(v);return w instanceof ha&&cD(w)?w.getFilters():[w]}(t.where));let u=[];t.orderBy&&(u=function(v){return v.map(w=>function(R){return new If(rc(R.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction))}(w))}(t.orderBy));let c=null;t.limit&&(c=function(v){let w;return w=typeof v=="object"?v.value:v,ig(w)?null:w}(t.limit));let f=null;t.startAt&&(f=function(v){const w=!!v.before,b=v.values||[];return new Ep(b,w)}(t.startAt));let d=null;return t.endAt&&(d=function(v){const w=!v.before,b=v.values||[];return new Ep(b,w)}(t.endAt)),wL(e,a,u,s,c,"F",f,d)}function n6(n,e){const t=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return nt()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function kD(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=rc(t.unaryFilter.field);return Fn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=rc(t.unaryFilter.field);return Fn.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=rc(t.unaryFilter.field);return Fn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=rc(t.unaryFilter.field);return Fn.create(u,"!=",{nullValue:"NULL_VALUE"});default:return nt()}}(n):n.fieldFilter!==void 0?function(t){return Fn.create(rc(t.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return nt()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return ha.create(t.compositeFilter.filters.map(r=>kD(r)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return nt()}}(t.compositeFilter.op))}(n):nt()}function r6(n){return qL[n]}function i6(n){return HL[n]}function a6(n){return YL[n]}function nc(n){return{fieldPath:n.canonicalString()}}function rc(n){return Nr.fromServerFormat(n.fieldPath)}function PD(n){return n instanceof Fn?function(t){if(t.op==="=="){if(OR(t.value))return{unaryFilter:{field:nc(t.field),op:"IS_NAN"}};if(IR(t.value))return{unaryFilter:{field:nc(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(OR(t.value))return{unaryFilter:{field:nc(t.field),op:"IS_NOT_NAN"}};if(IR(t.value))return{unaryFilter:{field:nc(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:nc(t.field),op:i6(t.op),value:t.value}}}(n):n instanceof ha?function(t){const r=t.getFilters().map(a=>PD(a));return r.length===1?r[0]:{compositeFilter:{op:a6(t.op),filters:r}}}(n):nt()}function o6(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function LD(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(e,t,r,a,s=at.min(),u=at.min(),c=kr.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=c,this.expectedCount=f}withSequenceNumber(e){return new Os(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Os(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s6{constructor(e){this.Tt=e}}function l6(n){const e=t6({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?E0(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u6{constructor(){this.Tn=new c6}addToCollectionParentIndex(e,t){return this.Tn.add(t),he.resolve()}getCollectionParents(e,t){return he.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return he.resolve()}deleteFieldIndex(e,t){return he.resolve()}deleteAllFieldIndexes(e){return he.resolve()}createTargetIndexes(e,t){return he.resolve()}getDocumentsMatchingTarget(e,t){return he.resolve(null)}getIndexType(e,t){return he.resolve(0)}getFieldIndexes(e,t){return he.resolve([])}getNextCollectionGroupToUpdate(e){return he.resolve(null)}getMinOffset(e,t){return he.resolve(qs.min())}getMinOffsetFromCollectionGroup(e,t){return he.resolve(qs.min())}updateCollectionGroup(e,t,r){return he.resolve()}updateIndexEntries(e,t){return he.resolve()}}class c6{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t]||new er(mn.comparator),s=!a.has(r);return this.index[t]=a.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t];return a&&a.has(r)}getEntries(e){return(this.index[e]||new er(mn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},VD=41943040;class li{static withCacheSize(e){return new li(e,li.DEFAULT_COLLECTION_PERCENTILE,li.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */li.DEFAULT_COLLECTION_PERCENTILE=10,li.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,li.DEFAULT=new li(VD,li.DEFAULT_COLLECTION_PERCENTILE,li.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),li.DISABLED=new li(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new Nc(0)}static Kn(){return new Nc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR="LruGarbageCollector",h6=1048576;function YR([n,e],[t,r]){const a=yt(n,t);return a===0?yt(e,r):a}class f6{constructor(e){this.Hn=e,this.buffer=new er(YR),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();YR(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class d6{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){Ie(HR,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Kc(t)?Ie(HR,"Ignoring IndexedDB error during garbage collection: ",t):await Gc(t)}await this.er(3e5)})}}class m6{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return he.resolve(rg.ae);const r=new f6(t);return this.tr.forEachTarget(e,a=>r.Zn(a.sequenceNumber)).next(()=>this.tr.rr(e,a=>r.Zn(a))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.tr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Ie("LruGarbageCollector","Garbage collection skipped; disabled"),he.resolve(qR)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ie("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),qR):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let r,a,s,u,c,f,d;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(v=>(v>this.params.maximumSequenceNumbersToCollect?(Ie("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),a=this.params.maximumSequenceNumbersToCollect):a=v,u=Date.now(),this.nthSequenceNumber(e,a))).next(v=>(r=v,c=Date.now(),this.removeTargets(e,r,t))).next(v=>(s=v,f=Date.now(),this.removeOrphanedDocuments(e,r))).next(v=>(d=Date.now(),ec()<=Rt.DEBUG&&Ie("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-g}ms
	Determined least recently used ${a} in `+(c-u)+`ms
	Removed ${s} targets in `+(f-c)+`ms
	Removed ${v} documents in `+(d-f)+`ms
Total Duration: ${d-g}ms`),he.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:s,documentsRemoved:v})))}}function p6(n,e){return new m6(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g6{constructor(){this.changes=new lu(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Br.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?he.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y6{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v6{constructor(e,t,r,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(r=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(r!==null&&pf(r.mutation,a,Ai.empty(),Jn.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,St()).next(()=>r))}getLocalViewOfDocuments(e,t,r=St()){const a=Bl();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,r).next(s=>{let u=af();return s.forEach((c,f)=>{u=u.insert(c,f.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=Bl();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,St()))}populateOverlays(e,t,r){const a=[];return r.forEach(s=>{t.has(s)||a.push(s)}),this.documentOverlayCache.getOverlays(e,a).next(s=>{s.forEach((u,c)=>{t.set(u,c)})})}computeViews(e,t,r,a){let s=$o();const u=mf(),c=function(){return mf()}();return t.forEach((f,d)=>{const g=r.get(d.key);a.has(d.key)&&(g===void 0||g.mutation instanceof tl)?s=s.insert(d.key,d):g!==void 0?(u.set(d.key,g.mutation.getFieldMask()),pf(g.mutation,d,g.mutation.getFieldMask(),Jn.now())):u.set(d.key,Ai.empty())}),this.recalculateAndSaveOverlays(e,s).next(f=>(f.forEach((d,g)=>u.set(d,g)),t.forEach((d,g)=>{var v;return c.set(d,new y6(g,(v=u.get(d))!==null&&v!==void 0?v:null))}),c))}recalculateAndSaveOverlays(e,t){const r=mf();let a=new bn((u,c)=>u-c),s=St();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const c of u)c.keys().forEach(f=>{const d=t.get(f);if(d===null)return;let g=r.get(f)||Ai.empty();g=c.applyToLocalView(d,g),r.set(f,g);const v=(a.get(c.batchId)||St()).add(f);a=a.insert(c.batchId,v)})}).next(()=>{const u=[],c=a.getReverseIterator();for(;c.hasNext();){const f=c.getNext(),d=f.key,g=f.value,v=_D();g.forEach(w=>{if(!s.has(w)){const b=AD(t.get(w),r.get(w));b!==null&&v.set(w,b),s=s.add(w)}}),u.push(this.documentOverlayCache.saveOverlays(e,d,v))}return he.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,a){return function(u){return He.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):mD(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,a):this.getDocumentsMatchingCollectionQuery(e,t,r,a)}getNextDocuments(e,t,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,a).next(s=>{const u=a-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,a-s.size):he.resolve(Bl());let c=Af,f=s;return u.next(d=>he.forEach(d,(g,v)=>(c<v.largestBatchId&&(c=v.largestBatchId),s.get(g)?he.resolve():this.remoteDocumentCache.getEntry(e,g).next(w=>{f=f.insert(g,w)}))).next(()=>this.populateOverlays(e,d,s)).next(()=>this.computeViews(e,f,d,St())).next(g=>({batchId:c,changes:vD(g)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new He(t)).next(r=>{let a=af();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,r,a){const s=t.collectionGroup;let u=af();return this.indexManager.getCollectionParents(e,s).next(c=>he.forEach(c,f=>{const d=function(v,w){return new Qc(w,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(t,f.child(s));return this.getDocumentsMatchingCollectionQuery(e,d,r,a).next(g=>{g.forEach((v,w)=>{u=u.insert(v,w)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r,a){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(s=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,a))).next(u=>{s.forEach((f,d)=>{const g=d.getKey();u.get(g)===null&&(u=u.insert(g,Br.newInvalidDocument(g)))});let c=af();return u.forEach((f,d)=>{const g=s.get(f);g!==void 0&&pf(g.mutation,d,Ai.empty(),Jn.now()),sg(t,d)&&(c=c.insert(f,d))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _6{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return he.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(a){return{id:a.id,version:a.version,createTime:Fa(a.createTime)}}(t)),he.resolve()}getNamedQuery(e,t){return he.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(a){return{name:a.name,query:l6(a.bundledQuery),readTime:Fa(a.readTime)}}(t)),he.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T6{constructor(){this.overlays=new bn(He.comparator),this.Rr=new Map}getOverlay(e,t){return he.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Bl();return he.forEach(t,a=>this.getOverlay(e,a).next(s=>{s!==null&&r.set(a,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((a,s)=>{this.Et(e,t,s)}),he.resolve()}removeOverlaysForBatchId(e,t,r){const a=this.Rr.get(r);return a!==void 0&&(a.forEach(s=>this.overlays=this.overlays.remove(s)),this.Rr.delete(r)),he.resolve()}getOverlaysForCollection(e,t,r){const a=Bl(),s=t.length+1,u=new He(t.child("")),c=this.overlays.getIteratorFrom(u);for(;c.hasNext();){const f=c.getNext().value,d=f.getKey();if(!t.isPrefixOf(d.path))break;d.path.length===s&&f.largestBatchId>r&&a.set(f.getKey(),f)}return he.resolve(a)}getOverlaysForCollectionGroup(e,t,r,a){let s=new bn((d,g)=>d-g);const u=this.overlays.getIterator();for(;u.hasNext();){const d=u.getNext().value;if(d.getKey().getCollectionGroup()===t&&d.largestBatchId>r){let g=s.get(d.largestBatchId);g===null&&(g=Bl(),s=s.insert(d.largestBatchId,g)),g.set(d.getKey(),d)}}const c=Bl(),f=s.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((d,g)=>c.set(d,g)),!(c.size()>=a)););return he.resolve(c)}Et(e,t,r){const a=this.overlays.get(r.key);if(a!==null){const u=this.Rr.get(a.largestBatchId).delete(r.key);this.Rr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new zL(t,r));let s=this.Rr.get(t);s===void 0&&(s=St(),this.Rr.set(t,s)),this.Rr.set(t,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w6{constructor(){this.sessionToken=kr.EMPTY_BYTE_STRING}getSessionToken(e){return he.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,he.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_{constructor(){this.Vr=new er(hr.mr),this.gr=new er(hr.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const r=new hr(e,t);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.wr(new hr(e,t))}Sr(e,t){e.forEach(r=>this.removeReference(r,t))}br(e){const t=new He(new mn([])),r=new hr(t,e),a=new hr(t,e+1),s=[];return this.gr.forEachInRange([r,a],u=>{this.wr(u),s.push(u.key)}),s}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new He(new mn([])),r=new hr(t,e),a=new hr(t,e+1);let s=St();return this.gr.forEachInRange([r,a],u=>{s=s.add(u.key)}),s}containsKey(e){const t=new hr(e,0),r=this.Vr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class hr{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return He.comparator(e.key,t.key)||yt(e.Cr,t.Cr)}static pr(e,t){return yt(e.Cr,t.Cr)||He.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E6{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new er(hr.mr)}checkEmpty(e){return he.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,a){const s=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new UL(s,t,r,a);this.mutationQueue.push(u);for(const c of a)this.Mr=this.Mr.add(new hr(c.key,s)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return he.resolve(u)}lookupMutationBatch(e,t){return he.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,a=this.Nr(r),s=a<0?0:a;return he.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return he.resolve(this.mutationQueue.length===0?P_:this.Fr-1)}getAllMutationBatches(e){return he.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new hr(t,0),a=new hr(t,Number.POSITIVE_INFINITY),s=[];return this.Mr.forEachInRange([r,a],u=>{const c=this.Or(u.Cr);s.push(c)}),he.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new er(yt);return t.forEach(a=>{const s=new hr(a,0),u=new hr(a,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([s,u],c=>{r=r.add(c.Cr)})}),he.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,a=r.length+1;let s=r;He.isDocumentKey(s)||(s=s.child(""));const u=new hr(new He(s),0);let c=new er(yt);return this.Mr.forEachWhile(f=>{const d=f.key.path;return!!r.isPrefixOf(d)&&(d.length===a&&(c=c.add(f.Cr)),!0)},u),he.resolve(this.Br(c))}Br(e){const t=[];return e.forEach(r=>{const a=this.Or(r);a!==null&&t.push(a)}),t}removeMutationBatch(e,t){qt(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return he.forEach(t.mutations,a=>{const s=new hr(a.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,t){const r=new hr(t,0),a=this.Mr.firstAfterOrEqual(r);return he.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,he.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b6{constructor(e){this.kr=e,this.docs=function(){return new bn(He.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,a=this.docs.get(r),s=a?a.size:0,u=this.kr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return he.resolve(r?r.document.mutableCopy():Br.newInvalidDocument(t))}getEntries(e,t){let r=$o();return t.forEach(a=>{const s=this.docs.get(a);r=r.insert(a,s?s.document.mutableCopy():Br.newInvalidDocument(a))}),he.resolve(r)}getDocumentsMatchingQuery(e,t,r,a){let s=$o();const u=t.path,c=new He(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(c);for(;f.hasNext();){const{key:d,value:{document:g}}=f.getNext();if(!u.isPrefixOf(d.path))break;d.path.length>u.length+1||J4(W4(g),r)<=0||(a.has(g.key)||sg(t,g))&&(s=s.insert(g.key,g.mutableCopy()))}return he.resolve(s)}getAllFromCollectionGroup(e,t,r,a){nt()}qr(e,t){return he.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new R6(this)}getSize(e){return he.resolve(this.size)}}class R6 extends g6{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((r,a)=>{a.isValidDocument()?t.push(this.Ir.addEntry(e,a)):this.Ir.removeEntry(r)}),he.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A6{constructor(e){this.persistence=e,this.Qr=new lu(t=>U_(t),z_),this.lastRemoteSnapshotVersion=at.min(),this.highestTargetId=0,this.$r=0,this.Ur=new Y_,this.targetCount=0,this.Kr=Nc.Un()}forEachTarget(e,t){return this.Qr.forEach((r,a)=>t(a)),he.resolve()}getLastRemoteSnapshotVersion(e){return he.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return he.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),he.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.$r&&(this.$r=t),he.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Kr=new Nc(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,he.resolve()}updateTargetData(e,t){return this.zn(t),he.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Ur.br(t.targetId),this.targetCount-=1,he.resolve()}removeTargets(e,t,r){let a=0;const s=[];return this.Qr.forEach((u,c)=>{c.sequenceNumber<=t&&r.get(c.targetId)===null&&(this.Qr.delete(u),s.push(this.removeMatchingKeysForTargetId(e,c.targetId)),a++)}),he.waitFor(s).next(()=>a)}getTargetCount(e){return he.resolve(this.targetCount)}getTargetData(e,t){const r=this.Qr.get(t)||null;return he.resolve(r)}addMatchingKeys(e,t,r){return this.Ur.yr(t,r),he.resolve()}removeMatchingKeys(e,t,r){this.Ur.Sr(t,r);const a=this.persistence.referenceDelegate,s=[];return a&&t.forEach(u=>{s.push(a.markPotentiallyOrphaned(e,u))}),he.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Ur.br(t),he.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ur.vr(t);return he.resolve(r)}containsKey(e,t){return he.resolve(this.Ur.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new rg(0),this.zr=!1,this.zr=!0,this.jr=new w6,this.referenceDelegate=e(this),this.Hr=new A6(this),this.indexManager=new u6,this.remoteDocumentCache=function(a){return new b6(a)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new s6(t),this.Yr=new _6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new T6,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Wr[e.toKey()];return r||(r=new E6(t,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,r){Ie("MemoryPersistence","Starting transaction:",e);const a=new S6(this.Gr.next());return this.referenceDelegate.Zr(),r(a).next(s=>this.referenceDelegate.Xr(a).next(()=>s)).toPromise().then(s=>(a.raiseOnCommittedEvent(),s))}ei(e,t){return he.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,t)))}}class S6 extends tL{constructor(e){super(),this.currentSequenceNumber=e}}class G_{constructor(e){this.persistence=e,this.ti=new Y_,this.ni=null}static ri(e){return new G_(e)}get ii(){if(this.ni)return this.ni;throw nt()}addReference(e,t,r){return this.ti.addReference(r,t),this.ii.delete(r.toString()),he.resolve()}removeReference(e,t,r){return this.ti.removeReference(r,t),this.ii.add(r.toString()),he.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),he.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(a=>this.ii.add(a.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(s=>this.ii.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return he.forEach(this.ii,r=>{const a=He.fromPath(r);return this.si(e,a).next(s=>{s||t.removeEntry(a,at.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(r=>{r?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return he.or([()=>he.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class Sp{constructor(e,t){this.persistence=e,this.oi=new lu(r=>iL(r.path),(r,a)=>r.isEqual(a)),this.garbageCollector=p6(this,t)}static ri(e,t){return new Sp(e,t)}Zr(){}Xr(e){return he.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(a=>r+a))}sr(e){let t=0;return this.rr(e,r=>{t++}).next(()=>t)}rr(e,t){return he.forEach(this.oi,(r,a)=>this.ar(e,r,a).next(s=>s?he.resolve():t(a)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const a=this.persistence.getRemoteDocumentCache(),s=a.newChangeBuffer();return a.qr(e,u=>this.ar(e,u,t).next(c=>{c||(r++,s.removeEntry(u,at.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),he.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),he.resolve()}removeReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),he.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),he.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=$m(e.data.value)),t}ar(e,t,r){return he.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.oi.get(t);return he.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{constructor(e,t,r,a){this.targetId=e,this.fromCache=t,this.Hi=r,this.Ji=a}static Yi(e,t){let r=St(),a=St();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}return new K_(e,t.fromCache,r,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D6{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return Ak()?8:nL($r())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,r,a){const s={result:null};return this.rs(e,t).next(u=>{s.result=u}).next(()=>{if(!s.result)return this.ss(e,t,a,r).next(u=>{s.result=u})}).next(()=>{if(s.result)return;const u=new C6;return this._s(e,t,u).next(c=>{if(s.result=c,this.Xi)return this.us(e,t,u,c.size)})}).next(()=>s.result)}us(e,t,r,a){return r.documentReadCount<this.es?(ec()<=Rt.DEBUG&&Ie("QueryEngine","SDK will not create cache indexes for query:",tc(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),he.resolve()):(ec()<=Rt.DEBUG&&Ie("QueryEngine","Query:",tc(t),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.ts*a?(ec()<=Rt.DEBUG&&Ie("QueryEngine","The SDK decides to create cache indexes for query:",tc(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,$a(t))):he.resolve())}rs(e,t){if(kR(t))return he.resolve(null);let r=$a(t);return this.indexManager.getIndexType(e,r).next(a=>a===0?null:(t.limit!==null&&a===1&&(t=E0(t,null,"F"),r=$a(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const u=St(...s);return this.ns.getDocuments(e,u).next(c=>this.indexManager.getMinOffset(e,r).next(f=>{const d=this.cs(t,c);return this.ls(t,d,u,f.readTime)?this.rs(e,E0(t,null,"F")):this.hs(e,d,t,f)}))})))}ss(e,t,r,a){return kR(t)||a.isEqual(at.min())?he.resolve(null):this.ns.getDocuments(e,r).next(s=>{const u=this.cs(t,s);return this.ls(t,u,r,a)?he.resolve(null):(ec()<=Rt.DEBUG&&Ie("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),tc(t)),this.hs(e,u,t,X4(a,Af)).next(c=>c))})}cs(e,t){let r=new er(gD(e));return t.forEach((a,s)=>{sg(e,s)&&(r=r.add(s))}),r}ls(e,t,r,a){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(a)>0)}_s(e,t,r){return ec()<=Rt.DEBUG&&Ie("QueryEngine","Using full collection scan to execute query:",tc(t)),this.ns.getDocumentsMatchingQuery(e,t,qs.min(),r)}hs(e,t,r,a){return this.ns.getDocumentsMatchingQuery(e,r,a).next(s=>(t.forEach(u=>{s=s.insert(u.key,u)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q_="LocalStore",I6=3e8;class O6{constructor(e,t,r,a){this.persistence=e,this.Ps=t,this.serializer=a,this.Ts=new bn(yt),this.Is=new lu(s=>U_(s),z_),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new v6(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function M6(n,e,t,r){return new O6(n,e,t,r)}async function zD(n,e){const t=lt(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let a;return t.mutationQueue.getAllMutationBatches(r).next(s=>(a=s,t.As(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const u=[],c=[];let f=St();for(const d of a){u.push(d.batchId);for(const g of d.mutations)f=f.add(g.key)}for(const d of s){c.push(d.batchId);for(const g of d.mutations)f=f.add(g.key)}return t.localDocuments.getDocuments(r,f).next(d=>({Rs:d,removedBatchIds:u,addedBatchIds:c}))})})}function N6(n,e){const t=lt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const a=e.batch.keys(),s=t.ds.newChangeBuffer({trackRemovals:!0});return function(c,f,d,g){const v=d.batch,w=v.keys();let b=he.resolve();return w.forEach(R=>{b=b.next(()=>g.getEntry(f,R)).next(C=>{const D=d.docVersions.get(R);qt(D!==null),C.version.compareTo(D)<0&&(v.applyToRemoteDocument(C,d),C.isValidDocument()&&(C.setReadTime(d.commitVersion),g.addEntry(C)))})}),b.next(()=>c.mutationQueue.removeMutationBatch(f,v))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let f=St();for(let d=0;d<c.mutationResults.length;++d)c.mutationResults[d].transformResults.length>0&&(f=f.add(c.batch.mutations[d].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,a))})}function jD(n){const e=lt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function x6(n,e){const t=lt(n),r=e.snapshotVersion;let a=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const u=t.ds.newChangeBuffer({trackRemovals:!0});a=t.Ts;const c=[];e.targetChanges.forEach((g,v)=>{const w=a.get(v);if(!w)return;c.push(t.Hr.removeMatchingKeys(s,g.removedDocuments,v).next(()=>t.Hr.addMatchingKeys(s,g.addedDocuments,v)));let b=w.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(v)!==null?b=b.withResumeToken(kr.EMPTY_BYTE_STRING,at.min()).withLastLimboFreeSnapshotVersion(at.min()):g.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(g.resumeToken,r)),a=a.insert(v,b),function(C,D,M){return C.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=I6?!0:M.addedDocuments.size+M.modifiedDocuments.size+M.removedDocuments.size>0}(w,b,g)&&c.push(t.Hr.updateTargetData(s,b))});let f=$o(),d=St();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(s,g))}),c.push(k6(s,u,e.documentUpdates).next(g=>{f=g.Vs,d=g.fs})),!r.isEqual(at.min())){const g=t.Hr.getLastRemoteSnapshotVersion(s).next(v=>t.Hr.setTargetsMetadata(s,s.currentSequenceNumber,r));c.push(g)}return he.waitFor(c).next(()=>u.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,f,d)).next(()=>f)}).then(s=>(t.Ts=a,s))}function k6(n,e,t){let r=St(),a=St();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let u=$o();return t.forEach((c,f)=>{const d=s.get(c);f.isFoundDocument()!==d.isFoundDocument()&&(a=a.add(c)),f.isNoDocument()&&f.version.isEqual(at.min())?(e.removeEntry(c,f.readTime),u=u.insert(c,f)):!d.isValidDocument()||f.version.compareTo(d.version)>0||f.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(f),u=u.insert(c,f)):Ie(Q_,"Ignoring outdated watch update for ",c,". Current version:",d.version," Watch version:",f.version)}),{Vs:u,fs:a}})}function P6(n,e){const t=lt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=P_),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function L6(n,e){const t=lt(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let a;return t.Hr.getTargetData(r,e).next(s=>s?(a=s,he.resolve(a)):t.Hr.allocateTargetId(r).next(u=>(a=new Os(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.Hr.addTargetData(r,a).next(()=>a))))}).then(r=>{const a=t.Ts.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(r.targetId,r),t.Is.set(e,r.targetId)),r})}async function C0(n,e,t){const r=lt(n),a=r.Ts.get(e),s=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",s,u=>r.persistence.referenceDelegate.removeTarget(u,a))}catch(u){if(!Kc(u))throw u;Ie(Q_,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ts=r.Ts.remove(e),r.Is.delete(a.target)}function GR(n,e,t){const r=lt(n);let a=at.min(),s=St();return r.persistence.runTransaction("Execute query","readwrite",u=>function(f,d,g){const v=lt(f),w=v.Is.get(g);return w!==void 0?he.resolve(v.Ts.get(w)):v.Hr.getTargetData(d,g)}(r,u,$a(e)).next(c=>{if(c)return a=c.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(u,c.targetId).next(f=>{s=f})}).next(()=>r.Ps.getDocumentsMatchingQuery(u,e,t?a:at.min(),t?s:St())).next(c=>(V6(r,bL(e),c),{documents:c,gs:s})))}function V6(n,e,t){let r=n.Es.get(e)||at.min();t.forEach((a,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.Es.set(e,r)}class KR{constructor(){this.activeTargetIds=IL()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class U6{constructor(){this.ho=new KR,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,r){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new KR,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z6{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR="ConnectivityMonitor";class ZR{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){Ie(QR,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){Ie(QR,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Im=null;function D0(){return Im===null?Im=function(){return 268435456+Math.round(2147483648*Math.random())}():Im++,"0x"+Im.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uv="RestConnection",j6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class B6{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${r}/databases/${a}`,this.wo=this.databaseId.database===Tp?`project_id=${r}`:`project_id=${r}&database_id=${a}`}So(e,t,r,a,s){const u=D0(),c=this.bo(e,t.toUriEncodedString());Ie(Uv,`Sending RPC '${e}' ${u}:`,c,r);const f={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(f,a,s),this.vo(e,c,f,r).then(d=>(Ie(Uv,`Received RPC '${e}' ${u}: `,d),d),d=>{throw Dc(Uv,`RPC '${e}' ${u} failed with error: `,d,"url: ",c,"request:",r),d})}Co(e,t,r,a,s,u){return this.So(e,t,r,a,s)}Do(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Yc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,s)=>e[s]=a),r&&r.headers.forEach((a,s)=>e[s]=a)}bo(e,t){const r=j6[e];return`${this.po}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $6{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ur="WebChannelConnection";class F6 extends B6{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,r,a){const s=D0();return new Promise((u,c)=>{const f=new qC;f.setWithCredentials(!0),f.listenOnce(HC.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case Bm.NO_ERROR:const g=f.getResponseJson();Ie(Ur,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(g)),u(g);break;case Bm.TIMEOUT:Ie(Ur,`RPC '${e}' ${s} timed out`),c(new Ne(fe.DEADLINE_EXCEEDED,"Request time out"));break;case Bm.HTTP_ERROR:const v=f.getStatus();if(Ie(Ur,`RPC '${e}' ${s} failed with status:`,v,"response text:",f.getResponseText()),v>0){let w=f.getResponseJson();Array.isArray(w)&&(w=w[0]);const b=w==null?void 0:w.error;if(b&&b.status&&b.message){const R=function(D){const M=D.toLowerCase().replace(/_/g,"-");return Object.values(fe).indexOf(M)>=0?M:fe.UNKNOWN}(b.status);c(new Ne(R,b.message))}else c(new Ne(fe.UNKNOWN,"Server responded with status "+f.getStatus()))}else c(new Ne(fe.UNAVAILABLE,"Connection failed."));break;default:nt()}}finally{Ie(Ur,`RPC '${e}' ${s} completed.`)}});const d=JSON.stringify(a);Ie(Ur,`RPC '${e}' ${s} sending request:`,a),f.send(t,"POST",d,r,15)})}Wo(e,t,r){const a=D0(),s=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=KC(),c=GC(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(f.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Do(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const g=s.join("");Ie(Ur,`Creating RPC '${e}' stream ${a}: ${g}`,f);const v=u.createWebChannel(g,f);let w=!1,b=!1;const R=new $6({Fo:D=>{b?Ie(Ur,`Not sending because RPC '${e}' stream ${a} is closed:`,D):(w||(Ie(Ur,`Opening RPC '${e}' stream ${a} transport.`),v.open(),w=!0),Ie(Ur,`RPC '${e}' stream ${a} sending:`,D),v.send(D))},Mo:()=>v.close()}),C=(D,M,x)=>{D.listen(M,P=>{try{x(P)}catch($){setTimeout(()=>{throw $},0)}})};return C(v,rf.EventType.OPEN,()=>{b||(Ie(Ur,`RPC '${e}' stream ${a} transport opened.`),R.Qo())}),C(v,rf.EventType.CLOSE,()=>{b||(b=!0,Ie(Ur,`RPC '${e}' stream ${a} transport closed`),R.Uo())}),C(v,rf.EventType.ERROR,D=>{b||(b=!0,Dc(Ur,`RPC '${e}' stream ${a} transport errored:`,D),R.Uo(new Ne(fe.UNAVAILABLE,"The operation could not be completed")))}),C(v,rf.EventType.MESSAGE,D=>{var M;if(!b){const x=D.data[0];qt(!!x);const P=x,$=(P==null?void 0:P.error)||((M=P[0])===null||M===void 0?void 0:M.error);if($){Ie(Ur,`RPC '${e}' stream ${a} received error:`,$);const V=$.status;let Y=function(O){const z=Bn[O];if(z!==void 0)return CD(z)}(V),N=$.message;Y===void 0&&(Y=fe.INTERNAL,N="Unknown error status: "+V+" with message "+$.message),b=!0,R.Uo(new Ne(Y,N)),v.close()}else Ie(Ur,`RPC '${e}' stream ${a} received:`,x),R.Ko(x)}}),C(c,YC.STAT_EVENT,D=>{D.stat===p0.PROXY?Ie(Ur,`RPC '${e}' stream ${a} detected buffering proxy`):D.stat===p0.NOPROXY&&Ie(Ur,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{R.$o()},0),R}}function zv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hg(n){return new GL(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(e,t,r=1e3,a=1.5,s=6e4){this.Ti=e,this.timerId=t,this.Go=r,this.zo=a,this.jo=s,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),a=Math.max(0,t-r);a>0&&Ie("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,a,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XR="PersistentStream";class $D{constructor(e,t,r,a,s,u,c,f){this.Ti=e,this.n_=r,this.r_=a,this.connection=s,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=c,this.listener=f,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new BD(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===fe.RESOURCE_EXHAUSTED?(Bo(t.toString()),Bo("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===fe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,a])=>{this.i_===t&&this.V_(r,a)},r=>{e(()=>{const a=new Ne(fe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(a)})})}V_(e,t){const r=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(a=>{r(()=>this.m_(a))}),this.stream.onMessage(a=>{r(()=>++this.__==1?this.g_(a):this.onNext(a))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return Ie(XR,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(Ie(XR,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class q6 extends $D{constructor(e,t,r,a,s,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,a,u),this.serializer=s}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=ZL(this.serializer,e),r=function(s){if(!("targetChange"in s))return at.min();const u=s.targetChange;return u.targetIds&&u.targetIds.length?at.min():u.readTime?Fa(u.readTime):at.min()}(e);return this.listener.p_(t,r)}y_(e){const t={};t.database=S0(this.serializer),t.addTarget=function(s,u){let c;const f=u.target;if(c=T0(f)?{documents:JL(s,f)}:{query:e6(s,f).ht},c.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){c.resumeToken=OD(s,u.resumeToken);const d=b0(s,u.expectedCount);d!==null&&(c.expectedCount=d)}else if(u.snapshotVersion.compareTo(at.min())>0){c.readTime=Ap(s,u.snapshotVersion.toTimestamp());const d=b0(s,u.expectedCount);d!==null&&(c.expectedCount=d)}return c}(this.serializer,e);const r=n6(this.serializer,e);r&&(t.labels=r),this.I_(t)}w_(e){const t={};t.database=S0(this.serializer),t.removeTarget=e,this.I_(t)}}class H6 extends $D{constructor(e,t,r,a,s,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,a,u),this.serializer=s}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return qt(!!e.streamToken),this.lastStreamToken=e.streamToken,qt(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){qt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=WL(e.writeResults,e.commitTime),r=Fa(e.commitTime);return this.listener.v_(r,t)}C_(){const e={};e.database=S0(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>XL(this.serializer,r))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y6{}class G6 extends Y6{constructor(e,t,r,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=a,this.F_=!1}M_(){if(this.F_)throw new Ne(fe.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,r,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,u])=>this.connection.So(e,R0(t,r),a,s,u)).catch(s=>{throw s.name==="FirebaseError"?(s.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ne(fe.UNKNOWN,s.toString())})}Co(e,t,r,a,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,c])=>this.connection.Co(e,R0(t,r),a,u,c,s)).catch(u=>{throw u.name==="FirebaseError"?(u.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ne(fe.UNKNOWN,u.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class K6{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Bo(t),this.N_=!1):Ie("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ru="RemoteStore";class Q6{constructor(e,t,r,a,s){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=s,this.z_.To(u=>{r.enqueueAndForget(async()=>{uu(this)&&(Ie(ru,"Restarting streams for network reachability change."),await async function(f){const d=lt(f);d.W_.add(4),await ad(d),d.j_.set("Unknown"),d.W_.delete(4),await fg(d)}(this))})}),this.j_=new K6(r,a)}}async function fg(n){if(uu(n))for(const e of n.G_)await e(!0)}async function ad(n){for(const e of n.G_)await e(!1)}function FD(n,e){const t=lt(n);t.K_.has(e.targetId)||(t.K_.set(e.targetId,e),J_(t)?W_(t):Zc(t).c_()&&X_(t,e))}function Z_(n,e){const t=lt(n),r=Zc(t);t.K_.delete(e),r.c_()&&qD(t,e),t.K_.size===0&&(r.c_()?r.P_():uu(t)&&t.j_.set("Unknown"))}function X_(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(at.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Zc(n).y_(e)}function qD(n,e){n.H_.Ne(e),Zc(n).w_(e)}function W_(n){n.H_=new FL({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.K_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),Zc(n).start(),n.j_.B_()}function J_(n){return uu(n)&&!Zc(n).u_()&&n.K_.size>0}function uu(n){return lt(n).W_.size===0}function HD(n){n.H_=void 0}async function Z6(n){n.j_.set("Online")}async function X6(n){n.K_.forEach((e,t)=>{X_(n,e)})}async function W6(n,e){HD(n),J_(n)?(n.j_.q_(e),W_(n)):n.j_.set("Unknown")}async function J6(n,e,t){if(n.j_.set("Online"),e instanceof ID&&e.state===2&&e.cause)try{await async function(a,s){const u=s.cause;for(const c of s.targetIds)a.K_.has(c)&&(await a.remoteSyncer.rejectListen(c,u),a.K_.delete(c),a.H_.removeTarget(c))}(n,e)}catch(r){Ie(ru,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Cp(n,r)}else if(e instanceof Hm?n.H_.We(e):e instanceof DD?n.H_.Ze(e):n.H_.je(e),!t.isEqual(at.min()))try{const r=await jD(n.localStore);t.compareTo(r)>=0&&await function(s,u){const c=s.H_.ot(u);return c.targetChanges.forEach((f,d)=>{if(f.resumeToken.approximateByteSize()>0){const g=s.K_.get(d);g&&s.K_.set(d,g.withResumeToken(f.resumeToken,u))}}),c.targetMismatches.forEach((f,d)=>{const g=s.K_.get(f);if(!g)return;s.K_.set(f,g.withResumeToken(kr.EMPTY_BYTE_STRING,g.snapshotVersion)),qD(s,f);const v=new Os(g.target,f,d,g.sequenceNumber);X_(s,v)}),s.remoteSyncer.applyRemoteEvent(c)}(n,t)}catch(r){Ie(ru,"Failed to raise snapshot:",r),await Cp(n,r)}}async function Cp(n,e,t){if(!Kc(e))throw e;n.W_.add(1),await ad(n),n.j_.set("Offline"),t||(t=()=>jD(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{Ie(ru,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await fg(n)})}function YD(n,e){return e().catch(t=>Cp(n,t,e))}async function dg(n){const e=lt(n),t=Ks(e);let r=e.U_.length>0?e.U_[e.U_.length-1].batchId:P_;for(;eV(e);)try{const a=await P6(e.localStore,r);if(a===null){e.U_.length===0&&t.P_();break}r=a.batchId,tV(e,a)}catch(a){await Cp(e,a)}GD(e)&&KD(e)}function eV(n){return uu(n)&&n.U_.length<10}function tV(n,e){n.U_.push(e);const t=Ks(n);t.c_()&&t.S_&&t.b_(e.mutations)}function GD(n){return uu(n)&&!Ks(n).u_()&&n.U_.length>0}function KD(n){Ks(n).start()}async function nV(n){Ks(n).C_()}async function rV(n){const e=Ks(n);for(const t of n.U_)e.b_(t.mutations)}async function iV(n,e,t){const r=n.U_.shift(),a=F_.from(r,e,t);await YD(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),await dg(n)}async function aV(n,e){e&&Ks(n).S_&&await async function(r,a){if(function(u){return BL(u)&&u!==fe.ABORTED}(a.code)){const s=r.U_.shift();Ks(r).h_(),await YD(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,a)),await dg(r)}}(n,e),GD(n)&&KD(n)}async function WR(n,e){const t=lt(n);t.asyncQueue.verifyOperationInProgress(),Ie(ru,"RemoteStore received new credentials");const r=uu(t);t.W_.add(3),await ad(t),r&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await fg(t)}async function oV(n,e){const t=lt(n);e?(t.W_.delete(2),await fg(t)):e||(t.W_.add(2),await ad(t),t.j_.set("Unknown"))}function Zc(n){return n.J_||(n.J_=function(t,r,a){const s=lt(t);return s.M_(),new q6(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,a)}(n.datastore,n.asyncQueue,{xo:Z6.bind(null,n),No:X6.bind(null,n),Lo:W6.bind(null,n),p_:J6.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),J_(n)?W_(n):n.j_.set("Unknown")):(await n.J_.stop(),HD(n))})),n.J_}function Ks(n){return n.Y_||(n.Y_=function(t,r,a){const s=lt(t);return s.M_(),new H6(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,a)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:nV.bind(null,n),Lo:aV.bind(null,n),D_:rV.bind(null,n),v_:iV.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await dg(n)):(await n.Y_.stop(),n.U_.length>0&&(Ie(ru,`Stopping write stream with ${n.U_.length} pending writes`),n.U_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{constructor(e,t,r,a,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=a,this.removalCallback=s,this.deferred=new Ls,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,a,s){const u=Date.now()+r,c=new eT(e,t,u,a,s);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ne(fe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function tT(n,e){if(Bo("AsyncQueue",`${e}: ${n}`),Kc(n))return new Ne(fe.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{static emptySet(e){return new gc(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||He.comparator(t.key,r.key):(t,r)=>He.comparator(t.key,r.key),this.keyedMap=af(),this.sortedSet=new bn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof gc)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,s=r.getNext().key;if(!a.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new gc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(){this.Z_=new bn(He.comparator)}track(e){const t=e.doc.key,r=this.Z_.get(t);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(t):e.type===1&&r.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):nt():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,r)=>{e.push(r)}),e}}class xc{constructor(e,t,r,a,s,u,c,f,d){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=s,this.fromCache=u,this.syncStateChanged=c,this.excludesMetadataChanges=f,this.hasCachedResults=d}static fromInitialDocuments(e,t,r,a,s){const u=[];return t.forEach(c=>{u.push({type:0,doc:c})}),new xc(e,t,gc.emptySet(t),u,r,a,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&og(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==r[a].type||!t[a].doc.isEqual(r[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sV{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class lV{constructor(){this.queries=eA(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,r){const a=lt(t),s=a.queries;a.queries=eA(),s.forEach((u,c)=>{for(const f of c.ta)f.onError(r)})})(this,new Ne(fe.ABORTED,"Firestore shutting down"))}}function eA(){return new lu(n=>pD(n),og)}async function QD(n,e){const t=lt(n);let r=3;const a=e.query;let s=t.queries.get(a);s?!s.na()&&e.ra()&&(r=2):(s=new sV,r=e.ra()?0:1);try{switch(r){case 0:s.ea=await t.onListen(a,!0);break;case 1:s.ea=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(u){const c=tT(u,`Initialization of query '${tc(e.query)}' failed`);return void e.onError(c)}t.queries.set(a,s),s.ta.push(e),e.sa(t.onlineState),s.ea&&e.oa(s.ea)&&nT(t)}async function ZD(n,e){const t=lt(n),r=e.query;let a=3;const s=t.queries.get(r);if(s){const u=s.ta.indexOf(e);u>=0&&(s.ta.splice(u,1),s.ta.length===0?a=e.ra()?0:1:!s.na()&&e.ra()&&(a=2))}switch(a){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function uV(n,e){const t=lt(n);let r=!1;for(const a of e){const s=a.query,u=t.queries.get(s);if(u){for(const c of u.ta)c.oa(a)&&(r=!0);u.ea=a}}r&&nT(t)}function cV(n,e,t){const r=lt(n),a=r.queries.get(e);if(a)for(const s of a.ta)s.onError(t);r.queries.delete(e)}function nT(n){n.ia.forEach(e=>{e.next()})}var I0,tA;(tA=I0||(I0={}))._a="default",tA.Cache="cache";class XD{constructor(e,t,r){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new xc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const r=t!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=xc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==I0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{constructor(e){this.key=e}}class JD{constructor(e){this.key=e}}class hV{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=St(),this.mutatedKeys=St(),this.ya=gD(e),this.wa=new gc(this.ya)}get Sa(){return this.fa}ba(e,t){const r=t?t.Da:new JR,a=t?t.wa:this.wa;let s=t?t.mutatedKeys:this.mutatedKeys,u=a,c=!1;const f=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,d=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((g,v)=>{const w=a.get(g),b=sg(this.query,v)?v:null,R=!!w&&this.mutatedKeys.has(w.key),C=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let D=!1;w&&b?w.data.isEqual(b.data)?R!==C&&(r.track({type:3,doc:b}),D=!0):this.va(w,b)||(r.track({type:2,doc:b}),D=!0,(f&&this.ya(b,f)>0||d&&this.ya(b,d)<0)&&(c=!0)):!w&&b?(r.track({type:0,doc:b}),D=!0):w&&!b&&(r.track({type:1,doc:w}),D=!0,(f||d)&&(c=!0)),D&&(b?(u=u.add(b),s=C?s.add(g):s.delete(g)):(u=u.delete(g),s=s.delete(g)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const g=this.query.limitType==="F"?u.last():u.first();u=u.delete(g.key),s=s.delete(g.key),r.track({type:1,doc:g})}return{wa:u,Da:r,ls:c,mutatedKeys:s}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,a){const s=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const u=e.Da.X_();u.sort((g,v)=>function(b,R){const C=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return nt()}};return C(b)-C(R)}(g.type,v.type)||this.ya(g.doc,v.doc)),this.Ca(r),a=a!=null&&a;const c=t&&!a?this.Fa():[],f=this.pa.size===0&&this.current&&!a?1:0,d=f!==this.ga;return this.ga=f,u.length!==0||d?{snapshot:new xc(this.query,e.wa,s,u,e.mutatedKeys,f===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:c}:{Ma:c}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new JR,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=St(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const t=[];return e.forEach(r=>{this.pa.has(r)||t.push(new JD(r))}),this.pa.forEach(r=>{e.has(r)||t.push(new WD(r))}),t}Oa(e){this.fa=e.gs,this.pa=St();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return xc.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const rT="SyncEngine";class fV{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class dV{constructor(e){this.key=e,this.Ba=!1}}class mV{constructor(e,t,r,a,s,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=a,this.currentUser=s,this.maxConcurrentLimboResolutions=u,this.La={},this.ka=new lu(c=>pD(c),og),this.qa=new Map,this.Qa=new Set,this.$a=new bn(He.comparator),this.Ua=new Map,this.Ka=new Y_,this.Wa={},this.Ga=new Map,this.za=Nc.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function pV(n,e,t=!0){const r=aI(n);let a;const s=r.ka.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),a=s.view.Na()):a=await eI(r,e,t,!0),a}async function gV(n,e){const t=aI(n);await eI(t,e,!0,!1)}async function eI(n,e,t,r){const a=await L6(n.localStore,$a(e)),s=a.targetId,u=n.sharedClientState.addLocalQueryTarget(s,t);let c;return r&&(c=await yV(n,e,s,u==="current",a.resumeToken)),n.isPrimaryClient&&t&&FD(n.remoteStore,a),c}async function yV(n,e,t,r,a){n.Ha=(v,w,b)=>async function(C,D,M,x){let P=D.view.ba(M);P.ls&&(P=await GR(C.localStore,D.query,!1).then(({documents:N})=>D.view.ba(N,P)));const $=x&&x.targetChanges.get(D.targetId),V=x&&x.targetMismatches.get(D.targetId)!=null,Y=D.view.applyChanges(P,C.isPrimaryClient,$,V);return rA(C,D.targetId,Y.Ma),Y.snapshot}(n,v,w,b);const s=await GR(n.localStore,e,!0),u=new hV(e,s.gs),c=u.ba(s.documents),f=id.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",a),d=u.applyChanges(c,n.isPrimaryClient,f);rA(n,t,d.Ma);const g=new fV(e,t,u);return n.ka.set(e,g),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),d.snapshot}async function vV(n,e,t){const r=lt(n),a=r.ka.get(e),s=r.qa.get(a.targetId);if(s.length>1)return r.qa.set(a.targetId,s.filter(u=>!og(u,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await C0(r.localStore,a.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(a.targetId),t&&Z_(r.remoteStore,a.targetId),O0(r,a.targetId)}).catch(Gc)):(O0(r,a.targetId),await C0(r.localStore,a.targetId,!0))}async function _V(n,e){const t=lt(n),r=t.ka.get(e),a=t.qa.get(r.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Z_(t.remoteStore,r.targetId))}async function TV(n,e,t){const r=CV(n);try{const a=await function(u,c){const f=lt(u),d=Jn.now(),g=c.reduce((b,R)=>b.add(R.key),St());let v,w;return f.persistence.runTransaction("Locally write mutations","readwrite",b=>{let R=$o(),C=St();return f.ds.getEntries(b,g).next(D=>{R=D,R.forEach((M,x)=>{x.isValidDocument()||(C=C.add(M))})}).next(()=>f.localDocuments.getOverlayedDocuments(b,R)).next(D=>{v=D;const M=[];for(const x of c){const P=LL(x,v.get(x.key).overlayedDocument);P!=null&&M.push(new tl(x.key,P,sD(P.value.mapValue),la.exists(!0)))}return f.mutationQueue.addMutationBatch(b,d,M,c)}).next(D=>{w=D;const M=D.applyToLocalDocumentSet(v,C);return f.documentOverlayCache.saveOverlays(b,D.batchId,M)})}).then(()=>({batchId:w.batchId,changes:vD(v)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),function(u,c,f){let d=u.Wa[u.currentUser.toKey()];d||(d=new bn(yt)),d=d.insert(c,f),u.Wa[u.currentUser.toKey()]=d}(r,a.batchId,t),await od(r,a.changes),await dg(r.remoteStore)}catch(a){const s=tT(a,"Failed to persist write");t.reject(s)}}async function tI(n,e){const t=lt(n);try{const r=await x6(t.localStore,e);e.targetChanges.forEach((a,s)=>{const u=t.Ua.get(s);u&&(qt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?u.Ba=!0:a.modifiedDocuments.size>0?qt(u.Ba):a.removedDocuments.size>0&&(qt(u.Ba),u.Ba=!1))}),await od(t,r,e)}catch(r){await Gc(r)}}function nA(n,e,t){const r=lt(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const a=[];r.ka.forEach((s,u)=>{const c=u.view.sa(e);c.snapshot&&a.push(c.snapshot)}),function(u,c){const f=lt(u);f.onlineState=c;let d=!1;f.queries.forEach((g,v)=>{for(const w of v.ta)w.sa(c)&&(d=!0)}),d&&nT(f)}(r.eventManager,e),a.length&&r.La.p_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function wV(n,e,t){const r=lt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const a=r.Ua.get(e),s=a&&a.key;if(s){let u=new bn(He.comparator);u=u.insert(s,Br.newNoDocument(s,at.min()));const c=St().add(s),f=new cg(at.min(),new Map,new bn(yt),u,c);await tI(r,f),r.$a=r.$a.remove(s),r.Ua.delete(e),iT(r)}else await C0(r.localStore,e,!1).then(()=>O0(r,e,t)).catch(Gc)}async function EV(n,e){const t=lt(n),r=e.batch.batchId;try{const a=await N6(t.localStore,e);rI(t,r,null),nI(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await od(t,a)}catch(a){await Gc(a)}}async function bV(n,e,t){const r=lt(n);try{const a=await function(u,c){const f=lt(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let g;return f.mutationQueue.lookupMutationBatch(d,c).next(v=>(qt(v!==null),g=v.keys(),f.mutationQueue.removeMutationBatch(d,v))).next(()=>f.mutationQueue.performConsistencyCheck(d)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(d,g,c)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,g)).next(()=>f.localDocuments.getDocuments(d,g))})}(r.localStore,e);rI(r,e,t),nI(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await od(r,a)}catch(a){await Gc(a)}}function nI(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function rI(n,e,t){const r=lt(n);let a=r.Wa[r.currentUser.toKey()];if(a){const s=a.get(e);s&&(t?s.reject(t):s.resolve(),a=a.remove(e)),r.Wa[r.currentUser.toKey()]=a}}function O0(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.qa.get(e))n.ka.delete(r),t&&n.La.Ja(r,t);n.qa.delete(e),n.isPrimaryClient&&n.Ka.br(e).forEach(r=>{n.Ka.containsKey(r)||iI(n,r)})}function iI(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(Z_(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ua.delete(t),iT(n))}function rA(n,e,t){for(const r of t)r instanceof WD?(n.Ka.addReference(r.key,e),RV(n,r)):r instanceof JD?(Ie(rT,"Document no longer in limbo: "+r.key),n.Ka.removeReference(r.key,e),n.Ka.containsKey(r.key)||iI(n,r.key)):nt()}function RV(n,e){const t=e.key,r=t.path.canonicalString();n.$a.get(t)||n.Qa.has(r)||(Ie(rT,"New document in limbo: "+t),n.Qa.add(r),iT(n))}function iT(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new He(mn.fromString(e)),r=n.za.next();n.Ua.set(r,new dV(t)),n.$a=n.$a.insert(t,r),FD(n.remoteStore,new Os($a(j_(t.path)),r,"TargetPurposeLimboResolution",rg.ae))}}async function od(n,e,t){const r=lt(n),a=[],s=[],u=[];r.ka.isEmpty()||(r.ka.forEach((c,f)=>{u.push(r.Ha(f,e,t).then(d=>{var g;if((d||t)&&r.isPrimaryClient){const v=d?!d.fromCache:(g=t==null?void 0:t.targetChanges.get(f.targetId))===null||g===void 0?void 0:g.current;r.sharedClientState.updateQueryState(f.targetId,v?"current":"not-current")}if(d){a.push(d);const v=K_.Yi(f.targetId,d);s.push(v)}}))}),await Promise.all(u),r.La.p_(a),await async function(f,d){const g=lt(f);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>he.forEach(d,w=>he.forEach(w.Hi,b=>g.persistence.referenceDelegate.addReference(v,w.targetId,b)).next(()=>he.forEach(w.Ji,b=>g.persistence.referenceDelegate.removeReference(v,w.targetId,b)))))}catch(v){if(!Kc(v))throw v;Ie(Q_,"Failed to update sequence numbers: "+v)}for(const v of d){const w=v.targetId;if(!v.fromCache){const b=g.Ts.get(w),R=b.snapshotVersion,C=b.withLastLimboFreeSnapshotVersion(R);g.Ts=g.Ts.insert(w,C)}}}(r.localStore,s))}async function AV(n,e){const t=lt(n);if(!t.currentUser.isEqual(e)){Ie(rT,"User change. New user:",e.toKey());const r=await zD(t.localStore,e);t.currentUser=e,function(s,u){s.Ga.forEach(c=>{c.forEach(f=>{f.reject(new Ne(fe.CANCELLED,u))})}),s.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await od(t,r.Rs)}}function SV(n,e){const t=lt(n),r=t.Ua.get(e);if(r&&r.Ba)return St().add(r.key);{let a=St();const s=t.qa.get(e);if(!s)return a;for(const u of s){const c=t.ka.get(u);a=a.unionWith(c.view.Sa)}return a}}function aI(n){const e=lt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=tI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=SV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=wV.bind(null,e),e.La.p_=uV.bind(null,e.eventManager),e.La.Ja=cV.bind(null,e.eventManager),e}function CV(n){const e=lt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=EV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=bV.bind(null,e),e}class Dp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=hg(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return M6(this.persistence,new D6,e.initialUser,this.serializer)}Xa(e){return new UD(G_.ri,this.serializer)}Za(e){return new U6}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Dp.provider={build:()=>new Dp};class DV extends Dp{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){qt(this.persistence.referenceDelegate instanceof Sp);const r=this.persistence.referenceDelegate.garbageCollector;return new d6(r,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?li.withCacheSize(this.cacheSizeBytes):li.DEFAULT;return new UD(r=>Sp.ri(r,t),this.serializer)}}class M0{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>nA(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=AV.bind(null,this.syncEngine),await oV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new lV}()}createDatastore(e){const t=hg(e.databaseInfo.databaseId),r=function(s){return new F6(s)}(e.databaseInfo);return function(s,u,c,f){return new G6(s,u,c,f)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,a,s,u,c){return new Q6(r,a,s,u,c)}(this.localStore,this.datastore,e.asyncQueue,t=>nA(this.syncEngine,t,0),function(){return ZR.D()?new ZR:new z6}())}createSyncEngine(e,t){return function(a,s,u,c,f,d,g){const v=new mV(a,s,u,c,f,d);return g&&(v.ja=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(a){const s=lt(a);Ie(ru,"RemoteStore shutting down."),s.W_.add(5),await ad(s),s.z_.shutdown(),s.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}M0.provider={build:()=>new M0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Bo("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qs="FirestoreClient";class IV{constructor(e,t,r,a,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=a,this.user=jr.UNAUTHENTICATED,this.clientId=XC.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async u=>{Ie(Qs,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(Ie(Qs,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ls;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=tT(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function jv(n,e){n.asyncQueue.verifyOperationInProgress(),Ie(Qs,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async a=>{r.isEqual(a)||(await zD(e.localStore,a),r=a)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function iA(n,e){n.asyncQueue.verifyOperationInProgress();const t=await OV(n);Ie(Qs,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>WR(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,a)=>WR(e.remoteStore,a)),n._onlineComponents=e}async function OV(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ie(Qs,"Using user provided OfflineComponentProvider");try{await jv(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(a){return a.name==="FirebaseError"?a.code===fe.FAILED_PRECONDITION||a.code===fe.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(t))throw t;Dc("Error using user provided cache. Falling back to memory cache: "+t),await jv(n,new Dp)}}else Ie(Qs,"Using default OfflineComponentProvider"),await jv(n,new DV(void 0));return n._offlineComponents}async function sI(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ie(Qs,"Using user provided OnlineComponentProvider"),await iA(n,n._uninitializedComponentsProvider._online)):(Ie(Qs,"Using default OnlineComponentProvider"),await iA(n,new M0))),n._onlineComponents}function MV(n){return sI(n).then(e=>e.syncEngine)}async function N0(n){const e=await sI(n),t=e.eventManager;return t.onListen=pV.bind(null,e.syncEngine),t.onUnlisten=vV.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=gV.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=_V.bind(null,e.syncEngine),t}function NV(n,e,t={}){const r=new Ls;return n.asyncQueue.enqueueAndForget(async()=>function(s,u,c,f,d){const g=new oI({next:w=>{g.su(),u.enqueueAndForget(()=>ZD(s,v)),w.fromCache&&f.source==="server"?d.reject(new Ne(fe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(w)},error:w=>d.reject(w)}),v=new XD(c,g,{includeMetadataChanges:!0,Ta:!0});return QD(s,v)}(await N0(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lI(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aA=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uI(n,e,t){if(!t)throw new Ne(fe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function xV(n,e,t,r){if(e===!0&&r===!0)throw new Ne(fe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function oA(n){if(!He.isDocumentKey(n))throw new Ne(fe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function sA(n){if(He.isDocumentKey(n))throw new Ne(fe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function mg(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":nt()}function qa(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ne(fe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=mg(n);throw new Ne(fe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cI="firestore.googleapis.com",lA=!0;class uA{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Ne(fe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=cI,this.ssl=lA}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:lA;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=VD;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<h6)throw new Ne(fe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}xV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=lI((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Ne(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Ne(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Ne(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,a){return r.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class pg{constructor(e,t,r,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new uA({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ne(fe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ne(fe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new uA(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new $4;switch(r.type){case"firstParty":return new Y4(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ne(fe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=aA.get(t);r&&(Ie("ComponentProvider","Removing Datastore"),aA.delete(t),r.terminate())}(this),Promise.resolve()}}function kV(n,e,t,r={}){var a;const s=(n=qa(n,pg))._getSettings(),u=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),c=`${e}:${t}`;s.host!==cI&&s.host!==c&&Dc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f=Object.assign(Object.assign({},s),{host:c,ssl:!1,emulatorOptions:r});if(!Jl(f,u)&&(n._setSettings(f),r.mockUserToken)){let d,g;if(typeof r.mockUserToken=="string")d=r.mockUserToken,g=jr.MOCK_USER;else{d=vk(r.mockUserToken,(a=n._app)===null||a===void 0?void 0:a.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new Ne(fe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new jr(v)}n._authCredentials=new F4(new QC(d,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new nl(this.firestore,e,this._query)}}class ci{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ci(this.firestore,e,this._key)}}class Vs extends nl{constructor(e,t,r){super(e,t,j_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ci(this.firestore,null,new He(e))}withConverter(e){return new Vs(this.firestore,e,this._path)}}function aT(n,e,...t){if(n=Fr(n),uI("collection","path",e),n instanceof pg){const r=mn.fromString(e,...t);return sA(r),new Vs(n,null,r)}{if(!(n instanceof ci||n instanceof Vs))throw new Ne(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(mn.fromString(e,...t));return sA(r),new Vs(n.firestore,null,r)}}function oT(n,e,...t){if(n=Fr(n),arguments.length===1&&(e=XC.newId()),uI("doc","path",e),n instanceof pg){const r=mn.fromString(e,...t);return oA(r),new ci(n,null,new He(r))}{if(!(n instanceof ci||n instanceof Vs))throw new Ne(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(mn.fromString(e,...t));return oA(r),new ci(n.firestore,n instanceof Vs?n.converter:null,new He(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cA="AsyncQueue";class hA{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new BD(this,"async_queue_retry"),this.Su=()=>{const r=zv();r&&Ie(cA,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;const t=zv();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=zv();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new Ls;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Kc(e))throw e;Ie(cA,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const a=function(u){let c=u.message||"";return u.stack&&(c=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),c}(r);throw Bo("INTERNAL UNHANDLED ERROR: ",a),r}).then(r=>(this.pu=!1,r))));return this.bu=t,t}enqueueAfterDelay(e,t,r){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const a=eT.createAndSchedule(this,e,t,r,s=>this.Fu(s));return this.fu.push(a),a}Du(){this.gu&&nt()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}function fA(n){return function(t,r){if(typeof t!="object"||t===null)return!1;const a=t;for(const s of r)if(s in a&&typeof a[s]=="function")return!0;return!1}(n,["next","error","complete"])}class iu extends pg{constructor(e,t,r,a){super(e,t,r,a),this.type="firestore",this._queue=new hA,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new hA(e),this._firestoreClient=void 0,await e}}}function PV(n,e){const t=typeof n=="object"?n:lC(),r=typeof n=="string"?n:Tp,a=b_(t,"firestore").getImmediate({identifier:r});if(!a._initialized){const s=gk("firestore");s&&kV(a,...s)}return a}function sT(n){if(n._terminated)throw new Ne(fe.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||LV(n),n._firestoreClient}function LV(n){var e,t,r;const a=n._freezeSettings(),s=function(c,f,d,g){return new sL(c,f,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,lI(g.experimentalLongPollingOptions),g.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,a);n._componentsProvider||!((t=a.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=a.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),n._firestoreClient=new IV(n._authCredentials,n._appCheckCredentials,n._queue,s,n._componentsProvider&&function(c){const f=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(f),_online:f}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new kc(kr.fromBase64String(e))}catch(t){throw new Ne(fe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new kc(kr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Ne(fe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Nr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ne(fe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ne(fe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return yt(this._lat,e._lat)||yt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,a){if(r.length!==a.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==a[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VV=/^__.*__$/;class UV{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new tl(e,this.data,this.fieldMask,t,this.fieldTransforms):new rd(e,this.data,t,this.fieldTransforms)}}class hI{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new tl(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function fI(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw nt()}}class hT{constructor(e,t,r,a,s,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=a,s===void 0&&this.Bu(),this.fieldTransforms=s||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new hT(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.ku({path:r,Qu:!1});return a.$u(e),a}Uu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.ku({path:r,Qu:!1});return a.Bu(),a}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Ip(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(fI(this.Lu)&&VV.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class zV{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||hg(e)}ju(e,t,r,a=!1){return new hT({Lu:e,methodName:t,zu:r,path:Nr.emptyPath(),Qu:!1,Gu:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function fT(n){const e=n._freezeSettings(),t=hg(n._databaseId);return new zV(n._databaseId,!!e.ignoreUndefinedProperties,t)}function jV(n,e,t,r,a,s={}){const u=n.ju(s.merge||s.mergeFields?2:0,e,t,a);dT("Data must be an object, but it was:",u,r);const c=dI(r,u);let f,d;if(s.merge)f=new Ai(u.fieldMask),d=u.fieldTransforms;else if(s.mergeFields){const g=[];for(const v of s.mergeFields){const w=x0(e,v,t);if(!u.contains(w))throw new Ne(fe.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);pI(g,w)||g.push(w)}f=new Ai(g),d=u.fieldTransforms.filter(v=>f.covers(v.field))}else f=null,d=u.fieldTransforms;return new UV(new ui(c),f,d)}class yg extends lT{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof yg}}function BV(n,e,t,r){const a=n.ju(1,e,t);dT("Data must be an object, but it was:",a,r);const s=[],u=ui.empty();el(r,(f,d)=>{const g=mT(e,f,t);d=Fr(d);const v=a.Uu(g);if(d instanceof yg)s.push(g);else{const w=sd(d,v);w!=null&&(s.push(g),u.set(g,w))}});const c=new Ai(s);return new hI(u,c,a.fieldTransforms)}function $V(n,e,t,r,a,s){const u=n.ju(1,e,t),c=[x0(e,r,t)],f=[a];if(s.length%2!=0)throw new Ne(fe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<s.length;w+=2)c.push(x0(e,s[w])),f.push(s[w+1]);const d=[],g=ui.empty();for(let w=c.length-1;w>=0;--w)if(!pI(d,c[w])){const b=c[w];let R=f[w];R=Fr(R);const C=u.Uu(b);if(R instanceof yg)d.push(b);else{const D=sd(R,C);D!=null&&(d.push(b),g.set(b,D))}}const v=new Ai(d);return new hI(g,v,u.fieldTransforms)}function FV(n,e,t,r=!1){return sd(t,n.ju(r?4:3,e))}function sd(n,e){if(mI(n=Fr(n)))return dT("Unsupported field value:",e,n),dI(n,e);if(n instanceof lT)return function(r,a){if(!fI(a.Lu))throw a.Wu(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Wu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(a);s&&a.fieldTransforms.push(s)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,a){const s=[];let u=0;for(const c of r){let f=sd(c,a.Ku(u));f==null&&(f={nullValue:"NULL_VALUE"}),s.push(f),u++}return{arrayValue:{values:s}}}(n,e)}return function(r,a){if((r=Fr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return OL(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Jn.fromDate(r);return{timestampValue:Ap(a.serializer,s)}}if(r instanceof Jn){const s=new Jn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ap(a.serializer,s)}}if(r instanceof uT)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof kc)return{bytesValue:OD(a.serializer,r._byteString)};if(r instanceof ci){const s=a.databaseId,u=r.firestore._databaseId;if(!u.isEqual(s))throw a.Wu(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:H_(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof cT)return function(u,c){return{mapValue:{fields:{[aD]:{stringValue:oD},[wp]:{arrayValue:{values:u.toArray().map(d=>{if(typeof d!="number")throw c.Wu("VectorValues must only contain numeric values.");return B_(c.serializer,d)})}}}}}}(r,a);throw a.Wu(`Unsupported field value: ${mg(r)}`)}(n,e)}function dI(n,e){const t={};return JC(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):el(n,(r,a)=>{const s=sd(a,e.qu(r));s!=null&&(t[r]=s)}),{mapValue:{fields:t}}}function mI(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Jn||n instanceof uT||n instanceof kc||n instanceof ci||n instanceof lT||n instanceof cT)}function dT(n,e,t){if(!mI(t)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(t)){const r=mg(t);throw r==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+r)}}function x0(n,e,t){if((e=Fr(e))instanceof gg)return e._internalPath;if(typeof e=="string")return mT(n,e);throw Ip("Field path arguments must be of type string or ",n,!1,void 0,t)}const qV=new RegExp("[~\\*/\\[\\]]");function mT(n,e,t){if(e.search(qV)>=0)throw Ip(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new gg(...e.split("."))._internalPath}catch{throw Ip(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Ip(n,e,t,r,a){const s=r&&!r.isEmpty(),u=a!==void 0;let c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let f="";return(s||u)&&(f+=" (found",s&&(f+=` in field ${r}`),u&&(f+=` in document ${a}`),f+=")"),new Ne(fe.INVALID_ARGUMENT,c+n+f)}function pI(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(e,t,r,a,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=a,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ci(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new HV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(pT("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class HV extends gI{data(){return super.data()}}function pT(n,e){return typeof e=="string"?mT(n,e):e instanceof gg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yI(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Ne(fe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class gT{}class vI extends gT{}function YV(n,e,...t){let r=[];e instanceof gT&&r.push(e),r=r.concat(t),function(s){const u=s.filter(f=>f instanceof vT).length,c=s.filter(f=>f instanceof yT).length;if(u>1||u>0&&c>0)throw new Ne(fe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const a of r)n=a._apply(n);return n}class yT extends vI{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new yT(e,t,r)}_apply(e){const t=this._parse(e);return _I(e._query,t),new nl(e.firestore,e.converter,w0(e._query,t))}_parse(e){const t=fT(e.firestore);return function(s,u,c,f,d,g,v){let w;if(d.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new Ne(fe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){mA(v,g);const R=[];for(const C of v)R.push(dA(f,s,C));w={arrayValue:{values:R}}}else w=dA(f,s,v)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||mA(v,g),w=FV(c,u,v,g==="in"||g==="not-in");return Fn.create(d,g,w)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class vT extends gT{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new vT(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:ha.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(a,s){let u=a;const c=s.getFlattenedFilters();for(const f of c)_I(u,f),u=w0(u,f)}(e._query,t),new nl(e.firestore,e.converter,w0(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class _T extends vI{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new _T(e,t)}_apply(e){const t=function(a,s,u){if(a.startAt!==null)throw new Ne(fe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new Ne(fe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new If(s,u)}(e._query,this._field,this._direction);return new nl(e.firestore,e.converter,function(a,s){const u=a.explicitOrderBy.concat([s]);return new Qc(a.path,a.collectionGroup,u,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,t))}}function GV(n,e="asc"){const t=e,r=pT("orderBy",n);return _T._create(r,t)}function dA(n,e,t){if(typeof(t=Fr(t))=="string"){if(t==="")throw new Ne(fe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!mD(e)&&t.indexOf("/")!==-1)throw new Ne(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(mn.fromString(t));if(!He.isDocumentKey(r))throw new Ne(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return DR(n,new He(r))}if(t instanceof ci)return DR(n,t._key);throw new Ne(fe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${mg(t)}.`)}function mA(n,e){if(!Array.isArray(n)||n.length===0)throw new Ne(fe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function _I(n,e){const t=function(a,s){for(const u of a)for(const c of u.getFlattenedFilters())if(s.indexOf(c.op)>=0)return c.op;return null}(n.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new Ne(fe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ne(fe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class KV{convertValue(e,t="none"){switch(Gs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Pn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ys(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw nt()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return el(e,(a,s)=>{r[a]=this.convertValue(s,t)}),r}convertVectorValue(e){var t,r,a;const s=(a=(r=(t=e.fields)===null||t===void 0?void 0:t[wp].arrayValue)===null||r===void 0?void 0:r.values)===null||a===void 0?void 0:a.map(u=>Pn(u.doubleValue));return new cT(s)}convertGeoPoint(e){return new uT(Pn(e.latitude),Pn(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=ag(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Sf(e));default:return null}}convertTimestamp(e){const t=Hs(e);return new Jn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=mn.fromString(e);qt(LD(r));const a=new Cf(r.get(1),r.get(3)),s=new He(r.popFirst(5));return a.isEqual(t)||Bo(`Document ${s} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QV(n,e,t){let r;return r=n?n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class TI extends gI{constructor(e,t,r,a,s,u){super(e,t,r,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Ym(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(pT("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Ym extends TI{data(e={}){return super.data(e)}}class wI{constructor(e,t,r,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new sf(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Ym(this._firestore,this._userDataWriter,r.key,r,new sf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ne(fe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,s){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map(c=>{const f=new Ym(a._firestore,a._userDataWriter,c.doc.key,c.doc,new sf(a._snapshot.mutatedKeys.has(c.doc.key),a._snapshot.fromCache),a.query.converter);return c.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}})}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(c=>s||c.type!==3).map(c=>{const f=new Ym(a._firestore,a._userDataWriter,c.doc.key,c.doc,new sf(a._snapshot.mutatedKeys.has(c.doc.key),a._snapshot.fromCache),a.query.converter);let d=-1,g=-1;return c.type!==0&&(d=u.indexOf(c.doc.key),u=u.delete(c.doc.key)),c.type!==1&&(u=u.add(c.doc),g=u.indexOf(c.doc.key)),{type:ZV(c.type),doc:f,oldIndex:d,newIndex:g}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function ZV(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return nt()}}class TT extends KV{constructor(e){super(),this.firestore=e}convertBytes(e){return new kc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ci(this.firestore,null,t)}}function XV(n){n=qa(n,nl);const e=qa(n.firestore,iu),t=sT(e),r=new TT(e);return yI(n._query),NV(t,n._query).then(a=>new wI(e,r,n,a))}function pA(n,e,t,...r){n=qa(n,ci);const a=qa(n.firestore,iu),s=fT(a);let u;return u=typeof(e=Fr(e))=="string"||e instanceof gg?$V(s,"updateDoc",n._key,e,t,r):BV(s,"updateDoc",n._key,e),wT(a,[u.toMutation(n._key,la.exists(!0))])}function WV(n){return wT(qa(n.firestore,iu),[new $_(n._key,la.none())])}function JV(n,e){const t=qa(n.firestore,iu),r=oT(n),a=QV(n.converter,e);return wT(t,[jV(fT(n.firestore),"addDoc",r._key,a,n.converter!==null,{}).toMutation(r._key,la.exists(!1))]).then(()=>r)}function eU(n,...e){var t,r,a;n=Fr(n);let s={includeMetadataChanges:!1,source:"default"},u=0;typeof e[u]!="object"||fA(e[u])||(s=e[u],u++);const c={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(fA(e[u])){const v=e[u];e[u]=(t=v.next)===null||t===void 0?void 0:t.bind(v),e[u+1]=(r=v.error)===null||r===void 0?void 0:r.bind(v),e[u+2]=(a=v.complete)===null||a===void 0?void 0:a.bind(v)}let f,d,g;if(n instanceof ci)d=qa(n.firestore,iu),g=j_(n._key.path),f={next:v=>{e[u]&&e[u](tU(d,n,v))},error:e[u+1],complete:e[u+2]};else{const v=qa(n,nl);d=qa(v.firestore,iu),g=v._query;const w=new TT(d);f={next:b=>{e[u]&&e[u](new wI(d,w,v,b))},error:e[u+1],complete:e[u+2]},yI(n._query)}return function(w,b,R,C){const D=new oI(C),M=new XD(b,D,R);return w.asyncQueue.enqueueAndForget(async()=>QD(await N0(w),M)),()=>{D.su(),w.asyncQueue.enqueueAndForget(async()=>ZD(await N0(w),M))}}(sT(d),g,c,f)}function wT(n,e){return function(r,a){const s=new Ls;return r.asyncQueue.enqueueAndForget(async()=>TV(await MV(r),a,s)),s.promise}(sT(n),e)}function tU(n,e,t){const r=t.docs.get(e._key),a=new TT(n);return new TI(n,a,e._key,r,new sf(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(a){Yc=a})(qc),Sc(new eu("firestore",(r,{instanceIdentifier:a,options:s})=>{const u=r.getProvider("app").getImmediate(),c=new iu(new q4(r.getProvider("auth-internal")),new G4(u,r.getProvider("app-check-internal")),function(d,g){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Ne(fe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Cf(d.options.projectId,g)}(u,a),u);return s=Object.assign({useFetchStreams:t},s),c._setSettings(s),c},"PUBLIC").setMultipleInstances(!0)),ks(gR,yR,e),ks(gR,yR,"esm2017")})();const nU={apiKey:"AIzaSyASY_TDUPR0wPWFPs2yVkJZl4XZpyqq1JI",authDomain:"organizador-32dbb.firebaseapp.com",projectId:"organizador-32dbb",storageBucket:"organizador-32dbb.firebasestorage.app",messagingSenderId:"805321376378",appId:"1:805321376378:web:6ef2732c87d76dcbc031c3"},EI=sC(nU);j4(EI);const Nf=PV(EI),Ms=(n,e)=>{const t={position:"top-center",theme:"dark"};switch(e){case"error":Gt.error(n,t);break;case"success":Gt.success(n,t);break}};class bI{constructor({name:e,text:t,id:r="nada",date:a}){Yh(this,"id");Yh(this,"date");Yh(this,"name");Yh(this,"text");this.id=r,this.name=e,this.text=t,this.date=a||`${Wu.Now.plainTimeISO().toString().slice(0,5)} / ${Wu.Now.plainDateISO().toString()}`}async save(){const e=Wu.Now.plainTimeISO().toString().slice(0,5),t=Wu.Now.plainDateISO().toString();this.date=`${t} / ${e}`;try{const r=await JV(aT(Nf,"notes"),{name:this.name,date:this.date,text:this.text});await pA(r,{id:r.id}),Ms("Nota guardada exitosamente","success")}catch(r){Ms(`Error al guardar la nota: ${r}`,"error")}}async edit(e,t,r){const a=Wu.Now.plainTimeISO().toString().slice(0,5),u=`${Wu.Now.plainDateISO().toString()} / ${a}`;try{const c=oT(Nf,"notes",r);await pA(c,{id:r,name:e,text:t,date:u}),Ms("Nota actualizada exitosamente","success")}catch(c){Ms(`Error al editar la nota: ${c}`,"error")}}show(){console.log(this)}}const rU=()=>{const[n,e]=Z.useState(""),[t,r]=Z.useState(""),a=Lp();function s(){new bI({name:n,text:t}).save(),setTimeout(()=>{a("/notes")},2500)}return Z.useEffect(()=>{const u=()=>{window.location.href="/notes"};return window.addEventListener("popstate",u),()=>{window.removeEventListener("popstate",u)}},[]),ze.jsx("section",{className:"flex w-full relative",children:ze.jsxs("div",{className:"z-10 flex flex-col min-h-screen w-full relative",children:[ze.jsx(q0,{className:"text-center text-lg font-bold w-full py-4 dark:bg-[var(--nd)] bg-[var(--nd)] dark:text-[var(--txt)] text-[var(--txt)]",to:"/notes",children:"Volver al inicio"}),ze.jsxs("span",{className:"relative",children:[ze.jsx("input",{className:"flex h-14 w-full py-2 pl-2 pr-12 truncate  text-lg font-bold dark:text-[var(--txt-2)] text-[var(--txt-2)] focus:dark:text-[var(--txt)] focus:text-[var(--txt)] border-b-2 dark:border-[var(--rd)] border-[var(--rd)] focus:bg-[var(--rd)] dark:focus:focus:bg-[var(--rd)] outline-none",placeholder:"Ttulo",type:"text",onChange:u=>e(u.target.value)}),ze.jsx("button",{className:"absolute right-2 top-3 text-3xl dark:text-[var(--txt)] text-[var(--txt)]",onClick:s,children:ze.jsx(YA,{})})]}),ze.jsx("textarea",{className:"p-2 dark:text-[var(--txt-2)] text-[var(--txt-2)] focus:dark:text-[var(--txt)] focus:text-[var(--txt)] outline-none w-full h-full focus:bg-[var(--rd)] dark:focus:focus:bg-[var(--rd)]",placeholder:"Escriba su nota aqu...",onChange:u=>r(u.target.value)})]})})};function iU(n){return H0({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M135.2 17.7C140.6 6.8 151.7 0 163.8 0L284.2 0c12.1 0 23.2 6.8 28.6 17.7L320 32l96 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 96C14.3 96 0 81.7 0 64S14.3 32 32 32l96 0 7.2-14.3zM32 128l384 0 0 320c0 35.3-28.7 64-64 64L96 512c-35.3 0-64-28.7-64-64l0-320zm96 64c-8.8 0-16 7.2-16 16l0 224c0 8.8 7.2 16 16 16s16-7.2 16-16l0-224c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16l0 224c0 8.8 7.2 16 16 16s16-7.2 16-16l0-224c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16l0 224c0 8.8 7.2 16 16 16s16-7.2 16-16l0-224c0-8.8-7.2-16-16-16z"},child:[]}]})(n)}function k0(n){const e={id:n.id,name:n.name?n.name:"",date:n.date?n.date:"",text:n.text?n.text:""};return new bI({id:e.id,name:e.name,date:e.date,text:e.text})}const aU=async({type:n,order:e})=>{try{const t=aT(Nf,"notes"),r=YV(t,GV(n,e)),s=(await XV(r)).docs.map(c=>({id:c.id,...c.data()}));let u=[];return s.forEach(c=>{let f=k0(c);u.push(f)}),u}catch(t){return Ms(`Error obteniendo notas: ${t}`,"error"),[]}},oU=async n=>{try{if(n){const e=oT(Nf,"notes",n);await WV(e)}else Ms("No se encuentra el ID del documento","error");Ms("Nota eliminada exitosamente","success")}catch(e){Ms(`Error al eliminar la nota: ${e}`,"error")}},sU=({initialData:n,changeInterface:e,fetch:t})=>{const[r,a]=Z.useState(n.name),[s,u]=Z.useState(n.text);function c(){n.id&&n.edit(r,s,n.id),e(!1),t()}return Z.useEffect(()=>{const f=()=>{e(!1)};return window.addEventListener("popstate",f),()=>{window.removeEventListener("popstate",f)}},[]),ze.jsx("section",{className:"flex w-full h-full relative ",children:ze.jsxs("div",{className:"z-10 flex flex-col min-h-96 w-full relative",children:[ze.jsx("button",{className:"text-center text-lg font-bold w-full py-4 dark:bg-[var(--nd)] bg-[var(--nd)] dark:text-[var(--txt)] text-[var(--txt)]",onClick:()=>e(!1),children:"Volver al inicio"}),ze.jsxs("div",{className:"w-full flex relative",children:[ze.jsx("input",{className:"w-full flex h-14 py-2 pl-2 pr-12 truncate text-lg font-bold dark:text-[var(--txt-2)] text-[var(--txt-2)] focus:dark:text-[var(--txt)] focus:text-[var(--txt)] border-b-2 dark:border-[var(--rd)] border-[var(--rd)] focus:bg-[var(--rd)] dark:focus:focus:bg-[var(--rd)] outline-none",placeholder:"Ttulo",defaultValue:n.name,type:"text",onChange:f=>a(f.target.value)}),ze.jsx("button",{className:"absolute z-20 right-2 top-2 text-4xl dark:text-[var(--txt)] text-[var(--txt)]",onClick:c,children:ze.jsx(YA,{})})]}),ze.jsx("textarea",{className:"p-2 dark:text-[var(--txt-2)] text-[var(--txt-2)] focus:dark:text-[var(--txt)] focus:text-[var(--txt)] outline-none w-full h-full focus:bg-[var(--rd)] dark:focus:focus:bg-[var(--rd)]",placeholder:"Escriba su nota aqu...",defaultValue:n.text,onChange:f=>u(f.target.value)})]})})},Bv=()=>{const{toggleTheme:n}=GN(),[e,t]=Z.useState([]),[r,a]=Z.useState(!0),[s,u]=Z.useState(),[c,f]=Z.useState(!1),[d,g]=Z.useState(!1),v=Lp(),w=()=>JSON.parse(localStorage.getItem("notes")||"[]").map(k0),b=P=>{u(P),f(!0)},R=()=>{s&&s.id&&oU(s.id),x(),f(!1)},C=P=>{u(P),g(!0)},D=()=>{v("/notes/new")},M=async()=>{const P=w();if(P.length>0)t(P),a(!1);else{const $=await aU({type:"date",order:"asc"});t($),localStorage.setItem("notes",JSON.stringify($)),a(!1)}},x=()=>eU(aT(Nf,"notes"),$=>{const Y=$.docs.map(N=>({id:N.id,...N.data()})).map(k0);t(Y),a(!1),localStorage.setItem("notes",JSON.stringify(Y))});return Z.useEffect(()=>{M()},[]),Z.useEffect(()=>{a(!0);const P=x();return()=>P()},[]),d&&s?ze.jsx("section",{className:"w-full min-h-screen",children:ze.jsx(sU,{initialData:s,changeInterface:g,fetch:x})}):ze.jsxs("section",{className:"relative",children:[c&&ze.jsx("div",{className:"absolute z-20 flex items-center justify-center min-h-screen w-full bg-black/75",children:ze.jsxs("div",{className:"flex flex-col items-center justify-center bg-[(var--nd-light)] dark:bg-[(var--nd-dark)] p-10",children:[ze.jsxs("h1",{className:"text-[var(--txt)] dark:text-[var(--txt)] text-2xl font-bold",children:[" Estas seguro de que quieres eliminar la nota: ",ze.jsx("b",{className:"text-red-500",children:s==null?void 0:s.name}),"?"]}),ze.jsxs("span",{className:"w-full mt-10 flex gap-2 h-12 text-2xl font-bold",children:[ze.jsx("button",{className:"bg-[var(--nd)] dark:bg-[var(--nd)] size-full rounded text-[var(--txt)] dark:text-[var(--txt)]",onClick:()=>f(!1),children:"Volver"}),ze.jsx("button",{className:"bg-red-600 size-full rounded text-[var(--txt)] dark:text-[var(--txt)]",onClick:R,children:"Eliminar"})]})]})}),ze.jsx("button",{onClick:n,className:"w-full dark:bg-[var(--th)] bg-[var(--th)] font-bold text-white py-2",children:"Cambiar Tema"}),r&&ze.jsx("div",{className:"flex min-h-screen w-full items-center justify-center",children:ze.jsx("p",{className:"dark:text-[var(--txt)] text-[var(--txt)] text-2xl animate-pulse duration-300",children:"Cargando..."})}),!r&&e.length===0&&ze.jsx("div",{className:"flex min-h-screen w-full items-center justify-center",children:ze.jsx("p",{className:"dark:text-[var(--txt)] text-[var(--txt)] text-2xl animate-pulse duration-300",children:"No hay notas disponibles."})}),!r&&e.length>0&&ze.jsxs("div",{className:"z-10 flex flex-col w-full min-h-[85vh] py-10 px-2",children:[ze.jsx("h1",{className:"mb-4 font-bold text-center dark:text-[var(--txt-2)] text-[var(--txt-2)] ",children:"Selecciona una nota para editarla"}),ze.jsxs("button",{className:"relative grid grid-cols-[80%_20%] gap-2 h-16 items-center pl-2 pr-4.5 bg-[var(--rd)] dark:[var(--rd)] rounded-lg",onClick:D,children:[ze.jsx("h1",{className:"text-lg font-bold text-start text-[var(--txt)]",children:"Nueva nota"}),ze.jsx("label",{className:"flex items-center justify-center size-full text-3xl",children:ze.jsx(rx,{className:"text-lime-500"})})]}),ze.jsx("ul",{className:"w-full max-h-[65vh] overflow-auto flex flex-col gap-2 py-2",children:e.map(P=>ze.jsxs("li",{className:"relative grid grid-cols-[80%_20%] min-h-16 max-h-16 items-center px-2 bg-[var(--nd)] dark:[var(--nd)] rounded-lg",children:[ze.jsx("h2",{className:"mb-1 text-lg font-bold truncate text-[var(--txt)] dark:[var(--txt)]",onClick:()=>C(P),children:P.name}),ze.jsx("div",{className:"size-full flex",children:ze.jsx("button",{className:"flex justify-center items-center size-full text-3xl text-red-500",onClick:()=>b(P),children:ze.jsx(iU,{})})}),ze.jsx("h5",{className:"absolute text-sm bottom-1 left-6 text-[var(--txt-2)] dark:[var(--txt-2)]",children:P.date})]},P.id))})]})]})},lU=kN([{path:"/",element:ze.jsx(uN,{to:"notes"})},{path:"/notes",element:ze.jsx(r1,{}),children:[{index:!0,element:ze.jsx(Bv,{})},{path:"/notes/main",element:ze.jsx(Bv,{})},{path:"/notes/new",element:ze.jsx(rU,{})}]},{path:"/test",element:ze.jsx(r1,{}),children:[{index:!0,element:ze.jsx(Bv,{})}]}]);BO.createRoot(document.getElementById("root")).render(ze.jsx(Z.StrictMode,{children:ze.jsx(QN,{children:ze.jsxs(YN,{children:[ze.jsx(oN,{router:lU}),ze.jsx(kO,{})]})})}));
