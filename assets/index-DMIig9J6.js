var pV=Object.defineProperty;var yV=(n,t,e)=>t in n?pV(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var Et=(n,t,e)=>yV(n,typeof t!="symbol"?t+"":t,e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function e(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=e(r);fetch(r.href,s)}})();function _V(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Ib={exports:{}},Lf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HA;function vV(){if(HA)return Lf;HA=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,r,s){var a=null;if(s!==void 0&&(a=""+s),r.key!==void 0&&(a=""+r.key),"key"in r){s={};for(var c in r)c!=="key"&&(s[c]=r[c])}else s=r;return r=s.ref,{$$typeof:n,type:i,key:a,ref:r!==void 0?r:null,props:s}}return Lf.Fragment=t,Lf.jsx=e,Lf.jsxs=e,Lf}var qA;function bV(){return qA||(qA=1,Ib.exports=vV()),Ib.exports}var yt=bV(),Mb={exports:{}},ve={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YA;function TV(){if(YA)return ve;YA=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),a=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),g=Symbol.iterator;function y(H){return H===null||typeof H!="object"?null:(H=g&&H[g]||H["@@iterator"],typeof H=="function"?H:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,x={};function S(H,rt,wt){this.props=H,this.context=rt,this.refs=x,this.updater=wt||v}S.prototype.isReactComponent={},S.prototype.setState=function(H,rt){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,rt,"setState")},S.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function R(){}R.prototype=S.prototype;function C(H,rt,wt){this.props=H,this.context=rt,this.refs=x,this.updater=wt||v}var P=C.prototype=new R;P.constructor=C,E(P,S.prototype),P.isPureReactComponent=!0;var L=Array.isArray,N={H:null,A:null,T:null,S:null},j=Object.prototype.hasOwnProperty;function O(H,rt,wt,Tt,pt,xt){return wt=xt.ref,{$$typeof:n,type:H,key:rt,ref:wt!==void 0?wt:null,props:xt}}function D(H,rt){return O(H.type,rt,void 0,void 0,void 0,H.props)}function k(H){return typeof H=="object"&&H!==null&&H.$$typeof===n}function V(H){var rt={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(wt){return rt[wt]})}var B=/\/+/g;function $(H,rt){return typeof H=="object"&&H!==null&&H.key!=null?V(""+H.key):rt.toString(36)}function z(){}function bt(H){switch(H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then(z,z):(H.status="pending",H.then(function(rt){H.status==="pending"&&(H.status="fulfilled",H.value=rt)},function(rt){H.status==="pending"&&(H.status="rejected",H.reason=rt)})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}}throw H}function J(H,rt,wt,Tt,pt){var xt=typeof H;(xt==="undefined"||xt==="boolean")&&(H=null);var St=!1;if(H===null)St=!0;else switch(xt){case"bigint":case"string":case"number":St=!0;break;case"object":switch(H.$$typeof){case n:case t:St=!0;break;case f:return St=H._init,J(St(H._payload),rt,wt,Tt,pt)}}if(St)return pt=pt(H),St=Tt===""?"."+$(H,0):Tt,L(pt)?(wt="",St!=null&&(wt=St.replace(B,"$&/")+"/"),J(pt,rt,wt,"",function(Gt){return Gt})):pt!=null&&(k(pt)&&(pt=D(pt,wt+(pt.key==null||H&&H.key===pt.key?"":(""+pt.key).replace(B,"$&/")+"/")+St)),rt.push(pt)),1;St=0;var Xt=Tt===""?".":Tt+":";if(L(H))for(var ce=0;ce<H.length;ce++)Tt=H[ce],xt=Xt+$(Tt,ce),St+=J(Tt,rt,wt,xt,pt);else if(ce=y(H),typeof ce=="function")for(H=ce.call(H),ce=0;!(Tt=H.next()).done;)Tt=Tt.value,xt=Xt+$(Tt,ce++),St+=J(Tt,rt,wt,xt,pt);else if(xt==="object"){if(typeof H.then=="function")return J(bt(H),rt,wt,Tt,pt);throw rt=String(H),Error("Objects are not valid as a React child (found: "+(rt==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":rt)+"). If you meant to render a collection of children, use an array instead.")}return St}function X(H,rt,wt){if(H==null)return H;var Tt=[],pt=0;return J(H,Tt,"","",function(xt){return rt.call(wt,xt,pt++)}),Tt}function lt(H){if(H._status===-1){var rt=H._result;rt=rt(),rt.then(function(wt){(H._status===0||H._status===-1)&&(H._status=1,H._result=wt)},function(wt){(H._status===0||H._status===-1)&&(H._status=2,H._result=wt)}),H._status===-1&&(H._status=0,H._result=rt)}if(H._status===1)return H._result.default;throw H._result}var ht=typeof reportError=="function"?reportError:function(H){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var rt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof H=="object"&&H!==null&&typeof H.message=="string"?String(H.message):String(H),error:H});if(!window.dispatchEvent(rt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",H);return}console.error(H)};function ot(){}return ve.Children={map:X,forEach:function(H,rt,wt){X(H,function(){rt.apply(this,arguments)},wt)},count:function(H){var rt=0;return X(H,function(){rt++}),rt},toArray:function(H){return X(H,function(rt){return rt})||[]},only:function(H){if(!k(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},ve.Component=S,ve.Fragment=e,ve.Profiler=r,ve.PureComponent=C,ve.StrictMode=i,ve.Suspense=u,ve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,ve.act=function(){throw Error("act(...) is not supported in production builds of React.")},ve.cache=function(H){return function(){return H.apply(null,arguments)}},ve.cloneElement=function(H,rt,wt){if(H==null)throw Error("The argument must be a React element, but you passed "+H+".");var Tt=E({},H.props),pt=H.key,xt=void 0;if(rt!=null)for(St in rt.ref!==void 0&&(xt=void 0),rt.key!==void 0&&(pt=""+rt.key),rt)!j.call(rt,St)||St==="key"||St==="__self"||St==="__source"||St==="ref"&&rt.ref===void 0||(Tt[St]=rt[St]);var St=arguments.length-2;if(St===1)Tt.children=wt;else if(1<St){for(var Xt=Array(St),ce=0;ce<St;ce++)Xt[ce]=arguments[ce+2];Tt.children=Xt}return O(H.type,pt,void 0,void 0,xt,Tt)},ve.createContext=function(H){return H={$$typeof:a,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null},H.Provider=H,H.Consumer={$$typeof:s,_context:H},H},ve.createElement=function(H,rt,wt){var Tt,pt={},xt=null;if(rt!=null)for(Tt in rt.key!==void 0&&(xt=""+rt.key),rt)j.call(rt,Tt)&&Tt!=="key"&&Tt!=="__self"&&Tt!=="__source"&&(pt[Tt]=rt[Tt]);var St=arguments.length-2;if(St===1)pt.children=wt;else if(1<St){for(var Xt=Array(St),ce=0;ce<St;ce++)Xt[ce]=arguments[ce+2];pt.children=Xt}if(H&&H.defaultProps)for(Tt in St=H.defaultProps,St)pt[Tt]===void 0&&(pt[Tt]=St[Tt]);return O(H,xt,void 0,void 0,null,pt)},ve.createRef=function(){return{current:null}},ve.forwardRef=function(H){return{$$typeof:c,render:H}},ve.isValidElement=k,ve.lazy=function(H){return{$$typeof:f,_payload:{_status:-1,_result:H},_init:lt}},ve.memo=function(H,rt){return{$$typeof:d,type:H,compare:rt===void 0?null:rt}},ve.startTransition=function(H){var rt=N.T,wt={};N.T=wt;try{var Tt=H(),pt=N.S;pt!==null&&pt(wt,Tt),typeof Tt=="object"&&Tt!==null&&typeof Tt.then=="function"&&Tt.then(ot,ht)}catch(xt){ht(xt)}finally{N.T=rt}},ve.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},ve.use=function(H){return N.H.use(H)},ve.useActionState=function(H,rt,wt){return N.H.useActionState(H,rt,wt)},ve.useCallback=function(H,rt){return N.H.useCallback(H,rt)},ve.useContext=function(H){return N.H.useContext(H)},ve.useDebugValue=function(){},ve.useDeferredValue=function(H,rt){return N.H.useDeferredValue(H,rt)},ve.useEffect=function(H,rt){return N.H.useEffect(H,rt)},ve.useId=function(){return N.H.useId()},ve.useImperativeHandle=function(H,rt,wt){return N.H.useImperativeHandle(H,rt,wt)},ve.useInsertionEffect=function(H,rt){return N.H.useInsertionEffect(H,rt)},ve.useLayoutEffect=function(H,rt){return N.H.useLayoutEffect(H,rt)},ve.useMemo=function(H,rt){return N.H.useMemo(H,rt)},ve.useOptimistic=function(H,rt){return N.H.useOptimistic(H,rt)},ve.useReducer=function(H,rt,wt){return N.H.useReducer(H,rt,wt)},ve.useRef=function(H){return N.H.useRef(H)},ve.useState=function(H){return N.H.useState(H)},ve.useSyncExternalStore=function(H,rt,wt){return N.H.useSyncExternalStore(H,rt,wt)},ve.useTransition=function(){return N.H.useTransition()},ve.version="19.0.0",ve}var GA;function Nw(){return GA||(GA=1,Mb.exports=TV()),Mb.exports}var K=Nw();const Qe=_V(K);function vI(n){var t,e,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var r=n.length;for(t=0;t<r;t++)n[t]&&(e=vI(n[t]))&&(i&&(i+=" "),i+=e)}else for(e in n)n[e]&&(i&&(i+=" "),i+=e);return i}function mu(){for(var n,t,e=0,i="",r=arguments.length;e<r;e++)(n=arguments[e])&&(t=vI(n))&&(i&&(i+=" "),i+=t);return i}function wV(n){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e),e.styleSheet?e.styleSheet.cssText=n:e.appendChild(document.createTextNode(n))}wV(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Qm=n=>typeof n=="number"&&!isNaN(n),Tu=n=>typeof n=="string",$a=n=>typeof n=="function",EV=n=>Tu(n)||Qm(n),wT=n=>Tu(n)||$a(n)?n:null,xV=(n,t)=>n===!1||Qm(n)&&n>0?n:t,ET=n=>K.isValidElement(n)||Tu(n)||$a(n)||Qm(n);function SV(n,t,e=300){let{scrollHeight:i,style:r}=n;requestAnimationFrame(()=>{r.minHeight="initial",r.height=i+"px",r.transition=`all ${e}ms`,requestAnimationFrame(()=>{r.height="0",r.padding="0",r.margin="0",setTimeout(t,e)})})}function AV({enter:n,exit:t,appendPosition:e=!1,collapse:i=!0,collapseDuration:r=300}){return function({children:s,position:a,preventExitTransition:c,done:u,nodeRef:d,isIn:f,playToast:g}){let y=e?`${n}--${a}`:n,v=e?`${t}--${a}`:t,E=K.useRef(0);return K.useLayoutEffect(()=>{let x=d.current,S=y.split(" "),R=C=>{C.target===d.current&&(g(),x.removeEventListener("animationend",R),x.removeEventListener("animationcancel",R),E.current===0&&C.type!=="animationcancel"&&x.classList.remove(...S))};x.classList.add(...S),x.addEventListener("animationend",R),x.addEventListener("animationcancel",R)},[]),K.useEffect(()=>{let x=d.current,S=()=>{x.removeEventListener("animationend",S),i?SV(x,u,r):u()};f||(c?S():(E.current=1,x.className+=` ${v}`,x.addEventListener("animationend",S)))},[f]),Qe.createElement(Qe.Fragment,null,s)}}function WA(n,t){return{content:bI(n.content,n.props),containerId:n.props.containerId,id:n.props.toastId,theme:n.props.theme,type:n.props.type,data:n.props.data||{},isLoading:n.props.isLoading,icon:n.props.icon,reason:n.removalReason,status:t}}function bI(n,t,e=!1){return K.isValidElement(n)&&!Tu(n.type)?K.cloneElement(n,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:e}):$a(n)?n({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:e}):n}function RV({closeToast:n,theme:t,ariaLabel:e="close"}){return Qe.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:i=>{i.stopPropagation(),n(!0)},"aria-label":e},Qe.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Qe.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function CV({delay:n,isRunning:t,closeToast:e,type:i="default",hide:r,className:s,controlledProgress:a,progress:c,rtl:u,isIn:d,theme:f}){let g=r||a&&c===0,y={animationDuration:`${n}ms`,animationPlayState:t?"running":"paused"};a&&(y.transform=`scaleX(${c})`);let v=mu("Toastify__progress-bar",a?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${f}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":u}),E=$a(s)?s({rtl:u,type:i,defaultClassName:v}):mu(v,s),x={[a&&c>=1?"onTransitionEnd":"onAnimationEnd"]:a&&c<1?null:()=>{d&&e()}};return Qe.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":g},Qe.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${f} Toastify__progress-bar--${i}`}),Qe.createElement("div",{role:"progressbar","aria-hidden":g?"true":"false","aria-label":"notification timer",className:E,style:y,...x}))}var DV=1,TI=()=>`${DV++}`;function IV(n,t,e){let i=1,r=0,s=[],a=[],c=t,u=new Map,d=new Set,f=C=>(d.add(C),()=>d.delete(C)),g=()=>{a=Array.from(u.values()),d.forEach(C=>C())},y=({containerId:C,toastId:P,updateId:L})=>{let N=C?C!==n:n!==1,j=u.has(P)&&L==null;return N||j},v=(C,P)=>{u.forEach(L=>{var N;(P==null||P===L.props.toastId)&&((N=L.toggle)==null||N.call(L,C))})},E=C=>{var P,L;(L=(P=C.props)==null?void 0:P.onClose)==null||L.call(P,C.removalReason),C.isActive=!1},x=C=>{if(C==null)u.forEach(E);else{let P=u.get(C);P&&E(P)}g()},S=()=>{r-=s.length,s=[]},R=C=>{var P,L;let{toastId:N,updateId:j}=C.props,O=j==null;C.staleId&&u.delete(C.staleId),C.isActive=!0,u.set(N,C),g(),e(WA(C,O?"added":"updated")),O&&((L=(P=C.props).onOpen)==null||L.call(P))};return{id:n,props:c,observe:f,toggle:v,removeToast:x,toasts:u,clearQueue:S,buildToast:(C,P)=>{if(y(P))return;let{toastId:L,updateId:N,data:j,staleId:O,delay:D}=P,k=N==null;k&&r++;let V={...c,style:c.toastStyle,key:i++,...Object.fromEntries(Object.entries(P).filter(([$,z])=>z!=null)),toastId:L,updateId:N,data:j,isIn:!1,className:wT(P.className||c.toastClassName),progressClassName:wT(P.progressClassName||c.progressClassName),autoClose:P.isLoading?!1:xV(P.autoClose,c.autoClose),closeToast($){u.get(L).removalReason=$,x(L)},deleteToast(){let $=u.get(L);if($!=null){if(e(WA($,"removed")),u.delete(L),r--,r<0&&(r=0),s.length>0){R(s.shift());return}g()}}};V.closeButton=c.closeButton,P.closeButton===!1||ET(P.closeButton)?V.closeButton=P.closeButton:P.closeButton===!0&&(V.closeButton=ET(c.closeButton)?c.closeButton:!0);let B={content:C,props:V,staleId:O};c.limit&&c.limit>0&&r>c.limit&&k?s.push(B):Qm(D)?setTimeout(()=>{R(B)},D):R(B)},setProps(C){c=C},setToggle:(C,P)=>{let L=u.get(C);L&&(L.toggle=P)},isToastActive:C=>{var P;return(P=u.get(C))==null?void 0:P.isActive},getSnapshot:()=>a}}var Hr=new Map,Em=[],xT=new Set,MV=n=>xT.forEach(t=>t(n)),wI=()=>Hr.size>0;function OV(){Em.forEach(n=>xI(n.content,n.options)),Em=[]}var kV=(n,{containerId:t})=>{var e;return(e=Hr.get(t||1))==null?void 0:e.toasts.get(n)};function EI(n,t){var e;if(t)return!!((e=Hr.get(t))!=null&&e.isToastActive(n));let i=!1;return Hr.forEach(r=>{r.isToastActive(n)&&(i=!0)}),i}function NV(n){if(!wI()){Em=Em.filter(t=>n!=null&&t.options.toastId!==n);return}if(n==null||EV(n))Hr.forEach(t=>{t.removeToast(n)});else if(n&&("containerId"in n||"id"in n)){let t=Hr.get(n.containerId);t?t.removeToast(n.id):Hr.forEach(e=>{e.removeToast(n.id)})}}var PV=(n={})=>{Hr.forEach(t=>{t.props.limit&&(!n.containerId||t.id===n.containerId)&&t.clearQueue()})};function xI(n,t){ET(n)&&(wI()||Em.push({content:n,options:t}),Hr.forEach(e=>{e.buildToast(n,t)}))}function LV(n){var t;(t=Hr.get(n.containerId||1))==null||t.setToggle(n.id,n.fn)}function SI(n,t){Hr.forEach(e=>{(t==null||!(t!=null&&t.containerId)||(t==null?void 0:t.containerId)===e.id)&&e.toggle(n,t==null?void 0:t.id)})}function VV(n){let t=n.containerId||1;return{subscribe(e){let i=IV(t,n,MV);Hr.set(t,i);let r=i.observe(e);return OV(),()=>{r(),Hr.delete(t)}},setProps(e){var i;(i=Hr.get(t))==null||i.setProps(e)},getSnapshot(){var e;return(e=Hr.get(t))==null?void 0:e.getSnapshot()}}}function UV(n){return xT.add(n),()=>{xT.delete(n)}}function zV(n){return n&&(Tu(n.toastId)||Qm(n.toastId))?n.toastId:TI()}function Zm(n,t){return xI(n,t),t.toastId}function z0(n,t){return{...t,type:t&&t.type||n,toastId:zV(t)}}function F0(n){return(t,e)=>Zm(t,z0(n,e))}function cn(n,t){return Zm(n,z0("default",t))}cn.loading=(n,t)=>Zm(n,z0("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function FV(n,{pending:t,error:e,success:i},r){let s;t&&(s=Tu(t)?cn.loading(t,r):cn.loading(t.render,{...r,...t}));let a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},c=(d,f,g)=>{if(f==null){cn.dismiss(s);return}let y={type:d,...a,...r,data:g},v=Tu(f)?{render:f}:f;return s?cn.update(s,{...y,...v}):cn(v.render,{...y,...v}),g},u=$a(n)?n():n;return u.then(d=>c("success",i,d)).catch(d=>c("error",e,d)),u}cn.promise=FV;cn.success=F0("success");cn.info=F0("info");cn.error=F0("error");cn.warning=F0("warning");cn.warn=cn.warning;cn.dark=(n,t)=>Zm(n,z0("default",{theme:"dark",...t}));function BV(n){NV(n)}cn.dismiss=BV;cn.clearWaitingQueue=PV;cn.isActive=EI;cn.update=(n,t={})=>{let e=kV(n,t);if(e){let{props:i,content:r}=e,s={delay:100,...i,...t,toastId:t.toastId||n,updateId:TI()};s.toastId!==n&&(s.staleId=n);let a=s.render||r;delete s.render,Zm(a,s)}};cn.done=n=>{cn.update(n,{progress:1})};cn.onChange=UV;cn.play=n=>SI(!0,n);cn.pause=n=>SI(!1,n);function jV(n){var t;let{subscribe:e,getSnapshot:i,setProps:r}=K.useRef(VV(n)).current;r(n);let s=(t=K.useSyncExternalStore(e,i,i))==null?void 0:t.slice();function a(c){if(!s)return[];let u=new Map;return n.newestOnTop&&s.reverse(),s.forEach(d=>{let{position:f}=d.props;u.has(f)||u.set(f,[]),u.get(f).push(d)}),Array.from(u,d=>c(d[0],d[1]))}return{getToastToRender:a,isToastActive:EI,count:s==null?void 0:s.length}}function $V(n){let[t,e]=K.useState(!1),[i,r]=K.useState(!1),s=K.useRef(null),a=K.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:c,pauseOnHover:u,closeToast:d,onClick:f,closeOnClick:g}=n;LV({id:n.toastId,containerId:n.containerId,fn:e}),K.useEffect(()=>{if(n.pauseOnFocusLoss)return y(),()=>{v()}},[n.pauseOnFocusLoss]);function y(){document.hasFocus()||R(),window.addEventListener("focus",S),window.addEventListener("blur",R)}function v(){window.removeEventListener("focus",S),window.removeEventListener("blur",R)}function E(O){if(n.draggable===!0||n.draggable===O.pointerType){C();let D=s.current;a.canCloseOnClick=!0,a.canDrag=!0,D.style.transition="none",n.draggableDirection==="x"?(a.start=O.clientX,a.removalDistance=D.offsetWidth*(n.draggablePercent/100)):(a.start=O.clientY,a.removalDistance=D.offsetHeight*(n.draggablePercent===80?n.draggablePercent*1.5:n.draggablePercent)/100)}}function x(O){let{top:D,bottom:k,left:V,right:B}=s.current.getBoundingClientRect();O.nativeEvent.type!=="touchend"&&n.pauseOnHover&&O.clientX>=V&&O.clientX<=B&&O.clientY>=D&&O.clientY<=k?R():S()}function S(){e(!0)}function R(){e(!1)}function C(){a.didMove=!1,document.addEventListener("pointermove",L),document.addEventListener("pointerup",N)}function P(){document.removeEventListener("pointermove",L),document.removeEventListener("pointerup",N)}function L(O){let D=s.current;if(a.canDrag&&D){a.didMove=!0,t&&R(),n.draggableDirection==="x"?a.delta=O.clientX-a.start:a.delta=O.clientY-a.start,a.start!==O.clientX&&(a.canCloseOnClick=!1);let k=n.draggableDirection==="x"?`${a.delta}px, var(--y)`:`0, calc(${a.delta}px + var(--y))`;D.style.transform=`translate3d(${k},0)`,D.style.opacity=`${1-Math.abs(a.delta/a.removalDistance)}`}}function N(){P();let O=s.current;if(a.canDrag&&a.didMove&&O){if(a.canDrag=!1,Math.abs(a.delta)>a.removalDistance){r(!0),n.closeToast(!0),n.collapseAll();return}O.style.transition="transform 0.2s, opacity 0.2s",O.style.removeProperty("transform"),O.style.removeProperty("opacity")}}let j={onPointerDown:E,onPointerUp:x};return c&&u&&(j.onMouseEnter=R,n.stacked||(j.onMouseLeave=S)),g&&(j.onClick=O=>{f&&f(O),a.canCloseOnClick&&d(!0)}),{playToast:S,pauseToast:R,isRunning:t,preventExitTransition:i,toastRef:s,eventHandlers:j}}var HV=typeof window<"u"?K.useLayoutEffect:K.useEffect,B0=({theme:n,type:t,isLoading:e,...i})=>Qe.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:n==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...i});function qV(n){return Qe.createElement(B0,{...n},Qe.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function YV(n){return Qe.createElement(B0,{...n},Qe.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function GV(n){return Qe.createElement(B0,{...n},Qe.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function WV(n){return Qe.createElement(B0,{...n},Qe.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function KV(){return Qe.createElement("div",{className:"Toastify__spinner"})}var ST={info:YV,warning:qV,success:GV,error:WV,spinner:KV},XV=n=>n in ST;function QV({theme:n,type:t,isLoading:e,icon:i}){let r=null,s={theme:n,type:t};return i===!1||($a(i)?r=i({...s,isLoading:e}):K.isValidElement(i)?r=K.cloneElement(i,s):e?r=ST.spinner():XV(t)&&(r=ST[t](s))),r}var ZV=n=>{let{isRunning:t,preventExitTransition:e,toastRef:i,eventHandlers:r,playToast:s}=$V(n),{closeButton:a,children:c,autoClose:u,onClick:d,type:f,hideProgressBar:g,closeToast:y,transition:v,position:E,className:x,style:S,progressClassName:R,updateId:C,role:P,progress:L,rtl:N,toastId:j,deleteToast:O,isIn:D,isLoading:k,closeOnClick:V,theme:B,ariaLabel:$}=n,z=mu("Toastify__toast",`Toastify__toast-theme--${B}`,`Toastify__toast--${f}`,{"Toastify__toast--rtl":N},{"Toastify__toast--close-on-click":V}),bt=$a(x)?x({rtl:N,position:E,type:f,defaultClassName:z}):mu(z,x),J=QV(n),X=!!L||!u,lt={closeToast:y,type:f,theme:B},ht=null;return a===!1||($a(a)?ht=a(lt):K.isValidElement(a)?ht=K.cloneElement(a,lt):ht=RV(lt)),Qe.createElement(v,{isIn:D,done:O,position:E,preventExitTransition:e,nodeRef:i,playToast:s},Qe.createElement("div",{id:j,tabIndex:0,onClick:d,"data-in":D,className:bt,...r,style:S,ref:i,...D&&{role:P,"aria-label":$}},J!=null&&Qe.createElement("div",{className:mu("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!k})},J),bI(c,n,!t),ht,!n.customProgressBar&&Qe.createElement(CV,{...C&&!X?{key:`p-${C}`}:{},rtl:N,theme:B,delay:u,isRunning:t,isIn:D,closeToast:y,hide:g,type:f,className:R,controlledProgress:X,progress:L||0})))},JV=(n,t=!1)=>({enter:`Toastify--animate Toastify__${n}-enter`,exit:`Toastify--animate Toastify__${n}-exit`,appendPosition:t}),t3=AV(JV("bounce",!0)),e3={position:"top-right",transition:t3,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:n=>n.altKey&&n.code==="KeyT"};function n3(n){let t={...e3,...n},e=n.stacked,[i,r]=K.useState(!0),s=K.useRef(null),{getToastToRender:a,isToastActive:c,count:u}=jV(t),{className:d,style:f,rtl:g,containerId:y,hotKeys:v}=t;function E(S){let R=mu("Toastify__toast-container",`Toastify__toast-container--${S}`,{"Toastify__toast-container--rtl":g});return $a(d)?d({position:S,rtl:g,defaultClassName:R}):mu(R,wT(d))}function x(){e&&(r(!0),cn.play())}return HV(()=>{var S;if(e){let R=s.current.querySelectorAll('[data-in="true"]'),C=12,P=(S=t.position)==null?void 0:S.includes("top"),L=0,N=0;Array.from(R).reverse().forEach((j,O)=>{let D=j;D.classList.add("Toastify__toast--stacked"),O>0&&(D.dataset.collapsed=`${i}`),D.dataset.pos||(D.dataset.pos=P?"top":"bot");let k=L*(i?.2:1)+(i?0:C*O);D.style.setProperty("--y",`${P?k:k*-1}px`),D.style.setProperty("--g",`${C}`),D.style.setProperty("--s",`${1-(i?N:0)}`),L+=D.offsetHeight,N+=.025})}},[i,u,e]),K.useEffect(()=>{function S(R){var C;let P=s.current;v(R)&&((C=P.querySelector('[tabIndex="0"]'))==null||C.focus(),r(!1),cn.pause()),R.key==="Escape"&&(document.activeElement===P||P!=null&&P.contains(document.activeElement))&&(r(!0),cn.play())}return document.addEventListener("keydown",S),()=>{document.removeEventListener("keydown",S)}},[v]),Qe.createElement("section",{ref:s,className:"Toastify",id:y,onMouseEnter:()=>{e&&(r(!1),cn.pause())},onMouseLeave:x,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},a((S,R)=>{let C=R.length?{...f}:{...f,pointerEvents:"none"};return Qe.createElement("div",{tabIndex:-1,className:E(S),"data-stacked":e,style:C,key:`c-${S}`},R.map(({content:P,props:L})=>Qe.createElement(ZV,{...L,stacked:e,collapseAll:x,isIn:c(L.toastId,L.containerId),key:`t-${L.key}`},P)))}))}var Ob={exports:{}},Vf={},kb={exports:{}},Nb={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KA;function i3(){return KA||(KA=1,function(n){function t(X,lt){var ht=X.length;X.push(lt);t:for(;0<ht;){var ot=ht-1>>>1,H=X[ot];if(0<r(H,lt))X[ot]=lt,X[ht]=H,ht=ot;else break t}}function e(X){return X.length===0?null:X[0]}function i(X){if(X.length===0)return null;var lt=X[0],ht=X.pop();if(ht!==lt){X[0]=ht;t:for(var ot=0,H=X.length,rt=H>>>1;ot<rt;){var wt=2*(ot+1)-1,Tt=X[wt],pt=wt+1,xt=X[pt];if(0>r(Tt,ht))pt<H&&0>r(xt,Tt)?(X[ot]=xt,X[pt]=ht,ot=pt):(X[ot]=Tt,X[wt]=ht,ot=wt);else if(pt<H&&0>r(xt,ht))X[ot]=xt,X[pt]=ht,ot=pt;else break t}}return lt}function r(X,lt){var ht=X.sortIndex-lt.sortIndex;return ht!==0?ht:X.id-lt.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var a=Date,c=a.now();n.unstable_now=function(){return a.now()-c}}var u=[],d=[],f=1,g=null,y=3,v=!1,E=!1,x=!1,S=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function P(X){for(var lt=e(d);lt!==null;){if(lt.callback===null)i(d);else if(lt.startTime<=X)i(d),lt.sortIndex=lt.expirationTime,t(u,lt);else break;lt=e(d)}}function L(X){if(x=!1,P(X),!E)if(e(u)!==null)E=!0,bt();else{var lt=e(d);lt!==null&&J(L,lt.startTime-X)}}var N=!1,j=-1,O=5,D=-1;function k(){return!(n.unstable_now()-D<O)}function V(){if(N){var X=n.unstable_now();D=X;var lt=!0;try{t:{E=!1,x&&(x=!1,R(j),j=-1),v=!0;var ht=y;try{e:{for(P(X),g=e(u);g!==null&&!(g.expirationTime>X&&k());){var ot=g.callback;if(typeof ot=="function"){g.callback=null,y=g.priorityLevel;var H=ot(g.expirationTime<=X);if(X=n.unstable_now(),typeof H=="function"){g.callback=H,P(X),lt=!0;break e}g===e(u)&&i(u),P(X)}else i(u);g=e(u)}if(g!==null)lt=!0;else{var rt=e(d);rt!==null&&J(L,rt.startTime-X),lt=!1}}break t}finally{g=null,y=ht,v=!1}lt=void 0}}finally{lt?B():N=!1}}}var B;if(typeof C=="function")B=function(){C(V)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,z=$.port2;$.port1.onmessage=V,B=function(){z.postMessage(null)}}else B=function(){S(V,0)};function bt(){N||(N=!0,B())}function J(X,lt){j=S(function(){X(n.unstable_now())},lt)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(X){X.callback=null},n.unstable_continueExecution=function(){E||v||(E=!0,bt())},n.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<X?Math.floor(1e3/X):5},n.unstable_getCurrentPriorityLevel=function(){return y},n.unstable_getFirstCallbackNode=function(){return e(u)},n.unstable_next=function(X){switch(y){case 1:case 2:case 3:var lt=3;break;default:lt=y}var ht=y;y=lt;try{return X()}finally{y=ht}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(X,lt){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var ht=y;y=X;try{return lt()}finally{y=ht}},n.unstable_scheduleCallback=function(X,lt,ht){var ot=n.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?ot+ht:ot):ht=ot,X){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=ht+H,X={id:f++,callback:lt,priorityLevel:X,startTime:ht,expirationTime:H,sortIndex:-1},ht>ot?(X.sortIndex=ht,t(d,X),e(u)===null&&X===e(d)&&(x?(R(j),j=-1):x=!0,J(L,ht-ot))):(X.sortIndex=H,t(u,X),E||v||(E=!0,bt())),X},n.unstable_shouldYield=k,n.unstable_wrapCallback=function(X){var lt=y;return function(){var ht=y;y=lt;try{return X.apply(this,arguments)}finally{y=ht}}}}(Nb)),Nb}var XA;function r3(){return XA||(XA=1,kb.exports=i3()),kb.exports}var Pb={exports:{}},wr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QA;function s3(){if(QA)return wr;QA=1;var n=Nw();function t(u){var d="https://react.dev/errors/"+u;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)d+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+u+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},r=Symbol.for("react.portal");function s(u,d,f){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:g==null?null:""+g,children:u,containerInfo:d,implementation:f}}var a=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(u,d){if(u==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return wr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,wr.createPortal=function(u,d){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return s(u,d,null,f)},wr.flushSync=function(u){var d=a.T,f=i.p;try{if(a.T=null,i.p=2,u)return u()}finally{a.T=d,i.p=f,i.d.f()}},wr.preconnect=function(u,d){typeof u=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,i.d.C(u,d))},wr.prefetchDNS=function(u){typeof u=="string"&&i.d.D(u)},wr.preinit=function(u,d){if(typeof u=="string"&&d&&typeof d.as=="string"){var f=d.as,g=c(f,d.crossOrigin),y=typeof d.integrity=="string"?d.integrity:void 0,v=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;f==="style"?i.d.S(u,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:g,integrity:y,fetchPriority:v}):f==="script"&&i.d.X(u,{crossOrigin:g,integrity:y,fetchPriority:v,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},wr.preinitModule=function(u,d){if(typeof u=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var f=c(d.as,d.crossOrigin);i.d.M(u,{crossOrigin:f,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&i.d.M(u)},wr.preload=function(u,d){if(typeof u=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var f=d.as,g=c(f,d.crossOrigin);i.d.L(u,f,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},wr.preloadModule=function(u,d){if(typeof u=="string")if(d){var f=c(d.as,d.crossOrigin);i.d.m(u,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:f,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else i.d.m(u)},wr.requestFormReset=function(u){i.d.r(u)},wr.unstable_batchedUpdates=function(u,d){return u(d)},wr.useFormState=function(u,d,f){return a.H.useFormState(u,d,f)},wr.useFormStatus=function(){return a.H.useHostTransitionStatus()},wr.version="19.0.0",wr}var ZA;function o3(){if(ZA)return Pb.exports;ZA=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Pb.exports=s3(),Pb.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JA;function a3(){if(JA)return Vf;JA=1;var n=r3(),t=Nw(),e=o3();function i(o){var l="https://react.dev/errors/"+o;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)l+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+o+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}var s=Symbol.for("react.element"),a=Symbol.for("react.transitional.element"),c=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),g=Symbol.for("react.provider"),y=Symbol.for("react.consumer"),v=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),S=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),P=Symbol.for("react.offscreen"),L=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function j(o){return o===null||typeof o!="object"?null:(o=N&&o[N]||o["@@iterator"],typeof o=="function"?o:null)}var O=Symbol.for("react.client.reference");function D(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===O?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case u:return"Fragment";case c:return"Portal";case f:return"Profiler";case d:return"StrictMode";case x:return"Suspense";case S:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case v:return(o.displayName||"Context")+".Provider";case y:return(o._context.displayName||"Context")+".Consumer";case E:var l=o.render;return o=o.displayName,o||(o=l.displayName||l.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case R:return l=o.displayName||null,l!==null?l:D(o.type)||"Memo";case C:l=o._payload,o=o._init;try{return D(o(l))}catch{}}return null}var k=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=Object.assign,B,$;function z(o){if(B===void 0)try{throw Error()}catch(h){var l=h.stack.trim().match(/\n( *(at )?)/);B=l&&l[1]||"",$=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+B+o+$}var bt=!1;function J(o,l){if(!o||bt)return"";bt=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(l){var _t=function(){throw Error()};if(Object.defineProperty(_t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(_t,[])}catch(ct){var it=ct}Reflect.construct(o,[],_t)}else{try{_t.call()}catch(ct){it=ct}o.call(_t.prototype)}}else{try{throw Error()}catch(ct){it=ct}(_t=o())&&typeof _t.catch=="function"&&_t.catch(function(){})}}catch(ct){if(ct&&it&&typeof ct.stack=="string")return[ct.stack,it.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var _=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");_&&_.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=m.DetermineComponentFrameRoot(),M=w[0],U=w[1];if(M&&U){var q=M.split(`
`),W=U.split(`
`);for(_=m=0;m<q.length&&!q[m].includes("DetermineComponentFrameRoot");)m++;for(;_<W.length&&!W[_].includes("DetermineComponentFrameRoot");)_++;if(m===q.length||_===W.length)for(m=q.length-1,_=W.length-1;1<=m&&0<=_&&q[m]!==W[_];)_--;for(;1<=m&&0<=_;m--,_--)if(q[m]!==W[_]){if(m!==1||_!==1)do if(m--,_--,0>_||q[m]!==W[_]){var ut=`
`+q[m].replace(" at new "," at ");return o.displayName&&ut.includes("<anonymous>")&&(ut=ut.replace("<anonymous>",o.displayName)),ut}while(1<=m&&0<=_);break}}}finally{bt=!1,Error.prepareStackTrace=h}return(h=o?o.displayName||o.name:"")?z(h):""}function X(o){switch(o.tag){case 26:case 27:case 5:return z(o.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 15:return o=J(o.type,!1),o;case 11:return o=J(o.type.render,!1),o;case 1:return o=J(o.type,!0),o;default:return""}}function lt(o){try{var l="";do l+=X(o),o=o.return;while(o);return l}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}function ht(o){var l=o,h=o;if(o.alternate)for(;l.return;)l=l.return;else{o=l;do l=o,(l.flags&4098)!==0&&(h=l.return),o=l.return;while(o)}return l.tag===3?h:null}function ot(o){if(o.tag===13){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function H(o){if(ht(o)!==o)throw Error(i(188))}function rt(o){var l=o.alternate;if(!l){if(l=ht(o),l===null)throw Error(i(188));return l!==o?null:o}for(var h=o,m=l;;){var _=h.return;if(_===null)break;var w=_.alternate;if(w===null){if(m=_.return,m!==null){h=m;continue}break}if(_.child===w.child){for(w=_.child;w;){if(w===h)return H(_),o;if(w===m)return H(_),l;w=w.sibling}throw Error(i(188))}if(h.return!==m.return)h=_,m=w;else{for(var M=!1,U=_.child;U;){if(U===h){M=!0,h=_,m=w;break}if(U===m){M=!0,m=_,h=w;break}U=U.sibling}if(!M){for(U=w.child;U;){if(U===h){M=!0,h=w,m=_;break}if(U===m){M=!0,m=w,h=_;break}U=U.sibling}if(!M)throw Error(i(189))}}if(h.alternate!==m)throw Error(i(190))}if(h.tag!==3)throw Error(i(188));return h.stateNode.current===h?o:l}function wt(o){var l=o.tag;if(l===5||l===26||l===27||l===6)return o;for(o=o.child;o!==null;){if(l=wt(o),l!==null)return l;o=o.sibling}return null}var Tt=Array.isArray,pt=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,xt={pending:!1,data:null,method:null,action:null},St=[],Xt=-1;function ce(o){return{current:o}}function Gt(o){0>Xt||(o.current=St[Xt],St[Xt]=null,Xt--)}function Wt(o,l){Xt++,St[Xt]=o.current,o.current=l}var Ye=ce(null),kn=ce(null),ge=ce(null),Nn=ce(null);function Jn(o,l){switch(Wt(ge,l),Wt(kn,o),Wt(Ye,null),o=l.nodeType,o){case 9:case 11:l=(l=l.documentElement)&&(l=l.namespaceURI)?vA(l):0;break;default:if(o=o===8?l.parentNode:l,l=o.tagName,o=o.namespaceURI)o=vA(o),l=bA(o,l);else switch(l){case"svg":l=1;break;case"math":l=2;break;default:l=0}}Gt(Ye),Wt(Ye,l)}function hn(){Gt(Ye),Gt(kn),Gt(ge)}function ti(o){o.memoizedState!==null&&Wt(Nn,o);var l=Ye.current,h=bA(l,o.type);l!==h&&(Wt(kn,o),Wt(Ye,h))}function Nr(o){kn.current===o&&(Gt(Ye),Gt(kn)),Nn.current===o&&(Gt(Nn),Mf._currentValue=xt)}var Si=Object.prototype.hasOwnProperty,zn=n.unstable_scheduleCallback,li=n.unstable_cancelCallback,sn=n.unstable_shouldYield,Ai=n.unstable_requestPaint,on=n.unstable_now,Yn=n.unstable_getCurrentPriorityLevel,Ue=n.unstable_ImmediatePriority,dn=n.unstable_UserBlockingPriority,ci=n.unstable_NormalPriority,Gs=n.unstable_LowPriority,vr=n.unstable_IdlePriority,mo=n.log,Wr=n.unstable_setDisableYieldValue,Fn=null,ei=null;function os(o){if(ei&&typeof ei.onCommitFiberRoot=="function")try{ei.onCommitFiberRoot(Fn,o,void 0,(o.current.flags&128)===128)}catch{}}function pe(o){if(typeof mo=="function"&&Wr(o),ei&&typeof ei.setStrictMode=="function")try{ei.setStrictMode(Fn,o)}catch{}}var Pe=Math.clz32?Math.clz32:bc,go=Math.log,ia=Math.LN2;function bc(o){return o>>>=0,o===0?32:31-(go(o)/ia|0)|0}var ws=128,Ws=4194304;function br(o){var l=o&42;if(l!==0)return l;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function Ji(o,l){var h=o.pendingLanes;if(h===0)return 0;var m=0,_=o.suspendedLanes,w=o.pingedLanes,M=o.warmLanes;o=o.finishedLanes!==0;var U=h&134217727;return U!==0?(h=U&~_,h!==0?m=br(h):(w&=U,w!==0?m=br(w):o||(M=U&~M,M!==0&&(m=br(M))))):(U=h&~_,U!==0?m=br(U):w!==0?m=br(w):o||(M=h&~M,M!==0&&(m=br(M)))),m===0?0:l!==0&&l!==m&&(l&_)===0&&(_=m&-m,M=l&-l,_>=M||_===32&&(M&4194176)!==0)?l:m}function po(o,l){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&l)===0}function el(o,l){switch(o){case 1:case 2:case 4:case 8:return l+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Y(){var o=ws;return ws<<=1,(ws&4194176)===0&&(ws=128),o}function Q(){var o=Ws;return Ws<<=1,(Ws&62914560)===0&&(Ws=4194304),o}function st(o){for(var l=[],h=0;31>h;h++)l.push(o);return l}function dt(o,l){o.pendingLanes|=l,l!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function Dt(o,l,h,m,_,w){var M=o.pendingLanes;o.pendingLanes=h,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=h,o.entangledLanes&=h,o.errorRecoveryDisabledLanes&=h,o.shellSuspendCounter=0;var U=o.entanglements,q=o.expirationTimes,W=o.hiddenUpdates;for(h=M&~h;0<h;){var ut=31-Pe(h),_t=1<<ut;U[ut]=0,q[ut]=-1;var it=W[ut];if(it!==null)for(W[ut]=null,ut=0;ut<it.length;ut++){var ct=it[ut];ct!==null&&(ct.lane&=-536870913)}h&=~_t}m!==0&&Ht(o,m,0),w!==0&&_===0&&o.tag!==0&&(o.suspendedLanes|=w&~(M&~l))}function Ht(o,l,h){o.pendingLanes|=l,o.suspendedLanes&=~l;var m=31-Pe(l);o.entangledLanes|=l,o.entanglements[m]=o.entanglements[m]|1073741824|h&4194218}function $t(o,l){var h=o.entangledLanes|=l;for(o=o.entanglements;h;){var m=31-Pe(h),_=1<<m;_&l|o[m]&l&&(o[m]|=l),h&=~_}}function zt(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function Bt(){var o=pt.p;return o!==0?o:(o=window.event,o===void 0?32:UA(o.type))}function Mt(o,l){var h=pt.p;try{return pt.p=o,l()}finally{pt.p=h}}var Pt=Math.random().toString(36).slice(2),Lt="__reactFiber$"+Pt,Kt="__reactProps$"+Pt,Ge="__reactContainer$"+Pt,Bn="__reactEvents$"+Pt,yn="__reactListeners$"+Pt,He="__reactHandles$"+Pt,Pn="__reactResources$"+Pt,Pr="__reactMarker$"+Pt;function as(o){delete o[Lt],delete o[Kt],delete o[Bn],delete o[yn],delete o[He]}function ui(o){var l=o[Lt];if(l)return l;for(var h=o.parentNode;h;){if(l=h[Ge]||h[Lt]){if(h=l.alternate,l.child!==null||h!==null&&h.child!==null)for(o=EA(o);o!==null;){if(h=o[Lt])return h;o=EA(o)}return l}o=h,h=o.parentNode}return null}function _i(o){if(o=o[Lt]||o[Ge]){var l=o.tag;if(l===5||l===6||l===13||l===26||l===27||l===3)return o}return null}function Es(o){var l=o.tag;if(l===5||l===26||l===27||l===6)return o.stateNode;throw Error(i(33))}function Kr(o){var l=o[Pn];return l||(l=o[Pn]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function Ze(o){o[Pr]=!0}var yo=new Set,Ks={};function be(o,l){Je(o,l),Je(o+"Capture",l)}function Je(o,l){for(Ks[o]=l,o=0;o<l.length;o++)yo.add(l[o])}var Fi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ra=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),wn={},xs={};function Tc(o){return Si.call(xs,o)?!0:Si.call(wn,o)?!1:ra.test(o)?xs[o]=!0:(wn[o]=!0,!1)}function _o(o,l,h){if(Tc(l))if(h===null)o.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":o.removeAttribute(l);return;case"boolean":var m=l.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){o.removeAttribute(l);return}}o.setAttribute(l,""+h)}}function nl(o,l,h){if(h===null)o.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(l);return}o.setAttribute(l,""+h)}}function Ss(o,l,h,m){if(m===null)o.removeAttribute(h);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(h);return}o.setAttributeNS(l,h,""+m)}}function Lr(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Ig(o){var l=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function P_(o){var l=Ig(o)?"checked":"value",h=Object.getOwnPropertyDescriptor(o.constructor.prototype,l),m=""+o[l];if(!o.hasOwnProperty(l)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var _=h.get,w=h.set;return Object.defineProperty(o,l,{configurable:!0,get:function(){return _.call(this)},set:function(M){m=""+M,w.call(this,M)}}),Object.defineProperty(o,l,{enumerable:h.enumerable}),{getValue:function(){return m},setValue:function(M){m=""+M},stopTracking:function(){o._valueTracker=null,delete o[l]}}}}function wc(o){o._valueTracker||(o._valueTracker=P_(o))}function Fd(o){if(!o)return!1;var l=o._valueTracker;if(!l)return!0;var h=l.getValue(),m="";return o&&(m=Ig(o)?o.checked?"true":"false":o.value),o=m,o!==h?(l.setValue(o),!0):!1}function Bu(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var sa=/[\n"\\]/g;function ni(o){return o.replace(sa,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function il(o,l,h,m,_,w,M,U){o.name="",M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?o.type=M:o.removeAttribute("type"),l!=null?M==="number"?(l===0&&o.value===""||o.value!=l)&&(o.value=""+Lr(l)):o.value!==""+Lr(l)&&(o.value=""+Lr(l)):M!=="submit"&&M!=="reset"||o.removeAttribute("value"),l!=null?ju(o,M,Lr(l)):h!=null?ju(o,M,Lr(h)):m!=null&&o.removeAttribute("value"),_==null&&w!=null&&(o.defaultChecked=!!w),_!=null&&(o.checked=_&&typeof _!="function"&&typeof _!="symbol"),U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"?o.name=""+Lr(U):o.removeAttribute("name")}function Ec(o,l,h,m,_,w,M,U){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(o.type=w),l!=null||h!=null){if(!(w!=="submit"&&w!=="reset"||l!=null))return;h=h!=null?""+Lr(h):"",l=l!=null?""+Lr(l):h,U||l===o.value||(o.value=l),o.defaultValue=l}m=m??_,m=typeof m!="function"&&typeof m!="symbol"&&!!m,o.checked=U?o.checked:!!m,o.defaultChecked=!!m,M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"&&(o.name=M)}function ju(o,l,h){l==="number"&&Bu(o.ownerDocument)===o||o.defaultValue===""+h||(o.defaultValue=""+h)}function We(o,l,h,m){if(o=o.options,l){l={};for(var _=0;_<h.length;_++)l["$"+h[_]]=!0;for(h=0;h<o.length;h++)_=l.hasOwnProperty("$"+o[h].value),o[h].selected!==_&&(o[h].selected=_),_&&m&&(o[h].defaultSelected=!0)}else{for(h=""+Lr(h),l=null,_=0;_<o.length;_++){if(o[_].value===h){o[_].selected=!0,m&&(o[_].defaultSelected=!0);return}l!==null||o[_].disabled||(l=o[_])}l!==null&&(l.selected=!0)}}function xc(o,l,h){if(l!=null&&(l=""+Lr(l),l!==o.value&&(o.value=l),h==null)){o.defaultValue!==l&&(o.defaultValue=l);return}o.defaultValue=h!=null?""+Lr(h):""}function rl(o,l,h,m){if(l==null){if(m!=null){if(h!=null)throw Error(i(92));if(Tt(m)){if(1<m.length)throw Error(i(93));m=m[0]}h=m}h==null&&(h=""),l=h}h=Lr(l),o.defaultValue=h,m=o.textContent,m===h&&m!==""&&m!==null&&(o.value=m)}function As(o,l){if(l){var h=o.firstChild;if(h&&h===o.lastChild&&h.nodeType===3){h.nodeValue=l;return}}o.textContent=l}var L_=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Bd(o,l,h){var m=l.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?m?o.setProperty(l,""):l==="float"?o.cssFloat="":o[l]="":m?o.setProperty(l,h):typeof h!="number"||h===0||L_.has(l)?l==="float"?o.cssFloat=h:o[l]=(""+h).trim():o[l]=h+"px"}function Mg(o,l,h){if(l!=null&&typeof l!="object")throw Error(i(62));if(o=o.style,h!=null){for(var m in h)!h.hasOwnProperty(m)||l!=null&&l.hasOwnProperty(m)||(m.indexOf("--")===0?o.setProperty(m,""):m==="float"?o.cssFloat="":o[m]="");for(var _ in l)m=l[_],l.hasOwnProperty(_)&&h[_]!==m&&Bd(o,_,m)}else for(var w in l)l.hasOwnProperty(w)&&Bd(o,w,l[w])}function jd(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var V_=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),U_=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function vo(o){return U_.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}var Rs=null;function $u(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var oa=null,aa=null;function la(o){var l=_i(o);if(l&&(o=l.stateNode)){var h=o[Kt]||null;t:switch(o=l.stateNode,l.type){case"input":if(il(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),l=h.name,h.type==="radio"&&l!=null){for(h=o;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+ni(""+l)+'"][type="radio"]'),l=0;l<h.length;l++){var m=h[l];if(m!==o&&m.form===o.form){var _=m[Kt]||null;if(!_)throw Error(i(90));il(m,_.value,_.defaultValue,_.defaultValue,_.checked,_.defaultChecked,_.type,_.name)}}for(l=0;l<h.length;l++)m=h[l],m.form===o.form&&Fd(m)}break t;case"textarea":xc(o,h.value,h.defaultValue);break t;case"select":l=h.value,l!=null&&We(o,!!h.multiple,l,!1)}}}var $d=!1;function Og(o,l,h){if($d)return o(l,h);$d=!0;try{var m=o(l);return m}finally{if($d=!1,(oa!==null||aa!==null)&&(Ep(),oa&&(l=oa,o=aa,aa=oa=null,la(l),o)))for(l=0;l<o.length;l++)la(o[l])}}function Sc(o,l){var h=o.stateNode;if(h===null)return null;var m=h[Kt]||null;if(m===null)return null;h=m[l];t:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(o=o.type,m=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!m;break t;default:o=!1}if(o)return null;if(h&&typeof h!="function")throw Error(i(231,l,typeof h));return h}var Cs=!1;if(Fi)try{var Ac={};Object.defineProperty(Ac,"passive",{get:function(){Cs=!0}}),window.addEventListener("test",Ac,Ac),window.removeEventListener("test",Ac,Ac)}catch{Cs=!1}var bo=null,sl=null,ca=null;function Hd(){if(ca)return ca;var o,l=sl,h=l.length,m,_="value"in bo?bo.value:bo.textContent,w=_.length;for(o=0;o<h&&l[o]===_[o];o++);var M=h-o;for(m=1;m<=M&&l[h-m]===_[w-m];m++);return ca=_.slice(o,1<m?1-m:void 0)}function To(o){var l=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&l===13&&(o=13)):o=l,o===10&&(o=13),32<=o||o===13?o:0}function wo(){return!0}function qd(){return!1}function Bi(o){function l(h,m,_,w,M){this._reactName=h,this._targetInst=_,this.type=m,this.nativeEvent=w,this.target=M,this.currentTarget=null;for(var U in o)o.hasOwnProperty(U)&&(h=o[U],this[U]=h?h(w):w[U]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?wo:qd,this.isPropagationStopped=qd,this}return V(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=wo)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=wo)},persist:function(){},isPersistent:wo}),l}var en={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hu=Bi(en),Rc=V({},en,{view:0,detail:0}),kg=Bi(Rc),qu,Yu,Eo,Cc=V({},Rc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mc,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Eo&&(Eo&&o.type==="mousemove"?(qu=o.screenX-Eo.screenX,Yu=o.screenY-Eo.screenY):Yu=qu=0,Eo=o),qu)},movementY:function(o){return"movementY"in o?o.movementY:Yu}}),Ds=Bi(Cc),Ng=V({},Cc,{dataTransfer:0}),z_=Bi(Ng),Dc=V({},Rc,{relatedTarget:0}),Gu=Bi(Dc),Yd=V({},en,{animationName:0,elapsedTime:0,pseudoElement:0}),Wu=Bi(Yd),Pg=V({},en,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),Ku=Bi(Pg),F_=V({},en,{data:0}),Gd=Bi(F_),Ic={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Lg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wd(o){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(o):(o=Vg[o])?!!l[o]:!1}function Mc(){return Wd}var Ug=V({},Rc,{key:function(o){if(o.key){var l=Ic[o.key]||o.key;if(l!=="Unidentified")return l}return o.type==="keypress"?(o=To(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Lg[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mc,charCode:function(o){return o.type==="keypress"?To(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?To(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),Xu=Bi(Ug),zg=V({},Cc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Kd=Bi(zg),ua=V({},Rc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mc}),Fg=Bi(ua),Bg=V({},en,{propertyName:0,elapsedTime:0,pseudoElement:0}),jg=Bi(Bg),$g=V({},Cc,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),Qu=Bi($g),Vr=V({},en,{newState:0,oldState:0}),Hg=Bi(Vr),qg=[9,13,27,32],xo=Fi&&"CompositionEvent"in window,p=null;Fi&&"documentMode"in document&&(p=document.documentMode);var A=Fi&&"TextEvent"in window&&!p,I=Fi&&(!xo||p&&8<p&&11>=p),F=" ",et=!1;function at(o,l){switch(o){case"keyup":return qg.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function At(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var ze=!1;function Ri(o,l){switch(o){case"compositionend":return At(l);case"keypress":return l.which!==32?null:(et=!0,F);case"textInput":return o=l.data,o===F&&et?null:o;default:return null}}function Fe(o,l){if(ze)return o==="compositionend"||!xo&&at(o,l)?(o=Hd(),ca=sl=bo=null,ze=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return I&&l.locale!=="ko"?null:l.data;default:return null}}var ji={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ci(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l==="input"?!!ji[o.type]:l==="textarea"}function ha(o,l,h,m){oa?aa?aa.push(m):aa=[m]:oa=m,l=Cp(l,"onChange"),0<l.length&&(h=new Hu("onChange","change",null,h,m),o.push({event:h,listeners:l}))}var tr=null,So=null;function Xd(o){mA(o,0)}function Yg(o){var l=Es(o);if(Fd(l))return o}function $1(o,l){if(o==="change")return l}var H1=!1;if(Fi){var B_;if(Fi){var j_="oninput"in document;if(!j_){var q1=document.createElement("div");q1.setAttribute("oninput","return;"),j_=typeof q1.oninput=="function"}B_=j_}else B_=!1;H1=B_&&(!document.documentMode||9<document.documentMode)}function Y1(){tr&&(tr.detachEvent("onpropertychange",G1),So=tr=null)}function G1(o){if(o.propertyName==="value"&&Yg(So)){var l=[];ha(l,So,o,$u(o)),Og(Xd,l)}}function YP(o,l,h){o==="focusin"?(Y1(),tr=l,So=h,tr.attachEvent("onpropertychange",G1)):o==="focusout"&&Y1()}function GP(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Yg(So)}function WP(o,l){if(o==="click")return Yg(l)}function KP(o,l){if(o==="input"||o==="change")return Yg(l)}function XP(o,l){return o===l&&(o!==0||1/o===1/l)||o!==o&&l!==l}var ls=typeof Object.is=="function"?Object.is:XP;function Qd(o,l){if(ls(o,l))return!0;if(typeof o!="object"||o===null||typeof l!="object"||l===null)return!1;var h=Object.keys(o),m=Object.keys(l);if(h.length!==m.length)return!1;for(m=0;m<h.length;m++){var _=h[m];if(!Si.call(l,_)||!ls(o[_],l[_]))return!1}return!0}function W1(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function K1(o,l){var h=W1(o);o=0;for(var m;h;){if(h.nodeType===3){if(m=o+h.textContent.length,o<=l&&m>=l)return{node:h,offset:l-o};o=m}t:{for(;h;){if(h.nextSibling){h=h.nextSibling;break t}h=h.parentNode}h=void 0}h=W1(h)}}function X1(o,l){return o&&l?o===l?!0:o&&o.nodeType===3?!1:l&&l.nodeType===3?X1(o,l.parentNode):"contains"in o?o.contains(l):o.compareDocumentPosition?!!(o.compareDocumentPosition(l)&16):!1:!1}function Q1(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var l=Bu(o.document);l instanceof o.HTMLIFrameElement;){try{var h=typeof l.contentWindow.location.href=="string"}catch{h=!1}if(h)o=l.contentWindow;else break;l=Bu(o.document)}return l}function $_(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l&&(l==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||l==="textarea"||o.contentEditable==="true")}function QP(o,l){var h=Q1(l);l=o.focusedElem;var m=o.selectionRange;if(h!==l&&l&&l.ownerDocument&&X1(l.ownerDocument.documentElement,l)){if(m!==null&&$_(l)){if(o=m.start,h=m.end,h===void 0&&(h=o),"selectionStart"in l)l.selectionStart=o,l.selectionEnd=Math.min(h,l.value.length);else if(h=(o=l.ownerDocument||document)&&o.defaultView||window,h.getSelection){h=h.getSelection();var _=l.textContent.length,w=Math.min(m.start,_);m=m.end===void 0?w:Math.min(m.end,_),!h.extend&&w>m&&(_=m,m=w,w=_),_=K1(l,w);var M=K1(l,m);_&&M&&(h.rangeCount!==1||h.anchorNode!==_.node||h.anchorOffset!==_.offset||h.focusNode!==M.node||h.focusOffset!==M.offset)&&(o=o.createRange(),o.setStart(_.node,_.offset),h.removeAllRanges(),w>m?(h.addRange(o),h.extend(M.node,M.offset)):(o.setEnd(M.node,M.offset),h.addRange(o)))}}for(o=[],h=l;h=h.parentNode;)h.nodeType===1&&o.push({element:h,left:h.scrollLeft,top:h.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<o.length;l++)h=o[l],h.element.scrollLeft=h.left,h.element.scrollTop=h.top}}var ZP=Fi&&"documentMode"in document&&11>=document.documentMode,Zu=null,H_=null,Zd=null,q_=!1;function Z1(o,l,h){var m=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;q_||Zu==null||Zu!==Bu(m)||(m=Zu,"selectionStart"in m&&$_(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Zd&&Qd(Zd,m)||(Zd=m,m=Cp(H_,"onSelect"),0<m.length&&(l=new Hu("onSelect","select",null,l,h),o.push({event:l,listeners:m}),l.target=Zu)))}function Oc(o,l){var h={};return h[o.toLowerCase()]=l.toLowerCase(),h["Webkit"+o]="webkit"+l,h["Moz"+o]="moz"+l,h}var Ju={animationend:Oc("Animation","AnimationEnd"),animationiteration:Oc("Animation","AnimationIteration"),animationstart:Oc("Animation","AnimationStart"),transitionrun:Oc("Transition","TransitionRun"),transitionstart:Oc("Transition","TransitionStart"),transitioncancel:Oc("Transition","TransitionCancel"),transitionend:Oc("Transition","TransitionEnd")},Y_={},J1={};Fi&&(J1=document.createElement("div").style,"AnimationEvent"in window||(delete Ju.animationend.animation,delete Ju.animationiteration.animation,delete Ju.animationstart.animation),"TransitionEvent"in window||delete Ju.transitionend.transition);function kc(o){if(Y_[o])return Y_[o];if(!Ju[o])return o;var l=Ju[o],h;for(h in l)if(l.hasOwnProperty(h)&&h in J1)return Y_[o]=l[h];return o}var tx=kc("animationend"),ex=kc("animationiteration"),nx=kc("animationstart"),JP=kc("transitionrun"),tL=kc("transitionstart"),eL=kc("transitioncancel"),ix=kc("transitionend"),rx=new Map,sx="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Xs(o,l){rx.set(o,l),be(l,[o])}var Is=[],th=0,G_=0;function Gg(){for(var o=th,l=G_=th=0;l<o;){var h=Is[l];Is[l++]=null;var m=Is[l];Is[l++]=null;var _=Is[l];Is[l++]=null;var w=Is[l];if(Is[l++]=null,m!==null&&_!==null){var M=m.pending;M===null?_.next=_:(_.next=M.next,M.next=_),m.pending=_}w!==0&&ox(h,_,w)}}function Wg(o,l,h,m){Is[th++]=o,Is[th++]=l,Is[th++]=h,Is[th++]=m,G_|=m,o.lanes|=m,o=o.alternate,o!==null&&(o.lanes|=m)}function W_(o,l,h,m){return Wg(o,l,h,m),Kg(o)}function ol(o,l){return Wg(o,null,null,l),Kg(o)}function ox(o,l,h){o.lanes|=h;var m=o.alternate;m!==null&&(m.lanes|=h);for(var _=!1,w=o.return;w!==null;)w.childLanes|=h,m=w.alternate,m!==null&&(m.childLanes|=h),w.tag===22&&(o=w.stateNode,o===null||o._visibility&1||(_=!0)),o=w,w=w.return;_&&l!==null&&o.tag===3&&(w=o.stateNode,_=31-Pe(h),w=w.hiddenUpdates,o=w[_],o===null?w[_]=[l]:o.push(l),l.lane=h|536870912)}function Kg(o){if(50<xf)throw xf=0,tb=null,Error(i(185));for(var l=o.return;l!==null;)o=l,l=o.return;return o.tag===3?o.stateNode:null}var eh={},ax=new WeakMap;function Ms(o,l){if(typeof o=="object"&&o!==null){var h=ax.get(o);return h!==void 0?h:(l={value:o,source:l,stack:lt(l)},ax.set(o,l),l)}return{value:o,source:l,stack:lt(l)}}var nh=[],ih=0,Xg=null,Qg=0,Os=[],ks=0,Nc=null,da=1,fa="";function Pc(o,l){nh[ih++]=Qg,nh[ih++]=Xg,Xg=o,Qg=l}function lx(o,l,h){Os[ks++]=da,Os[ks++]=fa,Os[ks++]=Nc,Nc=o;var m=da;o=fa;var _=32-Pe(m)-1;m&=~(1<<_),h+=1;var w=32-Pe(l)+_;if(30<w){var M=_-_%5;w=(m&(1<<M)-1).toString(32),m>>=M,_-=M,da=1<<32-Pe(l)+_|h<<_|m,fa=w+o}else da=1<<w|h<<_|m,fa=o}function K_(o){o.return!==null&&(Pc(o,1),lx(o,1,0))}function X_(o){for(;o===Xg;)Xg=nh[--ih],nh[ih]=null,Qg=nh[--ih],nh[ih]=null;for(;o===Nc;)Nc=Os[--ks],Os[ks]=null,fa=Os[--ks],Os[ks]=null,da=Os[--ks],Os[ks]=null}var Ur=null,er=null,Ke=!1,Qs=null,Ao=!1,Q_=Error(i(519));function Lc(o){var l=Error(i(418,""));throw ef(Ms(l,o)),Q_}function cx(o){var l=o.stateNode,h=o.type,m=o.memoizedProps;switch(l[Lt]=o,l[Kt]=m,h){case"dialog":Le("cancel",l),Le("close",l);break;case"iframe":case"object":case"embed":Le("load",l);break;case"video":case"audio":for(h=0;h<Af.length;h++)Le(Af[h],l);break;case"source":Le("error",l);break;case"img":case"image":case"link":Le("error",l),Le("load",l);break;case"details":Le("toggle",l);break;case"input":Le("invalid",l),Ec(l,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0),wc(l);break;case"select":Le("invalid",l);break;case"textarea":Le("invalid",l),rl(l,m.value,m.defaultValue,m.children),wc(l)}h=m.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||l.textContent===""+h||m.suppressHydrationWarning===!0||_A(l.textContent,h)?(m.popover!=null&&(Le("beforetoggle",l),Le("toggle",l)),m.onScroll!=null&&Le("scroll",l),m.onScrollEnd!=null&&Le("scrollend",l),m.onClick!=null&&(l.onclick=Dp),l=!0):l=!1,l||Lc(o)}function ux(o){for(Ur=o.return;Ur;)switch(Ur.tag){case 3:case 27:Ao=!0;return;case 5:case 13:Ao=!1;return;default:Ur=Ur.return}}function Jd(o){if(o!==Ur)return!1;if(!Ke)return ux(o),Ke=!0,!1;var l=!1,h;if((h=o.tag!==3&&o.tag!==27)&&((h=o.tag===5)&&(h=o.type,h=!(h!=="form"&&h!=="button")||yb(o.type,o.memoizedProps)),h=!h),h&&(l=!0),l&&er&&Lc(o),ux(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(i(317));t:{for(o=o.nextSibling,l=0;o;){if(o.nodeType===8)if(h=o.data,h==="/$"){if(l===0){er=Js(o.nextSibling);break t}l--}else h!=="$"&&h!=="$!"&&h!=="$?"||l++;o=o.nextSibling}er=null}}else er=Ur?Js(o.stateNode.nextSibling):null;return!0}function tf(){er=Ur=null,Ke=!1}function ef(o){Qs===null?Qs=[o]:Qs.push(o)}var nf=Error(i(460)),hx=Error(i(474)),Z_={then:function(){}};function dx(o){return o=o.status,o==="fulfilled"||o==="rejected"}function Zg(){}function fx(o,l,h){switch(h=o[h],h===void 0?o.push(l):h!==l&&(l.then(Zg,Zg),l=h),l.status){case"fulfilled":return l.value;case"rejected":throw o=l.reason,o===nf?Error(i(483)):o;default:if(typeof l.status=="string")l.then(Zg,Zg);else{if(o=En,o!==null&&100<o.shellSuspendCounter)throw Error(i(482));o=l,o.status="pending",o.then(function(m){if(l.status==="pending"){var _=l;_.status="fulfilled",_.value=m}},function(m){if(l.status==="pending"){var _=l;_.status="rejected",_.reason=m}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw o=l.reason,o===nf?Error(i(483)):o}throw rf=l,nf}}var rf=null;function mx(){if(rf===null)throw Error(i(459));var o=rf;return rf=null,o}var rh=null,sf=0;function Jg(o){var l=sf;return sf+=1,rh===null&&(rh=[]),fx(rh,o,l)}function of(o,l){l=l.props.ref,o.ref=l!==void 0?l:null}function tp(o,l){throw l.$$typeof===s?Error(i(525)):(o=Object.prototype.toString.call(l),Error(i(31,o==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":o)))}function gx(o){var l=o._init;return l(o._payload)}function px(o){function l(Z,G){if(o){var nt=Z.deletions;nt===null?(Z.deletions=[G],Z.flags|=16):nt.push(G)}}function h(Z,G){if(!o)return null;for(;G!==null;)l(Z,G),G=G.sibling;return null}function m(Z){for(var G=new Map;Z!==null;)Z.key!==null?G.set(Z.key,Z):G.set(Z.index,Z),Z=Z.sibling;return G}function _(Z,G){return Z=_l(Z,G),Z.index=0,Z.sibling=null,Z}function w(Z,G,nt){return Z.index=nt,o?(nt=Z.alternate,nt!==null?(nt=nt.index,nt<G?(Z.flags|=33554434,G):nt):(Z.flags|=33554434,G)):(Z.flags|=1048576,G)}function M(Z){return o&&Z.alternate===null&&(Z.flags|=33554434),Z}function U(Z,G,nt,ft){return G===null||G.tag!==6?(G=Yv(nt,Z.mode,ft),G.return=Z,G):(G=_(G,nt),G.return=Z,G)}function q(Z,G,nt,ft){var Ut=nt.type;return Ut===u?ut(Z,G,nt.props.children,ft,nt.key):G!==null&&(G.elementType===Ut||typeof Ut=="object"&&Ut!==null&&Ut.$$typeof===C&&gx(Ut)===G.type)?(G=_(G,nt.props),of(G,nt),G.return=Z,G):(G=_p(nt.type,nt.key,nt.props,null,Z.mode,ft),of(G,nt),G.return=Z,G)}function W(Z,G,nt,ft){return G===null||G.tag!==4||G.stateNode.containerInfo!==nt.containerInfo||G.stateNode.implementation!==nt.implementation?(G=Gv(nt,Z.mode,ft),G.return=Z,G):(G=_(G,nt.children||[]),G.return=Z,G)}function ut(Z,G,nt,ft,Ut){return G===null||G.tag!==7?(G=Yc(nt,Z.mode,ft,Ut),G.return=Z,G):(G=_(G,nt),G.return=Z,G)}function _t(Z,G,nt){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=Yv(""+G,Z.mode,nt),G.return=Z,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case a:return nt=_p(G.type,G.key,G.props,null,Z.mode,nt),of(nt,G),nt.return=Z,nt;case c:return G=Gv(G,Z.mode,nt),G.return=Z,G;case C:var ft=G._init;return G=ft(G._payload),_t(Z,G,nt)}if(Tt(G)||j(G))return G=Yc(G,Z.mode,nt,null),G.return=Z,G;if(typeof G.then=="function")return _t(Z,Jg(G),nt);if(G.$$typeof===v)return _t(Z,gp(Z,G),nt);tp(Z,G)}return null}function it(Z,G,nt,ft){var Ut=G!==null?G.key:null;if(typeof nt=="string"&&nt!==""||typeof nt=="number"||typeof nt=="bigint")return Ut!==null?null:U(Z,G,""+nt,ft);if(typeof nt=="object"&&nt!==null){switch(nt.$$typeof){case a:return nt.key===Ut?q(Z,G,nt,ft):null;case c:return nt.key===Ut?W(Z,G,nt,ft):null;case C:return Ut=nt._init,nt=Ut(nt._payload),it(Z,G,nt,ft)}if(Tt(nt)||j(nt))return Ut!==null?null:ut(Z,G,nt,ft,null);if(typeof nt.then=="function")return it(Z,G,Jg(nt),ft);if(nt.$$typeof===v)return it(Z,G,gp(Z,nt),ft);tp(Z,nt)}return null}function ct(Z,G,nt,ft,Ut){if(typeof ft=="string"&&ft!==""||typeof ft=="number"||typeof ft=="bigint")return Z=Z.get(nt)||null,U(G,Z,""+ft,Ut);if(typeof ft=="object"&&ft!==null){switch(ft.$$typeof){case a:return Z=Z.get(ft.key===null?nt:ft.key)||null,q(G,Z,ft,Ut);case c:return Z=Z.get(ft.key===null?nt:ft.key)||null,W(G,Z,ft,Ut);case C:var xe=ft._init;return ft=xe(ft._payload),ct(Z,G,nt,ft,Ut)}if(Tt(ft)||j(ft))return Z=Z.get(nt)||null,ut(G,Z,ft,Ut,null);if(typeof ft.then=="function")return ct(Z,G,nt,Jg(ft),Ut);if(ft.$$typeof===v)return ct(Z,G,nt,gp(G,ft),Ut);tp(G,ft)}return null}function jt(Z,G,nt,ft){for(var Ut=null,xe=null,qt=G,Zt=G=0,qi=null;qt!==null&&Zt<nt.length;Zt++){qt.index>Zt?(qi=qt,qt=null):qi=qt.sibling;var Xe=it(Z,qt,nt[Zt],ft);if(Xe===null){qt===null&&(qt=qi);break}o&&qt&&Xe.alternate===null&&l(Z,qt),G=w(Xe,G,Zt),xe===null?Ut=Xe:xe.sibling=Xe,xe=Xe,qt=qi}if(Zt===nt.length)return h(Z,qt),Ke&&Pc(Z,Zt),Ut;if(qt===null){for(;Zt<nt.length;Zt++)qt=_t(Z,nt[Zt],ft),qt!==null&&(G=w(qt,G,Zt),xe===null?Ut=qt:xe.sibling=qt,xe=qt);return Ke&&Pc(Z,Zt),Ut}for(qt=m(qt);Zt<nt.length;Zt++)qi=ct(qt,Z,Zt,nt[Zt],ft),qi!==null&&(o&&qi.alternate!==null&&qt.delete(qi.key===null?Zt:qi.key),G=w(qi,G,Zt),xe===null?Ut=qi:xe.sibling=qi,xe=qi);return o&&qt.forEach(function(Sl){return l(Z,Sl)}),Ke&&Pc(Z,Zt),Ut}function he(Z,G,nt,ft){if(nt==null)throw Error(i(151));for(var Ut=null,xe=null,qt=G,Zt=G=0,qi=null,Xe=nt.next();qt!==null&&!Xe.done;Zt++,Xe=nt.next()){qt.index>Zt?(qi=qt,qt=null):qi=qt.sibling;var Sl=it(Z,qt,Xe.value,ft);if(Sl===null){qt===null&&(qt=qi);break}o&&qt&&Sl.alternate===null&&l(Z,qt),G=w(Sl,G,Zt),xe===null?Ut=Sl:xe.sibling=Sl,xe=Sl,qt=qi}if(Xe.done)return h(Z,qt),Ke&&Pc(Z,Zt),Ut;if(qt===null){for(;!Xe.done;Zt++,Xe=nt.next())Xe=_t(Z,Xe.value,ft),Xe!==null&&(G=w(Xe,G,Zt),xe===null?Ut=Xe:xe.sibling=Xe,xe=Xe);return Ke&&Pc(Z,Zt),Ut}for(qt=m(qt);!Xe.done;Zt++,Xe=nt.next())Xe=ct(qt,Z,Zt,Xe.value,ft),Xe!==null&&(o&&Xe.alternate!==null&&qt.delete(Xe.key===null?Zt:Xe.key),G=w(Xe,G,Zt),xe===null?Ut=Xe:xe.sibling=Xe,xe=Xe);return o&&qt.forEach(function(gV){return l(Z,gV)}),Ke&&Pc(Z,Zt),Ut}function si(Z,G,nt,ft){if(typeof nt=="object"&&nt!==null&&nt.type===u&&nt.key===null&&(nt=nt.props.children),typeof nt=="object"&&nt!==null){switch(nt.$$typeof){case a:t:{for(var Ut=nt.key;G!==null;){if(G.key===Ut){if(Ut=nt.type,Ut===u){if(G.tag===7){h(Z,G.sibling),ft=_(G,nt.props.children),ft.return=Z,Z=ft;break t}}else if(G.elementType===Ut||typeof Ut=="object"&&Ut!==null&&Ut.$$typeof===C&&gx(Ut)===G.type){h(Z,G.sibling),ft=_(G,nt.props),of(ft,nt),ft.return=Z,Z=ft;break t}h(Z,G);break}else l(Z,G);G=G.sibling}nt.type===u?(ft=Yc(nt.props.children,Z.mode,ft,nt.key),ft.return=Z,Z=ft):(ft=_p(nt.type,nt.key,nt.props,null,Z.mode,ft),of(ft,nt),ft.return=Z,Z=ft)}return M(Z);case c:t:{for(Ut=nt.key;G!==null;){if(G.key===Ut)if(G.tag===4&&G.stateNode.containerInfo===nt.containerInfo&&G.stateNode.implementation===nt.implementation){h(Z,G.sibling),ft=_(G,nt.children||[]),ft.return=Z,Z=ft;break t}else{h(Z,G);break}else l(Z,G);G=G.sibling}ft=Gv(nt,Z.mode,ft),ft.return=Z,Z=ft}return M(Z);case C:return Ut=nt._init,nt=Ut(nt._payload),si(Z,G,nt,ft)}if(Tt(nt))return jt(Z,G,nt,ft);if(j(nt)){if(Ut=j(nt),typeof Ut!="function")throw Error(i(150));return nt=Ut.call(nt),he(Z,G,nt,ft)}if(typeof nt.then=="function")return si(Z,G,Jg(nt),ft);if(nt.$$typeof===v)return si(Z,G,gp(Z,nt),ft);tp(Z,nt)}return typeof nt=="string"&&nt!==""||typeof nt=="number"||typeof nt=="bigint"?(nt=""+nt,G!==null&&G.tag===6?(h(Z,G.sibling),ft=_(G,nt),ft.return=Z,Z=ft):(h(Z,G),ft=Yv(nt,Z.mode,ft),ft.return=Z,Z=ft),M(Z)):h(Z,G)}return function(Z,G,nt,ft){try{sf=0;var Ut=si(Z,G,nt,ft);return rh=null,Ut}catch(qt){if(qt===nf)throw qt;var xe=Vs(29,qt,null,Z.mode);return xe.lanes=ft,xe.return=Z,xe}finally{}}}var Vc=px(!0),yx=px(!1),sh=ce(null),ep=ce(0);function _x(o,l){o=xa,Wt(ep,o),Wt(sh,l),xa=o|l.baseLanes}function J_(){Wt(ep,xa),Wt(sh,sh.current)}function tv(){xa=ep.current,Gt(sh),Gt(ep)}var Ns=ce(null),Ro=null;function al(o){var l=o.alternate;Wt(Di,Di.current&1),Wt(Ns,o),Ro===null&&(l===null||sh.current!==null||l.memoizedState!==null)&&(Ro=o)}function vx(o){if(o.tag===22){if(Wt(Di,Di.current),Wt(Ns,o),Ro===null){var l=o.alternate;l!==null&&l.memoizedState!==null&&(Ro=o)}}else ll()}function ll(){Wt(Di,Di.current),Wt(Ns,Ns.current)}function ma(o){Gt(Ns),Ro===o&&(Ro=null),Gt(Di)}var Di=ce(0);function np(o){for(var l=o;l!==null;){if(l.tag===13){var h=l.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||h.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var nL=typeof AbortController<"u"?AbortController:function(){var o=[],l=this.signal={aborted:!1,addEventListener:function(h,m){o.push(m)}};this.abort=function(){l.aborted=!0,o.forEach(function(h){return h()})}},iL=n.unstable_scheduleCallback,rL=n.unstable_NormalPriority,Ii={$$typeof:v,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ev(){return{controller:new nL,data:new Map,refCount:0}}function af(o){o.refCount--,o.refCount===0&&iL(rL,function(){o.controller.abort()})}var lf=null,nv=0,oh=0,ah=null;function sL(o,l){if(lf===null){var h=lf=[];nv=0,oh=lb(),ah={status:"pending",value:void 0,then:function(m){h.push(m)}}}return nv++,l.then(bx,bx),l}function bx(){if(--nv===0&&lf!==null){ah!==null&&(ah.status="fulfilled");var o=lf;lf=null,oh=0,ah=null;for(var l=0;l<o.length;l++)(0,o[l])()}}function oL(o,l){var h=[],m={status:"pending",value:null,reason:null,then:function(_){h.push(_)}};return o.then(function(){m.status="fulfilled",m.value=l;for(var _=0;_<h.length;_++)(0,h[_])(l)},function(_){for(m.status="rejected",m.reason=_,_=0;_<h.length;_++)(0,h[_])(void 0)}),m}var Tx=k.S;k.S=function(o,l){typeof l=="object"&&l!==null&&typeof l.then=="function"&&sL(o,l),Tx!==null&&Tx(o,l)};var Uc=ce(null);function iv(){var o=Uc.current;return o!==null?o:En.pooledCache}function ip(o,l){l===null?Wt(Uc,Uc.current):Wt(Uc,l.pool)}function wx(){var o=iv();return o===null?null:{parent:Ii._currentValue,pool:o}}var cl=0,Te=null,fn=null,vi=null,rp=!1,lh=!1,zc=!1,sp=0,cf=0,ch=null,aL=0;function hi(){throw Error(i(321))}function rv(o,l){if(l===null)return!1;for(var h=0;h<l.length&&h<o.length;h++)if(!ls(o[h],l[h]))return!1;return!0}function sv(o,l,h,m,_,w){return cl=w,Te=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,k.H=o===null||o.memoizedState===null?Fc:ul,zc=!1,w=h(m,_),zc=!1,lh&&(w=xx(l,h,m,_)),Ex(o),w}function Ex(o){k.H=Co;var l=fn!==null&&fn.next!==null;if(cl=0,vi=fn=Te=null,rp=!1,cf=0,ch=null,l)throw Error(i(300));o===null||$i||(o=o.dependencies,o!==null&&mp(o)&&($i=!0))}function xx(o,l,h,m){Te=o;var _=0;do{if(lh&&(ch=null),cf=0,lh=!1,25<=_)throw Error(i(301));if(_+=1,vi=fn=null,o.updateQueue!=null){var w=o.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}k.H=Bc,w=l(h,m)}while(lh);return w}function lL(){var o=k.H,l=o.useState()[0];return l=typeof l.then=="function"?uf(l):l,o=o.useState()[0],(fn!==null?fn.memoizedState:null)!==o&&(Te.flags|=1024),l}function ov(){var o=sp!==0;return sp=0,o}function av(o,l,h){l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~h}function lv(o){if(rp){for(o=o.memoizedState;o!==null;){var l=o.queue;l!==null&&(l.pending=null),o=o.next}rp=!1}cl=0,vi=fn=Te=null,lh=!1,cf=sp=0,ch=null}function Xr(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vi===null?Te.memoizedState=vi=o:vi=vi.next=o,vi}function bi(){if(fn===null){var o=Te.alternate;o=o!==null?o.memoizedState:null}else o=fn.next;var l=vi===null?Te.memoizedState:vi.next;if(l!==null)vi=l,fn=o;else{if(o===null)throw Te.alternate===null?Error(i(467)):Error(i(310));fn=o,o={memoizedState:fn.memoizedState,baseState:fn.baseState,baseQueue:fn.baseQueue,queue:fn.queue,next:null},vi===null?Te.memoizedState=vi=o:vi=vi.next=o}return vi}var op;op=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function uf(o){var l=cf;return cf+=1,ch===null&&(ch=[]),o=fx(ch,o,l),l=Te,(vi===null?l.memoizedState:vi.next)===null&&(l=l.alternate,k.H=l===null||l.memoizedState===null?Fc:ul),o}function ap(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return uf(o);if(o.$$typeof===v)return Tr(o)}throw Error(i(438,String(o)))}function cv(o){var l=null,h=Te.updateQueue;if(h!==null&&(l=h.memoCache),l==null){var m=Te.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(l={data:m.data.map(function(_){return _.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),h===null&&(h=op(),Te.updateQueue=h),h.memoCache=l,h=l.data[l.index],h===void 0)for(h=l.data[l.index]=Array(o),m=0;m<o;m++)h[m]=L;return l.index++,h}function ga(o,l){return typeof l=="function"?l(o):l}function lp(o){var l=bi();return uv(l,fn,o)}function uv(o,l,h){var m=o.queue;if(m===null)throw Error(i(311));m.lastRenderedReducer=h;var _=o.baseQueue,w=m.pending;if(w!==null){if(_!==null){var M=_.next;_.next=w.next,w.next=M}l.baseQueue=_=w,m.pending=null}if(w=o.baseState,_===null)o.memoizedState=w;else{l=_.next;var U=M=null,q=null,W=l,ut=!1;do{var _t=W.lane&-536870913;if(_t!==W.lane?(Be&_t)===_t:(cl&_t)===_t){var it=W.revertLane;if(it===0)q!==null&&(q=q.next={lane:0,revertLane:0,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),_t===oh&&(ut=!0);else if((cl&it)===it){W=W.next,it===oh&&(ut=!0);continue}else _t={lane:0,revertLane:W.revertLane,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},q===null?(U=q=_t,M=w):q=q.next=_t,Te.lanes|=it,vl|=it;_t=W.action,zc&&h(w,_t),w=W.hasEagerState?W.eagerState:h(w,_t)}else it={lane:_t,revertLane:W.revertLane,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},q===null?(U=q=it,M=w):q=q.next=it,Te.lanes|=_t,vl|=_t;W=W.next}while(W!==null&&W!==l);if(q===null?M=w:q.next=U,!ls(w,o.memoizedState)&&($i=!0,ut&&(h=ah,h!==null)))throw h;o.memoizedState=w,o.baseState=M,o.baseQueue=q,m.lastRenderedState=w}return _===null&&(m.lanes=0),[o.memoizedState,m.dispatch]}function hv(o){var l=bi(),h=l.queue;if(h===null)throw Error(i(311));h.lastRenderedReducer=o;var m=h.dispatch,_=h.pending,w=l.memoizedState;if(_!==null){h.pending=null;var M=_=_.next;do w=o(w,M.action),M=M.next;while(M!==_);ls(w,l.memoizedState)||($i=!0),l.memoizedState=w,l.baseQueue===null&&(l.baseState=w),h.lastRenderedState=w}return[w,m]}function Sx(o,l,h){var m=Te,_=bi(),w=Ke;if(w){if(h===void 0)throw Error(i(407));h=h()}else h=l();var M=!ls((fn||_).memoizedState,h);if(M&&(_.memoizedState=h,$i=!0),_=_.queue,mv(Cx.bind(null,m,_,o),[o]),_.getSnapshot!==l||M||vi!==null&&vi.memoizedState.tag&1){if(m.flags|=2048,uh(9,Rx.bind(null,m,_,h,l),{destroy:void 0},null),En===null)throw Error(i(349));w||(cl&60)!==0||Ax(m,l,h)}return h}function Ax(o,l,h){o.flags|=16384,o={getSnapshot:l,value:h},l=Te.updateQueue,l===null?(l=op(),Te.updateQueue=l,l.stores=[o]):(h=l.stores,h===null?l.stores=[o]:h.push(o))}function Rx(o,l,h,m){l.value=h,l.getSnapshot=m,Dx(l)&&Ix(o)}function Cx(o,l,h){return h(function(){Dx(l)&&Ix(o)})}function Dx(o){var l=o.getSnapshot;o=o.value;try{var h=l();return!ls(o,h)}catch{return!0}}function Ix(o){var l=ol(o,2);l!==null&&zr(l,o,2)}function dv(o){var l=Xr();if(typeof o=="function"){var h=o;if(o=h(),zc){pe(!0);try{h()}finally{pe(!1)}}}return l.memoizedState=l.baseState=o,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ga,lastRenderedState:o},l}function Mx(o,l,h,m){return o.baseState=h,uv(o,fn,typeof m=="function"?m:ga)}function cL(o,l,h,m,_){if(hp(o))throw Error(i(485));if(o=l.action,o!==null){var w={payload:_,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(M){w.listeners.push(M)}};k.T!==null?h(!0):w.isTransition=!1,m(w),h=l.pending,h===null?(w.next=l.pending=w,Ox(l,w)):(w.next=h.next,l.pending=h.next=w)}}function Ox(o,l){var h=l.action,m=l.payload,_=o.state;if(l.isTransition){var w=k.T,M={};k.T=M;try{var U=h(_,m),q=k.S;q!==null&&q(M,U),kx(o,l,U)}catch(W){fv(o,l,W)}finally{k.T=w}}else try{w=h(_,m),kx(o,l,w)}catch(W){fv(o,l,W)}}function kx(o,l,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(m){Nx(o,l,m)},function(m){return fv(o,l,m)}):Nx(o,l,h)}function Nx(o,l,h){l.status="fulfilled",l.value=h,Px(l),o.state=h,l=o.pending,l!==null&&(h=l.next,h===l?o.pending=null:(h=h.next,l.next=h,Ox(o,h)))}function fv(o,l,h){var m=o.pending;if(o.pending=null,m!==null){m=m.next;do l.status="rejected",l.reason=h,Px(l),l=l.next;while(l!==m)}o.action=null}function Px(o){o=o.listeners;for(var l=0;l<o.length;l++)(0,o[l])()}function Lx(o,l){return l}function Vx(o,l){if(Ke){var h=En.formState;if(h!==null){t:{var m=Te;if(Ke){if(er){e:{for(var _=er,w=Ao;_.nodeType!==8;){if(!w){_=null;break e}if(_=Js(_.nextSibling),_===null){_=null;break e}}w=_.data,_=w==="F!"||w==="F"?_:null}if(_){er=Js(_.nextSibling),m=_.data==="F!";break t}}Lc(m)}m=!1}m&&(l=h[0])}}return h=Xr(),h.memoizedState=h.baseState=l,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lx,lastRenderedState:l},h.queue=m,h=eS.bind(null,Te,m),m.dispatch=h,m=dv(!1),w=vv.bind(null,Te,!1,m.queue),m=Xr(),_={state:l,dispatch:null,action:o,pending:null},m.queue=_,h=cL.bind(null,Te,_,w,h),_.dispatch=h,m.memoizedState=o,[l,h,!1]}function Ux(o){var l=bi();return zx(l,fn,o)}function zx(o,l,h){l=uv(o,l,Lx)[0],o=lp(ga)[0],l=typeof l=="object"&&l!==null&&typeof l.then=="function"?uf(l):l;var m=bi(),_=m.queue,w=_.dispatch;return h!==m.memoizedState&&(Te.flags|=2048,uh(9,uL.bind(null,_,h),{destroy:void 0},null)),[l,w,o]}function uL(o,l){o.action=l}function Fx(o){var l=bi(),h=fn;if(h!==null)return zx(l,h,o);bi(),l=l.memoizedState,h=bi();var m=h.queue.dispatch;return h.memoizedState=o,[l,m,!1]}function uh(o,l,h,m){return o={tag:o,create:l,inst:h,deps:m,next:null},l=Te.updateQueue,l===null&&(l=op(),Te.updateQueue=l),h=l.lastEffect,h===null?l.lastEffect=o.next=o:(m=h.next,h.next=o,o.next=m,l.lastEffect=o),o}function Bx(){return bi().memoizedState}function cp(o,l,h,m){var _=Xr();Te.flags|=o,_.memoizedState=uh(1|l,h,{destroy:void 0},m===void 0?null:m)}function up(o,l,h,m){var _=bi();m=m===void 0?null:m;var w=_.memoizedState.inst;fn!==null&&m!==null&&rv(m,fn.memoizedState.deps)?_.memoizedState=uh(l,h,w,m):(Te.flags|=o,_.memoizedState=uh(1|l,h,w,m))}function jx(o,l){cp(8390656,8,o,l)}function mv(o,l){up(2048,8,o,l)}function $x(o,l){return up(4,2,o,l)}function Hx(o,l){return up(4,4,o,l)}function qx(o,l){if(typeof l=="function"){o=o();var h=l(o);return function(){typeof h=="function"?h():l(null)}}if(l!=null)return o=o(),l.current=o,function(){l.current=null}}function Yx(o,l,h){h=h!=null?h.concat([o]):null,up(4,4,qx.bind(null,l,o),h)}function gv(){}function Gx(o,l){var h=bi();l=l===void 0?null:l;var m=h.memoizedState;return l!==null&&rv(l,m[1])?m[0]:(h.memoizedState=[o,l],o)}function Wx(o,l){var h=bi();l=l===void 0?null:l;var m=h.memoizedState;if(l!==null&&rv(l,m[1]))return m[0];if(m=o(),zc){pe(!0);try{o()}finally{pe(!1)}}return h.memoizedState=[m,l],m}function pv(o,l,h){return h===void 0||(cl&1073741824)!==0?o.memoizedState=l:(o.memoizedState=h,o=XS(),Te.lanes|=o,vl|=o,h)}function Kx(o,l,h,m){return ls(h,l)?h:sh.current!==null?(o=pv(o,h,m),ls(o,l)||($i=!0),o):(cl&42)===0?($i=!0,o.memoizedState=h):(o=XS(),Te.lanes|=o,vl|=o,l)}function Xx(o,l,h,m,_){var w=pt.p;pt.p=w!==0&&8>w?w:8;var M=k.T,U={};k.T=U,vv(o,!1,l,h);try{var q=_(),W=k.S;if(W!==null&&W(U,q),q!==null&&typeof q=="object"&&typeof q.then=="function"){var ut=oL(q,m);hf(o,l,ut,ds(o))}else hf(o,l,m,ds(o))}catch(_t){hf(o,l,{then:function(){},status:"rejected",reason:_t},ds())}finally{pt.p=w,k.T=M}}function hL(){}function yv(o,l,h,m){if(o.tag!==5)throw Error(i(476));var _=Qx(o).queue;Xx(o,_,l,xt,h===null?hL:function(){return Zx(o),h(m)})}function Qx(o){var l=o.memoizedState;if(l!==null)return l;l={memoizedState:xt,baseState:xt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ga,lastRenderedState:xt},next:null};var h={};return l.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ga,lastRenderedState:h},next:null},o.memoizedState=l,o=o.alternate,o!==null&&(o.memoizedState=l),l}function Zx(o){var l=Qx(o).next.queue;hf(o,l,{},ds())}function _v(){return Tr(Mf)}function Jx(){return bi().memoizedState}function tS(){return bi().memoizedState}function dL(o){for(var l=o.return;l!==null;){switch(l.tag){case 24:case 3:var h=ds();o=fl(h);var m=ml(l,o,h);m!==null&&(zr(m,l,h),mf(m,l,h)),l={cache:ev()},o.payload=l;return}l=l.return}}function fL(o,l,h){var m=ds();h={lane:m,revertLane:0,action:h,hasEagerState:!1,eagerState:null,next:null},hp(o)?nS(l,h):(h=W_(o,l,h,m),h!==null&&(zr(h,o,m),iS(h,l,m)))}function eS(o,l,h){var m=ds();hf(o,l,h,m)}function hf(o,l,h,m){var _={lane:m,revertLane:0,action:h,hasEagerState:!1,eagerState:null,next:null};if(hp(o))nS(l,_);else{var w=o.alternate;if(o.lanes===0&&(w===null||w.lanes===0)&&(w=l.lastRenderedReducer,w!==null))try{var M=l.lastRenderedState,U=w(M,h);if(_.hasEagerState=!0,_.eagerState=U,ls(U,M))return Wg(o,l,_,0),En===null&&Gg(),!1}catch{}finally{}if(h=W_(o,l,_,m),h!==null)return zr(h,o,m),iS(h,l,m),!0}return!1}function vv(o,l,h,m){if(m={lane:2,revertLane:lb(),action:m,hasEagerState:!1,eagerState:null,next:null},hp(o)){if(l)throw Error(i(479))}else l=W_(o,h,m,2),l!==null&&zr(l,o,2)}function hp(o){var l=o.alternate;return o===Te||l!==null&&l===Te}function nS(o,l){lh=rp=!0;var h=o.pending;h===null?l.next=l:(l.next=h.next,h.next=l),o.pending=l}function iS(o,l,h){if((h&4194176)!==0){var m=l.lanes;m&=o.pendingLanes,h|=m,l.lanes=h,$t(o,h)}}var Co={readContext:Tr,use:ap,useCallback:hi,useContext:hi,useEffect:hi,useImperativeHandle:hi,useLayoutEffect:hi,useInsertionEffect:hi,useMemo:hi,useReducer:hi,useRef:hi,useState:hi,useDebugValue:hi,useDeferredValue:hi,useTransition:hi,useSyncExternalStore:hi,useId:hi};Co.useCacheRefresh=hi,Co.useMemoCache=hi,Co.useHostTransitionStatus=hi,Co.useFormState=hi,Co.useActionState=hi,Co.useOptimistic=hi;var Fc={readContext:Tr,use:ap,useCallback:function(o,l){return Xr().memoizedState=[o,l===void 0?null:l],o},useContext:Tr,useEffect:jx,useImperativeHandle:function(o,l,h){h=h!=null?h.concat([o]):null,cp(4194308,4,qx.bind(null,l,o),h)},useLayoutEffect:function(o,l){return cp(4194308,4,o,l)},useInsertionEffect:function(o,l){cp(4,2,o,l)},useMemo:function(o,l){var h=Xr();l=l===void 0?null:l;var m=o();if(zc){pe(!0);try{o()}finally{pe(!1)}}return h.memoizedState=[m,l],m},useReducer:function(o,l,h){var m=Xr();if(h!==void 0){var _=h(l);if(zc){pe(!0);try{h(l)}finally{pe(!1)}}}else _=l;return m.memoizedState=m.baseState=_,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:_},m.queue=o,o=o.dispatch=fL.bind(null,Te,o),[m.memoizedState,o]},useRef:function(o){var l=Xr();return o={current:o},l.memoizedState=o},useState:function(o){o=dv(o);var l=o.queue,h=eS.bind(null,Te,l);return l.dispatch=h,[o.memoizedState,h]},useDebugValue:gv,useDeferredValue:function(o,l){var h=Xr();return pv(h,o,l)},useTransition:function(){var o=dv(!1);return o=Xx.bind(null,Te,o.queue,!0,!1),Xr().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,l,h){var m=Te,_=Xr();if(Ke){if(h===void 0)throw Error(i(407));h=h()}else{if(h=l(),En===null)throw Error(i(349));(Be&60)!==0||Ax(m,l,h)}_.memoizedState=h;var w={value:h,getSnapshot:l};return _.queue=w,jx(Cx.bind(null,m,w,o),[o]),m.flags|=2048,uh(9,Rx.bind(null,m,w,h,l),{destroy:void 0},null),h},useId:function(){var o=Xr(),l=En.identifierPrefix;if(Ke){var h=fa,m=da;h=(m&~(1<<32-Pe(m)-1)).toString(32)+h,l=":"+l+"R"+h,h=sp++,0<h&&(l+="H"+h.toString(32)),l+=":"}else h=aL++,l=":"+l+"r"+h.toString(32)+":";return o.memoizedState=l},useCacheRefresh:function(){return Xr().memoizedState=dL.bind(null,Te)}};Fc.useMemoCache=cv,Fc.useHostTransitionStatus=_v,Fc.useFormState=Vx,Fc.useActionState=Vx,Fc.useOptimistic=function(o){var l=Xr();l.memoizedState=l.baseState=o;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=h,l=vv.bind(null,Te,!0,h),h.dispatch=l,[o,l]};var ul={readContext:Tr,use:ap,useCallback:Gx,useContext:Tr,useEffect:mv,useImperativeHandle:Yx,useInsertionEffect:$x,useLayoutEffect:Hx,useMemo:Wx,useReducer:lp,useRef:Bx,useState:function(){return lp(ga)},useDebugValue:gv,useDeferredValue:function(o,l){var h=bi();return Kx(h,fn.memoizedState,o,l)},useTransition:function(){var o=lp(ga)[0],l=bi().memoizedState;return[typeof o=="boolean"?o:uf(o),l]},useSyncExternalStore:Sx,useId:Jx};ul.useCacheRefresh=tS,ul.useMemoCache=cv,ul.useHostTransitionStatus=_v,ul.useFormState=Ux,ul.useActionState=Ux,ul.useOptimistic=function(o,l){var h=bi();return Mx(h,fn,o,l)};var Bc={readContext:Tr,use:ap,useCallback:Gx,useContext:Tr,useEffect:mv,useImperativeHandle:Yx,useInsertionEffect:$x,useLayoutEffect:Hx,useMemo:Wx,useReducer:hv,useRef:Bx,useState:function(){return hv(ga)},useDebugValue:gv,useDeferredValue:function(o,l){var h=bi();return fn===null?pv(h,o,l):Kx(h,fn.memoizedState,o,l)},useTransition:function(){var o=hv(ga)[0],l=bi().memoizedState;return[typeof o=="boolean"?o:uf(o),l]},useSyncExternalStore:Sx,useId:Jx};Bc.useCacheRefresh=tS,Bc.useMemoCache=cv,Bc.useHostTransitionStatus=_v,Bc.useFormState=Fx,Bc.useActionState=Fx,Bc.useOptimistic=function(o,l){var h=bi();return fn!==null?Mx(h,fn,o,l):(h.baseState=o,[o,h.queue.dispatch])};function bv(o,l,h,m){l=o.memoizedState,h=h(m,l),h=h==null?l:V({},l,h),o.memoizedState=h,o.lanes===0&&(o.updateQueue.baseState=h)}var Tv={isMounted:function(o){return(o=o._reactInternals)?ht(o)===o:!1},enqueueSetState:function(o,l,h){o=o._reactInternals;var m=ds(),_=fl(m);_.payload=l,h!=null&&(_.callback=h),l=ml(o,_,m),l!==null&&(zr(l,o,m),mf(l,o,m))},enqueueReplaceState:function(o,l,h){o=o._reactInternals;var m=ds(),_=fl(m);_.tag=1,_.payload=l,h!=null&&(_.callback=h),l=ml(o,_,m),l!==null&&(zr(l,o,m),mf(l,o,m))},enqueueForceUpdate:function(o,l){o=o._reactInternals;var h=ds(),m=fl(h);m.tag=2,l!=null&&(m.callback=l),l=ml(o,m,h),l!==null&&(zr(l,o,h),mf(l,o,h))}};function rS(o,l,h,m,_,w,M){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(m,w,M):l.prototype&&l.prototype.isPureReactComponent?!Qd(h,m)||!Qd(_,w):!0}function sS(o,l,h,m){o=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(h,m),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(h,m),l.state!==o&&Tv.enqueueReplaceState(l,l.state,null)}function jc(o,l){var h=l;if("ref"in l){h={};for(var m in l)m!=="ref"&&(h[m]=l[m])}if(o=o.defaultProps){h===l&&(h=V({},h));for(var _ in o)h[_]===void 0&&(h[_]=o[_])}return h}var dp=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)};function oS(o){dp(o)}function aS(o){console.error(o)}function lS(o){dp(o)}function fp(o,l){try{var h=o.onUncaughtError;h(l.value,{componentStack:l.stack})}catch(m){setTimeout(function(){throw m})}}function cS(o,l,h){try{var m=o.onCaughtError;m(h.value,{componentStack:h.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(_){setTimeout(function(){throw _})}}function wv(o,l,h){return h=fl(h),h.tag=3,h.payload={element:null},h.callback=function(){fp(o,l)},h}function uS(o){return o=fl(o),o.tag=3,o}function hS(o,l,h,m){var _=h.type.getDerivedStateFromError;if(typeof _=="function"){var w=m.value;o.payload=function(){return _(w)},o.callback=function(){cS(l,h,m)}}var M=h.stateNode;M!==null&&typeof M.componentDidCatch=="function"&&(o.callback=function(){cS(l,h,m),typeof _!="function"&&(bl===null?bl=new Set([this]):bl.add(this));var U=m.stack;this.componentDidCatch(m.value,{componentStack:U!==null?U:""})})}function mL(o,l,h,m,_){if(h.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(l=h.alternate,l!==null&&ff(l,h,_,!0),h=Ns.current,h!==null){switch(h.tag){case 13:return Ro===null?ib():h.alternate===null&&ri===0&&(ri=3),h.flags&=-257,h.flags|=65536,h.lanes=_,m===Z_?h.flags|=16384:(l=h.updateQueue,l===null?h.updateQueue=new Set([m]):l.add(m),sb(o,m,_)),!1;case 22:return h.flags|=65536,m===Z_?h.flags|=16384:(l=h.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([m])},h.updateQueue=l):(h=l.retryQueue,h===null?l.retryQueue=new Set([m]):h.add(m)),sb(o,m,_)),!1}throw Error(i(435,h.tag))}return sb(o,m,_),ib(),!1}if(Ke)return l=Ns.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=_,m!==Q_&&(o=Error(i(422),{cause:m}),ef(Ms(o,h)))):(m!==Q_&&(l=Error(i(423),{cause:m}),ef(Ms(l,h))),o=o.current.alternate,o.flags|=65536,_&=-_,o.lanes|=_,m=Ms(m,h),_=wv(o.stateNode,m,_),Vv(o,_),ri!==4&&(ri=2)),!1;var w=Error(i(520),{cause:m});if(w=Ms(w,h),wf===null?wf=[w]:wf.push(w),ri!==4&&(ri=2),l===null)return!0;m=Ms(m,h),h=l;do{switch(h.tag){case 3:return h.flags|=65536,o=_&-_,h.lanes|=o,o=wv(h.stateNode,m,o),Vv(h,o),!1;case 1:if(l=h.type,w=h.stateNode,(h.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(bl===null||!bl.has(w))))return h.flags|=65536,_&=-_,h.lanes|=_,_=uS(_),hS(_,o,h,m),Vv(h,_),!1}h=h.return}while(h!==null);return!1}var dS=Error(i(461)),$i=!1;function nr(o,l,h,m){l.child=o===null?yx(l,null,h,m):Vc(l,o.child,h,m)}function fS(o,l,h,m,_){h=h.render;var w=l.ref;if("ref"in m){var M={};for(var U in m)U!=="ref"&&(M[U]=m[U])}else M=m;return Hc(l),m=sv(o,l,h,M,w,_),U=ov(),o!==null&&!$i?(av(o,l,_),pa(o,l,_)):(Ke&&U&&K_(l),l.flags|=1,nr(o,l,m,_),l.child)}function mS(o,l,h,m,_){if(o===null){var w=h.type;return typeof w=="function"&&!qv(w)&&w.defaultProps===void 0&&h.compare===null?(l.tag=15,l.type=w,gS(o,l,w,m,_)):(o=_p(h.type,null,m,l,l.mode,_),o.ref=l.ref,o.return=l,l.child=o)}if(w=o.child,!Mv(o,_)){var M=w.memoizedProps;if(h=h.compare,h=h!==null?h:Qd,h(M,m)&&o.ref===l.ref)return pa(o,l,_)}return l.flags|=1,o=_l(w,m),o.ref=l.ref,o.return=l,l.child=o}function gS(o,l,h,m,_){if(o!==null){var w=o.memoizedProps;if(Qd(w,m)&&o.ref===l.ref)if($i=!1,l.pendingProps=m=w,Mv(o,_))(o.flags&131072)!==0&&($i=!0);else return l.lanes=o.lanes,pa(o,l,_)}return Ev(o,l,h,m,_)}function pS(o,l,h){var m=l.pendingProps,_=m.children,w=(l.stateNode._pendingVisibility&2)!==0,M=o!==null?o.memoizedState:null;if(df(o,l),m.mode==="hidden"||w){if((l.flags&128)!==0){if(m=M!==null?M.baseLanes|h:h,o!==null){for(_=l.child=o.child,w=0;_!==null;)w=w|_.lanes|_.childLanes,_=_.sibling;l.childLanes=w&~m}else l.childLanes=0,l.child=null;return yS(o,l,m,h)}if((h&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},o!==null&&ip(l,M!==null?M.cachePool:null),M!==null?_x(l,M):J_(),vx(l);else return l.lanes=l.childLanes=536870912,yS(o,l,M!==null?M.baseLanes|h:h,h)}else M!==null?(ip(l,M.cachePool),_x(l,M),ll(),l.memoizedState=null):(o!==null&&ip(l,null),J_(),ll());return nr(o,l,_,h),l.child}function yS(o,l,h,m){var _=iv();return _=_===null?null:{parent:Ii._currentValue,pool:_},l.memoizedState={baseLanes:h,cachePool:_},o!==null&&ip(l,null),J_(),vx(l),o!==null&&ff(o,l,m,!0),null}function df(o,l){var h=l.ref;if(h===null)o!==null&&o.ref!==null&&(l.flags|=2097664);else{if(typeof h!="function"&&typeof h!="object")throw Error(i(284));(o===null||o.ref!==h)&&(l.flags|=2097664)}}function Ev(o,l,h,m,_){return Hc(l),h=sv(o,l,h,m,void 0,_),m=ov(),o!==null&&!$i?(av(o,l,_),pa(o,l,_)):(Ke&&m&&K_(l),l.flags|=1,nr(o,l,h,_),l.child)}function _S(o,l,h,m,_,w){return Hc(l),l.updateQueue=null,h=xx(l,m,h,_),Ex(o),m=ov(),o!==null&&!$i?(av(o,l,w),pa(o,l,w)):(Ke&&m&&K_(l),l.flags|=1,nr(o,l,h,w),l.child)}function vS(o,l,h,m,_){if(Hc(l),l.stateNode===null){var w=eh,M=h.contextType;typeof M=="object"&&M!==null&&(w=Tr(M)),w=new h(m,w),l.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=Tv,l.stateNode=w,w._reactInternals=l,w=l.stateNode,w.props=m,w.state=l.memoizedState,w.refs={},Pv(l),M=h.contextType,w.context=typeof M=="object"&&M!==null?Tr(M):eh,w.state=l.memoizedState,M=h.getDerivedStateFromProps,typeof M=="function"&&(bv(l,h,M,m),w.state=l.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(M=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),M!==w.state&&Tv.enqueueReplaceState(w,w.state,null),pf(l,m,w,_),gf(),w.state=l.memoizedState),typeof w.componentDidMount=="function"&&(l.flags|=4194308),m=!0}else if(o===null){w=l.stateNode;var U=l.memoizedProps,q=jc(h,U);w.props=q;var W=w.context,ut=h.contextType;M=eh,typeof ut=="object"&&ut!==null&&(M=Tr(ut));var _t=h.getDerivedStateFromProps;ut=typeof _t=="function"||typeof w.getSnapshotBeforeUpdate=="function",U=l.pendingProps!==U,ut||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(U||W!==M)&&sS(l,w,m,M),dl=!1;var it=l.memoizedState;w.state=it,pf(l,m,w,_),gf(),W=l.memoizedState,U||it!==W||dl?(typeof _t=="function"&&(bv(l,h,_t,m),W=l.memoizedState),(q=dl||rS(l,h,q,m,it,W,M))?(ut||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(l.flags|=4194308)):(typeof w.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=m,l.memoizedState=W),w.props=m,w.state=W,w.context=M,m=q):(typeof w.componentDidMount=="function"&&(l.flags|=4194308),m=!1)}else{w=l.stateNode,Lv(o,l),M=l.memoizedProps,ut=jc(h,M),w.props=ut,_t=l.pendingProps,it=w.context,W=h.contextType,q=eh,typeof W=="object"&&W!==null&&(q=Tr(W)),U=h.getDerivedStateFromProps,(W=typeof U=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(M!==_t||it!==q)&&sS(l,w,m,q),dl=!1,it=l.memoizedState,w.state=it,pf(l,m,w,_),gf();var ct=l.memoizedState;M!==_t||it!==ct||dl||o!==null&&o.dependencies!==null&&mp(o.dependencies)?(typeof U=="function"&&(bv(l,h,U,m),ct=l.memoizedState),(ut=dl||rS(l,h,ut,m,it,ct,q)||o!==null&&o.dependencies!==null&&mp(o.dependencies))?(W||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(m,ct,q),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(m,ct,q)),typeof w.componentDidUpdate=="function"&&(l.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof w.componentDidUpdate!="function"||M===o.memoizedProps&&it===o.memoizedState||(l.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||M===o.memoizedProps&&it===o.memoizedState||(l.flags|=1024),l.memoizedProps=m,l.memoizedState=ct),w.props=m,w.state=ct,w.context=q,m=ut):(typeof w.componentDidUpdate!="function"||M===o.memoizedProps&&it===o.memoizedState||(l.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||M===o.memoizedProps&&it===o.memoizedState||(l.flags|=1024),m=!1)}return w=m,df(o,l),m=(l.flags&128)!==0,w||m?(w=l.stateNode,h=m&&typeof h.getDerivedStateFromError!="function"?null:w.render(),l.flags|=1,o!==null&&m?(l.child=Vc(l,o.child,null,_),l.child=Vc(l,null,h,_)):nr(o,l,h,_),l.memoizedState=w.state,o=l.child):o=pa(o,l,_),o}function bS(o,l,h,m){return tf(),l.flags|=256,nr(o,l,h,m),l.child}var xv={dehydrated:null,treeContext:null,retryLane:0};function Sv(o){return{baseLanes:o,cachePool:wx()}}function Av(o,l,h){return o=o!==null?o.childLanes&~h:0,l&&(o|=Us),o}function TS(o,l,h){var m=l.pendingProps,_=!1,w=(l.flags&128)!==0,M;if((M=w)||(M=o!==null&&o.memoizedState===null?!1:(Di.current&2)!==0),M&&(_=!0,l.flags&=-129),M=(l.flags&32)!==0,l.flags&=-33,o===null){if(Ke){if(_?al(l):ll(),Ke){var U=er,q;if(q=U){t:{for(q=U,U=Ao;q.nodeType!==8;){if(!U){U=null;break t}if(q=Js(q.nextSibling),q===null){U=null;break t}}U=q}U!==null?(l.memoizedState={dehydrated:U,treeContext:Nc!==null?{id:da,overflow:fa}:null,retryLane:536870912},q=Vs(18,null,null,0),q.stateNode=U,q.return=l,l.child=q,Ur=l,er=null,q=!0):q=!1}q||Lc(l)}if(U=l.memoizedState,U!==null&&(U=U.dehydrated,U!==null))return U.data==="$!"?l.lanes=16:l.lanes=536870912,null;ma(l)}return U=m.children,m=m.fallback,_?(ll(),_=l.mode,U=Cv({mode:"hidden",children:U},_),m=Yc(m,_,h,null),U.return=l,m.return=l,U.sibling=m,l.child=U,_=l.child,_.memoizedState=Sv(h),_.childLanes=Av(o,M,h),l.memoizedState=xv,m):(al(l),Rv(l,U))}if(q=o.memoizedState,q!==null&&(U=q.dehydrated,U!==null)){if(w)l.flags&256?(al(l),l.flags&=-257,l=Dv(o,l,h)):l.memoizedState!==null?(ll(),l.child=o.child,l.flags|=128,l=null):(ll(),_=m.fallback,U=l.mode,m=Cv({mode:"visible",children:m.children},U),_=Yc(_,U,h,null),_.flags|=2,m.return=l,_.return=l,m.sibling=_,l.child=m,Vc(l,o.child,null,h),m=l.child,m.memoizedState=Sv(h),m.childLanes=Av(o,M,h),l.memoizedState=xv,l=_);else if(al(l),U.data==="$!"){if(M=U.nextSibling&&U.nextSibling.dataset,M)var W=M.dgst;M=W,m=Error(i(419)),m.stack="",m.digest=M,ef({value:m,source:null,stack:null}),l=Dv(o,l,h)}else if($i||ff(o,l,h,!1),M=(h&o.childLanes)!==0,$i||M){if(M=En,M!==null){if(m=h&-h,(m&42)!==0)m=1;else switch(m){case 2:m=1;break;case 8:m=4;break;case 32:m=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:m=64;break;case 268435456:m=134217728;break;default:m=0}if(m=(m&(M.suspendedLanes|h))!==0?0:m,m!==0&&m!==q.retryLane)throw q.retryLane=m,ol(o,m),zr(M,o,m),dS}U.data==="$?"||ib(),l=Dv(o,l,h)}else U.data==="$?"?(l.flags|=128,l.child=o.child,l=DL.bind(null,o),U._reactRetry=l,l=null):(o=q.treeContext,er=Js(U.nextSibling),Ur=l,Ke=!0,Qs=null,Ao=!1,o!==null&&(Os[ks++]=da,Os[ks++]=fa,Os[ks++]=Nc,da=o.id,fa=o.overflow,Nc=l),l=Rv(l,m.children),l.flags|=4096);return l}return _?(ll(),_=m.fallback,U=l.mode,q=o.child,W=q.sibling,m=_l(q,{mode:"hidden",children:m.children}),m.subtreeFlags=q.subtreeFlags&31457280,W!==null?_=_l(W,_):(_=Yc(_,U,h,null),_.flags|=2),_.return=l,m.return=l,m.sibling=_,l.child=m,m=_,_=l.child,U=o.child.memoizedState,U===null?U=Sv(h):(q=U.cachePool,q!==null?(W=Ii._currentValue,q=q.parent!==W?{parent:W,pool:W}:q):q=wx(),U={baseLanes:U.baseLanes|h,cachePool:q}),_.memoizedState=U,_.childLanes=Av(o,M,h),l.memoizedState=xv,m):(al(l),h=o.child,o=h.sibling,h=_l(h,{mode:"visible",children:m.children}),h.return=l,h.sibling=null,o!==null&&(M=l.deletions,M===null?(l.deletions=[o],l.flags|=16):M.push(o)),l.child=h,l.memoizedState=null,h)}function Rv(o,l){return l=Cv({mode:"visible",children:l},o.mode),l.return=o,o.child=l}function Cv(o,l){return GS(o,l,0,null)}function Dv(o,l,h){return Vc(l,o.child,null,h),o=Rv(l,l.pendingProps.children),o.flags|=2,l.memoizedState=null,o}function wS(o,l,h){o.lanes|=l;var m=o.alternate;m!==null&&(m.lanes|=l),kv(o.return,l,h)}function Iv(o,l,h,m,_){var w=o.memoizedState;w===null?o.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:m,tail:h,tailMode:_}:(w.isBackwards=l,w.rendering=null,w.renderingStartTime=0,w.last=m,w.tail=h,w.tailMode=_)}function ES(o,l,h){var m=l.pendingProps,_=m.revealOrder,w=m.tail;if(nr(o,l,m.children,h),m=Di.current,(m&2)!==0)m=m&1|2,l.flags|=128;else{if(o!==null&&(o.flags&128)!==0)t:for(o=l.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&wS(o,h,l);else if(o.tag===19)wS(o,h,l);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===l)break t;for(;o.sibling===null;){if(o.return===null||o.return===l)break t;o=o.return}o.sibling.return=o.return,o=o.sibling}m&=1}switch(Wt(Di,m),_){case"forwards":for(h=l.child,_=null;h!==null;)o=h.alternate,o!==null&&np(o)===null&&(_=h),h=h.sibling;h=_,h===null?(_=l.child,l.child=null):(_=h.sibling,h.sibling=null),Iv(l,!1,_,h,w);break;case"backwards":for(h=null,_=l.child,l.child=null;_!==null;){if(o=_.alternate,o!==null&&np(o)===null){l.child=_;break}o=_.sibling,_.sibling=h,h=_,_=o}Iv(l,!0,h,null,w);break;case"together":Iv(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function pa(o,l,h){if(o!==null&&(l.dependencies=o.dependencies),vl|=l.lanes,(h&l.childLanes)===0)if(o!==null){if(ff(o,l,h,!1),(h&l.childLanes)===0)return null}else return null;if(o!==null&&l.child!==o.child)throw Error(i(153));if(l.child!==null){for(o=l.child,h=_l(o,o.pendingProps),l.child=h,h.return=l;o.sibling!==null;)o=o.sibling,h=h.sibling=_l(o,o.pendingProps),h.return=l;h.sibling=null}return l.child}function Mv(o,l){return(o.lanes&l)!==0?!0:(o=o.dependencies,!!(o!==null&&mp(o)))}function gL(o,l,h){switch(l.tag){case 3:Jn(l,l.stateNode.containerInfo),hl(l,Ii,o.memoizedState.cache),tf();break;case 27:case 5:ti(l);break;case 4:Jn(l,l.stateNode.containerInfo);break;case 10:hl(l,l.type,l.memoizedProps.value);break;case 13:var m=l.memoizedState;if(m!==null)return m.dehydrated!==null?(al(l),l.flags|=128,null):(h&l.child.childLanes)!==0?TS(o,l,h):(al(l),o=pa(o,l,h),o!==null?o.sibling:null);al(l);break;case 19:var _=(o.flags&128)!==0;if(m=(h&l.childLanes)!==0,m||(ff(o,l,h,!1),m=(h&l.childLanes)!==0),_){if(m)return ES(o,l,h);l.flags|=128}if(_=l.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),Wt(Di,Di.current),m)break;return null;case 22:case 23:return l.lanes=0,pS(o,l,h);case 24:hl(l,Ii,o.memoizedState.cache)}return pa(o,l,h)}function xS(o,l,h){if(o!==null)if(o.memoizedProps!==l.pendingProps)$i=!0;else{if(!Mv(o,h)&&(l.flags&128)===0)return $i=!1,gL(o,l,h);$i=(o.flags&131072)!==0}else $i=!1,Ke&&(l.flags&1048576)!==0&&lx(l,Qg,l.index);switch(l.lanes=0,l.tag){case 16:t:{o=l.pendingProps;var m=l.elementType,_=m._init;if(m=_(m._payload),l.type=m,typeof m=="function")qv(m)?(o=jc(m,o),l.tag=1,l=vS(null,l,m,o,h)):(l.tag=0,l=Ev(null,l,m,o,h));else{if(m!=null){if(_=m.$$typeof,_===E){l.tag=11,l=fS(null,l,m,o,h);break t}else if(_===R){l.tag=14,l=mS(null,l,m,o,h);break t}}throw l=D(m)||m,Error(i(306,l,""))}}return l;case 0:return Ev(o,l,l.type,l.pendingProps,h);case 1:return m=l.type,_=jc(m,l.pendingProps),vS(o,l,m,_,h);case 3:t:{if(Jn(l,l.stateNode.containerInfo),o===null)throw Error(i(387));var w=l.pendingProps;_=l.memoizedState,m=_.element,Lv(o,l),pf(l,w,null,h);var M=l.memoizedState;if(w=M.cache,hl(l,Ii,w),w!==_.cache&&Nv(l,[Ii],h,!0),gf(),w=M.element,_.isDehydrated)if(_={element:w,isDehydrated:!1,cache:M.cache},l.updateQueue.baseState=_,l.memoizedState=_,l.flags&256){l=bS(o,l,w,h);break t}else if(w!==m){m=Ms(Error(i(424)),l),ef(m),l=bS(o,l,w,h);break t}else for(er=Js(l.stateNode.containerInfo.firstChild),Ur=l,Ke=!0,Qs=null,Ao=!0,h=yx(l,null,w,h),l.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(tf(),w===m){l=pa(o,l,h);break t}nr(o,l,w,h)}l=l.child}return l;case 26:return df(o,l),o===null?(h=RA(l.type,null,l.pendingProps,null))?l.memoizedState=h:Ke||(h=l.type,o=l.pendingProps,m=Ip(ge.current).createElement(h),m[Lt]=l,m[Kt]=o,ir(m,h,o),Ze(m),l.stateNode=m):l.memoizedState=RA(l.type,o.memoizedProps,l.pendingProps,o.memoizedState),null;case 27:return ti(l),o===null&&Ke&&(m=l.stateNode=xA(l.type,l.pendingProps,ge.current),Ur=l,Ao=!0,er=Js(m.firstChild)),m=l.pendingProps.children,o!==null||Ke?nr(o,l,m,h):l.child=Vc(l,null,m,h),df(o,l),l.child;case 5:return o===null&&Ke&&((_=m=er)&&(m=qL(m,l.type,l.pendingProps,Ao),m!==null?(l.stateNode=m,Ur=l,er=Js(m.firstChild),Ao=!1,_=!0):_=!1),_||Lc(l)),ti(l),_=l.type,w=l.pendingProps,M=o!==null?o.memoizedProps:null,m=w.children,yb(_,w)?m=null:M!==null&&yb(_,M)&&(l.flags|=32),l.memoizedState!==null&&(_=sv(o,l,lL,null,null,h),Mf._currentValue=_),df(o,l),nr(o,l,m,h),l.child;case 6:return o===null&&Ke&&((o=h=er)&&(h=YL(h,l.pendingProps,Ao),h!==null?(l.stateNode=h,Ur=l,er=null,o=!0):o=!1),o||Lc(l)),null;case 13:return TS(o,l,h);case 4:return Jn(l,l.stateNode.containerInfo),m=l.pendingProps,o===null?l.child=Vc(l,null,m,h):nr(o,l,m,h),l.child;case 11:return fS(o,l,l.type,l.pendingProps,h);case 7:return nr(o,l,l.pendingProps,h),l.child;case 8:return nr(o,l,l.pendingProps.children,h),l.child;case 12:return nr(o,l,l.pendingProps.children,h),l.child;case 10:return m=l.pendingProps,hl(l,l.type,m.value),nr(o,l,m.children,h),l.child;case 9:return _=l.type._context,m=l.pendingProps.children,Hc(l),_=Tr(_),m=m(_),l.flags|=1,nr(o,l,m,h),l.child;case 14:return mS(o,l,l.type,l.pendingProps,h);case 15:return gS(o,l,l.type,l.pendingProps,h);case 19:return ES(o,l,h);case 22:return pS(o,l,h);case 24:return Hc(l),m=Tr(Ii),o===null?(_=iv(),_===null&&(_=En,w=ev(),_.pooledCache=w,w.refCount++,w!==null&&(_.pooledCacheLanes|=h),_=w),l.memoizedState={parent:m,cache:_},Pv(l),hl(l,Ii,_)):((o.lanes&h)!==0&&(Lv(o,l),pf(l,null,null,h),gf()),_=o.memoizedState,w=l.memoizedState,_.parent!==m?(_={parent:m,cache:m},l.memoizedState=_,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=_),hl(l,Ii,m)):(m=w.cache,hl(l,Ii,m),m!==_.cache&&Nv(l,[Ii],h,!0))),nr(o,l,l.pendingProps.children,h),l.child;case 29:throw l.pendingProps}throw Error(i(156,l.tag))}var Ov=ce(null),$c=null,ya=null;function hl(o,l,h){Wt(Ov,l._currentValue),l._currentValue=h}function _a(o){o._currentValue=Ov.current,Gt(Ov)}function kv(o,l,h){for(;o!==null;){var m=o.alternate;if((o.childLanes&l)!==l?(o.childLanes|=l,m!==null&&(m.childLanes|=l)):m!==null&&(m.childLanes&l)!==l&&(m.childLanes|=l),o===h)break;o=o.return}}function Nv(o,l,h,m){var _=o.child;for(_!==null&&(_.return=o);_!==null;){var w=_.dependencies;if(w!==null){var M=_.child;w=w.firstContext;t:for(;w!==null;){var U=w;w=_;for(var q=0;q<l.length;q++)if(U.context===l[q]){w.lanes|=h,U=w.alternate,U!==null&&(U.lanes|=h),kv(w.return,h,o),m||(M=null);break t}w=U.next}}else if(_.tag===18){if(M=_.return,M===null)throw Error(i(341));M.lanes|=h,w=M.alternate,w!==null&&(w.lanes|=h),kv(M,h,o),M=null}else M=_.child;if(M!==null)M.return=_;else for(M=_;M!==null;){if(M===o){M=null;break}if(_=M.sibling,_!==null){_.return=M.return,M=_;break}M=M.return}_=M}}function ff(o,l,h,m){o=null;for(var _=l,w=!1;_!==null;){if(!w){if((_.flags&524288)!==0)w=!0;else if((_.flags&262144)!==0)break}if(_.tag===10){var M=_.alternate;if(M===null)throw Error(i(387));if(M=M.memoizedProps,M!==null){var U=_.type;ls(_.pendingProps.value,M.value)||(o!==null?o.push(U):o=[U])}}else if(_===Nn.current){if(M=_.alternate,M===null)throw Error(i(387));M.memoizedState.memoizedState!==_.memoizedState.memoizedState&&(o!==null?o.push(Mf):o=[Mf])}_=_.return}o!==null&&Nv(l,o,h,m),l.flags|=262144}function mp(o){for(o=o.firstContext;o!==null;){if(!ls(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function Hc(o){$c=o,ya=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function Tr(o){return SS($c,o)}function gp(o,l){return $c===null&&Hc(o),SS(o,l)}function SS(o,l){var h=l._currentValue;if(l={context:l,memoizedValue:h,next:null},ya===null){if(o===null)throw Error(i(308));ya=l,o.dependencies={lanes:0,firstContext:l},o.flags|=524288}else ya=ya.next=l;return h}var dl=!1;function Pv(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Lv(o,l){o=o.updateQueue,l.updateQueue===o&&(l.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function fl(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function ml(o,l,h){var m=o.updateQueue;if(m===null)return null;if(m=m.shared,(Wn&2)!==0){var _=m.pending;return _===null?l.next=l:(l.next=_.next,_.next=l),m.pending=l,l=Kg(o),ox(o,null,h),l}return Wg(o,m,l,h),Kg(o)}function mf(o,l,h){if(l=l.updateQueue,l!==null&&(l=l.shared,(h&4194176)!==0)){var m=l.lanes;m&=o.pendingLanes,h|=m,l.lanes=h,$t(o,h)}}function Vv(o,l){var h=o.updateQueue,m=o.alternate;if(m!==null&&(m=m.updateQueue,h===m)){var _=null,w=null;if(h=h.firstBaseUpdate,h!==null){do{var M={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};w===null?_=w=M:w=w.next=M,h=h.next}while(h!==null);w===null?_=w=l:w=w.next=l}else _=w=l;h={baseState:m.baseState,firstBaseUpdate:_,lastBaseUpdate:w,shared:m.shared,callbacks:m.callbacks},o.updateQueue=h;return}o=h.lastBaseUpdate,o===null?h.firstBaseUpdate=l:o.next=l,h.lastBaseUpdate=l}var Uv=!1;function gf(){if(Uv){var o=ah;if(o!==null)throw o}}function pf(o,l,h,m){Uv=!1;var _=o.updateQueue;dl=!1;var w=_.firstBaseUpdate,M=_.lastBaseUpdate,U=_.shared.pending;if(U!==null){_.shared.pending=null;var q=U,W=q.next;q.next=null,M===null?w=W:M.next=W,M=q;var ut=o.alternate;ut!==null&&(ut=ut.updateQueue,U=ut.lastBaseUpdate,U!==M&&(U===null?ut.firstBaseUpdate=W:U.next=W,ut.lastBaseUpdate=q))}if(w!==null){var _t=_.baseState;M=0,ut=W=q=null,U=w;do{var it=U.lane&-536870913,ct=it!==U.lane;if(ct?(Be&it)===it:(m&it)===it){it!==0&&it===oh&&(Uv=!0),ut!==null&&(ut=ut.next={lane:0,tag:U.tag,payload:U.payload,callback:null,next:null});t:{var jt=o,he=U;it=l;var si=h;switch(he.tag){case 1:if(jt=he.payload,typeof jt=="function"){_t=jt.call(si,_t,it);break t}_t=jt;break t;case 3:jt.flags=jt.flags&-65537|128;case 0:if(jt=he.payload,it=typeof jt=="function"?jt.call(si,_t,it):jt,it==null)break t;_t=V({},_t,it);break t;case 2:dl=!0}}it=U.callback,it!==null&&(o.flags|=64,ct&&(o.flags|=8192),ct=_.callbacks,ct===null?_.callbacks=[it]:ct.push(it))}else ct={lane:it,tag:U.tag,payload:U.payload,callback:U.callback,next:null},ut===null?(W=ut=ct,q=_t):ut=ut.next=ct,M|=it;if(U=U.next,U===null){if(U=_.shared.pending,U===null)break;ct=U,U=ct.next,ct.next=null,_.lastBaseUpdate=ct,_.shared.pending=null}}while(!0);ut===null&&(q=_t),_.baseState=q,_.firstBaseUpdate=W,_.lastBaseUpdate=ut,w===null&&(_.shared.lanes=0),vl|=M,o.lanes=M,o.memoizedState=_t}}function AS(o,l){if(typeof o!="function")throw Error(i(191,o));o.call(l)}function RS(o,l){var h=o.callbacks;if(h!==null)for(o.callbacks=null,o=0;o<h.length;o++)AS(h[o],l)}function yf(o,l){try{var h=l.updateQueue,m=h!==null?h.lastEffect:null;if(m!==null){var _=m.next;h=_;do{if((h.tag&o)===o){m=void 0;var w=h.create,M=h.inst;m=w(),M.destroy=m}h=h.next}while(h!==_)}}catch(U){_n(l,l.return,U)}}function gl(o,l,h){try{var m=l.updateQueue,_=m!==null?m.lastEffect:null;if(_!==null){var w=_.next;m=w;do{if((m.tag&o)===o){var M=m.inst,U=M.destroy;if(U!==void 0){M.destroy=void 0,_=l;var q=h;try{U()}catch(W){_n(_,q,W)}}}m=m.next}while(m!==w)}}catch(W){_n(l,l.return,W)}}function CS(o){var l=o.updateQueue;if(l!==null){var h=o.stateNode;try{RS(l,h)}catch(m){_n(o,o.return,m)}}}function DS(o,l,h){h.props=jc(o.type,o.memoizedProps),h.state=o.memoizedState;try{h.componentWillUnmount()}catch(m){_n(o,l,m)}}function qc(o,l){try{var h=o.ref;if(h!==null){var m=o.stateNode;switch(o.tag){case 26:case 27:case 5:var _=m;break;default:_=m}typeof h=="function"?o.refCleanup=h(_):h.current=_}}catch(w){_n(o,l,w)}}function cs(o,l){var h=o.ref,m=o.refCleanup;if(h!==null)if(typeof m=="function")try{m()}catch(_){_n(o,l,_)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(_){_n(o,l,_)}else h.current=null}function IS(o){var l=o.type,h=o.memoizedProps,m=o.stateNode;try{t:switch(l){case"button":case"input":case"select":case"textarea":h.autoFocus&&m.focus();break t;case"img":h.src?m.src=h.src:h.srcSet&&(m.srcset=h.srcSet)}}catch(_){_n(o,o.return,_)}}function MS(o,l,h){try{var m=o.stateNode;FL(m,o.type,h,l),m[Kt]=l}catch(_){_n(o,o.return,_)}}function OS(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27||o.tag===4}function zv(o){t:for(;;){for(;o.sibling===null;){if(o.return===null||OS(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==27&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue t;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Fv(o,l,h){var m=o.tag;if(m===5||m===6)o=o.stateNode,l?h.nodeType===8?h.parentNode.insertBefore(o,l):h.insertBefore(o,l):(h.nodeType===8?(l=h.parentNode,l.insertBefore(o,h)):(l=h,l.appendChild(o)),h=h._reactRootContainer,h!=null||l.onclick!==null||(l.onclick=Dp));else if(m!==4&&m!==27&&(o=o.child,o!==null))for(Fv(o,l,h),o=o.sibling;o!==null;)Fv(o,l,h),o=o.sibling}function pp(o,l,h){var m=o.tag;if(m===5||m===6)o=o.stateNode,l?h.insertBefore(o,l):h.appendChild(o);else if(m!==4&&m!==27&&(o=o.child,o!==null))for(pp(o,l,h),o=o.sibling;o!==null;)pp(o,l,h),o=o.sibling}var va=!1,ii=!1,Bv=!1,kS=typeof WeakSet=="function"?WeakSet:Set,Hi=null,NS=!1;function pL(o,l){if(o=o.containerInfo,gb=Lp,o=Q1(o),$_(o)){if("selectionStart"in o)var h={start:o.selectionStart,end:o.selectionEnd};else t:{h=(h=o.ownerDocument)&&h.defaultView||window;var m=h.getSelection&&h.getSelection();if(m&&m.rangeCount!==0){h=m.anchorNode;var _=m.anchorOffset,w=m.focusNode;m=m.focusOffset;try{h.nodeType,w.nodeType}catch{h=null;break t}var M=0,U=-1,q=-1,W=0,ut=0,_t=o,it=null;e:for(;;){for(var ct;_t!==h||_!==0&&_t.nodeType!==3||(U=M+_),_t!==w||m!==0&&_t.nodeType!==3||(q=M+m),_t.nodeType===3&&(M+=_t.nodeValue.length),(ct=_t.firstChild)!==null;)it=_t,_t=ct;for(;;){if(_t===o)break e;if(it===h&&++W===_&&(U=M),it===w&&++ut===m&&(q=M),(ct=_t.nextSibling)!==null)break;_t=it,it=_t.parentNode}_t=ct}h=U===-1||q===-1?null:{start:U,end:q}}else h=null}h=h||{start:0,end:0}}else h=null;for(pb={focusedElem:o,selectionRange:h},Lp=!1,Hi=l;Hi!==null;)if(l=Hi,o=l.child,(l.subtreeFlags&1028)!==0&&o!==null)o.return=l,Hi=o;else for(;Hi!==null;){switch(l=Hi,w=l.alternate,o=l.flags,l.tag){case 0:break;case 11:case 15:break;case 1:if((o&1024)!==0&&w!==null){o=void 0,h=l,_=w.memoizedProps,w=w.memoizedState,m=h.stateNode;try{var jt=jc(h.type,_,h.elementType===h.type);o=m.getSnapshotBeforeUpdate(jt,w),m.__reactInternalSnapshotBeforeUpdate=o}catch(he){_n(h,h.return,he)}}break;case 3:if((o&1024)!==0){if(o=l.stateNode.containerInfo,h=o.nodeType,h===9)bb(o);else if(h===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":bb(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(i(163))}if(o=l.sibling,o!==null){o.return=l.return,Hi=o;break}Hi=l.return}return jt=NS,NS=!1,jt}function PS(o,l,h){var m=h.flags;switch(h.tag){case 0:case 11:case 15:Ta(o,h),m&4&&yf(5,h);break;case 1:if(Ta(o,h),m&4)if(o=h.stateNode,l===null)try{o.componentDidMount()}catch(U){_n(h,h.return,U)}else{var _=jc(h.type,l.memoizedProps);l=l.memoizedState;try{o.componentDidUpdate(_,l,o.__reactInternalSnapshotBeforeUpdate)}catch(U){_n(h,h.return,U)}}m&64&&CS(h),m&512&&qc(h,h.return);break;case 3:if(Ta(o,h),m&64&&(m=h.updateQueue,m!==null)){if(o=null,h.child!==null)switch(h.child.tag){case 27:case 5:o=h.child.stateNode;break;case 1:o=h.child.stateNode}try{RS(m,o)}catch(U){_n(h,h.return,U)}}break;case 26:Ta(o,h),m&512&&qc(h,h.return);break;case 27:case 5:Ta(o,h),l===null&&m&4&&IS(h),m&512&&qc(h,h.return);break;case 12:Ta(o,h);break;case 13:Ta(o,h),m&4&&US(o,h);break;case 22:if(_=h.memoizedState!==null||va,!_){l=l!==null&&l.memoizedState!==null||ii;var w=va,M=ii;va=_,(ii=l)&&!M?pl(o,h,(h.subtreeFlags&8772)!==0):Ta(o,h),va=w,ii=M}m&512&&(h.memoizedProps.mode==="manual"?qc(h,h.return):cs(h,h.return));break;default:Ta(o,h)}}function LS(o){var l=o.alternate;l!==null&&(o.alternate=null,LS(l)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(l=o.stateNode,l!==null&&as(l)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var Ti=null,us=!1;function ba(o,l,h){for(h=h.child;h!==null;)VS(o,l,h),h=h.sibling}function VS(o,l,h){if(ei&&typeof ei.onCommitFiberUnmount=="function")try{ei.onCommitFiberUnmount(Fn,h)}catch{}switch(h.tag){case 26:ii||cs(h,l),ba(o,l,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:ii||cs(h,l);var m=Ti,_=us;for(Ti=h.stateNode,ba(o,l,h),h=h.stateNode,l=h.attributes;l.length;)h.removeAttributeNode(l[0]);as(h),Ti=m,us=_;break;case 5:ii||cs(h,l);case 6:_=Ti;var w=us;if(Ti=null,ba(o,l,h),Ti=_,us=w,Ti!==null)if(us)try{o=Ti,m=h.stateNode,o.nodeType===8?o.parentNode.removeChild(m):o.removeChild(m)}catch(M){_n(h,l,M)}else try{Ti.removeChild(h.stateNode)}catch(M){_n(h,l,M)}break;case 18:Ti!==null&&(us?(l=Ti,h=h.stateNode,l.nodeType===8?vb(l.parentNode,h):l.nodeType===1&&vb(l,h),Pf(l)):vb(Ti,h.stateNode));break;case 4:m=Ti,_=us,Ti=h.stateNode.containerInfo,us=!0,ba(o,l,h),Ti=m,us=_;break;case 0:case 11:case 14:case 15:ii||gl(2,h,l),ii||gl(4,h,l),ba(o,l,h);break;case 1:ii||(cs(h,l),m=h.stateNode,typeof m.componentWillUnmount=="function"&&DS(h,l,m)),ba(o,l,h);break;case 21:ba(o,l,h);break;case 22:ii||cs(h,l),ii=(m=ii)||h.memoizedState!==null,ba(o,l,h),ii=m;break;default:ba(o,l,h)}}function US(o,l){if(l.memoizedState===null&&(o=l.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{Pf(o)}catch(h){_n(l,l.return,h)}}function yL(o){switch(o.tag){case 13:case 19:var l=o.stateNode;return l===null&&(l=o.stateNode=new kS),l;case 22:return o=o.stateNode,l=o._retryCache,l===null&&(l=o._retryCache=new kS),l;default:throw Error(i(435,o.tag))}}function jv(o,l){var h=yL(o);l.forEach(function(m){var _=IL.bind(null,o,m);h.has(m)||(h.add(m),m.then(_,_))})}function Ps(o,l){var h=l.deletions;if(h!==null)for(var m=0;m<h.length;m++){var _=h[m],w=o,M=l,U=M;t:for(;U!==null;){switch(U.tag){case 27:case 5:Ti=U.stateNode,us=!1;break t;case 3:Ti=U.stateNode.containerInfo,us=!0;break t;case 4:Ti=U.stateNode.containerInfo,us=!0;break t}U=U.return}if(Ti===null)throw Error(i(160));VS(w,M,_),Ti=null,us=!1,w=_.alternate,w!==null&&(w.return=null),_.return=null}if(l.subtreeFlags&13878)for(l=l.child;l!==null;)zS(l,o),l=l.sibling}var Zs=null;function zS(o,l){var h=o.alternate,m=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:Ps(l,o),Ls(o),m&4&&(gl(3,o,o.return),yf(3,o),gl(5,o,o.return));break;case 1:Ps(l,o),Ls(o),m&512&&(ii||h===null||cs(h,h.return)),m&64&&va&&(o=o.updateQueue,o!==null&&(m=o.callbacks,m!==null&&(h=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=h===null?m:h.concat(m))));break;case 26:var _=Zs;if(Ps(l,o),Ls(o),m&512&&(ii||h===null||cs(h,h.return)),m&4){var w=h!==null?h.memoizedState:null;if(m=o.memoizedState,h===null)if(m===null)if(o.stateNode===null){t:{m=o.type,h=o.memoizedProps,_=_.ownerDocument||_;e:switch(m){case"title":w=_.getElementsByTagName("title")[0],(!w||w[Pr]||w[Lt]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=_.createElement(m),_.head.insertBefore(w,_.querySelector("head > title"))),ir(w,m,h),w[Lt]=o,Ze(w),m=w;break t;case"link":var M=IA("link","href",_).get(m+(h.href||""));if(M){for(var U=0;U<M.length;U++)if(w=M[U],w.getAttribute("href")===(h.href==null?null:h.href)&&w.getAttribute("rel")===(h.rel==null?null:h.rel)&&w.getAttribute("title")===(h.title==null?null:h.title)&&w.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){M.splice(U,1);break e}}w=_.createElement(m),ir(w,m,h),_.head.appendChild(w);break;case"meta":if(M=IA("meta","content",_).get(m+(h.content||""))){for(U=0;U<M.length;U++)if(w=M[U],w.getAttribute("content")===(h.content==null?null:""+h.content)&&w.getAttribute("name")===(h.name==null?null:h.name)&&w.getAttribute("property")===(h.property==null?null:h.property)&&w.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&w.getAttribute("charset")===(h.charSet==null?null:h.charSet)){M.splice(U,1);break e}}w=_.createElement(m),ir(w,m,h),_.head.appendChild(w);break;default:throw Error(i(468,m))}w[Lt]=o,Ze(w),m=w}o.stateNode=m}else MA(_,o.type,o.stateNode);else o.stateNode=DA(_,m,o.memoizedProps);else w!==m?(w===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):w.count--,m===null?MA(_,o.type,o.stateNode):DA(_,m,o.memoizedProps)):m===null&&o.stateNode!==null&&MS(o,o.memoizedProps,h.memoizedProps)}break;case 27:if(m&4&&o.alternate===null){_=o.stateNode,w=o.memoizedProps;try{for(var q=_.firstChild;q;){var W=q.nextSibling,ut=q.nodeName;q[Pr]||ut==="HEAD"||ut==="BODY"||ut==="SCRIPT"||ut==="STYLE"||ut==="LINK"&&q.rel.toLowerCase()==="stylesheet"||_.removeChild(q),q=W}for(var _t=o.type,it=_.attributes;it.length;)_.removeAttributeNode(it[0]);ir(_,_t,w),_[Lt]=o,_[Kt]=w}catch(jt){_n(o,o.return,jt)}}case 5:if(Ps(l,o),Ls(o),m&512&&(ii||h===null||cs(h,h.return)),o.flags&32){_=o.stateNode;try{As(_,"")}catch(jt){_n(o,o.return,jt)}}m&4&&o.stateNode!=null&&(_=o.memoizedProps,MS(o,_,h!==null?h.memoizedProps:_)),m&1024&&(Bv=!0);break;case 6:if(Ps(l,o),Ls(o),m&4){if(o.stateNode===null)throw Error(i(162));m=o.memoizedProps,h=o.stateNode;try{h.nodeValue=m}catch(jt){_n(o,o.return,jt)}}break;case 3:if(kp=null,_=Zs,Zs=Mp(l.containerInfo),Ps(l,o),Zs=_,Ls(o),m&4&&h!==null&&h.memoizedState.isDehydrated)try{Pf(l.containerInfo)}catch(jt){_n(o,o.return,jt)}Bv&&(Bv=!1,FS(o));break;case 4:m=Zs,Zs=Mp(o.stateNode.containerInfo),Ps(l,o),Ls(o),Zs=m;break;case 12:Ps(l,o),Ls(o);break;case 13:Ps(l,o),Ls(o),o.child.flags&8192&&o.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(Qv=on()),m&4&&(m=o.updateQueue,m!==null&&(o.updateQueue=null,jv(o,m)));break;case 22:if(m&512&&(ii||h===null||cs(h,h.return)),q=o.memoizedState!==null,W=h!==null&&h.memoizedState!==null,ut=va,_t=ii,va=ut||q,ii=_t||W,Ps(l,o),ii=_t,va=ut,Ls(o),l=o.stateNode,l._current=o,l._visibility&=-3,l._visibility|=l._pendingVisibility&2,m&8192&&(l._visibility=q?l._visibility&-2:l._visibility|1,q&&(l=va||ii,h===null||W||l||hh(o)),o.memoizedProps===null||o.memoizedProps.mode!=="manual"))t:for(h=null,l=o;;){if(l.tag===5||l.tag===26||l.tag===27){if(h===null){W=h=l;try{if(_=W.stateNode,q)w=_.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{M=W.stateNode,U=W.memoizedProps.style;var ct=U!=null&&U.hasOwnProperty("display")?U.display:null;M.style.display=ct==null||typeof ct=="boolean"?"":(""+ct).trim()}}catch(jt){_n(W,W.return,jt)}}}else if(l.tag===6){if(h===null){W=l;try{W.stateNode.nodeValue=q?"":W.memoizedProps}catch(jt){_n(W,W.return,jt)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===o)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break t;for(;l.sibling===null;){if(l.return===null||l.return===o)break t;h===l&&(h=null),l=l.return}h===l&&(h=null),l.sibling.return=l.return,l=l.sibling}m&4&&(m=o.updateQueue,m!==null&&(h=m.retryQueue,h!==null&&(m.retryQueue=null,jv(o,h))));break;case 19:Ps(l,o),Ls(o),m&4&&(m=o.updateQueue,m!==null&&(o.updateQueue=null,jv(o,m)));break;case 21:break;default:Ps(l,o),Ls(o)}}function Ls(o){var l=o.flags;if(l&2){try{if(o.tag!==27){t:{for(var h=o.return;h!==null;){if(OS(h)){var m=h;break t}h=h.return}throw Error(i(160))}switch(m.tag){case 27:var _=m.stateNode,w=zv(o);pp(o,w,_);break;case 5:var M=m.stateNode;m.flags&32&&(As(M,""),m.flags&=-33);var U=zv(o);pp(o,U,M);break;case 3:case 4:var q=m.stateNode.containerInfo,W=zv(o);Fv(o,W,q);break;default:throw Error(i(161))}}}catch(ut){_n(o,o.return,ut)}o.flags&=-3}l&4096&&(o.flags&=-4097)}function FS(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var l=o;FS(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),o=o.sibling}}function Ta(o,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)PS(o,l.alternate,l),l=l.sibling}function hh(o){for(o=o.child;o!==null;){var l=o;switch(l.tag){case 0:case 11:case 14:case 15:gl(4,l,l.return),hh(l);break;case 1:cs(l,l.return);var h=l.stateNode;typeof h.componentWillUnmount=="function"&&DS(l,l.return,h),hh(l);break;case 26:case 27:case 5:cs(l,l.return),hh(l);break;case 22:cs(l,l.return),l.memoizedState===null&&hh(l);break;default:hh(l)}o=o.sibling}}function pl(o,l,h){for(h=h&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var m=l.alternate,_=o,w=l,M=w.flags;switch(w.tag){case 0:case 11:case 15:pl(_,w,h),yf(4,w);break;case 1:if(pl(_,w,h),m=w,_=m.stateNode,typeof _.componentDidMount=="function")try{_.componentDidMount()}catch(W){_n(m,m.return,W)}if(m=w,_=m.updateQueue,_!==null){var U=m.stateNode;try{var q=_.shared.hiddenCallbacks;if(q!==null)for(_.shared.hiddenCallbacks=null,_=0;_<q.length;_++)AS(q[_],U)}catch(W){_n(m,m.return,W)}}h&&M&64&&CS(w),qc(w,w.return);break;case 26:case 27:case 5:pl(_,w,h),h&&m===null&&M&4&&IS(w),qc(w,w.return);break;case 12:pl(_,w,h);break;case 13:pl(_,w,h),h&&M&4&&US(_,w);break;case 22:w.memoizedState===null&&pl(_,w,h),qc(w,w.return);break;default:pl(_,w,h)}l=l.sibling}}function $v(o,l){var h=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),o=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(o=l.memoizedState.cachePool.pool),o!==h&&(o!=null&&o.refCount++,h!=null&&af(h))}function Hv(o,l){o=null,l.alternate!==null&&(o=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==o&&(l.refCount++,o!=null&&af(o))}function yl(o,l,h,m){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)BS(o,l,h,m),l=l.sibling}function BS(o,l,h,m){var _=l.flags;switch(l.tag){case 0:case 11:case 15:yl(o,l,h,m),_&2048&&yf(9,l);break;case 3:yl(o,l,h,m),_&2048&&(o=null,l.alternate!==null&&(o=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==o&&(l.refCount++,o!=null&&af(o)));break;case 12:if(_&2048){yl(o,l,h,m),o=l.stateNode;try{var w=l.memoizedProps,M=w.id,U=w.onPostCommit;typeof U=="function"&&U(M,l.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(q){_n(l,l.return,q)}}else yl(o,l,h,m);break;case 23:break;case 22:w=l.stateNode,l.memoizedState!==null?w._visibility&4?yl(o,l,h,m):_f(o,l):w._visibility&4?yl(o,l,h,m):(w._visibility|=4,dh(o,l,h,m,(l.subtreeFlags&10256)!==0)),_&2048&&$v(l.alternate,l);break;case 24:yl(o,l,h,m),_&2048&&Hv(l.alternate,l);break;default:yl(o,l,h,m)}}function dh(o,l,h,m,_){for(_=_&&(l.subtreeFlags&10256)!==0,l=l.child;l!==null;){var w=o,M=l,U=h,q=m,W=M.flags;switch(M.tag){case 0:case 11:case 15:dh(w,M,U,q,_),yf(8,M);break;case 23:break;case 22:var ut=M.stateNode;M.memoizedState!==null?ut._visibility&4?dh(w,M,U,q,_):_f(w,M):(ut._visibility|=4,dh(w,M,U,q,_)),_&&W&2048&&$v(M.alternate,M);break;case 24:dh(w,M,U,q,_),_&&W&2048&&Hv(M.alternate,M);break;default:dh(w,M,U,q,_)}l=l.sibling}}function _f(o,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var h=o,m=l,_=m.flags;switch(m.tag){case 22:_f(h,m),_&2048&&$v(m.alternate,m);break;case 24:_f(h,m),_&2048&&Hv(m.alternate,m);break;default:_f(h,m)}l=l.sibling}}var vf=8192;function fh(o){if(o.subtreeFlags&vf)for(o=o.child;o!==null;)jS(o),o=o.sibling}function jS(o){switch(o.tag){case 26:fh(o),o.flags&vf&&o.memoizedState!==null&&sV(Zs,o.memoizedState,o.memoizedProps);break;case 5:fh(o);break;case 3:case 4:var l=Zs;Zs=Mp(o.stateNode.containerInfo),fh(o),Zs=l;break;case 22:o.memoizedState===null&&(l=o.alternate,l!==null&&l.memoizedState!==null?(l=vf,vf=16777216,fh(o),vf=l):fh(o));break;default:fh(o)}}function $S(o){var l=o.alternate;if(l!==null&&(o=l.child,o!==null)){l.child=null;do l=o.sibling,o.sibling=null,o=l;while(o!==null)}}function bf(o){var l=o.deletions;if((o.flags&16)!==0){if(l!==null)for(var h=0;h<l.length;h++){var m=l[h];Hi=m,qS(m,o)}$S(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)HS(o),o=o.sibling}function HS(o){switch(o.tag){case 0:case 11:case 15:bf(o),o.flags&2048&&gl(9,o,o.return);break;case 3:bf(o);break;case 12:bf(o);break;case 22:var l=o.stateNode;o.memoizedState!==null&&l._visibility&4&&(o.return===null||o.return.tag!==13)?(l._visibility&=-5,yp(o)):bf(o);break;default:bf(o)}}function yp(o){var l=o.deletions;if((o.flags&16)!==0){if(l!==null)for(var h=0;h<l.length;h++){var m=l[h];Hi=m,qS(m,o)}$S(o)}for(o=o.child;o!==null;){switch(l=o,l.tag){case 0:case 11:case 15:gl(8,l,l.return),yp(l);break;case 22:h=l.stateNode,h._visibility&4&&(h._visibility&=-5,yp(l));break;default:yp(l)}o=o.sibling}}function qS(o,l){for(;Hi!==null;){var h=Hi;switch(h.tag){case 0:case 11:case 15:gl(8,h,l);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var m=h.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:af(h.memoizedState.cache)}if(m=h.child,m!==null)m.return=h,Hi=m;else t:for(h=o;Hi!==null;){m=Hi;var _=m.sibling,w=m.return;if(LS(m),m===h){Hi=null;break t}if(_!==null){_.return=w,Hi=_;break t}Hi=w}}}function _L(o,l,h,m){this.tag=o,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vs(o,l,h,m){return new _L(o,l,h,m)}function qv(o){return o=o.prototype,!(!o||!o.isReactComponent)}function _l(o,l){var h=o.alternate;return h===null?(h=Vs(o.tag,l,o.key,o.mode),h.elementType=o.elementType,h.type=o.type,h.stateNode=o.stateNode,h.alternate=o,o.alternate=h):(h.pendingProps=l,h.type=o.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=o.flags&31457280,h.childLanes=o.childLanes,h.lanes=o.lanes,h.child=o.child,h.memoizedProps=o.memoizedProps,h.memoizedState=o.memoizedState,h.updateQueue=o.updateQueue,l=o.dependencies,h.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},h.sibling=o.sibling,h.index=o.index,h.ref=o.ref,h.refCleanup=o.refCleanup,h}function YS(o,l){o.flags&=31457282;var h=o.alternate;return h===null?(o.childLanes=0,o.lanes=l,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=h.childLanes,o.lanes=h.lanes,o.child=h.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=h.memoizedProps,o.memoizedState=h.memoizedState,o.updateQueue=h.updateQueue,o.type=h.type,l=h.dependencies,o.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),o}function _p(o,l,h,m,_,w){var M=0;if(m=o,typeof o=="function")qv(o)&&(M=1);else if(typeof o=="string")M=iV(o,h,Ye.current)?26:o==="html"||o==="head"||o==="body"?27:5;else t:switch(o){case u:return Yc(h.children,_,w,l);case d:M=8,_|=24;break;case f:return o=Vs(12,h,l,_|2),o.elementType=f,o.lanes=w,o;case x:return o=Vs(13,h,l,_),o.elementType=x,o.lanes=w,o;case S:return o=Vs(19,h,l,_),o.elementType=S,o.lanes=w,o;case P:return GS(h,_,w,l);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case g:case v:M=10;break t;case y:M=9;break t;case E:M=11;break t;case R:M=14;break t;case C:M=16,m=null;break t}M=29,h=Error(i(130,o===null?"null":typeof o,"")),m=null}return l=Vs(M,h,l,_),l.elementType=o,l.type=m,l.lanes=w,l}function Yc(o,l,h,m){return o=Vs(7,o,m,l),o.lanes=h,o}function GS(o,l,h,m){o=Vs(22,o,m,l),o.elementType=P,o.lanes=h;var _={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var w=_._current;if(w===null)throw Error(i(456));if((_._pendingVisibility&2)===0){var M=ol(w,2);M!==null&&(_._pendingVisibility|=2,zr(M,w,2))}},attach:function(){var w=_._current;if(w===null)throw Error(i(456));if((_._pendingVisibility&2)!==0){var M=ol(w,2);M!==null&&(_._pendingVisibility&=-3,zr(M,w,2))}}};return o.stateNode=_,o}function Yv(o,l,h){return o=Vs(6,o,null,l),o.lanes=h,o}function Gv(o,l,h){return l=Vs(4,o.children!==null?o.children:[],o.key,l),l.lanes=h,l.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},l}function wa(o){o.flags|=4}function WS(o,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!OA(l)){if(l=Ns.current,l!==null&&((Be&4194176)===Be?Ro!==null:(Be&62914560)!==Be&&(Be&536870912)===0||l!==Ro))throw rf=Z_,hx;o.flags|=8192}}function vp(o,l){l!==null&&(o.flags|=4),o.flags&16384&&(l=o.tag!==22?Q():536870912,o.lanes|=l,gh|=l)}function Tf(o,l){if(!Ke)switch(o.tailMode){case"hidden":l=o.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?o.tail=null:h.sibling=null;break;case"collapsed":h=o.tail;for(var m=null;h!==null;)h.alternate!==null&&(m=h),h=h.sibling;m===null?l||o.tail===null?o.tail=null:o.tail.sibling=null:m.sibling=null}}function Gn(o){var l=o.alternate!==null&&o.alternate.child===o.child,h=0,m=0;if(l)for(var _=o.child;_!==null;)h|=_.lanes|_.childLanes,m|=_.subtreeFlags&31457280,m|=_.flags&31457280,_.return=o,_=_.sibling;else for(_=o.child;_!==null;)h|=_.lanes|_.childLanes,m|=_.subtreeFlags,m|=_.flags,_.return=o,_=_.sibling;return o.subtreeFlags|=m,o.childLanes=h,l}function vL(o,l,h){var m=l.pendingProps;switch(X_(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gn(l),null;case 1:return Gn(l),null;case 3:return h=l.stateNode,m=null,o!==null&&(m=o.memoizedState.cache),l.memoizedState.cache!==m&&(l.flags|=2048),_a(Ii),hn(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(o===null||o.child===null)&&(Jd(l)?wa(l):o===null||o.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Qs!==null&&(eb(Qs),Qs=null))),Gn(l),null;case 26:return h=l.memoizedState,o===null?(wa(l),h!==null?(Gn(l),WS(l,h)):(Gn(l),l.flags&=-16777217)):h?h!==o.memoizedState?(wa(l),Gn(l),WS(l,h)):(Gn(l),l.flags&=-16777217):(o.memoizedProps!==m&&wa(l),Gn(l),l.flags&=-16777217),null;case 27:Nr(l),h=ge.current;var _=l.type;if(o!==null&&l.stateNode!=null)o.memoizedProps!==m&&wa(l);else{if(!m){if(l.stateNode===null)throw Error(i(166));return Gn(l),null}o=Ye.current,Jd(l)?cx(l):(o=xA(_,m,h),l.stateNode=o,wa(l))}return Gn(l),null;case 5:if(Nr(l),h=l.type,o!==null&&l.stateNode!=null)o.memoizedProps!==m&&wa(l);else{if(!m){if(l.stateNode===null)throw Error(i(166));return Gn(l),null}if(o=Ye.current,Jd(l))cx(l);else{switch(_=Ip(ge.current),o){case 1:o=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:o=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":o=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":o=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":o=_.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof m.is=="string"?_.createElement("select",{is:m.is}):_.createElement("select"),m.multiple?o.multiple=!0:m.size&&(o.size=m.size);break;default:o=typeof m.is=="string"?_.createElement(h,{is:m.is}):_.createElement(h)}}o[Lt]=l,o[Kt]=m;t:for(_=l.child;_!==null;){if(_.tag===5||_.tag===6)o.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===l)break t;for(;_.sibling===null;){if(_.return===null||_.return===l)break t;_=_.return}_.sibling.return=_.return,_=_.sibling}l.stateNode=o;t:switch(ir(o,h,m),h){case"button":case"input":case"select":case"textarea":o=!!m.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&wa(l)}}return Gn(l),l.flags&=-16777217,null;case 6:if(o&&l.stateNode!=null)o.memoizedProps!==m&&wa(l);else{if(typeof m!="string"&&l.stateNode===null)throw Error(i(166));if(o=ge.current,Jd(l)){if(o=l.stateNode,h=l.memoizedProps,m=null,_=Ur,_!==null)switch(_.tag){case 27:case 5:m=_.memoizedProps}o[Lt]=l,o=!!(o.nodeValue===h||m!==null&&m.suppressHydrationWarning===!0||_A(o.nodeValue,h)),o||Lc(l)}else o=Ip(o).createTextNode(m),o[Lt]=l,l.stateNode=o}return Gn(l),null;case 13:if(m=l.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(_=Jd(l),m!==null&&m.dehydrated!==null){if(o===null){if(!_)throw Error(i(318));if(_=l.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(i(317));_[Lt]=l}else tf(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Gn(l),_=!1}else Qs!==null&&(eb(Qs),Qs=null),_=!0;if(!_)return l.flags&256?(ma(l),l):(ma(l),null)}if(ma(l),(l.flags&128)!==0)return l.lanes=h,l;if(h=m!==null,o=o!==null&&o.memoizedState!==null,h){m=l.child,_=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(_=m.alternate.memoizedState.cachePool.pool);var w=null;m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(w=m.memoizedState.cachePool.pool),w!==_&&(m.flags|=2048)}return h!==o&&h&&(l.child.flags|=8192),vp(l,l.updateQueue),Gn(l),null;case 4:return hn(),o===null&&db(l.stateNode.containerInfo),Gn(l),null;case 10:return _a(l.type),Gn(l),null;case 19:if(Gt(Di),_=l.memoizedState,_===null)return Gn(l),null;if(m=(l.flags&128)!==0,w=_.rendering,w===null)if(m)Tf(_,!1);else{if(ri!==0||o!==null&&(o.flags&128)!==0)for(o=l.child;o!==null;){if(w=np(o),w!==null){for(l.flags|=128,Tf(_,!1),o=w.updateQueue,l.updateQueue=o,vp(l,o),l.subtreeFlags=0,o=h,h=l.child;h!==null;)YS(h,o),h=h.sibling;return Wt(Di,Di.current&1|2),l.child}o=o.sibling}_.tail!==null&&on()>bp&&(l.flags|=128,m=!0,Tf(_,!1),l.lanes=4194304)}else{if(!m)if(o=np(w),o!==null){if(l.flags|=128,m=!0,o=o.updateQueue,l.updateQueue=o,vp(l,o),Tf(_,!0),_.tail===null&&_.tailMode==="hidden"&&!w.alternate&&!Ke)return Gn(l),null}else 2*on()-_.renderingStartTime>bp&&h!==536870912&&(l.flags|=128,m=!0,Tf(_,!1),l.lanes=4194304);_.isBackwards?(w.sibling=l.child,l.child=w):(o=_.last,o!==null?o.sibling=w:l.child=w,_.last=w)}return _.tail!==null?(l=_.tail,_.rendering=l,_.tail=l.sibling,_.renderingStartTime=on(),l.sibling=null,o=Di.current,Wt(Di,m?o&1|2:o&1),l):(Gn(l),null);case 22:case 23:return ma(l),tv(),m=l.memoizedState!==null,o!==null?o.memoizedState!==null!==m&&(l.flags|=8192):m&&(l.flags|=8192),m?(h&536870912)!==0&&(l.flags&128)===0&&(Gn(l),l.subtreeFlags&6&&(l.flags|=8192)):Gn(l),h=l.updateQueue,h!==null&&vp(l,h.retryQueue),h=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),m=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==h&&(l.flags|=2048),o!==null&&Gt(Uc),null;case 24:return h=null,o!==null&&(h=o.memoizedState.cache),l.memoizedState.cache!==h&&(l.flags|=2048),_a(Ii),Gn(l),null;case 25:return null}throw Error(i(156,l.tag))}function bL(o,l){switch(X_(l),l.tag){case 1:return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 3:return _a(Ii),hn(),o=l.flags,(o&65536)!==0&&(o&128)===0?(l.flags=o&-65537|128,l):null;case 26:case 27:case 5:return Nr(l),null;case 13:if(ma(l),o=l.memoizedState,o!==null&&o.dehydrated!==null){if(l.alternate===null)throw Error(i(340));tf()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 19:return Gt(Di),null;case 4:return hn(),null;case 10:return _a(l.type),null;case 22:case 23:return ma(l),tv(),o!==null&&Gt(Uc),o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 24:return _a(Ii),null;case 25:return null;default:return null}}function KS(o,l){switch(X_(l),l.tag){case 3:_a(Ii),hn();break;case 26:case 27:case 5:Nr(l);break;case 4:hn();break;case 13:ma(l);break;case 19:Gt(Di);break;case 10:_a(l.type);break;case 22:case 23:ma(l),tv(),o!==null&&Gt(Uc);break;case 24:_a(Ii)}}var TL={getCacheForType:function(o){var l=Tr(Ii),h=l.data.get(o);return h===void 0&&(h=o(),l.data.set(o,h)),h}},wL=typeof WeakMap=="function"?WeakMap:Map,Wn=0,En=null,Re=null,Be=0,xn=0,hs=null,Ea=!1,mh=!1,Wv=!1,xa=0,ri=0,vl=0,Gc=0,Kv=0,Us=0,gh=0,wf=null,Do=null,Xv=!1,Qv=0,bp=1/0,Tp=null,bl=null,wp=!1,Wc=null,Ef=0,Zv=0,Jv=null,xf=0,tb=null;function ds(){if((Wn&2)!==0&&Be!==0)return Be&-Be;if(k.T!==null){var o=oh;return o!==0?o:lb()}return Bt()}function XS(){Us===0&&(Us=(Be&536870912)===0||Ke?Y():536870912);var o=Ns.current;return o!==null&&(o.flags|=32),Us}function zr(o,l,h){(o===En&&xn===2||o.cancelPendingCommit!==null)&&(ph(o,0),Sa(o,Be,Us,!1)),dt(o,h),((Wn&2)===0||o!==En)&&(o===En&&((Wn&2)===0&&(Gc|=h),ri===4&&Sa(o,Be,Us,!1)),Io(o))}function QS(o,l,h){if((Wn&6)!==0)throw Error(i(327));var m=!h&&(l&60)===0&&(l&o.expiredLanes)===0||po(o,l),_=m?SL(o,l):rb(o,l,!0),w=m;do{if(_===0){mh&&!m&&Sa(o,l,0,!1);break}else if(_===6)Sa(o,l,0,!Ea);else{if(h=o.current.alternate,w&&!EL(h)){_=rb(o,l,!1),w=!1;continue}if(_===2){if(w=l,o.errorRecoveryDisabledLanes&w)var M=0;else M=o.pendingLanes&-536870913,M=M!==0?M:M&536870912?536870912:0;if(M!==0){l=M;t:{var U=o;_=wf;var q=U.current.memoizedState.isDehydrated;if(q&&(ph(U,M).flags|=256),M=rb(U,M,!1),M!==2){if(Wv&&!q){U.errorRecoveryDisabledLanes|=w,Gc|=w,_=4;break t}w=Do,Do=_,w!==null&&eb(w)}_=M}if(w=!1,_!==2)continue}}if(_===1){ph(o,0),Sa(o,l,0,!0);break}t:{switch(m=o,_){case 0:case 1:throw Error(i(345));case 4:if((l&4194176)===l){Sa(m,l,Us,!Ea);break t}break;case 2:Do=null;break;case 3:case 5:break;default:throw Error(i(329))}if(m.finishedWork=h,m.finishedLanes=l,(l&62914560)===l&&(w=Qv+300-on(),10<w)){if(Sa(m,l,Us,!Ea),Ji(m,0)!==0)break t;m.timeoutHandle=TA(ZS.bind(null,m,h,Do,Tp,Xv,l,Us,Gc,gh,Ea,2,-0,0),w);break t}ZS(m,h,Do,Tp,Xv,l,Us,Gc,gh,Ea,0,-0,0)}}break}while(!0);Io(o)}function eb(o){Do===null?Do=o:Do.push.apply(Do,o)}function ZS(o,l,h,m,_,w,M,U,q,W,ut,_t,it){var ct=l.subtreeFlags;if((ct&8192||(ct&16785408)===16785408)&&(If={stylesheets:null,count:0,unsuspend:rV},jS(l),l=oV(),l!==null)){o.cancelPendingCommit=l(sA.bind(null,o,h,m,_,M,U,q,1,_t,it)),Sa(o,w,M,!W);return}sA(o,h,m,_,M,U,q,ut,_t,it)}function EL(o){for(var l=o;;){var h=l.tag;if((h===0||h===11||h===15)&&l.flags&16384&&(h=l.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var m=0;m<h.length;m++){var _=h[m],w=_.getSnapshot;_=_.value;try{if(!ls(w(),_))return!1}catch{return!1}}if(h=l.child,l.subtreeFlags&16384&&h!==null)h.return=l,l=h;else{if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Sa(o,l,h,m){l&=~Kv,l&=~Gc,o.suspendedLanes|=l,o.pingedLanes&=~l,m&&(o.warmLanes|=l),m=o.expirationTimes;for(var _=l;0<_;){var w=31-Pe(_),M=1<<w;m[w]=-1,_&=~M}h!==0&&Ht(o,h,l)}function Ep(){return(Wn&6)===0?(Sf(0),!1):!0}function nb(){if(Re!==null){if(xn===0)var o=Re.return;else o=Re,ya=$c=null,lv(o),rh=null,sf=0,o=Re;for(;o!==null;)KS(o.alternate,o),o=o.return;Re=null}}function ph(o,l){o.finishedWork=null,o.finishedLanes=0;var h=o.timeoutHandle;h!==-1&&(o.timeoutHandle=-1,jL(h)),h=o.cancelPendingCommit,h!==null&&(o.cancelPendingCommit=null,h()),nb(),En=o,Re=h=_l(o.current,null),Be=l,xn=0,hs=null,Ea=!1,mh=po(o,l),Wv=!1,gh=Us=Kv=Gc=vl=ri=0,Do=wf=null,Xv=!1,(l&8)!==0&&(l|=l&32);var m=o.entangledLanes;if(m!==0)for(o=o.entanglements,m&=l;0<m;){var _=31-Pe(m),w=1<<_;l|=o[_],m&=~w}return xa=l,Gg(),h}function JS(o,l){Te=null,k.H=Co,l===nf?(l=mx(),xn=3):l===hx?(l=mx(),xn=4):xn=l===dS?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,hs=l,Re===null&&(ri=1,fp(o,Ms(l,o.current)))}function tA(){var o=k.H;return k.H=Co,o===null?Co:o}function eA(){var o=k.A;return k.A=TL,o}function ib(){ri=4,Ea||(Be&4194176)!==Be&&Ns.current!==null||(mh=!0),(vl&134217727)===0&&(Gc&134217727)===0||En===null||Sa(En,Be,Us,!1)}function rb(o,l,h){var m=Wn;Wn|=2;var _=tA(),w=eA();(En!==o||Be!==l)&&(Tp=null,ph(o,l)),l=!1;var M=ri;t:do try{if(xn!==0&&Re!==null){var U=Re,q=hs;switch(xn){case 8:nb(),M=6;break t;case 3:case 2:case 6:Ns.current===null&&(l=!0);var W=xn;if(xn=0,hs=null,yh(o,U,q,W),h&&mh){M=0;break t}break;default:W=xn,xn=0,hs=null,yh(o,U,q,W)}}xL(),M=ri;break}catch(ut){JS(o,ut)}while(!0);return l&&o.shellSuspendCounter++,ya=$c=null,Wn=m,k.H=_,k.A=w,Re===null&&(En=null,Be=0,Gg()),M}function xL(){for(;Re!==null;)nA(Re)}function SL(o,l){var h=Wn;Wn|=2;var m=tA(),_=eA();En!==o||Be!==l?(Tp=null,bp=on()+500,ph(o,l)):mh=po(o,l);t:do try{if(xn!==0&&Re!==null){l=Re;var w=hs;e:switch(xn){case 1:xn=0,hs=null,yh(o,l,w,1);break;case 2:if(dx(w)){xn=0,hs=null,iA(l);break}l=function(){xn===2&&En===o&&(xn=7),Io(o)},w.then(l,l);break t;case 3:xn=7;break t;case 4:xn=5;break t;case 7:dx(w)?(xn=0,hs=null,iA(l)):(xn=0,hs=null,yh(o,l,w,7));break;case 5:var M=null;switch(Re.tag){case 26:M=Re.memoizedState;case 5:case 27:var U=Re;if(!M||OA(M)){xn=0,hs=null;var q=U.sibling;if(q!==null)Re=q;else{var W=U.return;W!==null?(Re=W,xp(W)):Re=null}break e}}xn=0,hs=null,yh(o,l,w,5);break;case 6:xn=0,hs=null,yh(o,l,w,6);break;case 8:nb(),ri=6;break t;default:throw Error(i(462))}}AL();break}catch(ut){JS(o,ut)}while(!0);return ya=$c=null,k.H=m,k.A=_,Wn=h,Re!==null?0:(En=null,Be=0,Gg(),ri)}function AL(){for(;Re!==null&&!sn();)nA(Re)}function nA(o){var l=xS(o.alternate,o,xa);o.memoizedProps=o.pendingProps,l===null?xp(o):Re=l}function iA(o){var l=o,h=l.alternate;switch(l.tag){case 15:case 0:l=_S(h,l,l.pendingProps,l.type,void 0,Be);break;case 11:l=_S(h,l,l.pendingProps,l.type.render,l.ref,Be);break;case 5:lv(l);default:KS(h,l),l=Re=YS(l,xa),l=xS(h,l,xa)}o.memoizedProps=o.pendingProps,l===null?xp(o):Re=l}function yh(o,l,h,m){ya=$c=null,lv(l),rh=null,sf=0;var _=l.return;try{if(mL(o,_,l,h,Be)){ri=1,fp(o,Ms(h,o.current)),Re=null;return}}catch(w){if(_!==null)throw Re=_,w;ri=1,fp(o,Ms(h,o.current)),Re=null;return}l.flags&32768?(Ke||m===1?o=!0:mh||(Be&536870912)!==0?o=!1:(Ea=o=!0,(m===2||m===3||m===6)&&(m=Ns.current,m!==null&&m.tag===13&&(m.flags|=16384))),rA(l,o)):xp(l)}function xp(o){var l=o;do{if((l.flags&32768)!==0){rA(l,Ea);return}o=l.return;var h=vL(l.alternate,l,xa);if(h!==null){Re=h;return}if(l=l.sibling,l!==null){Re=l;return}Re=l=o}while(l!==null);ri===0&&(ri=5)}function rA(o,l){do{var h=bL(o.alternate,o);if(h!==null){h.flags&=32767,Re=h;return}if(h=o.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!l&&(o=o.sibling,o!==null)){Re=o;return}Re=o=h}while(o!==null);ri=6,Re=null}function sA(o,l,h,m,_,w,M,U,q,W){var ut=k.T,_t=pt.p;try{pt.p=2,k.T=null,RL(o,l,h,m,_t,_,w,M,U,q,W)}finally{k.T=ut,pt.p=_t}}function RL(o,l,h,m,_,w,M,U){do _h();while(Wc!==null);if((Wn&6)!==0)throw Error(i(327));var q=o.finishedWork;if(m=o.finishedLanes,q===null)return null;if(o.finishedWork=null,o.finishedLanes=0,q===o.current)throw Error(i(177));o.callbackNode=null,o.callbackPriority=0,o.cancelPendingCommit=null;var W=q.lanes|q.childLanes;if(W|=G_,Dt(o,m,W,w,M,U),o===En&&(Re=En=null,Be=0),(q.subtreeFlags&10256)===0&&(q.flags&10256)===0||wp||(wp=!0,Zv=W,Jv=h,ML(ci,function(){return _h(),null})),h=(q.flags&15990)!==0,(q.subtreeFlags&15990)!==0||h?(h=k.T,k.T=null,w=pt.p,pt.p=2,M=Wn,Wn|=4,pL(o,q),zS(q,o),QP(pb,o.containerInfo),Lp=!!gb,pb=gb=null,o.current=q,PS(o,q.alternate,q),Ai(),Wn=M,pt.p=w,k.T=h):o.current=q,wp?(wp=!1,Wc=o,Ef=m):oA(o,W),W=o.pendingLanes,W===0&&(bl=null),os(q.stateNode),Io(o),l!==null)for(_=o.onRecoverableError,q=0;q<l.length;q++)W=l[q],_(W.value,{componentStack:W.stack});return(Ef&3)!==0&&_h(),W=o.pendingLanes,(m&4194218)!==0&&(W&42)!==0?o===tb?xf++:(xf=0,tb=o):xf=0,Sf(0),null}function oA(o,l){(o.pooledCacheLanes&=l)===0&&(l=o.pooledCache,l!=null&&(o.pooledCache=null,af(l)))}function _h(){if(Wc!==null){var o=Wc,l=Zv;Zv=0;var h=zt(Ef),m=k.T,_=pt.p;try{if(pt.p=32>h?32:h,k.T=null,Wc===null)var w=!1;else{h=Jv,Jv=null;var M=Wc,U=Ef;if(Wc=null,Ef=0,(Wn&6)!==0)throw Error(i(331));var q=Wn;if(Wn|=4,HS(M.current),BS(M,M.current,U,h),Wn=q,Sf(0,!1),ei&&typeof ei.onPostCommitFiberRoot=="function")try{ei.onPostCommitFiberRoot(Fn,M)}catch{}w=!0}return w}finally{pt.p=_,k.T=m,oA(o,l)}}return!1}function aA(o,l,h){l=Ms(h,l),l=wv(o.stateNode,l,2),o=ml(o,l,2),o!==null&&(dt(o,2),Io(o))}function _n(o,l,h){if(o.tag===3)aA(o,o,h);else for(;l!==null;){if(l.tag===3){aA(l,o,h);break}else if(l.tag===1){var m=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(bl===null||!bl.has(m))){o=Ms(h,o),h=uS(2),m=ml(l,h,2),m!==null&&(hS(h,m,l,o),dt(m,2),Io(m));break}}l=l.return}}function sb(o,l,h){var m=o.pingCache;if(m===null){m=o.pingCache=new wL;var _=new Set;m.set(l,_)}else _=m.get(l),_===void 0&&(_=new Set,m.set(l,_));_.has(h)||(Wv=!0,_.add(h),o=CL.bind(null,o,l,h),l.then(o,o))}function CL(o,l,h){var m=o.pingCache;m!==null&&m.delete(l),o.pingedLanes|=o.suspendedLanes&h,o.warmLanes&=~h,En===o&&(Be&h)===h&&(ri===4||ri===3&&(Be&62914560)===Be&&300>on()-Qv?(Wn&2)===0&&ph(o,0):Kv|=h,gh===Be&&(gh=0)),Io(o)}function lA(o,l){l===0&&(l=Q()),o=ol(o,l),o!==null&&(dt(o,l),Io(o))}function DL(o){var l=o.memoizedState,h=0;l!==null&&(h=l.retryLane),lA(o,h)}function IL(o,l){var h=0;switch(o.tag){case 13:var m=o.stateNode,_=o.memoizedState;_!==null&&(h=_.retryLane);break;case 19:m=o.stateNode;break;case 22:m=o.stateNode._retryCache;break;default:throw Error(i(314))}m!==null&&m.delete(l),lA(o,h)}function ML(o,l){return zn(o,l)}var Sp=null,vh=null,ob=!1,Ap=!1,ab=!1,Kc=0;function Io(o){o!==vh&&o.next===null&&(vh===null?Sp=vh=o:vh=vh.next=o),Ap=!0,ob||(ob=!0,kL(OL))}function Sf(o,l){if(!ab&&Ap){ab=!0;do for(var h=!1,m=Sp;m!==null;){if(o!==0){var _=m.pendingLanes;if(_===0)var w=0;else{var M=m.suspendedLanes,U=m.pingedLanes;w=(1<<31-Pe(42|o)+1)-1,w&=_&~(M&~U),w=w&201326677?w&201326677|1:w?w|2:0}w!==0&&(h=!0,hA(m,w))}else w=Be,w=Ji(m,m===En?w:0),(w&3)===0||po(m,w)||(h=!0,hA(m,w));m=m.next}while(h);ab=!1}}function OL(){Ap=ob=!1;var o=0;Kc!==0&&(BL()&&(o=Kc),Kc=0);for(var l=on(),h=null,m=Sp;m!==null;){var _=m.next,w=cA(m,l);w===0?(m.next=null,h===null?Sp=_:h.next=_,_===null&&(vh=h)):(h=m,(o!==0||(w&3)!==0)&&(Ap=!0)),m=_}Sf(o)}function cA(o,l){for(var h=o.suspendedLanes,m=o.pingedLanes,_=o.expirationTimes,w=o.pendingLanes&-62914561;0<w;){var M=31-Pe(w),U=1<<M,q=_[M];q===-1?((U&h)===0||(U&m)!==0)&&(_[M]=el(U,l)):q<=l&&(o.expiredLanes|=U),w&=~U}if(l=En,h=Be,h=Ji(o,o===l?h:0),m=o.callbackNode,h===0||o===l&&xn===2||o.cancelPendingCommit!==null)return m!==null&&m!==null&&li(m),o.callbackNode=null,o.callbackPriority=0;if((h&3)===0||po(o,h)){if(l=h&-h,l===o.callbackPriority)return l;switch(m!==null&&li(m),zt(h)){case 2:case 8:h=dn;break;case 32:h=ci;break;case 268435456:h=vr;break;default:h=ci}return m=uA.bind(null,o),h=zn(h,m),o.callbackPriority=l,o.callbackNode=h,l}return m!==null&&m!==null&&li(m),o.callbackPriority=2,o.callbackNode=null,2}function uA(o,l){var h=o.callbackNode;if(_h()&&o.callbackNode!==h)return null;var m=Be;return m=Ji(o,o===En?m:0),m===0?null:(QS(o,m,l),cA(o,on()),o.callbackNode!=null&&o.callbackNode===h?uA.bind(null,o):null)}function hA(o,l){if(_h())return null;QS(o,l,!0)}function kL(o){$L(function(){(Wn&6)!==0?zn(Ue,o):o()})}function lb(){return Kc===0&&(Kc=Y()),Kc}function dA(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:vo(""+o)}function fA(o,l){var h=l.ownerDocument.createElement("input");return h.name=l.name,h.value=l.value,o.id&&h.setAttribute("form",o.id),l.parentNode.insertBefore(h,l),o=new FormData(o),h.parentNode.removeChild(h),o}function NL(o,l,h,m,_){if(l==="submit"&&h&&h.stateNode===_){var w=dA((_[Kt]||null).action),M=m.submitter;M&&(l=(l=M[Kt]||null)?dA(l.formAction):M.getAttribute("formAction"),l!==null&&(w=l,M=null));var U=new Hu("action","action",null,m,_);o.push({event:U,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(Kc!==0){var q=M?fA(_,M):new FormData(_);yv(h,{pending:!0,data:q,method:_.method,action:w},null,q)}}else typeof w=="function"&&(U.preventDefault(),q=M?fA(_,M):new FormData(_),yv(h,{pending:!0,data:q,method:_.method,action:w},w,q))},currentTarget:_}]})}}for(var cb=0;cb<sx.length;cb++){var ub=sx[cb],PL=ub.toLowerCase(),LL=ub[0].toUpperCase()+ub.slice(1);Xs(PL,"on"+LL)}Xs(tx,"onAnimationEnd"),Xs(ex,"onAnimationIteration"),Xs(nx,"onAnimationStart"),Xs("dblclick","onDoubleClick"),Xs("focusin","onFocus"),Xs("focusout","onBlur"),Xs(JP,"onTransitionRun"),Xs(tL,"onTransitionStart"),Xs(eL,"onTransitionCancel"),Xs(ix,"onTransitionEnd"),Je("onMouseEnter",["mouseout","mouseover"]),Je("onMouseLeave",["mouseout","mouseover"]),Je("onPointerEnter",["pointerout","pointerover"]),Je("onPointerLeave",["pointerout","pointerover"]),be("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),be("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),be("onBeforeInput",["compositionend","keypress","textInput","paste"]),be("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),be("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),be("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Af="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),VL=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Af));function mA(o,l){l=(l&4)!==0;for(var h=0;h<o.length;h++){var m=o[h],_=m.event;m=m.listeners;t:{var w=void 0;if(l)for(var M=m.length-1;0<=M;M--){var U=m[M],q=U.instance,W=U.currentTarget;if(U=U.listener,q!==w&&_.isPropagationStopped())break t;w=U,_.currentTarget=W;try{w(_)}catch(ut){dp(ut)}_.currentTarget=null,w=q}else for(M=0;M<m.length;M++){if(U=m[M],q=U.instance,W=U.currentTarget,U=U.listener,q!==w&&_.isPropagationStopped())break t;w=U,_.currentTarget=W;try{w(_)}catch(ut){dp(ut)}_.currentTarget=null,w=q}}}}function Le(o,l){var h=l[Bn];h===void 0&&(h=l[Bn]=new Set);var m=o+"__bubble";h.has(m)||(gA(l,o,2,!1),h.add(m))}function hb(o,l,h){var m=0;l&&(m|=4),gA(h,o,m,l)}var Rp="_reactListening"+Math.random().toString(36).slice(2);function db(o){if(!o[Rp]){o[Rp]=!0,yo.forEach(function(h){h!=="selectionchange"&&(VL.has(h)||hb(h,!1,o),hb(h,!0,o))});var l=o.nodeType===9?o:o.ownerDocument;l===null||l[Rp]||(l[Rp]=!0,hb("selectionchange",!1,l))}}function gA(o,l,h,m){switch(UA(l)){case 2:var _=cV;break;case 8:_=uV;break;default:_=Sb}h=_.bind(null,l,h,o),_=void 0,!Cs||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(_=!0),m?_!==void 0?o.addEventListener(l,h,{capture:!0,passive:_}):o.addEventListener(l,h,!0):_!==void 0?o.addEventListener(l,h,{passive:_}):o.addEventListener(l,h,!1)}function fb(o,l,h,m,_){var w=m;if((l&1)===0&&(l&2)===0&&m!==null)t:for(;;){if(m===null)return;var M=m.tag;if(M===3||M===4){var U=m.stateNode.containerInfo;if(U===_||U.nodeType===8&&U.parentNode===_)break;if(M===4)for(M=m.return;M!==null;){var q=M.tag;if((q===3||q===4)&&(q=M.stateNode.containerInfo,q===_||q.nodeType===8&&q.parentNode===_))return;M=M.return}for(;U!==null;){if(M=ui(U),M===null)return;if(q=M.tag,q===5||q===6||q===26||q===27){m=w=M;continue t}U=U.parentNode}}m=m.return}Og(function(){var W=w,ut=$u(h),_t=[];t:{var it=rx.get(o);if(it!==void 0){var ct=Hu,jt=o;switch(o){case"keypress":if(To(h)===0)break t;case"keydown":case"keyup":ct=Xu;break;case"focusin":jt="focus",ct=Gu;break;case"focusout":jt="blur",ct=Gu;break;case"beforeblur":case"afterblur":ct=Gu;break;case"click":if(h.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ct=Ds;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ct=z_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ct=Fg;break;case tx:case ex:case nx:ct=Wu;break;case ix:ct=jg;break;case"scroll":case"scrollend":ct=kg;break;case"wheel":ct=Qu;break;case"copy":case"cut":case"paste":ct=Ku;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ct=Kd;break;case"toggle":case"beforetoggle":ct=Hg}var he=(l&4)!==0,si=!he&&(o==="scroll"||o==="scrollend"),Z=he?it!==null?it+"Capture":null:it;he=[];for(var G=W,nt;G!==null;){var ft=G;if(nt=ft.stateNode,ft=ft.tag,ft!==5&&ft!==26&&ft!==27||nt===null||Z===null||(ft=Sc(G,Z),ft!=null&&he.push(Rf(G,ft,nt))),si)break;G=G.return}0<he.length&&(it=new ct(it,jt,null,h,ut),_t.push({event:it,listeners:he}))}}if((l&7)===0){t:{if(it=o==="mouseover"||o==="pointerover",ct=o==="mouseout"||o==="pointerout",it&&h!==Rs&&(jt=h.relatedTarget||h.fromElement)&&(ui(jt)||jt[Ge]))break t;if((ct||it)&&(it=ut.window===ut?ut:(it=ut.ownerDocument)?it.defaultView||it.parentWindow:window,ct?(jt=h.relatedTarget||h.toElement,ct=W,jt=jt?ui(jt):null,jt!==null&&(si=ht(jt),he=jt.tag,jt!==si||he!==5&&he!==27&&he!==6)&&(jt=null)):(ct=null,jt=W),ct!==jt)){if(he=Ds,ft="onMouseLeave",Z="onMouseEnter",G="mouse",(o==="pointerout"||o==="pointerover")&&(he=Kd,ft="onPointerLeave",Z="onPointerEnter",G="pointer"),si=ct==null?it:Es(ct),nt=jt==null?it:Es(jt),it=new he(ft,G+"leave",ct,h,ut),it.target=si,it.relatedTarget=nt,ft=null,ui(ut)===W&&(he=new he(Z,G+"enter",jt,h,ut),he.target=nt,he.relatedTarget=si,ft=he),si=ft,ct&&jt)e:{for(he=ct,Z=jt,G=0,nt=he;nt;nt=bh(nt))G++;for(nt=0,ft=Z;ft;ft=bh(ft))nt++;for(;0<G-nt;)he=bh(he),G--;for(;0<nt-G;)Z=bh(Z),nt--;for(;G--;){if(he===Z||Z!==null&&he===Z.alternate)break e;he=bh(he),Z=bh(Z)}he=null}else he=null;ct!==null&&pA(_t,it,ct,he,!1),jt!==null&&si!==null&&pA(_t,si,jt,he,!0)}}t:{if(it=W?Es(W):window,ct=it.nodeName&&it.nodeName.toLowerCase(),ct==="select"||ct==="input"&&it.type==="file")var Ut=$1;else if(Ci(it))if(H1)Ut=KP;else{Ut=GP;var xe=YP}else ct=it.nodeName,!ct||ct.toLowerCase()!=="input"||it.type!=="checkbox"&&it.type!=="radio"?W&&jd(W.elementType)&&(Ut=$1):Ut=WP;if(Ut&&(Ut=Ut(o,W))){ha(_t,Ut,h,ut);break t}xe&&xe(o,it,W),o==="focusout"&&W&&it.type==="number"&&W.memoizedProps.value!=null&&ju(it,"number",it.value)}switch(xe=W?Es(W):window,o){case"focusin":(Ci(xe)||xe.contentEditable==="true")&&(Zu=xe,H_=W,Zd=null);break;case"focusout":Zd=H_=Zu=null;break;case"mousedown":q_=!0;break;case"contextmenu":case"mouseup":case"dragend":q_=!1,Z1(_t,h,ut);break;case"selectionchange":if(ZP)break;case"keydown":case"keyup":Z1(_t,h,ut)}var qt;if(xo)t:{switch(o){case"compositionstart":var Zt="onCompositionStart";break t;case"compositionend":Zt="onCompositionEnd";break t;case"compositionupdate":Zt="onCompositionUpdate";break t}Zt=void 0}else ze?at(o,h)&&(Zt="onCompositionEnd"):o==="keydown"&&h.keyCode===229&&(Zt="onCompositionStart");Zt&&(I&&h.locale!=="ko"&&(ze||Zt!=="onCompositionStart"?Zt==="onCompositionEnd"&&ze&&(qt=Hd()):(bo=ut,sl="value"in bo?bo.value:bo.textContent,ze=!0)),xe=Cp(W,Zt),0<xe.length&&(Zt=new Gd(Zt,o,null,h,ut),_t.push({event:Zt,listeners:xe}),qt?Zt.data=qt:(qt=At(h),qt!==null&&(Zt.data=qt)))),(qt=A?Ri(o,h):Fe(o,h))&&(Zt=Cp(W,"onBeforeInput"),0<Zt.length&&(xe=new Gd("onBeforeInput","beforeinput",null,h,ut),_t.push({event:xe,listeners:Zt}),xe.data=qt)),NL(_t,o,W,h,ut)}mA(_t,l)})}function Rf(o,l,h){return{instance:o,listener:l,currentTarget:h}}function Cp(o,l){for(var h=l+"Capture",m=[];o!==null;){var _=o,w=_.stateNode;_=_.tag,_!==5&&_!==26&&_!==27||w===null||(_=Sc(o,h),_!=null&&m.unshift(Rf(o,_,w)),_=Sc(o,l),_!=null&&m.push(Rf(o,_,w))),o=o.return}return m}function bh(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function pA(o,l,h,m,_){for(var w=l._reactName,M=[];h!==null&&h!==m;){var U=h,q=U.alternate,W=U.stateNode;if(U=U.tag,q!==null&&q===m)break;U!==5&&U!==26&&U!==27||W===null||(q=W,_?(W=Sc(h,w),W!=null&&M.unshift(Rf(h,W,q))):_||(W=Sc(h,w),W!=null&&M.push(Rf(h,W,q)))),h=h.return}M.length!==0&&o.push({event:l,listeners:M})}var UL=/\r\n?/g,zL=/\u0000|\uFFFD/g;function yA(o){return(typeof o=="string"?o:""+o).replace(UL,`
`).replace(zL,"")}function _A(o,l){return l=yA(l),yA(o)===l}function Dp(){}function mn(o,l,h,m,_,w){switch(h){case"children":typeof m=="string"?l==="body"||l==="textarea"&&m===""||As(o,m):(typeof m=="number"||typeof m=="bigint")&&l!=="body"&&As(o,""+m);break;case"className":nl(o,"class",m);break;case"tabIndex":nl(o,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":nl(o,h,m);break;case"style":Mg(o,m,w);break;case"data":if(l!=="object"){nl(o,"data",m);break}case"src":case"href":if(m===""&&(l!=="a"||h!=="href")){o.removeAttribute(h);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){o.removeAttribute(h);break}m=vo(""+m),o.setAttribute(h,m);break;case"action":case"formAction":if(typeof m=="function"){o.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(h==="formAction"?(l!=="input"&&mn(o,l,"name",_.name,_,null),mn(o,l,"formEncType",_.formEncType,_,null),mn(o,l,"formMethod",_.formMethod,_,null),mn(o,l,"formTarget",_.formTarget,_,null)):(mn(o,l,"encType",_.encType,_,null),mn(o,l,"method",_.method,_,null),mn(o,l,"target",_.target,_,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){o.removeAttribute(h);break}m=vo(""+m),o.setAttribute(h,m);break;case"onClick":m!=null&&(o.onclick=Dp);break;case"onScroll":m!=null&&Le("scroll",o);break;case"onScrollEnd":m!=null&&Le("scrollend",o);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(i(61));if(h=m.__html,h!=null){if(_.children!=null)throw Error(i(60));o.innerHTML=h}}break;case"multiple":o.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":o.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){o.removeAttribute("xlink:href");break}h=vo(""+m),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?o.setAttribute(h,""+m):o.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?o.setAttribute(h,""):o.removeAttribute(h);break;case"capture":case"download":m===!0?o.setAttribute(h,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?o.setAttribute(h,m):o.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?o.setAttribute(h,m):o.removeAttribute(h);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?o.removeAttribute(h):o.setAttribute(h,m);break;case"popover":Le("beforetoggle",o),Le("toggle",o),_o(o,"popover",m);break;case"xlinkActuate":Ss(o,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":Ss(o,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":Ss(o,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":Ss(o,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":Ss(o,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":Ss(o,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":Ss(o,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":Ss(o,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":Ss(o,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":_o(o,"is",m);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=V_.get(h)||h,_o(o,h,m))}}function mb(o,l,h,m,_,w){switch(h){case"style":Mg(o,m,w);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(i(61));if(h=m.__html,h!=null){if(_.children!=null)throw Error(i(60));o.innerHTML=h}}break;case"children":typeof m=="string"?As(o,m):(typeof m=="number"||typeof m=="bigint")&&As(o,""+m);break;case"onScroll":m!=null&&Le("scroll",o);break;case"onScrollEnd":m!=null&&Le("scrollend",o);break;case"onClick":m!=null&&(o.onclick=Dp);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ks.hasOwnProperty(h))t:{if(h[0]==="o"&&h[1]==="n"&&(_=h.endsWith("Capture"),l=h.slice(2,_?h.length-7:void 0),w=o[Kt]||null,w=w!=null?w[h]:null,typeof w=="function"&&o.removeEventListener(l,w,_),typeof m=="function")){typeof w!="function"&&w!==null&&(h in o?o[h]=null:o.hasAttribute(h)&&o.removeAttribute(h)),o.addEventListener(l,m,_);break t}h in o?o[h]=m:m===!0?o.setAttribute(h,""):_o(o,h,m)}}}function ir(o,l,h){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Le("error",o),Le("load",o);var m=!1,_=!1,w;for(w in h)if(h.hasOwnProperty(w)){var M=h[w];if(M!=null)switch(w){case"src":m=!0;break;case"srcSet":_=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,l));default:mn(o,l,w,M,h,null)}}_&&mn(o,l,"srcSet",h.srcSet,h,null),m&&mn(o,l,"src",h.src,h,null);return;case"input":Le("invalid",o);var U=w=M=_=null,q=null,W=null;for(m in h)if(h.hasOwnProperty(m)){var ut=h[m];if(ut!=null)switch(m){case"name":_=ut;break;case"type":M=ut;break;case"checked":q=ut;break;case"defaultChecked":W=ut;break;case"value":w=ut;break;case"defaultValue":U=ut;break;case"children":case"dangerouslySetInnerHTML":if(ut!=null)throw Error(i(137,l));break;default:mn(o,l,m,ut,h,null)}}Ec(o,w,U,q,W,M,_,!1),wc(o);return;case"select":Le("invalid",o),m=M=w=null;for(_ in h)if(h.hasOwnProperty(_)&&(U=h[_],U!=null))switch(_){case"value":w=U;break;case"defaultValue":M=U;break;case"multiple":m=U;default:mn(o,l,_,U,h,null)}l=w,h=M,o.multiple=!!m,l!=null?We(o,!!m,l,!1):h!=null&&We(o,!!m,h,!0);return;case"textarea":Le("invalid",o),w=_=m=null;for(M in h)if(h.hasOwnProperty(M)&&(U=h[M],U!=null))switch(M){case"value":m=U;break;case"defaultValue":_=U;break;case"children":w=U;break;case"dangerouslySetInnerHTML":if(U!=null)throw Error(i(91));break;default:mn(o,l,M,U,h,null)}rl(o,m,_,w),wc(o);return;case"option":for(q in h)if(h.hasOwnProperty(q)&&(m=h[q],m!=null))switch(q){case"selected":o.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:mn(o,l,q,m,h,null)}return;case"dialog":Le("cancel",o),Le("close",o);break;case"iframe":case"object":Le("load",o);break;case"video":case"audio":for(m=0;m<Af.length;m++)Le(Af[m],o);break;case"image":Le("error",o),Le("load",o);break;case"details":Le("toggle",o);break;case"embed":case"source":case"link":Le("error",o),Le("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(W in h)if(h.hasOwnProperty(W)&&(m=h[W],m!=null))switch(W){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,l));default:mn(o,l,W,m,h,null)}return;default:if(jd(l)){for(ut in h)h.hasOwnProperty(ut)&&(m=h[ut],m!==void 0&&mb(o,l,ut,m,h,void 0));return}}for(U in h)h.hasOwnProperty(U)&&(m=h[U],m!=null&&mn(o,l,U,m,h,null))}function FL(o,l,h,m){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var _=null,w=null,M=null,U=null,q=null,W=null,ut=null;for(ct in h){var _t=h[ct];if(h.hasOwnProperty(ct)&&_t!=null)switch(ct){case"checked":break;case"value":break;case"defaultValue":q=_t;default:m.hasOwnProperty(ct)||mn(o,l,ct,null,m,_t)}}for(var it in m){var ct=m[it];if(_t=h[it],m.hasOwnProperty(it)&&(ct!=null||_t!=null))switch(it){case"type":w=ct;break;case"name":_=ct;break;case"checked":W=ct;break;case"defaultChecked":ut=ct;break;case"value":M=ct;break;case"defaultValue":U=ct;break;case"children":case"dangerouslySetInnerHTML":if(ct!=null)throw Error(i(137,l));break;default:ct!==_t&&mn(o,l,it,ct,m,_t)}}il(o,M,U,q,W,ut,w,_);return;case"select":ct=M=U=it=null;for(w in h)if(q=h[w],h.hasOwnProperty(w)&&q!=null)switch(w){case"value":break;case"multiple":ct=q;default:m.hasOwnProperty(w)||mn(o,l,w,null,m,q)}for(_ in m)if(w=m[_],q=h[_],m.hasOwnProperty(_)&&(w!=null||q!=null))switch(_){case"value":it=w;break;case"defaultValue":U=w;break;case"multiple":M=w;default:w!==q&&mn(o,l,_,w,m,q)}l=U,h=M,m=ct,it!=null?We(o,!!h,it,!1):!!m!=!!h&&(l!=null?We(o,!!h,l,!0):We(o,!!h,h?[]:"",!1));return;case"textarea":ct=it=null;for(U in h)if(_=h[U],h.hasOwnProperty(U)&&_!=null&&!m.hasOwnProperty(U))switch(U){case"value":break;case"children":break;default:mn(o,l,U,null,m,_)}for(M in m)if(_=m[M],w=h[M],m.hasOwnProperty(M)&&(_!=null||w!=null))switch(M){case"value":it=_;break;case"defaultValue":ct=_;break;case"children":break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(i(91));break;default:_!==w&&mn(o,l,M,_,m,w)}xc(o,it,ct);return;case"option":for(var jt in h)if(it=h[jt],h.hasOwnProperty(jt)&&it!=null&&!m.hasOwnProperty(jt))switch(jt){case"selected":o.selected=!1;break;default:mn(o,l,jt,null,m,it)}for(q in m)if(it=m[q],ct=h[q],m.hasOwnProperty(q)&&it!==ct&&(it!=null||ct!=null))switch(q){case"selected":o.selected=it&&typeof it!="function"&&typeof it!="symbol";break;default:mn(o,l,q,it,m,ct)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var he in h)it=h[he],h.hasOwnProperty(he)&&it!=null&&!m.hasOwnProperty(he)&&mn(o,l,he,null,m,it);for(W in m)if(it=m[W],ct=h[W],m.hasOwnProperty(W)&&it!==ct&&(it!=null||ct!=null))switch(W){case"children":case"dangerouslySetInnerHTML":if(it!=null)throw Error(i(137,l));break;default:mn(o,l,W,it,m,ct)}return;default:if(jd(l)){for(var si in h)it=h[si],h.hasOwnProperty(si)&&it!==void 0&&!m.hasOwnProperty(si)&&mb(o,l,si,void 0,m,it);for(ut in m)it=m[ut],ct=h[ut],!m.hasOwnProperty(ut)||it===ct||it===void 0&&ct===void 0||mb(o,l,ut,it,m,ct);return}}for(var Z in h)it=h[Z],h.hasOwnProperty(Z)&&it!=null&&!m.hasOwnProperty(Z)&&mn(o,l,Z,null,m,it);for(_t in m)it=m[_t],ct=h[_t],!m.hasOwnProperty(_t)||it===ct||it==null&&ct==null||mn(o,l,_t,it,m,ct)}var gb=null,pb=null;function Ip(o){return o.nodeType===9?o:o.ownerDocument}function vA(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function bA(o,l){if(o===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&l==="foreignObject"?0:o}function yb(o,l){return o==="textarea"||o==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var _b=null;function BL(){var o=window.event;return o&&o.type==="popstate"?o===_b?!1:(_b=o,!0):(_b=null,!1)}var TA=typeof setTimeout=="function"?setTimeout:void 0,jL=typeof clearTimeout=="function"?clearTimeout:void 0,wA=typeof Promise=="function"?Promise:void 0,$L=typeof queueMicrotask=="function"?queueMicrotask:typeof wA<"u"?function(o){return wA.resolve(null).then(o).catch(HL)}:TA;function HL(o){setTimeout(function(){throw o})}function vb(o,l){var h=l,m=0;do{var _=h.nextSibling;if(o.removeChild(h),_&&_.nodeType===8)if(h=_.data,h==="/$"){if(m===0){o.removeChild(_),Pf(l);return}m--}else h!=="$"&&h!=="$?"&&h!=="$!"||m++;h=_}while(h);Pf(l)}function bb(o){var l=o.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var h=l;switch(l=l.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":bb(h),as(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}o.removeChild(h)}}function qL(o,l,h,m){for(;o.nodeType===1;){var _=h;if(o.nodeName.toLowerCase()!==l.toLowerCase()){if(!m&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(m){if(!o[Pr])switch(l){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(w=o.getAttribute("rel"),w==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(w!==_.rel||o.getAttribute("href")!==(_.href==null?null:_.href)||o.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin)||o.getAttribute("title")!==(_.title==null?null:_.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(w=o.getAttribute("src"),(w!==(_.src==null?null:_.src)||o.getAttribute("type")!==(_.type==null?null:_.type)||o.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin))&&w&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(l==="input"&&o.type==="hidden"){var w=_.name==null?null:""+_.name;if(_.type==="hidden"&&o.getAttribute("name")===w)return o}else return o;if(o=Js(o.nextSibling),o===null)break}return null}function YL(o,l,h){if(l==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!h||(o=Js(o.nextSibling),o===null))return null;return o}function Js(o){for(;o!=null;o=o.nextSibling){var l=o.nodeType;if(l===1||l===3)break;if(l===8){if(l=o.data,l==="$"||l==="$!"||l==="$?"||l==="F!"||l==="F")break;if(l==="/$")return null}}return o}function EA(o){o=o.previousSibling;for(var l=0;o;){if(o.nodeType===8){var h=o.data;if(h==="$"||h==="$!"||h==="$?"){if(l===0)return o;l--}else h==="/$"&&l++}o=o.previousSibling}return null}function xA(o,l,h){switch(l=Ip(h),o){case"html":if(o=l.documentElement,!o)throw Error(i(452));return o;case"head":if(o=l.head,!o)throw Error(i(453));return o;case"body":if(o=l.body,!o)throw Error(i(454));return o;default:throw Error(i(451))}}var zs=new Map,SA=new Set;function Mp(o){return typeof o.getRootNode=="function"?o.getRootNode():o.ownerDocument}var Aa=pt.d;pt.d={f:GL,r:WL,D:KL,C:XL,L:QL,m:ZL,X:tV,S:JL,M:eV};function GL(){var o=Aa.f(),l=Ep();return o||l}function WL(o){var l=_i(o);l!==null&&l.tag===5&&l.type==="form"?Zx(l):Aa.r(o)}var Th=typeof document>"u"?null:document;function AA(o,l,h){var m=Th;if(m&&typeof l=="string"&&l){var _=ni(l);_='link[rel="'+o+'"][href="'+_+'"]',typeof h=="string"&&(_+='[crossorigin="'+h+'"]'),SA.has(_)||(SA.add(_),o={rel:o,crossOrigin:h,href:l},m.querySelector(_)===null&&(l=m.createElement("link"),ir(l,"link",o),Ze(l),m.head.appendChild(l)))}}function KL(o){Aa.D(o),AA("dns-prefetch",o,null)}function XL(o,l){Aa.C(o,l),AA("preconnect",o,l)}function QL(o,l,h){Aa.L(o,l,h);var m=Th;if(m&&o&&l){var _='link[rel="preload"][as="'+ni(l)+'"]';l==="image"&&h&&h.imageSrcSet?(_+='[imagesrcset="'+ni(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(_+='[imagesizes="'+ni(h.imageSizes)+'"]')):_+='[href="'+ni(o)+'"]';var w=_;switch(l){case"style":w=wh(o);break;case"script":w=Eh(o)}zs.has(w)||(o=V({rel:"preload",href:l==="image"&&h&&h.imageSrcSet?void 0:o,as:l},h),zs.set(w,o),m.querySelector(_)!==null||l==="style"&&m.querySelector(Cf(w))||l==="script"&&m.querySelector(Df(w))||(l=m.createElement("link"),ir(l,"link",o),Ze(l),m.head.appendChild(l)))}}function ZL(o,l){Aa.m(o,l);var h=Th;if(h&&o){var m=l&&typeof l.as=="string"?l.as:"script",_='link[rel="modulepreload"][as="'+ni(m)+'"][href="'+ni(o)+'"]',w=_;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=Eh(o)}if(!zs.has(w)&&(o=V({rel:"modulepreload",href:o},l),zs.set(w,o),h.querySelector(_)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(Df(w)))return}m=h.createElement("link"),ir(m,"link",o),Ze(m),h.head.appendChild(m)}}}function JL(o,l,h){Aa.S(o,l,h);var m=Th;if(m&&o){var _=Kr(m).hoistableStyles,w=wh(o);l=l||"default";var M=_.get(w);if(!M){var U={loading:0,preload:null};if(M=m.querySelector(Cf(w)))U.loading=5;else{o=V({rel:"stylesheet",href:o,"data-precedence":l},h),(h=zs.get(w))&&Tb(o,h);var q=M=m.createElement("link");Ze(q),ir(q,"link",o),q._p=new Promise(function(W,ut){q.onload=W,q.onerror=ut}),q.addEventListener("load",function(){U.loading|=1}),q.addEventListener("error",function(){U.loading|=2}),U.loading|=4,Op(M,l,m)}M={type:"stylesheet",instance:M,count:1,state:U},_.set(w,M)}}}function tV(o,l){Aa.X(o,l);var h=Th;if(h&&o){var m=Kr(h).hoistableScripts,_=Eh(o),w=m.get(_);w||(w=h.querySelector(Df(_)),w||(o=V({src:o,async:!0},l),(l=zs.get(_))&&wb(o,l),w=h.createElement("script"),Ze(w),ir(w,"link",o),h.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},m.set(_,w))}}function eV(o,l){Aa.M(o,l);var h=Th;if(h&&o){var m=Kr(h).hoistableScripts,_=Eh(o),w=m.get(_);w||(w=h.querySelector(Df(_)),w||(o=V({src:o,async:!0,type:"module"},l),(l=zs.get(_))&&wb(o,l),w=h.createElement("script"),Ze(w),ir(w,"link",o),h.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},m.set(_,w))}}function RA(o,l,h,m){var _=(_=ge.current)?Mp(_):null;if(!_)throw Error(i(446));switch(o){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(l=wh(h.href),h=Kr(_).hoistableStyles,m=h.get(l),m||(m={type:"style",instance:null,count:0,state:null},h.set(l,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){o=wh(h.href);var w=Kr(_).hoistableStyles,M=w.get(o);if(M||(_=_.ownerDocument||_,M={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(o,M),(w=_.querySelector(Cf(o)))&&!w._p&&(M.instance=w,M.state.loading=5),zs.has(o)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},zs.set(o,h),w||nV(_,o,h,M.state))),l&&m===null)throw Error(i(528,""));return M}if(l&&m!==null)throw Error(i(529,""));return null;case"script":return l=h.async,h=h.src,typeof h=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=Eh(h),h=Kr(_).hoistableScripts,m=h.get(l),m||(m={type:"script",instance:null,count:0,state:null},h.set(l,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,o))}}function wh(o){return'href="'+ni(o)+'"'}function Cf(o){return'link[rel="stylesheet"]['+o+"]"}function CA(o){return V({},o,{"data-precedence":o.precedence,precedence:null})}function nV(o,l,h,m){o.querySelector('link[rel="preload"][as="style"]['+l+"]")?m.loading=1:(l=o.createElement("link"),m.preload=l,l.addEventListener("load",function(){return m.loading|=1}),l.addEventListener("error",function(){return m.loading|=2}),ir(l,"link",h),Ze(l),o.head.appendChild(l))}function Eh(o){return'[src="'+ni(o)+'"]'}function Df(o){return"script[async]"+o}function DA(o,l,h){if(l.count++,l.instance===null)switch(l.type){case"style":var m=o.querySelector('style[data-href~="'+ni(h.href)+'"]');if(m)return l.instance=m,Ze(m),m;var _=V({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return m=(o.ownerDocument||o).createElement("style"),Ze(m),ir(m,"style",_),Op(m,h.precedence,o),l.instance=m;case"stylesheet":_=wh(h.href);var w=o.querySelector(Cf(_));if(w)return l.state.loading|=4,l.instance=w,Ze(w),w;m=CA(h),(_=zs.get(_))&&Tb(m,_),w=(o.ownerDocument||o).createElement("link"),Ze(w);var M=w;return M._p=new Promise(function(U,q){M.onload=U,M.onerror=q}),ir(w,"link",m),l.state.loading|=4,Op(w,h.precedence,o),l.instance=w;case"script":return w=Eh(h.src),(_=o.querySelector(Df(w)))?(l.instance=_,Ze(_),_):(m=h,(_=zs.get(w))&&(m=V({},h),wb(m,_)),o=o.ownerDocument||o,_=o.createElement("script"),Ze(_),ir(_,"link",m),o.head.appendChild(_),l.instance=_);case"void":return null;default:throw Error(i(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(m=l.instance,l.state.loading|=4,Op(m,h.precedence,o));return l.instance}function Op(o,l,h){for(var m=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),_=m.length?m[m.length-1]:null,w=_,M=0;M<m.length;M++){var U=m[M];if(U.dataset.precedence===l)w=U;else if(w!==_)break}w?w.parentNode.insertBefore(o,w.nextSibling):(l=h.nodeType===9?h.head:h,l.insertBefore(o,l.firstChild))}function Tb(o,l){o.crossOrigin==null&&(o.crossOrigin=l.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=l.referrerPolicy),o.title==null&&(o.title=l.title)}function wb(o,l){o.crossOrigin==null&&(o.crossOrigin=l.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=l.referrerPolicy),o.integrity==null&&(o.integrity=l.integrity)}var kp=null;function IA(o,l,h){if(kp===null){var m=new Map,_=kp=new Map;_.set(h,m)}else _=kp,m=_.get(h),m||(m=new Map,_.set(h,m));if(m.has(o))return m;for(m.set(o,null),h=h.getElementsByTagName(o),_=0;_<h.length;_++){var w=h[_];if(!(w[Pr]||w[Lt]||o==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var M=w.getAttribute(l)||"";M=o+M;var U=m.get(M);U?U.push(w):m.set(M,[w])}}return m}function MA(o,l,h){o=o.ownerDocument||o,o.head.insertBefore(h,l==="title"?o.querySelector("head > title"):null)}function iV(o,l,h){if(h===1||l.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return o=l.disabled,typeof l.precedence=="string"&&o==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function OA(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}var If=null;function rV(){}function sV(o,l,h){if(If===null)throw Error(i(475));var m=If;if(l.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var _=wh(h.href),w=o.querySelector(Cf(_));if(w){o=w._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(m.count++,m=Np.bind(m),o.then(m,m)),l.state.loading|=4,l.instance=w,Ze(w);return}w=o.ownerDocument||o,h=CA(h),(_=zs.get(_))&&Tb(h,_),w=w.createElement("link"),Ze(w);var M=w;M._p=new Promise(function(U,q){M.onload=U,M.onerror=q}),ir(w,"link",h),l.instance=w}m.stylesheets===null&&(m.stylesheets=new Map),m.stylesheets.set(l,o),(o=l.state.preload)&&(l.state.loading&3)===0&&(m.count++,l=Np.bind(m),o.addEventListener("load",l),o.addEventListener("error",l))}}function oV(){if(If===null)throw Error(i(475));var o=If;return o.stylesheets&&o.count===0&&Eb(o,o.stylesheets),0<o.count?function(l){var h=setTimeout(function(){if(o.stylesheets&&Eb(o,o.stylesheets),o.unsuspend){var m=o.unsuspend;o.unsuspend=null,m()}},6e4);return o.unsuspend=l,function(){o.unsuspend=null,clearTimeout(h)}}:null}function Np(){if(this.count--,this.count===0){if(this.stylesheets)Eb(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var Pp=null;function Eb(o,l){o.stylesheets=null,o.unsuspend!==null&&(o.count++,Pp=new Map,l.forEach(aV,o),Pp=null,Np.call(o))}function aV(o,l){if(!(l.state.loading&4)){var h=Pp.get(o);if(h)var m=h.get(null);else{h=new Map,Pp.set(o,h);for(var _=o.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<_.length;w++){var M=_[w];(M.nodeName==="LINK"||M.getAttribute("media")!=="not all")&&(h.set(M.dataset.precedence,M),m=M)}m&&h.set(null,m)}_=l.instance,M=_.getAttribute("data-precedence"),w=h.get(M)||m,w===m&&h.set(null,_),h.set(M,_),this.count++,m=Np.bind(this),_.addEventListener("load",m),_.addEventListener("error",m),w?w.parentNode.insertBefore(_,w.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(_,o.firstChild)),l.state.loading|=4}}var Mf={$$typeof:v,Provider:null,Consumer:null,_currentValue:xt,_currentValue2:xt,_threadCount:0};function lV(o,l,h,m,_,w,M,U){this.tag=1,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=st(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=st(0),this.hiddenUpdates=st(null),this.identifierPrefix=m,this.onUncaughtError=_,this.onCaughtError=w,this.onRecoverableError=M,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=U,this.incompleteTransitions=new Map}function kA(o,l,h,m,_,w,M,U,q,W,ut,_t){return o=new lV(o,l,h,M,U,q,W,_t),l=1,w===!0&&(l|=24),w=Vs(3,null,null,l),o.current=w,w.stateNode=o,l=ev(),l.refCount++,o.pooledCache=l,l.refCount++,w.memoizedState={element:m,isDehydrated:h,cache:l},Pv(w),o}function NA(o){return o?(o=eh,o):eh}function PA(o,l,h,m,_,w){_=NA(_),m.context===null?m.context=_:m.pendingContext=_,m=fl(l),m.payload={element:h},w=w===void 0?null:w,w!==null&&(m.callback=w),h=ml(o,m,l),h!==null&&(zr(h,o,l),mf(h,o,l))}function LA(o,l){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var h=o.retryLane;o.retryLane=h!==0&&h<l?h:l}}function xb(o,l){LA(o,l),(o=o.alternate)&&LA(o,l)}function VA(o){if(o.tag===13){var l=ol(o,67108864);l!==null&&zr(l,o,67108864),xb(o,67108864)}}var Lp=!0;function cV(o,l,h,m){var _=k.T;k.T=null;var w=pt.p;try{pt.p=2,Sb(o,l,h,m)}finally{pt.p=w,k.T=_}}function uV(o,l,h,m){var _=k.T;k.T=null;var w=pt.p;try{pt.p=8,Sb(o,l,h,m)}finally{pt.p=w,k.T=_}}function Sb(o,l,h,m){if(Lp){var _=Ab(m);if(_===null)fb(o,l,m,Vp,h),zA(o,m);else if(dV(_,o,l,h,m))m.stopPropagation();else if(zA(o,m),l&4&&-1<hV.indexOf(o)){for(;_!==null;){var w=_i(_);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var M=br(w.pendingLanes);if(M!==0){var U=w;for(U.pendingLanes|=2,U.entangledLanes|=2;M;){var q=1<<31-Pe(M);U.entanglements[1]|=q,M&=~q}Io(w),(Wn&6)===0&&(bp=on()+500,Sf(0))}}break;case 13:U=ol(w,2),U!==null&&zr(U,w,2),Ep(),xb(w,2)}if(w=Ab(m),w===null&&fb(o,l,m,Vp,h),w===_)break;_=w}_!==null&&m.stopPropagation()}else fb(o,l,m,null,h)}}function Ab(o){return o=$u(o),Rb(o)}var Vp=null;function Rb(o){if(Vp=null,o=ui(o),o!==null){var l=ht(o);if(l===null)o=null;else{var h=l.tag;if(h===13){if(o=ot(l),o!==null)return o;o=null}else if(h===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;o=null}else l!==o&&(o=null)}}return Vp=o,null}function UA(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Yn()){case Ue:return 2;case dn:return 8;case ci:case Gs:return 32;case vr:return 268435456;default:return 32}default:return 32}}var Cb=!1,Tl=null,wl=null,El=null,Of=new Map,kf=new Map,xl=[],hV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function zA(o,l){switch(o){case"focusin":case"focusout":Tl=null;break;case"dragenter":case"dragleave":wl=null;break;case"mouseover":case"mouseout":El=null;break;case"pointerover":case"pointerout":Of.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":kf.delete(l.pointerId)}}function Nf(o,l,h,m,_,w){return o===null||o.nativeEvent!==w?(o={blockedOn:l,domEventName:h,eventSystemFlags:m,nativeEvent:w,targetContainers:[_]},l!==null&&(l=_i(l),l!==null&&VA(l)),o):(o.eventSystemFlags|=m,l=o.targetContainers,_!==null&&l.indexOf(_)===-1&&l.push(_),o)}function dV(o,l,h,m,_){switch(l){case"focusin":return Tl=Nf(Tl,o,l,h,m,_),!0;case"dragenter":return wl=Nf(wl,o,l,h,m,_),!0;case"mouseover":return El=Nf(El,o,l,h,m,_),!0;case"pointerover":var w=_.pointerId;return Of.set(w,Nf(Of.get(w)||null,o,l,h,m,_)),!0;case"gotpointercapture":return w=_.pointerId,kf.set(w,Nf(kf.get(w)||null,o,l,h,m,_)),!0}return!1}function FA(o){var l=ui(o.target);if(l!==null){var h=ht(l);if(h!==null){if(l=h.tag,l===13){if(l=ot(h),l!==null){o.blockedOn=l,Mt(o.priority,function(){if(h.tag===13){var m=ds(),_=ol(h,m);_!==null&&zr(_,h,m),xb(h,m)}});return}}else if(l===3&&h.stateNode.current.memoizedState.isDehydrated){o.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Up(o){if(o.blockedOn!==null)return!1;for(var l=o.targetContainers;0<l.length;){var h=Ab(o.nativeEvent);if(h===null){h=o.nativeEvent;var m=new h.constructor(h.type,h);Rs=m,h.target.dispatchEvent(m),Rs=null}else return l=_i(h),l!==null&&VA(l),o.blockedOn=h,!1;l.shift()}return!0}function BA(o,l,h){Up(o)&&h.delete(l)}function fV(){Cb=!1,Tl!==null&&Up(Tl)&&(Tl=null),wl!==null&&Up(wl)&&(wl=null),El!==null&&Up(El)&&(El=null),Of.forEach(BA),kf.forEach(BA)}function zp(o,l){o.blockedOn===l&&(o.blockedOn=null,Cb||(Cb=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,fV)))}var Fp=null;function jA(o){Fp!==o&&(Fp=o,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Fp===o&&(Fp=null);for(var l=0;l<o.length;l+=3){var h=o[l],m=o[l+1],_=o[l+2];if(typeof m!="function"){if(Rb(m||h)===null)continue;break}var w=_i(h);w!==null&&(o.splice(l,3),l-=3,yv(w,{pending:!0,data:_,method:h.method,action:m},m,_))}}))}function Pf(o){function l(q){return zp(q,o)}Tl!==null&&zp(Tl,o),wl!==null&&zp(wl,o),El!==null&&zp(El,o),Of.forEach(l),kf.forEach(l);for(var h=0;h<xl.length;h++){var m=xl[h];m.blockedOn===o&&(m.blockedOn=null)}for(;0<xl.length&&(h=xl[0],h.blockedOn===null);)FA(h),h.blockedOn===null&&xl.shift();if(h=(o.ownerDocument||o).$$reactFormReplay,h!=null)for(m=0;m<h.length;m+=3){var _=h[m],w=h[m+1],M=_[Kt]||null;if(typeof w=="function")M||jA(h);else if(M){var U=null;if(w&&w.hasAttribute("formAction")){if(_=w,M=w[Kt]||null)U=M.formAction;else if(Rb(_)!==null)continue}else U=M.action;typeof U=="function"?h[m+1]=U:(h.splice(m,3),m-=3),jA(h)}}}function Db(o){this._internalRoot=o}Bp.prototype.render=Db.prototype.render=function(o){var l=this._internalRoot;if(l===null)throw Error(i(409));var h=l.current,m=ds();PA(h,m,o,l,null,null)},Bp.prototype.unmount=Db.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var l=o.containerInfo;o.tag===0&&_h(),PA(o.current,2,null,o,null,null),Ep(),l[Ge]=null}};function Bp(o){this._internalRoot=o}Bp.prototype.unstable_scheduleHydration=function(o){if(o){var l=Bt();o={blockedOn:null,target:o,priority:l};for(var h=0;h<xl.length&&l!==0&&l<xl[h].priority;h++);xl.splice(h,0,o),h===0&&FA(o)}};var $A=t.version;if($A!=="19.0.0")throw Error(i(527,$A,"19.0.0"));pt.findDOMNode=function(o){var l=o._reactInternals;if(l===void 0)throw typeof o.render=="function"?Error(i(188)):(o=Object.keys(o).join(","),Error(i(268,o)));return o=rt(l),o=o!==null?wt(o):null,o=o===null?null:o.stateNode,o};var mV={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:k,findFiberByHostInstance:ui,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jp.isDisabled&&jp.supportsFiber)try{Fn=jp.inject(mV),ei=jp}catch{}}return Vf.createRoot=function(o,l){if(!r(o))throw Error(i(299));var h=!1,m="",_=oS,w=aS,M=lS,U=null;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(_=l.onUncaughtError),l.onCaughtError!==void 0&&(w=l.onCaughtError),l.onRecoverableError!==void 0&&(M=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(U=l.unstable_transitionCallbacks)),l=kA(o,1,!1,null,null,h,m,_,w,M,U,null),o[Ge]=l.current,db(o.nodeType===8?o.parentNode:o),new Db(l)},Vf.hydrateRoot=function(o,l,h){if(!r(o))throw Error(i(299));var m=!1,_="",w=oS,M=aS,U=lS,q=null,W=null;return h!=null&&(h.unstable_strictMode===!0&&(m=!0),h.identifierPrefix!==void 0&&(_=h.identifierPrefix),h.onUncaughtError!==void 0&&(w=h.onUncaughtError),h.onCaughtError!==void 0&&(M=h.onCaughtError),h.onRecoverableError!==void 0&&(U=h.onRecoverableError),h.unstable_transitionCallbacks!==void 0&&(q=h.unstable_transitionCallbacks),h.formState!==void 0&&(W=h.formState)),l=kA(o,1,!0,l,h??null,m,_,w,M,U,q,W),l.context=NA(null),h=l.current,m=ds(),_=fl(m),_.callback=null,ml(h,_,m),l.current.lanes=m,dt(l,m),Io(l),o[Ge]=l.current,db(o),new Bp(l)},Vf.version="19.0.0",Vf}var tR;function l3(){if(tR)return Ob.exports;tR=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Ob.exports=a3(),Ob.exports}var c3=l3(),Uf={},eR;function u3(){if(eR)return Uf;eR=1,Object.defineProperty(Uf,"__esModule",{value:!0}),Uf.parse=a,Uf.serialize=d;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,e=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,r=Object.prototype.toString,s=(()=>{const y=function(){};return y.prototype=Object.create(null),y})();function a(y,v){const E=new s,x=y.length;if(x<2)return E;const S=(v==null?void 0:v.decode)||f;let R=0;do{const C=y.indexOf("=",R);if(C===-1)break;const P=y.indexOf(";",R),L=P===-1?x:P;if(C>L){R=y.lastIndexOf(";",C-1)+1;continue}const N=c(y,R,C),j=u(y,C,N),O=y.slice(N,j);if(E[O]===void 0){let D=c(y,C+1,L),k=u(y,L,D);const V=S(y.slice(D,k));E[O]=V}R=L+1}while(R<x);return E}function c(y,v,E){do{const x=y.charCodeAt(v);if(x!==32&&x!==9)return v}while(++v<E);return E}function u(y,v,E){for(;v>E;){const x=y.charCodeAt(--v);if(x!==32&&x!==9)return v+1}return E}function d(y,v,E){const x=(E==null?void 0:E.encode)||encodeURIComponent;if(!n.test(y))throw new TypeError(`argument name is invalid: ${y}`);const S=x(v);if(!t.test(S))throw new TypeError(`argument val is invalid: ${v}`);let R=y+"="+S;if(!E)return R;if(E.maxAge!==void 0){if(!Number.isInteger(E.maxAge))throw new TypeError(`option maxAge is invalid: ${E.maxAge}`);R+="; Max-Age="+E.maxAge}if(E.domain){if(!e.test(E.domain))throw new TypeError(`option domain is invalid: ${E.domain}`);R+="; Domain="+E.domain}if(E.path){if(!i.test(E.path))throw new TypeError(`option path is invalid: ${E.path}`);R+="; Path="+E.path}if(E.expires){if(!g(E.expires)||!Number.isFinite(E.expires.valueOf()))throw new TypeError(`option expires is invalid: ${E.expires}`);R+="; Expires="+E.expires.toUTCString()}if(E.httpOnly&&(R+="; HttpOnly"),E.secure&&(R+="; Secure"),E.partitioned&&(R+="; Partitioned"),E.priority)switch(typeof E.priority=="string"?E.priority.toLowerCase():void 0){case"low":R+="; Priority=Low";break;case"medium":R+="; Priority=Medium";break;case"high":R+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${E.priority}`)}if(E.sameSite)switch(typeof E.sameSite=="string"?E.sameSite.toLowerCase():E.sameSite){case!0:case"strict":R+="; SameSite=Strict";break;case"lax":R+="; SameSite=Lax";break;case"none":R+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${E.sameSite}`)}return R}function f(y){if(y.indexOf("%")===-1)return y;try{return decodeURIComponent(y)}catch{return y}}function g(y){return r.call(y)==="[object Date]"}return Uf}u3();/**
 * react-router v7.4.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var AI=n=>{throw TypeError(n)},h3=(n,t,e)=>t.has(n)||AI("Cannot "+e),Lb=(n,t,e)=>(h3(n,t,"read from private field"),e?e.call(n):t.get(n)),d3=(n,t,e)=>t.has(n)?AI("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(n):t.set(n,e),nR="popstate";function f3(n={}){function t(r,s){let{pathname:a="/",search:c="",hash:u=""}=Ja(r.location.hash.substring(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),xm("",{pathname:a,search:c,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function e(r,s){let a=r.document.querySelector("base"),c="";if(a&&a.getAttribute("href")){let u=r.location.href,d=u.indexOf("#");c=d===-1?u:u.slice(0,d)}return c+"#"+(typeof s=="string"?s:Ql(s))}function i(r,s){Vi(r.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(s)})`)}return g3(t,e,i,n)}function Oe(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function Vi(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function m3(){return Math.random().toString(36).substring(2,10)}function iR(n,t){return{usr:n.state,key:n.key,idx:t}}function xm(n,t,e=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof t=="string"?Ja(t):t,state:e,key:t&&t.key||i||m3()}}function Ql({pathname:n="/",search:t="",hash:e=""}){return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(n+=e.charAt(0)==="#"?e:"#"+e),n}function Ja(n){let t={};if(n){let e=n.indexOf("#");e>=0&&(t.hash=n.substring(e),n=n.substring(0,e));let i=n.indexOf("?");i>=0&&(t.search=n.substring(i),n=n.substring(0,i)),n&&(t.pathname=n)}return t}function g3(n,t,e,i={}){let{window:r=document.defaultView,v5Compat:s=!1}=i,a=r.history,c="POP",u=null,d=f();d==null&&(d=0,a.replaceState({...a.state,idx:d},""));function f(){return(a.state||{idx:null}).idx}function g(){c="POP";let S=f(),R=S==null?null:S-d;d=S,u&&u({action:c,location:x.location,delta:R})}function y(S,R){c="PUSH";let C=xm(x.location,S,R);e&&e(C,S),d=f()+1;let P=iR(C,d),L=x.createHref(C);try{a.pushState(P,"",L)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;r.location.assign(L)}s&&u&&u({action:c,location:x.location,delta:1})}function v(S,R){c="REPLACE";let C=xm(x.location,S,R);e&&e(C,S),d=f();let P=iR(C,d),L=x.createHref(C);a.replaceState(P,"",L),s&&u&&u({action:c,location:x.location,delta:0})}function E(S){let R=r.location.origin!=="null"?r.location.origin:r.location.href,C=typeof S=="string"?S:Ql(S);return C=C.replace(/ $/,"%20"),Oe(R,`No window.location.(origin|href) available to create URL for href: ${C}`),new URL(C,R)}let x={get action(){return c},get location(){return n(r,a)},listen(S){if(u)throw new Error("A history only accepts one active listener");return r.addEventListener(nR,g),u=S,()=>{r.removeEventListener(nR,g),u=null}},createHref(S){return t(r,S)},createURL:E,encodeLocation(S){let R=E(S);return{pathname:R.pathname,search:R.search,hash:R.hash}},push:y,replace:v,go(S){return a.go(S)}};return x}var Kf,rR=class{constructor(n){if(d3(this,Kf,new Map),n)for(let[t,e]of n)this.set(t,e)}get(n){if(Lb(this,Kf).has(n))return Lb(this,Kf).get(n);if(n.defaultValue!==void 0)return n.defaultValue;throw new Error("No value found for context")}set(n,t){Lb(this,Kf).set(n,t)}};Kf=new WeakMap;var p3=new Set(["lazy","caseSensitive","path","id","index","children"]);function y3(n){return n.index===!0}function Gy(n,t,e=[],i={}){return n.map((r,s)=>{let a=[...e,String(s)],c=typeof r.id=="string"?r.id:a.join("-");if(Oe(r.index!==!0||!r.children,"Cannot specify children on an index route"),Oe(!i[c],`Found a route id collision on id "${c}".  Route id's must be globally unique within Data Router usages`),y3(r)){let u={...r,...t(r),id:c};return i[c]=u,u}else{let u={...r,...t(r),id:c,children:void 0};return i[c]=u,r.children&&(u.children=Gy(r.children,t,a,i)),u}})}function Il(n,t,e="/"){return py(n,t,e,!1)}function py(n,t,e,i){let r=typeof t=="string"?Ja(t):t,s=qs(r.pathname||"/",e);if(s==null)return null;let a=RI(n);v3(a);let c=null;for(let u=0;c==null&&u<a.length;++u){let d=I3(s);c=C3(a[u],d,i)}return c}function _3(n,t){let{route:e,pathname:i,params:r}=n;return{id:e.id,pathname:i,params:r,data:t[e.id],handle:e.handle}}function RI(n,t=[],e=[],i=""){let r=(s,a,c)=>{let u={relativePath:c===void 0?s.path||"":c,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};u.relativePath.startsWith("/")&&(Oe(u.relativePath.startsWith(i),`Absolute route path "${u.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(i.length));let d=zo([i,u.relativePath]),f=e.concat(u);s.children&&s.children.length>0&&(Oe(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),RI(s.children,t,f,d)),!(s.path==null&&!s.index)&&t.push({path:d,score:A3(d,s.index),routesMeta:f})};return n.forEach((s,a)=>{var c;if(s.path===""||!((c=s.path)!=null&&c.includes("?")))r(s,a);else for(let u of CI(s.path))r(s,a,u)}),t}function CI(n){let t=n.split("/");if(t.length===0)return[];let[e,...i]=t,r=e.endsWith("?"),s=e.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let a=CI(i.join("/")),c=[];return c.push(...a.map(u=>u===""?s:[s,u].join("/"))),r&&c.push(...a),c.map(u=>n.startsWith("/")&&u===""?"/":u)}function v3(n){n.sort((t,e)=>t.score!==e.score?e.score-t.score:R3(t.routesMeta.map(i=>i.childrenIndex),e.routesMeta.map(i=>i.childrenIndex)))}var b3=/^:[\w-]+$/,T3=3,w3=2,E3=1,x3=10,S3=-2,sR=n=>n==="*";function A3(n,t){let e=n.split("/"),i=e.length;return e.some(sR)&&(i+=S3),t&&(i+=w3),e.filter(r=>!sR(r)).reduce((r,s)=>r+(b3.test(s)?T3:s===""?E3:x3),i)}function R3(n,t){return n.length===t.length&&n.slice(0,-1).every((i,r)=>i===t[r])?n[n.length-1]-t[t.length-1]:0}function C3(n,t,e=!1){let{routesMeta:i}=n,r={},s="/",a=[];for(let c=0;c<i.length;++c){let u=i[c],d=c===i.length-1,f=s==="/"?t:t.slice(s.length)||"/",g=Wy({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},f),y=u.route;if(!g&&d&&e&&!i[i.length-1].route.index&&(g=Wy({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},f)),!g)return null;Object.assign(r,g.params),a.push({params:r,pathname:zo([s,g.pathname]),pathnameBase:k3(zo([s,g.pathnameBase])),route:y}),g.pathnameBase!=="/"&&(s=zo([s,g.pathnameBase]))}return a}function Wy(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[e,i]=D3(n.path,n.caseSensitive,n.end),r=t.match(e);if(!r)return null;let s=r[0],a=s.replace(/(.)\/+$/,"$1"),c=r.slice(1);return{params:i.reduce((d,{paramName:f,isOptional:g},y)=>{if(f==="*"){let E=c[y]||"";a=s.slice(0,s.length-E.length).replace(/(.)\/+$/,"$1")}const v=c[y];return g&&!v?d[f]=void 0:d[f]=(v||"").replace(/%2F/g,"/"),d},{}),pathname:s,pathnameBase:a,pattern:n}}function D3(n,t=!1,e=!0){Vi(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,c,u)=>(i.push({paramName:c,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),i]}function I3(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Vi(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),n}}function qs(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,i=n.charAt(e);return i&&i!=="/"?null:n.slice(e)||"/"}function M3(n,t="/"){let{pathname:e,search:i="",hash:r=""}=typeof n=="string"?Ja(n):n;return{pathname:e?e.startsWith("/")?e:O3(e,t):t,search:N3(i),hash:P3(r)}}function O3(n,t){let e=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?e.length>1&&e.pop():r!=="."&&e.push(r)}),e.length>1?e.join("/"):"/"}function Vb(n,t,e,i){return`Cannot include a '${n}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function DI(n){return n.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function j0(n){let t=DI(n);return t.map((e,i)=>i===t.length-1?e.pathname:e.pathnameBase)}function $0(n,t,e,i=!1){let r;typeof n=="string"?r=Ja(n):(r={...n},Oe(!r.pathname||!r.pathname.includes("?"),Vb("?","pathname","search",r)),Oe(!r.pathname||!r.pathname.includes("#"),Vb("#","pathname","hash",r)),Oe(!r.search||!r.search.includes("#"),Vb("#","search","hash",r)));let s=n===""||r.pathname==="",a=s?"/":r.pathname,c;if(a==null)c=e;else{let g=t.length-1;if(!i&&a.startsWith("..")){let y=a.split("/");for(;y[0]==="..";)y.shift(),g-=1;r.pathname=y.join("/")}c=g>=0?t[g]:"/"}let u=M3(r,c),d=a&&a!=="/"&&a.endsWith("/"),f=(s||a===".")&&e.endsWith("/");return!u.pathname.endsWith("/")&&(d||f)&&(u.pathname+="/"),u}var zo=n=>n.join("/").replace(/\/\/+/g,"/"),k3=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),N3=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,P3=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,Ky=class{constructor(n,t,e,i=!1){this.status=n,this.statusText=t||"",this.internal=i,e instanceof Error?(this.data=e.toString(),this.error=e):this.data=e}};function Sm(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var II=["POST","PUT","PATCH","DELETE"],L3=new Set(II),V3=["GET",...II],U3=new Set(V3),z3=new Set([301,302,303,307,308]),F3=new Set([307,308]),Ub={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},B3={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},zf={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Pw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,j3=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),MI="remix-router-transitions",OI=Symbol("ResetLoaderData");function $3(n){const t=n.window?n.window:typeof window<"u"?window:void 0,e=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u";Oe(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let i=n.mapRouteProperties||j3,r={},s=Gy(n.routes,i,void 0,r),a,c=n.basename||"/",u=n.dataStrategy||W3,d={unstable_middleware:!1,...n.future},f=null,g=new Set,y=null,v=null,E=null,x=n.hydrationData!=null,S=Il(s,n.history.location,c),R=!1,C=null;if(S==null&&!n.patchRoutesOnNavigation){let Y=js(404,{pathname:n.history.location.pathname}),{matches:Q,route:st}=yR(s);S=Q,C={[st.id]:Y}}S&&!n.hydrationData&&br(S,s,n.history.location.pathname).active&&(S=null);let P;if(S)if(S.some(Y=>Y.route.lazy))P=!1;else if(!S.some(Y=>Y.route.loader))P=!0;else{let Y=n.hydrationData?n.hydrationData.loaderData:null,Q=n.hydrationData?n.hydrationData.errors:null;if(Q){let st=S.findIndex(dt=>Q[dt.route.id]!==void 0);P=S.slice(0,st+1).every(dt=>!RT(dt.route,Y,Q))}else P=S.every(st=>!RT(st.route,Y,Q))}else{P=!1,S=[];let Y=br(null,s,n.history.location.pathname);Y.active&&Y.matches&&(R=!0,S=Y.matches)}let L,N={historyAction:n.history.action,location:n.history.location,matches:S,initialized:P,navigation:Ub,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||C,fetchers:new Map,blockers:new Map},j="POP",O=!1,D,k=!1,V=new Map,B=null,$=!1,z=!1,bt=new Set,J=new Map,X=0,lt=-1,ht=new Map,ot=new Set,H=new Map,rt=new Map,wt=new Set,Tt=new Map,pt,xt=null;function St(){if(f=n.history.listen(({action:Y,location:Q,delta:st})=>{if(pt){pt(),pt=void 0;return}Vi(Tt.size===0||st!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let dt=Pe({currentLocation:N.location,nextLocation:Q,historyAction:Y});if(dt&&st!=null){let Dt=new Promise(Ht=>{pt=Ht});n.history.go(st*-1),pe(dt,{state:"blocked",location:Q,proceed(){pe(dt,{state:"proceeding",proceed:void 0,reset:void 0,location:Q}),Dt.then(()=>n.history.go(st))},reset(){let Ht=new Map(N.blockers);Ht.set(dt,zf),Gt({blockers:Ht})}});return}return ge(Y,Q)}),e){o4(t,V);let Y=()=>a4(t,V);t.addEventListener("pagehide",Y),B=()=>t.removeEventListener("pagehide",Y)}return N.initialized||ge("POP",N.location,{initialHydration:!0}),L}function Xt(){f&&f(),B&&B(),g.clear(),D&&D.abort(),N.fetchers.forEach((Y,Q)=>ci(Q)),N.blockers.forEach((Y,Q)=>os(Q))}function ce(Y){return g.add(Y),()=>g.delete(Y)}function Gt(Y,Q={}){N={...N,...Y};let st=[],dt=[];N.fetchers.forEach((Dt,Ht)=>{Dt.state==="idle"&&(wt.has(Ht)?st.push(Ht):dt.push(Ht))}),wt.forEach(Dt=>{!N.fetchers.has(Dt)&&!J.has(Dt)&&st.push(Dt)}),[...g].forEach(Dt=>Dt(N,{deletedFetchers:st,viewTransitionOpts:Q.viewTransitionOpts,flushSync:Q.flushSync===!0})),st.forEach(Dt=>ci(Dt)),dt.forEach(Dt=>N.fetchers.delete(Dt))}function Wt(Y,Q,{flushSync:st}={}){var Mt,Pt;let dt=N.actionData!=null&&N.navigation.formMethod!=null&&to(N.navigation.formMethod)&&N.navigation.state==="loading"&&((Mt=Y.state)==null?void 0:Mt._isRedirect)!==!0,Dt;Q.actionData?Object.keys(Q.actionData).length>0?Dt=Q.actionData:Dt=null:dt?Dt=N.actionData:Dt=null;let Ht=Q.loaderData?gR(N.loaderData,Q.loaderData,Q.matches||[],Q.errors):N.loaderData,$t=N.blockers;$t.size>0&&($t=new Map($t),$t.forEach((Lt,Kt)=>$t.set(Kt,zf)));let zt=O===!0||N.navigation.formMethod!=null&&to(N.navigation.formMethod)&&((Pt=Y.state)==null?void 0:Pt._isRedirect)!==!0;a&&(s=a,a=void 0),$||j==="POP"||(j==="PUSH"?n.history.push(Y,Y.state):j==="REPLACE"&&n.history.replace(Y,Y.state));let Bt;if(j==="POP"){let Lt=V.get(N.location.pathname);Lt&&Lt.has(Y.pathname)?Bt={currentLocation:N.location,nextLocation:Y}:V.has(Y.pathname)&&(Bt={currentLocation:Y,nextLocation:N.location})}else if(k){let Lt=V.get(N.location.pathname);Lt?Lt.add(Y.pathname):(Lt=new Set([Y.pathname]),V.set(N.location.pathname,Lt)),Bt={currentLocation:N.location,nextLocation:Y}}Gt({...Q,actionData:Dt,loaderData:Ht,historyAction:j,location:Y,initialized:!0,navigation:Ub,revalidation:"idle",restoreScrollPosition:Ws(Y,Q.matches||N.matches),preventScrollReset:zt,blockers:$t},{viewTransitionOpts:Bt,flushSync:st===!0}),j="POP",O=!1,k=!1,$=!1,z=!1,xt==null||xt.resolve(),xt=null}async function Ye(Y,Q){if(typeof Y=="number"){n.history.go(Y);return}let st=AT(N.location,N.matches,c,Y,Q==null?void 0:Q.fromRouteId,Q==null?void 0:Q.relative),{path:dt,submission:Dt,error:Ht}=oR(!1,st,Q),$t=N.location,zt=xm(N.location,dt,Q&&Q.state);zt={...zt,...n.history.encodeLocation(zt)};let Bt=Q&&Q.replace!=null?Q.replace:void 0,Mt="PUSH";Bt===!0?Mt="REPLACE":Bt===!1||Dt!=null&&to(Dt.formMethod)&&Dt.formAction===N.location.pathname+N.location.search&&(Mt="REPLACE");let Pt=Q&&"preventScrollReset"in Q?Q.preventScrollReset===!0:void 0,Lt=(Q&&Q.flushSync)===!0,Kt=Pe({currentLocation:$t,nextLocation:zt,historyAction:Mt});if(Kt){pe(Kt,{state:"blocked",location:zt,proceed(){pe(Kt,{state:"proceeding",proceed:void 0,reset:void 0,location:zt}),Ye(Y,Q)},reset(){let Ge=new Map(N.blockers);Ge.set(Kt,zf),Gt({blockers:Ge})}});return}await ge(Mt,zt,{submission:Dt,pendingError:Ht,preventScrollReset:Pt,replace:Q&&Q.replace,enableViewTransition:Q&&Q.viewTransition,flushSync:Lt})}function kn(){xt||(xt=l4()),on(),Gt({revalidation:"loading"});let Y=xt.promise;return N.navigation.state==="submitting"?Y:N.navigation.state==="idle"?(ge(N.historyAction,N.location,{startUninterruptedRevalidation:!0}),Y):(ge(j||N.historyAction,N.navigation.location,{overrideNavigation:N.navigation,enableViewTransition:k===!0}),Y)}async function ge(Y,Q,st){D&&D.abort(),D=null,j=Y,$=(st&&st.startUninterruptedRevalidation)===!0,ws(N.location,N.matches),O=(st&&st.preventScrollReset)===!0,k=(st&&st.enableViewTransition)===!0;let dt=a||s,Dt=st&&st.overrideNavigation,Ht=st!=null&&st.initialHydration&&N.matches&&N.matches.length>0&&!R?N.matches:Il(dt,Q,c),$t=(st&&st.flushSync)===!0;if(Ht&&N.initialized&&!z&&e4(N.location,Q)&&!(st&&st.submission&&to(st.submission.formMethod))){Wt(Q,{matches:Ht},{flushSync:$t});return}let zt=br(Ht,dt,Q.pathname);if(zt.active&&zt.matches&&(Ht=zt.matches),!Ht){let{error:yn,notFoundMatches:He,route:Pn}=go(Q.pathname);Wt(Q,{matches:He,loaderData:{},errors:{[Pn.id]:yn}},{flushSync:$t});return}D=new AbortController;let Bt=xh(n.history,Q,D.signal,st&&st.submission),Mt=new rR(n.unstable_getContext?await n.unstable_getContext():void 0),Pt;if(st&&st.pendingError)Pt=[ou(Ht).route.id,{type:"error",error:st.pendingError}];else if(st&&st.submission&&to(st.submission.formMethod)){let yn=await Nn(Bt,Q,st.submission,Ht,Mt,zt.active,{replace:st.replace,flushSync:$t});if(yn.shortCircuited)return;if(yn.pendingActionResult){let[He,Pn]=yn.pendingActionResult;if(ps(Pn)&&Sm(Pn.error)&&Pn.error.status===404){D=null,Wt(Q,{matches:yn.matches,loaderData:{},errors:{[He]:Pn.error}});return}}Ht=yn.matches||Ht,Pt=yn.pendingActionResult,Dt=zb(Q,st.submission),$t=!1,zt.active=!1,Bt=xh(n.history,Bt.url,Bt.signal)}let{shortCircuited:Lt,matches:Kt,loaderData:Ge,errors:Bn}=await Jn(Bt,Q,Ht,Mt,zt.active,Dt,st&&st.submission,st&&st.fetcherSubmission,st&&st.replace,st&&st.initialHydration===!0,$t,Pt);Lt||(D=null,Wt(Q,{matches:Kt||Ht,...pR(Pt),loaderData:Ge,errors:Bn}))}async function Nn(Y,Q,st,dt,Dt,Ht,$t={}){on();let zt=r4(Q,st);if(Gt({navigation:zt},{flushSync:$t.flushSync===!0}),Ht){let Pt=await Ji(dt,Q.pathname,Y.signal);if(Pt.type==="aborted")return{shortCircuited:!0};if(Pt.type==="error"){let Lt=ou(Pt.partialMatches).route.id;return{matches:Pt.partialMatches,pendingActionResult:[Lt,{type:"error",error:Pt.error}]}}else if(Pt.matches)dt=Pt.matches;else{let{notFoundMatches:Lt,error:Kt,route:Ge}=go(Q.pathname);return{matches:Lt,pendingActionResult:[Ge.id,{type:"error",error:Kt}]}}}let Bt,Mt=Xf(dt,Q);if(!Mt.route.action&&!Mt.route.lazy)Bt={type:"error",error:js(405,{method:Y.method,pathname:Q.pathname,routeId:Mt.route.id})};else{let Pt=await sn("action",Y,[Mt],dt,Dt,null);if(Bt=Pt[Mt.route.id],!Bt){for(let Lt of dt)if(Pt[Lt.route.id]){Bt=Pt[Lt.route.id];break}}if(Y.signal.aborted)return{shortCircuited:!0}}if(lu(Bt)){let Pt;return $t&&$t.replace!=null?Pt=$t.replace:Pt=dR(Bt.response.headers.get("Location"),new URL(Y.url),c)===N.location.pathname+N.location.search,await li(Y,Bt,!0,{submission:st,replace:Pt}),{shortCircuited:!0}}if(ps(Bt)){let Pt=ou(dt,Mt.route.id);return($t&&$t.replace)!==!0&&(j="PUSH"),{matches:dt,pendingActionResult:[Pt.route.id,Bt]}}return{matches:dt,pendingActionResult:[Mt.route.id,Bt]}}async function Jn(Y,Q,st,dt,Dt,Ht,$t,zt,Bt,Mt,Pt,Lt){let Kt=Ht||zb(Q,$t),Ge=$t||zt||vR(Kt),Bn=!$&&!Mt;if(Dt){if(Bn){let Je=hn(Lt);Gt({navigation:Kt,...Je!==void 0?{actionData:Je}:{}},{flushSync:Pt})}let be=await Ji(st,Q.pathname,Y.signal);if(be.type==="aborted")return{shortCircuited:!0};if(be.type==="error"){let Je=ou(be.partialMatches).route.id;return{matches:be.partialMatches,loaderData:{},errors:{[Je]:be.error}}}else if(be.matches)st=be.matches;else{let{error:Je,notFoundMatches:Fi,route:ra}=go(Q.pathname);return{matches:Fi,loaderData:{},errors:{[ra.id]:Je}}}}let yn=a||s,[He,Pn]=lR(n.history,N,st,Ge,Q,Mt===!0,z,bt,wt,H,ot,yn,c,Lt);if(lt=++X,He.length===0&&Pn.length===0){let be=Wr();return Wt(Q,{matches:st,loaderData:{},errors:Lt&&ps(Lt[1])?{[Lt[0]]:Lt[1].error}:null,...pR(Lt),...be?{fetchers:new Map(N.fetchers)}:{}},{flushSync:Pt}),{shortCircuited:!0}}if(Bn){let be={};if(!Dt){be.navigation=Kt;let Je=hn(Lt);Je!==void 0&&(be.actionData=Je)}Pn.length>0&&(be.fetchers=ti(Pn)),Gt(be,{flushSync:Pt})}Pn.forEach(be=>{vr(be.key),be.controller&&J.set(be.key,be.controller)});let Pr=()=>Pn.forEach(be=>vr(be.key));D&&D.signal.addEventListener("abort",Pr);let{loaderResults:as,fetcherResults:ui}=await Ai(st,He,Pn,Y,dt);if(Y.signal.aborted)return{shortCircuited:!0};D&&D.signal.removeEventListener("abort",Pr),Pn.forEach(be=>J.delete(be.key));let _i=$p(as);if(_i)return await li(Y,_i.result,!0,{replace:Bt}),{shortCircuited:!0};if(_i=$p(ui),_i)return ot.add(_i.key),await li(Y,_i.result,!0,{replace:Bt}),{shortCircuited:!0};let{loaderData:Es,errors:Kr}=mR(N,st,as,Lt,Pn,ui);Mt&&N.errors&&(Kr={...N.errors,...Kr});let Ze=Wr(),yo=Fn(lt),Ks=Ze||yo||Pn.length>0;return{matches:st,loaderData:Es,errors:Kr,...Ks?{fetchers:new Map(N.fetchers)}:{}}}function hn(Y){if(Y&&!ps(Y[1]))return{[Y[0]]:Y[1].data};if(N.actionData)return Object.keys(N.actionData).length===0?null:N.actionData}function ti(Y){return Y.forEach(Q=>{let st=N.fetchers.get(Q.key),dt=Ff(void 0,st?st.data:void 0);N.fetchers.set(Q.key,dt)}),new Map(N.fetchers)}async function Nr(Y,Q,st,dt){vr(Y);let Dt=(dt&&dt.flushSync)===!0,Ht=a||s,$t=AT(N.location,N.matches,c,st,Q,dt==null?void 0:dt.relative),zt=Il(Ht,$t,c),Bt=br(zt,Ht,$t);if(Bt.active&&Bt.matches&&(zt=Bt.matches),!zt){Ue(Y,Q,js(404,{pathname:$t}),{flushSync:Dt});return}let{path:Mt,submission:Pt,error:Lt}=oR(!0,$t,dt);if(Lt){Ue(Y,Q,Lt,{flushSync:Dt});return}let Kt=Xf(zt,Mt),Ge=new rR(n.unstable_getContext?await n.unstable_getContext():void 0),Bn=(dt&&dt.preventScrollReset)===!0;if(Pt&&to(Pt.formMethod)){await Si(Y,Q,Mt,Kt,zt,Ge,Bt.active,Dt,Bn,Pt);return}H.set(Y,{routeId:Q,path:Mt}),await zn(Y,Q,Mt,Kt,zt,Ge,Bt.active,Dt,Bn,Pt)}async function Si(Y,Q,st,dt,Dt,Ht,$t,zt,Bt,Mt){on(),H.delete(Y);function Pt(wn){if(!wn.route.action&&!wn.route.lazy){let xs=js(405,{method:Mt.formMethod,pathname:st,routeId:Q});return Ue(Y,Q,xs,{flushSync:zt}),!0}return!1}if(!$t&&Pt(dt))return;let Lt=N.fetchers.get(Y);Yn(Y,s4(Mt,Lt),{flushSync:zt});let Kt=new AbortController,Ge=xh(n.history,st,Kt.signal,Mt);if($t){let wn=await Ji(Dt,st,Ge.signal,Y);if(wn.type==="aborted")return;if(wn.type==="error"){Ue(Y,Q,wn.error,{flushSync:zt});return}else if(wn.matches){if(Dt=wn.matches,dt=Xf(Dt,st),Pt(dt))return}else{Ue(Y,Q,js(404,{pathname:st}),{flushSync:zt});return}}J.set(Y,Kt);let Bn=X,He=(await sn("action",Ge,[dt],Dt,Ht,Y))[dt.route.id];if(Ge.signal.aborted){J.get(Y)===Kt&&J.delete(Y);return}if(wt.has(Y)){if(lu(He)||ps(He)){Yn(Y,Dl(void 0));return}}else{if(lu(He))if(J.delete(Y),lt>Bn){Yn(Y,Dl(void 0));return}else return ot.add(Y),Yn(Y,Ff(Mt)),li(Ge,He,!1,{fetcherSubmission:Mt,preventScrollReset:Bt});if(ps(He)){Ue(Y,Q,He.error);return}}let Pn=N.navigation.location||N.location,Pr=xh(n.history,Pn,Kt.signal),as=a||s,ui=N.navigation.state!=="idle"?Il(as,N.navigation.location,c):N.matches;Oe(ui,"Didn't find any matches after fetcher action");let _i=++X;ht.set(Y,_i);let Es=Ff(Mt,He.data);N.fetchers.set(Y,Es);let[Kr,Ze]=lR(n.history,N,ui,Mt,Pn,!1,z,bt,wt,H,ot,as,c,[dt.route.id,He]);Ze.filter(wn=>wn.key!==Y).forEach(wn=>{let xs=wn.key,Tc=N.fetchers.get(xs),_o=Ff(void 0,Tc?Tc.data:void 0);N.fetchers.set(xs,_o),vr(xs),wn.controller&&J.set(xs,wn.controller)}),Gt({fetchers:new Map(N.fetchers)});let yo=()=>Ze.forEach(wn=>vr(wn.key));Kt.signal.addEventListener("abort",yo);let{loaderResults:Ks,fetcherResults:be}=await Ai(ui,Kr,Ze,Pr,Ht);if(Kt.signal.aborted)return;Kt.signal.removeEventListener("abort",yo),ht.delete(Y),J.delete(Y),Ze.forEach(wn=>J.delete(wn.key));let Je=$p(Ks);if(Je)return li(Pr,Je.result,!1,{preventScrollReset:Bt});if(Je=$p(be),Je)return ot.add(Je.key),li(Pr,Je.result,!1,{preventScrollReset:Bt});let{loaderData:Fi,errors:ra}=mR(N,ui,Ks,void 0,Ze,be);if(N.fetchers.has(Y)){let wn=Dl(He.data);N.fetchers.set(Y,wn)}Fn(_i),N.navigation.state==="loading"&&_i>lt?(Oe(j,"Expected pending action"),D&&D.abort(),Wt(N.navigation.location,{matches:ui,loaderData:Fi,errors:ra,fetchers:new Map(N.fetchers)})):(Gt({errors:ra,loaderData:gR(N.loaderData,Fi,ui,ra),fetchers:new Map(N.fetchers)}),z=!1)}async function zn(Y,Q,st,dt,Dt,Ht,$t,zt,Bt,Mt){let Pt=N.fetchers.get(Y);Yn(Y,Ff(Mt,Pt?Pt.data:void 0),{flushSync:zt});let Lt=new AbortController,Kt=xh(n.history,st,Lt.signal);if($t){let He=await Ji(Dt,st,Kt.signal,Y);if(He.type==="aborted")return;if(He.type==="error"){Ue(Y,Q,He.error,{flushSync:zt});return}else if(He.matches)Dt=He.matches,dt=Xf(Dt,st);else{Ue(Y,Q,js(404,{pathname:st}),{flushSync:zt});return}}J.set(Y,Lt);let Ge=X,yn=(await sn("loader",Kt,[dt],Dt,Ht,Y))[dt.route.id];if(J.get(Y)===Lt&&J.delete(Y),!Kt.signal.aborted){if(wt.has(Y)){Yn(Y,Dl(void 0));return}if(lu(yn))if(lt>Ge){Yn(Y,Dl(void 0));return}else{ot.add(Y),await li(Kt,yn,!1,{preventScrollReset:Bt});return}if(ps(yn)){Ue(Y,Q,yn.error);return}Yn(Y,Dl(yn.data))}}async function li(Y,Q,st,{submission:dt,fetcherSubmission:Dt,preventScrollReset:Ht,replace:$t}={}){Q.response.headers.has("X-Remix-Revalidate")&&(z=!0);let zt=Q.response.headers.get("Location");Oe(zt,"Expected a Location header on the redirect Response"),zt=dR(zt,new URL(Y.url),c);let Bt=xm(N.location,zt,{_isRedirect:!0});if(e){let Bn=!1;if(Q.response.headers.has("X-Remix-Reload-Document"))Bn=!0;else if(Pw.test(zt)){const yn=n.history.createURL(zt);Bn=yn.origin!==t.location.origin||qs(yn.pathname,c)==null}if(Bn){$t?t.location.replace(zt):t.location.assign(zt);return}}D=null;let Mt=$t===!0||Q.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Pt,formAction:Lt,formEncType:Kt}=N.navigation;!dt&&!Dt&&Pt&&Lt&&Kt&&(dt=vR(N.navigation));let Ge=dt||Dt;if(F3.has(Q.response.status)&&Ge&&to(Ge.formMethod))await ge(Mt,Bt,{submission:{...Ge,formAction:zt},preventScrollReset:Ht||O,enableViewTransition:st?k:void 0});else{let Bn=zb(Bt,dt);await ge(Mt,Bt,{overrideNavigation:Bn,fetcherSubmission:Dt,preventScrollReset:Ht||O,enableViewTransition:st?k:void 0})}}async function sn(Y,Q,st,dt,Dt,Ht){let $t,zt={};try{$t=await X3(u,Y,Q,st,dt,Ht,r,i,Dt,d.unstable_middleware)}catch(Bt){return st.forEach(Mt=>{zt[Mt.route.id]={type:"error",error:Bt}}),zt}for(let[Bt,Mt]of Object.entries($t))if(n4(Mt)){let Pt=Mt.result;zt[Bt]={type:"redirect",response:J3(Pt,Q,Bt,dt,c)}}else zt[Bt]=await Z3(Mt);return zt}async function Ai(Y,Q,st,dt,Dt){let Ht=sn("loader",dt,Q,Y,Dt,null),$t=Promise.all(st.map(async Mt=>{if(Mt.matches&&Mt.match&&Mt.controller){let Lt=(await sn("loader",xh(n.history,Mt.path,Mt.controller.signal),[Mt.match],Mt.matches,Dt,Mt.key))[Mt.match.route.id];return{[Mt.key]:Lt}}else return Promise.resolve({[Mt.key]:{type:"error",error:js(404,{pathname:Mt.path})}})})),zt=await Ht,Bt=(await $t).reduce((Mt,Pt)=>Object.assign(Mt,Pt),{});return{loaderResults:zt,fetcherResults:Bt}}function on(){z=!0,H.forEach((Y,Q)=>{J.has(Q)&&bt.add(Q),vr(Q)})}function Yn(Y,Q,st={}){N.fetchers.set(Y,Q),Gt({fetchers:new Map(N.fetchers)},{flushSync:(st&&st.flushSync)===!0})}function Ue(Y,Q,st,dt={}){let Dt=ou(N.matches,Q);ci(Y),Gt({errors:{[Dt.route.id]:st},fetchers:new Map(N.fetchers)},{flushSync:(dt&&dt.flushSync)===!0})}function dn(Y){return rt.set(Y,(rt.get(Y)||0)+1),wt.has(Y)&&wt.delete(Y),N.fetchers.get(Y)||B3}function ci(Y){let Q=N.fetchers.get(Y);J.has(Y)&&!(Q&&Q.state==="loading"&&ht.has(Y))&&vr(Y),H.delete(Y),ht.delete(Y),ot.delete(Y),wt.delete(Y),bt.delete(Y),N.fetchers.delete(Y)}function Gs(Y){let Q=(rt.get(Y)||0)-1;Q<=0?(rt.delete(Y),wt.add(Y)):rt.set(Y,Q),Gt({fetchers:new Map(N.fetchers)})}function vr(Y){let Q=J.get(Y);Q&&(Q.abort(),J.delete(Y))}function mo(Y){for(let Q of Y){let st=dn(Q),dt=Dl(st.data);N.fetchers.set(Q,dt)}}function Wr(){let Y=[],Q=!1;for(let st of ot){let dt=N.fetchers.get(st);Oe(dt,`Expected fetcher: ${st}`),dt.state==="loading"&&(ot.delete(st),Y.push(st),Q=!0)}return mo(Y),Q}function Fn(Y){let Q=[];for(let[st,dt]of ht)if(dt<Y){let Dt=N.fetchers.get(st);Oe(Dt,`Expected fetcher: ${st}`),Dt.state==="loading"&&(vr(st),ht.delete(st),Q.push(st))}return mo(Q),Q.length>0}function ei(Y,Q){let st=N.blockers.get(Y)||zf;return Tt.get(Y)!==Q&&Tt.set(Y,Q),st}function os(Y){N.blockers.delete(Y),Tt.delete(Y)}function pe(Y,Q){let st=N.blockers.get(Y)||zf;Oe(st.state==="unblocked"&&Q.state==="blocked"||st.state==="blocked"&&Q.state==="blocked"||st.state==="blocked"&&Q.state==="proceeding"||st.state==="blocked"&&Q.state==="unblocked"||st.state==="proceeding"&&Q.state==="unblocked",`Invalid blocker state transition: ${st.state} -> ${Q.state}`);let dt=new Map(N.blockers);dt.set(Y,Q),Gt({blockers:dt})}function Pe({currentLocation:Y,nextLocation:Q,historyAction:st}){if(Tt.size===0)return;Tt.size>1&&Vi(!1,"A router only supports one blocker at a time");let dt=Array.from(Tt.entries()),[Dt,Ht]=dt[dt.length-1],$t=N.blockers.get(Dt);if(!($t&&$t.state==="proceeding")&&Ht({currentLocation:Y,nextLocation:Q,historyAction:st}))return Dt}function go(Y){let Q=js(404,{pathname:Y}),st=a||s,{matches:dt,route:Dt}=yR(st);return{notFoundMatches:dt,route:Dt,error:Q}}function ia(Y,Q,st){if(y=Y,E=Q,v=st||null,!x&&N.navigation===Ub){x=!0;let dt=Ws(N.location,N.matches);dt!=null&&Gt({restoreScrollPosition:dt})}return()=>{y=null,E=null,v=null}}function bc(Y,Q){return v&&v(Y,Q.map(dt=>_3(dt,N.loaderData)))||Y.key}function ws(Y,Q){if(y&&E){let st=bc(Y,Q);y[st]=E()}}function Ws(Y,Q){if(y){let st=bc(Y,Q),dt=y[st];if(typeof dt=="number")return dt}return null}function br(Y,Q,st){if(n.patchRoutesOnNavigation)if(Y){if(Object.keys(Y[0].params).length>0)return{active:!0,matches:py(Q,st,c,!0)}}else return{active:!0,matches:py(Q,st,c,!0)||[]};return{active:!1,matches:null}}async function Ji(Y,Q,st,dt){if(!n.patchRoutesOnNavigation)return{type:"success",matches:Y};let Dt=Y;for(;;){let Ht=a==null,$t=a||s,zt=r;try{await n.patchRoutesOnNavigation({signal:st,path:Q,matches:Dt,fetcherKey:dt,patch:(Pt,Lt)=>{st.aborted||uR(Pt,Lt,$t,zt,i)}})}catch(Pt){return{type:"error",error:Pt,partialMatches:Dt}}finally{Ht&&!st.aborted&&(s=[...s])}if(st.aborted)return{type:"aborted"};let Bt=Il($t,Q,c);if(Bt)return{type:"success",matches:Bt};let Mt=py($t,Q,c,!0);if(!Mt||Dt.length===Mt.length&&Dt.every((Pt,Lt)=>Pt.route.id===Mt[Lt].route.id))return{type:"success",matches:null};Dt=Mt}}function po(Y){r={},a=Gy(Y,i,void 0,r)}function el(Y,Q){let st=a==null;uR(Y,Q,a||s,r,i),st&&(s=[...s],Gt({}))}return L={get basename(){return c},get future(){return d},get state(){return N},get routes(){return s},get window(){return t},initialize:St,subscribe:ce,enableScrollRestoration:ia,navigate:Ye,fetch:Nr,revalidate:kn,createHref:Y=>n.history.createHref(Y),encodeLocation:Y=>n.history.encodeLocation(Y),getFetcher:dn,deleteFetcher:Gs,dispose:Xt,getBlocker:ei,deleteBlocker:os,patchRoutes:el,_internalFetchControllers:J,_internalSetRoutes:po},L}function H3(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function AT(n,t,e,i,r,s){let a,c;if(r){a=[];for(let d of t)if(a.push(d),d.route.id===r){c=d;break}}else a=t,c=t[t.length-1];let u=$0(i||".",j0(a),qs(n.pathname,e)||n.pathname,s==="path");if(i==null&&(u.search=n.search,u.hash=n.hash),(i==null||i===""||i===".")&&c){let d=Lw(u.search);if(c.route.index&&!d)u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index";else if(!c.route.index&&d){let f=new URLSearchParams(u.search),g=f.getAll("index");f.delete("index"),g.filter(v=>v).forEach(v=>f.append("index",v));let y=f.toString();u.search=y?`?${y}`:""}}return e!=="/"&&(u.pathname=u.pathname==="/"?e:zo([e,u.pathname])),Ql(u)}function oR(n,t,e){if(!e||!H3(e))return{path:t};if(e.formMethod&&!i4(e.formMethod))return{path:t,error:js(405,{method:e.formMethod})};let i=()=>({path:t,error:js(400,{type:"invalid-body"})}),s=(e.formMethod||"get").toUpperCase(),a=PI(t);if(e.body!==void 0){if(e.formEncType==="text/plain"){if(!to(s))return i();let g=typeof e.body=="string"?e.body:e.body instanceof FormData||e.body instanceof URLSearchParams?Array.from(e.body.entries()).reduce((y,[v,E])=>`${y}${v}=${E}
`,""):String(e.body);return{path:t,submission:{formMethod:s,formAction:a,formEncType:e.formEncType,formData:void 0,json:void 0,text:g}}}else if(e.formEncType==="application/json"){if(!to(s))return i();try{let g=typeof e.body=="string"?JSON.parse(e.body):e.body;return{path:t,submission:{formMethod:s,formAction:a,formEncType:e.formEncType,formData:void 0,json:g,text:void 0}}}catch{return i()}}}Oe(typeof FormData=="function","FormData is not available in this environment");let c,u;if(e.formData)c=CT(e.formData),u=e.formData;else if(e.body instanceof FormData)c=CT(e.body),u=e.body;else if(e.body instanceof URLSearchParams)c=e.body,u=fR(c);else if(e.body==null)c=new URLSearchParams,u=new FormData;else try{c=new URLSearchParams(e.body),u=fR(c)}catch{return i()}let d={formMethod:s,formAction:a,formEncType:e&&e.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(to(d.formMethod))return{path:t,submission:d};let f=Ja(t);return n&&f.search&&Lw(f.search)&&c.append("index",""),f.search=`?${c}`,{path:Ql(f),submission:d}}function aR(n,t,e=!1){let i=n.findIndex(r=>r.route.id===t);return i>=0?n.slice(0,e?i+1:i):n}function lR(n,t,e,i,r,s,a,c,u,d,f,g,y,v){let E=v?ps(v[1])?v[1].error:v[1].data:void 0,x=n.createURL(t.location),S=n.createURL(r),R=e;s&&t.errors?R=aR(e,Object.keys(t.errors)[0],!0):v&&ps(v[1])&&(R=aR(e,v[0]));let C=v?v[1].statusCode:void 0,P=C&&C>=400,L=R.filter((j,O)=>{let{route:D}=j;if(D.lazy)return!0;if(D.loader==null)return!1;if(s)return RT(D,t.loaderData,t.errors);if(q3(t.loaderData,t.matches[O],j))return!0;let k=t.matches[O],V=j;return cR(j,{currentUrl:x,currentParams:k.params,nextUrl:S,nextParams:V.params,...i,actionResult:E,actionStatus:C,defaultShouldRevalidate:P?!1:a||x.pathname+x.search===S.pathname+S.search||x.search!==S.search||Y3(k,V)})}),N=[];return d.forEach((j,O)=>{if(s||!e.some($=>$.route.id===j.routeId)||u.has(O))return;let D=Il(g,j.path,y);if(!D){N.push({key:O,routeId:j.routeId,path:j.path,matches:null,match:null,controller:null});return}let k=t.fetchers.get(O),V=Xf(D,j.path),B=!1;f.has(O)?B=!1:c.has(O)?(c.delete(O),B=!0):k&&k.state!=="idle"&&k.data===void 0?B=a:B=cR(V,{currentUrl:x,currentParams:t.matches[t.matches.length-1].params,nextUrl:S,nextParams:e[e.length-1].params,...i,actionResult:E,actionStatus:C,defaultShouldRevalidate:P?!1:a}),B&&N.push({key:O,routeId:j.routeId,path:j.path,matches:D,match:V,controller:new AbortController})}),[L,N]}function RT(n,t,e){if(n.lazy)return!0;if(!n.loader)return!1;let i=t!=null&&t[n.id]!==void 0,r=e!=null&&e[n.id]!==void 0;return!i&&r?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!i&&!r}function q3(n,t,e){let i=!t||e.route.id!==t.route.id,r=!n.hasOwnProperty(e.route.id);return i||r}function Y3(n,t){let e=n.route.path;return n.pathname!==t.pathname||e!=null&&e.endsWith("*")&&n.params["*"]!==t.params["*"]}function cR(n,t){if(n.route.shouldRevalidate){let e=n.route.shouldRevalidate(t);if(typeof e=="boolean")return e}return t.defaultShouldRevalidate}function uR(n,t,e,i,r){let s;if(n){let u=i[n];Oe(u,`No route found to patch children into: routeId = ${n}`),u.children||(u.children=[]),s=u.children}else s=e;let a=t.filter(u=>!s.some(d=>kI(u,d))),c=Gy(a,r,[n||"_","patch",String((s==null?void 0:s.length)||"0")],i);s.push(...c)}function kI(n,t){return"id"in n&&"id"in t&&n.id===t.id?!0:n.index===t.index&&n.path===t.path&&n.caseSensitive===t.caseSensitive?(!n.children||n.children.length===0)&&(!t.children||t.children.length===0)?!0:n.children.every((e,i)=>{var r;return(r=t.children)==null?void 0:r.some(s=>kI(e,s))}):!1}async function G3(n,t,e){if(!n.lazy)return;let i=await n.lazy();if(!n.lazy)return;let r=e[n.id];Oe(r,"No route found in manifest");let s={};for(let a in i){let u=r[a]!==void 0&&a!=="hasErrorBoundary";Vi(!u,`Route "${r.id}" has a static property "${a}" defined but its lazy function is also returning a value for this property. The lazy route property "${a}" will be ignored.`),!u&&!p3.has(a)&&(s[a]=i[a])}Object.assign(r,s),Object.assign(r,{...t(r),lazy:void 0})}async function hR(n){let t=n.matches.filter(r=>r.shouldLoad),e={};return(await Promise.all(t.map(r=>r.resolve()))).forEach((r,s)=>{e[t[s].route.id]=r}),e}async function W3(n){return n.matches.some(t=>t.route.unstable_middleware)?K3(n,!1,()=>hR(n),(t,e)=>({[e]:{type:"error",result:t}})):hR(n)}async function K3(n,t,e,i){let{matches:r,request:s,params:a,context:c}=n,u={handlerResult:void 0};try{let d=r.flatMap(g=>g.route.unstable_middleware?g.route.unstable_middleware.map(y=>[g.route.id,y]):[]),f=await NI({request:s,params:a,context:c},d,t,u,e);return t?f:u.handlerResult}catch(d){if(!u.middlewareError)throw d;let f=await i(u.middlewareError.error,u.middlewareError.routeId);return u.handlerResult?Object.assign(u.handlerResult,f):f}}async function NI(n,t,e,i,r,s=0){let{request:a}=n;if(a.signal.aborted)throw a.signal.reason?a.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${a.method} ${a.url}`);let c=t[s];if(!c)return i.handlerResult=await r(),i.handlerResult;let[u,d]=c,f=!1,g,y=async()=>{if(f)throw new Error("You may only call `next()` once per middleware");f=!0,await NI(n,t,e,i,r,s+1)};try{let v=await d({request:n.request,params:n.params,context:n.context},y);return f?v===void 0?g:v:y()}catch(v){throw i.middlewareError?i.middlewareError.error!==v&&(i.middlewareError={routeId:u,error:v}):i.middlewareError={routeId:u,error:v},v}}async function X3(n,t,e,i,r,s,a,c,u,d){let f=r.map(v=>v.route.lazy?G3(v.route,c,a):void 0);d&&await Promise.all(f);let g=r.map((v,E)=>{let x=f[E],S=i.some(C=>C.route.id===v.route.id);return{...v,shouldLoad:S,resolve:async C=>(C&&e.method==="GET"&&(v.route.lazy||v.route.loader)&&(S=!0),S?Q3(t,e,v,x,C,u):Promise.resolve({type:"data",result:void 0}))}}),y=await n({matches:g,request:e,params:r[0].params,fetcherKey:s,context:u});try{await Promise.all(f)}catch{}return y}async function Q3(n,t,e,i,r,s){let a,c,u=d=>{let f,g=new Promise((E,x)=>f=x);c=()=>f(),t.signal.addEventListener("abort",c);let y=E=>typeof d!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${n}" [routeId: ${e.route.id}]`)):d({request:t,params:e.params,context:s},...E!==void 0?[E]:[]),v=(async()=>{try{return{type:"data",result:await(r?r(x=>y(x)):y())}}catch(E){return{type:"error",result:E}}})();return Promise.race([v,g])};try{let d=e.route[n];if(i)if(d){let f,[g]=await Promise.all([u(d).catch(y=>{f=y}),i]);if(f!==void 0)throw f;a=g}else if(await i,d=e.route[n],d)a=await u(d);else if(n==="action"){let f=new URL(t.url),g=f.pathname+f.search;throw js(405,{method:t.method,pathname:g,routeId:e.route.id})}else return{type:"data",result:void 0};else if(d)a=await u(d);else{let f=new URL(t.url),g=f.pathname+f.search;throw js(404,{pathname:g})}}catch(d){return{type:"error",result:d}}finally{c&&t.signal.removeEventListener("abort",c)}return a}async function Z3(n){var i,r,s,a,c,u;let{result:t,type:e}=n;if(LI(t)){let d;try{let f=t.headers.get("Content-Type");f&&/\bapplication\/json\b/.test(f)?t.body==null?d=null:d=await t.json():d=await t.text()}catch(f){return{type:"error",error:f}}return e==="error"?{type:"error",error:new Ky(t.status,t.statusText,d),statusCode:t.status,headers:t.headers}:{type:"data",data:d,statusCode:t.status,headers:t.headers}}return e==="error"?_R(t)?t.data instanceof Error?{type:"error",error:t.data,statusCode:(i=t.init)==null?void 0:i.status,headers:(r=t.init)!=null&&r.headers?new Headers(t.init.headers):void 0}:{type:"error",error:new Ky(((s=t.init)==null?void 0:s.status)||500,void 0,t.data),statusCode:Sm(t)?t.status:void 0,headers:(a=t.init)!=null&&a.headers?new Headers(t.init.headers):void 0}:{type:"error",error:t,statusCode:Sm(t)?t.status:void 0}:_R(t)?{type:"data",data:t.data,statusCode:(c=t.init)==null?void 0:c.status,headers:(u=t.init)!=null&&u.headers?new Headers(t.init.headers):void 0}:{type:"data",data:t}}function J3(n,t,e,i,r){let s=n.headers.get("Location");if(Oe(s,"Redirects returned/thrown from loaders/actions must have a Location header"),!Pw.test(s)){let a=i.slice(0,i.findIndex(c=>c.route.id===e)+1);s=AT(new URL(t.url),a,r,s),n.headers.set("Location",s)}return n}function dR(n,t,e){if(Pw.test(n)){let i=n,r=i.startsWith("//")?new URL(t.protocol+i):new URL(i),s=qs(r.pathname,e)!=null;if(r.origin===t.origin&&s)return r.pathname+r.search+r.hash}return n}function xh(n,t,e,i){let r=n.createURL(PI(t)).toString(),s={signal:e};if(i&&to(i.formMethod)){let{formMethod:a,formEncType:c}=i;s.method=a.toUpperCase(),c==="application/json"?(s.headers=new Headers({"Content-Type":c}),s.body=JSON.stringify(i.json)):c==="text/plain"?s.body=i.text:c==="application/x-www-form-urlencoded"&&i.formData?s.body=CT(i.formData):s.body=i.formData}return new Request(r,s)}function CT(n){let t=new URLSearchParams;for(let[e,i]of n.entries())t.append(e,typeof i=="string"?i:i.name);return t}function fR(n){let t=new FormData;for(let[e,i]of n.entries())t.append(e,i);return t}function t4(n,t,e,i=!1,r=!1){let s={},a=null,c,u=!1,d={},f=e&&ps(e[1])?e[1].error:void 0;return n.forEach(g=>{if(!(g.route.id in t))return;let y=g.route.id,v=t[y];if(Oe(!lu(v),"Cannot handle redirect results in processLoaderData"),ps(v)){let E=v.error;if(f!==void 0&&(E=f,f=void 0),a=a||{},r)a[y]=E;else{let x=ou(n,y);a[x.route.id]==null&&(a[x.route.id]=E)}i||(s[y]=OI),u||(u=!0,c=Sm(v.error)?v.error.status:500),v.headers&&(d[y]=v.headers)}else s[y]=v.data,v.statusCode&&v.statusCode!==200&&!u&&(c=v.statusCode),v.headers&&(d[y]=v.headers)}),f!==void 0&&e&&(a={[e[0]]:f},s[e[0]]=void 0),{loaderData:s,errors:a,statusCode:c||200,loaderHeaders:d}}function mR(n,t,e,i,r,s){let{loaderData:a,errors:c}=t4(t,e,i);return r.forEach(u=>{let{key:d,match:f,controller:g}=u,y=s[d];if(Oe(y,"Did not find corresponding fetcher result"),!(g&&g.signal.aborted))if(ps(y)){let v=ou(n.matches,f==null?void 0:f.route.id);c&&c[v.route.id]||(c={...c,[v.route.id]:y.error}),n.fetchers.delete(d)}else if(lu(y))Oe(!1,"Unhandled fetcher revalidation redirect");else{let v=Dl(y.data);n.fetchers.set(d,v)}}),{loaderData:a,errors:c}}function gR(n,t,e,i){let r=Object.entries(t).filter(([,s])=>s!==OI).reduce((s,[a,c])=>(s[a]=c,s),{});for(let s of e){let a=s.route.id;if(!t.hasOwnProperty(a)&&n.hasOwnProperty(a)&&s.route.loader&&(r[a]=n[a]),i&&i.hasOwnProperty(a))break}return r}function pR(n){return n?ps(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function ou(n,t){return(t?n.slice(0,n.findIndex(i=>i.route.id===t)+1):[...n]).reverse().find(i=>i.route.hasErrorBoundary===!0)||n[0]}function yR(n){let t=n.length===1?n[0]:n.find(e=>e.index||!e.path||e.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function js(n,{pathname:t,routeId:e,method:i,type:r,message:s}={}){let a="Unknown Server Error",c="Unknown @remix-run/router error";return n===400?(a="Bad Request",i&&t&&e?c=`You made a ${i} request to "${t}" but did not provide a \`loader\` for route "${e}", so there is no way to handle the request.`:r==="invalid-body"&&(c="Unable to encode submission body")):n===403?(a="Forbidden",c=`Route "${e}" does not match URL "${t}"`):n===404?(a="Not Found",c=`No route matches URL "${t}"`):n===405&&(a="Method Not Allowed",i&&t&&e?c=`You made a ${i.toUpperCase()} request to "${t}" but did not provide an \`action\` for route "${e}", so there is no way to handle the request.`:i&&(c=`Invalid request method "${i.toUpperCase()}"`)),new Ky(n||500,a,new Error(c),!0)}function $p(n){let t=Object.entries(n);for(let e=t.length-1;e>=0;e--){let[i,r]=t[e];if(lu(r))return{key:i,result:r}}}function PI(n){let t=typeof n=="string"?Ja(n):n;return Ql({...t,hash:""})}function e4(n,t){return n.pathname!==t.pathname||n.search!==t.search?!1:n.hash===""?t.hash!=="":n.hash===t.hash?!0:t.hash!==""}function n4(n){return LI(n.result)&&z3.has(n.result.status)}function ps(n){return n.type==="error"}function lu(n){return(n&&n.type)==="redirect"}function _R(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function LI(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function i4(n){return U3.has(n.toUpperCase())}function to(n){return L3.has(n.toUpperCase())}function Lw(n){return new URLSearchParams(n).getAll("index").some(t=>t==="")}function Xf(n,t){let e=typeof t=="string"?Ja(t).search:t.search;if(n[n.length-1].route.index&&Lw(e||""))return n[n.length-1];let i=DI(n);return i[i.length-1]}function vR(n){let{formMethod:t,formAction:e,formEncType:i,text:r,formData:s,json:a}=n;if(!(!t||!e||!i)){if(r!=null)return{formMethod:t,formAction:e,formEncType:i,formData:void 0,json:void 0,text:r};if(s!=null)return{formMethod:t,formAction:e,formEncType:i,formData:s,json:void 0,text:void 0};if(a!==void 0)return{formMethod:t,formAction:e,formEncType:i,formData:void 0,json:a,text:void 0}}}function zb(n,t){return t?{state:"loading",location:n,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function r4(n,t){return{state:"submitting",location:n,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function Ff(n,t){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function s4(n,t){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:t?t.data:void 0}}function Dl(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function o4(n,t){try{let e=n.sessionStorage.getItem(MI);if(e){let i=JSON.parse(e);for(let[r,s]of Object.entries(i||{}))s&&Array.isArray(s)&&t.set(r,new Set(s||[]))}}catch{}}function a4(n,t){if(t.size>0){let e={};for(let[i,r]of t)e[i]=[...r];try{n.sessionStorage.setItem(MI,JSON.stringify(e))}catch(i){Vi(!1,`Failed to save applied view transitions in sessionStorage (${i}).`)}}}function l4(){let n,t,e=new Promise((i,r)=>{n=async s=>{i(s);try{await e}catch{}},t=async s=>{r(s);try{await e}catch{}}});return{promise:e,resolve:n,reject:t}}var Pu=K.createContext(null);Pu.displayName="DataRouter";var Jm=K.createContext(null);Jm.displayName="DataRouterState";var Vw=K.createContext({isTransitioning:!1});Vw.displayName="ViewTransition";var VI=K.createContext(new Map);VI.displayName="Fetchers";var c4=K.createContext(null);c4.displayName="Await";var ho=K.createContext(null);ho.displayName="Navigation";var H0=K.createContext(null);H0.displayName="Location";var fo=K.createContext({outlet:null,matches:[],isDataRoute:!1});fo.displayName="Route";var Uw=K.createContext(null);Uw.displayName="RouteError";function u4(n,{relative:t}={}){Oe(xd(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:i}=K.useContext(ho),{hash:r,pathname:s,search:a}=tg(n,{relative:t}),c=s;return e!=="/"&&(c=s==="/"?e:zo([e,s])),i.createHref({pathname:c,search:a,hash:r})}function xd(){return K.useContext(H0)!=null}function dc(){return Oe(xd(),"useLocation() may be used only in the context of a <Router> component."),K.useContext(H0).location}var UI="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function zI(n){K.useContext(ho).static||K.useLayoutEffect(n)}function q0(){let{isDataRoute:n}=K.useContext(fo);return n?S4():h4()}function h4(){Oe(xd(),"useNavigate() may be used only in the context of a <Router> component.");let n=K.useContext(Pu),{basename:t,navigator:e}=K.useContext(ho),{matches:i}=K.useContext(fo),{pathname:r}=dc(),s=JSON.stringify(j0(i)),a=K.useRef(!1);return zI(()=>{a.current=!0}),K.useCallback((u,d={})=>{if(Vi(a.current,UI),!a.current)return;if(typeof u=="number"){e.go(u);return}let f=$0(u,JSON.parse(s),r,d.relative==="path");n==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:zo([t,f.pathname])),(d.replace?e.replace:e.push)(f,d.state,d)},[t,e,s,r,n])}var d4=K.createContext(null);function f4(n){let t=K.useContext(fo).outlet;return t&&K.createElement(d4.Provider,{value:n},t)}function tg(n,{relative:t}={}){let{matches:e}=K.useContext(fo),{pathname:i}=dc(),r=JSON.stringify(j0(e));return K.useMemo(()=>$0(n,JSON.parse(r),i,t==="path"),[n,r,i,t])}function m4(n,t,e,i){Oe(xd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r,static:s}=K.useContext(ho),{matches:a}=K.useContext(fo),c=a[a.length-1],u=c?c.params:{},d=c?c.pathname:"/",f=c?c.pathnameBase:"/",g=c&&c.route;{let C=g&&g.path||"";FI(d,!g||C.endsWith("*")||C.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${C}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${C}"> to <Route path="${C==="/"?"*":`${C}/*`}">.`)}let y=dc(),v;v=y;let E=v.pathname||"/",x=E;if(f!=="/"){let C=f.replace(/^\//,"").split("/");x="/"+E.replace(/^\//,"").split("/").slice(C.length).join("/")}let S=!s&&e&&e.matches&&e.matches.length>0?e.matches:Il(n,{pathname:x});return Vi(g||S!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Vi(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),v4(S&&S.map(C=>Object.assign({},C,{params:Object.assign({},u,C.params),pathname:zo([f,r.encodeLocation?r.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?f:zo([f,r.encodeLocation?r.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),a,e,i)}function g4(){let n=x4(),t=Sm(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),e=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},s={padding:"2px 4px",backgroundColor:i},a=null;return console.error("Error handled by React Router default ErrorBoundary:",n),a=K.createElement(K.Fragment,null,K.createElement("p",null," Hey developer "),K.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",K.createElement("code",{style:s},"ErrorBoundary")," or"," ",K.createElement("code",{style:s},"errorElement")," prop on your route.")),K.createElement(K.Fragment,null,K.createElement("h2",null,"Unexpected Application Error!"),K.createElement("h3",{style:{fontStyle:"italic"}},t),e?K.createElement("pre",{style:r},e):null,a)}var p4=K.createElement(g4,null),y4=class extends K.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,t){return t.location!==n.location||t.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:t.error,location:t.location,revalidation:n.revalidation||t.revalidation}}componentDidCatch(n,t){console.error("React Router caught the following error during render",n,t)}render(){return this.state.error!==void 0?K.createElement(fo.Provider,{value:this.props.routeContext},K.createElement(Uw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function _4({routeContext:n,match:t,children:e}){let i=K.useContext(Pu);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),K.createElement(fo.Provider,{value:n},e)}function v4(n,t=[],e=null,i=null){if(n==null){if(!e)return null;if(e.errors)n=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)n=e.matches;else return null}let r=n,s=e==null?void 0:e.errors;if(s!=null){let u=r.findIndex(d=>d.route.id&&(s==null?void 0:s[d.route.id])!==void 0);Oe(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),r=r.slice(0,Math.min(r.length,u+1))}let a=!1,c=-1;if(e)for(let u=0;u<r.length;u++){let d=r[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:f,errors:g}=e,y=d.route.loader&&!f.hasOwnProperty(d.route.id)&&(!g||g[d.route.id]===void 0);if(d.route.lazy||y){a=!0,c>=0?r=r.slice(0,c+1):r=[r[0]];break}}}return r.reduceRight((u,d,f)=>{let g,y=!1,v=null,E=null;e&&(g=s&&d.route.id?s[d.route.id]:void 0,v=d.route.errorElement||p4,a&&(c<0&&f===0?(FI("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,E=null):c===f&&(y=!0,E=d.route.hydrateFallbackElement||null)));let x=t.concat(r.slice(0,f+1)),S=()=>{let R;return g?R=v:y?R=E:d.route.Component?R=K.createElement(d.route.Component,null):d.route.element?R=d.route.element:R=u,K.createElement(_4,{match:d,routeContext:{outlet:u,matches:x,isDataRoute:e!=null},children:R})};return e&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?K.createElement(y4,{location:e.location,revalidation:e.revalidation,component:v,error:g,children:S(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):S()},null)}function zw(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function b4(n){let t=K.useContext(Pu);return Oe(t,zw(n)),t}function T4(n){let t=K.useContext(Jm);return Oe(t,zw(n)),t}function w4(n){let t=K.useContext(fo);return Oe(t,zw(n)),t}function Fw(n){let t=w4(n),e=t.matches[t.matches.length-1];return Oe(e.route.id,`${n} can only be used on routes that contain a unique "id"`),e.route.id}function E4(){return Fw("useRouteId")}function x4(){var i;let n=K.useContext(Uw),t=T4("useRouteError"),e=Fw("useRouteError");return n!==void 0?n:(i=t.errors)==null?void 0:i[e]}function S4(){let{router:n}=b4("useNavigate"),t=Fw("useNavigate"),e=K.useRef(!1);return zI(()=>{e.current=!0}),K.useCallback(async(r,s={})=>{Vi(e.current,UI),e.current&&(typeof r=="number"?n.navigate(r):await n.navigate(r,{fromRouteId:t,...s}))},[n,t])}var bR={};function FI(n,t,e){!t&&!bR[n]&&(bR[n]=!0,Vi(!1,e))}var TR={};function wR(n,t){!n&&!TR[t]&&(TR[t]=!0,console.warn(t))}function A4(n){let t={hasErrorBoundary:n.hasErrorBoundary||n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&(n.element&&Vi(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(t,{element:K.createElement(n.Component),Component:void 0})),n.HydrateFallback&&(n.hydrateFallbackElement&&Vi(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(t,{hydrateFallbackElement:K.createElement(n.HydrateFallback),HydrateFallback:void 0})),n.ErrorBoundary&&(n.errorElement&&Vi(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(t,{errorElement:K.createElement(n.ErrorBoundary),ErrorBoundary:void 0})),t}var R4=class{constructor(){this.status="pending",this.promise=new Promise((t,e)=>{this.resolve=i=>{this.status==="pending"&&(this.status="resolved",t(i))},this.reject=i=>{this.status==="pending"&&(this.status="rejected",e(i))}})}};function C4({router:n,flushSync:t}){let[e,i]=K.useState(n.state),[r,s]=K.useState(),[a,c]=K.useState({isTransitioning:!1}),[u,d]=K.useState(),[f,g]=K.useState(),[y,v]=K.useState(),E=K.useRef(new Map),x=K.useCallback((P,{deletedFetchers:L,flushSync:N,viewTransitionOpts:j})=>{P.fetchers.forEach((D,k)=>{D.data!==void 0&&E.current.set(k,D.data)}),L.forEach(D=>E.current.delete(D)),wR(N===!1||t!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let O=n.window!=null&&n.window.document!=null&&typeof n.window.document.startViewTransition=="function";if(wR(j==null||O,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!j||!O){t&&N?t(()=>i(P)):K.startTransition(()=>i(P));return}if(t&&N){t(()=>{f&&(u&&u.resolve(),f.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:j.currentLocation,nextLocation:j.nextLocation})});let D=n.window.document.startViewTransition(()=>{t(()=>i(P))});D.finished.finally(()=>{t(()=>{d(void 0),g(void 0),s(void 0),c({isTransitioning:!1})})}),t(()=>g(D));return}f?(u&&u.resolve(),f.skipTransition(),v({state:P,currentLocation:j.currentLocation,nextLocation:j.nextLocation})):(s(P),c({isTransitioning:!0,flushSync:!1,currentLocation:j.currentLocation,nextLocation:j.nextLocation}))},[n.window,t,f,u]);K.useLayoutEffect(()=>n.subscribe(x),[n,x]),K.useEffect(()=>{a.isTransitioning&&!a.flushSync&&d(new R4)},[a]),K.useEffect(()=>{if(u&&r&&n.window){let P=r,L=u.promise,N=n.window.document.startViewTransition(async()=>{K.startTransition(()=>i(P)),await L});N.finished.finally(()=>{d(void 0),g(void 0),s(void 0),c({isTransitioning:!1})}),g(N)}},[r,u,n.window]),K.useEffect(()=>{u&&r&&e.location.key===r.location.key&&u.resolve()},[u,f,e.location,r]),K.useEffect(()=>{!a.isTransitioning&&y&&(s(y.state),c({isTransitioning:!0,flushSync:!1,currentLocation:y.currentLocation,nextLocation:y.nextLocation}),v(void 0))},[a.isTransitioning,y]);let S=K.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:P=>n.navigate(P),push:(P,L,N)=>n.navigate(P,{state:L,preventScrollReset:N==null?void 0:N.preventScrollReset}),replace:(P,L,N)=>n.navigate(P,{replace:!0,state:L,preventScrollReset:N==null?void 0:N.preventScrollReset})}),[n]),R=n.basename||"/",C=K.useMemo(()=>({router:n,navigator:S,static:!1,basename:R}),[n,S,R]);return K.createElement(K.Fragment,null,K.createElement(Pu.Provider,{value:C},K.createElement(Jm.Provider,{value:e},K.createElement(VI.Provider,{value:E.current},K.createElement(Vw.Provider,{value:a},K.createElement(k4,{basename:R,location:e.location,navigationType:e.historyAction,navigator:S},K.createElement(D4,{routes:n.routes,future:n.future,state:e})))))),null)}var D4=K.memo(I4);function I4({routes:n,future:t,state:e}){return m4(n,void 0,e,t)}function M4({to:n,replace:t,state:e,relative:i}){Oe(xd(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=K.useContext(ho);Vi(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=K.useContext(fo),{pathname:a}=dc(),c=q0(),u=$0(n,j0(s),a,i==="path"),d=JSON.stringify(u);return K.useEffect(()=>{c(JSON.parse(d),{replace:t,state:e,relative:i})},[c,d,i,t,e]),null}function O4(n){return f4(n.context)}function k4({basename:n="/",children:t=null,location:e,navigationType:i="POP",navigator:r,static:s=!1}){Oe(!xd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=n.replace(/^\/*/,"/"),c=K.useMemo(()=>({basename:a,navigator:r,static:s,future:{}}),[a,r,s]);typeof e=="string"&&(e=Ja(e));let{pathname:u="/",search:d="",hash:f="",state:g=null,key:y="default"}=e,v=K.useMemo(()=>{let E=qs(u,a);return E==null?null:{location:{pathname:E,search:d,hash:f,state:g,key:y},navigationType:i}},[a,u,d,f,g,y,i]);return Vi(v!=null,`<Router basename="${a}"> is not able to match the URL "${u}${d}${f}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:K.createElement(ho.Provider,{value:c},K.createElement(H0.Provider,{children:t,value:v}))}var yy="get",_y="application/x-www-form-urlencoded";function Y0(n){return n!=null&&typeof n.tagName=="string"}function N4(n){return Y0(n)&&n.tagName.toLowerCase()==="button"}function P4(n){return Y0(n)&&n.tagName.toLowerCase()==="form"}function L4(n){return Y0(n)&&n.tagName.toLowerCase()==="input"}function V4(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function U4(n,t){return n.button===0&&(!t||t==="_self")&&!V4(n)}var Hp=null;function z4(){if(Hp===null)try{new FormData(document.createElement("form"),0),Hp=!1}catch{Hp=!0}return Hp}var F4=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Fb(n){return n!=null&&!F4.has(n)?(Vi(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${_y}"`),null):n}function B4(n,t){let e,i,r,s,a;if(P4(n)){let c=n.getAttribute("action");i=c?qs(c,t):null,e=n.getAttribute("method")||yy,r=Fb(n.getAttribute("enctype"))||_y,s=new FormData(n)}else if(N4(n)||L4(n)&&(n.type==="submit"||n.type==="image")){let c=n.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=n.getAttribute("formaction")||c.getAttribute("action");if(i=u?qs(u,t):null,e=n.getAttribute("formmethod")||c.getAttribute("method")||yy,r=Fb(n.getAttribute("formenctype"))||Fb(c.getAttribute("enctype"))||_y,s=new FormData(c,n),!z4()){let{name:d,type:f,value:g}=n;if(f==="image"){let y=d?`${d}.`:"";s.append(`${y}x`,"0"),s.append(`${y}y`,"0")}else d&&s.append(d,g)}}else{if(Y0(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=yy,i=null,r=_y,a=n}return s&&r==="text/plain"&&(a=s,s=void 0),{action:i,method:e.toLowerCase(),encType:r,formData:s,body:a}}function Bw(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}async function j4(n,t){if(n.id in t)return t[n.id];try{let e=await import(n.module);return t[n.id]=e,e}catch(e){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function $4(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function H4(n,t,e){let i=await Promise.all(n.map(async r=>{let s=t.routes[r.route.id];if(s){let a=await j4(s,e);return a.links?a.links():[]}return[]}));return W4(i.flat(1).filter($4).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function ER(n,t,e,i,r,s){let a=(u,d)=>e[d]?u.route.id!==e[d].route.id:!0,c=(u,d)=>{var f;return e[d].pathname!==u.pathname||((f=e[d].route.path)==null?void 0:f.endsWith("*"))&&e[d].params["*"]!==u.params["*"]};return s==="assets"?t.filter((u,d)=>a(u,d)||c(u,d)):s==="data"?t.filter((u,d)=>{var g;let f=i.routes[u.route.id];if(!f||!f.hasLoader)return!1;if(a(u,d)||c(u,d))return!0;if(u.route.shouldRevalidate){let y=u.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((g=e[0])==null?void 0:g.params)||{},nextUrl:new URL(n,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function q4(n,t,{includeHydrateFallback:e}={}){return Y4(n.map(i=>{let r=t.routes[i.route.id];if(!r)return[];let s=[r.module];return r.clientActionModule&&(s=s.concat(r.clientActionModule)),r.clientLoaderModule&&(s=s.concat(r.clientLoaderModule)),e&&r.hydrateFallbackModule&&(s=s.concat(r.hydrateFallbackModule)),r.imports&&(s=s.concat(r.imports)),s}).flat(1))}function Y4(n){return[...new Set(n)]}function G4(n){let t={},e=Object.keys(n).sort();for(let i of e)t[i]=n[i];return t}function W4(n,t){let e=new Set;return new Set(t),n.reduce((i,r)=>{let s=JSON.stringify(G4(r));return e.has(s)||(e.add(s),i.push({key:s,link:r})),i},[])}function K4(n,t){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":t&&qs(e.pathname,t)==="/"?e.pathname=`${t.replace(/\/$/,"")}/_root.data`:e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function BI(){let n=K.useContext(Pu);return Bw(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function X4(){let n=K.useContext(Jm);return Bw(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var jw=K.createContext(void 0);jw.displayName="FrameworkContext";function jI(){let n=K.useContext(jw);return Bw(n,"You must render this element inside a <HydratedRouter> element"),n}function Q4(n,t){let e=K.useContext(jw),[i,r]=K.useState(!1),[s,a]=K.useState(!1),{onFocus:c,onBlur:u,onMouseEnter:d,onMouseLeave:f,onTouchStart:g}=t,y=K.useRef(null);K.useEffect(()=>{if(n==="render"&&a(!0),n==="viewport"){let x=R=>{R.forEach(C=>{a(C.isIntersecting)})},S=new IntersectionObserver(x,{threshold:.5});return y.current&&S.observe(y.current),()=>{S.disconnect()}}},[n]),K.useEffect(()=>{if(i){let x=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(x)}}},[i]);let v=()=>{r(!0)},E=()=>{r(!1),a(!1)};return e?n!=="intent"?[s,y,{}]:[s,y,{onFocus:Bf(c,v),onBlur:Bf(u,E),onMouseEnter:Bf(d,v),onMouseLeave:Bf(f,E),onTouchStart:Bf(g,v)}]:[!1,y,{}]}function Bf(n,t){return e=>{n&&n(e),e.defaultPrevented||t(e)}}function Z4({page:n,...t}){let{router:e}=BI(),i=K.useMemo(()=>Il(e.routes,n,e.basename),[e.routes,n,e.basename]);return i?K.createElement(t5,{page:n,matches:i,...t}):null}function J4(n){let{manifest:t,routeModules:e}=jI(),[i,r]=K.useState([]);return K.useEffect(()=>{let s=!1;return H4(n,t,e).then(a=>{s||r(a)}),()=>{s=!0}},[n,t,e]),i}function t5({page:n,matches:t,...e}){let i=dc(),{manifest:r,routeModules:s}=jI(),{basename:a}=BI(),{loaderData:c,matches:u}=X4(),d=K.useMemo(()=>ER(n,t,u,r,i,"data"),[n,t,u,r,i]),f=K.useMemo(()=>ER(n,t,u,r,i,"assets"),[n,t,u,r,i]),g=K.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let E=new Set,x=!1;if(t.forEach(R=>{var P;let C=r.routes[R.route.id];!C||!C.hasLoader||(!d.some(L=>L.route.id===R.route.id)&&R.route.id in c&&((P=s[R.route.id])!=null&&P.shouldRevalidate)||C.hasClientLoader?x=!0:E.add(R.route.id))}),E.size===0)return[];let S=K4(n,a);return x&&E.size>0&&S.searchParams.set("_routes",t.filter(R=>E.has(R.route.id)).map(R=>R.route.id).join(",")),[S.pathname+S.search]},[a,c,i,r,d,t,n,s]),y=K.useMemo(()=>q4(f,r),[f,r]),v=J4(f);return K.createElement(K.Fragment,null,g.map(E=>K.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...e})),y.map(E=>K.createElement("link",{key:E,rel:"modulepreload",href:E,...e})),v.map(({key:E,link:x})=>K.createElement("link",{key:E,...x})))}function e5(...n){return t=>{n.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var $I=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{$I&&(window.__reactRouterVersion="7.4.0")}catch{}function n5(n,t){return $3({basename:t==null?void 0:t.basename,unstable_getContext:t==null?void 0:t.unstable_getContext,future:t==null?void 0:t.future,history:f3({window:t==null?void 0:t.window}),hydrationData:i5(),routes:n,mapRouteProperties:A4,dataStrategy:t==null?void 0:t.dataStrategy,patchRoutesOnNavigation:t==null?void 0:t.patchRoutesOnNavigation,window:t==null?void 0:t.window}).initialize()}function i5(){let n=window==null?void 0:window.__staticRouterHydrationData;return n&&n.errors&&(n={...n,errors:r5(n.errors)}),n}function r5(n){if(!n)return null;let t=Object.entries(n),e={};for(let[i,r]of t)if(r&&r.__type==="RouteErrorResponse")e[i]=new Ky(r.status,r.statusText,r.data,r.internal===!0);else if(r&&r.__type==="Error"){if(r.__subType){let s=window[r.__subType];if(typeof s=="function")try{let a=new s(r.message);a.stack="",e[i]=a}catch{}}if(e[i]==null){let s=new Error(r.message);s.stack="",e[i]=s}}else e[i]=r;return e}var HI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,eg=K.forwardRef(function({onClick:t,discover:e="render",prefetch:i="none",relative:r,reloadDocument:s,replace:a,state:c,target:u,to:d,preventScrollReset:f,viewTransition:g,...y},v){let{basename:E}=K.useContext(ho),x=typeof d=="string"&&HI.test(d),S,R=!1;if(typeof d=="string"&&x&&(S=d,$I))try{let k=new URL(window.location.href),V=d.startsWith("//")?new URL(k.protocol+d):new URL(d),B=qs(V.pathname,E);V.origin===k.origin&&B!=null?d=B+V.search+V.hash:R=!0}catch{Vi(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let C=u4(d,{relative:r}),[P,L,N]=Q4(i,y),j=l5(d,{replace:a,state:c,target:u,preventScrollReset:f,relative:r,viewTransition:g});function O(k){t&&t(k),k.defaultPrevented||j(k)}let D=K.createElement("a",{...y,...N,href:S||C,onClick:R||s?t:O,ref:e5(v,L),target:u,"data-discover":!x&&e==="render"?"true":void 0});return P&&!x?K.createElement(K.Fragment,null,D,K.createElement(Z4,{page:C})):D});eg.displayName="Link";var s5=K.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:i="",end:r=!1,style:s,to:a,viewTransition:c,children:u,...d},f){let g=tg(a,{relative:d.relative}),y=dc(),v=K.useContext(Jm),{navigator:E,basename:x}=K.useContext(ho),S=v!=null&&f5(g)&&c===!0,R=E.encodeLocation?E.encodeLocation(g).pathname:g.pathname,C=y.pathname,P=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;e||(C=C.toLowerCase(),P=P?P.toLowerCase():null,R=R.toLowerCase()),P&&x&&(P=qs(P,x)||P);const L=R!=="/"&&R.endsWith("/")?R.length-1:R.length;let N=C===R||!r&&C.startsWith(R)&&C.charAt(L)==="/",j=P!=null&&(P===R||!r&&P.startsWith(R)&&P.charAt(R.length)==="/"),O={isActive:N,isPending:j,isTransitioning:S},D=N?t:void 0,k;typeof i=="function"?k=i(O):k=[i,N?"active":null,j?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let V=typeof s=="function"?s(O):s;return K.createElement(eg,{...d,"aria-current":D,className:k,ref:f,style:V,to:a,viewTransition:c},typeof u=="function"?u(O):u)});s5.displayName="NavLink";var o5=K.forwardRef(({discover:n="render",fetcherKey:t,navigate:e,reloadDocument:i,replace:r,state:s,method:a=yy,action:c,onSubmit:u,relative:d,preventScrollReset:f,viewTransition:g,...y},v)=>{let E=h5(),x=d5(c,{relative:d}),S=a.toLowerCase()==="get"?"get":"post",R=typeof c=="string"&&HI.test(c),C=P=>{if(u&&u(P),P.defaultPrevented)return;P.preventDefault();let L=P.nativeEvent.submitter,N=(L==null?void 0:L.getAttribute("formmethod"))||a;E(L||P.currentTarget,{fetcherKey:t,method:N,navigate:e,replace:r,state:s,relative:d,preventScrollReset:f,viewTransition:g})};return K.createElement("form",{ref:v,method:S,action:x,onSubmit:i?u:C,...y,"data-discover":!R&&n==="render"?"true":void 0})});o5.displayName="Form";function a5(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function qI(n){let t=K.useContext(Pu);return Oe(t,a5(n)),t}function l5(n,{target:t,replace:e,state:i,preventScrollReset:r,relative:s,viewTransition:a}={}){let c=q0(),u=dc(),d=tg(n,{relative:s});return K.useCallback(f=>{if(U4(f,t)){f.preventDefault();let g=e!==void 0?e:Ql(u)===Ql(d);c(n,{replace:g,state:i,preventScrollReset:r,relative:s,viewTransition:a})}},[u,c,d,e,i,t,n,r,s,a])}var c5=0,u5=()=>`__${String(++c5)}__`;function h5(){let{router:n}=qI("useSubmit"),{basename:t}=K.useContext(ho),e=E4();return K.useCallback(async(i,r={})=>{let{action:s,method:a,encType:c,formData:u,body:d}=B4(i,t);if(r.navigate===!1){let f=r.fetcherKey||u5();await n.fetch(f,e,r.action||s,{preventScrollReset:r.preventScrollReset,formData:u,body:d,formMethod:r.method||a,formEncType:r.encType||c,flushSync:r.flushSync})}else await n.navigate(r.action||s,{preventScrollReset:r.preventScrollReset,formData:u,body:d,formMethod:r.method||a,formEncType:r.encType||c,replace:r.replace,state:r.state,fromRouteId:e,flushSync:r.flushSync,viewTransition:r.viewTransition})},[n,t,e])}function d5(n,{relative:t}={}){let{basename:e}=K.useContext(ho),i=K.useContext(fo);Oe(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),s={...tg(n||".",{relative:t})},a=dc();if(n==null){s.search=a.search;let c=new URLSearchParams(s.search),u=c.getAll("index");if(u.some(f=>f==="")){c.delete("index"),u.filter(g=>g).forEach(g=>c.append("index",g));let f=c.toString();s.search=f?`?${f}`:""}}return(!n||n===".")&&r.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(s.pathname=s.pathname==="/"?e:zo([e,s.pathname])),Ql(s)}function f5(n,t={}){let e=K.useContext(Vw);Oe(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=qI("useViewTransitionState"),r=tg(n,{relative:t.relative});if(!e.isTransitioning)return!1;let s=qs(e.currentLocation.pathname,i)||e.currentLocation.pathname,a=qs(e.nextLocation.pathname,i)||e.nextLocation.pathname;return Wy(r.pathname,a)!=null||Wy(r.pathname,s)!=null}new TextEncoder;const YI=K.createContext(void 0),m5=({children:n})=>{const t=localStorage.getItem("theme"),[e,i]=K.useState(t||"light"),r=()=>{const s=e==="light"?"dark":"light";i(s),localStorage.setItem("theme",s),document.documentElement.classList.toggle("dark",s==="dark")};return K.useEffect(()=>{document.documentElement.classList.toggle("dark",e==="dark")},[e]),yt.jsx(YI.Provider,{value:{theme:e,toggleTheme:r},children:n})},g5=()=>{const n=K.useContext(YI);if(!n)throw new Error("Error de contexto");return n},p5=K.createContext(void 0),y5=({children:n})=>{const[t,e]=K.useState(null);return yt.jsx(p5.Provider,{value:{user:t,setUser:e},children:n})},_5=({menuState:n})=>yt.jsxs("div",{className:"size-full flex relative cursor-pointer",children:[yt.jsx("span",{className:`absolute transition-all ease-in-out duration-500 ${n?"left-0.5 top-6 rotate-45":"left-0.5 top-3"}  h-2 w-[90%] bg-[var(--th)] dark:bg-[var(--th)] rounded-full`}),yt.jsx("span",{className:`absolute transition-all ease-in-out duration-500 ${n?"size-0":" w-[90%] h-2"} left-0.5 top-6 bg-[var(--th)] dark:bg-[var(--th)] rounded-full`}),yt.jsx("span",{className:`absolute transition-all ease-in-out duration-500 ${n?"left-0.5 bottom-4 -rotate-45":"left-0.5 bottom-1"}  h-2 w-[90%] bg-[var(--th)] dark:bg-[var(--th)] rounded-full`})]}),$w=()=>{const[n,t]=K.useState(!1),{toggleTheme:e}=g5(),i=[{name:"Notas",url:"/notes",icon:""},{name:"Finanzas",url:"/finances",icon:""}],r=()=>{e(),t(!1)};return yt.jsxs("section",{className:"fixed z-50 flex flex-col top-0 left-0 w-full min-h-16 bg-gradient-to-br from-[var(--nd)] to-[var(--th)]",children:[yt.jsx("button",{className:"size-16 p-2",onClick:()=>t(!n),children:yt.jsx(_5,{menuState:n})}),yt.jsxs("ul",{className:`w-full ${n?"max-h-62":"max-h-0"} transition-all ease-in-out duration-500 overflow-hidden  flex flex-col gap-2 py-2`,children:[i.map((s,a)=>yt.jsx("li",{children:yt.jsxs(eg,{to:s.url,className:"flex relative group h-16 p-2 items-center text-lg font-bold bg-[var(--st)]/50 hover:bg-transparent transition-all ease-linear duration-500",children:[yt.jsx("div",{className:"absolute z-0 rounded-lg size-full bg-gradient-to-br from-[var(--rd)]/75 skew-x-20 translate-x-[-110%] group-hover:translate-x-[0%] transition-all ease-linear duration-500"}),yt.jsx("h1",{className:"pl-2 z-10 dark:text-[var(--txt)] text-[var(--txt)]",children:s.name})]})},a)),yt.jsxs("button",{onClick:r,className:"flex relative group h-16 items-center text-lg font-bold bg-[var(--st)]/50 hover:bg-transparent transition-all ease-linear duration-500 cursor-pointer",children:[yt.jsx("div",{className:"absolute z-0 rounded-lg size-full bg-gradient-to-br from-[var(--rd)]/75 skew-x-20 translate-x-[-110%] group-hover:translate-x-[0%] transition-all ease-linear duration-500"}),yt.jsx("h1",{className:"p-2 z-10 cursor-pointer dark:text-[var(--txt)] text-[var(--txt)] ",children:"Cambiar tema"})]})]})]})};/**
 * anime.js - ESM
 * @version v4.0.1
 * @author Julian Garnier
 * @license MIT
 * @copyright (c) 2025 Julian Garnier
 * @see https://animejs.com
 */const Jo=typeof window<"u",vy=Jo?window:null,Zl=Jo?document:null,gi={OBJECT:0,ATTRIBUTE:1,CSS:2,TRANSFORM:3,CSS_VAR:4},qe={NUMBER:0,UNIT:1,COLOR:2,COMPLEX:3},Hs={NONE:0,AUTO:1,FORCE:2},ts={replace:0,none:1,blend:2},xR=Symbol(),Hw=Symbol(),GI=Symbol(),G0=Symbol(),v5=Symbol(),On=1e-11,WI=1e12,ed=1e3,DT=120,cu="",ng=new Map;ng.set("x","translateX");ng.set("y","translateY");ng.set("z","translateZ");const qw=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],KI=qw.reduce((n,t)=>({...n,[t]:t+"("}),{}),$s=()=>{},b5=/(^#([\da-f]{3}){1,2}$)|(^#([\da-f]{4}){1,2}$)/i,T5=/rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/i,w5=/rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(-?\d+|-?\d*.\d+)\s*\)/i,E5=/hsl\(\s*(-?\d+|-?\d*.\d+)\s*,\s*(-?\d+|-?\d*.\d+)%\s*,\s*(-?\d+|-?\d*.\d+)%\s*\)/i,x5=/hsla\(\s*(-?\d+|-?\d*.\d+)\s*,\s*(-?\d+|-?\d*.\d+)%\s*,\s*(-?\d+|-?\d*.\d+)%\s*,\s*(-?\d+|-?\d*.\d+)\s*\)/i,SR=/[-+]?\d*\.?\d+(?:e[-+]?\d)?/gi,S5=/^([-+]?\d*\.?\d+(?:e[-+]?\d+)?)([a-z]+|%)$/i,A5=/([a-z])([A-Z])/g,R5=/(\w+)(\([^)]+\)+)/g,XI={id:null,keyframes:null,playbackEase:null,playbackRate:1,frameRate:DT,loop:0,reversed:!1,alternate:!1,autoplay:!0,duration:ed,delay:0,loopDelay:0,ease:"out(2)",composition:ts.replace,modifier:n=>n,onBegin:$s,onBeforeUpdate:$s,onUpdate:$s,onLoop:$s,onPause:$s,onComplete:$s,onRender:$s},tn={defaults:XI,root:Zl,scope:null,precision:4,timeScale:1,tickThreshold:200},QI={version:"4.0.1",engine:null};Jo&&(vy.AnimeJS||(vy.AnimeJS=[]),vy.AnimeJS.push(QI));const C5=n=>n.replace(A5,"$1-$2").toLowerCase(),Fh=(n,t)=>n.indexOf(t)===0,Am=Date.now,Rm=Array.isArray,Bb=n=>n&&n.constructor===Object,D5=n=>typeof n=="number"&&!isNaN(n),W0=n=>typeof n=="string",Cm=n=>typeof n=="function",In=n=>typeof n>"u",jb=n=>In(n)||n===null,ZI=n=>Jo&&n instanceof SVGElement,JI=n=>b5.test(n),tM=n=>Fh(n,"rgb"),eM=n=>Fh(n,"hsl"),I5=n=>JI(n)||tM(n)||eM(n),by=n=>!tn.defaults.hasOwnProperty(n),qp=n=>W0(n)?parseFloat(n):n,Ih=Math.pow,M5=Math.sqrt,O5=Math.sin,k5=Math.cos,N5=Math.abs,P5=Math.ceil,nM=Math.floor,L5=Math.asin,Yw=Math.PI,AR=Math.round,Rr=(n,t,e)=>n<t?t:n>e?e:n,RR={},Xn=(n,t)=>{if(t<0)return n;if(!t)return AR(n);let e=RR[t];return e||(e=RR[t]=10**t),AR(n*e)/e},Xc=(n,t,e)=>n+(t-n)*e,Ty=n=>n===1/0?WI:n===-1/0?-1e12:n,Bh=n=>n<On?On:n,Fr=n=>Rm(n)?[...n]:n,iM=(n,t)=>{const e={...n};for(let i in t){const r=n[i];e[i]=In(r)?t[i]:r}return e},Ni=(n,t,e,i="_prev",r="_next")=>{let s=n._head,a=r;for(e&&(s=n._tail,a=i);s;){const c=s[a];t(s),s=c}},Qf=(n,t,e="_prev",i="_next")=>{const r=t[e],s=t[i];r?r[i]=s:n._head=s,s?s[e]=r:n._tail=r,t[e]=null,t[i]=null},Vh=(n,t,e,i="_prev",r="_next")=>{let s=n._tail;for(;s&&e&&e(s,t);)s=s[i];const a=s?s[r]:n._head;s?s[r]=t:n._head=t,a?a[i]=t:n._tail=t,t[i]=s,t[r]=a};class rM{constructor(t=0){this.deltaTime=0,this._currentTime=t,this._elapsedTime=t,this._startTime=t,this._lastTime=t,this._scheduledTime=0,this._frameDuration=Xn(ed/DT,0),this._fps=DT,this._speed=1,this._hasChildren=!1,this._head=null,this._tail=null}get fps(){return this._fps}set fps(t){const e=this._frameDuration,i=+t,r=i<On?On:i,s=Xn(ed/r,0);this._fps=r,this._frameDuration=s,this._scheduledTime+=s-e}get speed(){return this._speed}set speed(t){const e=+t;this._speed=e<On?On:e}requestTick(t){const e=this._scheduledTime,i=this._elapsedTime;if(this._elapsedTime+=t-i,i<e)return Hs.NONE;const r=this._frameDuration,s=i-e;return this._scheduledTime+=s<r?r:s,Hs.AUTO}computeDeltaTime(t){const e=t-this._lastTime;return this.deltaTime=e,this._lastTime=t,e}}const wy=(n,t,e,i,r)=>{const s=n.parent,a=n.duration,c=n.completed,u=n.iterationDuration,d=n.iterationCount,f=n._currentIteration,g=n._loopDelay,y=n._reversed,v=n._alternate,E=n._hasChildren,x=n._delay,S=n._currentTime,R=x+u,C=t-x,P=Rr(S,-x,a),L=Rr(C,-x,a),N=C-S,j=L>0,O=L>=a,D=a<=On,k=r===Hs.FORCE;let V=0,B=C,$=0;if(d>1){const lt=~~(L/(u+(O?0:g)));n._currentIteration=Rr(lt,0,d),O&&n._currentIteration--,V=n._currentIteration%2,B=L%(u+g)||0}const z=y^(v&&V),bt=n._ease;let J=O?z?0:a:z?u-B:B;bt&&(J=u*bt(J/u)||0);const X=(s?s.backwards:C<S)?!z:!!z;if(n._currentTime=C,n._iterationTime=J,n.backwards=X,j&&!n.began?(n.began=!0,!e&&!(s&&(X||!s.began))&&n.onBegin(n)):C<=0&&(n.began=!1),!e&&!E&&j&&n._currentIteration!==f&&n.onLoop(n),k||r===Hs.AUTO&&(t>=x&&t<=R||t<=x&&P>x||t>=R&&P!==a)||J>=R&&P!==a||J<=x&&P>0||t<=P&&P===a&&c||O&&!c&&D){if(j&&(n.computeDeltaTime(P),e||n.onBeforeUpdate(n)),!E){const lt=k||(X?N*-1:N)>=tn.tickThreshold,ht=n._offset+(s?s._offset:0)+x+J;let ot=n._head,H,rt,wt,Tt,pt=0;for(;ot;){const xt=ot._composition,St=ot._currentTime,Xt=ot._changeDuration,ce=ot._absoluteStartTime+ot._changeDuration,Gt=ot._nextRep,Wt=ot._prevRep,Ye=xt!==ts.none;if((lt||(St!==Xt||ht<=ce+(Gt?Gt._delay:0))&&(St!==0||ht>=ot._absoluteStartTime))&&(!Ye||!ot._isOverridden&&(!ot._isOverlapped||ht<=ce)&&(!Gt||Gt._isOverridden||ht<=Gt._absoluteStartTime)&&(!Wt||Wt._isOverridden||ht>=Wt._absoluteStartTime+Wt._changeDuration+ot._delay))){const kn=ot._currentTime=Rr(J-ot._startTime,0,Xt),ge=ot._ease(kn/ot._updateDuration),Nn=ot._modifier,Jn=ot._valueType,hn=ot._tweenType,ti=hn===gi.OBJECT,Nr=Jn===qe.NUMBER,Si=Nr&&ti||ge===0||ge===1?-1:tn.precision;let zn,li;if(Nr)zn=li=Nn(Xn(Xc(ot._fromNumber,ot._toNumber,ge),Si));else if(Jn===qe.UNIT)li=Nn(Xn(Xc(ot._fromNumber,ot._toNumber,ge),Si)),zn=`${li}${ot._unit}`;else if(Jn===qe.COLOR){const sn=ot._fromNumbers,Ai=ot._toNumbers,on=Xn(Rr(Nn(Xc(sn[0],Ai[0],ge)),0,255),0),Yn=Xn(Rr(Nn(Xc(sn[1],Ai[1],ge)),0,255),0),Ue=Xn(Rr(Nn(Xc(sn[2],Ai[2],ge)),0,255),0),dn=Rr(Nn(Xn(Xc(sn[3],Ai[3],ge),Si)),0,1);if(zn=`rgba(${on},${Yn},${Ue},${dn})`,Ye){const ci=ot._numbers;ci[0]=on,ci[1]=Yn,ci[2]=Ue,ci[3]=dn}}else if(Jn===qe.COMPLEX){zn=ot._strings[0];for(let sn=0,Ai=ot._toNumbers.length;sn<Ai;sn++){const on=Nn(Xn(Xc(ot._fromNumbers[sn],ot._toNumbers[sn],ge),Si)),Yn=ot._strings[sn+1];zn+=`${Yn?on+Yn:on}`,Ye&&(ot._numbers[sn]=on)}}if(Ye&&(ot._number=li),!i&&xt!==ts.blend){const sn=ot.property;H=ot.target,ti?H[sn]=zn:hn===gi.ATTRIBUTE?H.setAttribute(sn,zn):(rt=H.style,hn===gi.TRANSFORM?(H!==wt&&(wt=H,Tt=H[G0]),Tt[sn]=zn,pt=1):hn===gi.CSS?rt[sn]=zn:hn===gi.CSS_VAR&&rt.setProperty(sn,zn)),j&&($=1)}else ot._value=zn}if(pt&&ot._renderTransforms){let kn=cu;for(let ge in Tt)kn+=`${KI[ge]}${Tt[ge]}) `;rt.transform=kn,pt=0}ot=ot._next}!e&&$&&n.onRender(n)}!e&&j&&n.onUpdate(n)}return s&&D?!e&&(s.began&&!X&&C>=a&&!c||X&&C<=On&&c)&&(n.onComplete(n),n.completed=!X):j&&O?d===1/0?n._startTime+=n.duration:n._currentIteration>=d-1&&(n.paused=!0,!c&&!E&&(n.completed=!0,!e&&!(s&&(X||!s.began))&&(n.onComplete(n),n._resolve(n)))):n.completed=!1,$},Mh=(n,t,e,i,r)=>{const s=n._currentIteration;if(wy(n,t,e,i,r),n._hasChildren){const a=n,c=a.backwards,u=i?t:a._iterationTime,d=Am();let f=0,g=!0;if(!i&&a._currentIteration!==s){const y=a.iterationDuration;Ni(a,v=>{if(!c)!v.completed&&!v.backwards&&v._currentTime<v.iterationDuration&&wy(v,y,e,1,Hs.FORCE),v.began=!1,v.completed=!1;else{const E=v.duration,x=v._offset+v._delay,S=x+E;!e&&E<=On&&(!x||S===y)&&v.onComplete(v)}}),e||a.onLoop(a)}Ni(a,y=>{const v=Xn((u-y._offset)*y._speed,12),E=y._fps<a._fps?y.requestTick(d):r;f+=wy(y,v,e,i,E),!y.completed&&g&&(g=!1)},c),!e&&f&&a.onRender(a),g&&a._currentTime>=a.duration&&(a.paused=!0,a.completed||(a.completed=!0,e||(a.onComplete(a),a._resolve(a))))}},jh={animation:null,update:$s},V5=n=>{let t=jh.animation;return t||(t={duration:On,computeDeltaTime:$s,_offset:0,_delay:0,_head:null,_tail:null},jh.animation=t,jh.update=()=>{n.forEach(e=>{for(let i in e){const r=e[i],s=r._head;if(s){const a=s._valueType,c=a===qe.COMPLEX||a===qe.COLOR?Fr(s._fromNumbers):null;let u=s._fromNumber,d=r._tail;for(;d&&d!==s;){if(c)for(let f=0,g=d._numbers.length;f<g;f++)c[f]+=d._numbers[f];else u+=d._number;d=d._prevAdd}s._toNumber=u,s._toNumbers=c}}}),wy(t,1,1,0,Hs.FORCE)}),t},sM=Jo?requestAnimationFrame:setImmediate,U5=Jo?cancelAnimationFrame:clearImmediate;class z5 extends rM{constructor(t){super(t),this.useDefaultMainLoop=!0,this.pauseOnDocumentHidden=!0,this.defaults=XI,this.paused=!!(Jo&&Zl.hidden),this.reqId=null}update(){const t=this._currentTime=Am();if(this.requestTick(t)){this.computeDeltaTime(t);const e=this._speed,i=this._fps;let r=this._head;for(;r;){const s=r._next;r.paused?(Qf(this,r),this._hasChildren=!!this._tail,r._running=!1,r.completed&&!r._cancelled&&r.cancel()):Mh(r,(t-r._startTime)*r._speed*e,0,0,r._fps<i?r.requestTick(t):Hs.AUTO),r=s}jh.update()}}wake(){return this.useDefaultMainLoop&&!this.reqId&&!this.paused&&(this.reqId=sM(oM)),this}pause(){return this.paused=!0,F5()}resume(){if(this.paused)return this.paused=!1,Ni(this,t=>t.resetTime()),this.wake()}get speed(){return this._speed*(tn.timeScale===1?1:ed)}set speed(t){this._speed=t*tn.timeScale,Ni(this,e=>e.speed=e._speed)}get timeUnit(){return tn.timeScale===1?"ms":"s"}set timeUnit(t){const i=t==="s",r=i?.001:1;if(tn.timeScale!==r){tn.timeScale=r,tn.tickThreshold=200*r;const s=i?.001:ed;this.defaults.duration*=s,this._speed*=s}}get precision(){return tn.precision}set precision(t){tn.precision=t}}const Ar=(()=>{const n=new z5(Am());return Jo&&(QI.engine=n,Zl.addEventListener("visibilitychange",()=>{n.pauseOnDocumentHidden&&(Zl.hidden?n.pause():n.resume())})),n})(),oM=()=>{Ar._head?(Ar.reqId=sM(oM),Ar.update()):Ar.reqId=0},F5=()=>(U5(Ar.reqId),Ar.reqId=0,Ar),B5=(n,t,e)=>{const i=n.style.transform;let r;if(i){const s=n[G0];let a;for(;a=R5.exec(i);){const c=a[1],u=a[2].slice(1,-1);s[c]=u,c===t&&(r=u,e&&(e[t]=u))}}return i&&!In(r)?r:Fh(t,"scale")?"1":Fh(t,"rotate")||Fh(t,"skew")?"0deg":"0px"};function CR(n){const t=W0(n)?tn.root.querySelectorAll(n):n;if(t instanceof NodeList||t instanceof HTMLCollection)return t}function aM(n){if(jb(n))return[];if(Rm(n)){const e=n.flat(1/0),i=[];for(let r=0,s=e.length;r<s;r++){const a=e[r];if(!jb(a)){const c=CR(a);if(c)for(let u=0,d=c.length;u<d;u++){const f=c[u];if(!jb(f)){let g=!1;for(let y=0,v=i.length;y<v;y++)if(i[y]===f){g=!0;break}g||i.push(f)}}else{let u=!1;for(let d=0,f=i.length;d<f;d++)if(i[d]===a){u=!0;break}u||i.push(a)}}}return i}if(!Jo)return[n];const t=CR(n);return t?Array.from(t):[n]}function j5(n){const t=aM(n),e=t.length;if(e)for(let i=0;i<e;i++){const r=t[i];if(!r[xR]){r[xR]=!0;const s=ZI(r);(r.nodeType||s)&&(r[Hw]=!0,r[GI]=s,r[G0]={})}}return t}const $5=["opacity","rotate","overflow","color"],H5=(n,t)=>{if($5.includes(t))return!1;if(n.getAttribute(t)||t in n){if(t==="scale"){const e=n.parentNode;return e&&e.tagName==="filter"}return!0}},q5=n=>{const t=T5.exec(n)||w5.exec(n),e=In(t[4])?1:+t[4];return[+t[1],+t[2],+t[3],e]},Y5=n=>{const t=n.length,e=t===4||t===5;return[+("0x"+n[1]+n[e?1:2]),+("0x"+n[e?2:3]+n[e?2:4]),+("0x"+n[e?3:5]+n[e?3:6]),t===5||t===9?+(+("0x"+n[e?4:7]+n[e?4:8])/255).toFixed(3):1]},$b=(n,t,e)=>(e<0&&(e+=1),e>1&&(e-=1),e<1/6?n+(t-n)*6*e:e<1/2?t:e<2/3?n+(t-n)*(2/3-e)*6:n),G5=n=>{const t=E5.exec(n)||x5.exec(n),e=+t[1]/360,i=+t[2]/100,r=+t[3]/100,s=In(t[4])?1:+t[4];let a,c,u;if(i===0)a=c=u=r;else{const d=r<.5?r*(1+i):r+i-r*i,f=2*r-d;a=Xn($b(f,d,e+1/3)*255,0),c=Xn($b(f,d,e)*255,0),u=Xn($b(f,d,e-1/3)*255,0)}return[a,c,u,s]},W5=n=>tM(n)?q5(n):JI(n)?Y5(n):eM(n)?G5(n):[0,0,0,1],Br=(n,t)=>In(n)?t:n,Al=(n,t,e,i,r)=>{if(Cm(n)){const s=()=>{const a=n(t,e,i);return isNaN(+a)?a||0:+a};return r&&(r.func=s),s()}else return n},lM=(n,t)=>n[Hw]?n[GI]&&H5(n,t)?gi.ATTRIBUTE:qw.includes(t)||ng.get(t)?gi.TRANSFORM:Fh(t,"--")?gi.CSS_VAR:t in n.style?gi.CSS:t in n?gi.OBJECT:gi.ATTRIBUTE:gi.OBJECT,DR=(n,t,e)=>{const i=n.style[t];i&&e&&(e[t]=i);const r=i||getComputedStyle(n[v5]||n).getPropertyValue(t);return r==="auto"?"0":r},jf=(n,t,e,i)=>{const r=In(e)?lM(n,t):e;return r===gi.OBJECT?n[t]||0:r===gi.ATTRIBUTE?n.getAttribute(t):r===gi.TRANSFORM?B5(n,t,i):r===gi.CSS_VAR?DR(n,t,i).trimStart():DR(n,t,i)},IR=(n,t,e)=>e==="-"?n-t:e==="+"?n+t:n*t,Gw=()=>({t:qe.NUMBER,n:0,u:null,o:null,d:null,s:null}),Mo=(n,t)=>{if(t.t=qe.NUMBER,t.n=0,t.u=null,t.o=null,t.d=null,t.s=null,!n)return t;const e=+n;if(isNaN(e)){let i=n;i[1]==="="&&(t.o=i[0],i=i.slice(2));const r=i.includes(" ")?!1:S5.exec(i);if(r)return t.t=qe.UNIT,t.n=+r[1],t.u=r[2],t;if(t.o)return t.n=+i,t;if(I5(i))return t.t=qe.COLOR,t.d=W5(i),t;{const s=i.match(SR);return t.t=qe.COMPLEX,t.d=s?s.map(Number):[],t.s=i.split(SR)||[],t}}else return t.n=e,t},MR=(n,t)=>(t.t=n._valueType,t.n=n._toNumber,t.u=n._unit,t.o=null,t.d=Fr(n._toNumbers),t.s=Fr(n._strings),t),Qc=Gw(),Xy={_rep:new WeakMap,_add:new Map},Ww=(n,t,e="_rep")=>{const i=Xy[e];let r=i.get(n);return r||(r={},i.set(n,r)),r[t]?r[t]:r[t]={_head:null,_tail:null}},K5=(n,t)=>n._isOverridden||n._absoluteStartTime>t._absoluteStartTime,Ey=n=>{n._isOverlapped=1,n._isOverridden=1,n._changeDuration=On,n._currentTime=On},cM=(n,t)=>{const e=n._composition;if(e===ts.replace){const i=n._absoluteStartTime;Vh(t,n,K5,"_prevRep","_nextRep");const r=n._prevRep;if(r){const s=r.parent,a=r._absoluteStartTime+r._changeDuration;if(n.parent.id!==s.id&&s.iterationCount>1&&a+(s.duration-s.iterationDuration)>i){Ey(r);let d=r._prevRep;for(;d&&d.parent.id===s.id;)Ey(d),d=d._prevRep}const c=i-n._delay;if(a>c){const d=r._startTime,f=a-(d+r._updateDuration);r._changeDuration=c-f-d,r._currentTime=r._changeDuration,r._isOverlapped=1,r._changeDuration<On&&Ey(r)}let u=!0;if(Ni(s,d=>{d._isOverlapped||(u=!1)}),u){const d=s.parent;if(d){let f=!0;Ni(d,g=>{g!==s&&Ni(g,y=>{y._isOverlapped||(f=!1)})}),f&&d.cancel()}else s.cancel()}}}else if(e===ts.blend){const i=Ww(n.target,n.property,"_add"),r=V5(Xy._add);let s=i._head;s||(s={...n},s._composition=ts.replace,s._updateDuration=On,s._startTime=0,s._numbers=Fr(n._fromNumbers),s._number=0,s._next=null,s._prev=null,Vh(i,s),Vh(r,s));const a=n._toNumber;if(n._fromNumber=s._fromNumber-a,n._toNumber=0,n._numbers=Fr(n._fromNumbers),n._number=0,s._fromNumber=a,n._toNumbers){const c=Fr(n._toNumbers);c&&c.forEach((u,d)=>{n._fromNumbers[d]=s._fromNumbers[d]-u,n._toNumbers[d]=0}),s._fromNumbers=c}Vh(i,n,null,"_prevAdd","_nextAdd")}return n},X5=n=>{const t=n._composition;if(t!==ts.none){const e=n.target,i=n.property,a=Xy._rep.get(e)[i];if(Qf(a,n,"_prevRep","_nextRep"),t===ts.blend){const c=Xy._add,u=c.get(e);if(!u)return;const d=u[i],f=jh.animation;Qf(d,n,"_prevAdd","_nextAdd");const g=d._head;if(g&&g===d._tail){Qf(d,g,"_prevAdd","_nextAdd"),Qf(f,g);let y=!0;for(let v in u)if(u[v]._head){y=!1;break}y&&c.delete(e)}}}return n},OR=n=>(n.paused=!0,n.began=!1,n.completed=!1,n),IT=n=>(n._cancelled&&(n._hasChildren?Ni(n,IT):Ni(n,t=>{t._composition!==ts.none&&cM(t,Ww(t.target,t.property))}),n._cancelled=0),n);let Q5=0;class Z5 extends rM{constructor(t={},e=null,i=0){super(0);const{id:r,delay:s,duration:a,reversed:c,alternate:u,loop:d,loopDelay:f,autoplay:g,frameRate:y,playbackRate:v,onComplete:E,onLoop:x,onPause:S,onBegin:R,onBeforeUpdate:C,onUpdate:P}=t;tn.scope&&tn.scope.revertibles.push(this);const L=e?0:Ar._elapsedTime,N=e?e.defaults:tn.defaults,j=Cm(s)||In(s)?N.delay:+s,O=Cm(a)||In(a)?1/0:+a,D=Br(d,N.loop),k=Br(f,N.loopDelay),V=D===!0||D===1/0||D<0?1/0:D+1;let B=0;if(e)B=i;else{let $=Am();Ar.paused&&(Ar.requestTick($),$=Ar._elapsedTime),B=$-Ar._startTime}this.id=In(r)?++Q5:r,this.parent=e,this.duration=Ty((O+k)*V-k)||On,this.backwards=!1,this.paused=!0,this.began=!1,this.completed=!1,this.onBegin=R||N.onBegin,this.onBeforeUpdate=C||N.onBeforeUpdate,this.onUpdate=P||N.onUpdate,this.onLoop=x||N.onLoop,this.onPause=S||N.onPause,this.onComplete=E||N.onComplete,this.iterationDuration=O,this.iterationCount=V,this._autoplay=e?!1:Br(g,N.autoplay),this._offset=B,this._delay=j,this._loopDelay=k,this._iterationTime=0,this._currentIteration=0,this._resolve=$s,this._running=!1,this._reversed=+Br(c,N.reversed),this._reverse=this._reversed,this._cancelled=0,this._alternate=Br(u,N.alternate),this._prev=null,this._next=null,this._elapsedTime=L,this._startTime=L,this._lastTime=L,this._fps=Br(y,N.frameRate),this._speed=Br(v,N.playbackRate)}get cancelled(){return!!this._cancelled}set cancelled(t){t?this.cancel():this.reset(1).play()}get currentTime(){return Rr(Xn(this._currentTime,tn.precision),-this._delay,this.duration)}set currentTime(t){const e=this.paused;this.pause().seek(+t),e||this.resume()}get iterationCurrentTime(){return Xn(this._iterationTime,tn.precision)}set iterationCurrentTime(t){this.currentTime=this.iterationDuration*this._currentIteration+t}get progress(){return Rr(Xn(this._currentTime/this.duration,5),0,1)}set progress(t){this.currentTime=this.duration*t}get iterationProgress(){return Rr(Xn(this._iterationTime/this.iterationDuration,5),0,1)}set iterationProgress(t){const e=this.iterationDuration;this.currentTime=e*this._currentIteration+e*t}get currentIteration(){return this._currentIteration}set currentIteration(t){this.currentTime=this.iterationDuration*Rr(+t,0,this.iterationCount-1)}get reversed(){return!!this._reversed}set reversed(t){t?this.reverse():this.play()}get speed(){return super.speed}set speed(t){super.speed=t,this.resetTime()}reset(t=0){return IT(this),this._reversed&&!this._reverse&&(this.reversed=!1),this._iterationTime=this.iterationDuration,Mh(this,0,1,t,Hs.FORCE),OR(this),this._hasChildren&&Ni(this,OR),this}init(t=0){this.fps=this._fps,this.speed=this._speed,!t&&this._hasChildren&&Mh(this,this.duration,1,t,Hs.FORCE),this.reset(t);const e=this._autoplay;return e===!0?this.resume():e&&!In(e.linked)&&e.link(this),this}resetTime(){const t=1/(this._speed*Ar._speed);return this._startTime=Am()-(this._currentTime+this._delay)*t,this}pause(){return this.paused?this:(this.paused=!0,this.onPause(this),this)}resume(){return this.paused?(this.paused=!1,this.duration<=On&&!this._hasChildren?Mh(this,On,0,0,Hs.FORCE):(this._running||(Vh(Ar,this),Ar._hasChildren=!0,this._running=!0),this.resetTime(),this._startTime-=12,Ar.wake()),this):this}restart(){return this.reset(0).resume()}seek(t,e=0,i=0){IT(this),this.completed=!1;const r=this.paused;return this.paused=!0,Mh(this,t+this._delay,~~e,~~i,Hs.AUTO),r?this:this.resume()}alternate(){const t=this._reversed,e=this.iterationCount,i=this.iterationDuration,r=e===1/0?nM(WI/i):e;return this._reversed=+(this._alternate&&!(r%2)?t:!t),e===1/0?this.iterationProgress=this._reversed?1-this.iterationProgress:this.iterationProgress:this.seek(i*r-this._currentTime),this.resetTime(),this}play(){return this._reversed&&this.alternate(),this.resume()}reverse(){return this._reversed||this.alternate(),this.resume()}cancel(){return this._hasChildren?Ni(this,t=>t.cancel(),!0):Ni(this,X5),this._cancelled=1,this.pause()}stretch(t){const e=this.duration;if(e===Bh(t))return this;const i=t/e,r=t<=On;return this.duration=r?On:Bh(Ty(Xn(e*i,12))),this.iterationDuration=r?On:Bh(Ty(Xn(this.iterationDuration*i,12))),this._offset*=i,this._delay*=i,this._loopDelay*=i,this}revert(){Mh(this,0,1,0,Hs.AUTO);const t=this._autoplay;return t&&t.linked&&t.linked===this&&t.revert(),this.cancel()}complete(){return this.seek(this.duration).cancel()}then(t=$s){const e=this.then,i=()=>{this.then=null,t(this),this.then=e,this._resolve=$s};return new Promise(r=>(this._resolve=()=>r(i()),this.completed&&this._resolve(),this))}}const nd=n=>n,uM=(n,t,e)=>(((1-3*e+3*t)*n+(3*e-6*t))*n+3*t)*n,J5=(n,t,e)=>{let i=0,r=1,s,a,c=0;do a=i+(r-i)/2,s=uM(a,t,e)-n,s>0?r=a:i=a;while(N5(s)>1e-7&&++c<100);return a},t6=(n=.5,t=0,e=.5,i=1)=>n===t&&e===i?nd:r=>r===0||r===1?r:uM(J5(r,n,e),t,i),e6=(n=10,t)=>{const e=t?P5:nM;return i=>e(Rr(i,0,1)*n)*(1/n)},hM=(...n)=>{const t=n.length;if(!t)return nd;const e=t-1,i=n[0],r=n[e],s=[0],a=[qp(i)];for(let c=1;c<e;c++){const u=n[c],d=W0(u)?u.trim().split(" "):[u],f=d[0],g=d[1];s.push(In(g)?c/e:qp(g)/100),a.push(qp(f))}return a.push(qp(r)),s.push(1),function(u){for(let d=1,f=s.length;d<f;d++){const g=s[d];if(u<=g){const y=s[d-1],v=a[d-1];return v+(a[d]-v)*(u-y)/(g-y)}}return a[a.length-1]}},n6=(n=10,t=1)=>{const e=[0],i=n-1;for(let r=1;r<i;r++){const s=e[r-1],a=r/i,c=(r+1)/i,u=a+(c-a)*Math.random(),d=a*(1-t)+u*t;e.push(Rr(d,s,1))}return e.push(1),hM(...e)},i6=Yw/2,kR=Yw*2,$f=(n=1.68)=>t=>Ih(t,+n),NR={[cu]:$f,Quad:$f(2),Cubic:$f(3),Quart:$f(4),Quint:$f(5),Sine:n=>1-k5(n*i6),Circ:n=>1-M5(1-n*n),Expo:n=>n?Ih(2,10*n-10):0,Bounce:n=>{let t,e=4;for(;n<((t=Ih(2,--e))-1)/11;);return 1/Ih(4,3-e)-7.5625*Ih((t*3-2)/22-n,2)},Back:(n=1.70158)=>t=>(+n+1)*t*t*t-+n*t*t,Elastic:(n=1,t=.3)=>{const e=Rr(+n,1,10),i=Rr(+t,On,2),r=i/kR*L5(1/e),s=kR/i;return a=>a===0||a===1?a:-e*Ih(2,-10*(1-a))*O5((1-a-r)*s)}},MT={in:n=>t=>n(t),out:n=>t=>1-n(1-t),inOut:n=>t=>t<.5?n(t*2)/2:1-n(t*-2+2)/2,outIn:n=>t=>t<.5?(1-n(1-t*2))/2:(n(t*2-1)+1)/2},r6=(n,t,e)=>{if(e[n])return e[n];if(n.indexOf("(")<=-1){const r=MT[n]||n.includes("Back")||n.includes("Elastic")?t[n]():t[n];return r?e[n]=r:nd}else{const i=n.slice(0,-1).split("("),r=t[i[0]];return r?e[n]=r(...i[1].split(",")):nd}},s6=(()=>{const n={linear:hM,irregular:n6,steps:e6,cubicBezier:t6};for(let t in MT)for(let e in NR){const i=NR[e],r=MT[t];n[t+e]=e===cu||e==="Back"||e==="Elastic"?(s,a)=>r(i(s,a)):r(i)}return n})(),o6={linear:nd},PR=n=>Cm(n)?n:W0(n)?r6(n,s6,o6):nd,LR={},a6=(n,t,e)=>{if(e===gi.TRANSFORM){const i=ng.get(n);return i||n}else if(e===gi.CSS||e===gi.ATTRIBUTE&&ZI(t)&&n in t.style){const i=LR[n];if(i)return i;{const r=n&&C5(n);return LR[n]=r,r}}else return n},Hb={deg:1,rad:180/Yw,turn:360},VR={},l6=(n,t,e,i=!1)=>{const r=t.u,s=t.n;if(t.t===qe.UNIT&&r===e)return t;const a=s+r+e,c=VR[a];if(!In(c)&&!i)t.n=c;else{let u;if(r in Hb)u=s*Hb[r]/Hb[e];else{const f=n.cloneNode(),g=n.parentNode,y=g&&g!==Zl?g:Zl.body;y.appendChild(f);const v=f.style;v.width=100+r;const E=f.offsetWidth||100;v.width=100+e;const x=f.offsetWidth||100,S=E/x;y.removeChild(f),u=S*s}t.n=u,VR[a]=u}return t.t,qe.UNIT,t.u=e,t},dM=n=>{if(n._hasChildren)Ni(n,dM,!0);else{const t=n;t.pause(),Ni(t,e=>{const i=e.property,r=e.target;if(r[Hw]){const s=r.style,a=t._inlineStyles[i];if(e._tweenType===gi.TRANSFORM){const c=r[G0];if(In(a)||a===cu?delete c[i]:c[i]=a,e._renderTransforms)if(!Object.keys(c).length)s.removeProperty("transform");else{let u=cu;for(let d in c)u+=KI[d]+c[d]+") ";s.transform=u}}else In(a)||a===cu?s.removeProperty(i):s[i]=a;t._tail===e&&t.targets.forEach(c=>{c.getAttribute&&c.getAttribute("style")===cu&&c.removeAttribute("style")})}})}return n},me=Gw(),Ce=Gw(),Yp={func:null},Gp=[null],Sh=[null,null],Wp={to:null};let c6=0,Rl,Oo;const u6=(n,t)=>{const e={};if(Rm(n)){const i=[].concat(...n.map(r=>Object.keys(r))).filter(by);for(let r=0,s=i.length;r<s;r++){const a=i[r],c=n.map(u=>{const d={};for(let f in u){const g=u[f];by(f)?f===a&&(d.to=g):d[f]=g}return d});e[a]=c}}else{const i=Br(t.duration,tn.defaults.duration);Object.keys(n).map(s=>({o:parseFloat(s)/100,p:n[s]})).sort((s,a)=>s.o-a.o).forEach(s=>{const a=s.o,c=s.p;for(let u in c)if(by(u)){let d=e[u];d||(d=e[u]=[]);const f=a*i;let g=d.length,y=d[g-1];const v={to:c[u]};let E=0;for(let x=0;x<g;x++)E+=d[x].duration;g===1&&(v.from=y.to),c.ease&&(v.ease=c.ease),v.duration=f-(g?E:0),d.push(v)}return s});for(let s in e){const a=e[s];let c;for(let u=0,d=a.length;u<d;u++){const f=a[u],g=f.ease;f.ease=c||void 0,c=g}a[0].duration||a.shift()}}return e};class h6 extends Z5{constructor(t,e,i,r,s=!1,a=0,c=0){super(e,i,r);const u=j5(t),d=u.length,f=e.keyframes,g=f?iM(u6(f,e),e):e,{delay:y,duration:v,ease:E,playbackEase:x,modifier:S,composition:R,onRender:C}=g,P=i?i.defaults:tn.defaults,L=Br(x,P.playbackEase),N=L?PR(L):null,j=!In(E)&&!In(E.ease),O=j?E.ease:Br(E,N?"linear":P.ease),D=j?E.duration:Br(v,P.duration),k=Br(y,P.delay),V=S||P.modifier,B=In(R)&&d>=ed?ts.none:In(R)?P.composition:R,$={},z=this._offset+(i?i._offset:0);let bt=NaN,J=NaN,X=0,lt=0;for(let ht=0;ht<d;ht++){const ot=u[ht],H=a||ht,rt=c||d;let wt=NaN,Tt=NaN;for(let pt in g)if(by(pt)){const xt=lM(ot,pt),St=a6(pt,ot,xt);let Xt=g[pt];const ce=Rm(Xt);if(s&&!ce&&(Sh[0]=Xt,Sh[1]=Xt,Xt=Sh),ce){const Nn=Xt.length,Jn=!Bb(Xt[0]);Nn===2&&Jn?(Wp.to=Xt,Gp[0]=Wp,Rl=Gp):Nn>2&&Jn?(Rl=[],Xt.forEach((hn,ti)=>{ti?ti===1?(Sh[1]=hn,Rl.push(Sh)):Rl.push(hn):Sh[0]=hn})):Rl=Xt}else Gp[0]=Xt,Rl=Gp;let Gt=null,Wt=null,Ye=NaN,kn=0,ge=0;for(let Nn=Rl.length;ge<Nn;ge++){const Jn=Rl[ge];Bb(Jn)?Oo=Jn:(Wp.to=Jn,Oo=Wp),Yp.func=null;const hn=Al(Oo.to,ot,H,rt,Yp);let ti;Bb(hn)&&!In(hn.to)?(Oo=hn,ti=hn.to):ti=hn;const Nr=Al(Oo.from,ot,H,rt),Si=Oo.ease,zn=!In(Si)&&!In(Si.ease),li=zn?Si.ease:Si||O,sn=zn?Si.duration:Al(Br(Oo.duration,Nn>1?Al(D,ot,H,rt)/Nn:D),ot,H,rt),Ai=Al(Br(Oo.delay,ge?0:k),ot,H,rt),on=Al(Br(Oo.composition,B),ot,H,rt),Yn=D5(on)?on:ts[on],Ue=Oo.modifier||V,dn=!In(Nr),ci=!In(ti),Gs=Rm(ti),vr=Gs||dn&&ci,mo=Wt?kn+Ai:Ai,Wr=z+mo;!lt&&(dn||Gs)&&(lt=1);let Fn=Wt;if(Yn!==ts.none){Gt||(Gt=Ww(ot,St));let pe=Gt._head;for(;pe&&!pe._isOverridden&&pe._absoluteStartTime<=Wr;)if(Fn=pe,pe=pe._nextRep,pe&&pe._absoluteStartTime>=Wr)for(;pe;)Ey(pe),pe=pe._nextRep}if(vr?(Mo(Gs?Al(ti[0],ot,H,rt):Nr,me),Mo(Gs?Al(ti[1],ot,H,rt,Yp):ti,Ce),me.t===qe.NUMBER&&(Fn?Fn._valueType===qe.UNIT&&(me.t=qe.UNIT,me.u=Fn._unit):(Mo(jf(ot,St,xt,$),Qc),Qc.t===qe.UNIT&&(me.t=qe.UNIT,me.u=Qc.u)))):(ci?Mo(ti,Ce):Wt?MR(Wt,Ce):Mo(i&&Fn&&Fn.parent.parent===i?Fn._value:jf(ot,St,xt,$),Ce),dn?Mo(Nr,me):Wt?MR(Wt,me):Mo(i&&Fn&&Fn.parent.parent===i?Fn._value:jf(ot,St,xt,$),me)),me.o&&(me.n=IR(Fn?Fn._toNumber:Mo(jf(ot,St,xt,$),Qc).n,me.n,me.o)),Ce.o&&(Ce.n=IR(me.n,Ce.n,Ce.o)),me.t!==Ce.t){if(me.t===qe.COMPLEX||Ce.t===qe.COMPLEX){const pe=me.t===qe.COMPLEX?me:Ce,Pe=me.t===qe.COMPLEX?Ce:me;Pe.t=qe.COMPLEX,Pe.s=Fr(pe.s),Pe.d=pe.d.map(()=>Pe.n)}else if(me.t===qe.UNIT||Ce.t===qe.UNIT){const pe=me.t===qe.UNIT?me:Ce,Pe=me.t===qe.UNIT?Ce:me;Pe.t=qe.UNIT,Pe.u=pe.u}else if(me.t===qe.COLOR||Ce.t===qe.COLOR){const pe=me.t===qe.COLOR?me:Ce,Pe=me.t===qe.COLOR?Ce:me;Pe.t=qe.COLOR,Pe.s=pe.s,Pe.d=[0,0,0,1]}}if(me.u!==Ce.u){let pe=Ce.u?me:Ce;pe=l6(ot,pe,Ce.u?Ce.u:me.u,!1)}if(Ce.d&&me.d&&Ce.d.length!==me.d.length){const pe=me.d.length>Ce.d.length?me:Ce,Pe=pe===me?Ce:me;Pe.d=pe.d.map((go,ia)=>In(Pe.d[ia])?0:Pe.d[ia]),Pe.s=Fr(pe.s)}const ei=Xn(+sn||On,12),os={parent:this,id:c6++,property:St,target:ot,_value:null,_func:Yp.func,_ease:PR(li),_fromNumbers:Fr(me.d),_toNumbers:Fr(Ce.d),_strings:Fr(Ce.s),_fromNumber:me.n,_toNumber:Ce.n,_numbers:Fr(me.d),_number:me.n,_unit:Ce.u,_modifier:Ue,_currentTime:0,_startTime:mo,_delay:+Ai,_updateDuration:ei,_changeDuration:ei,_absoluteStartTime:Wr,_tweenType:xt,_valueType:Ce.t,_composition:Yn,_isOverlapped:0,_isOverridden:0,_renderTransforms:0,_prevRep:null,_nextRep:null,_prevAdd:null,_nextAdd:null,_prev:null,_next:null};Yn!==ts.none&&cM(os,Gt),isNaN(Ye)&&(Ye=os._startTime),kn=Xn(mo+ei,12),Wt=os,X++,Vh(this,os)}(isNaN(J)||Ye<J)&&(J=Ye),(isNaN(bt)||kn>bt)&&(bt=kn),xt===gi.TRANSFORM&&(wt=X-ge,Tt=X)}if(!isNaN(wt)){let pt=0;Ni(this,xt=>{pt>=wt&&pt<Tt&&(xt._renderTransforms=1,xt._composition===ts.blend&&Ni(jh.animation,St=>{St.id===xt.id&&(St._renderTransforms=1)})),pt++})}}d||console.warn("No target found. Make sure the element you're trying to animate is accessible before creating your animation."),J?(Ni(this,ht=>{ht._startTime-ht._delay||(ht._delay-=J),ht._startTime-=J}),bt-=J):J=0,bt||(bt=On,this.iterationCount=0),this.targets=u,this.duration=bt===On?On:Ty((bt+this._loopDelay)*this.iterationCount-this._loopDelay)||On,this.onRender=C||P.onRender,this._ease=N,this._delay=J,this.iterationDuration=bt,this._inlineStyles=$,!this._autoplay&&lt&&this.onRender(this)}stretch(t){const e=this.duration;if(e===Bh(t))return this;const i=t/e;return Ni(this,r=>{r._updateDuration=Bh(Xn(r._updateDuration*i,12)),r._changeDuration=Bh(Xn(r._changeDuration*i,12)),r._currentTime*=i,r._startTime*=i,r._absoluteStartTime*=i}),super.stretch(t)}refresh(){return Ni(this,t=>{const e=jf(t.target,t.property,t._tweenType);Mo(e,Qc),t._fromNumbers=Fr(Qc.d),t._fromNumber=Qc.n,t._func&&(Mo(t._func(),Ce),t._toNumbers=Fr(Ce.d),t._strings=Fr(Ce.s),t._toNumber=Ce.n)}),this}revert(){return super.revert(),dM(this)}then(t){return super.then(t)}}const d6=(n,t)=>new h6(n,t,null,0,!1).init(),f6=["x","y","z"];[...f6,...qw.filter(n=>["X","Y","Z"].some(t=>n.endsWith(t)))];Jo&&(In(CSS)||Object.hasOwnProperty.call(CSS,"registerProperty"));class m6{constructor(t={}){tn.scope&&tn.scope.revertibles.push(this);const e=t.root;let i=Zl;e&&(i=e.current||e.nativeElement||aM(e)[0]||Zl);const r=t.defaults,s=tn.defaults,a=t.mediaQueries;if(this.defaults=r?iM(r,s):s,this.root=i,this.constructors=[],this.revertConstructors=[],this.revertibles=[],this.methods={},this.matches={},this.mediaQueryLists={},this.data={},a)for(let c in a){const u=vy.matchMedia(a[c]);this.mediaQueryLists[c]=u,u.addEventListener("change",this)}}execute(t){let e=tn.scope,i=tn.root,r=tn.defaults;tn.scope=this,tn.root=this.root,tn.defaults=this.defaults;const s=this.mediaQueryLists;for(let c in s)this.matches[c]=s[c].matches;const a=t(this);return tn.scope=e,tn.root=i,tn.defaults=r,a}refresh(){return this.execute(()=>{let t=this.revertibles.length,e=this.revertConstructors.length;for(;t--;)this.revertibles[t].revert();for(;e--;)this.revertConstructors[e](this);this.revertibles.length=0,this.revertConstructors.length=0,this.constructors.forEach(i=>{const r=i(this);r&&this.revertConstructors.push(r)})}),this}add(t,e){if(Cm(t)){const i=t;this.constructors.push(i),this.execute(()=>{const r=i(this);r&&this.revertConstructors.push(r)})}else this.methods[t]=(...i)=>this.execute(()=>e(...i));return this}handleEvent(t){switch(t.type){case"change":this.refresh();break}}revert(){const t=this.revertibles,e=this.revertConstructors,i=this.mediaQueryLists;let r=t.length,s=e.length;for(;r--;)t[r].revert();for(;s--;)e[s](this);for(let a in i)i[a].removeEventListener("change",this);t.length=0,e.length=0,this.constructors.length=0,this.matches={},this.methods={},this.mediaQueryLists={},this.data={}}}const g6=n=>new m6(n);function rr(n,t){return Math.floor(Math.random()*(t-n+1))+n}function p6(){let n,t,e=[];const i=[`absolute -top-42 -left-[${rr(0,500)}px] size-12 rounded-full border-2 `,`absolute -top-20 -left-[${rr(0,1e3)}px] size-12 rounded-full border-4 `,`absolute -top-36 -left-[${rr(200,1e3)}px] size-12 rounded-lg border-2 `,`absolute -top-24 -left-[${rr(500,1500)}px] size-12 rounded-lg border-4 `,`absolute -top-36 left-[${rr(400,1e3)}px] size-12 rounded-full`,`absolute -top-20 left-[${rr(600,1800)}px] size-12 rounded-full`,`absolute -top-60 left-[${rr(50,700)}px] size-12 rounded-lg skew-24`,`absolute -top-42 right-[${rr(1e3,2e3)}px] size-12 rounded-lg `,`absolute -top-60 left-[${rr(50,700)}px] size-12 rounded-lg  `],r=["bg-gradient-to-br from-black/75 to-purple-500/75 ","bg-gradient-to-br from-purple-500/75 to-red-500/75 ","bg-gradient-to-br from-green-500/75 to-amber-500/75 ","bg-gradient-to-br from-blue-500/75 to-purple-500/75 ","bg-gradient-to-br from-amber-500/75 to-sky-500/75 ","bg-gradient-to-br from-lime-500/75 to-purple-500/75 ","bg-gradient-to-br from-blue-500/75 to-green-500/75 ","bg-gradient-to-br from-sky-500/75 to-pink-500/75 ","bg-gradient-to-br from-slate-300/75 to-red-500/75 ","bg-gradient-to-br from-pink-500/75 to-amber-500/75 "],s=[" border-lime-500"," border-purple-500"," border-purple-900"," border-lime-900"," border-blue-500"," border-blue-900"," border-amber-500"," border-amber-900"," border-pink-500"," border-pink-900"],a=rr(40,120);for(let c=0;c<a;c++){n=i[rr(0,i.length-1)],n===i[0]||n===i[1]||n===i[2]||n===i[3]?t=s[rr(0,s.length-1)]:(t=r[rr(0,r.length-1)],t+=" border-transparent ");const u=yt.jsx("span",{className:`Figure-${c} ${n} ${t}`},`Figure-${c}`);e.push(u)}return e}const y6=()=>{const n=K.useRef(null),t=K.useRef(null),[e,i]=K.useState([]),[r,s]=K.useState(!1);if(K.useEffect(()=>{s(!1);const a=p6();i(a),s(!0)},[]),K.useEffect(()=>{setTimeout(()=>{t.current=g6({root:n}).add(()=>{function a(c,u){return Math.random()*(u-c)+c}for(let c=0;c<e.length;c++){const u=rr(1e4,85e3),d=rr(200,800),f=1500,g=["linear","inOut"],y=rr(90,360),v=a(.25,2.5);d6(`.Figure-${c}`,{translateX:d,translateY:f,duration:u,ease:g[rr(0,g.length-1)],rotate:`${y}deg`,opacity:.5,autoplay:!0,loop:!0,scale:v})}})},500)},[r]),r)return yt.jsx("div",{ref:n,className:"w-full min-h-screen fixed top-0 left-0 z-0",children:yt.jsx("div",{className:"domo relative overflow-hidden h-screen w-full",children:e.map(a=>a)})})},UR=()=>yt.jsxs("section",{className:"relative flex flex-col w-full min-h-screen bg-[var(--st)] dark:bg-[var(--st)]",children:[yt.jsx(y6,{}),yt.jsx($w,{}),yt.jsx(O4,{})]});var fM={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},zR=Qe.createContext&&Qe.createContext(fM),_6=["attr","size","title"];function v6(n,t){if(n==null)return{};var e=b6(n,t),i,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)i=s[r],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(e[i]=n[i])}return e}function b6(n,t){if(n==null)return{};var e={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(t.indexOf(i)>=0)continue;e[i]=n[i]}return e}function Qy(){return Qy=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Qy.apply(this,arguments)}function FR(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function Zy(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?FR(Object(e),!0).forEach(function(i){T6(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):FR(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function T6(n,t,e){return t=w6(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function w6(n){var t=E6(n,"string");return typeof t=="symbol"?t:t+""}function E6(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function mM(n){return n&&n.map((t,e)=>Qe.createElement(t.tag,Zy({key:e},t.attr),mM(t.child)))}function Kw(n){return t=>Qe.createElement(x6,Qy({attr:Zy({},n.attr)},t),mM(n.child))}function x6(n){var t=e=>{var{attr:i,size:r,title:s}=n,a=v6(n,_6),c=r||e.size||"1em",u;return e.className&&(u=e.className),n.className&&(u=(u?u+" ":"")+n.className),Qe.createElement("svg",Qy({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},e.attr,i,a,{className:u,style:Zy(Zy({color:n.color||e.color},e.style),n.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),s&&Qe.createElement("title",null,s),n.children)};return zR!==void 0?Qe.createElement(zR.Consumer,null,e=>t(e)):t(fM)}function S6(n){return Kw({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm144 276c0 6.6-5.4 12-12 12h-92v92c0 6.6-5.4 12-12 12h-56c-6.6 0-12-5.4-12-12v-92h-92c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h92v-92c0-6.6 5.4-12 12-12h56c6.6 0 12 5.4 12 12v92h92c6.6 0 12 5.4 12 12v56z"},child:[]}]})(n)}function gM(n){return Kw({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"},child:[]}]})(n)}class T extends Array{constructor(t,e){if(super(t),this.sign=e,Object.setPrototypeOf(this,T.prototype),t>T.__kMaxLength)throw new RangeError("Maximum BigInt size exceeded")}static BigInt(t){var e=Math.floor,i=Number.isFinite;if(typeof t=="number"){if(t===0)return T.__zero();if(T.__isOneDigitInt(t))return 0>t?T.__oneDigit(-t,!0):T.__oneDigit(t,!1);if(!i(t)||e(t)!==t)throw new RangeError("The number "+t+" cannot be converted to BigInt because it is not an integer");return T.__fromDouble(t)}if(typeof t=="string"){const r=T.__fromString(t);if(r===null)throw new SyntaxError("Cannot convert "+t+" to a BigInt");return r}if(typeof t=="boolean")return t===!0?T.__oneDigit(1,!1):T.__zero();if(typeof t=="object"){if(t.constructor===T)return t;const r=T.__toPrimitive(t);return T.BigInt(r)}throw new TypeError("Cannot convert "+t+" to a BigInt")}toDebugString(){const t=["BigInt["];for(const e of this)t.push((e&&(e>>>0).toString(16))+", ");return t.push("]"),t.join("")}toString(t=10){if(2>t||36<t)throw new RangeError("toString() radix argument must be between 2 and 36");return this.length===0?"0":(t&t-1)==0?T.__toStringBasePowerOfTwo(this,t):T.__toStringGeneric(this,t,!1)}valueOf(){throw new Error("Convert JSBI instances to native numbers using `toNumber`.")}static toNumber(t){const e=t.length;if(e===0)return 0;if(e===1){const S=t.__unsignedDigit(0);return t.sign?-S:S}const i=t.__digit(e-1),r=T.__clz30(i),s=30*e-r;if(1024<s)return t.sign?-1/0:1/0;let a=s-1,c=i,u=e-1;const d=r+3;let f=d===32?0:c<<d;f>>>=12;const g=d-12;let y=12<=d?0:c<<20+d,v=20+d;for(0<g&&0<u&&(u--,c=t.__digit(u),f|=c>>>30-g,y=c<<g+2,v=g+2);0<v&&0<u;)u--,c=t.__digit(u),y|=30<=v?c<<v-30:c>>>30-v,v-=30;const E=T.__decideRounding(t,v,u,c);if((E===1||E===0&&(1&y)==1)&&(y=y+1>>>0,y===0&&(f++,f>>>20!=0&&(f=0,a++,1023<a))))return t.sign?-1/0:1/0;const x=t.sign?-2147483648:0;return a=a+1023<<20,T.__kBitConversionInts[1]=x|a|f,T.__kBitConversionInts[0]=y,T.__kBitConversionDouble[0]}static unaryMinus(t){if(t.length===0)return t;const e=t.__copy();return e.sign=!t.sign,e}static bitwiseNot(t){return t.sign?T.__absoluteSubOne(t).__trim():T.__absoluteAddOne(t,!0)}static exponentiate(t,e){if(e.sign)throw new RangeError("Exponent must be positive");if(e.length===0)return T.__oneDigit(1,!1);if(t.length===0)return t;if(t.length===1&&t.__digit(0)===1)return t.sign&&(1&e.__digit(0))==0?T.unaryMinus(t):t;if(1<e.length)throw new RangeError("BigInt too big");let i=e.__unsignedDigit(0);if(i===1)return t;if(i>=T.__kMaxLengthBits)throw new RangeError("BigInt too big");if(t.length===1&&t.__digit(0)===2){const a=1+(0|i/30),c=t.sign&&(1&i)!=0,u=new T(a,c);u.__initializeDigits();const d=1<<i%30;return u.__setDigit(a-1,d),u}let r=null,s=t;for((1&i)!=0&&(r=t),i>>=1;i!==0;i>>=1)s=T.multiply(s,s),(1&i)!=0&&(r===null?r=s:r=T.multiply(r,s));return r}static multiply(t,e){if(t.length===0)return t;if(e.length===0)return e;let i=t.length+e.length;30<=t.__clzmsd()+e.__clzmsd()&&i--;const r=new T(i,t.sign!==e.sign);r.__initializeDigits();for(let s=0;s<t.length;s++)T.__multiplyAccumulate(e,t.__digit(s),r,s);return r.__trim()}static divide(t,e){if(e.length===0)throw new RangeError("Division by zero");if(0>T.__absoluteCompare(t,e))return T.__zero();const i=t.sign!==e.sign,r=e.__unsignedDigit(0);let s;if(e.length===1&&32767>=r){if(r===1)return i===t.sign?t:T.unaryMinus(t);s=T.__absoluteDivSmall(t,r,null)}else s=T.__absoluteDivLarge(t,e,!0,!1);return s.sign=i,s.__trim()}static remainder(t,e){if(e.length===0)throw new RangeError("Division by zero");if(0>T.__absoluteCompare(t,e))return t;const i=e.__unsignedDigit(0);if(e.length===1&&32767>=i){if(i===1)return T.__zero();const s=T.__absoluteModSmall(t,i);return s===0?T.__zero():T.__oneDigit(s,t.sign)}const r=T.__absoluteDivLarge(t,e,!1,!0);return r.sign=t.sign,r.__trim()}static add(t,e){const i=t.sign;return i===e.sign?T.__absoluteAdd(t,e,i):0<=T.__absoluteCompare(t,e)?T.__absoluteSub(t,e,i):T.__absoluteSub(e,t,!i)}static subtract(t,e){const i=t.sign;return i===e.sign?0<=T.__absoluteCompare(t,e)?T.__absoluteSub(t,e,i):T.__absoluteSub(e,t,!i):T.__absoluteAdd(t,e,i)}static leftShift(t,e){return e.length===0||t.length===0?t:e.sign?T.__rightShiftByAbsolute(t,e):T.__leftShiftByAbsolute(t,e)}static signedRightShift(t,e){return e.length===0||t.length===0?t:e.sign?T.__leftShiftByAbsolute(t,e):T.__rightShiftByAbsolute(t,e)}static unsignedRightShift(){throw new TypeError("BigInts have no unsigned right shift; use >> instead")}static lessThan(t,e){return 0>T.__compareToBigInt(t,e)}static lessThanOrEqual(t,e){return 0>=T.__compareToBigInt(t,e)}static greaterThan(t,e){return 0<T.__compareToBigInt(t,e)}static greaterThanOrEqual(t,e){return 0<=T.__compareToBigInt(t,e)}static equal(t,e){if(t.sign!==e.sign||t.length!==e.length)return!1;for(let i=0;i<t.length;i++)if(t.__digit(i)!==e.__digit(i))return!1;return!0}static notEqual(t,e){return!T.equal(t,e)}static bitwiseAnd(t,e){var i=Math.max;if(!t.sign&&!e.sign)return T.__absoluteAnd(t,e).__trim();if(t.sign&&e.sign){const r=i(t.length,e.length)+1;let s=T.__absoluteSubOne(t,r);const a=T.__absoluteSubOne(e);return s=T.__absoluteOr(s,a,s),T.__absoluteAddOne(s,!0,s).__trim()}return t.sign&&([t,e]=[e,t]),T.__absoluteAndNot(t,T.__absoluteSubOne(e)).__trim()}static bitwiseXor(t,e){var i=Math.max;if(!t.sign&&!e.sign)return T.__absoluteXor(t,e).__trim();if(t.sign&&e.sign){const a=i(t.length,e.length),c=T.__absoluteSubOne(t,a),u=T.__absoluteSubOne(e);return T.__absoluteXor(c,u,c).__trim()}const r=i(t.length,e.length)+1;t.sign&&([t,e]=[e,t]);let s=T.__absoluteSubOne(e,r);return s=T.__absoluteXor(s,t,s),T.__absoluteAddOne(s,!0,s).__trim()}static bitwiseOr(t,e){var i=Math.max;const r=i(t.length,e.length);if(!t.sign&&!e.sign)return T.__absoluteOr(t,e).__trim();if(t.sign&&e.sign){let a=T.__absoluteSubOne(t,r);const c=T.__absoluteSubOne(e);return a=T.__absoluteAnd(a,c,a),T.__absoluteAddOne(a,!0,a).__trim()}t.sign&&([t,e]=[e,t]);let s=T.__absoluteSubOne(e,r);return s=T.__absoluteAndNot(s,t,s),T.__absoluteAddOne(s,!0,s).__trim()}static asIntN(t,e){var i=Math.floor;if(e.length===0)return e;if(t=i(t),0>t)throw new RangeError("Invalid value: not (convertible to) a safe integer");if(t===0)return T.__zero();if(t>=T.__kMaxLengthBits)return e;const r=0|(t+29)/30;if(e.length<r)return e;const s=e.__unsignedDigit(r-1),a=1<<(t-1)%30;if(e.length===r&&s<a)return e;if((s&a)!==a)return T.__truncateToNBits(t,e);if(!e.sign)return T.__truncateAndSubFromPowerOfTwo(t,e,!0);if((s&a-1)==0){for(let c=r-2;0<=c;c--)if(e.__digit(c)!==0)return T.__truncateAndSubFromPowerOfTwo(t,e,!1);return e.length===r&&s===a?e:T.__truncateToNBits(t,e)}return T.__truncateAndSubFromPowerOfTwo(t,e,!1)}static asUintN(t,e){var i=Math.floor;if(e.length===0)return e;if(t=i(t),0>t)throw new RangeError("Invalid value: not (convertible to) a safe integer");if(t===0)return T.__zero();if(e.sign){if(t>T.__kMaxLengthBits)throw new RangeError("BigInt too big");return T.__truncateAndSubFromPowerOfTwo(t,e,!1)}if(t>=T.__kMaxLengthBits)return e;const r=0|(t+29)/30;if(e.length<r)return e;const s=t%30;return e.length==r&&(s===0||!(e.__digit(r-1)>>>s))?e:T.__truncateToNBits(t,e)}static ADD(t,e){if(t=T.__toPrimitive(t),e=T.__toPrimitive(e),typeof t=="string")return typeof e!="string"&&(e=e.toString()),t+e;if(typeof e=="string")return t.toString()+e;if(t=T.__toNumeric(t),e=T.__toNumeric(e),T.__isBigInt(t)&&T.__isBigInt(e))return T.add(t,e);if(typeof t=="number"&&typeof e=="number")return t+e;throw new TypeError("Cannot mix BigInt and other types, use explicit conversions")}static LT(t,e){return T.__compare(t,e,0)}static LE(t,e){return T.__compare(t,e,1)}static GT(t,e){return T.__compare(t,e,2)}static GE(t,e){return T.__compare(t,e,3)}static EQ(t,e){for(;;){if(T.__isBigInt(t))return T.__isBigInt(e)?T.equal(t,e):T.EQ(e,t);if(typeof t=="number"){if(T.__isBigInt(e))return T.__equalToNumber(e,t);if(typeof e!="object")return t==e;e=T.__toPrimitive(e)}else if(typeof t=="string"){if(T.__isBigInt(e))return t=T.__fromString(t),t!==null&&T.equal(t,e);if(typeof e!="object")return t==e;e=T.__toPrimitive(e)}else if(typeof t=="boolean"){if(T.__isBigInt(e))return T.__equalToNumber(e,+t);if(typeof e!="object")return t==e;e=T.__toPrimitive(e)}else if(typeof t=="symbol"){if(T.__isBigInt(e))return!1;if(typeof e!="object")return t==e;e=T.__toPrimitive(e)}else if(typeof t=="object"){if(typeof e=="object"&&e.constructor!==T)return t==e;t=T.__toPrimitive(t)}else return t==e}}static NE(t,e){return!T.EQ(t,e)}static DataViewGetBigInt64(t,e,i=!1){return T.asIntN(64,T.DataViewGetBigUint64(t,e,i))}static DataViewGetBigUint64(t,e,i=!1){const[r,s]=i?[4,0]:[0,4],a=t.getUint32(e+r,i),c=t.getUint32(e+s,i),u=new T(3,!1);return u.__setDigit(0,1073741823&c),u.__setDigit(1,(268435455&a)<<2|c>>>30),u.__setDigit(2,a>>>28),u.__trim()}static DataViewSetBigInt64(t,e,i,r=!1){T.DataViewSetBigUint64(t,e,i,r)}static DataViewSetBigUint64(t,e,i,r=!1){i=T.asUintN(64,i);let s=0,a=0;if(0<i.length&&(a=i.__digit(0),1<i.length)){const d=i.__digit(1);a|=d<<30,s=d>>>2,2<i.length&&(s|=i.__digit(2)<<28)}const[c,u]=r?[4,0]:[0,4];t.setUint32(e+c,s,r),t.setUint32(e+u,a,r)}static __zero(){return new T(0,!1)}static __oneDigit(t,e){const i=new T(1,e);return i.__setDigit(0,t),i}__copy(){const t=new T(this.length,this.sign);for(let e=0;e<this.length;e++)t[e]=this[e];return t}__trim(){let t=this.length,e=this[t-1];for(;e===0;)t--,e=this[t-1],this.pop();return t===0&&(this.sign=!1),this}__initializeDigits(){for(let t=0;t<this.length;t++)this[t]=0}static __decideRounding(t,e,i,r){if(0<e)return-1;let s;if(0>e)s=-e-1;else{if(i===0)return-1;i--,r=t.__digit(i),s=29}let a=1<<s;if((r&a)==0)return-1;if(a-=1,(r&a)!=0)return 1;for(;0<i;)if(i--,t.__digit(i)!==0)return 1;return 0}static __fromDouble(t){T.__kBitConversionDouble[0]=t;const e=2047&T.__kBitConversionInts[1]>>>20,i=e-1023,r=(0|i/30)+1,s=new T(r,0>t);let a=1048575&T.__kBitConversionInts[1]|1048576,c=T.__kBitConversionInts[0];const u=20,d=i%30;let f,g=0;if(d<20){const y=u-d;g=y+32,f=a>>>y,a=a<<32-y|c>>>y,c<<=32-y}else if(d===20)g=32,f=a,a=c,c=0;else{const y=d-u;g=32-y,f=a<<y|c>>>32-y,a=c<<y,c=0}s.__setDigit(r-1,f);for(let y=r-2;0<=y;y--)0<g?(g-=30,f=a>>>2,a=a<<30|c>>>2,c<<=30):f=0,s.__setDigit(y,f);return s.__trim()}static __isWhitespace(t){return 13>=t&&9<=t||(159>=t?t==32:131071>=t?t==160||t==5760:196607>=t?(t&=131071,10>=t||t==40||t==41||t==47||t==95||t==4096):t==65279)}static __fromString(t,e=0){let i=0;const r=t.length;let s=0;if(s===r)return T.__zero();let a=t.charCodeAt(s);for(;T.__isWhitespace(a);){if(++s===r)return T.__zero();a=t.charCodeAt(s)}if(a===43){if(++s===r)return null;a=t.charCodeAt(s),i=1}else if(a===45){if(++s===r)return null;a=t.charCodeAt(s),i=-1}if(e===0){if(e=10,a===48){if(++s===r)return T.__zero();if(a=t.charCodeAt(s),a===88||a===120){if(e=16,++s===r)return null;a=t.charCodeAt(s)}else if(a===79||a===111){if(e=8,++s===r)return null;a=t.charCodeAt(s)}else if(a===66||a===98){if(e=2,++s===r)return null;a=t.charCodeAt(s)}}}else if(e===16&&a===48){if(++s===r)return T.__zero();if(a=t.charCodeAt(s),a===88||a===120){if(++s===r)return null;a=t.charCodeAt(s)}}if(i!=0&&e!==10)return null;for(;a===48;){if(++s===r)return T.__zero();a=t.charCodeAt(s)}const c=r-s;let u=T.__kMaxBitsPerChar[e],d=T.__kBitsPerCharTableMultiplier-1;if(c>1073741824/u)return null;const f=u*c+d>>>T.__kBitsPerCharTableShift,g=new T(0|(f+29)/30,!1),y=10>e?e:10,v=10<e?e-10:0;if((e&e-1)==0){u>>=T.__kBitsPerCharTableShift;const E=[],x=[];let S=!1;do{let R=0,C=0;for(;;){let P;if(a-48>>>0<y)P=a-48;else if((32|a)-97>>>0<v)P=(32|a)-87;else{S=!0;break}if(C+=u,R=R<<u|P,++s===r){S=!0;break}if(a=t.charCodeAt(s),30<C+u)break}E.push(R),x.push(C)}while(!S);T.__fillFromParts(g,E,x)}else{g.__initializeDigits();let E=!1,x=0;do{let S=0,R=1;for(;;){let P;if(a-48>>>0<y)P=a-48;else if((32|a)-97>>>0<v)P=(32|a)-87;else{E=!0;break}const L=R*e;if(1073741823<L)break;if(R=L,S=S*e+P,x++,++s===r){E=!0;break}a=t.charCodeAt(s)}d=30*T.__kBitsPerCharTableMultiplier-1;const C=0|(u*x+d>>>T.__kBitsPerCharTableShift)/30;g.__inplaceMultiplyAdd(R,S,C)}while(!E)}if(s!==r){if(!T.__isWhitespace(a))return null;for(s++;s<r;s++)if(a=t.charCodeAt(s),!T.__isWhitespace(a))return null}return g.sign=i==-1,g.__trim()}static __fillFromParts(t,e,i){let r=0,s=0,a=0;for(let c=e.length-1;0<=c;c--){const u=e[c],d=i[c];s|=u<<a,a+=d,a===30?(t.__setDigit(r++,s),a=0,s=0):30<a&&(t.__setDigit(r++,1073741823&s),a-=30,s=u>>>d-a)}if(s!==0){if(r>=t.length)throw new Error("implementation bug");t.__setDigit(r++,s)}for(;r<t.length;r++)t.__setDigit(r,0)}static __toStringBasePowerOfTwo(t,e){const i=t.length;let r=e-1;r=(85&r>>>1)+(85&r),r=(51&r>>>2)+(51&r),r=(15&r>>>4)+(15&r);const s=r,a=e-1,c=t.__digit(i-1),u=T.__clz30(c);let d=0|(30*i-u+s-1)/s;if(t.sign&&d++,268435456<d)throw new Error("string too long");const f=Array(d);let g=d-1,y=0,v=0;for(let x=0;x<i-1;x++){const S=t.__digit(x),R=(y|S<<v)&a;f[g--]=T.__kConversionChars[R];const C=s-v;for(y=S>>>C,v=30-C;v>=s;)f[g--]=T.__kConversionChars[y&a],y>>>=s,v-=s}const E=(y|c<<v)&a;for(f[g--]=T.__kConversionChars[E],y=c>>>s-v;y!==0;)f[g--]=T.__kConversionChars[y&a],y>>>=s;if(t.sign&&(f[g--]="-"),g!=-1)throw new Error("implementation bug");return f.join("")}static __toStringGeneric(t,e,i){const r=t.length;if(r===0)return"";if(r===1){let x=t.__unsignedDigit(0).toString(e);return i===!1&&t.sign&&(x="-"+x),x}const s=30*r-T.__clz30(t.__digit(r-1)),a=T.__kMaxBitsPerChar[e],c=a-1;let u=s*T.__kBitsPerCharTableMultiplier;u+=c-1,u=0|u/c;const d=u+1>>1,f=T.exponentiate(T.__oneDigit(e,!1),T.__oneDigit(d,!1));let g,y;const v=f.__unsignedDigit(0);if(f.length===1&&32767>=v){g=new T(t.length,!1),g.__initializeDigits();let x=0;for(let S=2*t.length-1;0<=S;S--){const R=x<<15|t.__halfDigit(S);g.__setHalfDigit(S,0|R/v),x=0|R%v}y=x.toString(e)}else{const x=T.__absoluteDivLarge(t,f,!0,!0);g=x.quotient;const S=x.remainder.__trim();y=T.__toStringGeneric(S,e,!0)}g.__trim();let E=T.__toStringGeneric(g,e,!0);for(;y.length<d;)y="0"+y;return i===!1&&t.sign&&(E="-"+E),E+y}static __unequalSign(t){return t?-1:1}static __absoluteGreater(t){return t?-1:1}static __absoluteLess(t){return t?1:-1}static __compareToBigInt(t,e){const i=t.sign;if(i!==e.sign)return T.__unequalSign(i);const r=T.__absoluteCompare(t,e);return 0<r?T.__absoluteGreater(i):0>r?T.__absoluteLess(i):0}static __compareToNumber(t,e){if(T.__isOneDigitInt(e)){const i=t.sign,r=0>e;if(i!==r)return T.__unequalSign(i);if(t.length===0){if(r)throw new Error("implementation bug");return e===0?0:-1}if(1<t.length)return T.__absoluteGreater(i);const s=Math.abs(e),a=t.__unsignedDigit(0);return a>s?T.__absoluteGreater(i):a<s?T.__absoluteLess(i):0}return T.__compareToDouble(t,e)}static __compareToDouble(t,e){if(e!==e)return e;if(e===1/0)return-1;if(e===-1/0)return 1;const i=t.sign;if(i!==0>e)return T.__unequalSign(i);if(e===0)throw new Error("implementation bug: should be handled elsewhere");if(t.length===0)return-1;T.__kBitConversionDouble[0]=e;const r=2047&T.__kBitConversionInts[1]>>>20;if(r==2047)throw new Error("implementation bug: handled elsewhere");const s=r-1023;if(0>s)return T.__absoluteGreater(i);const a=t.length;let c=t.__digit(a-1);const u=T.__clz30(c),d=30*a-u,f=s+1;if(d<f)return T.__absoluteLess(i);if(d>f)return T.__absoluteGreater(i);let g=1048576|1048575&T.__kBitConversionInts[1],y=T.__kBitConversionInts[0];const v=20,E=29-u;if(E!==(0|(d-1)%30))throw new Error("implementation bug");let x,S=0;if(20>E){const R=v-E;S=R+32,x=g>>>R,g=g<<32-R|y>>>R,y<<=32-R}else if(E===20)S=32,x=g,g=y,y=0;else{const R=E-v;S=32-R,x=g<<R|y>>>32-R,g=y<<R,y=0}if(c>>>=0,x>>>=0,c>x)return T.__absoluteGreater(i);if(c<x)return T.__absoluteLess(i);for(let R=a-2;0<=R;R--){0<S?(S-=30,x=g>>>2,g=g<<30|y>>>2,y<<=30):x=0;const C=t.__unsignedDigit(R);if(C>x)return T.__absoluteGreater(i);if(C<x)return T.__absoluteLess(i)}if(g!==0||y!==0){if(S===0)throw new Error("implementation bug");return T.__absoluteLess(i)}return 0}static __equalToNumber(t,e){var i=Math.abs;return T.__isOneDigitInt(e)?e===0?t.length===0:t.length===1&&t.sign===0>e&&t.__unsignedDigit(0)===i(e):T.__compareToDouble(t,e)===0}static __comparisonResultToBool(t,e){return e===0?0>t:e===1?0>=t:e===2?0<t:e===3?0<=t:void 0}static __compare(t,e,i){if(t=T.__toPrimitive(t),e=T.__toPrimitive(e),typeof t=="string"&&typeof e=="string")switch(i){case 0:return t<e;case 1:return t<=e;case 2:return t>e;case 3:return t>=e}if(T.__isBigInt(t)&&typeof e=="string")return e=T.__fromString(e),e!==null&&T.__comparisonResultToBool(T.__compareToBigInt(t,e),i);if(typeof t=="string"&&T.__isBigInt(e))return t=T.__fromString(t),t!==null&&T.__comparisonResultToBool(T.__compareToBigInt(t,e),i);if(t=T.__toNumeric(t),e=T.__toNumeric(e),T.__isBigInt(t)){if(T.__isBigInt(e))return T.__comparisonResultToBool(T.__compareToBigInt(t,e),i);if(typeof e!="number")throw new Error("implementation bug");return T.__comparisonResultToBool(T.__compareToNumber(t,e),i)}if(typeof t!="number")throw new Error("implementation bug");if(T.__isBigInt(e))return T.__comparisonResultToBool(T.__compareToNumber(e,t),2^i);if(typeof e!="number")throw new Error("implementation bug");return i===0?t<e:i===1?t<=e:i===2?t>e:i===3?t>=e:void 0}__clzmsd(){return T.__clz30(this.__digit(this.length-1))}static __absoluteAdd(t,e,i){if(t.length<e.length)return T.__absoluteAdd(e,t,i);if(t.length===0)return t;if(e.length===0)return t.sign===i?t:T.unaryMinus(t);let r=t.length;(t.__clzmsd()===0||e.length===t.length&&e.__clzmsd()===0)&&r++;const s=new T(r,i);let a=0,c=0;for(;c<e.length;c++){const u=t.__digit(c)+e.__digit(c)+a;a=u>>>30,s.__setDigit(c,1073741823&u)}for(;c<t.length;c++){const u=t.__digit(c)+a;a=u>>>30,s.__setDigit(c,1073741823&u)}return c<s.length&&s.__setDigit(c,a),s.__trim()}static __absoluteSub(t,e,i){if(t.length===0)return t;if(e.length===0)return t.sign===i?t:T.unaryMinus(t);const r=new T(t.length,i);let s=0,a=0;for(;a<e.length;a++){const c=t.__digit(a)-e.__digit(a)-s;s=1&c>>>30,r.__setDigit(a,1073741823&c)}for(;a<t.length;a++){const c=t.__digit(a)-s;s=1&c>>>30,r.__setDigit(a,1073741823&c)}return r.__trim()}static __absoluteAddOne(t,e,i=null){const r=t.length;i===null?i=new T(r,e):i.sign=e;let s=1;for(let a=0;a<r;a++){const c=t.__digit(a)+s;s=c>>>30,i.__setDigit(a,1073741823&c)}return s!=0&&i.__setDigitGrow(r,1),i}static __absoluteSubOne(t,e){const i=t.length;e=e||i;const r=new T(e,!1);let s=1;for(let a=0;a<i;a++){const c=t.__digit(a)-s;s=1&c>>>30,r.__setDigit(a,1073741823&c)}if(s!=0)throw new Error("implementation bug");for(let a=i;a<e;a++)r.__setDigit(a,0);return r}static __absoluteAnd(t,e,i=null){let r=t.length,s=e.length,a=s;if(r<s){a=r;const d=t,f=r;t=e,r=s,e=d,s=f}let c=a;i===null?i=new T(c,!1):c=i.length;let u=0;for(;u<a;u++)i.__setDigit(u,t.__digit(u)&e.__digit(u));for(;u<c;u++)i.__setDigit(u,0);return i}static __absoluteAndNot(t,e,i=null){const r=t.length,s=e.length;let a=s;r<s&&(a=r);let c=r;i===null?i=new T(c,!1):c=i.length;let u=0;for(;u<a;u++)i.__setDigit(u,t.__digit(u)&~e.__digit(u));for(;u<r;u++)i.__setDigit(u,t.__digit(u));for(;u<c;u++)i.__setDigit(u,0);return i}static __absoluteOr(t,e,i=null){let r=t.length,s=e.length,a=s;if(r<s){a=r;const d=t,f=r;t=e,r=s,e=d,s=f}let c=r;i===null?i=new T(c,!1):c=i.length;let u=0;for(;u<a;u++)i.__setDigit(u,t.__digit(u)|e.__digit(u));for(;u<r;u++)i.__setDigit(u,t.__digit(u));for(;u<c;u++)i.__setDigit(u,0);return i}static __absoluteXor(t,e,i=null){let r=t.length,s=e.length,a=s;if(r<s){a=r;const d=t,f=r;t=e,r=s,e=d,s=f}let c=r;i===null?i=new T(c,!1):c=i.length;let u=0;for(;u<a;u++)i.__setDigit(u,t.__digit(u)^e.__digit(u));for(;u<r;u++)i.__setDigit(u,t.__digit(u));for(;u<c;u++)i.__setDigit(u,0);return i}static __absoluteCompare(t,e){const i=t.length-e.length;if(i!=0)return i;let r=t.length-1;for(;0<=r&&t.__digit(r)===e.__digit(r);)r--;return 0>r?0:t.__unsignedDigit(r)>e.__unsignedDigit(r)?1:-1}static __multiplyAccumulate(t,e,i,r){if(e===0)return;const s=32767&e,a=e>>>15;let c=0,u=0;for(let d,f=0;f<t.length;f++,r++){d=i.__digit(r);const g=t.__digit(f),y=32767&g,v=g>>>15,E=T.__imul(y,s),x=T.__imul(y,a),S=T.__imul(v,s),R=T.__imul(v,a);d+=u+E+c,c=d>>>30,d&=1073741823,d+=((32767&x)<<15)+((32767&S)<<15),c+=d>>>30,u=R+(x>>>15)+(S>>>15),i.__setDigit(r,1073741823&d)}for(;c!=0||u!==0;r++){let d=i.__digit(r);d+=c+u,u=0,c=d>>>30,i.__setDigit(r,1073741823&d)}}static __internalMultiplyAdd(t,e,i,r,s){let a=i,c=0;for(let u=0;u<r;u++){const d=t.__digit(u),f=T.__imul(32767&d,e),g=T.__imul(d>>>15,e),y=f+((32767&g)<<15)+c+a;a=y>>>30,c=g>>>15,s.__setDigit(u,1073741823&y)}if(s.length>r)for(s.__setDigit(r++,a+c);r<s.length;)s.__setDigit(r++,0);else if(a+c!==0)throw new Error("implementation bug")}__inplaceMultiplyAdd(t,e,i){i>this.length&&(i=this.length);const r=32767&t,s=t>>>15;let a=0,c=e;for(let u=0;u<i;u++){const d=this.__digit(u),f=32767&d,g=d>>>15,y=T.__imul(f,r),v=T.__imul(f,s),E=T.__imul(g,r),x=T.__imul(g,s);let S=c+y+a;a=S>>>30,S&=1073741823,S+=((32767&v)<<15)+((32767&E)<<15),a+=S>>>30,c=x+(v>>>15)+(E>>>15),this.__setDigit(u,1073741823&S)}if(a!=0||c!==0)throw new Error("implementation bug")}static __absoluteDivSmall(t,e,i=null){i===null&&(i=new T(t.length,!1));let r=0;for(let s,a=2*t.length-1;0<=a;a-=2){s=(r<<15|t.__halfDigit(a))>>>0;const c=0|s/e;r=0|s%e,s=(r<<15|t.__halfDigit(a-1))>>>0;const u=0|s/e;r=0|s%e,i.__setDigit(a>>>1,c<<15|u)}return i}static __absoluteModSmall(t,e){let i=0;for(let r=2*t.length-1;0<=r;r--)i=0|((i<<15|t.__halfDigit(r))>>>0)%e;return i}static __absoluteDivLarge(t,e,i,r){const s=e.__halfDigitLength(),a=e.length,c=t.__halfDigitLength()-s;let u=null;i&&(u=new T(c+2>>>1,!1),u.__initializeDigits());const d=new T(s+2>>>1,!1);d.__initializeDigits();const f=T.__clz15(e.__halfDigit(s-1));0<f&&(e=T.__specialLeftShift(e,f,0));const g=T.__specialLeftShift(t,f,1),y=e.__halfDigit(s-1);let v=0;for(let E,x=c;0<=x;x--){E=32767;const S=g.__halfDigit(x+s);if(S!==y){const C=(S<<15|g.__halfDigit(x+s-1))>>>0;E=0|C/y;let P=0|C%y;const L=e.__halfDigit(s-2),N=g.__halfDigit(x+s-2);for(;T.__imul(E,L)>>>0>(P<<16|N)>>>0&&(E--,P+=y,!(32767<P)););}T.__internalMultiplyAdd(e,E,0,a,d);let R=g.__inplaceSub(d,x,s+1);R!==0&&(R=g.__inplaceAdd(e,x,s),g.__setHalfDigit(x+s,32767&g.__halfDigit(x+s)+R),E--),i&&(1&x?v=E<<15:u.__setDigit(x>>>1,v|E))}if(r)return g.__inplaceRightShift(f),i?{quotient:u,remainder:g}:g;if(i)return u;throw new Error("unreachable")}static __clz15(t){return T.__clz30(t)-15}__inplaceAdd(t,e,i){let r=0;for(let s=0;s<i;s++){const a=this.__halfDigit(e+s)+t.__halfDigit(s)+r;r=a>>>15,this.__setHalfDigit(e+s,32767&a)}return r}__inplaceSub(t,e,i){let r=0;if(1&e){e>>=1;let s=this.__digit(e),a=32767&s,c=0;for(;c<i-1>>>1;c++){const f=t.__digit(c),g=(s>>>15)-(32767&f)-r;r=1&g>>>15,this.__setDigit(e+c,(32767&g)<<15|32767&a),s=this.__digit(e+c+1),a=(32767&s)-(f>>>15)-r,r=1&a>>>15}const u=t.__digit(c),d=(s>>>15)-(32767&u)-r;if(r=1&d>>>15,this.__setDigit(e+c,(32767&d)<<15|32767&a),e+c+1>=this.length)throw new RangeError("out of bounds");(1&i)==0&&(s=this.__digit(e+c+1),a=(32767&s)-(u>>>15)-r,r=1&a>>>15,this.__setDigit(e+t.length,1073709056&s|32767&a))}else{e>>=1;let s=0;for(;s<t.length-1;s++){const f=this.__digit(e+s),g=t.__digit(s),y=(32767&f)-(32767&g)-r;r=1&y>>>15;const v=(f>>>15)-(g>>>15)-r;r=1&v>>>15,this.__setDigit(e+s,(32767&v)<<15|32767&y)}const a=this.__digit(e+s),c=t.__digit(s),u=(32767&a)-(32767&c)-r;r=1&u>>>15;let d=0;(1&i)==0&&(d=(a>>>15)-(c>>>15)-r,r=1&d>>>15),this.__setDigit(e+s,(32767&d)<<15|32767&u)}return r}__inplaceRightShift(t){if(t===0)return;let e=this.__digit(0)>>>t;const i=this.length-1;for(let r=0;r<i;r++){const s=this.__digit(r+1);this.__setDigit(r,1073741823&s<<30-t|e),e=s>>>t}this.__setDigit(i,e)}static __specialLeftShift(t,e,i){const r=t.length,s=new T(r+i,!1);if(e===0){for(let c=0;c<r;c++)s.__setDigit(c,t.__digit(c));return 0<i&&s.__setDigit(r,0),s}let a=0;for(let c=0;c<r;c++){const u=t.__digit(c);s.__setDigit(c,1073741823&u<<e|a),a=u>>>30-e}return 0<i&&s.__setDigit(r,a),s}static __leftShiftByAbsolute(t,e){const i=T.__toShiftAmount(e);if(0>i)throw new RangeError("BigInt too big");const r=0|i/30,s=i%30,a=t.length,c=s!==0&&t.__digit(a-1)>>>30-s!=0,u=a+r+(c?1:0),d=new T(u,t.sign);if(s===0){let f=0;for(;f<r;f++)d.__setDigit(f,0);for(;f<u;f++)d.__setDigit(f,t.__digit(f-r))}else{let f=0;for(let g=0;g<r;g++)d.__setDigit(g,0);for(let g=0;g<a;g++){const y=t.__digit(g);d.__setDigit(g+r,1073741823&y<<s|f),f=y>>>30-s}if(c)d.__setDigit(a+r,f);else if(f!==0)throw new Error("implementation bug")}return d.__trim()}static __rightShiftByAbsolute(t,e){const i=t.length,r=t.sign,s=T.__toShiftAmount(e);if(0>s)return T.__rightShiftByMaximum(r);const a=0|s/30,c=s%30;let u=i-a;if(0>=u)return T.__rightShiftByMaximum(r);let d=!1;if(r){if((t.__digit(a)&(1<<c)-1)!=0)d=!0;else for(let g=0;g<a;g++)if(t.__digit(g)!==0){d=!0;break}}d&&c===0&&~t.__digit(i-1)==0&&u++;let f=new T(u,r);if(c===0){f.__setDigit(u-1,0);for(let g=a;g<i;g++)f.__setDigit(g-a,t.__digit(g))}else{let g=t.__digit(a)>>>c;const y=i-a-1;for(let v=0;v<y;v++){const E=t.__digit(v+a+1);f.__setDigit(v,1073741823&E<<30-c|g),g=E>>>c}f.__setDigit(y,g)}return d&&(f=T.__absoluteAddOne(f,!0,f)),f.__trim()}static __rightShiftByMaximum(t){return t?T.__oneDigit(1,!0):T.__zero()}static __toShiftAmount(t){if(1<t.length)return-1;const e=t.__unsignedDigit(0);return e>T.__kMaxLengthBits?-1:e}static __toPrimitive(t,e="default"){if(typeof t!="object"||t.constructor===T)return t;if(typeof Symbol<"u"&&typeof Symbol.toPrimitive=="symbol"){const s=t[Symbol.toPrimitive];if(s){const a=s(e);if(typeof a!="object")return a;throw new TypeError("Cannot convert object to primitive value")}}const i=t.valueOf;if(i){const s=i.call(t);if(typeof s!="object")return s}const r=t.toString;if(r){const s=r.call(t);if(typeof s!="object")return s}throw new TypeError("Cannot convert object to primitive value")}static __toNumeric(t){return T.__isBigInt(t)?t:+t}static __isBigInt(t){return typeof t=="object"&&t!==null&&t.constructor===T}static __truncateToNBits(t,e){const i=0|(t+29)/30,r=new T(i,e.sign),s=i-1;for(let c=0;c<s;c++)r.__setDigit(c,e.__digit(c));let a=e.__digit(s);if(t%30!=0){const c=32-t%30;a=a<<c>>>c}return r.__setDigit(s,a),r.__trim()}static __truncateAndSubFromPowerOfTwo(t,e,i){var r=Math.min;const s=0|(t+29)/30,a=new T(s,i);let c=0;const u=s-1;let d=0;for(const v=r(u,e.length);c<v;c++){const E=0-e.__digit(c)-d;d=1&E>>>30,a.__setDigit(c,1073741823&E)}for(;c<u;c++)a.__setDigit(c,0|1073741823&-d);let f=u<e.length?e.__digit(u):0;const g=t%30;let y;if(g==0)y=0-f-d,y&=1073741823;else{const v=32-g;f=f<<v>>>v;const E=1<<32-v;y=E-f-d,y&=E-1}return a.__setDigit(u,y),a.__trim()}__digit(t){return this[t]}__unsignedDigit(t){return this[t]>>>0}__setDigit(t,e){this[t]=0|e}__setDigitGrow(t,e){this[t]=0|e}__halfDigitLength(){const t=this.length;return 32767>=this.__unsignedDigit(t-1)?2*t-1:2*t}__halfDigit(t){return 32767&this[t>>>1]>>>15*(1&t)}__setHalfDigit(t,e){const i=t>>>1,r=this.__digit(i),s=1&t?32767&r|e<<15:1073709056&r|32767&e;this.__setDigit(i,s)}static __digitPow(t,e){let i=1;for(;0<e;)1&e&&(i*=t),e>>>=1,t*=t;return i}static __isOneDigitInt(t){return(1073741823&t)===t}}T.__kMaxLength=33554432,T.__kMaxLengthBits=T.__kMaxLength<<5,T.__kMaxBitsPerChar=[0,0,32,51,64,75,83,90,96,102,107,111,115,119,122,126,128,131,134,136,139,141,143,145,147,149,151,153,154,156,158,159,160,162,163,165,166],T.__kBitsPerCharTableShift=5,T.__kBitsPerCharTableMultiplier=1<<T.__kBitsPerCharTableShift,T.__kConversionChars=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],T.__kBitConversionBuffer=new ArrayBuffer(8),T.__kBitConversionDouble=new Float64Array(T.__kBitConversionBuffer),T.__kBitConversionInts=new Int32Array(T.__kBitConversionBuffer),T.__clz30=Math.clz32?function(n){return Math.clz32(n)-2}:function(n){return n===0?30:0|29-(0|Math.log(n>>>0)/Math.LN2)},T.__imul=Math.imul||function(n,t){return 0|n*t};const OT={};function ta(n,t){Object.defineProperty(n.prototype,Symbol.toStringTag,{value:t,writable:!1,enumerable:!1,configurable:!0});for(const e of Object.getOwnPropertyNames(n)){const i=Object.getOwnPropertyDescriptor(n,e);i.configurable&&i.enumerable&&(i.enumerable=!1,Object.defineProperty(n,e,i))}for(const e of Object.getOwnPropertyNames(n.prototype)){const i=Object.getOwnPropertyDescriptor(n.prototype,e);i.configurable&&i.enumerable&&(i.enumerable=!1,Object.defineProperty(n.prototype,e,i))}bn(t,n),bn(`${t}.prototype`,n.prototype)}function bn(n,t){const e=`%${n}%`;if(OT[e]!==void 0)throw new Error(`intrinsic ${n} already exists`);OT[e]=t}function vt(n){return OT[n]}var BR,jR;const Ft="slot-epochNanoSeconds",Po="slot-timezone-identifier",Rt="slot-year",Ct="slot-month",It="slot-day",Jt="slot-hour",te="slot-minute",ee="slot-second",ne="slot-millisecond",ie="slot-microsecond",re="slot-nanosecond",tt="slot-calendar",pM="slot-date-brand",yM="slot-year-month-brand",_M="slot-month-day-brand",Ki="slot-cached-instant",Ve="slot-time-zone",sr="slot-years",Ei="slot-months",xr="slot-weeks",or="slot-days",ar="slot-hours",lr="slot-minutes",cr="slot-seconds",ur="slot-milliseconds",hr="slot-microseconds",dr="slot-nanoseconds",vn="slot-calendar-identifier",vM=new WeakMap,kT=Symbol.for("@@Temporal__GetSlots");(BR=globalThis)[kT]||(BR[kT]=function(t){return vM.get(t)});const Xw=globalThis[kT],NT=Symbol.for("@@Temporal__CreateSlots");(jR=globalThis)[NT]||(jR[NT]=function(t){vM.set(t,Object.create(null))});const ea=globalThis[NT];function yi(n,...t){if(!n||typeof n!="object")return!1;const e=Xw(n);return!!e&&t.every(i=>i in e)}function b(n,t){var i;const e=(i=Xw(n))==null?void 0:i[t];if(e===void 0)throw new TypeError(`Missing internal slot ${t}`);return e}function se(n,t,e){const i=Xw(n);if(i===void 0)throw new TypeError("Missing slots for the given container");if(i[t])throw new TypeError(`${t} already has set`);i[t]=e}const $R=/\.[-A-Za-z_]|\.\.[-A-Za-z._]{1,12}|\.[-A-Za-z_][-A-Za-z._]{0,12}|[A-Za-z_][-A-Za-z._]{0,13}/,ig=new RegExp("(?:"+[`(?:${$R.source})(?:\\/(?:${$R.source}))*`,"Etc/GMT(?:0|[-+]\\d{1,2})","GMT[-+]?0","EST5EDT","CST6CDT","MST7MDT","PST8PDT",/(?:[+\u2212-][0-2][0-9](?::?[0-5][0-9](?::?[0-5][0-9](?:[.,]\d{1,9})?)?)?)/.source].join("|")+")"),bM=/(?:[+\u2212-]\d{6}|\d{4})/,Jy=/(?:0[1-9]|1[0-2])/,PT=/(?:0[1-9]|[12]\d|3[01])/,A6=new RegExp(`(${bM.source})(?:-(${Jy.source})-(${PT.source})|(${Jy.source})(${PT.source}))`),TM=/(\d{2})(?::(\d{2})(?::(\d{2})(?:[.,](\d{1,9}))?)?|(\d{2})(?:(\d{2})(?:[.,](\d{1,9}))?)?)?/,wM=/([+\u2212-])([01][0-9]|2[0-3])(?::?([0-5][0-9])(?::?([0-5][0-9])(?:[.,](\d{1,9}))?)?)?/,EM=new RegExp(`([zZ])|${wM.source}?`),fc=/\[(!)?([a-z_][a-z0-9_-]*)=([A-Za-z0-9]+(?:-[A-Za-z0-9]+)*)\]/g,R6=new RegExp([`^${A6.source}`,`(?:(?:T|\\s+)${TM.source}(?:${EM.source})?)?`,`(?:\\[!?(${ig.source})\\])?`,`((?:${fc.source})*)$`].join(""),"i"),C6=new RegExp([`^T?${TM.source}`,`(?:${EM.source})?`,`(?:\\[!?${ig.source}\\])?`,`((?:${fc.source})*)$`].join(""),"i"),D6=new RegExp(`^(${bM.source})-?(${Jy.source})(?:\\[!?${ig.source}\\])?((?:${fc.source})*)$`),I6=new RegExp(`^(?:--)?(${Jy.source})-?(${PT.source})(?:\\[!?${ig.source}\\])?((?:${fc.source})*)$`),qb=/(\d+)(?:[.,](\d{1,9}))?/,M6=new RegExp(`(?:${qb.source}H)?(?:${qb.source}M)?(?:${qb.source}S)?`),O6=new RegExp(`^([+-])?P${/(?:(\d+)Y)?(?:(\d+)M)?(?:(\d+)W)?(?:(\d+)D)?/.source}(?:T(?!$)${M6.source})?$`,"i"),k6=Array.prototype.includes,xM=Array.prototype.push,SM=globalThis.Intl.DateTimeFormat,N6=Math.min,P6=Math.max,ln=Math.abs,qr=Math.floor,id=Math.sign,uu=Math.trunc,K0=Number.isNaN,mr=Number.isFinite,L6=Number,rg=String,V6=Number.MAX_SAFE_INTEGER,Zi=Object.create,U6=Object.getOwnPropertyDescriptor,X0=Reflect.apply,z6=Reflect.ownKeys,Mn=T.BigInt(0),Sd=T.BigInt(1),Fo=T.BigInt(60),AM=T.BigInt(24),Ae=T.BigInt(1e3),_s=T.BigInt(1e6),Bo=T.BigInt(1e9),F6=T.BigInt(-1),RM=T.multiply(T.BigInt(3600),Bo),CM=T.multiply(Fo,Bo),Ko=T.multiply(RM,AM),Dm=T.multiply(T.BigInt(-86400),T.BigInt(1e17)),rd=T.multiply(T.BigInt(86400),T.BigInt(1e17)),t0=-271821,e0=275760,$h=T.multiply(T.BigInt(-388152),T.BigInt(1e13)),B6=T.multiply(Ko,T.BigInt(3660)),DM=T.multiply(Ko,T.BigInt(366)),IM=T.multiply(Ko,T.BigInt(14)),j6=["iso8601","hebrew","islamic","islamic-umalqura","islamic-tbla","islamic-civil","islamic-rgsa","islamicc","persian","ethiopic","ethioaa","coptic","chinese","dangi","roc","indian","buddhist","japanese","gregory"];function gs(n){return T.equal(n,Mn)}function Ie(n,t){const e=n[t];if(e!==void 0)return e}function kt(n,t,e){const i=arguments.length>2?e:[];return X0(n,t,i)}function un(n){return typeof n=="object"&&n!==null||typeof n=="function"}function sd(n){if(typeof n=="bigint")throw new TypeError("Cannot convert BigInt to number");return L6(n)}function Kn(n){const t=sd(n);if(K0(t)||t===0)return 0;if(!mr(t))return t;const e=qr(ln(t));return e===0?0:id(t)*e}function ss(n){if(typeof n!="number"||K0(n)||!mr(n))return!1;const t=ln(n);return qr(t)===t}function yr(n){if(typeof n=="symbol")throw new TypeError("Cannot convert a Symbol value to a String");return rg(n)}function we(n){const t=sd(n);if(t===0)return 0;if(K0(t)||!mr(t))throw new RangeError("invalid number value");const e=uu(t);return e===0?0:e}function HR(n,t){const e=we(n);if(e<=0)throw t!==void 0?new RangeError(`property '${t}' cannot be a a number less than one`):new RangeError("Cannot convert a number less than one to a positive integer");return e}function fi(n){const t=sd(n);if(!mr(t))throw new RangeError("infinity is out of range");if(!ss(t))throw new RangeError(`unsupported fractional value ${n}`);return t===0?0:t}function jn(n,t){return{quotient:T.divide(n,t),remainder:T.remainder(n,t)}}function n0(n){return T.lessThan(n,Mn)}function qR(n){return gs(n)?0:n0(n)?-1:1}function no(n){return T.lessThan(n,Mn)?T.multiply(n,F6):n}const YR=new Map([["year",we],["month",HR],["monthCode",yr],["day",HR],["hour",we],["minute",we],["second",we],["millisecond",we],["microsecond",we],["nanosecond",we],["years",fi],["months",fi],["weeks",fi],["days",fi],["hours",fi],["minutes",fi],["seconds",fi],["milliseconds",fi],["microseconds",fi],["nanoseconds",fi],["era",yr],["eraYear",Kn],["offset",yr]]),$6=new Map([["hour",0],["minute",0],["second",0],["millisecond",0],["microsecond",0],["nanosecond",0]]),sg=[["years","year","date"],["months","month","date"],["weeks","week","date"],["days","day","date"],["hours","hour","time"],["minutes","minute","time"],["seconds","second","time"],["milliseconds","millisecond","time"],["microseconds","microsecond","time"],["nanoseconds","nanosecond","time"]],i0=new Map(sg.map(n=>[n[0],n[1]])),H6=new Map(sg.map(([n,t])=>[t,n])),GR=sg.map(([,n])=>n),WR=Array.from(i0.keys()).sort(),KR=new Map;function MM(n){let t=KR.get(n);return t===void 0&&(t=new SM("en-us",{timeZone:rg(n),hour12:!1,era:"short",year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"}),KR.set(n,t)),t}function XR(n){if(n==null)throw new TypeError(`Expected object not ${n}`);return Object(n)}function Hh(n,t,e,i){if(t==null)return;const r=z6(t);for(const s of r)if(!e.some(a=>Object.is(a,s))&&Object.prototype.propertyIsEnumerable.call(t,s)){const a=t[s];if(i&&i.some(c=>Object.is(c,a)))continue;n[s]=a}}function oi(n){return yi(n,Ft)&&!yi(n,Ve,tt)}function fs(n){return yi(n,Po)}function Sn(n){return yi(n,vn)}function Rn(n){return yi(n,sr,Ei,or,ar,lr,cr,ur,hr,dr)}function de(n){return yi(n,pM)}function Cn(n){return yi(n,Jt,te,ee,ne,ie,re)&&!yi(n,Rt,Ct,It)}function Qt(n){return yi(n,Rt,Ct,It,Jt,te,ee,ne,ie,re)}function Se(n){return yi(n,yM)}function di(n){return yi(n,_M)}function Ot(n){return yi(n,Ft,Ve,tt)}function Ad(n){if(yi(n,tt)||yi(n,Ve))throw new TypeError("with() does not support a calendar or timeZone property");if(Cn(n))throw new TypeError("with() does not accept Temporal.PlainTime, use withPlainTime() instead");if(n.calendar!==void 0)throw new TypeError("with() does not support a calendar property");if(n.timeZone!==void 0)throw new TypeError("with() does not support a timeZone property")}function q6(n){const{ianaName:t,offset:e,z:i}=function(s){if(new RegExp(`^${ig.source}$`,"i").test(s))return{ianaName:s};try{const a=na(s);if(a.z||a.offset||a.ianaName)return a}catch{}throw new RangeError(`Invalid time zone: ${s}`)}(n);return t?aE(t):i?"UTC":l_(tc(e))}function Qw(n,t){return t==="never"?"":Zw(Pi(n),t)}function Zw(n,t){return t==="never"||t==="auto"&&n==="iso8601"?"":`[${t==="critical"?"!":""}u-ca=${n}]`}function na(n){const t=R6.exec(n);if(!t)throw new RangeError(`invalid ISO 8601 string: ${n}`);let e=t[1];if(e[0]===""&&(e=`-${e.slice(1)}`),e==="-000000")throw new RangeError(`invalid ISO 8601 string: ${n}`);const i=Kn(e),r=Kn(t[2]||t[4]),s=Kn(t[3]||t[5]),a=Kn(t[6]),c=t[6]!==void 0,u=Kn(t[7]||t[10]);let d=Kn(t[8]||t[11]);d===60&&(d=59);const f=(t[9]||t[12])+"000000000",g=Kn(f.slice(0,3)),y=Kn(f.slice(3,6)),v=Kn(f.slice(6,9));let E,x=!1;if(t[13])E=void 0,x=!0;else if(t[14]&&t[15]){const P=t[14]==="-"||t[14]===""?"-":"+",L=t[15]||"00",N=t[16]||"00",j=t[17]||"00";let O=t[18]||"0";if(E=`${P}${L}:${N}`,+O){for(;O.endsWith("0");)O=O.slice(0,-1);E+=`:${j}.${O}`}else+j&&(E+=`:${j}`);E==="-00:00"&&(E="+00:00")}const S=t[19],R=t[20];let C;for(const[,P,L,N]of R.matchAll(fc))if(L==="u-ca")C===void 0&&(C=N);else if(P==="!")throw new RangeError(`Unrecognized annotation: !${L}=${N}`);return uE(i,r,s,a,u,d,g,y,v),{year:i,month:r,day:s,hasTime:c,hour:a,minute:u,second:d,millisecond:g,microsecond:y,nanosecond:v,ianaName:S,offset:E,z:x,calendar:C}}function Jw(n){const t=D6.exec(n);let e,i,r,s;if(t){let a=t[1];if(a[0]===""&&(a=`-${a.slice(1)}`),a==="-000000")throw new RangeError(`invalid ISO 8601 string: ${n}`);e=Kn(a),i=Kn(t[2]);const c=t[3];for(const[,u,d,f]of c.matchAll(fc))if(d==="u-ca")r===void 0&&(r=f);else if(u==="!")throw new RangeError(`Unrecognized annotation: !${d}=${f}`);if(r!==void 0&&r!=="iso8601")throw new RangeError("YYYY-MM format is only valid with iso8601 calendar")}else{let a;if({year:e,month:i,calendar:r,day:s,z:a}=na(n),a)throw new RangeError("Z designator not supported for PlainYearMonth")}return{year:e,month:i,calendar:r,referenceISODay:s}}function tE(n){const t=I6.exec(n);let e,i,r,s;if(t){e=Kn(t[1]),i=Kn(t[2]);const a=t[3];for(const[,c,u,d]of a.matchAll(fc))if(u==="u-ca")r===void 0&&(r=d);else if(c==="!")throw new RangeError(`Unrecognized annotation: !${u}=${d}`);if(r!==void 0&&r!=="iso8601")throw new RangeError("MM-DD format is only valid with iso8601 calendar")}else{let a;if({month:e,day:i,calendar:r,year:s,z:a}=na(n),a)throw new RangeError("Z designator not supported for PlainMonthDay")}return{month:e,day:i,calendar:r,referenceISOYear:s}}function Y6(n){let{year:t,month:e,day:i,hour:r,minute:s,second:a,millisecond:c,microsecond:u,nanosecond:d,offset:f,z:g}=function(x){const S=na(x);if(!S.z&&!S.offset)throw new RangeError("Temporal.Instant requires a time zone offset");return S}(n);if(!g&&!f)throw new RangeError("Temporal.Instant requires a time zone offset");const y=g?0:tc(f);({year:t,month:e,day:i,hour:r,minute:s,second:a,millisecond:c,microsecond:u,nanosecond:d}=lE(t,e,i,r,s,a,c,u,d-y));const v=ec(t,e,i,r,s,a,c,u,d);if(v===null)throw new RangeError("DateTime outside of supported range");return v}function r0(n,t,e,i){let r=n,s=t,a=e;switch(i){case"reject":Xo(r,s,a);break;case"constrain":({year:r,month:s,day:a}=WM(r,s,a))}return{year:r,month:s,day:a}}function Q0(n,t,e,i,r,s,a){let c=n,u=t,d=e,f=i,g=r,y=s;switch(a){case"reject":u_(c,u,d,f,g,y);break;case"constrain":({hour:c,minute:u,second:d,millisecond:f,microsecond:g,nanosecond:y}=function(E,x,S,R,C,P){const L=$r(E,0,23),N=$r(x,0,59),j=$r(S,0,59),O=$r(R,0,999),D=$r(C,0,999),k=$r(P,0,999);return{hour:L,minute:N,second:j,millisecond:O,microsecond:D,nanosecond:k}}(c,u,d,f,g,y))}return{hour:c,minute:u,second:d,millisecond:f,microsecond:g,nanosecond:y}}function Lu(n){if(!un(n))return function(E){const x=O6.exec(E);if(!x)throw new RangeError(`invalid duration: ${E}`);if(x.slice(2).every(lt=>lt===void 0))throw new RangeError(`invalid duration: ${E}`);const S=x[1]==="-"||x[1]===""?-1:1,R=x[2]===void 0?0:we(x[2])*S,C=x[3]===void 0?0:we(x[3])*S,P=x[4]===void 0?0:we(x[4])*S,L=x[5]===void 0?0:we(x[5])*S,N=x[6]===void 0?0:we(x[6])*S,j=x[7],O=x[8],D=x[9],k=x[10],V=x[11];let B=0,$=0,z=0;if(j!==void 0){if(O??D??k??V)throw new RangeError("only the smallest unit can be fractional");z=3600*Kn((j+"000000000").slice(0,9))*S}else if(B=O===void 0?0:we(O)*S,D!==void 0){if(k??V)throw new RangeError("only the smallest unit can be fractional");z=60*Kn((D+"000000000").slice(0,9))*S}else $=k===void 0?0:we(k)*S,V!==void 0&&(z=Kn((V+"000000000").slice(0,9))*S);const bt=z%1e3,J=uu(z/1e3)%1e3,X=uu(z/1e6)%1e3;return $+=uu(z/1e9)%60,B+=uu(z/6e10),u0(R,C,P,L,N,B,$,X,J,bt),{years:R,months:C,weeks:P,days:L,hours:N,minutes:B,seconds:$,milliseconds:X,microseconds:J,nanoseconds:bt}}(yr(n));if(Rn(n))return{years:b(n,sr),months:b(n,Ei),weeks:b(n,xr),days:b(n,or),hours:b(n,ar),minutes:b(n,lr),seconds:b(n,cr),milliseconds:b(n,ur),microseconds:b(n,hr),nanoseconds:b(n,dr)};const t={years:0,months:0,weeks:0,days:0,hours:0,minutes:0,seconds:0,milliseconds:0,microseconds:0,nanoseconds:0};let e=function(E){if(!un(E))throw new TypeError("invalid duration-like");const x={years:void 0,months:void 0,weeks:void 0,days:void 0,hours:void 0,minutes:void 0,seconds:void 0,milliseconds:void 0,microseconds:void 0,nanoseconds:void 0};let S=!1;for(const R of WR){const C=E[R];C!==void 0&&(S=!0,x[R]=fi(C))}if(!S)throw new TypeError("invalid duration-like");return x}(n);for(const v of WR){const E=e[v];E!==void 0&&(t[v]=E)}let{years:i,months:r,weeks:s,days:a,hours:c,minutes:u,seconds:d,milliseconds:f,microseconds:g,nanoseconds:y}=t;return u0(i,r,s,a,c,u,d,f,g,y),{years:i,months:r,weeks:s,days:a,hours:c,minutes:u,seconds:d,milliseconds:f,microseconds:g,nanoseconds:y}}function qn(n){return n===void 0?"constrain":ic(n,"overflow",["constrain","reject"],"constrain")}function od(n){return n===void 0?"compatible":ic(n,"disambiguation",["compatible","earlier","later","reject"],"compatible")}function ao(n,t){return ic(n,"roundingMode",["ceil","floor","expand","trunc","halfCeil","halfFloor","halfExpand","halfTrunc","halfEven"],t)}function s0(n,t){return n===void 0?t:ic(n,"offset",["prefer","use","ignore","reject"],t)}function og(n){return ic(n,"calendarName",["auto","always","never","critical"],"auto")}function Rd(n){let t=n.roundingIncrement;if(t===void 0)return 1;if(t=sd(t),!mr(t))throw new RangeError("roundingIncrement must be finite");const e=uu(t);if(e<1||e>1e9)throw new RangeError(`roundingIncrement must be at least 1 and at most 1e9, not ${t}`);return e}function Cd(n,t,e){const i=e?t:t-1;if(n>i)throw new RangeError(`roundingIncrement must be at least 1 and less than ${i}, not ${n}`);if(t%n!=0)throw new RangeError(`Rounding increment must divide evenly into ${t}`)}function ag(n){const t=n.fractionalSecondDigits;if(t===void 0)return"auto";if(typeof t!="number"){if(yr(t)!=="auto")throw new RangeError(`fractionalSecondDigits must be 'auto' or 0 through 9, not ${t}`);return"auto"}const e=qr(t);if(!mr(e)||e<0||e>9)throw new RangeError(`fractionalSecondDigits must be 'auto' or 0 through 9, not ${t}`);return e}function lg(n,t){switch(n){case"minute":return{precision:"minute",unit:"minute",increment:1};case"second":return{precision:0,unit:"second",increment:1};case"millisecond":return{precision:3,unit:"millisecond",increment:1};case"microsecond":return{precision:6,unit:"microsecond",increment:1};case"nanosecond":return{precision:9,unit:"nanosecond",increment:1}}switch(t){case"auto":return{precision:t,unit:"nanosecond",increment:1};case 0:return{precision:t,unit:"second",increment:1};case 1:case 2:case 3:return{precision:t,unit:"millisecond",increment:10**(3-t)};case 4:case 5:case 6:return{precision:t,unit:"microsecond",increment:10**(6-t)};case 7:case 8:case 9:return{precision:t,unit:"nanosecond",increment:10**(9-t)};default:throw new RangeError(`fractionalSecondDigits must be 'auto' or 0 through 9, not ${t}`)}}const wu=Symbol("~required~");function Yr(n,t,e,i,r=[]){const s=[];for(const[,d,f]of sg)e!=="datetime"&&e!==f||s.push(d);s.push(...r);let a=i;a===wu?a=void 0:a!==void 0&&s.push(a);const c=[...s];for(const d of s){const f=H6.get(d);f!==void 0&&c.push(f)}let u=ic(n,t,c,a);if(u===void 0&&i===wu)throw new RangeError(`${t} is required`);return i0.has(u)?i0.get(u):u}function xy(n){const t=n.relativeTo;if(t===void 0)return t;let e,i,r,s,a,c,u,d,f,g,y,v,E="option",x=!1;if(un(t)){if(Ot(t)||de(t))return t;if(Qt(t))return ld(t);g=dg(t);const S=Qn(g,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]);S.push("timeZone","offset");const R=le(t,S,[]),C=Zi(null);C.overflow="constrain",{year:e,month:i,day:r,hour:s,minute:a,second:c,millisecond:u,microsecond:d,nanosecond:f}=cg(g,R,C),v=R.offset,v===void 0&&(E="wall"),y=R.timeZone,y!==void 0&&(y=Qi(y))}else{let S,R;if({year:e,month:i,day:r,hour:s,minute:a,second:c,millisecond:u,microsecond:d,nanosecond:f,calendar:g,ianaName:S,offset:v,z:R}=na(yr(t)),S)y=Qi(S),R?E="exact":v||(E="wall"),x=!0;else if(R)throw new RangeError("Z designator not supported for PlainDate relativeTo; either remove the Z or add a bracketed time zone");if(g||(g="iso8601"),!Ya(g))throw new RangeError(`invalid calendar identifier ${g}`);g=Qo(g)}return y===void 0?Ts(e,i,r,g):Mi(a0(e,i,r,s,a,c,u,d,f,E,E==="option"?tc(v):0,y,"compatible","reject",x),y,g)}function LT(n,t,e,i,r,s,a,c,u,d){for(const[f,g]of[["years",n],["months",t],["weeks",e],["days",i],["hours",r],["minutes",s],["seconds",a],["milliseconds",c],["microseconds",u],["nanoseconds",d]])if(g!==0)return i0.get(f);return"nanosecond"}function Eu(n,t){return GR.indexOf(n)>GR.indexOf(t)?t:n}function le(n,t,e,{emptySourceErrorMessage:i}={emptySourceErrorMessage:"no supported properties found"}){const r=Zi(null);let s=!1;t.sort();for(const a of t){let c=n[a];if(c!==void 0)s=!0,YR.has(a)&&(c=YR.get(a)(c)),r[a]=c;else if(e!=="partial"){if(k6.call(e,a))throw new TypeError(`required property '${a}' missing or undefined`);c=$6.get(a),r[a]=c}}if(e==="partial"&&!s)throw new TypeError(i);return r}function o0(n,t="complete"){const e=["hour","microsecond","millisecond","minute","nanosecond","second"],i=le(n,e,"partial",{emptySourceErrorMessage:"invalid time-like"}),r={};for(const s of e){const a=U6(i,s);a!==void 0?r[s]=a.value:t==="complete"&&(r[s]=0)}return r}function $e(n,t){let e=n;if(un(e)){if(de(e))return e;if(Ot(e)&&(qn(t),e=rs(b(e,Ve),b(e,Ki),b(e,tt))),Qt(e))return qn(t),Ts(b(e,Rt),b(e,Ct),b(e,It),b(e,tt));const u=dg(e);return Ha(u,le(e,Qn(u,["day","month","monthCode","year"]),[]),t)}qn(t);let{year:i,month:r,day:s,calendar:a,z:c}=function(d){return na(d)}(yr(e));if(c)throw new RangeError("Z designator not supported for PlainDate");if(a||(a="iso8601"),!Ya(a))throw new RangeError(`invalid calendar identifier ${a}`);return a=Qo(a),Ts(i,r,s,a)}function cg(n,t,e){let{hour:i,minute:r,second:s,millisecond:a,microsecond:c,nanosecond:u}=o0(t);const d=qn(e),f=Ha(n,t,e),g=b(f,Rt),y=b(f,Ct),v=b(f,It);return{hour:i,minute:r,second:s,millisecond:a,microsecond:c,nanosecond:u}=Q0(i,r,s,a,c,u,d),{year:g,month:y,day:v,hour:i,minute:r,second:s,millisecond:a,microsecond:c,nanosecond:u}}function hu(n,t){let e,i,r,s,a,c,u,d,f,g;if(un(n)){if(Qt(n))return n;if(Ot(n))return qn(t),rs(b(n,Ve),b(n,Ki),b(n,tt));if(de(n))return qn(t),jr(b(n,Rt),b(n,Ct),b(n,It),0,0,0,0,0,0,b(n,tt));g=dg(n);const y=le(n,Qn(g,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]),[]);({year:e,month:i,day:r,hour:s,minute:a,second:c,millisecond:u,microsecond:d,nanosecond:f}=cg(g,y,t))}else{let y;if(qn(t),{year:e,month:i,day:r,hour:s,minute:a,second:c,millisecond:u,microsecond:d,nanosecond:f,calendar:g,z:y}=function(E){return na(E)}(yr(n)),y)throw new RangeError("Z designator not supported for PlainDateTime");if(uE(e,i,r,s,a,c,u,d,f),g||(g="iso8601"),!Ya(g))throw new RangeError(`invalid calendar identifier ${g}`);g=Qo(g)}return jr(e,i,r,s,a,c,u,d,f,g)}function qh(n){if(Rn(n))return n;let{years:t,months:e,weeks:i,days:r,hours:s,minutes:a,seconds:c,milliseconds:u,microseconds:d,nanoseconds:f}=Lu(n);return new(vt("%Temporal.Duration%"))(t,e,i,r,s,a,c,u,d,f)}function io(n){if(oi(n))return n;if(Ot(n))return new(vt("%Temporal.Instant%"))(b(n,Ft));const t=Y6(yr(n));return new(vt("%Temporal.Instant%"))(t)}function QR(n,t){let e=n;if(un(e)){if(di(e))return e;let c,u;if(yi(e,tt))c=b(e,tt),u=!1;else{let f=e.calendar;u=f===void 0,f===void 0&&(f="iso8601"),c=Gr(f)}const d=le(e,Qn(c,["day","month","monthCode","year"]),[]);return u&&d.month!==void 0&&d.monthCode===void 0&&d.year===void 0&&(d.year=1972),ad(c,d,t)}qn(t);let{month:i,day:r,referenceISOYear:s,calendar:a}=tE(yr(e));if(a===void 0&&(a="iso8601"),!Ya(a))throw new RangeError(`invalid calendar identifier ${a}`);return a=Qo(a),s===void 0?(Xo(1972,i,r),Im(i,r,a)):ad(a,Im(i,r,a,s))}function ka(n,t="constrain"){let e,i,r,s,a,c,u=n;if(un(u)){if(Cn(u))return u;if(Ot(u)&&(u=rs(b(u,Ve),b(u,Ki),b(u,tt))),Qt(u))return new(vt("%Temporal.PlainTime%"))(b(u,Jt),b(u,te),b(u,ee),b(u,ne),b(u,ie),b(u,re));({hour:e,minute:i,second:r,millisecond:s,microsecond:a,nanosecond:c}=o0(u)),{hour:e,minute:i,second:r,millisecond:s,microsecond:a,nanosecond:c}=Q0(e,i,r,s,a,c,t)}else({hour:e,minute:i,second:r,millisecond:s,microsecond:a,nanosecond:c}=function(f){const g=C6.exec(f);let y,v,E,x,S,R,C;if(g){y=Kn(g[1]),v=Kn(g[2]||g[5]),E=Kn(g[3]||g[6]),E===60&&(E=59);const P=(g[4]||g[7])+"000000000";x=Kn(P.slice(0,3)),S=Kn(P.slice(3,6)),R=Kn(P.slice(6,9)),C=g[14];for(const[,L,N,j]of C.matchAll(fc))if(N!=="u-ca"&&L==="!")throw new RangeError(`Unrecognized annotation: !${N}=${j}`);if(g[8])throw new RangeError("Z designator not supported for PlainTime")}else{let P,L;if({hasTime:L,hour:y,minute:v,second:E,millisecond:x,microsecond:S,nanosecond:R,z:P}=na(f),!L)throw new RangeError(`time is missing in string: ${f}`);if(P)throw new RangeError("Z designator not supported for PlainTime")}if(/[tT ][0-9][0-9]/.test(f))return{hour:y,minute:v,second:E,millisecond:x,microsecond:S,nanosecond:R};try{const{month:P,day:L}=tE(f);Xo(1972,P,L)}catch{try{const{year:P,month:L}=Jw(f);Xo(P,L,1)}catch{return{hour:y,minute:v,second:E,millisecond:x,microsecond:S,nanosecond:R}}}throw new RangeError(`invalid ISO 8601 time-only string ${f}; may need a T prefix`)}(yr(u))),u_(e,i,r,s,a,c);return new(vt("%Temporal.PlainTime%"))(e,i,r,s,a,c)}function Zf(n,t){if(un(n)){if(Se(n))return n;const a=dg(n);return Su(a,le(n,Qn(a,["month","monthCode","year"]),[]),t)}qn(t);let{year:e,month:i,referenceISODay:r,calendar:s}=Jw(yr(n));if(s===void 0&&(s="iso8601"),!Ya(s))throw new RangeError(`invalid calendar identifier ${s}`);return s=Qo(s),r===void 0?(Xo(e,i,1),Mm(e,i,s)):Su(s,Mm(e,i,s,r))}function a0(n,t,e,i,r,s,a,c,u,d,f,g,y,v,E){const x=new(vt("%Temporal.PlainDateTime%"))(n,t,e,i,r,s,a,c,u);if(d==="wall"||v==="ignore")return b(gr(g,x,y),Ft);if(d==="exact"||v==="use"){const R=ec(n,t,e,i,r,s,a,c,u);if(R===null)throw new RangeError("ZonedDateTime outside of supported range");return T.subtract(R,T.BigInt(f))}const S=l0(g,x);for(const R of S){const C=lo(g,R),P=T.toNumber(Zr(T.BigInt(C),CM,"halfExpand"));if(C===f||E&&P===f)return b(R,Ft)}if(v==="reject"){const R=l_(f),C=fs(g)?b(g,Po):"time zone";throw new RangeError(`Offset ${R} is invalid for ${x.toString()} in ${C}`)}return b(FM(S,g,x,y),Ft)}function Jf(n,t){let e,i,r,s,a,c,u,d,f,g,y,v,E,x,S=!1,R="option";if(un(n)){if(Ot(n))return n;v=dg(n);const P=Qn(v,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]);P.push("timeZone","offset");const L=le(n,P,["timeZone"]);g=Qi(L.timeZone),y=L.offset,y===void 0&&(R="wall"),E=od(t),x=s0(t,"reject"),{year:e,month:i,day:r,hour:s,minute:a,second:c,millisecond:u,microsecond:d,nanosecond:f}=cg(v,L,t)}else{let P,L;if({year:e,month:i,day:r,hour:s,minute:a,second:c,millisecond:u,microsecond:d,nanosecond:f,ianaName:P,offset:y,z:L,calendar:v}=function(j){const O=na(j);if(!O.ianaName)throw new RangeError("Temporal.ZonedDateTime requires a time zone ID in brackets");return O}(yr(n)),g=Qi(P),L?R="exact":y||(R="wall"),v||(v="iso8601"),!Ya(v))throw new RangeError(`invalid calendar identifier ${v}`);v=Qo(v),S=!0,E=od(t),x=s0(t,"reject"),qn(t)}let C=0;return R==="option"&&(C=tc(y)),Mi(a0(e,i,r,s,a,c,u,d,f,R,C,g,E,x,S),g,v)}function OM(n,t,e,i,r){Xo(t,e,i),KM(t,e,i),ea(n),se(n,Rt,t),se(n,Ct,e),se(n,It,i),se(n,tt,r),se(n,pM,!0)}function Ts(n,t,e,i="iso8601"){const r=vt("%Temporal.PlainDate%"),s=Zi(r.prototype);return OM(s,n,t,e,i),s}function kM(n,t,e,i,r,s,a,c,u,d,f){uE(t,e,i,r,s,a,c,u,d),XM(t,e,i,r,s,a,c,u,d),ea(n),se(n,Rt,t),se(n,Ct,e),se(n,It,i),se(n,Jt,r),se(n,te,s),se(n,ee,a),se(n,ne,c),se(n,ie,u),se(n,re,d),se(n,tt,f)}function jr(n,t,e,i,r,s,a,c,u,d="iso8601"){const f=vt("%Temporal.PlainDateTime%"),g=Zi(f.prototype);return kM(g,n,t,e,i,r,s,a,c,u,d),g}function NM(n,t,e,i,r){Xo(r,t,e),KM(r,t,e),ea(n),se(n,Ct,t),se(n,It,e),se(n,Rt,r),se(n,tt,i),se(n,_M,!0)}function Im(n,t,e="iso8601",i=1972){const r=vt("%Temporal.PlainMonthDay%"),s=Zi(r.prototype);return NM(s,n,t,e,i),s}function PM(n,t,e,i,r){Xo(t,e,r),function(a,c){ki(a,t0,e0),a===t0?ki(c,4,12):a===e0&&ki(c,1,9)}(t,e),ea(n),se(n,Rt,t),se(n,Ct,e),se(n,It,r),se(n,tt,i),se(n,yM,!0)}function Mm(n,t,e="iso8601",i=1){const r=vt("%Temporal.PlainYearMonth%"),s=Zi(r.prototype);return PM(s,n,t,e,i),s}function LM(n,t,e,i){au(t),ea(n),se(n,Ft,t),se(n,Ve,e),se(n,tt,i);const r=new(vt("%Temporal.Instant%"))(b(n,Ft));se(n,Ki,r)}function Mi(n,t,e="iso8601"){const i=vt("%Temporal.ZonedDateTime%"),r=Zi(i.prototype);return LM(r,n,t,e),r}function Qn(n,t){if(typeof n=="string"){const r=new(vt("%Temporal.Calendar%"))(n);return kt(vt("%Temporal.Calendar.prototype.fields%"),r,[t])}const e=kt(Ie(n,"fields"),n,[t]),i=[];for(const r of e){if(typeof r!="string")throw new TypeError("bad return from calendar.fields()");xM.call(i,r)}return i}function xu(n,t,e){if(typeof n=="string"){const r=new(vt("%Temporal.Calendar%"))(n);return kt(vt("%Temporal.Calendar.prototype.mergeFields%"),r,[t,e])}const i=kt(Ie(n,"mergeFields"),n,[t,e]);if(!un(i))throw new TypeError("bad return from calendar.mergeFields()");return i}function Oi(n,t,e,i,r){let s=r;if(typeof n=="string"){const c=new(vt("%Temporal.Calendar%"))(n);return kt(vt("%Temporal.Calendar.prototype.dateAdd%"),c,[t,e,i])}s===void 0&&(s=Ie(n,"dateAdd"));const a=X0(s,n,[t,e,i]);if(!de(a))throw new TypeError("invalid result");return a}function Jl(n,t,e,i,r){let s=r;if(typeof n=="string"){const c=new(vt("%Temporal.Calendar%"))(n);return kt(vt("%Temporal.Calendar.prototype.dateUntil%"),c,[t,e,i])}s===void 0&&(s=Ie(n,"dateUntil"));const a=X0(s,n,[t,e,i]);if(!Rn(a))throw new TypeError("invalid result");return a}function Z0(n,t){if(typeof n=="string"){const i=new(vt("%Temporal.Calendar%"))(n);return kt(vt("%Temporal.Calendar.prototype.year%"),i,[t])}let e=kt(Ie(n,"year"),n,[t]);if(typeof e!="number")throw new TypeError("calendar year result must be an integer");if(!ss(e))throw new RangeError("calendar year result must be an integer");return e}function J0(n,t){if(typeof n=="string"){const i=new(vt("%Temporal.Calendar%"))(n);return kt(vt("%Temporal.Calendar.prototype.month%"),i,[t])}let e=kt(Ie(n,"month"),n,[t]);if(typeof e!="number")throw new TypeError("calendar month result must be a positive integer");if(!ss(e)||e<1)throw new RangeError("calendar month result must be a positive integer");return e}function ug(n,t){if(typeof n=="string"){const i=new(vt("%Temporal.Calendar%"))(n);return kt(vt("%Temporal.Calendar.prototype.monthCode%"),i,[t])}let e=kt(Ie(n,"monthCode"),n,[t]);if(typeof e!="string")throw new TypeError("calendar monthCode result must be a string");return e}function hg(n,t){if(typeof n=="string"){const i=new(vt("%Temporal.Calendar%"))(n);return kt(vt("%Temporal.Calendar.prototype.day%"),i,[t])}const e=kt(Ie(n,"day"),n,[t]);if(typeof e!="number")throw new TypeError("calendar day result must be a positive integer");if(!ss(e)||e<1)throw new RangeError("calendar day result must be a positive integer");return e}function t_(n,t){if(typeof n=="string"){const i=new(vt("%Temporal.Calendar%"))(n);return kt(vt("%Temporal.Calendar.prototype.era%"),i,[t])}let e=kt(Ie(n,"era"),n,[t]);if(e===void 0)return e;if(typeof e!="string")throw new TypeError("calendar era result must be a string or undefined");return e}function e_(n,t){if(typeof n=="string"){const i=new(vt("%Temporal.Calendar%"))(n);return kt(vt("%Temporal.Calendar.prototype.eraYear%"),i,[t])}let e=kt(Ie(n,"eraYear"),n,[t]);if(e===void 0)return e;if(typeof e!="number")throw new TypeError("calendar eraYear result must be an integer or undefined");if(!ss(e))throw new RangeError("calendar eraYear result must be an integer or undefined");return e}function eE(n,t){if(typeof n=="string"){const i=new(vt("%Temporal.Calendar%"))(n);return kt(vt("%Temporal.Calendar.prototype.dayOfWeek%"),i,[t])}const e=kt(Ie(n,"dayOfWeek"),n,[t]);if(typeof e!="number")throw new TypeError("calendar dayOfWeek result must be a positive integer");if(!ss(e)||e<1)throw new RangeError("calendar dayOfWeek result must be a positive integer");return e}function nE(n,t){if(typeof n=="string"){const i=new(vt("%Temporal.Calendar%"))(n);return kt(vt("%Temporal.Calendar.prototype.dayOfYear%"),i,[t])}const e=kt(Ie(n,"dayOfYear"),n,[t]);if(typeof e!="number")throw new TypeError("calendar dayOfYear result must be a positive integer");if(!ss(e)||e<1)throw new RangeError("calendar dayOfYear result must be a positive integer");return e}function iE(n,t){if(typeof n=="string"){const i=new(vt("%Temporal.Calendar%"))(n);return kt(vt("%Temporal.Calendar.prototype.weekOfYear%"),i,[t])}const e=kt(Ie(n,"weekOfYear"),n,[t]);if(typeof e!="number")throw new TypeError("calendar weekOfYear result must be a positive integer");if(!ss(e)||e<1)throw new RangeError("calendar weekOfYear result must be a positive integer");return e}function rE(n,t){if(typeof n=="string"){const i=new(vt("%Temporal.Calendar%"))(n);return kt(vt("%Temporal.Calendar.prototype.yearOfWeek%"),i,[t])}const e=kt(Ie(n,"yearOfWeek"),n,[t]);if(typeof e!="number")throw new TypeError("calendar yearOfWeek result must be an integer");if(!ss(e))throw new RangeError("calendar yearOfWeek result must be an integer");return e}function sE(n,t){if(typeof n=="string"){const i=new(vt("%Temporal.Calendar%"))(n);return kt(vt("%Temporal.Calendar.prototype.daysInWeek%"),i,[t])}const e=kt(Ie(n,"daysInWeek"),n,[t]);if(typeof e!="number")throw new TypeError("calendar daysInWeek result must be a positive integer");if(!ss(e)||e<1)throw new RangeError("calendar daysInWeek result must be a positive integer");return e}function n_(n,t){if(typeof n=="string"){const i=new(vt("%Temporal.Calendar%"))(n);return kt(vt("%Temporal.Calendar.prototype.daysInMonth%"),i,[t])}const e=kt(Ie(n,"daysInMonth"),n,[t]);if(typeof e!="number")throw new TypeError("calendar daysInMonth result must be a positive integer");if(!ss(e)||e<1)throw new RangeError("calendar daysInMonth result must be a positive integer");return e}function i_(n,t){if(typeof n=="string"){const i=new(vt("%Temporal.Calendar%"))(n);return kt(vt("%Temporal.Calendar.prototype.daysInYear%"),i,[t])}const e=kt(Ie(n,"daysInYear"),n,[t]);if(typeof e!="number")throw new TypeError("calendar daysInYear result must be a positive integer");if(!ss(e)||e<1)throw new RangeError("calendar daysInYear result must be a positive integer");return e}function r_(n,t){if(typeof n=="string"){const i=new(vt("%Temporal.Calendar%"))(n);return kt(vt("%Temporal.Calendar.prototype.monthsInYear%"),i,[t])}const e=kt(Ie(n,"monthsInYear"),n,[t]);if(typeof e!="number")throw new TypeError("calendar monthsInYear result must be a positive integer");if(!ss(e)||e<1)throw new RangeError("calendar monthsInYear result must be a positive integer");return e}function s_(n,t){if(typeof n=="string"){const i=new(vt("%Temporal.Calendar%"))(n);return kt(vt("%Temporal.Calendar.prototype.inLeapYear%"),i,[t])}const e=kt(Ie(n,"inLeapYear"),n,[t]);if(typeof e!="boolean")throw new TypeError("calendar inLeapYear result must be a boolean");return e}function Gr(n){if(un(n)){if(yi(n,tt))return b(n,tt);if(!function(r){return!!Sn(r)||"dateAdd"in r&&"dateFromFields"in r&&"dateUntil"in r&&"day"in r&&"dayOfWeek"in r&&"dayOfYear"in r&&"daysInMonth"in r&&"daysInWeek"in r&&"daysInYear"in r&&"fields"in r&&"id"in r&&"inLeapYear"in r&&"mergeFields"in r&&"month"in r&&"monthCode"in r&&"monthDayFromFields"in r&&"monthsInYear"in r&&"weekOfYear"in r&&"year"in r&&"yearMonthFromFields"in r&&"yearOfWeek"in r}(n))throw new TypeError("expected a Temporal.Calendar or object implementing the Temporal.Calendar protocol");return n}const t=yr(n);if(Ya(t))return Qo(t);let e;try{({calendar:e}=na(t))}catch{try{({calendar:e}=Jw(t))}catch{({calendar:e}=tE(t))}}if(e||(e="iso8601"),!Ya(e))throw new RangeError(`invalid calendar identifier ${e}`);return Qo(e)}function dg(n){if(yi(n,tt))return b(n,tt);const{calendar:t}=n;return t===void 0?"iso8601":Gr(t)}function Pi(n){if(typeof n=="string")return n;const t=n.id;if(typeof t!="string")throw new TypeError("calendar.id should be a string");return t}function Dd(n){return un(n)?n:new(vt("%Temporal.Calendar%"))(n)}function fg(n,t){return n===t?!0:Pi(n)===Pi(t)}function o_(n,t,e){if(n===t)return;const i=Pi(n),r=Pi(t);if(i!==r)throw new RangeError(`cannot ${e} of ${i} and ${r} calendars`)}function VM(n,t){if(n===t)return t;const e=Pi(n),i=Pi(t);if(e===i||e==="iso8601")return t;if(i==="iso8601")return n;throw new RangeError("irreconcilable calendars")}function Ha(n,t,e,i){if(typeof n=="string"){const s=new(vt("%Temporal.Calendar%"))(n);return kt(vt("%Temporal.Calendar.prototype.dateFromFields%"),s,[t,e])}const r=kt(Ie(n,"dateFromFields"),n,[t,e]);if(!de(r))throw new TypeError("invalid result");return r}function Su(n,t,e){if(typeof n=="string"){const r=new(vt("%Temporal.Calendar%"))(n);return kt(vt("%Temporal.Calendar.prototype.yearMonthFromFields%"),r,[t,e])}let i=kt(Ie(n,"yearMonthFromFields"),n,[t,e]);if(!Se(i))throw new TypeError("invalid result");return i}function ad(n,t,e){if(typeof n=="string"){const r=new(vt("%Temporal.Calendar%"))(n);return kt(vt("%Temporal.Calendar.prototype.monthDayFromFields%"),r,[t,e])}let i=kt(Ie(n,"monthDayFromFields"),n,[t,e]);if(!di(i))throw new TypeError("invalid result");return i}function Qi(n){if(un(n)){if(Ot(n))return b(n,Ve);if(!function(e){return!!fs(e)||"getOffsetNanosecondsFor"in e&&"getPossibleInstantsFor"in e&&"id"in e}(n))throw new TypeError("expected a Temporal.TimeZone or object implementing the Temporal.TimeZone protocol");return n}return q6(yr(n))}function Om(n){if(typeof n=="string")return n;const t=n.id;if(typeof t!="string")throw new TypeError("timeZone.id should be a string");return t}function UM(n){return un(n)?n:new(vt("%Temporal.TimeZone%"))(n)}function zM(n,t){return n===t?!0:Om(n)===Om(t)}function ld(n){return Ts(b(n,Rt),b(n,Ct),b(n,It),b(n,tt))}function oE(n){return new(vt("%Temporal.PlainTime%"))(b(n,Jt),b(n,te),b(n,ee),b(n,ne),b(n,ie),b(n,re))}function lo(n,t,e){if(typeof n=="string"){const r=new(vt("%Temporal.TimeZone%"))(n);return kt(vt("%Temporal.TimeZone.prototype.getOffsetNanosecondsFor%"),r,[t])}const i=kt(Ie(n,"getOffsetNanosecondsFor"),n,[t]);if(typeof i!="number")throw new TypeError("bad return from getOffsetNanosecondsFor");if(!ss(i)||ln(i)>=864e11)throw new RangeError("out-of-range return from getOffsetNanosecondsFor");return i}function VT(n,t){return l_(lo(n,t))}function rs(n,t,e){const i=b(t,Ft),r=lo(n,t);let{year:s,month:a,day:c,hour:u,minute:d,second:f,millisecond:g,microsecond:y,nanosecond:v}=jM(i);return{year:s,month:a,day:c,hour:u,minute:d,second:f,millisecond:g,microsecond:y,nanosecond:v}=lE(s,a,c,u,d,f,g,y,v+r),jr(s,a,c,u,d,f,g,y,v,e)}function gr(n,t,e){return FM(l0(n,t),n,t,e)}function FM(n,t,e,i){const r=vt("%Temporal.Instant%"),s=n.length;if(s===1)return n[0];if(s)switch(i){case"compatible":case"earlier":return n[0];case"later":return n[s-1];case"reject":throw new RangeError("multiple instants found")}const a=b(e,Rt),c=b(e,Ct),u=b(e,It),d=b(e,Jt),f=b(e,te),g=b(e,ee),y=b(e,ne),v=b(e,ie),E=b(e,re),x=ec(a,c,u,d,f,g,y,v,E);if(x===null)throw new RangeError("DateTime outside of supported range");const S=new r(T.subtract(x,Ko)),R=new r(T.add(x,Ko)),C=lo(t,S),P=lo(t,R)-C;switch(i){case"earlier":{const L=b(e,tt),N=vt("%Temporal.PlainDateTime%"),j=BT(a,c,u,d,f,g,y,v,E,L,0,0,0,0,0,0,0,0,0,-P,void 0);return l0(t,new N(j.year,j.month,j.day,j.hour,j.minute,j.second,j.millisecond,j.microsecond,j.nanosecond,L))[0]}case"compatible":case"later":{const L=b(e,tt),N=vt("%Temporal.PlainDateTime%"),j=BT(a,c,u,d,f,g,y,v,E,L,0,0,0,0,0,0,0,0,0,P,void 0),O=l0(t,new N(j.year,j.month,j.day,j.hour,j.minute,j.second,j.millisecond,j.microsecond,j.nanosecond,L));return O[O.length-1]}case"reject":throw new RangeError("no such instant found")}}function l0(n,t,e){if(typeof n=="string"){const s=new(vt("%Temporal.TimeZone%"))(n);return kt(vt("%Temporal.TimeZone.prototype.getPossibleInstantsFor%"),s,[t])}const i=kt(Ie(n,"getPossibleInstantsFor"),n,[t]),r=[];for(const s of i){if(!oi(s))throw new TypeError("bad return from getPossibleInstantsFor");xM.call(r,s)}return r}function Vu(n){let t;return n<0||n>9999?t=(n<0?"-":"+")+`000000${ln(n)}`.slice(-6):t=`0000${n}`.slice(-4),t}function pn(n){return`00${n}`.slice(-2)}function a_(n,t,e,i,r){if(r==="minute")return"";const s=`:${pn(n)}`;let a,c=1e6*t+1e3*e+i;if(r==="auto"){if(c===0)return s;for(a=`${c}`.padStart(9,"0");a[a.length-1]==="0";)a=a.slice(0,-1)}else{if(r===0)return s;a=`${c}`.padStart(9,"0").slice(0,r)}return`${s}.${a}`}function ZR(n,t,e){let i=t;i===void 0&&(i="UTC");const r=rs(i,n,"iso8601"),s=Vu(b(r,Rt)),a=pn(b(r,Ct)),c=pn(b(r,It)),u=pn(b(r,Jt)),d=pn(b(r,te)),f=a_(b(r,ee),b(r,ne),b(r,ie),b(r,re),e);let g="Z";return t!==void 0&&(g=BM(lo(i,n))),`${s}-${a}-${c}T${u}:${d}${f}${g}`}function Yb(n,t="auto",e){function i(k){return k<=V6?k.toString(10):T.BigInt(k).toString(10)}const r=b(n,sr),s=b(n,Ei),a=b(n,xr),c=b(n,or),u=b(n,ar),d=b(n,lr);let f=b(n,cr),g=b(n,ur),y=b(n,hr),v=b(n,dr);const E=jo(r,s,a,c,u,d,f,g,y,v);if(e){const{unit:k,increment:V,roundingMode:B}=e;({seconds:f,milliseconds:g,microseconds:y,nanoseconds:v}=qa(0,0,0,0,0,0,f,g,y,v,V,k,B))}const x=[];r&&x.push(`${i(ln(r))}Y`),s&&x.push(`${i(ln(s))}M`),a&&x.push(`${i(ln(a))}W`),c&&x.push(`${i(ln(c))}D`);const S=[];u&&S.push(`${i(ln(u))}H`),d&&S.push(`${i(ln(d))}M`);const R=[];let C,P,L,N,j=cd(0,0,0,f,g,y,v,0);({quotient:j,remainder:C}=jn(j,Ae)),{quotient:j,remainder:P}=jn(j,Ae),{quotient:N,remainder:L}=jn(j,Ae);const O=1e6*ln(T.toNumber(L))+1e3*ln(T.toNumber(P))+ln(T.toNumber(C));let D;if(t==="auto"){if(O!==0)for(D=`${O}`.padStart(9,"0");D[D.length-1]==="0";)D=D.slice(0,-1)}else t!==0&&(D=`${O}`.padStart(9,"0").slice(0,t));return D&&R.unshift(".",D),T.equal(N,Mn)&&!R.length&&t==="auto"||R.unshift(no(N).toString()),R.length&&S.push(`${R.join("")}S`),S.length&&S.unshift("T"),x.length||S.length?`${E<0?"-":""}P${x.join("")}${S.join("")}`:"PT0S"}function JR(n,t="auto"){return`${Vu(b(n,Rt))}-${pn(b(n,Ct))}-${pn(b(n,It))}${Qw(b(n,tt),t)}`}function tC(n,t,e="auto",i){let r=b(n,Rt),s=b(n,Ct),a=b(n,It),c=b(n,Jt),u=b(n,te),d=b(n,ee),f=b(n,ne),g=b(n,ie),y=b(n,re);if(i){const{unit:v,increment:E,roundingMode:x}=i;({year:r,month:s,day:a,hour:c,minute:u,second:d,millisecond:f,microsecond:g,nanosecond:y}=mE(r,s,a,c,u,d,f,g,y,E,v,x))}return`${Vu(r)}-${pn(s)}-${pn(a)}T${pn(c)}:${pn(u)}${a_(d,f,g,y,t)}${Qw(b(n,tt),e)}`}function eC(n,t="auto"){let e=`${pn(b(n,Ct))}-${pn(b(n,It))}`;const i=Pi(b(n,tt));(t==="always"||t==="critical"||i!=="iso8601")&&(e=`${Vu(b(n,Rt))}-${e}`);const r=Zw(i,t);return r&&(e+=r),e}function nC(n,t="auto"){let e=`${Vu(b(n,Rt))}-${pn(b(n,Ct))}`;const i=Pi(b(n,tt));(t==="always"||t==="critical"||i!=="iso8601")&&(e+=`-${pn(b(n,It))}`);const r=Zw(i,t);return r&&(e+=r),e}function iC(n,t,e="auto",i="auto",r="auto",s){let a=b(n,Ki);if(s){const{unit:f,increment:g,roundingMode:y}=s,v=h0(b(n,Ft),g,f,y);a=new(vt("%Temporal.Instant%"))(v)}const c=b(n,Ve),u=rs(c,a,"iso8601");let d=`${Vu(b(u,Rt))}-${pn(b(u,Ct))}-${pn(b(u,It))}T${pn(b(u,Jt))}:${pn(b(u,te))}${a_(b(u,ee),b(u,ne),b(u,ie),b(u,re),t)}`;return r!=="never"&&(d+=BM(lo(c,a))),i!=="never"&&(d+=`[${i==="critical"?"!":""}${Om(c)}]`),d+=Qw(b(n,tt),e),d}function Uh(n){return iO.test(rg(n))}function tc(n){const t=iO.exec(rg(n));if(!t)throw new RangeError(`invalid time zone offset: ${n}`);return(t[1]==="-"||t[1]===""?-1:1)*(1e9*(60*(60*+t[2]+ +(t[3]||0))+ +(t[4]||0))+ +((t[5]||0)+"000000000").slice(0,9))}function aE(n){return Uh(n)?l_(tc(n)):MM(rg(n)).resolvedOptions().timeZone}function Fa(n,t){const{year:e,month:i,day:r,hour:s,minute:a,second:c,millisecond:u,microsecond:d,nanosecond:f}=$M(n,t),g=e%400,y=(e-g)/400,v=T.multiply(T.BigInt(146097),Ko),E=ec(g,i,r,s,a,c,u,d,f),x=T.add(E,T.multiply(v,T.BigInt(y)));return T.toNumber(T.subtract(x,t))}function l_(n){const t=n<0?"-":"+",e=ln(n),i=e%1e9,r=qr(e/1e9)%60,s=qr(e/6e10)%60,a=pn(qr(e/36e11)),c=pn(s),u=pn(r);let d="";if(i){let f=`${i}`.padStart(9,"0");for(;f[f.length-1]==="0";)f=f.slice(0,-1);d=`:${u}.${f}`}else r&&(d=`:${u}`);return`${t}${a}:${c}${d}`}function BM(n){let t=T.toNumber(Zr(T.BigInt(n),CM,"halfExpand"));const e=t<0?"-":"+";t=ln(t);const i=t/6e10%60;return`${e}${pn(qr(t/36e11))}:${pn(i)}`}function ec(n,t,e,i,r,s,a,c,u){const d=new Date;d.setUTCHours(i,r,s,a),d.setUTCFullYear(n,t-1,e);const f=d.getTime();if(K0(f))return null;let g=T.multiply(T.BigInt(f),_s);return g=T.add(g,T.multiply(T.BigInt(c),Ae)),g=T.add(g,T.BigInt(u)),T.lessThan(g,Dm)||T.greaterThan(g,rd)?null:g}function jM(n){const{quotient:t,remainder:e}=jn(n,_s);let i=T.toNumber(t),r=T.toNumber(e);r<0&&(r+=1e6,i-=1);const s=qr(r/1e3)%1e3,a=r%1e3,c=new Date(i);return{epochMilliseconds:i,year:c.getUTCFullYear(),month:c.getUTCMonth()+1,day:c.getUTCDate(),hour:c.getUTCHours(),minute:c.getUTCMinutes(),second:c.getUTCSeconds(),millisecond:c.getUTCMilliseconds(),microsecond:s,nanosecond:a}}function $M(n,t){const{epochMilliseconds:e,millisecond:i,microsecond:r,nanosecond:s}=jM(t),{year:a,month:c,day:u,hour:d,minute:f,second:g}=function(v,E){const x=MM(v).format(new Date(E));return function(R){const C=R.split(/[^\w]+/);if(C.length!==7)throw new RangeError(`expected 7 parts in "${R}`);const P=+C[0],L=+C[1];let N=+C[2];const j=C[3].toUpperCase();if(j==="B"||j==="BC")N=1-N;else if(j!=="A"&&j!=="AD")throw new RangeError(`Unknown era ${j} in "${R}`);let O=+C[4];O===24&&(O=0);const D=+C[5],k=+C[6];if(!(mr(N)&&mr(P)&&mr(L)&&mr(O)&&mr(D)&&mr(k)))throw new RangeError(`Invalid number in "${R}`);return{year:N,month:P,day:L,hour:O,minute:D,second:k}}(x)}(n,e);return lE(a,c,u,d,f,g,i,r,s)}function rC(n,t){return T.lessThan(n,t)?t:n}function HM(){return T.add(pE(),B6)}function qM(n,t){if(T.lessThan(t,$h))return qM(n,$h);const e=T.add(t,DM),i=rC(HM(),e);let r=rC($h,t);const s=Fa(n,r);let a=r,c=s;for(;s===c&&T.lessThan(T.BigInt(r),i);){if(a=T.add(r,IM),T.greaterThan(a,rd))return null;c=Fa(n,a),s===c&&(r=a)}return s===c?null:rO(u=>Fa(n,u),r,a,s,c)}function UT(n,t){const e=HM(),i=T.greaterThan(t,e),r=i?T.subtract(t,DM):$h;if(n==="Africa/Casablanca"||n==="Africa/El_Aaiun"){const d=b(io("2088-01-01T00Z"),Ft);if(T.lessThan(d,t))return UT(n,d)}let s=T.subtract(t,Sd);if(T.lessThan(s,$h))return null;const a=Fa(n,s);let c=s,u=a;for(;a===u&&T.greaterThan(s,r);){if(c=T.subtract(s,IM),T.lessThan(c,$h))return null;u=Fa(n,c),a===u&&(s=c)}if(a===u){if(i){const d=T.subtract(e,Ko);return UT(n,d)}return null}return rO(d=>Fa(n,d),c,s,u,a)}function nc(n){return n===void 0?!1:n%4==0&&(n%100!=0||n%400==0)}function Ba(n,t){return{standard:[31,28,31,30,31,30,31,31,30,31,30,31],leapyear:[31,29,31,30,31,30,31,31,30,31,30,31]}[nc(n)?"leapyear":"standard"][t-1]}function zT(n,t,e){const i=t+(t<3?10:-2),r=n-(t<3?1:0),s=qr(r/100),a=r-100*s,c=(e+qr(2.6*i-.2)+(a+qr(a/4))+(qr(s/4)-2*s))%7;return c+(c<=0?7:0)}function c0(n,t,e){let i=e;for(let r=t-1;r>0;r--)i+=Ba(n,r);return i}function sC(n,t,e){const i=c0(n,t,e),r=zT(n,t,e)||7,s=zT(n,1,1),a=qr((i-r+10)/7);return a<1?s===5||s===6&&nc(n-1)?{week:53,year:n-1}:{week:52,year:n-1}:a===53&&(nc(n)?366:365)-i<4-r?{week:1,year:n+1}:{week:a,year:n}}function jo(n,t,e,i,r,s,a,c,u,d){for(const f of[n,t,e,i,r,s,a,c,u,d])if(f!==0)return f<0?-1:1;return 0}function Sy(n,t){let e=n,i=t;if(!mr(e)||!mr(i))throw new RangeError("infinity is out of range");return i-=1,e+=qr(i/12),i%=12,i<0&&(i+=12),i+=1,{year:e,month:i}}function c_(n,t,e){let i=n,r=t,s=e;if(!mr(s))throw new RangeError("infinity is out of range");({year:i,month:r}=Sy(i,r));const a=146097;if(ln(s)>a){const d=uu(s/a);i+=400*d,s-=d*a}let c=0,u=r>2?i:i-1;for(;c=nc(u)?366:365,s<-c;)i-=1,u-=1,s+=c;for(u+=1;c=nc(u)?366:365,s>c;)i+=1,u+=1,s-=c;for(;s<1;)({year:i,month:r}=Sy(i,r-1)),s+=Ba(i,r);for(;s>Ba(i,r);)s-=Ba(i,r),{year:i,month:r}=Sy(i,r+1);return{year:i,month:r,day:s}}function lE(n,t,e,i,r,s,a,c,u){const{deltaDays:d,hour:f,minute:g,second:y,millisecond:v,microsecond:E,nanosecond:x}=Ia(i,r,s,a,c,u),{year:S,month:R,day:C}=c_(n,t,e+d);return{year:S,month:R,day:C,hour:f,minute:g,second:y,millisecond:v,microsecond:E,nanosecond:x}}function Ia(n,t,e,i,r,s){let a,c=T.BigInt(n),u=T.BigInt(t),d=T.BigInt(e),f=T.BigInt(i),g=T.BigInt(r),y=T.BigInt(s);return{quotient:a,remainder:y}=nu(y,Ae),g=T.add(g,a),{quotient:a,remainder:g}=nu(g,Ae),f=T.add(f,a),{quotient:a,remainder:f}=nu(f,Ae),d=T.add(d,a),{quotient:a,remainder:d}=nu(d,Fo),u=T.add(u,a),{quotient:a,remainder:u}=nu(u,Fo),c=T.add(c,a),{quotient:a,remainder:c}=nu(c,AM),{deltaDays:T.toNumber(a),hour:T.toNumber(c),minute:T.toNumber(u),second:T.toNumber(d),millisecond:T.toNumber(f),microsecond:T.toNumber(g),nanosecond:T.toNumber(y)}}function cd(n,t,e,i,r,s,a,c){const u=T.BigInt(n);let d=T.BigInt(a);n!==0&&(d=T.subtract(T.BigInt(a),T.BigInt(c)));const f=T.add(T.BigInt(t),T.multiply(u,T.BigInt(24))),g=T.add(T.BigInt(e),T.multiply(f,Fo)),y=T.add(T.BigInt(i),T.multiply(g,Fo)),v=T.add(T.BigInt(r),T.multiply(y,Ae)),E=T.add(T.BigInt(s),T.multiply(v,Ae));return T.add(T.BigInt(d),T.multiply(E,Ae))}function cE(n,t){const e=vt("%Temporal.Instant%"),i=id(T.toNumber(n));let r=T.BigInt(n),s=864e11;if(i===0)return{days:0,nanoseconds:Mn,dayLengthNs:s};if(!Ot(t)){let P;return{quotient:P,remainder:r}=jn(r,T.BigInt(s)),{days:T.toNumber(P),nanoseconds:r,dayLengthNs:s}}const a=b(t,Ft),c=b(t,Ki),u=T.add(a,r),d=new e(u),f=b(t,Ve),g=b(t,tt),y=rs(f,c,g),v=rs(f,d,g);let{days:E}=fE(b(y,Rt),b(y,Ct),b(y,It),b(y,Jt),b(y,te),b(y,ee),b(y,ne),b(y,ie),b(y,re),b(v,Rt),b(v,Ct),b(v,It),b(v,Jt),b(v,te),b(v,ee),b(v,ne),b(v,ie),b(v,re),g,"day",Zi(null)),x=bs(c,f,g,0,0,0,E,0,0,0,0,0,0),S=T.BigInt(E);if(i===1)for(;T.greaterThan(S,Mn)&&T.greaterThan(x,u);)S=T.subtract(S,Sd),x=bs(c,f,g,0,0,0,T.toNumber(S),0,0,0,0,0,0);r=T.subtract(u,x);let R=!1,C=new e(x);do{const P=bs(C,f,g,0,0,0,i,0,0,0,0,0,0),L=b(C,Ft);s=T.toNumber(T.subtract(P,L)),R=T.greaterThanOrEqual(T.multiply(T.subtract(r,T.BigInt(s)),T.BigInt(i)),Mn),R&&(r=T.subtract(r,T.BigInt(s)),C=new e(P),S=T.add(S,T.BigInt(i)))}while(R);if(!gs(S)&&qR(S)!==i)throw new RangeError("Time zone or calendar converted nanoseconds into a number of days with the opposite sign");if(!gs(r)&&qR(r)!==i)throw n0(r)&&i===1?new Error("assert not reached"):new RangeError("Time zone or calendar ended up with a remainder of nanoseconds with the opposite sign");if(T.greaterThanOrEqual(no(r),no(T.BigInt(s))))throw new Error("assert not reached");return{days:T.toNumber(S),nanoseconds:r,dayLengthNs:ln(s)}}function Ys(n,t,e,i,r,s,a,c,u){let d=YM(n,t,e,i,r,s,a,c,u);if(d==="positive overflow"||d==="negative overflow")throw new RangeError("Duration out of range");return d}function YM(n,t,e,i,r,s,a,c,u){let d,f,g,y,v,E,x=n;if(Ot(u)){const O=bs(b(u,Ki),b(u,Ve),b(u,tt),0,0,0,x,t,e,i,r,s,a),D=b(u,Ft);d=T.subtract(O,D)}else d=cd(x,t,e,i,r,s,a,0);c==="year"||c==="month"||c==="week"||c==="day"?{days:x,nanoseconds:d}=cE(d,u):x=0;const S=T.lessThan(d,Mn)?-1:1;switch(d=no(d),f=g=y=v=E=Mn,c){case"year":case"month":case"week":case"day":case"hour":({quotient:f,remainder:d}=jn(d,Ae)),{quotient:g,remainder:f}=jn(f,Ae),{quotient:y,remainder:g}=jn(g,Ae),{quotient:v,remainder:y}=jn(y,Fo),{quotient:E,remainder:v}=jn(v,Fo);break;case"minute":({quotient:f,remainder:d}=jn(d,Ae)),{quotient:g,remainder:f}=jn(f,Ae),{quotient:y,remainder:g}=jn(g,Ae),{quotient:v,remainder:y}=jn(y,Fo);break;case"second":({quotient:f,remainder:d}=jn(d,Ae)),{quotient:g,remainder:f}=jn(f,Ae),{quotient:y,remainder:g}=jn(g,Ae);break;case"millisecond":({quotient:f,remainder:d}=jn(d,Ae)),{quotient:g,remainder:f}=jn(f,Ae);break;case"microsecond":({quotient:f,remainder:d}=jn(d,Ae));break;case"nanosecond":break;default:throw new Error("assert not reached")}const R=T.toNumber(E)*S,C=T.toNumber(v)*S,P=T.toNumber(y)*S,L=T.toNumber(g)*S,N=T.toNumber(f)*S,j=T.toNumber(d)*S;for(const O of[x,R,C,P,L,N,j])if(!mr(O))return S===1?"positive overflow":"negative overflow";return{days:x,hours:R,minutes:C,seconds:P,milliseconds:L,microseconds:N,nanoseconds:j}}function Kp(n,t,e,i,r,s){const a=vt("%Temporal.Duration%"),c=jo(n,t,e,i,0,0,0,0,0,0);if(c===0)return{years:n,months:t,weeks:e,days:i};const u=T.BigInt(c);let d,f,g=T.BigInt(n),y=T.BigInt(t),v=T.BigInt(e),E=T.BigInt(i);s&&(f=$e(s),d=b(f,tt));const x=new a(c),S=new a(0,c),R=new a(0,0,c);switch(r){case"year":break;case"month":{if(!d)throw new RangeError("a starting point is required for months balancing");let C,P;for(typeof d!="string"&&(C=Ie(d,"dateAdd"),P=Ie(d,"dateUntil"));!gs(g);){const L=Oi(d,f,x,void 0,C),N=Zi(null);N.largestUnit="month";const j=Jl(d,f,L,N,P),O=T.BigInt(b(j,Ei));f=L,y=T.add(y,O),g=T.subtract(g,u)}}break;case"week":{if(!d)throw new RangeError("a starting point is required for weeks balancing");const C=typeof d!="string"?Ie(d,"dateAdd"):void 0;for(;!gs(g);){let P;({relativeTo:f,days:P}=Wi(d,f,x,C)),E=T.add(E,T.BigInt(P)),g=T.subtract(g,u)}for(;!gs(y);){let P;({relativeTo:f,days:P}=Wi(d,f,S,C)),E=T.add(E,T.BigInt(P)),y=T.subtract(y,u)}break}default:{if(gs(g)&&gs(y)&&gs(v))break;if(!d)throw new RangeError("a starting point is required for balancing calendar units");const C=typeof d!="string"?Ie(d,"dateAdd"):void 0;for(;!gs(g);){let P;({relativeTo:f,days:P}=Wi(d,f,x,C)),E=T.add(E,T.BigInt(P)),g=T.subtract(g,u)}for(;!gs(y);){let P;({relativeTo:f,days:P}=Wi(d,f,S,C)),E=T.add(E,T.BigInt(P)),y=T.subtract(y,u)}for(;!gs(v);){let P;({relativeTo:f,days:P}=Wi(d,f,R,C)),E=T.add(E,T.BigInt(P)),v=T.subtract(v,u)}break}}return{years:T.toNumber(g),months:T.toNumber(y),weeks:T.toNumber(v),days:T.toNumber(E)}}function oC(n,t,e,i,r){if(Ot(n)){const s=b(n,Ki),a=b(n,Ve),c=b(n,tt),u=lo(a,s),d=bs(s,a,c,t,e,i,r,0,0,0,0,0,0);return lo(a,new(vt("%Temporal.Instant%"))(d))-u}return 0}function GM(n){return new(vt("%Temporal.Duration%"))(-b(n,sr),-b(n,Ei),-b(n,xr),-b(n,or),-b(n,ar),-b(n,lr),-b(n,cr),-b(n,ur),-b(n,hr),-b(n,dr))}function $r(n,t,e){return N6(e,P6(t,n))}function WM(n,t,e){const i=$r(t,1,12);return{year:n,month:i,day:$r(e,1,Ba(n,i))}}function ki(n,t,e){if(n<t||n>e)throw new RangeError(`value out of range: ${t} <= ${n} <= ${e}`)}function Xo(n,t,e){ki(t,1,12),ki(e,1,Ba(n,t))}function KM(n,t,e){XM(n,t,e,12,0,0,0,0,0)}function u_(n,t,e,i,r,s){ki(n,0,23),ki(t,0,59),ki(e,0,59),ki(i,0,999),ki(r,0,999),ki(s,0,999)}function uE(n,t,e,i,r,s,a,c,u){Xo(n,t,e),u_(i,r,s,a,c,u)}function XM(n,t,e,i,r,s,a,c,u){if(ki(n,t0,e0),n===t0&&ec(n,t,e+1,i,r,s,a,c,u-1)==null||n===e0&&ec(n,t,e-1,i,r,s,a,c,u+1)==null)throw new RangeError("DateTime outside of supported range")}function au(n){if(T.lessThan(n,Dm)||T.greaterThan(n,rd))throw new RangeError("Instant outside of supported range")}function u0(n,t,e,i,r,s,a,c,u,d){const f=jo(n,t,e,i,r,s,a,c,u,d);for(const g of[n,t,e,i,r,s,a,c,u,d]){if(!mr(g))throw new RangeError("infinite values not allowed as duration fields");const y=id(g);if(y!==0&&y!==f)throw new RangeError("mixed-sign values not allowed as duration fields")}}function hE(n,t,e,i,r,s,a){switch(a){case"year":case"month":{const c=-Ll(n,t,e,i,r,s);if(c===0)return{years:0,months:0,weeks:0,days:0};const u={year:n,month:t},d={year:i,month:r,day:s};let f=d.year-u.year,g=gu(n,t,e,f,0,0,0,"constrain"),y=-Ll(g.year,g.month,g.day,i,r,s);if(y===0)return a==="year"?{years:f,months:0,weeks:0,days:0}:{years:0,months:12*f,weeks:0,days:0};let v=d.month-u.month;if(y!==c&&(f-=c,v+=12*c),g=gu(n,t,e,f,v,0,0,"constrain"),y=-Ll(g.year,g.month,g.day,i,r,s),y===0)return a==="year"?{years:f,months:v,weeks:0,days:0}:{years:0,months:v+12*f,weeks:0,days:0};y!==c&&(v-=c,v===-c&&(f-=c,v=11*c),g=gu(n,t,e,f,v,0,0,"constrain"));let E=0;return E=g.month===d.month?d.day-g.day:c<0?-g.day-(Ba(d.year,d.month)-d.day):d.day+(Ba(g.year,g.month)-g.day),a==="month"&&(v+=12*f,f=0),{years:f,months:v,weeks:0,days:E}}case"week":case"day":{let c,u,d;Ll(n,t,e,i,r,s)<0?(u={year:n,month:t,day:e},c={year:i,month:r,day:s},d=1):(u={year:i,month:r,day:s},c={year:n,month:t,day:e},d=-1);let f=c0(c.year,c.month,c.day)-c0(u.year,u.month,u.day);for(let y=u.year;y<c.year;++y)f+=nc(y)?366:365;let g=0;return a==="week"&&(g=qr(f/7),f%=7),g*=d,f*=d,{years:0,months:0,weeks:g,days:f}}default:throw new Error("assert not reached")}}function QM(n,t,e,i,r,s,a,c,u,d,f,g){let y=a-n,v=c-t,E=u-e,x=d-i,S=f-r,R=g-s;const C=jo(0,0,0,0,y,v,E,x,S,R);y*=C,v*=C,E*=C,x*=C,S*=C,R*=C;let P=0;if({deltaDays:P,hour:y,minute:v,second:E,millisecond:x,microsecond:S,nanosecond:R}=Ia(y,v,E,x,S,R),P!=0)throw new Error("assertion failure in DifferenceTime: _bt_.[[Days]] should be 0");return y*=C,v*=C,E*=C,x*=C,S*=C,R*=C,{hours:y,minutes:v,seconds:E,milliseconds:x,microseconds:S,nanoseconds:R}}function dE(n,t,e,i,r,s){const a=T.subtract(t,n);let c=0,u=0,d=T.toNumber(T.remainder(a,Ae)),f=T.toNumber(T.remainder(T.divide(a,Ae),Ae)),g=T.toNumber(T.remainder(T.divide(a,_s),Ae)),y=T.toNumber(T.divide(a,Bo));return{hours:c,minutes:u,seconds:y,milliseconds:g,microseconds:f,nanoseconds:d}=qa(0,0,0,0,0,0,y,g,f,d,e,i,s),Ys(0,c,u,y,g,f,d,r)}function fE(n,t,e,i,r,s,a,c,u,d,f,g,y,v,E,x,S,R,C,P,L){let N=n,j=t,O=e,{hours:D,minutes:k,seconds:V,milliseconds:B,microseconds:$,nanoseconds:z}=QM(i,r,s,a,c,u,y,v,E,x,S,R);const bt=jo(0,0,0,0,D,k,V,B,$,z);Ll(d,f,g,N,j,O)===-bt&&({year:N,month:j,day:O}=c_(N,j,O-bt),{hours:D,minutes:k,seconds:V,milliseconds:B,microseconds:$,nanoseconds:z}=Ys(-bt,D,k,V,B,$,z,P));const J=Ts(N,j,O,C),X=Ts(d,f,g,C),lt=Eu("day",P),ht=mc(L);ht.largestUnit=lt;let{years:ot,months:H,weeks:rt,days:wt}=Jl(C,J,X,ht);return{days:wt,hours:D,minutes:k,seconds:V,milliseconds:B,microseconds:$,nanoseconds:z}=Ys(wt,D,k,V,B,$,z,P),{years:ot,months:H,weeks:rt,days:wt,hours:D,minutes:k,seconds:V,milliseconds:B,microseconds:$,nanoseconds:z}}function ZM(n,t,e,i,r,s){const a=T.subtract(t,n);if(T.equal(a,Mn))return{years:0,months:0,weeks:0,days:0,hours:0,minutes:0,seconds:0,milliseconds:0,microseconds:0,nanoseconds:0};const c=vt("%Temporal.Instant%"),u=new c(n),d=new c(t),f=rs(e,u,i),g=rs(e,d,i);let{years:y,months:v,weeks:E,days:x}=fE(b(f,Rt),b(f,Ct),b(f,It),b(f,Jt),b(f,te),b(f,ee),b(f,ne),b(f,ie),b(f,re),b(g,Rt),b(g,Ct),b(g,It),b(g,Jt),b(g,te),b(g,ee),b(g,ne),b(g,ie),b(g,re),i,r,s);const S=bs(u,e,i,y,v,E,0,0,0,0,0,0,0);let R=T.subtract(t,S);const C=Mi(S,e,i);({nanoseconds:R,days:x}=cE(R,C));const{hours:P,minutes:L,seconds:N,milliseconds:j,microseconds:O,nanoseconds:D}=Ys(0,0,0,0,0,0,T.toNumber(R),"hour");return{years:y,months:v,weeks:E,days:x,hours:P,minutes:L,seconds:N,milliseconds:j,microseconds:O,nanoseconds:D}}function Id(n,t,e,i,r,s){const a=sg.reduce((v,E)=>{const x=E[0],S=E[1],R=E[2];return e!=="datetime"&&R!==e||i.includes(S)||v.push(S,x),v},[]);let c=Yr(t,"largestUnit",e,"auto");if(i.includes(c))throw new RangeError(`largestUnit must be one of ${a.join(", ")}, not ${c}`);const u=Rd(t);let d=ao(t,"trunc");n==="since"&&(d=function(E){switch(E){case"ceil":return"floor";case"floor":return"ceil";case"halfCeil":return"halfFloor";case"halfFloor":return"halfCeil";default:return E}}(d));const f=Yr(t,"smallestUnit",e,r);if(i.includes(f))throw new RangeError(`smallestUnit must be one of ${a.join(", ")}, not ${f}`);const g=Eu(s,f);if(c==="auto"&&(c=g),Eu(c,f)!==c)throw new RangeError(`largestUnit ${c} cannot be smaller than smallestUnit ${f}`);const y={hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[f];return y!==void 0&&Cd(u,y,!1),{largestUnit:c,roundingIncrement:u,roundingMode:d,smallestUnit:f}}function aC(n,t,e,i){const r=n==="since"?-1:1,s=io(e),a=Id(n,mc(i),"time",[],"nanosecond","second"),c=b(t,Ft),u=b(s,Ft);let{hours:d,minutes:f,seconds:g,milliseconds:y,microseconds:v,nanoseconds:E}=dE(c,u,a.roundingIncrement,a.smallestUnit,a.largestUnit,a.roundingMode);return new(vt("%Temporal.Duration%"))(0,0,0,0,r*d,r*f,r*g,r*y,r*v,r*E)}function lC(n,t,e,i){const r=n==="since"?-1:1,s=$e(e),a=b(t,tt);o_(a,b(s,tt),"compute difference between dates");const c=mc(i),u=Id(n,c,"date",[],"day","day");c.largestUnit=u.largestUnit;let{years:d,months:f,weeks:g,days:y}=Jl(a,t,s,c);return u.smallestUnit==="day"&&u.roundingIncrement===1||({years:d,months:f,weeks:g,days:y}=qa(d,f,g,y,0,0,0,0,0,0,u.roundingIncrement,u.smallestUnit,u.roundingMode,t)),new(vt("%Temporal.Duration%"))(r*d,r*f,r*g,r*y,0,0,0,0,0,0)}function cC(n,t,e,i){const r=n==="since"?-1:1,s=hu(e),a=b(t,tt);o_(a,b(s,tt),"compute difference between dates");const c=mc(i),u=Id(n,c,"datetime",[],"nanosecond","day");let{years:d,months:f,weeks:g,days:y,hours:v,minutes:E,seconds:x,milliseconds:S,microseconds:R,nanoseconds:C}=fE(b(t,Rt),b(t,Ct),b(t,It),b(t,Jt),b(t,te),b(t,ee),b(t,ne),b(t,ie),b(t,re),b(s,Rt),b(s,Ct),b(s,It),b(s,Jt),b(s,te),b(s,ee),b(s,ne),b(s,ie),b(s,re),a,u.largestUnit,c);const P=ld(t);return{years:d,months:f,weeks:g,days:y,hours:v,minutes:E,seconds:x,milliseconds:S,microseconds:R,nanoseconds:C}=qa(d,f,g,y,v,E,x,S,R,C,u.roundingIncrement,u.smallestUnit,u.roundingMode,P),{days:y,hours:v,minutes:E,seconds:x,milliseconds:S,microseconds:R,nanoseconds:C}=Ys(y,v,E,x,S,R,C,u.largestUnit),new(vt("%Temporal.Duration%"))(r*d,r*f,r*g,r*y,r*v,r*E,r*x,r*S,r*R,r*C)}function uC(n,t,e,i){const r=n==="since"?-1:1,s=ka(e),a=Id(n,mc(i),"time",[],"nanosecond","hour");let{hours:c,minutes:u,seconds:d,milliseconds:f,microseconds:g,nanoseconds:y}=QM(b(t,Jt),b(t,te),b(t,ee),b(t,ne),b(t,ie),b(t,re),b(s,Jt),b(s,te),b(s,ee),b(s,ne),b(s,ie),b(s,re));return{hours:c,minutes:u,seconds:d,milliseconds:f,microseconds:g,nanoseconds:y}=qa(0,0,0,0,c,u,d,f,g,y,a.roundingIncrement,a.smallestUnit,a.roundingMode),{hours:c,minutes:u,seconds:d,milliseconds:f,microseconds:g,nanoseconds:y}=Ys(0,c,u,d,f,g,y,a.largestUnit),new(vt("%Temporal.Duration%"))(0,0,0,0,r*c,r*u,r*d,r*f,r*g,r*y)}function hC(n,t,e,i){const r=n==="since"?-1:1,s=Zf(e),a=b(t,tt);o_(a,b(s,tt),"compute difference between months");const c=mc(i),u=Id(n,c,"date",["week","day"],"month","year");c.largestUnit=u.largestUnit;const d=Qn(a,["monthCode","year"]),f=le(t,d,[]);f.day=1;const g=Ha(a,f),y=le(s,d,[]);y.day=1;const v=Ha(a,y);let{years:E,months:x}=Jl(a,g,v,c);return u.smallestUnit==="month"&&u.roundingIncrement===1||({years:E,months:x}=qa(E,x,0,0,0,0,0,0,0,0,u.roundingIncrement,u.smallestUnit,u.roundingMode,g)),new(vt("%Temporal.Duration%"))(r*E,r*x,0,0,0,0,0,0,0,0)}function dC(n,t,e,i){const r=n==="since"?-1:1,s=Jf(e),a=b(t,tt);o_(a,b(s,tt),"compute difference between dates");const c=mc(i),u=Id(n,c,"datetime",[],"nanosecond","hour");c.largestUnit=u.largestUnit;const d=b(t,Ft),f=b(s,Ft);let g,y,v,E,x,S,R,C,P,L;if(u.largestUnit!=="year"&&u.largestUnit!=="month"&&u.largestUnit!=="week"&&u.largestUnit!=="day")g=0,y=0,v=0,E=0,{hours:x,minutes:S,seconds:R,milliseconds:C,microseconds:P,nanoseconds:L}=dE(d,f,u.roundingIncrement,u.smallestUnit,u.largestUnit,u.roundingMode);else{const N=b(t,Ve);if(!zM(N,b(s,Ve)))throw new RangeError("When calculating difference between time zones, largestUnit must be 'hours' or smaller because day lengths can vary between time zones due to DST or time zone offset changes.");({years:g,months:y,weeks:v,days:E,hours:x,minutes:S,seconds:R,milliseconds:C,microseconds:P,nanoseconds:L}=ZM(d,f,N,a,u.largestUnit,c)),{years:g,months:y,weeks:v,days:E,hours:x,minutes:S,seconds:R,milliseconds:C,microseconds:P,nanoseconds:L}=qa(g,y,v,E,x,S,R,C,P,L,u.roundingIncrement,u.smallestUnit,u.roundingMode,t),{years:g,months:y,weeks:v,days:E,hours:x,minutes:S,seconds:R,milliseconds:C,microseconds:P,nanoseconds:L}=nO(g,y,v,E,x,S,R,C,P,L,u.roundingIncrement,u.smallestUnit,u.roundingMode,t)}return new(vt("%Temporal.Duration%"))(r*g,r*y,r*v,r*E,r*x,r*S,r*R,r*C,r*P,r*L)}function gu(n,t,e,i,r,s,a,c){let u=n,d=t,f=e,g=s,y=a;return u+=i,d+=r,{year:u,month:d}=Sy(u,d),{year:u,month:d,day:f}=r0(u,d,f,c),y+=7*g,f+=y,{year:u,month:d,day:f}=c_(u,d,f),{year:u,month:d,day:f}}function JM(n,t,e,i,r,s,a,c,u,d,f,g){let y=n,v=t,E=e,x=i,S=r,R=s;y+=a,v+=c,E+=u,x+=d,S+=f,R+=g;let C=0;return{deltaDays:C,hour:y,minute:v,second:E,millisecond:x,microsecond:S,nanosecond:R}=Ia(y,v,E,x,S,R),{deltaDays:C,hour:y,minute:v,second:E,millisecond:x,microsecond:S,nanosecond:R}}function tO(n,t,e,i,r,s,a,c,u,d,f,g,y,v,E,x,S,R,C,P,L){const N=Eu(LT(n,t,e,i,r,s,a,c,u,d),LT(f,g,y,v,E,x,S,R,C,P));let j,O,D,k,V,B,$,z,bt,J;if(L)if(de(L)){const X=vt("%Temporal.Duration%"),lt=b(L,tt),ht=new X(n,t,e,i,0,0,0,0,0,0),ot=new X(f,g,y,v,0,0,0,0,0,0),H=typeof lt!="string"?Ie(lt,"dateAdd"):void 0,rt=Oi(lt,L,ht,void 0,H),wt=Oi(lt,rt,ot,void 0,H),Tt=Eu("day",N),pt=Zi(null);pt.largestUnit=Tt,{years:j,months:O,weeks:D,days:k}=Jl(lt,L,wt,pt),{days:k,hours:V,minutes:B,seconds:$,milliseconds:z,microseconds:bt,nanoseconds:J}=Ys(k,T.add(T.BigInt(r),T.BigInt(E)),T.add(T.BigInt(s),T.BigInt(x)),T.add(T.BigInt(a),T.BigInt(S)),T.add(T.BigInt(c),T.BigInt(R)),T.add(T.BigInt(u),T.BigInt(C)),T.add(T.BigInt(d),T.BigInt(P)),N)}else{const X=vt("%Temporal.Instant%"),lt=b(L,Ve),ht=b(L,tt),ot=bs(b(L,Ki),lt,ht,n,t,e,i,r,s,a,c,u,d),H=bs(new X(ot),lt,ht,f,g,y,v,E,x,S,R,C,P);N!=="year"&&N!=="month"&&N!=="week"&&N!=="day"?(j=0,O=0,D=0,k=0,{hours:V,minutes:B,seconds:$,milliseconds:z,microseconds:bt,nanoseconds:J}=dE(b(L,Ft),H,1,"nanosecond",N,"halfExpand")):{years:j,months:O,weeks:D,days:k,hours:V,minutes:B,seconds:$,milliseconds:z,microseconds:bt,nanoseconds:J}=ZM(b(L,Ft),H,lt,ht,N,Zi(null))}else{if(N==="year"||N==="month"||N==="week")throw new RangeError("relativeTo is required for years, months, or weeks arithmetic");j=O=D=0,{days:k,hours:V,minutes:B,seconds:$,milliseconds:z,microseconds:bt,nanoseconds:J}=Ys(i+v,T.add(T.BigInt(r),T.BigInt(E)),T.add(T.BigInt(s),T.BigInt(x)),T.add(T.BigInt(a),T.BigInt(S)),T.add(T.BigInt(c),T.BigInt(R)),T.add(T.BigInt(u),T.BigInt(C)),T.add(T.BigInt(d),T.BigInt(P)),N)}return u0(j,O,D,k,V,B,$,z,bt,J),{years:j,months:O,weeks:D,days:k,hours:V,minutes:B,seconds:$,milliseconds:z,microseconds:bt,nanoseconds:J}}function FT(n,t,e,i,r,s,a){let c=Mn;c=T.add(c,T.BigInt(a)),c=T.add(c,T.multiply(T.BigInt(s),Ae)),c=T.add(c,T.multiply(T.BigInt(r),_s)),c=T.add(c,T.multiply(T.BigInt(i),Bo)),c=T.add(c,T.multiply(T.BigInt(e),T.BigInt(6e10))),c=T.add(c,T.multiply(T.BigInt(t),T.BigInt(36e11)));const u=T.add(n,c);return au(u),u}function BT(n,t,e,i,r,s,a,c,u,d,f,g,y,v,E,x,S,R,C,P,L){let N=v,{deltaDays:j,hour:O,minute:D,second:k,millisecond:V,microsecond:B,nanosecond:$}=JM(i,r,s,a,c,u,E,x,S,R,C,P);N+=j;const z=vt("%Temporal.Duration%"),bt=Oi(d,Ts(n,t,e,d),new z(f,g,y,N,0,0,0,0,0,0),L);return{year:b(bt,Rt),month:b(bt,Ct),day:b(bt,It),hour:O,minute:D,second:k,millisecond:V,microsecond:B,nanosecond:$}}function bs(n,t,e,i,r,s,a,c,u,d,f,g,y,v){const E=vt("%Temporal.Duration%");if(jo(i,r,s,a,0,0,0,0,0,0)===0)return FT(b(n,Ft),c,u,d,f,g,y);const x=rs(t,n,e),S=Oi(e,Ts(b(x,Rt),b(x,Ct),b(x,It),e),new E(i,r,s,a,0,0,0,0,0,0),v),R=jr(b(S,Rt),b(S,Ct),b(S,It),b(x,Jt),b(x,te),b(x,ee),b(x,ne),b(x,ie),b(x,re),e);return FT(b(gr(t,R,"compatible"),Ft),c,u,d,f,g,y)}function fC(n,t,e,i){const r=n==="subtract"?-1:1;let{years:s,months:a,weeks:c,days:u,hours:d,minutes:f,seconds:g,milliseconds:y,microseconds:v,nanoseconds:E}=Lu(e);const x=xy(_e(i));return{years:s,months:a,weeks:c,days:u,hours:d,minutes:f,seconds:g,milliseconds:y,microseconds:v,nanoseconds:E}=tO(b(t,sr),b(t,Ei),b(t,xr),b(t,or),b(t,ar),b(t,lr),b(t,cr),b(t,ur),b(t,hr),b(t,dr),r*s,r*a,r*c,r*u,r*d,r*f,r*g,r*y,r*v,r*E,x),new(vt("%Temporal.Duration%"))(s,a,c,u,d,f,g,y,v,E)}function mC(n,t,e){const i=n==="subtract"?-1:1,{hours:r,minutes:s,seconds:a,milliseconds:c,microseconds:u,nanoseconds:d}=function(y,v){let E=Lu(y);for(const x of v)if(E[x]!==0)throw new RangeError(`Duration field ${x} not supported by Temporal.Instant. Try Temporal.ZonedDateTime instead.`);return E}(e,["years","months","weeks","days"]),f=FT(b(t,Ft),i*r,i*s,i*a,i*c,i*u,i*d);return new(vt("%Temporal.Instant%"))(f)}function gC(n,t,e,i){const r=n==="subtract"?-1:1,{years:s,months:a,weeks:c,days:u,hours:d,minutes:f,seconds:g,milliseconds:y,microseconds:v,nanoseconds:E}=Lu(e),x=_e(i),S=b(t,tt),{year:R,month:C,day:P,hour:L,minute:N,second:j,millisecond:O,microsecond:D,nanosecond:k}=BT(b(t,Rt),b(t,Ct),b(t,It),b(t,Jt),b(t,te),b(t,ee),b(t,ne),b(t,ie),b(t,re),S,r*s,r*a,r*c,r*u,r*d,r*f,r*g,r*y,r*v,r*E,x);return jr(R,C,P,L,N,j,O,D,k,S)}function pC(n,t,e){const i=n==="subtract"?-1:1,{hours:r,minutes:s,seconds:a,milliseconds:c,microseconds:u,nanoseconds:d}=Lu(e);let{hour:f,minute:g,second:y,millisecond:v,microsecond:E,nanosecond:x}=JM(b(t,Jt),b(t,te),b(t,ee),b(t,ne),b(t,ie),b(t,re),i*r,i*s,i*a,i*c,i*u,i*d);return{hour:f,minute:g,second:y,millisecond:v,microsecond:E,nanosecond:x}=Q0(f,g,y,v,E,x,"reject"),new(vt("%Temporal.PlainTime%"))(f,g,y,v,E,x)}function yC(n,t,e,i){let r=Lu(e);n==="subtract"&&(r={years:-r.years,months:-r.months,weeks:-r.weeks,days:-r.days,hours:-r.hours,minutes:-r.minutes,seconds:-r.seconds,milliseconds:-r.milliseconds,microseconds:-r.microseconds,nanoseconds:-r.nanoseconds});let{years:s,months:a,weeks:c,days:u,hours:d,minutes:f,seconds:g,milliseconds:y,microseconds:v,nanoseconds:E}=r;({days:u}=Ys(u,d,f,g,y,v,E,"day"));const x=_e(i),S=b(t,tt),R=Qn(S,["monthCode","year"]),C=le(t,R,[]),P=Zi(null);Hh(P,C,[]),C.day=1;let L=Ha(S,C);const N=jo(s,a,c,u,0,0,0,0,0,0),j=Ie(S,"dateAdd"),O=vt("%Temporal.Duration%");if(N<0){const V=Oi(S,L,new O(0,1,0,0,0,0,0,0,0,0),void 0,j),B=Oi(S,V,new O(0,0,0,-1,0,0,0,0,0,0),void 0,j);P.day=hg(S,B),L=Ha(S,P)}const D=new O(s,a,c,u,0,0,0,0,0,0),k=mc(x);return Su(S,le(Oi(S,L,D,x,j),R,[]),k)}function _C(n,t,e,i){const r=n==="subtract"?-1:1,{years:s,months:a,weeks:c,days:u,hours:d,minutes:f,seconds:g,milliseconds:y,microseconds:v,nanoseconds:E}=Lu(e),x=_e(i),S=b(t,Ve),R=b(t,tt);return Mi(bs(b(t,Ki),S,R,r*s,r*a,r*c,r*u,r*d,r*f,r*g,r*y,r*v,r*E,x),S,R)}function Zr(n,t,e){if(T.equal(t,Sd))return n;let{quotient:i,remainder:r}=jn(n,t);if(T.equal(r,Mn))return n;const s=T.lessThan(r,Mn)?-1:1,a=no(T.multiply(r,T.BigInt(2))),c=T.equal(a,t),u=T.greaterThan(a,t);switch(e){case"ceil":s>0&&(i=T.add(i,T.BigInt(s)));break;case"floor":s<0&&(i=T.add(i,T.BigInt(s)));break;case"expand":i=T.add(i,T.BigInt(s));break;case"trunc":break;case"halfCeil":(u||c&&s>0)&&(i=T.add(i,T.BigInt(s)));break;case"halfFloor":(u||c&&s<0)&&(i=T.add(i,T.BigInt(s)));break;case"halfExpand":(u||c)&&(i=T.add(i,T.BigInt(s)));break;case"halfTrunc":u&&(i=T.add(i,T.BigInt(s)));break;case"halfEven":(u||c&&T.toNumber(T.remainder(no(i),T.BigInt(2)))===1)&&(i=T.add(i,T.BigInt(s)))}return T.multiply(i,t)}function h0(n,t,e,i){let{remainder:r}=nu(n,Ko);const s=T.subtract(n,r),a=Zr(r,T.BigInt(sO[e]*t),i);return T.add(s,a)}function mE(n,t,e,i,r,s,a,c,u,d,f,g,y=864e11){const{deltaDays:v,hour:E,minute:x,second:S,millisecond:R,microsecond:C,nanosecond:P}=gE(i,r,s,a,c,u,d,f,g,y),{year:L,month:N,day:j}=c_(n,t,e+v);return{year:L,month:N,day:j,hour:E,minute:x,second:S,millisecond:R,microsecond:C,nanosecond:P}}function gE(n,t,e,i,r,s,a,c,u,d=864e11){let f=Mn;switch(c){case"day":case"hour":f=T.BigInt(n);case"minute":f=T.add(T.multiply(f,Fo),T.BigInt(t));case"second":f=T.add(T.multiply(f,Fo),T.BigInt(e));case"millisecond":f=T.add(T.multiply(f,Ae),T.BigInt(i));case"microsecond":f=T.add(T.multiply(f,Ae),T.BigInt(r));case"nanosecond":f=T.add(T.multiply(f,Ae),T.BigInt(s))}const g=c==="day"?d:sO[c],y=Zr(f,T.BigInt(g*a),u),v=T.toNumber(T.divide(y,T.BigInt(g)));switch(c){case"day":return{deltaDays:v,hour:0,minute:0,second:0,millisecond:0,microsecond:0,nanosecond:0};case"hour":return Ia(v,0,0,0,0,0);case"minute":return Ia(n,v,0,0,0,0);case"second":return Ia(n,t,v,0,0,0);case"millisecond":return Ia(n,t,e,v,0,0);case"microsecond":return Ia(n,t,e,i,v,0);case"nanosecond":return Ia(n,t,e,i,r,v);default:throw new Error(`Invalid unit ${c}`)}}function Ay(n,t){return hE(b(n,Rt),b(n,Ct),b(n,It),b(t,Rt),b(t,Ct),b(t,It),"day").days}function Wi(n,t,e,i){const r=Oi(n,t,e,void 0,i);return{relativeTo:r,days:Ay(t,r)}}function eO(n,t,e,i,r){const s=b(n,Ve),a=b(n,tt);return Mi(bs(b(n,Ki),s,a,t,e,i,r,0,0,0,0,0,0),s,a)}function nO(n,t,e,i,r,s,a,c,u,d,f,g,y,v){let E=n,x=t,S=e,R=i,C=r,P=s,L=a,N=c,j=u,O=d;if(!Ot(v)||g==="year"||g==="month"||g==="week"||g==="day"||g==="nanosecond"&&f===1)return{years:E,months:x,weeks:S,days:R,hours:C,minutes:P,seconds:L,milliseconds:N,microseconds:j,nanoseconds:O};let D=cd(0,C,P,L,N,j,O,0);const k=id(T.toNumber(D)),V=b(v,Ve),B=b(v,tt),$=bs(b(v,Ki),V,B,E,x,S,R,0,0,0,0,0,0),z=bs(new(vt("%Temporal.Instant%"))($),V,B,0,0,0,k,0,0,0,0,0,0),bt=T.subtract(z,$);return T.greaterThanOrEqual(T.multiply(T.subtract(D,bt),T.BigInt(k)),Mn)&&({years:E,months:x,weeks:S,days:R}=tO(E,x,S,R,0,0,0,0,0,0,0,0,0,k,0,0,0,0,0,0,v),D=h0(T.subtract(D,bt),f,g,y),{hours:C,minutes:P,seconds:L,milliseconds:N,microseconds:j,nanoseconds:O}=Ys(0,0,0,0,0,0,T.toNumber(D),"hour")),{years:E,months:x,weeks:S,days:R,hours:C,minutes:P,seconds:L,milliseconds:N,microseconds:j,nanoseconds:O}}function qa(n,t,e,i,r,s,a,c,u,d,f,g,y,v){let E=n,x=t,S=e,R=i,C=r,P=s,L=a,N=c,j=u,O=T.BigInt(d);const D=vt("%Temporal.Duration%");let k,V,B,$,z=v;if(z){if(Ot(z))V=z,z=$e(z);else if(!de(z))throw new TypeError("starting point must be PlainDate or ZonedDateTime");k=b(z,tt)}if(g==="year"||g==="month"||g==="week"||g==="day"){let bt,J,X;O=cd(0,C,P,L,N,j,d,0),V&&(bt=eO(V,E,x,S,R)),{days:J,nanoseconds:O,dayLengthNs:X}=cE(O,bt),B=T.BigInt(X),R+=J,C=P=L=N=j=0}switch(g){case"year":{if(!k)throw new RangeError("A starting point is required for years rounding");const bt=new D(E),J=typeof k!="string"?Ie(k,"dateAdd"):void 0,X=Oi(k,z,bt,void 0,J),lt=Oi(k,z,new D(E,x,S),void 0,J);z=X,R+=Ay(X,lt);const ht=Oi(k,z,new D(0,0,0,R),void 0,J),ot=Zi(null);ot.largestUnit="year";const H=Jl(k,z,ht,ot).years;E+=H;const rt=z;z=Oi(k,z,new D(H),void 0,J),R-=Ay(rt,z);const wt=new D(R<0?-1:1);let{days:Tt}=Wi(k,z,wt,J);Tt=ln(Tt);const pt=T.multiply(T.BigInt(Tt),B);O=T.add(T.add(T.multiply(pt,T.BigInt(E)),T.multiply(T.BigInt(R),B)),O);const xt=Zr(O,T.multiply(pt,T.BigInt(f)),y);$=ko(O,pt),E=T.toNumber(T.divide(xt,pt)),O=Mn,x=S=R=0;break}case"month":{if(!k)throw new RangeError("A starting point is required for months rounding");const bt=new D(E,x),J=typeof k!="string"?Ie(k,"dateAdd"):void 0,X=Oi(k,z,bt,void 0,J),lt=Oi(k,z,new D(E,x,S),void 0,J);z=X,R+=Ay(X,lt);const ht=id(R),ot=new D(0,R<0?-1:1);let H;for({relativeTo:z,days:H}=Wi(k,z,ot,J);ln(R)>=ln(H);)x+=ht,R-=H,{relativeTo:z,days:H}=Wi(k,z,ot,J);H=ln(H);const rt=T.multiply(T.BigInt(H),B);O=T.add(T.add(T.multiply(rt,T.BigInt(x)),T.multiply(T.BigInt(R),B)),O);const wt=Zr(O,T.multiply(rt,T.BigInt(f)),y);$=ko(O,rt),x=T.toNumber(T.divide(wt,rt)),O=Mn,S=R=0;break}case"week":{if(!k)throw new RangeError("A starting point is required for weeks rounding");const bt=id(R),J=new D(0,0,R<0?-1:1),X=typeof k!="string"?Ie(k,"dateAdd"):void 0;let lt;for({relativeTo:z,days:lt}=Wi(k,z,J,X);ln(R)>=ln(lt);)S+=bt,R-=lt,{relativeTo:z,days:lt}=Wi(k,z,J,X);lt=ln(lt);const ht=T.multiply(T.BigInt(lt),B);O=T.add(T.add(T.multiply(ht,T.BigInt(S)),T.multiply(T.BigInt(R),B)),O);const ot=Zr(O,T.multiply(ht,T.BigInt(f)),y);$=ko(O,ht),S=T.toNumber(T.divide(ot,ht)),O=Mn,R=0;break}case"day":{const bt=B;O=T.add(T.multiply(bt,T.BigInt(R)),O);const J=Zr(O,T.multiply(bt,T.BigInt(f)),y);$=ko(O,bt),R=T.toNumber(T.divide(J,bt)),O=Mn;break}case"hour":{let J=T.multiply(T.BigInt(C),T.BigInt(36e11));J=T.add(J,T.multiply(T.BigInt(P),T.BigInt(6e10))),J=T.add(J,T.multiply(T.BigInt(L),Bo)),J=T.add(J,T.multiply(T.BigInt(N),_s)),J=T.add(J,T.multiply(T.BigInt(j),Ae)),J=T.add(J,O),$=ko(J,T.BigInt(36e11));const X=Zr(J,T.BigInt(36e11*f),y);C=T.toNumber(T.divide(X,T.BigInt(36e11))),O=Mn,P=L=N=j=0;break}case"minute":{let J=T.multiply(T.BigInt(P),T.BigInt(6e10));J=T.add(J,T.multiply(T.BigInt(L),Bo)),J=T.add(J,T.multiply(T.BigInt(N),_s)),J=T.add(J,T.multiply(T.BigInt(j),Ae)),J=T.add(J,O),$=ko(J,T.BigInt(6e10));const X=Zr(J,T.BigInt(6e10*f),y);P=T.toNumber(T.divide(X,T.BigInt(6e10))),O=Mn,L=N=j=0;break}case"second":{let J=T.multiply(T.BigInt(L),Bo);J=T.add(J,T.multiply(T.BigInt(N),_s)),J=T.add(J,T.multiply(T.BigInt(j),Ae)),J=T.add(J,O),$=ko(J,T.BigInt(1e9));const X=Zr(J,T.BigInt(1e9*f),y);L=T.toNumber(T.divide(X,T.BigInt(1e9))),O=Mn,N=j=0;break}case"millisecond":{let J=T.multiply(T.BigInt(N),_s);J=T.add(J,T.multiply(T.BigInt(j),Ae)),J=T.add(J,O),$=ko(J,T.BigInt(1e6));const X=Zr(J,T.BigInt(1e6*f),y);N=T.toNumber(T.divide(X,T.BigInt(1e6))),O=Mn,j=0;break}case"microsecond":{let J=T.multiply(T.BigInt(j),Ae);J=T.add(J,O),$=ko(J,T.BigInt(1e3));const X=Zr(J,T.BigInt(1e3*f),y);j=T.toNumber(T.divide(X,T.BigInt(1e3))),O=Mn;break}case"nanosecond":$=T.toNumber(O),O=Zr(T.BigInt(O),T.BigInt(f),y)}return{years:E,months:x,weeks:S,days:R,hours:C,minutes:P,seconds:L,milliseconds:N,microseconds:j,nanoseconds:T.toNumber(O),total:$}}function Ll(n,t,e,i,r,s){for(const[a,c]of[[n,i],[t,r],[e,s]])if(a!==c)return pu(a-c);return 0}function nu(n,t){let{quotient:e,remainder:i}=jn(n,t);return T.lessThan(i,Mn)&&(e=T.subtract(e,Sd),i=T.add(i,t)),{quotient:e,remainder:i}}function Yh(n,t){const{quotient:e,remainder:i}=jn(n,t);return gs(i)||!n0(n)==!n0(t)?e:T.subtract(e,Sd)}function ko(n,t){const{quotient:e,remainder:i}=jn(n,t);return T.toNumber(e)+T.toNumber(i)/T.toNumber(t)}function d0(n){const t=um(n);return globalThis.BigInt!==void 0?globalThis.BigInt(t.toString(10)):t}function um(n){let t=n;if(typeof n=="object"){const e=n[Symbol.toPrimitive];e&&typeof e=="function"&&(t=X0(e,n,["number"]))}if(typeof t=="number")throw new TypeError("cannot convert number to bigint");return typeof t=="bigint"?T.BigInt(t.toString(10)):T.BigInt(t)}const pE=(()=>{let n=T.BigInt(Date.now()%1e6);return()=>{const t=T.BigInt(Date.now()),e=T.add(T.multiply(t,_s),n);return n=T.remainder(t,_s),T.greaterThan(e,rd)?rd:T.lessThan(e,Dm)?Dm:e}})();function Ml(){return new SM().resolvedOptions().timeZone}function pu(n){return n<0?-1:n>0?1:n}function _e(n){if(n===void 0)return Zi(null);if(un(n)&&n!==null)return n;throw new TypeError("Options parameter must be an object, not "+(n===null?"null":typeof n))}function ud(n,t){const e=Zi(null);return e[n]=t,e}function mc(n){const t=Zi(null);return Hh(t,_e(n),[]),t}function ic(n,t,e,i){let r=n[t];if(r!==void 0){if(r=yr(r),!e.includes(r))throw new RangeError(`${t} must be one of ${e.join(", ")}, not ${r}`);return r}return i}function Ya(n){return j6.includes(Qo(n))}function Qo(n){return n.replace(/[A-Z]/g,t=>{const e=t.charCodeAt(0);return String.fromCharCode(e+32)})}const iO=new RegExp(`^${wM.source}$`);function rO(n,t,e,i=n(t),r=n(e)){let s=T.BigInt(t),a=T.BigInt(e),c=i,u=r;for(;T.greaterThan(T.subtract(a,s),Sd);){const d=T.divide(T.add(s,a),T.BigInt(2)),f=n(d);if(f===c)s=d,c=f;else{if(f!==u)throw new Error(`invalid state in bisection ${c} - ${f} - ${u}`);a=d,u=f}}return a}const sO={hour:36e11,minute:6e10,second:1e9,millisecond:1e6,microsecond:1e3,nanosecond:1},oO=Symbol("date"),aO=Symbol("ym"),lO=Symbol("md"),cO=Symbol("time"),uO=Symbol("datetime"),hO=Symbol("instant"),Gh=Symbol("original"),Oh=Symbol("timezone"),Bs=Symbol("calendar-id"),dO=Symbol("locale"),jT=Symbol("options"),hm=n=>({value:n,enumerable:!0,writable:!1,configurable:!0}),Wh=globalThis.Intl.DateTimeFormat,Ga=Object.assign,G6=Object.prototype.hasOwnProperty,W6=Reflect.apply;function Ah(n,t){let e=n[t];return typeof e=="function"&&(e=new Wh(n[dO],e(n[jT])),n[t]=e),e}function Au(n,t={}){if(!(this instanceof Au))return new Au(n,t);const e=t!==void 0,i=e?Ga({},t):{},r=new Wh(n,i),s=r.resolvedOptions();if(e){const a=Ga({},s);for(const c in a)W6(G6,i,[c])||delete a[c];this[jT]=a}else this[jT]=i;this[dO]=s.locale,this[Gh]=r,this[Oh]=s.timeZone,this[Bs]=s.calendar,this[oO]=Z6,this[aO]=X6,this[lO]=Q6,this[cO]=K6,this[uO]=J6,this[hO]=tU}Object.defineProperty(Au,"name",{writable:!0,value:"DateTimeFormat"}),Au.supportedLocalesOf=function(n,t){return Wh.supportedLocalesOf(n,t)};const Gb={resolvedOptions:hm(function(){return this[Gh].resolvedOptions()}),format:hm(function(t,...e){let{instant:i,formatter:r}=Kh(t,this);return i&&r?r.format(i.epochMilliseconds):this[Gh].format(t,...e)}),formatRange:hm(function(t,e){if(hd(t)||hd(e)){if(!fO(t,e))throw new TypeError("Intl.DateTimeFormat.formatRange accepts two values of the same type");const{instant:i,formatter:r}=Kh(t,this),{instant:s,formatter:a}=Kh(e,this);if(i&&s&&r&&a&&r===a)return r.formatRange(i.epochMilliseconds,s.epochMilliseconds)}return this[Gh].formatRange(t,e)})};"formatToParts"in Wh.prototype&&(Gb.formatToParts=hm(function(t,...e){let{instant:i,formatter:r}=Kh(t,this);return i&&r?r.formatToParts(i.epochMilliseconds):this[Gh].formatToParts(t,...e)})),"formatRangeToParts"in Wh.prototype&&(Gb.formatRangeToParts=hm(function(t,e){if(hd(t)||hd(e)){if(!fO(t,e))throw new TypeError("Intl.DateTimeFormat.formatRangeToParts accepts two values of the same type");const{instant:i,formatter:r}=Kh(t,this),{instant:s,formatter:a}=Kh(e,this);if(i&&s&&r&&a&&r===a)return r.formatRangeToParts(i.epochMilliseconds,s.epochMilliseconds)}return this[Gh].formatRangeToParts(t,e)})),Au.prototype=Object.create(Wh.prototype,Gb),Object.defineProperty(Au,"prototype",{writable:!1,enumerable:!1,configurable:!1});const gc=Au;function mg(n={},t={}){const e=Ga({},n);for(const i of["year","month","day","hour","minute","second","weekday","dayPeriod","timeZoneName","dateStyle","timeStyle"])e[i]=i in t?t[i]:e[i],e[i]!==!1&&e[i]!==void 0||delete e[i];return e}function K6(n){let t=mg(n,{year:!1,month:!1,day:!1,weekday:!1,timeZoneName:!1,dateStyle:!1});return _E(t)||(t=Ga({},t,{hour:"numeric",minute:"numeric",second:"numeric"})),t}function X6(n){let t=mg(n,{day:!1,hour:!1,minute:!1,second:!1,weekday:!1,dayPeriod:!1,timeZoneName:!1,dateStyle:!1,timeStyle:!1});return"year"in t||"month"in t||(t=Ga(t,{year:"numeric",month:"numeric"})),t}function Q6(n){let t=mg(n,{year:!1,hour:!1,minute:!1,second:!1,weekday:!1,dayPeriod:!1,timeZoneName:!1,dateStyle:!1,timeStyle:!1});return"month"in t||"day"in t||(t=Ga({},t,{month:"numeric",day:"numeric"})),t}function Z6(n){let t=mg(n,{hour:!1,minute:!1,second:!1,dayPeriod:!1,timeZoneName:!1,timeStyle:!1});return yE(t)||(t=Ga({},t,{year:"numeric",month:"numeric",day:"numeric"})),t}function J6(n){let t=mg(n,{timeZoneName:!1});return _E(t)||yE(t)||(t=Ga({},t,{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"})),t}function tU(n){let t=n;return _E(t)||yE(t)||(t=Ga({},t,{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"})),t}function yE(n){return"year"in n||"month"in n||"day"in n||"weekday"in n||"dateStyle"in n}function _E(n){return"hour"in n||"minute"in n||"second"in n||"timeStyle"in n||"dayPeriod"in n}function hd(n){return de(n)||Cn(n)||Qt(n)||Ot(n)||Se(n)||di(n)||oi(n)}function fO(n,t){return!(!hd(n)||!hd(t))&&!(Cn(n)&&!Cn(t))&&!(de(n)&&!de(t))&&!(Qt(n)&&!Qt(t))&&!(Ot(n)&&!Ot(t))&&!(Se(n)&&!Se(t))&&!(di(n)&&!di(t))&&!(oi(n)&&!oi(t))}function Kh(n,t){const e=vt("%Temporal.PlainDateTime%");if(Cn(n)){const i=new e(1970,1,1,b(n,Jt),b(n,te),b(n,ee),b(n,ne),b(n,ie),b(n,re),t[Bs]);return{instant:gr(t[Oh],i,"compatible"),formatter:Ah(t,cO)}}if(Se(n)){const i=b(n,Rt),r=b(n,Ct),s=b(n,It),a=Pi(b(n,tt));if(a!==t[Bs])throw new RangeError(`cannot format PlainYearMonth with calendar ${a} in locale with calendar ${t[Bs]}`);const c=new e(i,r,s,12,0,0,0,0,0,a);return{instant:gr(t[Oh],c,"compatible"),formatter:Ah(t,aO)}}if(di(n)){const i=b(n,Rt),r=b(n,Ct),s=b(n,It),a=Pi(b(n,tt));if(a!==t[Bs])throw new RangeError(`cannot format PlainMonthDay with calendar ${a} in locale with calendar ${t[Bs]}`);const c=new e(i,r,s,12,0,0,0,0,0,a);return{instant:gr(t[Oh],c,"compatible"),formatter:Ah(t,lO)}}if(de(n)){const i=b(n,Rt),r=b(n,Ct),s=b(n,It),a=Pi(b(n,tt));if(a!=="iso8601"&&a!==t[Bs])throw new RangeError(`cannot format PlainDate with calendar ${a} in locale with calendar ${t[Bs]}`);const c=new e(i,r,s,12,0,0,0,0,0,t[Bs]);return{instant:gr(t[Oh],c,"compatible"),formatter:Ah(t,oO)}}if(Qt(n)){const i=b(n,Rt),r=b(n,Ct),s=b(n,It),a=b(n,Jt),c=b(n,te),u=b(n,ee),d=b(n,ne),f=b(n,ie),g=b(n,re),y=Pi(b(n,tt));if(y!=="iso8601"&&y!==t[Bs])throw new RangeError(`cannot format PlainDateTime with calendar ${y} in locale with calendar ${t[Bs]}`);let v=n;return y==="iso8601"&&(v=new e(i,r,s,a,c,u,d,f,g,t[Bs])),{instant:gr(t[Oh],v,"compatible"),formatter:Ah(t,uO)}}if(Ot(n))throw new TypeError("Temporal.ZonedDateTime not supported in DateTimeFormat methods. Use toLocaleString() instead.");return oi(n)?{instant:n,formatter:Ah(t,hO)}:{}}class eo{constructor(t){if(arguments.length<1)throw new TypeError("missing argument: epochNanoseconds is required");const e=um(t);au(e),ea(this),se(this,Ft,e)}get epochSeconds(){if(!oi(this))throw new TypeError("invalid receiver");const t=b(this,Ft);return T.toNumber(Yh(t,Bo))}get epochMilliseconds(){if(!oi(this))throw new TypeError("invalid receiver");const t=T.BigInt(b(this,Ft));return T.toNumber(Yh(t,_s))}get epochMicroseconds(){if(!oi(this))throw new TypeError("invalid receiver");return d0(Yh(T.BigInt(b(this,Ft)),Ae))}get epochNanoseconds(){if(!oi(this))throw new TypeError("invalid receiver");return d0(T.BigInt(b(this,Ft)))}add(t){if(!oi(this))throw new TypeError("invalid receiver");return mC("add",this,t)}subtract(t){if(!oi(this))throw new TypeError("invalid receiver");return mC("subtract",this,t)}until(t,e){if(!oi(this))throw new TypeError("invalid receiver");return aC("until",this,t,e)}since(t,e){if(!oi(this))throw new TypeError("invalid receiver");return aC("since",this,t,e)}round(t){if(!oi(this))throw new TypeError("invalid receiver");if(t===void 0)throw new TypeError("options parameter is required");const e=typeof t=="string"?ud("smallestUnit",t):_e(t),i=Rd(e),r=ao(e,"halfExpand"),s=Yr(e,"smallestUnit","time",wu);Cd(i,{hour:24,minute:1440,second:86400,millisecond:864e5,microsecond:864e8,nanosecond:864e11}[s],!0);const a=h0(b(this,Ft),i,s,r);return new eo(a)}equals(t){if(!oi(this))throw new TypeError("invalid receiver");const e=io(t),i=b(this,Ft),r=b(e,Ft);return T.equal(T.BigInt(i),T.BigInt(r))}toString(t){if(!oi(this))throw new TypeError("invalid receiver");const e=_e(t),i=ag(e),r=ao(e,"trunc"),s=Yr(e,"smallestUnit","time",void 0);if(s==="hour")throw new RangeError('smallestUnit must be a time unit other than "hour"');let a=e.timeZone;a!==void 0&&(a=Qi(a));const{precision:c,unit:u,increment:d}=lg(s,i),f=h0(b(this,Ft),d,u,r);return ZR(new eo(f),a,c)}toJSON(){if(!oi(this))throw new TypeError("invalid receiver");return ZR(this,void 0,"auto")}toLocaleString(t,e){if(!oi(this))throw new TypeError("invalid receiver");return new gc(t,e).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.Instant")}toZonedDateTime(t){if(!oi(this))throw new TypeError("invalid receiver");if(!un(t))throw new TypeError("invalid argument in toZonedDateTime");const e=t.calendar;if(e===void 0)throw new TypeError("missing calendar property in toZonedDateTime");const i=Gr(e),r=t.timeZone;if(r===void 0)throw new TypeError("missing timeZone property in toZonedDateTime");const s=Qi(r);return Mi(b(this,Ft),s,i)}toZonedDateTimeISO(t){if(!oi(this))throw new TypeError("invalid receiver");const e=Qi(t);return Mi(b(this,Ft),e,"iso8601")}static fromEpochSeconds(t){const e=sd(t),i=T.multiply(T.BigInt(e),Bo);return au(i),new eo(i)}static fromEpochMilliseconds(t){const e=sd(t),i=T.multiply(T.BigInt(e),_s);return au(i),new eo(i)}static fromEpochMicroseconds(t){const e=um(t),i=T.multiply(e,Ae);return au(i),new eo(i)}static fromEpochNanoseconds(t){const e=um(t);return au(e),new eo(e)}static from(t){return oi(t)?new eo(b(t,Ft)):io(t)}static compare(t,e){const i=io(t),r=io(e),s=b(i,Ft),a=b(r,Ft);return T.lessThan(s,a)?-1:T.greaterThan(s,a)?1:0}}ta(eo,"Temporal.Instant");const mO=Array.prototype.includes,eU=Array.prototype.push,nU=globalThis.Intl.DateTimeFormat,iU=Array.prototype.sort,rU=Math.abs,sU=Math.floor,Wb=Object.create,$T=Object.entries,gO=Set,vC=Reflect.ownKeys,Yi=Set.prototype.add,pO=Set.prototype.values,gn={};class An{constructor(t){if(arguments.length<1)throw new RangeError("missing argument: id is required");const e=yr(t);if(!Ya(e))throw new RangeError(`invalid calendar identifier ${e}`);ea(this),se(this,vn,Qo(e))}get id(){if(!Sn(this))throw new TypeError("invalid receiver");return b(this,vn)}dateFromFields(t,e){if(!Sn(this))throw new TypeError("invalid receiver");if(!un(t))throw new TypeError("invalid fields");const i=_e(e),r=b(this,vn);return gn[r].dateFromFields(t,i,r)}yearMonthFromFields(t,e){if(!Sn(this))throw new TypeError("invalid receiver");if(!un(t))throw new TypeError("invalid fields");const i=_e(e),r=b(this,vn);return gn[r].yearMonthFromFields(t,i,r)}monthDayFromFields(t,e){if(!Sn(this))throw new TypeError("invalid receiver");if(!un(t))throw new TypeError("invalid fields");const i=_e(e),r=b(this,vn);return gn[r].monthDayFromFields(t,i,r)}fields(t){if(!Sn(this))throw new TypeError("invalid receiver");const e=[],i=new Set(["year","month","monthCode","day","hour","minute","second","millisecond","microsecond","nanosecond"]);for(const r of t){if(typeof r!="string")throw new TypeError("invalid fields");if(!i.has(r))throw new RangeError(`invalid field name ${r}`);i.delete(r),eU.call(e,r)}return gn[b(this,vn)].fields(e)}mergeFields(t,e){if(!Sn(this))throw new TypeError("invalid receiver");const i=XR(t),r=Wb(null);Hh(r,i,[],[void 0]);const s=XR(e),a=Wb(null);Hh(a,s,[],[void 0]);const c=vC(a),u=gn[b(this,vn)].fieldKeysToIgnore(c),d=Wb(null),f=vC(r);for(const g of f){let y;y=kt(mO,u,[g])?a[g]:r[g],y!==void 0&&(d[g]=y)}return Hh(d,a,[]),d}dateAdd(t,e,i){if(!Sn(this))throw new TypeError("invalid receiver");const r=$e(t),s=qh(e),a=qn(_e(i)),{days:c}=Ys(b(s,or),b(s,ar),b(s,lr),b(s,cr),b(s,ur),b(s,hr),b(s,dr),"day"),u=b(this,vn);return gn[u].dateAdd(r,b(s,sr),b(s,Ei),b(s,xr),c,a,u)}dateUntil(t,e,i){if(!Sn(this))throw new TypeError("invalid receiver");const r=$e(t),s=$e(e);let a=Yr(_e(i),"largestUnit","date","auto");a==="auto"&&(a="day");const{years:c,months:u,weeks:d,days:f}=gn[b(this,vn)].dateUntil(r,s,a);return new(vt("%Temporal.Duration%"))(c,u,d,f,0,0,0,0,0,0)}year(t){let e=t;if(!Sn(this))throw new TypeError("invalid receiver");return Se(e)||(e=$e(e)),gn[b(this,vn)].year(e)}month(t){let e=t;if(!Sn(this))throw new TypeError("invalid receiver");if(di(e))throw new TypeError("use monthCode on PlainMonthDay instead");return Se(e)||(e=$e(e)),gn[b(this,vn)].month(e)}monthCode(t){let e=t;if(!Sn(this))throw new TypeError("invalid receiver");return Se(e)||di(e)||(e=$e(e)),gn[b(this,vn)].monthCode(e)}day(t){let e=t;if(!Sn(this))throw new TypeError("invalid receiver");return di(e)||(e=$e(e)),gn[b(this,vn)].day(e)}era(t){let e=t;if(!Sn(this))throw new TypeError("invalid receiver");return Se(e)||(e=$e(e)),gn[b(this,vn)].era(e)}eraYear(t){let e=t;if(!Sn(this))throw new TypeError("invalid receiver");return Se(e)||(e=$e(e)),gn[b(this,vn)].eraYear(e)}dayOfWeek(t){if(!Sn(this))throw new TypeError("invalid receiver");const e=$e(t);return gn[b(this,vn)].dayOfWeek(e)}dayOfYear(t){if(!Sn(this))throw new TypeError("invalid receiver");const e=$e(t);return gn[b(this,vn)].dayOfYear(e)}weekOfYear(t){if(!Sn(this))throw new TypeError("invalid receiver");const e=$e(t);return gn[b(this,vn)].weekOfYear(e)}yearOfWeek(t){if(!Sn(this))throw new TypeError("invalid receiver");const e=$e(t);return gn[b(this,vn)].yearOfWeek(e)}daysInWeek(t){if(!Sn(this))throw new TypeError("invalid receiver");const e=$e(t);return gn[b(this,vn)].daysInWeek(e)}daysInMonth(t){let e=t;if(!Sn(this))throw new TypeError("invalid receiver");return Se(e)||(e=$e(e)),gn[b(this,vn)].daysInMonth(e)}daysInYear(t){let e=t;if(!Sn(this))throw new TypeError("invalid receiver");return Se(e)||(e=$e(e)),gn[b(this,vn)].daysInYear(e)}monthsInYear(t){let e=t;if(!Sn(this))throw new TypeError("invalid receiver");return Se(e)||(e=$e(e)),gn[b(this,vn)].monthsInYear(e)}inLeapYear(t){let e=t;if(!Sn(this))throw new TypeError("invalid receiver");return Se(e)||(e=$e(e)),gn[b(this,vn)].inLeapYear(e)}toString(){if(!Sn(this))throw new TypeError("invalid receiver");return b(this,vn)}toJSON(){if(!Sn(this))throw new TypeError("invalid receiver");return b(this,vn)}static from(t){return Dd(Gr(t))}}function vE(n){if(!n.startsWith("M"))throw new RangeError(`Invalid month code: ${n}.  Month codes must start with M.`);const t=+n.slice(1);if(isNaN(t))throw new RangeError(`Invalid month code: ${n}`);return t}function ja(n,t=!1){return`M${n.toString().padStart(2,"0")}${t?"L":""}`}function Ry(n,t,e=12){let{month:i,monthCode:r}=n;if(r===void 0){if(i===void 0)throw new TypeError("Either month or monthCode are required");t==="reject"&&ki(i,1,e),t==="constrain"&&(i=$r(i,1,e)),r=ja(i)}else{const s=vE(r);if(i!==void 0&&i!==s)throw new RangeError(`monthCode ${r} and month ${i} must match if both are present`);if(r!==ja(s))throw new RangeError(`Invalid month code: ${r}`);if(i=s,i<1||i>e)throw new RangeError(`Invalid monthCode: ${r}`)}return{...n,month:i,monthCode:r}}ta(An,"Temporal.Calendar"),bn("Temporal.Calendar.from",An.from),bn("Temporal.Calendar.prototype.dateAdd",An.prototype.dateAdd),bn("Temporal.Calendar.prototype.dateFromFields",An.prototype.dateFromFields),bn("Temporal.Calendar.prototype.dateUntil",An.prototype.dateUntil),bn("Temporal.Calendar.prototype.day",An.prototype.day),bn("Temporal.Calendar.prototype.dayOfWeek",An.prototype.dayOfWeek),bn("Temporal.Calendar.prototype.dayOfYear",An.prototype.dayOfYear),bn("Temporal.Calendar.prototype.daysInMonth",An.prototype.daysInMonth),bn("Temporal.Calendar.prototype.daysInWeek",An.prototype.daysInWeek),bn("Temporal.Calendar.prototype.daysInYear",An.prototype.daysInYear),bn("Temporal.Calendar.prototype.era",An.prototype.era),bn("Temporal.Calendar.prototype.eraYear",An.prototype.eraYear),bn("Temporal.Calendar.prototype.fields",An.prototype.fields),bn("Temporal.Calendar.prototype.inLeapYear",An.prototype.inLeapYear),bn("Temporal.Calendar.prototype.mergeFields",An.prototype.mergeFields),bn("Temporal.Calendar.prototype.month",An.prototype.month),bn("Temporal.Calendar.prototype.monthCode",An.prototype.monthCode),bn("Temporal.Calendar.prototype.monthDayFromFields",An.prototype.monthDayFromFields),bn("Temporal.Calendar.prototype.monthsInYear",An.prototype.monthsInYear),bn("Temporal.Calendar.prototype.weekOfYear",An.prototype.weekOfYear),bn("Temporal.Calendar.prototype.year",An.prototype.year),bn("Temporal.Calendar.prototype.yearMonthFromFields",An.prototype.yearMonthFromFields),bn("Temporal.Calendar.prototype.yearOfWeek",An.prototype.yearOfWeek),gn.iso8601={dateFromFields(n,t,e){let i=le(n,["day","month","monthCode","year"],["year","day"]);const r=qn(t);i=Ry(i);let{year:s,month:a,day:c}=i;return{year:s,month:a,day:c}=r0(s,a,c,r),Ts(s,a,c,e)},yearMonthFromFields(n,t,e){let i=le(n,["month","monthCode","year"],["year"]);const r=qn(t);i=Ry(i);let{year:s,month:a}=i;return{year:s,month:a}=function(u,d,f){let g=u,y=d;switch(f){case"reject":Xo(g,y,1);break;case"constrain":({year:g,month:y}=WM(g,y))}return{year:g,month:y}}(s,a,r),Mm(s,a,e,1)},monthDayFromFields(n,t,e){let i=le(n,["day","month","monthCode","year"],["day"]);const r=qn(t);if(i.month!==void 0&&i.year===void 0&&i.monthCode===void 0)throw new TypeError("either year or monthCode required with month");const s=i.monthCode===void 0;i=Ry(i);let{month:a,day:c,year:u}=i;return{month:a,day:c}=r0(s?u:1972,a,c,r),Im(a,c,e,1972)},fields:n=>n,fieldKeysToIgnore(n){const t=new gO;for(let e=0;e<n.length;e++){const i=n[e];kt(Yi,t,[i]),i==="month"?kt(Yi,t,["monthCode"]):i==="monthCode"&&kt(Yi,t,["month"])}return[...kt(pO,t,[])]},dateAdd(n,t,e,i,r,s,a){let c=b(n,Rt),u=b(n,Ct),d=b(n,It);return{year:c,month:u,day:d}=gu(c,u,d,t,e,i,r,s),Ts(c,u,d,a)},dateUntil:(n,t,e)=>hE(b(n,Rt),b(n,Ct),b(n,It),b(t,Rt),b(t,Ct),b(t,It),e),year:n=>b(n,Rt),era(){},eraYear(){},month:n=>b(n,Ct),monthCode:n=>ja(b(n,Ct)),day:n=>b(n,It),dayOfWeek:n=>zT(b(n,Rt),b(n,Ct),b(n,It)),dayOfYear:n=>c0(b(n,Rt),b(n,Ct),b(n,It)),weekOfYear:n=>sC(b(n,Rt),b(n,Ct),b(n,It)).week,yearOfWeek:n=>sC(b(n,Rt),b(n,Ct),b(n,It)).year,daysInWeek:()=>7,daysInMonth:n=>Ba(b(n,Rt),b(n,Ct)),daysInYear(n){let t=n;return yi(t,Rt)||(t=$e(t)),nc(b(t,Rt))?366:365},monthsInYear:()=>12,inLeapYear(n){let t=n;return yi(t,Rt)||(t=$e(t)),nc(b(t,Rt))}};class Tn{constructor(t){if(this.map=new Map,this.calls=0,this.hits=0,this.misses=0,this.now=globalThis.performance?globalThis.performance.now():Date.now(),t!==void 0){let e=0;for(const i of t.map.entries()){if(++e>Tn.MAX_CACHE_ENTRIES)break;this.map.set(...i)}}}get(t){const e=this.map.get(t);return e&&(this.hits++,this.report()),this.calls++,e}set(t,e){this.map.set(t,e),this.misses++,this.report()}report(){}setObject(t){if(Tn.objectMap.get(t))throw new RangeError("object already cached");Tn.objectMap.set(t,this),this.report()}static getCacheForObject(t){let e=Tn.objectMap.get(t);return e||(e=new Tn,Tn.objectMap.set(t,e)),e}}function yO({isoYear:n,isoMonth:t,isoDay:e}){return`${Vu(n)}-${pn(t)}-${pn(e)}T00:00Z`}function Kb(n,t){return{years:n.year-t.year,months:n.month-t.month,days:n.day-t.day}}Tn.objectMap=new WeakMap,Tn.MAX_CACHE_ENTRIES=1e3;class Md{constructor(){this.eraLength="short",this.hasEra=!0,this.erasBeginMidYear=!1}getFormatter(){return this.formatter===void 0&&(this.formatter=new nU(`en-US-u-ca-${this.id}`,{day:"numeric",month:"numeric",year:"numeric",era:this.eraLength,timeZone:"UTC"})),this.formatter}isoToCalendarDate(t,e){const{year:i,month:r,day:s}=t,a=JSON.stringify({func:"isoToCalendarDate",isoYear:i,isoMonth:r,isoDay:s,id:this.id}),c=e.get(a);if(c)return c;const u=this.getFormatter();let d,f;try{f=yO({isoYear:i,isoMonth:r,isoDay:s}),d=u.formatToParts(new Date(f))}catch{throw new RangeError(`Invalid ISO date: ${JSON.stringify({isoYear:i,isoMonth:r,isoDay:s})}`)}const g={};for(let{type:v,value:E}of d){if(v==="year"&&(g.eraYear=+E),v==="relatedYear"&&(g.eraYear=+E),v==="month"){const x=/^([0-9]*)(.*?)$/.exec(E);if(!x||x.length!=3||!x[1]&&!x[2])throw new RangeError(`Unexpected month: ${E}`);if(g.month=x[1]?+x[1]:1,g.month<1)throw new RangeError(`Invalid month ${E} from ${f}[u-ca-${this.id}] (probably due to https://bugs.chromium.org/p/v8/issues/detail?id=10527)`);if(g.month>13)throw new RangeError(`Invalid month ${E} from ${f}[u-ca-${this.id}] (probably due to https://bugs.chromium.org/p/v8/issues/detail?id=10529)`);x[2]&&(g.monthExtra=x[2])}v==="day"&&(g.day=+E),this.hasEra&&v==="era"&&E!=null&&E!==""&&(E=E.split(" (")[0],g.era=E.normalize("NFD").replace(/[^-0-9 \p{L}]/gu,"").replace(" ","-").toLowerCase())}if(g.eraYear===void 0)throw new RangeError(`Intl.DateTimeFormat.formatToParts lacks relatedYear in ${this.id} calendar. Try Node 14+ or modern browsers.`);if(this.reviseIntlEra){const{era:v,eraYear:E}=this.reviseIntlEra(g,t);g.era=v,g.eraYear=E}this.checkIcuBugs&&this.checkIcuBugs(t);const y=this.adjustCalendarDate(g,e,"constrain",!0);if(y.year===void 0)throw new RangeError(`Missing year converting ${JSON.stringify(t)}`);if(y.month===void 0)throw new RangeError(`Missing month converting ${JSON.stringify(t)}`);if(y.day===void 0)throw new RangeError(`Missing day converting ${JSON.stringify(t)}`);return e.set(a,y),["constrain","reject"].forEach(v=>{const E=JSON.stringify({func:"calendarToIsoDate",year:y.year,month:y.month,day:y.day,overflow:v,id:this.id});e.set(E,t)}),y}validateCalendarDate(t){const{era:e,month:i,year:r,day:s,eraYear:a,monthCode:c,monthExtra:u}=t;if(u!==void 0)throw new RangeError("Unexpected `monthExtra` value");if(r===void 0&&a===void 0)throw new TypeError("year or eraYear is required");if(i===void 0&&c===void 0)throw new TypeError("month or monthCode is required");if(s===void 0)throw new RangeError("Missing day");if(c!==void 0){if(typeof c!="string")throw new RangeError("monthCode must be a string, not "+typeof c);if(!/^M([01]?\d)(L?)$/.test(c))throw new RangeError(`Invalid monthCode: ${c}`)}if(this.constantEra){if(e!==void 0&&e!==this.constantEra)throw new RangeError(`era must be ${this.constantEra}, not ${e}`);if(a!==void 0&&r!==void 0&&a!==r)throw new RangeError(`eraYear ${a} does not match year ${r}`)}if(this.hasEra&&t.era===void 0!=(t.eraYear===void 0))throw new RangeError("properties 'era' and 'eraYear' must be provided together")}adjustCalendarDate(t,e,i="constrain",r=!1){if(this.calendarType==="lunisolar")throw new RangeError("Override required for lunisolar calendars");let s=t;if(this.validateCalendarDate(s),this.constantEra){const{year:d,eraYear:f}=s;s={...s,era:this.constantEra,year:d!==void 0?d:f,eraYear:f!==void 0?f:d}}const a=this.monthsInYear(s,e);let{month:c,monthCode:u}=s;return{month:c,monthCode:u}=Ry(s,i,a),{...s,month:c,monthCode:u}}regulateMonthDayNaive(t,e,i){const r=this.monthsInYear(t,i);let{month:s,day:a}=t;return e==="reject"?(ki(s,1,r),ki(a,1,this.maximumMonthLength(t))):(s=$r(s,1,r),a=$r(a,1,this.maximumMonthLength({...t,month:s}))),{...t,month:s,day:a}}calendarToIsoDate(t,e="constrain",i){const r=t;let s=this.adjustCalendarDate(t,i,e,!1);s=this.regulateMonthDayNaive(s,e,i);const{year:a,month:c,day:u}=s,d=JSON.stringify({func:"calendarToIsoDate",year:a,month:c,day:u,overflow:e,id:this.id});let f,g=i.get(d);if(g||r.year!==void 0&&r.month!==void 0&&r.day!==void 0&&(r.year!==s.year||r.month!==s.month||r.day!==s.day)&&(f=JSON.stringify({func:"calendarToIsoDate",year:r.year,month:r.month,day:r.day,overflow:e,id:this.id}),g=i.get(f),g))return g;let y=this.estimateIsoDate({year:a,month:c,day:u});const v=C=>{let P=this.addDaysIso(y,C);if(s.day>this.minimumMonthLength(s)){let L=this.isoToCalendarDate(P,i);for(;L.month!==c||L.year!==a;){if(e==="reject")throw new RangeError(`day ${u} does not exist in month ${c} of year ${a}`);P=this.addDaysIso(P,-1),L=this.isoToCalendarDate(P,i)}}return P};let E=0,x=this.isoToCalendarDate(y,i),S=Kb(s,x);if(S.years!==0||S.months!==0||S.days!==0){const C=365*S.years+30*S.months+S.days;y=this.addDaysIso(y,C),x=this.isoToCalendarDate(y,i),S=Kb(s,x),S.years===0&&S.months===0?y=v(S.days):E=this.compareCalendarDates(s,x)}let R=8;for(;E;){y=this.addDaysIso(y,E*R);const C=x;x=this.isoToCalendarDate(y,i);const P=E;if(E=this.compareCalendarDates(s,x),E){if(S=Kb(s,x),S.years===0&&S.months===0)y=v(S.days),E=0;else if(P&&E!==P)if(R>1)R/=2;else{if(e==="reject")throw new RangeError(`Can't find ISO date from calendar date: ${JSON.stringify({...r})}`);this.compareCalendarDates(x,C)>0&&(y=this.addDaysIso(y,-1)),E=0}}}if(i.set(d,y),f&&i.set(f,y),s.year===void 0||s.month===void 0||s.day===void 0||s.monthCode===void 0||this.hasEra&&(s.era===void 0||s.eraYear===void 0))throw new RangeError("Unexpected missing property");return y}temporalToCalendarDate(t,e){const i={year:b(t,Rt),month:b(t,Ct),day:b(t,It)};return this.isoToCalendarDate(i,e)}compareCalendarDates(t,e){const i=le(t,["day","month","year"],["day","month","year"]),r=le(e,["day","month","year"],["day","month","year"]);return i.year!==r.year?pu(i.year-r.year):i.month!==r.month?pu(i.month-r.month):i.day!==r.day?pu(i.day-r.day):0}regulateDate(t,e="constrain",i){const r=this.calendarToIsoDate(t,e,i);return this.isoToCalendarDate(r,i)}addDaysIso(t,e){return gu(t.year,t.month,t.day,0,0,0,e,"constrain")}addDaysCalendar(t,e,i){const r=this.calendarToIsoDate(t,"constrain",i),s=this.addDaysIso(r,e);return this.isoToCalendarDate(s,i)}addMonthsCalendar(t,e,i,r){let s=t;const{day:a}=s;for(let c=0,u=rU(e);c<u;c++){const{month:d}=s,f=s,g=e<0?-Math.max(a,this.daysInPreviousMonth(s,r)):this.daysInMonth(s,r),y=this.calendarToIsoDate(s,"constrain",r);let v=this.addDaysIso(y,g);if(s=this.isoToCalendarDate(v,r),e>0){const E=this.monthsInYear(f,r);for(;s.month-1!=d%E;)v=this.addDaysIso(v,-1),s=this.isoToCalendarDate(v,r)}s.day!==a&&(s=this.regulateDate({...s,day:a},"constrain",r))}if(i==="reject"&&s.day!==a)throw new RangeError(`Day ${a} does not exist in resulting calendar month`);return s}addCalendar(t,{years:e=0,months:i=0,weeks:r=0,days:s=0},a,c){const{year:u,day:d,monthCode:f}=t,g=this.adjustCalendarDate({year:u+e,monthCode:f,day:d},c),y=this.addMonthsCalendar(g,i,a,c),v=s+7*r;return this.addDaysCalendar(y,v,c)}untilCalendar(t,e,i,r){let s=0,a=0,c=0,u=0;switch(i){case"day":s=this.calendarDaysUntil(t,e,r);break;case"week":{const d=this.calendarDaysUntil(t,e,r);s=d%7,a=(d-s)/7;break}case"month":case"year":{const d=this.compareCalendarDates(e,t);if(!d)return{years:0,months:0,weeks:0,days:0};const f=e.year-t.year,g=e.day-t.day;if(i==="year"&&f){let E=0;e.monthCode>t.monthCode&&(E=1),e.monthCode<t.monthCode&&(E=-1),E||(E=Math.sign(g)),u=E*d<0?f-d:f}let y,v=u?this.addCalendar(t,{years:u},"constrain",r):t;do c+=d,y=v,v=this.addMonthsCalendar(y,d,"constrain",r),v.day!==t.day&&(v=this.regulateDate({...v,day:t.day},"constrain",r));while(this.compareCalendarDates(e,v)*d>=0);c-=d,s=this.calendarDaysUntil(y,e,r);break}}return{years:u,months:c,weeks:a,days:s}}daysInMonth(t,e){const{day:i}=t,r=this.maximumMonthLength(t),s=this.minimumMonthLength(t);if(s===r)return s;const a=i<=r-s?r:s,c=this.calendarToIsoDate(t,"constrain",e),u=this.addDaysIso(c,a),d=this.isoToCalendarDate(u,e),f=this.addDaysIso(u,-d.day);return this.isoToCalendarDate(f,e).day}daysInPreviousMonth(t,e){const{day:i,month:r,year:s}=t;let a={year:r>1?s:s-1,month:r,day:1};const c=r>1?r-1:this.monthsInYear(a,e);a={...a,month:c};const u=this.minimumMonthLength(a),d=this.maximumMonthLength(a);if(u===d)return d;const f=this.calendarToIsoDate(t,"constrain",e),g=this.addDaysIso(f,-i);return this.isoToCalendarDate(g,e).day}startOfCalendarYear(t){return{year:t.year,month:1,monthCode:"M01",day:1}}startOfCalendarMonth(t){return{year:t.year,month:t.month,day:1}}calendarDaysUntil(t,e,i){const r=this.calendarToIsoDate(t,"constrain",i),s=this.calendarToIsoDate(e,"constrain",i);return this.isoDaysUntil(r,s)}isoDaysUntil(t,e){return hE(t.year,t.month,t.day,e.year,e.month,e.day,"day").days}monthDayFromFields(t,e,i){let r,s,a,c,u,{monthCode:d,day:f}=t;if(d===void 0){let{year:v,era:E,eraYear:x}=t;if(v===void 0&&(E===void 0||x===void 0))throw new TypeError("when `monthCode` is omitted, `year` (or `era` and `eraYear`) and `month` are required");({monthCode:d,day:f}=this.isoToCalendarDate(this.calendarToIsoDate(t,e,i),i))}const g=this.isoToCalendarDate({year:1972,month:12,day:31},i),y=g.monthCode>d||g.monthCode===d&&g.day>=f?g.year:g.year-1;for(let v=0;v<100;v++){const E=this.adjustCalendarDate({day:f,monthCode:d,year:y-v},i),x=this.calendarToIsoDate(E,"constrain",i),S=this.isoToCalendarDate(x,i);if({year:r,month:s,day:a}=x,S.monthCode===d&&S.day===f)return{month:s,day:a,year:r};e==="constrain"&&(c===void 0||S.monthCode===c.monthCode&&S.day>c.day)&&(c=S,u=x)}if(e==="constrain"&&u!==void 0)return u;throw new RangeError(`No recent ${this.id} year with monthCode ${d} and day ${f}`)}}class oU extends Md{constructor(){super(...arguments),this.id="hebrew",this.calendarType="lunisolar",this.months={Tishri:{leap:1,regular:1,monthCode:"M01",days:30},Heshvan:{leap:2,regular:2,monthCode:"M02",days:{min:29,max:30}},Kislev:{leap:3,regular:3,monthCode:"M03",days:{min:29,max:30}},Tevet:{leap:4,regular:4,monthCode:"M04",days:29},Shevat:{leap:5,regular:5,monthCode:"M05",days:30},Adar:{leap:void 0,regular:6,monthCode:"M06",days:29},"Adar I":{leap:6,regular:void 0,monthCode:"M05L",days:30},"Adar II":{leap:7,regular:void 0,monthCode:"M06",days:29},Nisan:{leap:8,regular:7,monthCode:"M07",days:30},Iyar:{leap:9,regular:8,monthCode:"M08",days:29},Sivan:{leap:10,regular:9,monthCode:"M09",days:30},Tamuz:{leap:11,regular:10,monthCode:"M10",days:29},Av:{leap:12,regular:11,monthCode:"M11",days:30},Elul:{leap:13,regular:12,monthCode:"M12",days:29}},this.hasEra=!1}inLeapYear(t){const{year:e}=t;return(7*e+1)%19<7}monthsInYear(t){return this.inLeapYear(t)?13:12}minimumMonthLength(t){return this.minMaxMonthLength(t,"min")}maximumMonthLength(t){return this.minMaxMonthLength(t,"max")}minMaxMonthLength(t,e){const{month:i,year:r}=t,s=this.getMonthCode(r,i),a=$T(this.months).find(u=>u[1].monthCode===s);if(a===void 0)throw new RangeError(`unmatched Hebrew month: ${i}`);const c=a[1].days;return typeof c=="number"?c:c[e]}estimateIsoDate(t){const{year:e}=t;return{year:e-3760,month:1,day:1}}getMonthCode(t,e){return this.inLeapYear({year:t})?e===6?ja(5,!0):ja(e<6?e:e-1):ja(e)}adjustCalendarDate(t,e,i="constrain",r=!1){let{year:s,eraYear:a,month:c,monthCode:u,day:d,monthExtra:f}=t;if(s===void 0&&a!==void 0&&(s=a),a===void 0&&s!==void 0&&(a=s),r){if(f){const g=this.months[f];if(!g)throw new RangeError(`Unrecognized month from formatToParts: ${f}`);c=this.inLeapYear({year:s})?g.leap:g.regular}return u=this.getMonthCode(s,c),{year:s,month:c,day:d,era:void 0,eraYear:a,monthCode:u}}if(this.validateCalendarDate(t),c===void 0)if(u.endsWith("L")){if(u!=="M05L")throw new RangeError(`Hebrew leap month must have monthCode M05L, not ${u}`);if(c=6,!this.inLeapYear({year:s})){if(i==="reject")throw new RangeError(`Hebrew monthCode M05L is invalid in year ${s} which is not a leap year`);c=6,u="M06"}}else{c=vE(u),this.inLeapYear({year:s})&&c>=6&&c++;const g=this.monthsInYear({year:s});if(c<1||c>g)throw new RangeError(`Invalid monthCode: ${u}`)}else if(i==="reject"?(ki(c,1,this.monthsInYear({year:s})),ki(d,1,this.maximumMonthLength({year:s,month:c}))):(c=$r(c,1,this.monthsInYear({year:s})),d=$r(d,1,this.maximumMonthLength({year:s,month:c}))),u===void 0)u=this.getMonthCode(s,c);else if(this.getMonthCode(s,c)!==u)throw new RangeError(`monthCode ${u} doesn't correspond to month ${c} in Hebrew year ${s}`);return{...t,day:d,month:c,monthCode:u,year:s,eraYear:a}}}class Od extends Md{constructor(){super(...arguments),this.calendarType="lunar",this.DAYS_PER_ISLAMIC_YEAR=354+11/30,this.DAYS_PER_ISO_YEAR=365.2425,this.constantEra="ah"}inLeapYear(t,e){return this.daysInMonth({year:t.year,month:12,day:1},e)===30}monthsInYear(){return 12}minimumMonthLength(){return 29}maximumMonthLength(){return 30}estimateIsoDate(t){const{year:e}=this.adjustCalendarDate(t);return{year:sU(e*this.DAYS_PER_ISLAMIC_YEAR/this.DAYS_PER_ISO_YEAR)+622,month:1,day:1}}}class _O extends Od{constructor(){super(...arguments),this.id="islamic"}}class aU extends Od{constructor(){super(...arguments),this.id="islamic-umalqura"}}class lU extends Od{constructor(){super(...arguments),this.id="islamic-tbla"}}class cU extends Od{constructor(){super(...arguments),this.id="islamic-civil"}}class uU extends Od{constructor(){super(...arguments),this.id="islamic-rgsa"}}class hU extends Od{constructor(){super(...arguments),this.id="islamicc"}}class dU extends Md{constructor(){super(...arguments),this.id="persian",this.calendarType="solar",this.constantEra="ap"}inLeapYear(t,e){return _O.prototype.inLeapYear.call(this,t,e)}monthsInYear(){return 12}minimumMonthLength(t){const{month:e}=t;return e===12?29:e<=6?31:30}maximumMonthLength(t){const{month:e}=t;return e===12?30:e<=6?31:30}estimateIsoDate(t){const{year:e}=this.adjustCalendarDate(t);return{year:e+621,month:1,day:1}}}class fU extends Md{constructor(){super(...arguments),this.id="indian",this.calendarType="solar",this.constantEra="saka",this.months={1:{length:30,month:3,day:22,leap:{length:31,month:3,day:21}},2:{length:31,month:4,day:21},3:{length:31,month:5,day:22},4:{length:31,month:6,day:22},5:{length:31,month:7,day:23},6:{length:31,month:8,day:23},7:{length:30,month:9,day:23},8:{length:30,month:10,day:23},9:{length:30,month:11,day:22},10:{length:30,month:12,day:22},11:{length:30,month:1,nextYear:!0,day:21},12:{length:30,month:2,nextYear:!0,day:20}},this.vulnerableToBceBug=new Date("0000-01-01T00:00Z").toLocaleDateString("en-US-u-ca-indian",{timeZone:"UTC"})!=="10/11/-79 Saka"}inLeapYear(t){return vO(t.year+78)}monthsInYear(){return 12}minimumMonthLength(t){return this.getMonthInfo(t).length}maximumMonthLength(t){return this.getMonthInfo(t).length}getMonthInfo(t){const{month:e}=t;let i=this.months[e];if(i===void 0)throw new RangeError(`Invalid month: ${e}`);return this.inLeapYear(t)&&i.leap&&(i=i.leap),i}estimateIsoDate(t){const e=this.adjustCalendarDate(t),i=this.getMonthInfo(e);return gu(e.year+78+(i.nextYear?1:0),i.month,i.day,0,0,0,e.day-1,"constrain")}checkIcuBugs(t){if(this.vulnerableToBceBug&&t.year<1)throw new RangeError(`calendar '${this.id}' is broken for ISO dates before 0001-01-01 (see https://bugs.chromium.org/p/v8/issues/detail?id=10529)`)}}function vO(n){return n%4==0&&(n%100!=0||n%400==0)}class gg extends Md{constructor(t,e){super(),this.calendarType="solar",this.v8IsVulnerableToJulianBug=new Date("+001001-01-01T00:00Z").toLocaleDateString("en-US-u-ca-japanese",{timeZone:"UTC"}).startsWith("12"),this.calendarIsVulnerableToJulianBug=!1,this.id=t;const{eras:i,anchorEra:r}=function(a){let c,u=a;if(u.length===0)throw new RangeError("Invalid era data: eras are required");if(u.length===1&&u[0].reverseOf)throw new RangeError("Invalid era data: anchor era cannot count years backwards");if(u.length===1&&!u[0].name)throw new RangeError("Invalid era data: at least one named era is required");if(u.filter(f=>f.reverseOf!=null).length>1)throw new RangeError("Invalid era data: only one era can count years backwards");u.forEach(f=>{if(f.isAnchor||!f.anchorEpoch&&!f.reverseOf){if(c)throw new RangeError("Invalid era data: cannot have multiple anchor eras");c=f,f.anchorEpoch={year:f.hasYearZero?0:1}}else if(!f.name)throw new RangeError("If era name is blank, it must be the anchor era")}),u=u.filter(f=>f.name),u.forEach(f=>{const{reverseOf:g}=f;if(g){const y=u.find(v=>v.name===g);if(y===void 0)throw new RangeError(`Invalid era data: unmatched reverseOf era: ${g}`);f.reverseOf=y,f.anchorEpoch=y.anchorEpoch,f.isoEpoch=y.isoEpoch}f.anchorEpoch.month===void 0&&(f.anchorEpoch.month=1),f.anchorEpoch.day===void 0&&(f.anchorEpoch.day=1)}),iU.call(u,(f,g)=>{if(f.reverseOf)return 1;if(g.reverseOf)return-1;if(!f.isoEpoch||!g.isoEpoch)throw new RangeError("Invalid era data: missing ISO epoch");return g.isoEpoch.year-f.isoEpoch.year});const d=u[u.length-1].reverseOf;if(d&&d!==u[u.length-2])throw new RangeError("Invalid era data: invalid reverse-sign era");return u.forEach((f,g)=>{f.genericName="era"+(u.length-1-g)}),{eras:u,anchorEra:c||u[0]}}(e);this.anchorEra=r,this.eras=i}inLeapYear(t){const{year:e}=this.estimateIsoDate({month:1,day:1,year:t.year});return vO(e)}monthsInYear(){return 12}minimumMonthLength(t){const{month:e}=t;return e===2?this.inLeapYear(t)?29:28:[4,6,9,11].indexOf(e)>=0?30:31}maximumMonthLength(t){return this.minimumMonthLength(t)}completeEraYear(t){const e=(c,u)=>{const d=t[c];if(d!=null&&d!=u)throw new RangeError(`Input ${c} ${d} doesn't match calculated value ${u}`)},i=c=>{let u;const d={...t,year:c},f=this.eras.find((g,y)=>{if(y===this.eras.length-1){if(g.reverseOf){if(c>0)throw new RangeError(`Signed year ${c} is invalid for era ${g.name}`);return u=g.anchorEpoch.year-c,!0}return u=c-g.anchorEpoch.year+(g.hasYearZero?0:1),!0}return this.compareCalendarDates(d,g.anchorEpoch)>=0&&(u=c-g.anchorEpoch.year+(g.hasYearZero?0:1),!0)});if(!f)throw new RangeError(`Year ${c} was not matched by any era`);return{eraYear:u,era:f.name}};let{year:r,eraYear:s,era:a}=t;if(r!=null)({eraYear:s,era:a}=i(r)),e("era",a),e("eraYear",s);else{if(s==null)throw new RangeError("Either `year` or `eraYear` and `era` are required");{const c=a===void 0?void 0:this.eras.find(u=>u.name===a||u.genericName===a);if(!c)throw new RangeError(`Era ${a} (ISO year ${s}) was not matched by any era`);if(s<1&&c.reverseOf)throw new RangeError(`Years in ${a} era must be positive, not ${r}`);r=c.reverseOf?c.anchorEpoch.year-s:s+c.anchorEpoch.year-(c.hasYearZero?0:1),e("year",r),{eraYear:s,era:a}=i(r)}}return{...t,year:r,eraYear:s,era:a}}adjustCalendarDate(t,e,i="constrain"){let r=t;const{month:s,monthCode:a}=r;return s===void 0&&(r={...r,month:vE(a)}),this.validateCalendarDate(r),r=this.completeEraYear(r),super.adjustCalendarDate(r,e,i)}estimateIsoDate(t){const e=this.adjustCalendarDate(t),{year:i,month:r,day:s}=e,{anchorEra:a}=this;return r0(i+a.isoEpoch.year-(a.hasYearZero?0:1),r,s,"constrain")}checkIcuBugs(t){if(this.calendarIsVulnerableToJulianBug&&this.v8IsVulnerableToJulianBug&&Ll(t.year,t.month,t.day,1582,10,15)<0)throw new RangeError(`calendar '${this.id}' is broken for ISO dates before 1582-10-15 (see https://bugs.chromium.org/p/chromium/issues/detail?id=1173158)`)}}class bE extends gg{constructor(t,e){super(t,e)}inLeapYear(t){const{year:e}=t;return(e+1)%4==0}monthsInYear(){return 13}minimumMonthLength(t){const{month:e}=t;return e===13?this.inLeapYear(t)?6:5:30}maximumMonthLength(t){return this.minimumMonthLength(t)}}class mU extends bE{constructor(){super("ethioaa",[{name:"era0",isoEpoch:{year:-5492,month:7,day:17}}])}}class gU extends bE{constructor(){super("coptic",[{name:"era1",isoEpoch:{year:284,month:8,day:29}},{name:"era0",reverseOf:"era1"}])}}class pU extends bE{constructor(){super("ethiopic",[{name:"era0",isoEpoch:{year:-5492,month:7,day:17}},{name:"era1",isoEpoch:{year:8,month:8,day:27},anchorEpoch:{year:5501}}])}}class yU extends gg{constructor(){super("roc",[{name:"minguo",isoEpoch:{year:1912,month:1,day:1}},{name:"before-roc",reverseOf:"minguo"}]),this.calendarIsVulnerableToJulianBug=!0}}class _U extends gg{constructor(){super("buddhist",[{name:"be",hasYearZero:!0,isoEpoch:{year:-543,month:1,day:1}}]),this.calendarIsVulnerableToJulianBug=!0}}class vU extends gg{constructor(){super("gregory",[{name:"ce",isoEpoch:{year:1,month:1,day:1}},{name:"bce",reverseOf:"ce"}])}reviseIntlEra(t){let{era:e,eraYear:i}=t;return e!=="bc"&&e!=="b"||(e="bce"),e!=="ad"&&e!=="a"||(e="ce"),{era:e,eraYear:i}}}class bU extends gg{constructor(){super("japanese",[{name:"reiwa",isoEpoch:{year:2019,month:5,day:1},anchorEpoch:{year:2019,month:5,day:1}},{name:"heisei",isoEpoch:{year:1989,month:1,day:8},anchorEpoch:{year:1989,month:1,day:8}},{name:"showa",isoEpoch:{year:1926,month:12,day:25},anchorEpoch:{year:1926,month:12,day:25}},{name:"taisho",isoEpoch:{year:1912,month:7,day:30},anchorEpoch:{year:1912,month:7,day:30}},{name:"meiji",isoEpoch:{year:1868,month:9,day:8},anchorEpoch:{year:1868,month:9,day:8}},{name:"ce",isoEpoch:{year:1,month:1,day:1}},{name:"bce",reverseOf:"ce"}]),this.calendarIsVulnerableToJulianBug=!0,this.eraLength="long",this.erasBeginMidYear=!0}reviseIntlEra(t,e){const{era:i,eraYear:r}=t,{year:s}=e;return this.eras.find(a=>a.name===i)?{era:i,eraYear:r}:s<1?{era:"bce",eraYear:1-s}:{era:"ce",eraYear:s}}}class bO extends Md{constructor(){super(...arguments),this.calendarType="lunisolar",this.hasEra=!1}inLeapYear(t,e){const i=this.getMonthList(t.year,e);return $T(i).length===13}monthsInYear(t,e){return this.inLeapYear(t,e)?13:12}minimumMonthLength(){return 29}maximumMonthLength(){return 30}getMonthList(t,e){if(t===void 0)throw new TypeError("Missing year");const i=JSON.stringify({func:"getMonthList",calendarYear:t,id:this.id}),r=e.get(i);if(r)return r;const s=this.getFormatter(),a=(S,R)=>{const C=yO({isoYear:S,isoMonth:2,isoDay:1}),P=new Date(C);P.setUTCDate(R+1);const L=s.formatToParts(P),N=L.find(D=>D.type==="month").value,j=+L.find(D=>D.type==="day").value;let O=L.find(D=>D.type==="relatedYear");if(O===void 0)throw new RangeError(`Intl.DateTimeFormat.formatToParts lacks relatedYear in ${this.id} calendar. Try Node 14+ or modern browsers.`);return O=+O.value,{calendarMonthString:N,calendarDay:j,calendarYearToVerify:O}};let c=17,{calendarMonthString:u,calendarDay:d,calendarYearToVerify:f}=a(t,c);u!=="1"&&(c+=29,{calendarMonthString:u,calendarDay:d}=a(t,c)),c-=d-5;const g={};let y,v,E=1,x=!1;do({calendarMonthString:u,calendarDay:d,calendarYearToVerify:f}=a(t,c)),y&&(g[v].daysInMonth=y+30-d),f!==t?x=!0:(g[u]={monthIndex:E++},c+=30),y=d,v=u;while(!x);return g[v].daysInMonth=y+30-d,e.set(i,g),g}estimateIsoDate(t){const{year:e,month:i}=t;return{year:e,month:i>=12?12:i+1,day:1}}adjustCalendarDate(t,e,i="constrain",r=!1){let{year:s,month:a,monthExtra:c,day:u,monthCode:d,eraYear:f}=t;if(r){if(s=f,c&&c!=="bis")throw new RangeError(`Unexpected leap month suffix: ${c}`);const g=ja(a,c!==void 0),y=`${a}${c||""}`,v=this.getMonthList(s,e)[y];if(v===void 0)throw new RangeError(`Unmatched month ${y} in Chinese year ${s}`);return a=v.monthIndex,{year:s,month:a,day:u,era:void 0,eraYear:f,monthCode:g}}if(this.validateCalendarDate(t),s===void 0&&(s=f),f===void 0&&(f=s),a===void 0){const g=this.getMonthList(s,e);let y=d.replace("L","bis").slice(1);y[0]==="0"&&(y=y.slice(1));let v=g[y];if(a=v&&v.monthIndex,a===void 0&&d.endsWith("L")&&d!="M13L"&&i==="constrain"){let E=d.slice(1,-1);E[0]==="0"&&(E=E.slice(1)),v=g[E],v&&(a=v.monthIndex,d=ja(E))}if(a===void 0)throw new RangeError(`Unmatched month ${d} in Chinese year ${s}`)}else if(d===void 0){const g=this.getMonthList(s,e),y=$T(g),v=y.length;i==="reject"?(ki(a,1,v),ki(u,1,this.maximumMonthLength())):(a=$r(a,1,v),u=$r(u,1,this.maximumMonthLength()));const E=y.find(([,x])=>x.monthIndex===a);if(E===void 0)throw new RangeError(`Invalid month ${a} in Chinese year ${s}`);d=ja(E[0].replace("bis",""),E[0].indexOf("bis")!==-1)}else{const g=this.getMonthList(s,e);let y=d.replace("L","bis").slice(1);y[0]==="0"&&(y=y.slice(1));const v=g[y];if(!v)throw new RangeError(`Unmatched monthCode ${d} in Chinese year ${s}`);if(a!==v.monthIndex)throw new RangeError(`monthCode ${d} doesn't correspond to month ${a} in Chinese year ${s}`)}return{...t,year:s,eraYear:f,month:a,monthCode:d,day:u}}}class TU extends bO{constructor(){super(...arguments),this.id="chinese"}}class wU extends bO{constructor(){super(...arguments),this.id="dangi"}}class EU{constructor(t){this.helper=t}dateFromFields(t,e,i){const r=new Tn,s=le(t,this.fields(["day","month","monthCode","year"]),[]),a=qn(e),{year:c,month:u,day:d}=this.helper.calendarToIsoDate(s,a,r),f=Ts(c,u,d,i);return r.setObject(f),f}yearMonthFromFields(t,e,i){const r=new Tn,s=le(t,this.fields(["month","monthCode","year"]),[]),a=qn(e),{year:c,month:u,day:d}=this.helper.calendarToIsoDate({...s,day:1},a,r),f=Mm(c,u,i,d);return r.setObject(f),f}monthDayFromFields(t,e,i){const r=new Tn,s=le(t,this.fields(["day","month","monthCode","year"]),[]),a=qn(e),{year:c,month:u,day:d}=this.helper.monthDayFromFields(s,a,r),f=Im(u,d,i,c);return r.setObject(f),f}fields(t){let e=t;return mO.call(e,"year")&&(e=[...e,"era","eraYear"]),e}fieldKeysToIgnore(t){const e=new gO;for(let i=0;i<t.length;i++){const r=t[i];switch(kt(Yi,e,[r]),r){case"era":kt(Yi,e,["eraYear"]),kt(Yi,e,["year"]);break;case"eraYear":kt(Yi,e,["era"]),kt(Yi,e,["year"]);break;case"year":kt(Yi,e,["era"]),kt(Yi,e,["eraYear"]);break;case"month":kt(Yi,e,["monthCode"]),this.helper.erasBeginMidYear&&(kt(Yi,e,["era"]),kt(Yi,e,["eraYear"]));break;case"monthCode":kt(Yi,e,["month"]),this.helper.erasBeginMidYear&&(kt(Yi,e,["era"]),kt(Yi,e,["eraYear"]));break;case"day":this.helper.erasBeginMidYear&&(kt(Yi,e,["era"]),kt(Yi,e,["eraYear"]))}}return[...kt(pO,e,[])]}dateAdd(t,e,i,r,s,a,c){const u=Tn.getCacheForObject(t),d=this.helper.temporalToCalendarDate(t,u),f=this.helper.addCalendar(d,{years:e,months:i,weeks:r,days:s},a,u),g=this.helper.calendarToIsoDate(f,"constrain",u),{year:y,month:v,day:E}=g,x=Ts(y,v,E,c);return new Tn(u).setObject(x),x}dateUntil(t,e,i){const r=Tn.getCacheForObject(t),s=Tn.getCacheForObject(e),a=this.helper.temporalToCalendarDate(t,r),c=this.helper.temporalToCalendarDate(e,s);return this.helper.untilCalendar(a,c,i,r)}year(t){const e=Tn.getCacheForObject(t);return this.helper.temporalToCalendarDate(t,e).year}month(t){const e=Tn.getCacheForObject(t);return this.helper.temporalToCalendarDate(t,e).month}day(t){const e=Tn.getCacheForObject(t);return this.helper.temporalToCalendarDate(t,e).day}era(t){if(!this.helper.hasEra)return;const e=Tn.getCacheForObject(t);return this.helper.temporalToCalendarDate(t,e).era}eraYear(t){if(!this.helper.hasEra)return;const e=Tn.getCacheForObject(t);return this.helper.temporalToCalendarDate(t,e).eraYear}monthCode(t){const e=Tn.getCacheForObject(t);return this.helper.temporalToCalendarDate(t,e).monthCode}dayOfWeek(t){return gn.iso8601.dayOfWeek(t)}dayOfYear(t){const e=Tn.getCacheForObject(t),i=this.helper.isoToCalendarDate(t,e),r=this.helper.startOfCalendarYear(i);return this.helper.calendarDaysUntil(r,i,e)+1}weekOfYear(t){return gn.iso8601.weekOfYear(t)}yearOfWeek(t){return gn.iso8601.yearOfWeek(t)}daysInWeek(t){return gn.iso8601.daysInWeek(t)}daysInMonth(t){const e=Tn.getCacheForObject(t),i=this.helper.temporalToCalendarDate(t,e),r=this.helper.maximumMonthLength(i);if(r===this.helper.minimumMonthLength(i))return r;const s=this.helper.startOfCalendarMonth(i),a=this.helper.addMonthsCalendar(s,1,"constrain",e);return this.helper.calendarDaysUntil(s,a,e)}daysInYear(t){let e=t;yi(e,Rt)||(e=$e(e));const i=Tn.getCacheForObject(e),r=this.helper.temporalToCalendarDate(e,i),s=this.helper.startOfCalendarYear(r),a=this.helper.addCalendar(s,{years:1},"constrain",i);return this.helper.calendarDaysUntil(s,a,i)}monthsInYear(t){const e=Tn.getCacheForObject(t),i=this.helper.temporalToCalendarDate(t,e);return this.helper.monthsInYear(i,e)}inLeapYear(t){let e=t;yi(e,Rt)||(e=$e(e));const i=Tn.getCacheForObject(e),r=this.helper.temporalToCalendarDate(e,i);return this.helper.inLeapYear(r,i)}}for(const n of[oU,dU,pU,mU,gU,TU,wU,yU,fU,_U,vU,bU,_O,aU,lU,cU,uU,hU]){const t=new n;gn[t.id]=new EU(t)}class pg{constructor(t,e,i,r="iso8601"){OM(this,we(t),we(e),we(i),Gr(r))}get calendarId(){if(!de(this))throw new TypeError("invalid receiver");return Pi(b(this,tt))}get era(){if(!de(this))throw new TypeError("invalid receiver");return t_(b(this,tt),this)}get eraYear(){if(!de(this))throw new TypeError("invalid receiver");return e_(b(this,tt),this)}get year(){if(!de(this))throw new TypeError("invalid receiver");return Z0(b(this,tt),this)}get month(){if(!de(this))throw new TypeError("invalid receiver");return J0(b(this,tt),this)}get monthCode(){if(!de(this))throw new TypeError("invalid receiver");return ug(b(this,tt),this)}get day(){if(!de(this))throw new TypeError("invalid receiver");return hg(b(this,tt),this)}get dayOfWeek(){if(!de(this))throw new TypeError("invalid receiver");return eE(b(this,tt),this)}get dayOfYear(){if(!de(this))throw new TypeError("invalid receiver");return nE(b(this,tt),this)}get weekOfYear(){if(!de(this))throw new TypeError("invalid receiver");return iE(b(this,tt),this)}get yearOfWeek(){if(!de(this))throw new TypeError("invalid receiver");return rE(b(this,tt),this)}get daysInWeek(){if(!de(this))throw new TypeError("invalid receiver");return sE(b(this,tt),this)}get daysInMonth(){if(!de(this))throw new TypeError("invalid receiver");return n_(b(this,tt),this)}get daysInYear(){if(!de(this))throw new TypeError("invalid receiver");return i_(b(this,tt),this)}get monthsInYear(){if(!de(this))throw new TypeError("invalid receiver");return r_(b(this,tt),this)}get inLeapYear(){if(!de(this))throw new TypeError("invalid receiver");return s_(b(this,tt),this)}with(t,e){if(!de(this))throw new TypeError("invalid receiver");if(!un(t))throw new TypeError("invalid argument");Ad(t);const i=_e(e),r=b(this,tt),s=Qn(r,["day","month","monthCode","year"]);let a=le(this,s,[]);return a=xu(r,a,le(t,s,"partial")),a=le(a,s,[]),Ha(r,a,i)}withCalendar(t){if(!de(this))throw new TypeError("invalid receiver");const e=Gr(t);return new pg(b(this,Rt),b(this,Ct),b(this,It),e)}add(t,e){if(!de(this))throw new TypeError("invalid receiver");const i=qh(t),r=_e(e);return Oi(b(this,tt),this,i,r)}subtract(t,e){if(!de(this))throw new TypeError("invalid receiver");const i=GM(qh(t)),r=_e(e);return Oi(b(this,tt),this,i,r)}until(t,e){if(!de(this))throw new TypeError("invalid receiver");return lC("until",this,t,e)}since(t,e){if(!de(this))throw new TypeError("invalid receiver");return lC("since",this,t,e)}equals(t){if(!de(this))throw new TypeError("invalid receiver");const e=$e(t);for(const i of[Rt,Ct,It])if(b(this,i)!==b(e,i))return!1;return fg(b(this,tt),b(e,tt))}toString(t){if(!de(this))throw new TypeError("invalid receiver");return JR(this,og(_e(t)))}toJSON(){if(!de(this))throw new TypeError("invalid receiver");return JR(this)}toLocaleString(t,e){if(!de(this))throw new TypeError("invalid receiver");return new gc(t,e).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainDate")}toPlainDateTime(t){if(!de(this))throw new TypeError("invalid receiver");const e=b(this,Rt),i=b(this,Ct),r=b(this,It),s=b(this,tt);if(t===void 0)return jr(e,i,r,0,0,0,0,0,0,s);const a=ka(t);return jr(e,i,r,b(a,Jt),b(a,te),b(a,ee),b(a,ne),b(a,ie),b(a,re),s)}toZonedDateTime(t){if(!de(this))throw new TypeError("invalid receiver");let e,i;if(un(t))if(fs(t))e=t;else{const E=t.timeZone;E===void 0?e=Qi(t):(e=Qi(E),i=t.plainTime)}else e=Qi(t);const r=b(this,Rt),s=b(this,Ct),a=b(this,It),c=b(this,tt);let u=0,d=0,f=0,g=0,y=0,v=0;return i!==void 0&&(i=ka(i),u=b(i,Jt),d=b(i,te),f=b(i,ee),g=b(i,ne),y=b(i,ie),v=b(i,re)),Mi(b(gr(e,jr(r,s,a,u,d,f,g,y,v,c),"compatible"),Ft),e,c)}toPlainYearMonth(){if(!de(this))throw new TypeError("invalid receiver");const t=b(this,tt);return Su(t,le(this,Qn(t,["monthCode","year"]),[]))}toPlainMonthDay(){if(!de(this))throw new TypeError("invalid receiver");const t=b(this,tt);return ad(t,le(this,Qn(t,["day","monthCode"]),[]))}getISOFields(){if(!de(this))throw new TypeError("invalid receiver");return{calendar:b(this,tt),isoDay:b(this,It),isoMonth:b(this,Ct),isoYear:b(this,Rt)}}getCalendar(){if(!de(this))throw new TypeError("invalid receiver");return Dd(b(this,tt))}static from(t,e){const i=_e(e);return de(t)?(qn(i),Ts(b(t,Rt),b(t,Ct),b(t,It),b(t,tt))):$e(t,i)}static compare(t,e){const i=$e(t),r=$e(e);return Ll(b(i,Rt),b(i,Ct),b(i,It),b(r,Rt),b(r,Ct),b(r,It))}}ta(pg,"Temporal.PlainDate");class yg{constructor(t,e,i,r=0,s=0,a=0,c=0,u=0,d=0,f="iso8601"){kM(this,we(t),we(e),we(i),r===void 0?0:we(r),s===void 0?0:we(s),a===void 0?0:we(a),c===void 0?0:we(c),u===void 0?0:we(u),d===void 0?0:we(d),Gr(f))}get calendarId(){if(!Qt(this))throw new TypeError("invalid receiver");return Pi(b(this,tt))}get year(){if(!Qt(this))throw new TypeError("invalid receiver");return Z0(b(this,tt),this)}get month(){if(!Qt(this))throw new TypeError("invalid receiver");return J0(b(this,tt),this)}get monthCode(){if(!Qt(this))throw new TypeError("invalid receiver");return ug(b(this,tt),this)}get day(){if(!Qt(this))throw new TypeError("invalid receiver");return hg(b(this,tt),this)}get hour(){if(!Qt(this))throw new TypeError("invalid receiver");return b(this,Jt)}get minute(){if(!Qt(this))throw new TypeError("invalid receiver");return b(this,te)}get second(){if(!Qt(this))throw new TypeError("invalid receiver");return b(this,ee)}get millisecond(){if(!Qt(this))throw new TypeError("invalid receiver");return b(this,ne)}get microsecond(){if(!Qt(this))throw new TypeError("invalid receiver");return b(this,ie)}get nanosecond(){if(!Qt(this))throw new TypeError("invalid receiver");return b(this,re)}get era(){if(!Qt(this))throw new TypeError("invalid receiver");return t_(b(this,tt),this)}get eraYear(){if(!Qt(this))throw new TypeError("invalid receiver");return e_(b(this,tt),this)}get dayOfWeek(){if(!Qt(this))throw new TypeError("invalid receiver");return eE(b(this,tt),this)}get dayOfYear(){if(!Qt(this))throw new TypeError("invalid receiver");return nE(b(this,tt),this)}get weekOfYear(){if(!Qt(this))throw new TypeError("invalid receiver");return iE(b(this,tt),this)}get yearOfWeek(){if(!Qt(this))throw new TypeError("invalid receiver");return rE(b(this,tt),this)}get daysInWeek(){if(!Qt(this))throw new TypeError("invalid receiver");return sE(b(this,tt),this)}get daysInYear(){if(!Qt(this))throw new TypeError("invalid receiver");return i_(b(this,tt),this)}get daysInMonth(){if(!Qt(this))throw new TypeError("invalid receiver");return n_(b(this,tt),this)}get monthsInYear(){if(!Qt(this))throw new TypeError("invalid receiver");return r_(b(this,tt),this)}get inLeapYear(){if(!Qt(this))throw new TypeError("invalid receiver");return s_(b(this,tt),this)}with(t,e){if(!Qt(this))throw new TypeError("invalid receiver");if(!un(t))throw new TypeError("invalid argument");Ad(t);const i=_e(e),r=b(this,tt),s=Qn(r,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]);let a=le(this,s,[]);a=xu(r,a,le(t,s,"partial")),a=le(a,s,[]);const{year:c,month:u,day:d,hour:f,minute:g,second:y,millisecond:v,microsecond:E,nanosecond:x}=cg(r,a,i);return jr(c,u,d,f,g,y,v,E,x,r)}withPlainTime(t){if(!Qt(this))throw new TypeError("invalid receiver");const e=b(this,Rt),i=b(this,Ct),r=b(this,It),s=b(this,tt);if(t===void 0)return jr(e,i,r,0,0,0,0,0,0,s);const a=ka(t);return jr(e,i,r,b(a,Jt),b(a,te),b(a,ee),b(a,ne),b(a,ie),b(a,re),s)}withPlainDate(t){if(!Qt(this))throw new TypeError("invalid receiver");const e=$e(t),i=b(e,Rt),r=b(e,Ct),s=b(e,It);let a=b(e,tt);const c=b(this,Jt),u=b(this,te),d=b(this,ee),f=b(this,ne),g=b(this,ie),y=b(this,re);return a=VM(b(this,tt),a),jr(i,r,s,c,u,d,f,g,y,a)}withCalendar(t){if(!Qt(this))throw new TypeError("invalid receiver");const e=Gr(t);return new yg(b(this,Rt),b(this,Ct),b(this,It),b(this,Jt),b(this,te),b(this,ee),b(this,ne),b(this,ie),b(this,re),e)}add(t,e){if(!Qt(this))throw new TypeError("invalid receiver");return gC("add",this,t,e)}subtract(t,e){if(!Qt(this))throw new TypeError("invalid receiver");return gC("subtract",this,t,e)}until(t,e){if(!Qt(this))throw new TypeError("invalid receiver");return cC("until",this,t,e)}since(t,e){if(!Qt(this))throw new TypeError("invalid receiver");return cC("since",this,t,e)}round(t){if(!Qt(this))throw new TypeError("invalid receiver");if(t===void 0)throw new TypeError("options parameter is required");const e=typeof t=="string"?ud("smallestUnit",t):_e(t),i=Rd(e),r=ao(e,"halfExpand"),s=Yr(e,"smallestUnit","time",wu,["day"]),a={day:1,hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[s];Cd(i,a,a===1);let c=b(this,Rt),u=b(this,Ct),d=b(this,It),f=b(this,Jt),g=b(this,te),y=b(this,ee),v=b(this,ne),E=b(this,ie),x=b(this,re);return{year:c,month:u,day:d,hour:f,minute:g,second:y,millisecond:v,microsecond:E,nanosecond:x}=mE(c,u,d,f,g,y,v,E,x,i,s,r),jr(c,u,d,f,g,y,v,E,x,b(this,tt))}equals(t){if(!Qt(this))throw new TypeError("invalid receiver");const e=hu(t);for(const i of[Rt,Ct,It,Jt,te,ee,ne,ie,re])if(b(this,i)!==b(e,i))return!1;return fg(b(this,tt),b(e,tt))}toString(t){if(!Qt(this))throw new TypeError("invalid receiver");const e=_e(t),i=og(e),r=ag(e),s=ao(e,"trunc"),a=Yr(e,"smallestUnit","time",void 0);if(a==="hour")throw new RangeError('smallestUnit must be a time unit other than "hour"');const{precision:c,unit:u,increment:d}=lg(a,r);return tC(this,c,i,{unit:u,increment:d,roundingMode:s})}toJSON(){if(!Qt(this))throw new TypeError("invalid receiver");return tC(this,"auto")}toLocaleString(t,e){if(!Qt(this))throw new TypeError("invalid receiver");return new gc(t,e).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainDateTime")}toZonedDateTime(t,e){if(!Qt(this))throw new TypeError("invalid receiver");const i=Qi(t);return Mi(b(gr(i,this,od(_e(e))),Ft),i,b(this,tt))}toPlainDate(){if(!Qt(this))throw new TypeError("invalid receiver");return ld(this)}toPlainYearMonth(){if(!Qt(this))throw new TypeError("invalid receiver");const t=b(this,tt);return Su(t,le(this,Qn(t,["monthCode","year"]),[]))}toPlainMonthDay(){if(!Qt(this))throw new TypeError("invalid receiver");const t=b(this,tt);return ad(t,le(this,Qn(t,["day","monthCode"]),[]))}toPlainTime(){if(!Qt(this))throw new TypeError("invalid receiver");return oE(this)}getISOFields(){if(!Qt(this))throw new TypeError("invalid receiver");return{calendar:b(this,tt),isoDay:b(this,It),isoHour:b(this,Jt),isoMicrosecond:b(this,ie),isoMillisecond:b(this,ne),isoMinute:b(this,te),isoMonth:b(this,Ct),isoNanosecond:b(this,re),isoSecond:b(this,ee),isoYear:b(this,Rt)}}getCalendar(){if(!Qt(this))throw new TypeError("invalid receiver");return Dd(b(this,tt))}static from(t,e){const i=_e(e);return Qt(t)?(qn(i),jr(b(t,Rt),b(t,Ct),b(t,It),b(t,Jt),b(t,te),b(t,ee),b(t,ne),b(t,ie),b(t,re),b(t,tt))):hu(t,i)}static compare(t,e){const i=hu(t),r=hu(e);for(const s of[Rt,Ct,It,Jt,te,ee,ne,ie,re]){const a=b(i,s),c=b(r,s);if(a!==c)return pu(a-c)}return 0}}ta(yg,"Temporal.PlainDateTime");class Vl{constructor(t=0,e=0,i=0,r=0,s=0,a=0,c=0,u=0,d=0,f=0){const g=t===void 0?0:fi(t),y=e===void 0?0:fi(e),v=i===void 0?0:fi(i),E=r===void 0?0:fi(r),x=s===void 0?0:fi(s),S=a===void 0?0:fi(a),R=c===void 0?0:fi(c),C=u===void 0?0:fi(u),P=d===void 0?0:fi(d),L=f===void 0?0:fi(f);u0(g,y,v,E,x,S,R,C,P,L),ea(this),se(this,sr,g),se(this,Ei,y),se(this,xr,v),se(this,or,E),se(this,ar,x),se(this,lr,S),se(this,cr,R),se(this,ur,C),se(this,hr,P),se(this,dr,L)}get years(){if(!Rn(this))throw new TypeError("invalid receiver");return b(this,sr)}get months(){if(!Rn(this))throw new TypeError("invalid receiver");return b(this,Ei)}get weeks(){if(!Rn(this))throw new TypeError("invalid receiver");return b(this,xr)}get days(){if(!Rn(this))throw new TypeError("invalid receiver");return b(this,or)}get hours(){if(!Rn(this))throw new TypeError("invalid receiver");return b(this,ar)}get minutes(){if(!Rn(this))throw new TypeError("invalid receiver");return b(this,lr)}get seconds(){if(!Rn(this))throw new TypeError("invalid receiver");return b(this,cr)}get milliseconds(){if(!Rn(this))throw new TypeError("invalid receiver");return b(this,ur)}get microseconds(){if(!Rn(this))throw new TypeError("invalid receiver");return b(this,hr)}get nanoseconds(){if(!Rn(this))throw new TypeError("invalid receiver");return b(this,dr)}get sign(){if(!Rn(this))throw new TypeError("invalid receiver");return jo(b(this,sr),b(this,Ei),b(this,xr),b(this,or),b(this,ar),b(this,lr),b(this,cr),b(this,ur),b(this,hr),b(this,dr))}get blank(){if(!Rn(this))throw new TypeError("invalid receiver");return jo(b(this,sr),b(this,Ei),b(this,xr),b(this,or),b(this,ar),b(this,lr),b(this,cr),b(this,ur),b(this,hr),b(this,dr))===0}with(t){if(!Rn(this))throw new TypeError("invalid receiver");const e=le(t,["days","hours","microseconds","milliseconds","minutes","months","nanoseconds","seconds","weeks","years"],"partial"),{years:i=b(this,sr),months:r=b(this,Ei),weeks:s=b(this,xr),days:a=b(this,or),hours:c=b(this,ar),minutes:u=b(this,lr),seconds:d=b(this,cr),milliseconds:f=b(this,ur),microseconds:g=b(this,hr),nanoseconds:y=b(this,dr)}=e;return new Vl(i,r,s,a,c,u,d,f,g,y)}negated(){if(!Rn(this))throw new TypeError("invalid receiver");return GM(this)}abs(){if(!Rn(this))throw new TypeError("invalid receiver");return new Vl(Math.abs(b(this,sr)),Math.abs(b(this,Ei)),Math.abs(b(this,xr)),Math.abs(b(this,or)),Math.abs(b(this,ar)),Math.abs(b(this,lr)),Math.abs(b(this,cr)),Math.abs(b(this,ur)),Math.abs(b(this,hr)),Math.abs(b(this,dr)))}add(t,e){if(!Rn(this))throw new TypeError("invalid receiver");return fC("add",this,t,e)}subtract(t,e){if(!Rn(this))throw new TypeError("invalid receiver");return fC("subtract",this,t,e)}round(t){if(!Rn(this))throw new TypeError("invalid receiver");if(t===void 0)throw new TypeError("options parameter is required");let e=b(this,sr),i=b(this,Ei),r=b(this,xr),s=b(this,or),a=b(this,ar),c=b(this,lr),u=b(this,cr),d=b(this,ur),f=b(this,hr),g=b(this,dr),y=LT(e,i,r,s,a,c,u,d,f,g);const v=typeof t=="string"?ud("smallestUnit",t):_e(t);let E=Yr(v,"largestUnit","datetime",void 0,["auto"]),x=xy(v);const S=Rd(v),R=ao(v,"halfExpand");let C=Yr(v,"smallestUnit","datetime",void 0),P=!0;C||(P=!1,C="nanosecond"),y=Eu(y,C);let L=!0;if(E||(L=!1,E=y),E==="auto"&&(E=y),!P&&!L)throw new RangeError("at least one of smallestUnit or largestUnit is required");if(Eu(E,C)!==E)throw new RangeError(`largestUnit ${E} cannot be smaller than smallestUnit ${C}`);const N={hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[C];return N!==void 0&&Cd(S,N,!1),{years:e,months:i,weeks:r,days:s}=Kp(e,i,r,s,E,x),{years:e,months:i,weeks:r,days:s,hours:a,minutes:c,seconds:u,milliseconds:d,microseconds:f,nanoseconds:g}=qa(e,i,r,s,a,c,u,d,f,g,S,C,R,x),{years:e,months:i,weeks:r,days:s,hours:a,minutes:c,seconds:u,milliseconds:d,microseconds:f,nanoseconds:g}=nO(e,i,r,s,a,c,u,d,f,g,S,C,R,x),{days:s,hours:a,minutes:c,seconds:u,milliseconds:d,microseconds:f,nanoseconds:g}=Ys(s,a,c,u,d,f,g,E,x),{years:e,months:i,weeks:r,days:s}=function(O,D,k,V,B,$){const z=vt("%Temporal.Duration%"),bt=jo(O,D,k,V,0,0,0,0,0,0);if(bt===0)return{years:O,months:D,weeks:k,days:V};const J=T.BigInt(bt);let X,lt,ht=T.BigInt(O),ot=T.BigInt(D),H=T.BigInt(k),rt=T.BigInt(V);$&&(lt=$e($),X=b(lt,tt));const wt=new z(bt),Tt=new z(0,bt),pt=new z(0,0,bt);switch(B){case"year":{if(!X)throw new RangeError("a starting point is required for years balancing");const xt=typeof X!="string"?Ie(X,"dateAdd"):void 0;let St,Xt,ce;for({relativeTo:St,days:Xt}=Wi(X,lt,wt,xt);T.greaterThanOrEqual(no(rt),T.BigInt(ln(Xt)));)rt=T.subtract(rt,T.BigInt(Xt)),ht=T.add(ht,J),lt=St,{relativeTo:St,days:Xt}=Wi(X,lt,wt,xt);for({relativeTo:St,days:ce}=Wi(X,lt,Tt,xt);T.greaterThanOrEqual(no(rt),T.BigInt(ln(ce)));)rt=T.subtract(rt,T.BigInt(ce)),ot=T.add(ot,J),lt=St,{relativeTo:St,days:ce}=Wi(X,lt,Tt,xt);St=Oi(X,lt,wt,void 0,xt);const Gt=typeof X!="string"?Ie(X,"dateUntil"):void 0,Wt=Zi(null);Wt.largestUnit="month";let Ye=Jl(X,lt,St,Wt,Gt),kn=b(Ye,Ei);for(;T.greaterThanOrEqual(no(ot),T.BigInt(ln(kn)));){ot=T.subtract(ot,T.BigInt(kn)),ht=T.add(ht,J),lt=St,St=Oi(X,lt,wt,void 0,xt);const ge=Zi(null);ge.largestUnit="month",Ye=Jl(X,lt,St,ge,Gt),kn=b(Ye,Ei)}break}case"month":{if(!X)throw new RangeError("a starting point is required for months balancing");const xt=typeof X!="string"?Ie(X,"dateAdd"):void 0;let St,Xt;for({relativeTo:St,days:Xt}=Wi(X,lt,Tt,xt);T.greaterThanOrEqual(no(rt),T.BigInt(ln(Xt)));)rt=T.subtract(rt,T.BigInt(Xt)),ot=T.add(ot,J),lt=St,{relativeTo:St,days:Xt}=Wi(X,lt,Tt,xt);break}case"week":{if(!X)throw new RangeError("a starting point is required for weeks balancing");const xt=typeof X!="string"?Ie(X,"dateAdd"):void 0;let St,Xt;for({relativeTo:St,days:Xt}=Wi(X,lt,pt,xt);T.greaterThanOrEqual(no(rt),T.BigInt(ln(Xt)));)rt=T.subtract(rt,T.BigInt(Xt)),H=T.add(H,J),lt=St,{relativeTo:St,days:Xt}=Wi(X,lt,pt,xt);break}}return{years:T.toNumber(ht),months:T.toNumber(ot),weeks:T.toNumber(H),days:T.toNumber(rt)}}(e,i,r,s,E,x),new Vl(e,i,r,s,a,c,u,d,f,g)}total(t){if(!Rn(this))throw new TypeError("invalid receiver");let e=b(this,sr),i=b(this,Ei),r=b(this,xr),s=b(this,or),a=b(this,ar),c=b(this,lr),u=b(this,cr),d=b(this,ur),f=b(this,hr),g=b(this,dr);if(t===void 0)throw new TypeError("options argument is required");const y=typeof t=="string"?ud("unit",t):_e(t),v=xy(y),E=Yr(y,"unit","datetime",wu);let x;({years:e,months:i,weeks:r,days:s}=Kp(e,i,r,s,E,v)),Ot(v)&&(x=eO(v,e,i,r,0));let S=YM(s,a,c,u,d,f,g,E,x);if(S==="positive overflow")return 1/0;if(S==="negative overflow")return-1/0;({days:s,hours:a,minutes:c,seconds:u,milliseconds:d,microseconds:f,nanoseconds:g}=S);const{total:R}=qa(e,i,r,s,a,c,u,d,f,g,1,E,"trunc",v);return R}toString(t){if(!Rn(this))throw new TypeError("invalid receiver");const e=_e(t),i=ag(e),r=ao(e,"trunc"),s=Yr(e,"smallestUnit","time",void 0);if(s==="hour"||s==="minute")throw new RangeError('smallestUnit must be a time unit other than "hours" or "minutes"');const{precision:a,unit:c,increment:u}=lg(s,i);return Yb(this,a,{unit:c,increment:u,roundingMode:r})}toJSON(){if(!Rn(this))throw new TypeError("invalid receiver");return Yb(this)}toLocaleString(t,e){if(!Rn(this))throw new TypeError("invalid receiver");return typeof Intl<"u"&&Intl.DurationFormat!==void 0?new Intl.DurationFormat(t,e).format(this):(console.warn("Temporal.Duration.prototype.toLocaleString() requires Intl.DurationFormat."),Yb(this))}valueOf(){throw new TypeError("use compare() to compare Temporal.Duration")}static from(t){return Rn(t)?new Vl(b(t,sr),b(t,Ei),b(t,xr),b(t,or),b(t,ar),b(t,lr),b(t,cr),b(t,ur),b(t,hr),b(t,dr)):qh(t)}static compare(t,e,i){const r=qh(t),s=qh(e),a=xy(_e(i)),c=b(r,sr),u=b(r,Ei),d=b(r,xr);let f=b(r,or);const g=b(r,ar),y=b(r,lr),v=b(r,cr),E=b(r,ur),x=b(r,hr);let S=b(r,dr);const R=b(s,sr),C=b(s,Ei),P=b(s,xr);let L=b(s,or);const N=b(s,ar),j=b(s,lr),O=b(s,cr),D=b(s,ur),k=b(s,hr);let V=b(s,dr);const B=oC(a,c,u,d,f),$=oC(a,R,C,P,L);c===0&&R===0&&u===0&&C===0&&d===0&&P===0||({days:f}=Kp(c,u,d,f,"day",a),{days:L}=Kp(R,C,P,L,"day",a));const z=cd(f,g,y,v,E,x,S,B),bt=cd(L,N,j,O,D,k,V,$);return pu(T.toNumber(T.subtract(z,bt)))}}ta(Vl,"Temporal.Duration");const xU=Object.create;class TE{constructor(t,e,i="iso8601",r=1972){NM(this,we(t),we(e),Gr(i),we(r))}get monthCode(){if(!di(this))throw new TypeError("invalid receiver");return ug(b(this,tt),this)}get day(){if(!di(this))throw new TypeError("invalid receiver");return hg(b(this,tt),this)}get calendarId(){if(!di(this))throw new TypeError("invalid receiver");return Pi(b(this,tt))}with(t,e){if(!di(this))throw new TypeError("invalid receiver");if(!un(t))throw new TypeError("invalid argument");Ad(t);const i=_e(e),r=b(this,tt),s=Qn(r,["day","month","monthCode","year"]);let a=le(this,s,[]);return a=xu(r,a,le(t,s,"partial")),a=le(a,s,[]),ad(r,a,i)}equals(t){if(!di(this))throw new TypeError("invalid receiver");const e=QR(t);for(const i of[Ct,It,Rt])if(b(this,i)!==b(e,i))return!1;return fg(b(this,tt),b(e,tt))}toString(t){if(!di(this))throw new TypeError("invalid receiver");return eC(this,og(_e(t)))}toJSON(){if(!di(this))throw new TypeError("invalid receiver");return eC(this)}toLocaleString(t,e){if(!di(this))throw new TypeError("invalid receiver");return new gc(t,e).format(this)}valueOf(){throw new TypeError("use equals() to compare Temporal.PlainMonthDay")}toPlainDate(t){if(!di(this))throw new TypeError("invalid receiver");if(!un(t))throw new TypeError("argument should be an object");const e=b(this,tt),i=Qn(e,["day","monthCode"]),r=le(this,i,[]),s=Qn(e,["year"]);let a=xu(e,r,le(t,s,[]));a=le(a,[...new Set([...i,...s])],[]);const c=xU(null);return c.overflow="reject",Ha(e,a,c)}getISOFields(){if(!di(this))throw new TypeError("invalid receiver");return{calendar:b(this,tt),isoDay:b(this,It),isoMonth:b(this,Ct),isoYear:b(this,Rt)}}getCalendar(){if(!di(this))throw new TypeError("invalid receiver");return Dd(b(this,tt))}static from(t,e){const i=_e(e);return di(t)?(qn(i),Im(b(t,Ct),b(t,It),b(t,tt),b(t,Rt))):QR(t,i)}}ta(TE,"Temporal.PlainMonthDay");const wE=()=>new(vt("%Temporal.Instant%"))(pE()),bC=(n,t=Ml())=>{const e=Qi(t),i=Gr(n);return rs(e,wE(),i)},Xb=(n=Ml())=>rs(Qi(n),wE(),"iso8601"),TC=(n,t=Ml())=>{const e=Qi(t),i=Gr(n);return Mi(pE(),e,i)},TO={instant:wE,plainDateTime:bC,plainDateTimeISO:Xb,plainDate:(n,t=Ml())=>ld(bC(n,t)),plainDateISO:(n=Ml())=>ld(Xb(n)),plainTimeISO:(n=Ml())=>oE(Xb(n)),timeZoneId:()=>Ml(),zonedDateTime:TC,zonedDateTimeISO:(n=Ml())=>TC("iso8601",n),[Symbol.toStringTag]:"Temporal.Now"};Object.defineProperty(TO,Symbol.toStringTag,{value:"Temporal.Now",writable:!1,enumerable:!1,configurable:!0});const SU=Object.assign;function wC(n,t,e){let i=b(n,Jt),r=b(n,te),s=b(n,ee),a=b(n,ne),c=b(n,ie),u=b(n,re);if(e){const{unit:d,increment:f,roundingMode:g}=e;({hour:i,minute:r,second:s,millisecond:a,microsecond:c,nanosecond:u}=gE(i,r,s,a,c,u,f,d,g))}return`${pn(i)}:${pn(r)}${a_(s,a,c,u,t)}`}class yu{constructor(t=0,e=0,i=0,r=0,s=0,a=0){const c=t===void 0?0:we(t),u=e===void 0?0:we(e),d=i===void 0?0:we(i),f=r===void 0?0:we(r),g=s===void 0?0:we(s),y=a===void 0?0:we(a);u_(c,u,d,f,g,y),ea(this),se(this,Jt,c),se(this,te,u),se(this,ee,d),se(this,ne,f),se(this,ie,g),se(this,re,y)}get hour(){if(!Cn(this))throw new TypeError("invalid receiver");return b(this,Jt)}get minute(){if(!Cn(this))throw new TypeError("invalid receiver");return b(this,te)}get second(){if(!Cn(this))throw new TypeError("invalid receiver");return b(this,ee)}get millisecond(){if(!Cn(this))throw new TypeError("invalid receiver");return b(this,ne)}get microsecond(){if(!Cn(this))throw new TypeError("invalid receiver");return b(this,ie)}get nanosecond(){if(!Cn(this))throw new TypeError("invalid receiver");return b(this,re)}with(t,e){if(!Cn(this))throw new TypeError("invalid receiver");if(!un(t))throw new TypeError("invalid argument");Ad(t);const i=qn(_e(e)),r=o0(t,"partial"),s=o0(this);let{hour:a,minute:c,second:u,millisecond:d,microsecond:f,nanosecond:g}=SU(s,r);return{hour:a,minute:c,second:u,millisecond:d,microsecond:f,nanosecond:g}=Q0(a,c,u,d,f,g,i),new yu(a,c,u,d,f,g)}add(t){if(!Cn(this))throw new TypeError("invalid receiver");return pC("add",this,t)}subtract(t){if(!Cn(this))throw new TypeError("invalid receiver");return pC("subtract",this,t)}until(t,e){if(!Cn(this))throw new TypeError("invalid receiver");return uC("until",this,t,e)}since(t,e){if(!Cn(this))throw new TypeError("invalid receiver");return uC("since",this,t,e)}round(t){if(!Cn(this))throw new TypeError("invalid receiver");if(t===void 0)throw new TypeError("options parameter is required");const e=typeof t=="string"?ud("smallestUnit",t):_e(t),i=Rd(e),r=ao(e,"halfExpand"),s=Yr(e,"smallestUnit","time",wu);Cd(i,{hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[s],!1);let a=b(this,Jt),c=b(this,te),u=b(this,ee),d=b(this,ne),f=b(this,ie),g=b(this,re);return{hour:a,minute:c,second:u,millisecond:d,microsecond:f,nanosecond:g}=gE(a,c,u,d,f,g,i,s,r),new yu(a,c,u,d,f,g)}equals(t){if(!Cn(this))throw new TypeError("invalid receiver");const e=ka(t);for(const i of[Jt,te,ee,ne,ie,re])if(b(this,i)!==b(e,i))return!1;return!0}toString(t){if(!Cn(this))throw new TypeError("invalid receiver");const e=_e(t),i=ag(e),r=ao(e,"trunc"),s=Yr(e,"smallestUnit","time",void 0);if(s==="hour")throw new RangeError('smallestUnit must be a time unit other than "hour"');const{precision:a,unit:c,increment:u}=lg(s,i);return wC(this,a,{unit:c,increment:u,roundingMode:r})}toJSON(){if(!Cn(this))throw new TypeError("invalid receiver");return wC(this,"auto")}toLocaleString(t,e){if(!Cn(this))throw new TypeError("invalid receiver");return new gc(t,e).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainTime")}toPlainDateTime(t){if(!Cn(this))throw new TypeError("invalid receiver");const e=$e(t),i=b(e,Rt),r=b(e,Ct),s=b(e,It),a=b(e,tt);return jr(i,r,s,b(this,Jt),b(this,te),b(this,ee),b(this,ne),b(this,ie),b(this,re),a)}toZonedDateTime(t){if(!Cn(this))throw new TypeError("invalid receiver");if(!un(t))throw new TypeError("invalid argument");const e=t.plainDate;if(e===void 0)throw new TypeError("missing date property");const i=$e(e),r=t.timeZone;if(r===void 0)throw new TypeError("missing timeZone property");const s=Qi(r),a=b(i,Rt),c=b(i,Ct),u=b(i,It),d=b(i,tt),f=b(this,Jt),g=b(this,te),y=b(this,ee),v=b(this,ne),E=b(this,ie),x=b(this,re);return Mi(b(gr(s,new(vt("%Temporal.PlainDateTime%"))(a,c,u,f,g,y,v,E,x,d),"compatible"),Ft),s,d)}getISOFields(){if(!Cn(this))throw new TypeError("invalid receiver");return{isoHour:b(this,Jt),isoMicrosecond:b(this,ie),isoMillisecond:b(this,ne),isoMinute:b(this,te),isoNanosecond:b(this,re),isoSecond:b(this,ee)}}static from(t,e){const i=qn(_e(e));return Cn(t)?new yu(b(t,Jt),b(t,te),b(t,ee),b(t,ne),b(t,ie),b(t,re)):ka(t,i)}static compare(t,e){const i=ka(t),r=ka(e);for(const s of[Jt,te,ee,ne,ie,re]){const a=b(i,s),c=b(r,s);if(a!==c)return pu(a-c)}return 0}}ta(yu,"Temporal.PlainTime");class dm{constructor(t){if(arguments.length<1)throw new RangeError("missing argument: identifier is required");const e=aE(t);ea(this),se(this,Po,e)}get id(){if(!fs(this))throw new TypeError("invalid receiver");return b(this,Po)}getOffsetNanosecondsFor(t){if(!fs(this))throw new TypeError("invalid receiver");const e=io(t),i=b(this,Po);return Uh(i)?tc(i):Fa(i,b(e,Ft))}getOffsetStringFor(t){if(!fs(this))throw new TypeError("invalid receiver");return VT(this,io(t))}getPlainDateTimeFor(t,e="iso8601"){if(!fs(this))throw new TypeError("invalid receiver");return rs(this,io(t),Gr(e))}getInstantFor(t,e){if(!fs(this))throw new TypeError("invalid receiver");return gr(this,hu(t),od(_e(e)))}getPossibleInstantsFor(t){if(!fs(this))throw new TypeError("invalid receiver");const e=hu(t),i=vt("%Temporal.Instant%"),r=b(this,Po);if(Uh(r)){const a=ec(b(e,Rt),b(e,Ct),b(e,It),b(e,Jt),b(e,te),b(e,ee),b(e,ne),b(e,ie),b(e,re));if(a===null)throw new RangeError("DateTime outside of supported range");const c=tc(r);return[new i(T.subtract(a,T.BigInt(c)))]}return function(c,u,d,f,g,y,v,E,x,S){const R=ec(u,d,f,g,y,v,E,x,S);if(R===null)throw new RangeError("DateTime outside of supported range");let C=T.subtract(R,Ko);T.lessThan(C,Dm)&&(C=R);let P=T.add(R,Ko);T.greaterThan(P,rd)&&(P=R);const L=Fa(c,C),N=Fa(c,P);return(L===N?[L]:[L,N]).map(j=>{const O=T.subtract(R,T.BigInt(j)),D=$M(c,O);if(u===D.year&&d===D.month&&f===D.day&&g===D.hour&&y===D.minute&&v===D.second&&E===D.millisecond&&x===D.microsecond&&S===D.nanosecond)return O}).filter(j=>j!==void 0)}(r,b(e,Rt),b(e,Ct),b(e,It),b(e,Jt),b(e,te),b(e,ee),b(e,ne),b(e,ie),b(e,re)).map(a=>new i(a))}getNextTransition(t){if(!fs(this))throw new TypeError("invalid receiver");const e=io(t),i=b(this,Po);if(Uh(i)||i==="UTC")return null;let r=b(e,Ft);const s=vt("%Temporal.Instant%");return r=qM(i,r),r===null?null:new s(r)}getPreviousTransition(t){if(!fs(this))throw new TypeError("invalid receiver");const e=io(t),i=b(this,Po);if(Uh(i)||i==="UTC")return null;let r=b(e,Ft);const s=vt("%Temporal.Instant%");return r=UT(i,r),r===null?null:new s(r)}toString(){if(!fs(this))throw new TypeError("invalid receiver");return b(this,Po)}toJSON(){if(!fs(this))throw new TypeError("invalid receiver");return b(this,Po)}static from(t){return UM(Qi(t))}}ta(dm,"Temporal.TimeZone"),bn("Temporal.TimeZone.prototype.getOffsetNanosecondsFor",dm.prototype.getOffsetNanosecondsFor),bn("Temporal.TimeZone.prototype.getPossibleInstantsFor",dm.prototype.getPossibleInstantsFor);const AU=Object.create;class EE{constructor(t,e,i="iso8601",r=1){PM(this,we(t),we(e),Gr(i),we(r))}get year(){if(!Se(this))throw new TypeError("invalid receiver");return Z0(b(this,tt),this)}get month(){if(!Se(this))throw new TypeError("invalid receiver");return J0(b(this,tt),this)}get monthCode(){if(!Se(this))throw new TypeError("invalid receiver");return ug(b(this,tt),this)}get calendarId(){if(!Se(this))throw new TypeError("invalid receiver");return Pi(b(this,tt))}get era(){if(!Se(this))throw new TypeError("invalid receiver");return t_(b(this,tt),this)}get eraYear(){if(!Se(this))throw new TypeError("invalid receiver");return e_(b(this,tt),this)}get daysInMonth(){if(!Se(this))throw new TypeError("invalid receiver");return n_(b(this,tt),this)}get daysInYear(){if(!Se(this))throw new TypeError("invalid receiver");return i_(b(this,tt),this)}get monthsInYear(){if(!Se(this))throw new TypeError("invalid receiver");return r_(b(this,tt),this)}get inLeapYear(){if(!Se(this))throw new TypeError("invalid receiver");return s_(b(this,tt),this)}with(t,e){if(!Se(this))throw new TypeError("invalid receiver");if(!un(t))throw new TypeError("invalid argument");Ad(t);const i=_e(e),r=b(this,tt),s=Qn(r,["month","monthCode","year"]);let a=le(this,s,[]);return a=xu(r,a,le(t,s,"partial")),a=le(a,s,[]),Su(r,a,i)}add(t,e){if(!Se(this))throw new TypeError("invalid receiver");return yC("add",this,t,e)}subtract(t,e){if(!Se(this))throw new TypeError("invalid receiver");return yC("subtract",this,t,e)}until(t,e){if(!Se(this))throw new TypeError("invalid receiver");return hC("until",this,t,e)}since(t,e){if(!Se(this))throw new TypeError("invalid receiver");return hC("since",this,t,e)}equals(t){if(!Se(this))throw new TypeError("invalid receiver");const e=Zf(t);for(const i of[Rt,Ct,It])if(b(this,i)!==b(e,i))return!1;return fg(b(this,tt),b(e,tt))}toString(t){if(!Se(this))throw new TypeError("invalid receiver");return nC(this,og(_e(t)))}toJSON(){if(!Se(this))throw new TypeError("invalid receiver");return nC(this)}toLocaleString(t,e){if(!Se(this))throw new TypeError("invalid receiver");return new gc(t,e).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainYearMonth")}toPlainDate(t){if(!Se(this))throw new TypeError("invalid receiver");if(!un(t))throw new TypeError("argument should be an object");const e=b(this,tt),i=Qn(e,["monthCode","year"]),r=le(this,i,[]),s=Qn(e,["day"]);let a=xu(e,r,le(t,s,[]));a=le(a,[...new Set([...i,...s])],[]);const c=AU(null);return c.overflow="reject",Ha(e,a,c)}getISOFields(){if(!Se(this))throw new TypeError("invalid receiver");return{calendar:b(this,tt),isoDay:b(this,It),isoMonth:b(this,Ct),isoYear:b(this,Rt)}}getCalendar(){if(!Se(this))throw new TypeError("invalid receiver");return Dd(b(this,tt))}static from(t,e){const i=_e(e);return Se(t)?(qn(i),Mm(b(t,Rt),b(t,Ct),b(t,tt),b(t,It))):Zf(t,i)}static compare(t,e){const i=Zf(t),r=Zf(e);return Ll(b(i,Rt),b(i,Ct),b(i,It),b(r,Rt),b(r,Ct),b(r,It))}}ta(EE,"Temporal.PlainYearMonth");const RU=gc.prototype.resolvedOptions,CU=Object.create;class xE{constructor(t,e,i="iso8601"){if(arguments.length<1)throw new TypeError("missing argument: epochNanoseconds is required");LM(this,um(t),Qi(e),Gr(i))}get calendarId(){if(!Ot(this))throw new TypeError("invalid receiver");return Pi(b(this,tt))}get timeZoneId(){if(!Ot(this))throw new TypeError("invalid receiver");return Om(b(this,Ve))}get year(){if(!Ot(this))throw new TypeError("invalid receiver");return Z0(b(this,tt),nn(this))}get month(){if(!Ot(this))throw new TypeError("invalid receiver");return J0(b(this,tt),nn(this))}get monthCode(){if(!Ot(this))throw new TypeError("invalid receiver");return ug(b(this,tt),nn(this))}get day(){if(!Ot(this))throw new TypeError("invalid receiver");return hg(b(this,tt),nn(this))}get hour(){if(!Ot(this))throw new TypeError("invalid receiver");return b(nn(this),Jt)}get minute(){if(!Ot(this))throw new TypeError("invalid receiver");return b(nn(this),te)}get second(){if(!Ot(this))throw new TypeError("invalid receiver");return b(nn(this),ee)}get millisecond(){if(!Ot(this))throw new TypeError("invalid receiver");return b(nn(this),ne)}get microsecond(){if(!Ot(this))throw new TypeError("invalid receiver");return b(nn(this),ie)}get nanosecond(){if(!Ot(this))throw new TypeError("invalid receiver");return b(nn(this),re)}get era(){if(!Ot(this))throw new TypeError("invalid receiver");return t_(b(this,tt),nn(this))}get eraYear(){if(!Ot(this))throw new TypeError("invalid receiver");return e_(b(this,tt),nn(this))}get epochSeconds(){if(!Ot(this))throw new TypeError("invalid receiver");const t=b(this,Ft);return T.toNumber(Yh(t,Bo))}get epochMilliseconds(){if(!Ot(this))throw new TypeError("invalid receiver");const t=b(this,Ft);return T.toNumber(Yh(t,_s))}get epochMicroseconds(){if(!Ot(this))throw new TypeError("invalid receiver");return d0(Yh(b(this,Ft),Ae))}get epochNanoseconds(){if(!Ot(this))throw new TypeError("invalid receiver");return d0(b(this,Ft))}get dayOfWeek(){if(!Ot(this))throw new TypeError("invalid receiver");return eE(b(this,tt),nn(this))}get dayOfYear(){if(!Ot(this))throw new TypeError("invalid receiver");return nE(b(this,tt),nn(this))}get weekOfYear(){if(!Ot(this))throw new TypeError("invalid receiver");return iE(b(this,tt),nn(this))}get yearOfWeek(){if(!Ot(this))throw new TypeError("invalid receiver");return rE(b(this,tt),nn(this))}get hoursInDay(){if(!Ot(this))throw new TypeError("invalid receiver");const t=nn(this),e=vt("%Temporal.PlainDateTime%"),i=b(t,Rt),r=b(t,Ct),s=b(t,It),a=new e(i,r,s,0,0,0,0,0,0),c=gu(i,r,s,0,0,0,1,"reject"),u=new e(c.year,c.month,c.day,0,0,0,0,0,0),d=b(this,Ve),f=b(gr(d,a,"compatible"),Ft),g=b(gr(d,u,"compatible"),Ft);return ko(T.subtract(g,f),RM)}get daysInWeek(){if(!Ot(this))throw new TypeError("invalid receiver");return sE(b(this,tt),nn(this))}get daysInMonth(){if(!Ot(this))throw new TypeError("invalid receiver");return n_(b(this,tt),nn(this))}get daysInYear(){if(!Ot(this))throw new TypeError("invalid receiver");return i_(b(this,tt),nn(this))}get monthsInYear(){if(!Ot(this))throw new TypeError("invalid receiver");return r_(b(this,tt),nn(this))}get inLeapYear(){if(!Ot(this))throw new TypeError("invalid receiver");return s_(b(this,tt),nn(this))}get offset(){if(!Ot(this))throw new TypeError("invalid receiver");return VT(b(this,Ve),b(this,Ki))}get offsetNanoseconds(){if(!Ot(this))throw new TypeError("invalid receiver");return lo(b(this,Ve),b(this,Ki))}with(t,e){if(!Ot(this))throw new TypeError("invalid receiver");if(!un(t))throw new TypeError("invalid zoned-date-time-like");Ad(t);const i=_e(e),r=b(this,tt);let s=Qn(r,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]);s.push("offset");let a=le(this,s,["offset"]);a=xu(r,a,le(t,s,"partial")),a=le(a,s,["offset"]);const c=od(i),u=s0(i,"prefer");let{year:d,month:f,day:g,hour:y,minute:v,second:E,millisecond:x,microsecond:S,nanosecond:R}=cg(r,a,i);const C=tc(a.offset),P=b(this,Ve);return Mi(a0(d,f,g,y,v,E,x,S,R,"option",C,P,c,u,!1),P,r)}withPlainDate(t){if(!Ot(this))throw new TypeError("invalid receiver");const e=$e(t),i=b(e,Rt),r=b(e,Ct),s=b(e,It);let a=b(e,tt);const c=nn(this),u=b(c,Jt),d=b(c,te),f=b(c,ee),g=b(c,ne),y=b(c,ie),v=b(c,re);a=VM(b(this,tt),a);const E=b(this,Ve);return Mi(b(gr(E,new(vt("%Temporal.PlainDateTime%"))(i,r,s,u,d,f,g,y,v,a),"compatible"),Ft),E,a)}withPlainTime(t){if(!Ot(this))throw new TypeError("invalid receiver");const e=vt("%Temporal.PlainTime%"),i=t===void 0?new e:ka(t),r=nn(this),s=b(r,Rt),a=b(r,Ct),c=b(r,It),u=b(this,tt),d=b(i,Jt),f=b(i,te),g=b(i,ee),y=b(i,ne),v=b(i,ie),E=b(i,re),x=b(this,Ve);return Mi(b(gr(x,new(vt("%Temporal.PlainDateTime%"))(s,a,c,d,f,g,y,v,E,u),"compatible"),Ft),x,u)}withTimeZone(t){if(!Ot(this))throw new TypeError("invalid receiver");const e=Qi(t);return Mi(b(this,Ft),e,b(this,tt))}withCalendar(t){if(!Ot(this))throw new TypeError("invalid receiver");const e=Gr(t);return Mi(b(this,Ft),b(this,Ve),e)}add(t,e){if(!Ot(this))throw new TypeError("invalid receiver");return _C("add",this,t,e)}subtract(t,e){if(!Ot(this))throw new TypeError("invalid receiver");return _C("subtract",this,t,e)}until(t,e){if(!Ot(this))throw new TypeError("invalid receiver");return dC("until",this,t,e)}since(t,e){if(!Ot(this))throw new TypeError("invalid receiver");return dC("since",this,t,e)}round(t){if(!Ot(this))throw new TypeError("invalid receiver");if(t===void 0)throw new TypeError("options parameter is required");const e=typeof t=="string"?ud("smallestUnit",t):_e(t),i=Rd(e),r=ao(e,"halfExpand"),s=Yr(e,"smallestUnit","time",wu,["day"]),a={day:1,hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[s];Cd(i,a,a===1);const c=nn(this);let u=b(c,Rt),d=b(c,Ct),f=b(c,It),g=b(c,Jt),y=b(c,te),v=b(c,ee),E=b(c,ne),x=b(c,ie),S=b(c,re);const R=vt("%Temporal.PlainDateTime%"),C=b(this,Ve),P=b(this,tt),L=gr(C,new R(b(c,Rt),b(c,Ct),b(c,It),0,0,0,0,0,0),"compatible"),N=bs(L,C,P,0,0,0,1,0,0,0,0,0,0),j=T.subtract(N,T.BigInt(b(L,Ft)));if(T.lessThanOrEqual(j,Mn))throw new RangeError("cannot round a ZonedDateTime in a calendar with zero or negative length days");return{year:u,month:d,day:f,hour:g,minute:y,second:v,millisecond:E,microsecond:x,nanosecond:S}=mE(u,d,f,g,y,v,E,x,S,i,s,r,T.toNumber(j)),Mi(a0(u,d,f,g,y,v,E,x,S,"option",lo(C,b(this,Ki)),C,"compatible","prefer",!1),C,b(this,tt))}equals(t){if(!Ot(this))throw new TypeError("invalid receiver");const e=Jf(t),i=b(this,Ft),r=b(e,Ft);return!!T.equal(T.BigInt(i),T.BigInt(r))&&!!zM(b(this,Ve),b(e,Ve))&&fg(b(this,tt),b(e,tt))}toString(t){if(!Ot(this))throw new TypeError("invalid receiver");const e=_e(t),i=og(e),r=ag(e),s=function(v){return ic(v,"offset",["auto","never"],"auto")}(e),a=ao(e,"trunc"),c=Yr(e,"smallestUnit","time",void 0);if(c==="hour")throw new RangeError('smallestUnit must be a time unit other than "hour"');const u=function(v){return ic(v,"timeZoneName",["auto","never","critical"],"auto")}(e),{precision:d,unit:f,increment:g}=lg(c,r);return iC(this,d,i,u,s,{unit:f,increment:g,roundingMode:a})}toLocaleString(t,e){if(!Ot(this))throw new TypeError("invalid receiver");const i=_e(e),r=CU(null);if(Hh(r,i,["timeZone"]),i.timeZone!==void 0)throw new TypeError("ZonedDateTime toLocaleString does not accept a timeZone option");r.year===void 0&&r.month===void 0&&r.day===void 0&&r.weekday===void 0&&r.dateStyle===void 0&&r.hour===void 0&&r.minute===void 0&&r.second===void 0&&r.timeStyle===void 0&&r.dayPeriod===void 0&&r.timeZoneName===void 0&&(r.timeZoneName="short");let s=Om(b(this,Ve));if(Uh(s))throw new RangeError("toLocaleString does not support offset string time zones");s=aE(s),r.timeZone=s;const a=new gc(t,r),c=kt(RU,a,[]).calendar,u=Pi(b(this,tt));if(u!=="iso8601"&&c!=="iso8601"&&c!==u)throw new RangeError(`cannot format ZonedDateTime with calendar ${u} in locale with calendar ${c}`);return a.format(b(this,Ki))}toJSON(){if(!Ot(this))throw new TypeError("invalid receiver");return iC(this,"auto")}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.ZonedDateTime")}startOfDay(){if(!Ot(this))throw new TypeError("invalid receiver");const t=nn(this),e=vt("%Temporal.PlainDateTime%"),i=b(this,tt),r=new e(b(t,Rt),b(t,Ct),b(t,It),0,0,0,0,0,0,i),s=b(this,Ve);return Mi(b(gr(s,r,"compatible"),Ft),s,i)}toInstant(){if(!Ot(this))throw new TypeError("invalid receiver");return new(vt("%Temporal.Instant%"))(b(this,Ft))}toPlainDate(){if(!Ot(this))throw new TypeError("invalid receiver");return ld(nn(this))}toPlainTime(){if(!Ot(this))throw new TypeError("invalid receiver");return oE(nn(this))}toPlainDateTime(){if(!Ot(this))throw new TypeError("invalid receiver");return nn(this)}toPlainYearMonth(){if(!Ot(this))throw new TypeError("invalid receiver");const t=b(this,tt);return Su(t,le(this,Qn(t,["monthCode","year"]),[]))}toPlainMonthDay(){if(!Ot(this))throw new TypeError("invalid receiver");const t=b(this,tt);return ad(t,le(this,Qn(t,["day","monthCode"]),[]))}getISOFields(){if(!Ot(this))throw new TypeError("invalid receiver");const t=nn(this),e=b(this,Ve);return{calendar:b(this,tt),isoDay:b(t,It),isoHour:b(t,Jt),isoMicrosecond:b(t,ie),isoMillisecond:b(t,ne),isoMinute:b(t,te),isoMonth:b(t,Ct),isoNanosecond:b(t,re),isoSecond:b(t,ee),isoYear:b(t,Rt),offset:VT(e,b(this,Ki)),timeZone:e}}getCalendar(){if(!Ot(this))throw new TypeError("invalid receiver");return Dd(b(this,tt))}getTimeZone(){if(!Ot(this))throw new TypeError("invalid receiver");return UM(b(this,Ve))}static from(t,e){const i=_e(e);return Ot(t)?(od(i),s0(i,"reject"),qn(i),Mi(b(t,Ft),b(t,Ve),b(t,tt))):Jf(t,i)}static compare(t,e){const i=Jf(t),r=Jf(e),s=b(i,Ft),a=b(r,Ft);return T.lessThan(T.BigInt(s),T.BigInt(a))?-1:T.greaterThan(T.BigInt(s),T.BigInt(a))?1:0}}function nn(n){return rs(b(n,Ve),b(n,Ki),b(n,tt))}ta(xE,"Temporal.ZonedDateTime");var Rh=Object.freeze({__proto__:null,Calendar:An,Duration:Vl,Instant:eo,Now:TO,PlainDate:pg,PlainDateTime:yg,PlainMonthDay:TE,PlainTime:yu,PlainYearMonth:EE,TimeZone:dm,ZonedDateTime:xE});const DU=[eo,An,pg,yg,Vl,TE,yu,dm,EE,xE];for(const n of DU){const t=Object.getOwnPropertyDescriptor(n,"prototype");(t.configurable||t.enumerable||t.writable)&&(t.configurable=!1,t.enumerable=!1,t.writable=!1,Object.defineProperty(n,"prototype",t))}const IU=()=>{};var EC={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wO=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?t[e++]=r:r<2048?(t[e++]=r>>6|192,t[e++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),t[e++]=r>>18|240,t[e++]=r>>12&63|128,t[e++]=r>>6&63|128,t[e++]=r&63|128):(t[e++]=r>>12|224,t[e++]=r>>6&63|128,t[e++]=r&63|128)}return t},MU=function(n){const t=[];let e=0,i=0;for(;e<n.length;){const r=n[e++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=n[e++];t[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=n[e++],a=n[e++],c=n[e++],u=((r&7)<<18|(s&63)<<12|(a&63)<<6|c&63)-65536;t[i++]=String.fromCharCode(55296+(u>>10)),t[i++]=String.fromCharCode(56320+(u&1023))}else{const s=n[e++],a=n[e++];t[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|a&63)}}return t.join("")},EO={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const s=n[r],a=r+1<n.length,c=a?n[r+1]:0,u=r+2<n.length,d=u?n[r+2]:0,f=s>>2,g=(s&3)<<4|c>>4;let y=(c&15)<<2|d>>6,v=d&63;u||(v=64,a||(y=64)),i.push(e[f],e[g],e[y],e[v])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(wO(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):MU(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const s=e[n.charAt(r++)],c=r<n.length?e[n.charAt(r)]:0;++r;const d=r<n.length?e[n.charAt(r)]:64;++r;const g=r<n.length?e[n.charAt(r)]:64;if(++r,s==null||c==null||d==null||g==null)throw new OU;const y=s<<2|c>>4;if(i.push(y),d!==64){const v=c<<4&240|d>>2;if(i.push(v),g!==64){const E=d<<6&192|g;i.push(E)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class OU extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const kU=function(n){const t=wO(n);return EO.encodeByteArray(t,!0)},f0=function(n){return kU(n).replace(/\./g,"")},xO=function(n){try{return EO.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NU(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PU=()=>NU().__FIREBASE_DEFAULTS__,LU=()=>{if(typeof process>"u"||typeof EC>"u")return;const n=EC.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},VU=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&xO(n[1]);return t&&JSON.parse(t)},h_=()=>{try{return IU()||PU()||LU()||VU()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},SO=n=>{var t,e;return(e=(t=h_())===null||t===void 0?void 0:t.emulatorHosts)===null||e===void 0?void 0:e[n]},UU=n=>{const t=SO(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),i]:[t.substring(0,e),i]},AO=()=>{var n;return(n=h_())===null||n===void 0?void 0:n.config},RO=n=>{var t;return(t=h_())===null||t===void 0?void 0:t[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zU{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FU(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},i=t||"demo-project",r=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[f0(JSON.stringify(e)),f0(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function BU(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Mr())}function jU(){var n;const t=(n=h_())===null||n===void 0?void 0:n.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $U(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function HU(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function qU(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function YU(){const n=Mr();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function GU(){return!jU()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function WU(){try{return typeof indexedDB=="object"}catch{return!1}}function KU(){return new Promise((n,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{e=!1},r.onerror=()=>{var s;t(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XU="FirebaseError";class tl extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name=XU,Object.setPrototypeOf(this,tl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_g.prototype.create)}}class _g{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},r=`${this.service}/${t}`,s=this.errors[t],a=s?QU(s,i):"Error",c=`${this.serviceName}: ${a} (${r}).`;return new tl(r,c,i)}}function QU(n,t){return n.replace(ZU,(e,i)=>{const r=t[i];return r!=null?String(r):`<${i}?>`})}const ZU=/\{\$([^}]+)}/g;function JU(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function Ru(n,t){if(n===t)return!0;const e=Object.keys(n),i=Object.keys(t);for(const r of e){if(!i.includes(r))return!1;const s=n[r],a=t[r];if(xC(s)&&xC(a)){if(!Ru(s,a))return!1}else if(s!==a)return!1}for(const r of i)if(!e.includes(r))return!1;return!0}function xC(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vg(n){const t=[];for(const[e,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function tz(n,t){const e=new ez(n,t);return e.subscribe.bind(e)}class ez{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,i){let r;if(t===void 0&&e===void 0&&i===void 0)throw new Error("Missing Observer.");nz(t,["next","error","complete"])?r=t:r={next:t,error:e,complete:i},r.next===void 0&&(r.next=Qb),r.error===void 0&&(r.error=Qb),r.complete===void 0&&(r.complete=Qb);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function nz(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function Qb(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Or(n){return n&&n._delegate?n._delegate:n}class Cu{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iu="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iz{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const i=new zU;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:e});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),r=(e=t==null?void 0:t.optional)!==null&&e!==void 0?e:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(sz(t))try{this.getOrInitializeService({instanceIdentifier:iu})}catch{}for(const[e,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(t=iu){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=iu){return this.instances.has(t)}getOptions(t=iu){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[s,a]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(s);i===c&&a.resolve(r)}return r}onInit(t,e){var i;const r=this.normalizeInstanceIdentifier(e),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(t),this.onInitCallbacks.set(r,s);const a=this.instances.get(r);return a&&t(a,r),()=>{s.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const r of i)try{r(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:rz(t),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=iu){return this.component?this.component.multipleInstances?t:iu:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function rz(n){return n===iu?void 0:n}function sz(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oz{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new iz(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Me||(Me={}));const az={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},lz=Me.INFO,cz={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},uz=(n,t,...e)=>{if(t<n.logLevel)return;const i=new Date().toISOString(),r=cz[t];if(r)console[r](`[${i}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class SE{constructor(t){this.name=t,this._logLevel=lz,this._logHandler=uz,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Me))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?az[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...t),this._logHandler(this,Me.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...t),this._logHandler(this,Me.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...t),this._logHandler(this,Me.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...t),this._logHandler(this,Me.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...t),this._logHandler(this,Me.ERROR,...t)}}const hz=(n,t)=>t.some(e=>n instanceof e);let SC,AC;function dz(){return SC||(SC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function fz(){return AC||(AC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const CO=new WeakMap,HT=new WeakMap,DO=new WeakMap,Zb=new WeakMap,AE=new WeakMap;function mz(n){const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("success",s),n.removeEventListener("error",a)},s=()=>{e(Hl(n.result)),r()},a=()=>{i(n.error),r()};n.addEventListener("success",s),n.addEventListener("error",a)});return t.then(e=>{e instanceof IDBCursor&&CO.set(e,n)}).catch(()=>{}),AE.set(t,n),t}function gz(n){if(HT.has(n))return;const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",a),n.removeEventListener("abort",a)},s=()=>{e(),r()},a=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",s),n.addEventListener("error",a),n.addEventListener("abort",a)});HT.set(n,t)}let qT={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return HT.get(n);if(t==="objectStoreNames")return n.objectStoreNames||DO.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Hl(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function pz(n){qT=n(qT)}function yz(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const i=n.call(Jb(this),t,...e);return DO.set(i,t.sort?t.sort():[t]),Hl(i)}:fz().includes(n)?function(...t){return n.apply(Jb(this),t),Hl(CO.get(this))}:function(...t){return Hl(n.apply(Jb(this),t))}}function _z(n){return typeof n=="function"?yz(n):(n instanceof IDBTransaction&&gz(n),hz(n,dz())?new Proxy(n,qT):n)}function Hl(n){if(n instanceof IDBRequest)return mz(n);if(Zb.has(n))return Zb.get(n);const t=_z(n);return t!==n&&(Zb.set(n,t),AE.set(t,n)),t}const Jb=n=>AE.get(n);function vz(n,t,{blocked:e,upgrade:i,blocking:r,terminated:s}={}){const a=indexedDB.open(n,t),c=Hl(a);return i&&a.addEventListener("upgradeneeded",u=>{i(Hl(a.result),u.oldVersion,u.newVersion,Hl(a.transaction),u)}),e&&a.addEventListener("blocked",u=>e(u.oldVersion,u.newVersion,u)),c.then(u=>{s&&u.addEventListener("close",()=>s()),r&&u.addEventListener("versionchange",d=>r(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}const bz=["get","getKey","getAll","getAllKeys","count"],Tz=["put","add","delete","clear"],tT=new Map;function RC(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(tT.get(t))return tT.get(t);const e=t.replace(/FromIndex$/,""),i=t!==e,r=Tz.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!(r||bz.includes(e)))return;const s=async function(a,...c){const u=this.transaction(a,r?"readwrite":"readonly");let d=u.store;return i&&(d=d.index(c.shift())),(await Promise.all([d[e](...c),r&&u.done]))[0]};return tT.set(t,s),s}pz(n=>({...n,get:(t,e,i)=>RC(t,e)||n.get(t,e,i),has:(t,e)=>!!RC(t,e)||n.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wz{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(Ez(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(e=>e).join(" ")}}function Ez(n){const t=n.getComponent();return(t==null?void 0:t.type)==="VERSION"}const YT="@firebase/app",CC="0.11.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wa=new SE("@firebase/app"),xz="@firebase/app-compat",Sz="@firebase/analytics-compat",Az="@firebase/analytics",Rz="@firebase/app-check-compat",Cz="@firebase/app-check",Dz="@firebase/auth",Iz="@firebase/auth-compat",Mz="@firebase/database",Oz="@firebase/data-connect",kz="@firebase/database-compat",Nz="@firebase/functions",Pz="@firebase/functions-compat",Lz="@firebase/installations",Vz="@firebase/installations-compat",Uz="@firebase/messaging",zz="@firebase/messaging-compat",Fz="@firebase/performance",Bz="@firebase/performance-compat",jz="@firebase/remote-config",$z="@firebase/remote-config-compat",Hz="@firebase/storage",qz="@firebase/storage-compat",Yz="@firebase/firestore",Gz="@firebase/vertexai",Wz="@firebase/firestore-compat",Kz="firebase",Xz="11.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT="[DEFAULT]",Qz={[YT]:"fire-core",[xz]:"fire-core-compat",[Az]:"fire-analytics",[Sz]:"fire-analytics-compat",[Cz]:"fire-app-check",[Rz]:"fire-app-check-compat",[Dz]:"fire-auth",[Iz]:"fire-auth-compat",[Mz]:"fire-rtdb",[Oz]:"fire-data-connect",[kz]:"fire-rtdb-compat",[Nz]:"fire-fn",[Pz]:"fire-fn-compat",[Lz]:"fire-iid",[Vz]:"fire-iid-compat",[Uz]:"fire-fcm",[zz]:"fire-fcm-compat",[Fz]:"fire-perf",[Bz]:"fire-perf-compat",[jz]:"fire-rc",[$z]:"fire-rc-compat",[Hz]:"fire-gcs",[qz]:"fire-gcs-compat",[Yz]:"fire-fst",[Wz]:"fire-fst-compat",[Gz]:"fire-vertex","fire-js":"fire-js",[Kz]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m0=new Map,Zz=new Map,WT=new Map;function DC(n,t){try{n.container.addComponent(t)}catch(e){Wa.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function dd(n){const t=n.name;if(WT.has(t))return Wa.debug(`There were multiple attempts to register component ${t}.`),!1;WT.set(t,n);for(const e of m0.values())DC(e,n);for(const e of Zz.values())DC(e,n);return!0}function RE(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function Uo(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jz={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ql=new _g("app","Firebase",Jz);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t9{constructor(t,e,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Cu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ql.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kd=Xz;function IO(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const i=Object.assign({name:GT,automaticDataCollectionEnabled:!1},t),r=i.name;if(typeof r!="string"||!r)throw ql.create("bad-app-name",{appName:String(r)});if(e||(e=AO()),!e)throw ql.create("no-options");const s=m0.get(r);if(s){if(Ru(e,s.options)&&Ru(i,s.config))return s;throw ql.create("duplicate-app",{appName:r})}const a=new oz(r);for(const u of WT.values())a.addComponent(u);const c=new t9(e,i,a);return m0.set(r,c),c}function MO(n=GT){const t=m0.get(n);if(!t&&n===GT&&AO())return IO();if(!t)throw ql.create("no-app",{appName:n});return t}function Yl(n,t,e){var i;let r=(i=Qz[n])!==null&&i!==void 0?i:n;e&&(r+=`-${e}`);const s=r.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const c=[`Unable to register library "${r}" with version "${t}":`];s&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&a&&c.push("and"),a&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Wa.warn(c.join(" "));return}dd(new Cu(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e9="firebase-heartbeat-database",n9=1,km="firebase-heartbeat-store";let eT=null;function OO(){return eT||(eT=vz(e9,n9,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(km)}catch(e){console.warn(e)}}}}).catch(n=>{throw ql.create("idb-open",{originalErrorMessage:n.message})})),eT}async function i9(n){try{const e=(await OO()).transaction(km),i=await e.objectStore(km).get(kO(n));return await e.done,i}catch(t){if(t instanceof tl)Wa.warn(t.message);else{const e=ql.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Wa.warn(e.message)}}}async function IC(n,t){try{const i=(await OO()).transaction(km,"readwrite");await i.objectStore(km).put(t,kO(n)),await i.done}catch(e){if(e instanceof tl)Wa.warn(e.message);else{const i=ql.create("idb-set",{originalErrorMessage:e==null?void 0:e.message});Wa.warn(i.message)}}}function kO(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r9=1024,s9=30;class o9{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new l9(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,e;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=MC();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats.length>s9){const a=c9(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Wa.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=MC(),{heartbeatsToSend:i,unsentEntries:r}=a9(this._heartbeatsCache.heartbeats),s=f0(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return Wa.warn(e),""}}}function MC(){return new Date().toISOString().substring(0,10)}function a9(n,t=r9){const e=[];let i=n.slice();for(const r of n){const s=e.find(a=>a.agent===r.agent);if(s){if(s.dates.push(r.date),OC(e)>t){s.dates.pop();break}}else if(e.push({agent:r.agent,dates:[r.date]}),OC(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}class l9{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return WU()?KU().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await i9(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const r=await this.read();return IC(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var e;if(await this._canUseIndexedDBPromise){const r=await this.read();return IC(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function OC(n){return f0(JSON.stringify({version:2,heartbeats:n})).length}function c9(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let i=1;i<n.length;i++)n[i].date<e&&(e=n[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u9(n){dd(new Cu("platform-logger",t=>new wz(t),"PRIVATE")),dd(new Cu("heartbeat",t=>new o9(t),"PRIVATE")),Yl(YT,CC,n),Yl(YT,CC,"esm2017"),Yl("fire-js","")}u9("");var h9="firebase",d9="11.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Yl(h9,d9,"app");function CE(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(e[i[r]]=n[i[r]]);return e}function NO(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const f9=NO,PO=new _g("auth","Firebase",NO());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g0=new SE("@firebase/auth");function m9(n,...t){g0.logLevel<=Me.WARN&&g0.warn(`Auth (${kd}): ${n}`,...t)}function Cy(n,...t){g0.logLevel<=Me.ERROR&&g0.error(`Auth (${kd}): ${n}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ka(n,...t){throw DE(n,...t)}function $o(n,...t){return DE(n,...t)}function LO(n,t,e){const i=Object.assign(Object.assign({},f9()),{[t]:e});return new _g("auth","Firebase",i).create(t,{appName:n.name})}function _u(n){return LO(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function DE(n,...t){if(typeof n!="string"){const e=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(e,...i)}return PO.create(n,...t)}function ae(n,t,...e){if(!n)throw DE(t,...e)}function Na(n){const t="INTERNAL ASSERTION FAILED: "+n;throw Cy(t),new Error(t)}function Xa(n,t){n||Na(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KT(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function g9(){return kC()==="http:"||kC()==="https:"}function kC(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p9(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(g9()||HU()||"connection"in navigator)?navigator.onLine:!0}function y9(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(t,e){this.shortDelay=t,this.longDelay=e,Xa(e>t,"Short delay should be less than long delay!"),this.isMobile=BU()||qU()}get(){return p9()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IE(n,t){Xa(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Na("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Na("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Na("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _9={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v9=new bg(3e4,6e4);function ME(n,t){return n.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:n.tenantId}):t}async function Nd(n,t,e,i,r={}){return UO(n,r,async()=>{let s={},a={};i&&(t==="GET"?a=i:s={body:JSON.stringify(i)});const c=vg(Object.assign({key:n.config.apiKey},a)).slice(1),u=await n._getAdditionalHeaders();u["Content-Type"]="application/json",n.languageCode&&(u["X-Firebase-Locale"]=n.languageCode);const d=Object.assign({method:t,headers:u},s);return $U()||(d.referrerPolicy="no-referrer"),VO.fetch()(zO(n,n.config.apiHost,e,c),d)})}async function UO(n,t,e){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},_9),t);try{const r=new T9(n),s=await Promise.race([e(),r.promise]);r.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw Xp(n,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const c=s.ok?a.errorMessage:a.error.message,[u,d]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Xp(n,"credential-already-in-use",a);if(u==="EMAIL_EXISTS")throw Xp(n,"email-already-in-use",a);if(u==="USER_DISABLED")throw Xp(n,"user-disabled",a);const f=i[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw LO(n,f,d);Ka(n,f)}}catch(r){if(r instanceof tl)throw r;Ka(n,"network-request-failed",{message:String(r)})}}async function b9(n,t,e,i,r={}){const s=await Nd(n,t,e,i,r);return"mfaPendingCredential"in s&&Ka(n,"multi-factor-auth-required",{_serverResponse:s}),s}function zO(n,t,e,i){const r=`${t}${e}?${i}`;return n.config.emulator?IE(n.config,r):`${n.config.apiScheme}://${r}`}class T9{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,i)=>{this.timer=setTimeout(()=>i($o(this.auth,"network-request-failed")),v9.get())})}}function Xp(n,t,e){const i={appName:n.name};e.email&&(i.email=e.email),e.phoneNumber&&(i.phoneNumber=e.phoneNumber);const r=$o(n,t,i);return r.customData._tokenResponse=e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w9(n,t){return Nd(n,"POST","/v1/accounts:delete",t)}async function FO(n,t){return Nd(n,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fm(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function E9(n,t=!1){const e=Or(n),i=await e.getIdToken(t),r=OE(i);ae(r&&r.exp&&r.auth_time&&r.iat,e.auth,"internal-error");const s=typeof r.firebase=="object"?r.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:fm(nT(r.auth_time)),issuedAtTime:fm(nT(r.iat)),expirationTime:fm(nT(r.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function nT(n){return Number(n)*1e3}function OE(n){const[t,e,i]=n.split(".");if(t===void 0||e===void 0||i===void 0)return Cy("JWT malformed, contained fewer than 3 sections"),null;try{const r=xO(e);return r?JSON.parse(r):(Cy("Failed to decode base64 JWT payload"),null)}catch(r){return Cy("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function NC(n){const t=OE(n);return ae(t,"internal-error"),ae(typeof t.exp<"u","internal-error"),ae(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nm(n,t,e=!1){if(e)return t;try{return await t}catch(i){throw i instanceof tl&&x9(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function x9({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S9{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((e=this.user.stsTokenManager.expirationTime)!==null&&e!==void 0?e:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=fm(this.lastLoginAt),this.creationTime=fm(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p0(n){var t;const e=n.auth,i=await n.getIdToken(),r=await Nm(n,FO(e,{idToken:i}));ae(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];n._notifyReloadListener(s);const a=!((t=s.providerUserInfo)===null||t===void 0)&&t.length?BO(s.providerUserInfo):[],c=R9(n.providerData,a),u=n.isAnonymous,d=!(n.email&&s.passwordHash)&&!(c!=null&&c.length),f=u?d:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new XT(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(n,g)}async function A9(n){const t=Or(n);await p0(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function R9(n,t){return[...n.filter(i=>!t.some(r=>r.providerId===i.providerId)),...t]}function BO(n){return n.map(t=>{var{providerId:e}=t,i=CE(t,["providerId"]);return{providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C9(n,t){const e=await UO(n,{},async()=>{const i=vg({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:s}=n.config,a=zO(n,r,"/v1/token",`key=${s}`),c=await n._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",VO.fetch()(a,{method:"POST",headers:c,body:i})});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function D9(n,t){return Nd(n,"POST","/v2/accounts:revokeToken",ME(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){ae(t.idToken,"internal-error"),ae(typeof t.idToken<"u","internal-error"),ae(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):NC(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){ae(t.length!==0,"internal-error");const e=NC(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(ae(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:i,refreshToken:r,expiresIn:s}=await C9(t,e);this.updateTokensAndExpiration(i,r,Number(s))}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,e){const{refreshToken:i,accessToken:r,expirationTime:s}=e,a=new Xh;return i&&(ae(typeof i=="string","internal-error",{appName:t}),a.refreshToken=i),r&&(ae(typeof r=="string","internal-error",{appName:t}),a.accessToken=r),s&&(ae(typeof s=="number","internal-error",{appName:t}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Xh,this.toJSON())}_performRefresh(){return Na("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cl(n,t){ae(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class Pa{constructor(t){var{uid:e,auth:i,stsTokenManager:r}=t,s=CE(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new S9(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new XT(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(t){const e=await Nm(this,this.stsTokenManager.getToken(this.auth,t));return ae(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return E9(this,t)}reload(){return A9(this)}_assign(t){this!==t&&(ae(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>Object.assign({},e)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new Pa(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),e&&await p0(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Uo(this.auth.app))return Promise.reject(_u(this.auth));const t=await this.getIdToken();return await Nm(this,w9(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var i,r,s,a,c,u,d,f;const g=(i=e.displayName)!==null&&i!==void 0?i:void 0,y=(r=e.email)!==null&&r!==void 0?r:void 0,v=(s=e.phoneNumber)!==null&&s!==void 0?s:void 0,E=(a=e.photoURL)!==null&&a!==void 0?a:void 0,x=(c=e.tenantId)!==null&&c!==void 0?c:void 0,S=(u=e._redirectEventId)!==null&&u!==void 0?u:void 0,R=(d=e.createdAt)!==null&&d!==void 0?d:void 0,C=(f=e.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:P,emailVerified:L,isAnonymous:N,providerData:j,stsTokenManager:O}=e;ae(P&&O,t,"internal-error");const D=Xh.fromJSON(this.name,O);ae(typeof P=="string",t,"internal-error"),Cl(g,t.name),Cl(y,t.name),ae(typeof L=="boolean",t,"internal-error"),ae(typeof N=="boolean",t,"internal-error"),Cl(v,t.name),Cl(E,t.name),Cl(x,t.name),Cl(S,t.name),Cl(R,t.name),Cl(C,t.name);const k=new Pa({uid:P,auth:t,email:y,emailVerified:L,displayName:g,isAnonymous:N,photoURL:E,phoneNumber:v,tenantId:x,stsTokenManager:D,createdAt:R,lastLoginAt:C});return j&&Array.isArray(j)&&(k.providerData=j.map(V=>Object.assign({},V))),S&&(k._redirectEventId=S),k}static async _fromIdTokenResponse(t,e,i=!1){const r=new Xh;r.updateFromServerResponse(e);const s=new Pa({uid:e.localId,auth:t,stsTokenManager:r,isAnonymous:i});return await p0(s),s}static async _fromGetAccountInfoResponse(t,e,i){const r=e.users[0];ae(r.localId!==void 0,"internal-error");const s=r.providerUserInfo!==void 0?BO(r.providerUserInfo):[],a=!(r.email&&r.passwordHash)&&!(s!=null&&s.length),c=new Xh;c.updateFromIdToken(i);const u=new Pa({uid:r.localId,auth:t,stsTokenManager:c,isAnonymous:a}),d={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new XT(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,d),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PC=new Map;function La(n){Xa(n instanceof Function,"Expected a class definition");let t=PC.get(n);return t?(Xa(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,PC.set(n,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}jO.type="NONE";const LC=jO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dy(n,t,e){return`firebase:${n}:${t}:${e}`}class Qh{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=Dy(this.userKey,r.apiKey,s),this.fullPersistenceKey=Dy("persistence",r.apiKey,s),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?Pa._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,i="authUser"){if(!e.length)return new Qh(La(LC),t,i);const r=(await Promise.all(e.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let s=r[0]||La(LC);const a=Dy(i,t.config.apiKey,t.name);let c=null;for(const d of e)try{const f=await d._get(a);if(f){const g=Pa._fromJSON(t,f);d!==s&&(c=g),s=d;break}}catch{}const u=r.filter(d=>d._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new Qh(s,t,i):(s=u[0],c&&await s._set(a,c.toJSON()),await Promise.all(e.map(async d=>{if(d!==s)try{await d._remove(a)}catch{}})),new Qh(s,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VC(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(YO(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if($O(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(WO(t))return"Blackberry";if(KO(t))return"Webos";if(HO(t))return"Safari";if((t.includes("chrome/")||qO(t))&&!t.includes("edge/"))return"Chrome";if(GO(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(e);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function $O(n=Mr()){return/firefox\//i.test(n)}function HO(n=Mr()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function qO(n=Mr()){return/crios\//i.test(n)}function YO(n=Mr()){return/iemobile/i.test(n)}function GO(n=Mr()){return/android/i.test(n)}function WO(n=Mr()){return/blackberry/i.test(n)}function KO(n=Mr()){return/webos/i.test(n)}function kE(n=Mr()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function I9(n=Mr()){var t;return kE(n)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function M9(){return YU()&&document.documentMode===10}function XO(n=Mr()){return kE(n)||GO(n)||KO(n)||WO(n)||/windows phone/i.test(n)||YO(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QO(n,t=[]){let e;switch(n){case"Browser":e=VC(Mr());break;case"Worker":e=`${VC(Mr())}-${n}`;break;default:e=n}const i=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${kd}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O9{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const i=s=>new Promise((a,c)=>{try{const u=t(s);a(u)}catch(u){c(u)}});i.onAbort=e,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const i of this.queue)await i(t),i.onAbort&&e.push(i.onAbort)}catch(i){e.reverse();for(const r of e)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k9(n,t={}){return Nd(n,"GET","/v2/passwordPolicy",ME(n,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N9=6;class P9{constructor(t){var e,i,r,s;const a=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(e=a.minPasswordLength)!==null&&e!==void 0?e:N9,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=t.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(s=t.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var e,i,r,s,a,c;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,u),this.validatePasswordCharacterOptions(t,u),u.isValid&&(u.isValid=(e=u.meetsMinPasswordLength)!==null&&e!==void 0?e:!0),u.isValid&&(u.isValid=(i=u.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(r=u.containsLowercaseLetter)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNumericCharacter)!==null&&a!==void 0?a:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(t,e){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(e.meetsMinPasswordLength=t.length>=i),r&&(e.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let i;for(let r=0;r<t.length;r++)i=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(e,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,e,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L9{constructor(t,e,i,r){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new UC(this),this.idTokenSubscription=new UC(this),this.beforeStateQueue=new O9(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=PO,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=La(e)),this._initializationPromise=this.queue(async()=>{var i,r;if(!this._deleted&&(this.persistenceManager=await Qh.create(this,t),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await FO(this,{idToken:t}),i=await Pa._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(i)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var e;if(Uo(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(c,c))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,s=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(e=this.redirectUser)===null||e===void 0?void 0:e._redirectEventId,c=r==null?void 0:r._redirectEventId,u=await this.tryRedirectSignIn(t);(!a||a===c)&&(u!=null&&u.user)&&(r=u.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await p0(t)}catch(e){if((e==null?void 0:e.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=y9()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Uo(this.app))return Promise.reject(_u(this));const e=t?Or(t):null;return e&&ae(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&ae(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Uo(this.app)?Promise.reject(_u(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Uo(this.app)?Promise.reject(_u(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(La(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await k9(this),e=new P9(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new _g("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(i.tenantId=this.tenantId),await D9(this,i)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,e){const i=await this.getOrInitRedirectPersistenceManager(e);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&La(t)||this._popupRedirectResolver;ae(e,this,"argument-error"),this.redirectPersistenceManager=await Qh.create(this,[La(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,i;return this._isInitialized&&await this.queue(async()=>{}),((e=this._currentUser)===null||e===void 0?void 0:e._redirectEventId)===t?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(e=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&e!==void 0?e:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,r){if(this._deleted)return()=>{};const s=typeof e=="function"?e:e.next.bind(e);let a=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(ae(c,this,"internal-error"),c.then(()=>{a||s(this.currentUser)}),typeof e=="function"){const u=t.addObserver(e,i,r);return()=>{a=!0,u()}}else{const u=t.addObserver(e);return()=>{a=!0,u()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=QO(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());i&&(e["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var t;if(Uo(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return e!=null&&e.error&&m9(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function NE(n){return Or(n)}class UC{constructor(t){this.auth=t,this.observer=null,this.addObserver=tz(e=>this.observer=e)}get next(){return ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let PE={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function V9(n){PE=n}function U9(n){return PE.loadJS(n)}function z9(){return PE.gapiScript}function F9(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B9(n,t){const e=RE(n,"auth");if(e.isInitialized()){const r=e.getImmediate(),s=e.getOptions();if(Ru(s,t??{}))return r;Ka(r,"already-initialized")}return e.initialize({options:t})}function j9(n,t){const e=(t==null?void 0:t.persistence)||[],i=(Array.isArray(e)?e:[e]).map(La);t!=null&&t.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(i,t==null?void 0:t.popupRedirectResolver)}function $9(n,t,e){const i=NE(n);ae(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const r=!1,s=ZO(t),{host:a,port:c}=H9(t),u=c===null?"":`:${c}`,d={url:`${s}//${a}${u}/`},f=Object.freeze({host:a,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){ae(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),ae(Ru(d,i.config.emulator)&&Ru(f,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=d,i.emulatorConfig=f,i.settings.appVerificationDisabledForTesting=!0,q9()}function ZO(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function H9(n){const t=ZO(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const i=e[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const s=r[1];return{host:s,port:zC(i.substr(s.length+1))}}else{const[s,a]=i.split(":");return{host:s,port:zC(a)}}}function zC(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function q9(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return Na("not implemented")}_getIdTokenResponse(t){return Na("not implemented")}_linkToIdToken(t,e){return Na("not implemented")}_getReauthenticationResolver(t){return Na("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zh(n,t){return b9(n,"POST","/v1/accounts:signInWithIdp",ME(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y9="http://localhost";class Du extends JO{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new Du(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):Ka("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:r}=e,s=CE(e,["providerId","signInMethod"]);if(!i||!r)return null;const a=new Du(i,r);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(t){const e=this.buildRequest();return Zh(t,e)}_linkToIdToken(t,e){const i=this.buildRequest();return i.idToken=e,Zh(t,i)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,Zh(t,e)}buildRequest(){const t={requestUri:Y9,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=vg(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg extends tk{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol extends Tg{constructor(){super("facebook.com")}static credential(t){return Du._fromParams({providerId:Ol.PROVIDER_ID,signInMethod:Ol.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ol.credentialFromTaggedObject(t)}static credentialFromError(t){return Ol.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ol.credential(t.oauthAccessToken)}catch{return null}}}Ol.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ol.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl extends Tg{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return Du._fromParams({providerId:kl.PROVIDER_ID,signInMethod:kl.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return kl.credentialFromTaggedObject(t)}static credentialFromError(t){return kl.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:i}=t;if(!e&&!i)return null;try{return kl.credential(e,i)}catch{return null}}}kl.GOOGLE_SIGN_IN_METHOD="google.com";kl.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl extends Tg{constructor(){super("github.com")}static credential(t){return Du._fromParams({providerId:Nl.PROVIDER_ID,signInMethod:Nl.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Nl.credentialFromTaggedObject(t)}static credentialFromError(t){return Nl.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Nl.credential(t.oauthAccessToken)}catch{return null}}}Nl.GITHUB_SIGN_IN_METHOD="github.com";Nl.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl extends Tg{constructor(){super("twitter.com")}static credential(t,e){return Du._fromParams({providerId:Pl.PROVIDER_ID,signInMethod:Pl.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return Pl.credentialFromTaggedObject(t)}static credentialFromError(t){return Pl.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:i}=t;if(!e||!i)return null;try{return Pl.credential(e,i)}catch{return null}}}Pl.TWITTER_SIGN_IN_METHOD="twitter.com";Pl.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,i,r=!1){const s=await Pa._fromIdTokenResponse(t,i,r),a=FC(i);return new fd({user:s,providerId:a,_tokenResponse:i,operationType:e})}static async _forOperation(t,e,i){await t._updateTokensIfNecessary(i,!0);const r=FC(i);return new fd({user:t,providerId:r,_tokenResponse:i,operationType:e})}}function FC(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0 extends tl{constructor(t,e,i,r){var s;super(e.code,e.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,y0.prototype),this.customData={appName:t.name,tenantId:(s=t.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:e.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,e,i,r){return new y0(t,e,i,r)}}function ek(n,t,e,i){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?y0._fromErrorAndOperation(n,s,t,i):s})}async function G9(n,t,e=!1){const i=await Nm(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return fd._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W9(n,t,e=!1){const{auth:i}=n;if(Uo(i.app))return Promise.reject(_u(i));const r="reauthenticate";try{const s=await Nm(n,ek(i,r,t,n),e);ae(s.idToken,i,"internal-error");const a=OE(s.idToken);ae(a,i,"internal-error");const{sub:c}=a;return ae(n.uid===c,i,"user-mismatch"),fd._forOperation(n,r,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Ka(i,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K9(n,t,e=!1){if(Uo(n.app))return Promise.reject(_u(n));const i="signIn",r=await ek(n,i,t),s=await fd._fromIdTokenResponse(n,i,r);return e||await n._updateCurrentUser(s.user),s}function X9(n,t,e,i){return Or(n).onIdTokenChanged(t,e,i)}function Q9(n,t,e){return Or(n).beforeAuthStateChanged(t,e)}const _0="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(_0,"1"),this.storage.removeItem(_0),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z9=1e3,J9=10;class ik extends nk{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=XO(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const i=this.storage.getItem(e),r=this.localCache[e];i!==r&&t(e,r,i)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});return}const i=t.key;e?this.detachListener():this.stopPolling();const r=()=>{const a=this.storage.getItem(i);!e&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);M9()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(r,J9):r()}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:i}),!0)})},Z9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}ik.type="LOCAL";const tF=ik;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rk extends nk{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}rk.type="SESSION";const sk=rk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eF(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d_{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(r=>r.isListeningto(t));if(e)return e;const i=new d_(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:i,eventType:r,data:s}=e.data,a=this.handlersMap[r];if(!(a!=null&&a.size))return;e.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const c=Array.from(a).map(async d=>d(e.origin,s)),u=await eF(c);e.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:u})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}d_.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LE(n="",t=10){let e="";for(let i=0;i<t;i++)e+=Math.floor(Math.random()*10);return n+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nF{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,a;return new Promise((c,u)=>{const d=LE("",20);r.port1.start();const f=setTimeout(()=>{u(new Error("unsupported_event"))},i);a={messageChannel:r,onMessage(g){const y=g;if(y.data.eventId===d)switch(y.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(y.data.response);break;default:clearTimeout(f),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(a),r.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:t,eventId:d,data:e},[r.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ho(){return window}function iF(n){Ho().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ok(){return typeof Ho().WorkerGlobalScope<"u"&&typeof Ho().importScripts=="function"}async function rF(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function sF(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function oF(){return ok()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ak="firebaseLocalStorageDb",aF=1,v0="firebaseLocalStorage",lk="fbase_key";class wg{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function f_(n,t){return n.transaction([v0],t?"readwrite":"readonly").objectStore(v0)}function lF(){const n=indexedDB.deleteDatabase(ak);return new wg(n).toPromise()}function QT(){const n=indexedDB.open(ak,aF);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(v0,{keyPath:lk})}catch(r){e(r)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(v0)?t(i):(i.close(),await lF(),t(await QT()))})})}async function BC(n,t,e){const i=f_(n,!0).put({[lk]:t,value:e});return new wg(i).toPromise()}async function cF(n,t){const e=f_(n,!1).get(t),i=await new wg(e).toPromise();return i===void 0?null:i.value}function jC(n,t){const e=f_(n,!0).delete(t);return new wg(e).toPromise()}const uF=800,hF=3;class ck{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await QT(),this.db)}async _withRetries(t){let e=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(e++>hF)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ok()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=d_._getInstance(oF()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){var t,e;if(this.activeServiceWorker=await rF(),!this.activeServiceWorker)return;this.sender=new nF(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((e=i[0])===null||e===void 0)&&e.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||sF()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await QT();return await BC(t,_0,"1"),await jC(t,_0),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(i=>BC(i,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(i=>cF(i,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>jC(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(r=>{const s=f_(r,!1).getAll();return new wg(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],i=new Set;if(t.length!==0)for(const{fbase_key:r,value:s}of t)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),e.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),e.push(r));return e}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),uF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ck.type="LOCAL";const dF=ck;new bg(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fF(n,t){return t?La(t):(ae(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE extends JO{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Zh(t,this._buildIdpRequest())}_linkToIdToken(t,e){return Zh(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return Zh(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function mF(n){return K9(n.auth,new VE(n),n.bypassAuthState)}function gF(n){const{auth:t,user:e}=n;return ae(e,t,"internal-error"),W9(e,new VE(n),n.bypassAuthState)}async function pF(n){const{auth:t,user:e}=n;return ae(e,t,"internal-error"),G9(e,new VE(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{constructor(t,e,i,r,s=!1){this.auth=t,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:i,postBody:r,tenantId:s,error:a,type:c}=t;if(a){this.reject(a);return}const u={auth:this.auth,requestUri:e,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(u))}catch(d){this.reject(d)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return mF;case"linkViaPopup":case"linkViaRedirect":return pF;case"reauthViaPopup":case"reauthViaRedirect":return gF;default:Ka(this.auth,"internal-error")}}resolve(t){Xa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Xa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yF=new bg(2e3,1e4);class zh extends uk{constructor(t,e,i,r,s){super(t,e,r,s),this.provider=i,this.authWindow=null,this.pollId=null,zh.currentPopupAction&&zh.currentPopupAction.cancel(),zh.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return ae(t,this.auth,"internal-error"),t}async onExecution(){Xa(this.filter.length===1,"Popup operations only handle one event");const t=LE();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject($o(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject($o(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,zh.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,i;if(!((i=(e=this.authWindow)===null||e===void 0?void 0:e.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject($o(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,yF.get())};t()}}zh.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _F="pendingRedirect",Iy=new Map;class vF extends uk{constructor(t,e,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,i),this.eventId=null}async execute(){let t=Iy.get(this.auth._key());if(!t){try{const i=await bF(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(e){t=()=>Promise.reject(e)}Iy.set(this.auth._key(),t)}return this.bypassAuthState||Iy.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function bF(n,t){const e=EF(t),i=wF(n);if(!await i._isAvailable())return!1;const r=await i._get(e)==="true";return await i._remove(e),r}function TF(n,t){Iy.set(n._key(),t)}function wF(n){return La(n._redirectPersistence)}function EF(n){return Dy(_F,n.config.apiKey,n.name)}async function xF(n,t,e=!1){if(Uo(n.app))return Promise.reject(_u(n));const i=NE(n),r=fF(i,t),a=await new vF(i,r,e).execute();return a&&!e&&(delete a.user._redirectEventId,await i._persistUserIfCurrent(a.user),await i._setRedirectUser(null,t)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SF=10*60*1e3;class AF{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(e=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!RF(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var i;if(t.error&&!hk(t)){const r=((i=t.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";e.onError($o(this.auth,r))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const i=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=SF&&this.cachedEventUids.clear(),this.cachedEventUids.has($C(t))}saveEventToCache(t){this.cachedEventUids.add($C(t)),this.lastProcessedEventTime=Date.now()}}function $C(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function hk({type:n,error:t}){return n==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function RF(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return hk(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CF(n,t={}){return Nd(n,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DF=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,IF=/^https?/;async function MF(n){if(n.config.emulator)return;const{authorizedDomains:t}=await CF(n);for(const e of t)try{if(OF(e))return}catch{}Ka(n,"unauthorized-domain")}function OF(n){const t=KT(),{protocol:e,hostname:i}=new URL(t);if(n.startsWith("chrome-extension://")){const a=new URL(n);return a.hostname===""&&i===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&a.hostname===i}if(!IF.test(e))return!1;if(DF.test(n))return i===n;const r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kF=new bg(3e4,6e4);function HC(){const n=Ho().___jsl;if(n!=null&&n.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function NF(n){return new Promise((t,e)=>{var i,r,s;function a(){HC(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{HC(),e($o(n,"network-request-failed"))},timeout:kF.get()})}if(!((r=(i=Ho().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)t(gapi.iframes.getContext());else if(!((s=Ho().gapi)===null||s===void 0)&&s.load)a();else{const c=F9("iframefcb");return Ho()[c]=()=>{gapi.load?a():e($o(n,"network-request-failed"))},U9(`${z9()}?onload=${c}`).catch(u=>e(u))}}).catch(t=>{throw My=null,t})}let My=null;function PF(n){return My=My||NF(n),My}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LF=new bg(5e3,15e3),VF="__/auth/iframe",UF="emulator/auth/iframe",zF={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},FF=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function BF(n){const t=n.config;ae(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?IE(t,UF):`https://${n.config.authDomain}/${VF}`,i={apiKey:t.apiKey,appName:n.name,v:kd},r=FF.get(n.config.apiHost);r&&(i.eid=r);const s=n._getFrameworks();return s.length&&(i.fw=s.join(",")),`${e}?${vg(i).slice(1)}`}async function jF(n){const t=await PF(n),e=Ho().gapi;return ae(e,n,"internal-error"),t.open({where:document.body,url:BF(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:zF,dontclear:!0},i=>new Promise(async(r,s)=>{await i.restyle({setHideOnLeave:!1});const a=$o(n,"network-request-failed"),c=Ho().setTimeout(()=>{s(a)},LF.get());function u(){Ho().clearTimeout(c),r(i)}i.ping(u).then(u,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $F={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},HF=500,qF=600,YF="_blank",GF="http://localhost";class qC{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function WF(n,t,e,i=HF,r=qF){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let c="";const u=Object.assign(Object.assign({},$F),{width:i.toString(),height:r.toString(),top:s,left:a}),d=Mr().toLowerCase();e&&(c=qO(d)?YF:e),$O(d)&&(t=t||GF,u.scrollbars="yes");const f=Object.entries(u).reduce((y,[v,E])=>`${y}${v}=${E},`,"");if(I9(d)&&c!=="_self")return KF(t||"",c),new qC(null);const g=window.open(t||"",c,f);ae(g,n,"popup-blocked");try{g.focus()}catch{}return new qC(g)}function KF(n,t){const e=document.createElement("a");e.href=n,e.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XF="__/auth/handler",QF="emulator/auth/handler",ZF=encodeURIComponent("fac");async function YC(n,t,e,i,r,s){ae(n.config.authDomain,n,"auth-domain-config-required"),ae(n.config.apiKey,n,"invalid-api-key");const a={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:i,v:kd,eventId:r};if(t instanceof tk){t.setDefaultLanguage(n.languageCode),a.providerId=t.providerId||"",JU(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[f,g]of Object.entries({}))a[f]=g}if(t instanceof Tg){const f=t.getScopes().filter(g=>g!=="");f.length>0&&(a.scopes=f.join(","))}n.tenantId&&(a.tid=n.tenantId);const c=a;for(const f of Object.keys(c))c[f]===void 0&&delete c[f];const u=await n._getAppCheckToken(),d=u?`#${ZF}=${encodeURIComponent(u)}`:"";return`${JF(n)}?${vg(c).slice(1)}${d}`}function JF({config:n}){return n.emulator?IE(n,QF):`https://${n.authDomain}/${XF}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iT="webStorageSupport";class tB{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=sk,this._completeRedirectFn=xF,this._overrideRedirectResult=TF}async _openPopup(t,e,i,r){var s;Xa((s=this.eventManagers[t._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await YC(t,e,i,KT(),r);return WF(t,a,LE())}async _openRedirect(t,e,i,r){await this._originValidation(t);const s=await YC(t,e,i,KT(),r);return iF(s),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:r,promise:s}=this.eventManagers[e];return r?Promise.resolve(r):(Xa(s,"If manager is not set, promise should be"),s)}const i=this.initAndGetManager(t);return this.eventManagers[e]={promise:i},i.catch(()=>{delete this.eventManagers[e]}),i}async initAndGetManager(t){const e=await jF(t),i=new AF(t);return e.register("authEvent",r=>(ae(r==null?void 0:r.authEvent,t,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=e,i}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(iT,{type:iT},r=>{var s;const a=(s=r==null?void 0:r[0])===null||s===void 0?void 0:s[iT];a!==void 0&&e(!!a),Ka(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=MF(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return XO()||HO()||kE()}}const eB=tB;var GC="@firebase/auth",WC="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nB{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(i=>{t((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iB(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function rB(n){dd(new Cu("auth",(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:a,authDomain:c}=i.options;ae(a&&!a.includes(":"),"invalid-api-key",{appName:i.name});const u={apiKey:a,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:QO(n)},d=new L9(i,r,s,u);return j9(d,e),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider("auth-internal").initialize()})),dd(new Cu("auth-internal",t=>{const e=NE(t.getProvider("auth").getImmediate());return(i=>new nB(i))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),Yl(GC,WC,iB(n)),Yl(GC,WC,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sB=5*60,oB=RO("authIdTokenMaxAge")||sB;let KC=null;const aB=n=>async t=>{const e=t&&await t.getIdTokenResult(),i=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(i&&i>oB)return;const r=e==null?void 0:e.token;KC!==r&&(KC=r,await fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function lB(n=MO()){const t=RE(n,"auth");if(t.isInitialized())return t.getImmediate();const e=B9(n,{popupRedirectResolver:eB,persistence:[dF,tF,sk]}),i=RO("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(i,location.origin);if(location.origin===s.origin){const a=aB(s.toString());Q9(e,a,()=>a(e.currentUser)),X9(e,c=>a(c))}}const r=SO("auth");return r&&$9(e,`http://${r}`),e}function cB(){var n,t;return(t=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&t!==void 0?t:document}V9({loadJS(n){return new Promise((t,e)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=t,i.onerror=r=>{const s=$o("internal-error");s.customData=r,e(s)},i.type="text/javascript",i.charset="UTF-8",cB().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});rB("Browser");var XC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Gl,dk;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(O,D){function k(){}k.prototype=D.prototype,O.D=D.prototype,O.prototype=new k,O.prototype.constructor=O,O.C=function(V,B,$){for(var z=Array(arguments.length-2),bt=2;bt<arguments.length;bt++)z[bt-2]=arguments[bt];return D.prototype[B].apply(V,z)}}function e(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,e),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(O,D,k){k||(k=0);var V=Array(16);if(typeof D=="string")for(var B=0;16>B;++B)V[B]=D.charCodeAt(k++)|D.charCodeAt(k++)<<8|D.charCodeAt(k++)<<16|D.charCodeAt(k++)<<24;else for(B=0;16>B;++B)V[B]=D[k++]|D[k++]<<8|D[k++]<<16|D[k++]<<24;D=O.g[0],k=O.g[1],B=O.g[2];var $=O.g[3],z=D+($^k&(B^$))+V[0]+3614090360&4294967295;D=k+(z<<7&4294967295|z>>>25),z=$+(B^D&(k^B))+V[1]+3905402710&4294967295,$=D+(z<<12&4294967295|z>>>20),z=B+(k^$&(D^k))+V[2]+606105819&4294967295,B=$+(z<<17&4294967295|z>>>15),z=k+(D^B&($^D))+V[3]+3250441966&4294967295,k=B+(z<<22&4294967295|z>>>10),z=D+($^k&(B^$))+V[4]+4118548399&4294967295,D=k+(z<<7&4294967295|z>>>25),z=$+(B^D&(k^B))+V[5]+1200080426&4294967295,$=D+(z<<12&4294967295|z>>>20),z=B+(k^$&(D^k))+V[6]+2821735955&4294967295,B=$+(z<<17&4294967295|z>>>15),z=k+(D^B&($^D))+V[7]+4249261313&4294967295,k=B+(z<<22&4294967295|z>>>10),z=D+($^k&(B^$))+V[8]+1770035416&4294967295,D=k+(z<<7&4294967295|z>>>25),z=$+(B^D&(k^B))+V[9]+2336552879&4294967295,$=D+(z<<12&4294967295|z>>>20),z=B+(k^$&(D^k))+V[10]+4294925233&4294967295,B=$+(z<<17&4294967295|z>>>15),z=k+(D^B&($^D))+V[11]+2304563134&4294967295,k=B+(z<<22&4294967295|z>>>10),z=D+($^k&(B^$))+V[12]+1804603682&4294967295,D=k+(z<<7&4294967295|z>>>25),z=$+(B^D&(k^B))+V[13]+4254626195&4294967295,$=D+(z<<12&4294967295|z>>>20),z=B+(k^$&(D^k))+V[14]+2792965006&4294967295,B=$+(z<<17&4294967295|z>>>15),z=k+(D^B&($^D))+V[15]+1236535329&4294967295,k=B+(z<<22&4294967295|z>>>10),z=D+(B^$&(k^B))+V[1]+4129170786&4294967295,D=k+(z<<5&4294967295|z>>>27),z=$+(k^B&(D^k))+V[6]+3225465664&4294967295,$=D+(z<<9&4294967295|z>>>23),z=B+(D^k&($^D))+V[11]+643717713&4294967295,B=$+(z<<14&4294967295|z>>>18),z=k+($^D&(B^$))+V[0]+3921069994&4294967295,k=B+(z<<20&4294967295|z>>>12),z=D+(B^$&(k^B))+V[5]+3593408605&4294967295,D=k+(z<<5&4294967295|z>>>27),z=$+(k^B&(D^k))+V[10]+38016083&4294967295,$=D+(z<<9&4294967295|z>>>23),z=B+(D^k&($^D))+V[15]+3634488961&4294967295,B=$+(z<<14&4294967295|z>>>18),z=k+($^D&(B^$))+V[4]+3889429448&4294967295,k=B+(z<<20&4294967295|z>>>12),z=D+(B^$&(k^B))+V[9]+568446438&4294967295,D=k+(z<<5&4294967295|z>>>27),z=$+(k^B&(D^k))+V[14]+3275163606&4294967295,$=D+(z<<9&4294967295|z>>>23),z=B+(D^k&($^D))+V[3]+4107603335&4294967295,B=$+(z<<14&4294967295|z>>>18),z=k+($^D&(B^$))+V[8]+1163531501&4294967295,k=B+(z<<20&4294967295|z>>>12),z=D+(B^$&(k^B))+V[13]+2850285829&4294967295,D=k+(z<<5&4294967295|z>>>27),z=$+(k^B&(D^k))+V[2]+4243563512&4294967295,$=D+(z<<9&4294967295|z>>>23),z=B+(D^k&($^D))+V[7]+1735328473&4294967295,B=$+(z<<14&4294967295|z>>>18),z=k+($^D&(B^$))+V[12]+2368359562&4294967295,k=B+(z<<20&4294967295|z>>>12),z=D+(k^B^$)+V[5]+4294588738&4294967295,D=k+(z<<4&4294967295|z>>>28),z=$+(D^k^B)+V[8]+2272392833&4294967295,$=D+(z<<11&4294967295|z>>>21),z=B+($^D^k)+V[11]+1839030562&4294967295,B=$+(z<<16&4294967295|z>>>16),z=k+(B^$^D)+V[14]+4259657740&4294967295,k=B+(z<<23&4294967295|z>>>9),z=D+(k^B^$)+V[1]+2763975236&4294967295,D=k+(z<<4&4294967295|z>>>28),z=$+(D^k^B)+V[4]+1272893353&4294967295,$=D+(z<<11&4294967295|z>>>21),z=B+($^D^k)+V[7]+4139469664&4294967295,B=$+(z<<16&4294967295|z>>>16),z=k+(B^$^D)+V[10]+3200236656&4294967295,k=B+(z<<23&4294967295|z>>>9),z=D+(k^B^$)+V[13]+681279174&4294967295,D=k+(z<<4&4294967295|z>>>28),z=$+(D^k^B)+V[0]+3936430074&4294967295,$=D+(z<<11&4294967295|z>>>21),z=B+($^D^k)+V[3]+3572445317&4294967295,B=$+(z<<16&4294967295|z>>>16),z=k+(B^$^D)+V[6]+76029189&4294967295,k=B+(z<<23&4294967295|z>>>9),z=D+(k^B^$)+V[9]+3654602809&4294967295,D=k+(z<<4&4294967295|z>>>28),z=$+(D^k^B)+V[12]+3873151461&4294967295,$=D+(z<<11&4294967295|z>>>21),z=B+($^D^k)+V[15]+530742520&4294967295,B=$+(z<<16&4294967295|z>>>16),z=k+(B^$^D)+V[2]+3299628645&4294967295,k=B+(z<<23&4294967295|z>>>9),z=D+(B^(k|~$))+V[0]+4096336452&4294967295,D=k+(z<<6&4294967295|z>>>26),z=$+(k^(D|~B))+V[7]+1126891415&4294967295,$=D+(z<<10&4294967295|z>>>22),z=B+(D^($|~k))+V[14]+2878612391&4294967295,B=$+(z<<15&4294967295|z>>>17),z=k+($^(B|~D))+V[5]+4237533241&4294967295,k=B+(z<<21&4294967295|z>>>11),z=D+(B^(k|~$))+V[12]+1700485571&4294967295,D=k+(z<<6&4294967295|z>>>26),z=$+(k^(D|~B))+V[3]+2399980690&4294967295,$=D+(z<<10&4294967295|z>>>22),z=B+(D^($|~k))+V[10]+4293915773&4294967295,B=$+(z<<15&4294967295|z>>>17),z=k+($^(B|~D))+V[1]+2240044497&4294967295,k=B+(z<<21&4294967295|z>>>11),z=D+(B^(k|~$))+V[8]+1873313359&4294967295,D=k+(z<<6&4294967295|z>>>26),z=$+(k^(D|~B))+V[15]+4264355552&4294967295,$=D+(z<<10&4294967295|z>>>22),z=B+(D^($|~k))+V[6]+2734768916&4294967295,B=$+(z<<15&4294967295|z>>>17),z=k+($^(B|~D))+V[13]+1309151649&4294967295,k=B+(z<<21&4294967295|z>>>11),z=D+(B^(k|~$))+V[4]+4149444226&4294967295,D=k+(z<<6&4294967295|z>>>26),z=$+(k^(D|~B))+V[11]+3174756917&4294967295,$=D+(z<<10&4294967295|z>>>22),z=B+(D^($|~k))+V[2]+718787259&4294967295,B=$+(z<<15&4294967295|z>>>17),z=k+($^(B|~D))+V[9]+3951481745&4294967295,O.g[0]=O.g[0]+D&4294967295,O.g[1]=O.g[1]+(B+(z<<21&4294967295|z>>>11))&4294967295,O.g[2]=O.g[2]+B&4294967295,O.g[3]=O.g[3]+$&4294967295}i.prototype.u=function(O,D){D===void 0&&(D=O.length);for(var k=D-this.blockSize,V=this.B,B=this.h,$=0;$<D;){if(B==0)for(;$<=k;)r(this,O,$),$+=this.blockSize;if(typeof O=="string"){for(;$<D;)if(V[B++]=O.charCodeAt($++),B==this.blockSize){r(this,V),B=0;break}}else for(;$<D;)if(V[B++]=O[$++],B==this.blockSize){r(this,V),B=0;break}}this.h=B,this.o+=D},i.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var D=1;D<O.length-8;++D)O[D]=0;var k=8*this.o;for(D=O.length-8;D<O.length;++D)O[D]=k&255,k/=256;for(this.u(O),O=Array(16),D=k=0;4>D;++D)for(var V=0;32>V;V+=8)O[k++]=this.g[D]>>>V&255;return O};function s(O,D){var k=c;return Object.prototype.hasOwnProperty.call(k,O)?k[O]:k[O]=D(O)}function a(O,D){this.h=D;for(var k=[],V=!0,B=O.length-1;0<=B;B--){var $=O[B]|0;V&&$==D||(k[B]=$,V=!1)}this.g=k}var c={};function u(O){return-128<=O&&128>O?s(O,function(D){return new a([D|0],0>D?-1:0)}):new a([O|0],0>O?-1:0)}function d(O){if(isNaN(O)||!isFinite(O))return g;if(0>O)return S(d(-O));for(var D=[],k=1,V=0;O>=k;V++)D[V]=O/k|0,k*=4294967296;return new a(D,0)}function f(O,D){if(O.length==0)throw Error("number format error: empty string");if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(O.charAt(0)=="-")return S(f(O.substring(1),D));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=d(Math.pow(D,8)),V=g,B=0;B<O.length;B+=8){var $=Math.min(8,O.length-B),z=parseInt(O.substring(B,B+$),D);8>$?($=d(Math.pow(D,$)),V=V.j($).add(d(z))):(V=V.j(k),V=V.add(d(z)))}return V}var g=u(0),y=u(1),v=u(16777216);n=a.prototype,n.m=function(){if(x(this))return-S(this).m();for(var O=0,D=1,k=0;k<this.g.length;k++){var V=this.i(k);O+=(0<=V?V:4294967296+V)*D,D*=4294967296}return O},n.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(E(this))return"0";if(x(this))return"-"+S(this).toString(O);for(var D=d(Math.pow(O,6)),k=this,V="";;){var B=L(k,D).g;k=R(k,B.j(D));var $=((0<k.g.length?k.g[0]:k.h)>>>0).toString(O);if(k=B,E(k))return $+V;for(;6>$.length;)$="0"+$;V=$+V}},n.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function E(O){if(O.h!=0)return!1;for(var D=0;D<O.g.length;D++)if(O.g[D]!=0)return!1;return!0}function x(O){return O.h==-1}n.l=function(O){return O=R(this,O),x(O)?-1:E(O)?0:1};function S(O){for(var D=O.g.length,k=[],V=0;V<D;V++)k[V]=~O.g[V];return new a(k,~O.h).add(y)}n.abs=function(){return x(this)?S(this):this},n.add=function(O){for(var D=Math.max(this.g.length,O.g.length),k=[],V=0,B=0;B<=D;B++){var $=V+(this.i(B)&65535)+(O.i(B)&65535),z=($>>>16)+(this.i(B)>>>16)+(O.i(B)>>>16);V=z>>>16,$&=65535,z&=65535,k[B]=z<<16|$}return new a(k,k[k.length-1]&-2147483648?-1:0)};function R(O,D){return O.add(S(D))}n.j=function(O){if(E(this)||E(O))return g;if(x(this))return x(O)?S(this).j(S(O)):S(S(this).j(O));if(x(O))return S(this.j(S(O)));if(0>this.l(v)&&0>O.l(v))return d(this.m()*O.m());for(var D=this.g.length+O.g.length,k=[],V=0;V<2*D;V++)k[V]=0;for(V=0;V<this.g.length;V++)for(var B=0;B<O.g.length;B++){var $=this.i(V)>>>16,z=this.i(V)&65535,bt=O.i(B)>>>16,J=O.i(B)&65535;k[2*V+2*B]+=z*J,C(k,2*V+2*B),k[2*V+2*B+1]+=$*J,C(k,2*V+2*B+1),k[2*V+2*B+1]+=z*bt,C(k,2*V+2*B+1),k[2*V+2*B+2]+=$*bt,C(k,2*V+2*B+2)}for(V=0;V<D;V++)k[V]=k[2*V+1]<<16|k[2*V];for(V=D;V<2*D;V++)k[V]=0;return new a(k,0)};function C(O,D){for(;(O[D]&65535)!=O[D];)O[D+1]+=O[D]>>>16,O[D]&=65535,D++}function P(O,D){this.g=O,this.h=D}function L(O,D){if(E(D))throw Error("division by zero");if(E(O))return new P(g,g);if(x(O))return D=L(S(O),D),new P(S(D.g),S(D.h));if(x(D))return D=L(O,S(D)),new P(S(D.g),D.h);if(30<O.g.length){if(x(O)||x(D))throw Error("slowDivide_ only works with positive integers.");for(var k=y,V=D;0>=V.l(O);)k=N(k),V=N(V);var B=j(k,1),$=j(V,1);for(V=j(V,2),k=j(k,2);!E(V);){var z=$.add(V);0>=z.l(O)&&(B=B.add(k),$=z),V=j(V,1),k=j(k,1)}return D=R(O,B.j(D)),new P(B,D)}for(B=g;0<=O.l(D);){for(k=Math.max(1,Math.floor(O.m()/D.m())),V=Math.ceil(Math.log(k)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),$=d(k),z=$.j(D);x(z)||0<z.l(O);)k-=V,$=d(k),z=$.j(D);E($)&&($=y),B=B.add($),O=R(O,z)}return new P(B,O)}n.A=function(O){return L(this,O).h},n.and=function(O){for(var D=Math.max(this.g.length,O.g.length),k=[],V=0;V<D;V++)k[V]=this.i(V)&O.i(V);return new a(k,this.h&O.h)},n.or=function(O){for(var D=Math.max(this.g.length,O.g.length),k=[],V=0;V<D;V++)k[V]=this.i(V)|O.i(V);return new a(k,this.h|O.h)},n.xor=function(O){for(var D=Math.max(this.g.length,O.g.length),k=[],V=0;V<D;V++)k[V]=this.i(V)^O.i(V);return new a(k,this.h^O.h)};function N(O){for(var D=O.g.length+1,k=[],V=0;V<D;V++)k[V]=O.i(V)<<1|O.i(V-1)>>>31;return new a(k,O.h)}function j(O,D){var k=D>>5;D%=32;for(var V=O.g.length-k,B=[],$=0;$<V;$++)B[$]=0<D?O.i($+k)>>>D|O.i($+k+1)<<32-D:O.i($+k);return new a(B,O.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,dk=i,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=d,a.fromString=f,Gl=a}).apply(typeof XC<"u"?XC:typeof self<"u"?self:typeof window<"u"?window:{});var Qp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var fk,tm,mk,Oy,ZT,gk,pk,yk;(function(){var n,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(p,A,I){return p==Array.prototype||p==Object.prototype||(p[A]=I.value),p};function e(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof Qp=="object"&&Qp];for(var A=0;A<p.length;++A){var I=p[A];if(I&&I.Math==Math)return I}throw Error("Cannot find global object")}var i=e(this);function r(p,A){if(A)t:{var I=i;p=p.split(".");for(var F=0;F<p.length-1;F++){var et=p[F];if(!(et in I))break t;I=I[et]}p=p[p.length-1],F=I[p],A=A(F),A!=F&&A!=null&&t(I,p,{configurable:!0,writable:!0,value:A})}}function s(p,A){p instanceof String&&(p+="");var I=0,F=!1,et={next:function(){if(!F&&I<p.length){var at=I++;return{value:A(at,p[at]),done:!1}}return F=!0,{done:!0,value:void 0}}};return et[Symbol.iterator]=function(){return et},et}r("Array.prototype.values",function(p){return p||function(){return s(this,function(A,I){return I})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},c=this||self;function u(p){var A=typeof p;return A=A!="object"?A:p?Array.isArray(p)?"array":A:"null",A=="array"||A=="object"&&typeof p.length=="number"}function d(p){var A=typeof p;return A=="object"&&p!=null||A=="function"}function f(p,A,I){return p.call.apply(p.bind,arguments)}function g(p,A,I){if(!p)throw Error();if(2<arguments.length){var F=Array.prototype.slice.call(arguments,2);return function(){var et=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(et,F),p.apply(A,et)}}return function(){return p.apply(A,arguments)}}function y(p,A,I){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:g,y.apply(null,arguments)}function v(p,A){var I=Array.prototype.slice.call(arguments,1);return function(){var F=I.slice();return F.push.apply(F,arguments),p.apply(this,F)}}function E(p,A){function I(){}I.prototype=A.prototype,p.aa=A.prototype,p.prototype=new I,p.prototype.constructor=p,p.Qb=function(F,et,at){for(var At=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)At[ze-2]=arguments[ze];return A.prototype[et].apply(F,At)}}function x(p){const A=p.length;if(0<A){const I=Array(A);for(let F=0;F<A;F++)I[F]=p[F];return I}return[]}function S(p,A){for(let I=1;I<arguments.length;I++){const F=arguments[I];if(u(F)){const et=p.length||0,at=F.length||0;p.length=et+at;for(let At=0;At<at;At++)p[et+At]=F[At]}else p.push(F)}}class R{constructor(A,I){this.i=A,this.j=I,this.h=0,this.g=null}get(){let A;return 0<this.h?(this.h--,A=this.g,this.g=A.next,A.next=null):A=this.i(),A}}function C(p){return/^[\s\xa0]*$/.test(p)}function P(){var p=c.navigator;return p&&(p=p.userAgent)?p:""}function L(p){return L[" "](p),p}L[" "]=function(){};var N=P().indexOf("Gecko")!=-1&&!(P().toLowerCase().indexOf("webkit")!=-1&&P().indexOf("Edge")==-1)&&!(P().indexOf("Trident")!=-1||P().indexOf("MSIE")!=-1)&&P().indexOf("Edge")==-1;function j(p,A,I){for(const F in p)A.call(I,p[F],F,p)}function O(p,A){for(const I in p)A.call(void 0,p[I],I,p)}function D(p){const A={};for(const I in p)A[I]=p[I];return A}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(p,A){let I,F;for(let et=1;et<arguments.length;et++){F=arguments[et];for(I in F)p[I]=F[I];for(let at=0;at<k.length;at++)I=k[at],Object.prototype.hasOwnProperty.call(F,I)&&(p[I]=F[I])}}function B(p){var A=1;p=p.split(":");const I=[];for(;0<A&&p.length;)I.push(p.shift()),A--;return p.length&&I.push(p.join(":")),I}function $(p){c.setTimeout(()=>{throw p},0)}function z(){var p=ot;let A=null;return p.g&&(A=p.g,p.g=p.g.next,p.g||(p.h=null),A.next=null),A}class bt{constructor(){this.h=this.g=null}add(A,I){const F=J.get();F.set(A,I),this.h?this.h.next=F:this.g=F,this.h=F}}var J=new R(()=>new X,p=>p.reset());class X{constructor(){this.next=this.g=this.h=null}set(A,I){this.h=A,this.g=I,this.next=null}reset(){this.next=this.g=this.h=null}}let lt,ht=!1,ot=new bt,H=()=>{const p=c.Promise.resolve(void 0);lt=()=>{p.then(rt)}};var rt=()=>{for(var p;p=z();){try{p.h.call(p.g)}catch(I){$(I)}var A=J;A.j(p),100>A.h&&(A.h++,p.next=A.g,A.g=p)}ht=!1};function wt(){this.s=this.s,this.C=this.C}wt.prototype.s=!1,wt.prototype.ma=function(){this.s||(this.s=!0,this.N())},wt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Tt(p,A){this.type=p,this.g=this.target=A,this.defaultPrevented=!1}Tt.prototype.h=function(){this.defaultPrevented=!0};var pt=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var p=!1,A=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const I=()=>{};c.addEventListener("test",I,A),c.removeEventListener("test",I,A)}catch{}return p}();function xt(p,A){if(Tt.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p){var I=this.type=p.type,F=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;if(this.target=p.target||p.srcElement,this.g=A,A=p.relatedTarget){if(N){t:{try{L(A.nodeName);var et=!0;break t}catch{}et=!1}et||(A=null)}}else I=="mouseover"?A=p.fromElement:I=="mouseout"&&(A=p.toElement);this.relatedTarget=A,F?(this.clientX=F.clientX!==void 0?F.clientX:F.pageX,this.clientY=F.clientY!==void 0?F.clientY:F.pageY,this.screenX=F.screenX||0,this.screenY=F.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=typeof p.pointerType=="string"?p.pointerType:St[p.pointerType]||"",this.state=p.state,this.i=p,p.defaultPrevented&&xt.aa.h.call(this)}}E(xt,Tt);var St={2:"touch",3:"pen",4:"mouse"};xt.prototype.h=function(){xt.aa.h.call(this);var p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var Xt="closure_listenable_"+(1e6*Math.random()|0),ce=0;function Gt(p,A,I,F,et){this.listener=p,this.proxy=null,this.src=A,this.type=I,this.capture=!!F,this.ha=et,this.key=++ce,this.da=this.fa=!1}function Wt(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function Ye(p){this.src=p,this.g={},this.h=0}Ye.prototype.add=function(p,A,I,F,et){var at=p.toString();p=this.g[at],p||(p=this.g[at]=[],this.h++);var At=ge(p,A,F,et);return-1<At?(A=p[At],I||(A.fa=!1)):(A=new Gt(A,this.src,at,!!F,et),A.fa=I,p.push(A)),A};function kn(p,A){var I=A.type;if(I in p.g){var F=p.g[I],et=Array.prototype.indexOf.call(F,A,void 0),at;(at=0<=et)&&Array.prototype.splice.call(F,et,1),at&&(Wt(A),p.g[I].length==0&&(delete p.g[I],p.h--))}}function ge(p,A,I,F){for(var et=0;et<p.length;++et){var at=p[et];if(!at.da&&at.listener==A&&at.capture==!!I&&at.ha==F)return et}return-1}var Nn="closure_lm_"+(1e6*Math.random()|0),Jn={};function hn(p,A,I,F,et){if(Array.isArray(A)){for(var at=0;at<A.length;at++)hn(p,A[at],I,F,et);return null}return I=Yn(I),p&&p[Xt]?p.K(A,I,d(F)?!!F.capture:!1,et):ti(p,A,I,!1,F,et)}function ti(p,A,I,F,et,at){if(!A)throw Error("Invalid event type");var At=d(et)?!!et.capture:!!et,ze=Ai(p);if(ze||(p[Nn]=ze=new Ye(p)),I=ze.add(A,I,F,At,at),I.proxy)return I;if(F=Nr(),I.proxy=F,F.src=p,F.listener=I,p.addEventListener)pt||(et=At),et===void 0&&(et=!1),p.addEventListener(A.toString(),F,et);else if(p.attachEvent)p.attachEvent(li(A.toString()),F);else if(p.addListener&&p.removeListener)p.addListener(F);else throw Error("addEventListener and attachEvent are unavailable.");return I}function Nr(){function p(I){return A.call(p.src,p.listener,I)}const A=sn;return p}function Si(p,A,I,F,et){if(Array.isArray(A))for(var at=0;at<A.length;at++)Si(p,A[at],I,F,et);else F=d(F)?!!F.capture:!!F,I=Yn(I),p&&p[Xt]?(p=p.i,A=String(A).toString(),A in p.g&&(at=p.g[A],I=ge(at,I,F,et),-1<I&&(Wt(at[I]),Array.prototype.splice.call(at,I,1),at.length==0&&(delete p.g[A],p.h--)))):p&&(p=Ai(p))&&(A=p.g[A.toString()],p=-1,A&&(p=ge(A,I,F,et)),(I=-1<p?A[p]:null)&&zn(I))}function zn(p){if(typeof p!="number"&&p&&!p.da){var A=p.src;if(A&&A[Xt])kn(A.i,p);else{var I=p.type,F=p.proxy;A.removeEventListener?A.removeEventListener(I,F,p.capture):A.detachEvent?A.detachEvent(li(I),F):A.addListener&&A.removeListener&&A.removeListener(F),(I=Ai(A))?(kn(I,p),I.h==0&&(I.src=null,A[Nn]=null)):Wt(p)}}}function li(p){return p in Jn?Jn[p]:Jn[p]="on"+p}function sn(p,A){if(p.da)p=!0;else{A=new xt(A,this);var I=p.listener,F=p.ha||p.src;p.fa&&zn(p),p=I.call(F,A)}return p}function Ai(p){return p=p[Nn],p instanceof Ye?p:null}var on="__closure_events_fn_"+(1e9*Math.random()>>>0);function Yn(p){return typeof p=="function"?p:(p[on]||(p[on]=function(A){return p.handleEvent(A)}),p[on])}function Ue(){wt.call(this),this.i=new Ye(this),this.M=this,this.F=null}E(Ue,wt),Ue.prototype[Xt]=!0,Ue.prototype.removeEventListener=function(p,A,I,F){Si(this,p,A,I,F)};function dn(p,A){var I,F=p.F;if(F)for(I=[];F;F=F.F)I.push(F);if(p=p.M,F=A.type||A,typeof A=="string")A=new Tt(A,p);else if(A instanceof Tt)A.target=A.target||p;else{var et=A;A=new Tt(F,p),V(A,et)}if(et=!0,I)for(var at=I.length-1;0<=at;at--){var At=A.g=I[at];et=ci(At,F,!0,A)&&et}if(At=A.g=p,et=ci(At,F,!0,A)&&et,et=ci(At,F,!1,A)&&et,I)for(at=0;at<I.length;at++)At=A.g=I[at],et=ci(At,F,!1,A)&&et}Ue.prototype.N=function(){if(Ue.aa.N.call(this),this.i){var p=this.i,A;for(A in p.g){for(var I=p.g[A],F=0;F<I.length;F++)Wt(I[F]);delete p.g[A],p.h--}}this.F=null},Ue.prototype.K=function(p,A,I,F){return this.i.add(String(p),A,!1,I,F)},Ue.prototype.L=function(p,A,I,F){return this.i.add(String(p),A,!0,I,F)};function ci(p,A,I,F){if(A=p.i.g[String(A)],!A)return!0;A=A.concat();for(var et=!0,at=0;at<A.length;++at){var At=A[at];if(At&&!At.da&&At.capture==I){var ze=At.listener,Ri=At.ha||At.src;At.fa&&kn(p.i,At),et=ze.call(Ri,F)!==!1&&et}}return et&&!F.defaultPrevented}function Gs(p,A,I){if(typeof p=="function")I&&(p=y(p,I));else if(p&&typeof p.handleEvent=="function")p=y(p.handleEvent,p);else throw Error("Invalid listener argument");return 2147483647<Number(A)?-1:c.setTimeout(p,A||0)}function vr(p){p.g=Gs(()=>{p.g=null,p.i&&(p.i=!1,vr(p))},p.l);const A=p.h;p.h=null,p.m.apply(null,A)}class mo extends wt{constructor(A,I){super(),this.m=A,this.l=I,this.h=null,this.i=!1,this.g=null}j(A){this.h=arguments,this.g?this.i=!0:vr(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Wr(p){wt.call(this),this.h=p,this.g={}}E(Wr,wt);var Fn=[];function ei(p){j(p.g,function(A,I){this.g.hasOwnProperty(I)&&zn(A)},p),p.g={}}Wr.prototype.N=function(){Wr.aa.N.call(this),ei(this)},Wr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var os=c.JSON.stringify,pe=c.JSON.parse,Pe=class{stringify(p){return c.JSON.stringify(p,void 0)}parse(p){return c.JSON.parse(p,void 0)}};function go(){}go.prototype.h=null;function ia(p){return p.h||(p.h=p.i())}function bc(){}var ws={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ws(){Tt.call(this,"d")}E(Ws,Tt);function br(){Tt.call(this,"c")}E(br,Tt);var Ji={},po=null;function el(){return po=po||new Ue}Ji.La="serverreachability";function Y(p){Tt.call(this,Ji.La,p)}E(Y,Tt);function Q(p){const A=el();dn(A,new Y(A))}Ji.STAT_EVENT="statevent";function st(p,A){Tt.call(this,Ji.STAT_EVENT,p),this.stat=A}E(st,Tt);function dt(p){const A=el();dn(A,new st(A,p))}Ji.Ma="timingevent";function Dt(p,A){Tt.call(this,Ji.Ma,p),this.size=A}E(Dt,Tt);function Ht(p,A){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){p()},A)}function $t(){this.g=!0}$t.prototype.xa=function(){this.g=!1};function zt(p,A,I,F,et,at){p.info(function(){if(p.g)if(at)for(var At="",ze=at.split("&"),Ri=0;Ri<ze.length;Ri++){var Fe=ze[Ri].split("=");if(1<Fe.length){var ji=Fe[0];Fe=Fe[1];var Ci=ji.split("_");At=2<=Ci.length&&Ci[1]=="type"?At+(ji+"="+Fe+"&"):At+(ji+"=redacted&")}}else At=null;else At=at;return"XMLHTTP REQ ("+F+") [attempt "+et+"]: "+A+`
`+I+`
`+At})}function Bt(p,A,I,F,et,at,At){p.info(function(){return"XMLHTTP RESP ("+F+") [ attempt "+et+"]: "+A+`
`+I+`
`+at+" "+At})}function Mt(p,A,I,F){p.info(function(){return"XMLHTTP TEXT ("+A+"): "+Lt(p,I)+(F?" "+F:"")})}function Pt(p,A){p.info(function(){return"TIMEOUT: "+A})}$t.prototype.info=function(){};function Lt(p,A){if(!p.g)return A;if(!A)return null;try{var I=JSON.parse(A);if(I){for(p=0;p<I.length;p++)if(Array.isArray(I[p])){var F=I[p];if(!(2>F.length)){var et=F[1];if(Array.isArray(et)&&!(1>et.length)){var at=et[0];if(at!="noop"&&at!="stop"&&at!="close")for(var At=1;At<et.length;At++)et[At]=""}}}}return os(I)}catch{return A}}var Kt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ge={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Bn;function yn(){}E(yn,go),yn.prototype.g=function(){return new XMLHttpRequest},yn.prototype.i=function(){return{}},Bn=new yn;function He(p,A,I,F){this.j=p,this.i=A,this.l=I,this.R=F||1,this.U=new Wr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Pn}function Pn(){this.i=null,this.g="",this.h=!1}var Pr={},as={};function ui(p,A,I){p.L=1,p.v=xc(ni(A)),p.m=I,p.P=!0,_i(p,null)}function _i(p,A){p.F=Date.now(),Ze(p),p.A=ni(p.v);var I=p.A,F=p.R;Array.isArray(F)||(F=[String(F)]),aa(I.i,"t",F),p.C=0,I=p.j.J,p.h=new Pn,p.g=jg(p.j,I?A:null,!p.m),0<p.O&&(p.M=new mo(y(p.Y,p,p.g),p.O)),A=p.U,I=p.g,F=p.ca;var et="readystatechange";Array.isArray(et)||(et&&(Fn[0]=et.toString()),et=Fn);for(var at=0;at<et.length;at++){var At=hn(I,et[at],F||A.handleEvent,!1,A.h||A);if(!At)break;A.g[At.key]=At}A=p.H?D(p.H):{},p.m?(p.u||(p.u="POST"),A["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.A,p.u,p.m,A)):(p.u="GET",p.g.ea(p.A,p.u,null,A)),Q(),zt(p.i,p.u,p.A,p.l,p.R,p.m)}He.prototype.ca=function(p){p=p.target;const A=this.M;A&&Ds(p)==3?A.j():this.Y(p)},He.prototype.Y=function(p){try{if(p==this.g)t:{const Ci=Ds(this.g);var A=this.g.Ba();const ha=this.g.Z();if(!(3>Ci)&&(Ci!=3||this.g&&(this.h.h||this.g.oa()||Ng(this.g)))){this.J||Ci!=4||A==7||(A==8||0>=ha?Q(3):Q(2)),Ks(this);var I=this.g.Z();this.X=I;e:if(Es(this)){var F=Ng(this.g);p="";var et=F.length,at=Ds(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Je(this),be(this);var At="";break e}this.h.i=new c.TextDecoder}for(A=0;A<et;A++)this.h.h=!0,p+=this.h.i.decode(F[A],{stream:!(at&&A==et-1)});F.length=0,this.h.g+=p,this.C=0,At=this.h.g}else At=this.g.oa();if(this.o=I==200,Bt(this.i,this.u,this.A,this.l,this.R,Ci,I),this.o){if(this.T&&!this.K){e:{if(this.g){var ze,Ri=this.g;if((ze=Ri.g?Ri.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(ze)){var Fe=ze;break e}}Fe=null}if(I=Fe)Mt(this.i,this.l,I,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Fi(this,I);else{this.o=!1,this.s=3,dt(12),Je(this),be(this);break t}}if(this.P){I=!0;let tr;for(;!this.J&&this.C<At.length;)if(tr=Kr(this,At),tr==as){Ci==4&&(this.s=4,dt(14),I=!1),Mt(this.i,this.l,null,"[Incomplete Response]");break}else if(tr==Pr){this.s=4,dt(15),Mt(this.i,this.l,At,"[Invalid Chunk]"),I=!1;break}else Mt(this.i,this.l,tr,null),Fi(this,tr);if(Es(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ci!=4||At.length!=0||this.h.h||(this.s=1,dt(16),I=!1),this.o=this.o&&I,!I)Mt(this.i,this.l,At,"[Invalid Chunked Response]"),Je(this),be(this);else if(0<At.length&&!this.W){this.W=!0;var ji=this.j;ji.g==this&&ji.ba&&!ji.M&&(ji.j.info("Great, no buffering proxy detected. Bytes received: "+At.length),Mc(ji),ji.M=!0,dt(11))}}else Mt(this.i,this.l,At,null),Fi(this,At);Ci==4&&Je(this),this.o&&!this.J&&(Ci==4?zg(this.j,this):(this.o=!1,Ze(this)))}else z_(this.g),I==400&&0<At.indexOf("Unknown SID")?(this.s=3,dt(12)):(this.s=0,dt(13)),Je(this),be(this)}}}catch{}finally{}};function Es(p){return p.g?p.u=="GET"&&p.L!=2&&p.j.Ca:!1}function Kr(p,A){var I=p.C,F=A.indexOf(`
`,I);return F==-1?as:(I=Number(A.substring(I,F)),isNaN(I)?Pr:(F+=1,F+I>A.length?as:(A=A.slice(F,F+I),p.C=F+I,A)))}He.prototype.cancel=function(){this.J=!0,Je(this)};function Ze(p){p.S=Date.now()+p.I,yo(p,p.I)}function yo(p,A){if(p.B!=null)throw Error("WatchDog timer not null");p.B=Ht(y(p.ba,p),A)}function Ks(p){p.B&&(c.clearTimeout(p.B),p.B=null)}He.prototype.ba=function(){this.B=null;const p=Date.now();0<=p-this.S?(Pt(this.i,this.A),this.L!=2&&(Q(),dt(17)),Je(this),this.s=2,be(this)):yo(this,this.S-p)};function be(p){p.j.G==0||p.J||zg(p.j,p)}function Je(p){Ks(p);var A=p.M;A&&typeof A.ma=="function"&&A.ma(),p.M=null,ei(p.U),p.g&&(A=p.g,p.g=null,A.abort(),A.ma())}function Fi(p,A){try{var I=p.j;if(I.G!=0&&(I.g==p||_o(I.h,p))){if(!p.K&&_o(I.h,p)&&I.G==3){try{var F=I.Da.g.parse(A)}catch{F=null}if(Array.isArray(F)&&F.length==3){var et=F;if(et[0]==0){t:if(!I.u){if(I.g)if(I.g.F+3e3<p.F)Xu(I),Wu(I);else break t;Wd(I),dt(18)}}else I.za=et[1],0<I.za-I.T&&37500>et[2]&&I.F&&I.v==0&&!I.C&&(I.C=Ht(y(I.Za,I),6e3));if(1>=Tc(I.h)&&I.ca){try{I.ca()}catch{}I.ca=void 0}}else ua(I,11)}else if((p.K||I.g==p)&&Xu(I),!C(A))for(et=I.Da.g.parse(A),A=0;A<et.length;A++){let Fe=et[A];if(I.T=Fe[0],Fe=Fe[1],I.G==2)if(Fe[0]=="c"){I.K=Fe[1],I.ia=Fe[2];const ji=Fe[3];ji!=null&&(I.la=ji,I.j.info("VER="+I.la));const Ci=Fe[4];Ci!=null&&(I.Aa=Ci,I.j.info("SVER="+I.Aa));const ha=Fe[5];ha!=null&&typeof ha=="number"&&0<ha&&(F=1.5*ha,I.L=F,I.j.info("backChannelRequestTimeoutMs_="+F)),F=I;const tr=p.g;if(tr){const So=tr.g?tr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(So){var at=F.h;at.g||So.indexOf("spdy")==-1&&So.indexOf("quic")==-1&&So.indexOf("h2")==-1||(at.j=at.l,at.g=new Set,at.h&&(nl(at,at.h),at.h=null))}if(F.D){const Xd=tr.g?tr.g.getResponseHeader("X-HTTP-Session-Id"):null;Xd&&(F.ya=Xd,We(F.I,F.D,Xd))}}I.G=3,I.l&&I.l.ua(),I.ba&&(I.R=Date.now()-p.F,I.j.info("Handshake RTT: "+I.R+"ms")),F=I;var At=p;if(F.qa=Bg(F,F.J?F.ia:null,F.W),At.K){Ss(F.h,At);var ze=At,Ri=F.L;Ri&&(ze.I=Ri),ze.B&&(Ks(ze),Ze(ze)),F.g=At}else Vg(F);0<I.i.length&&Ku(I)}else Fe[0]!="stop"&&Fe[0]!="close"||ua(I,7);else I.G==3&&(Fe[0]=="stop"||Fe[0]=="close"?Fe[0]=="stop"?ua(I,7):Yd(I):Fe[0]!="noop"&&I.l&&I.l.ta(Fe),I.v=0)}}Q(4)}catch{}}var ra=class{constructor(p,A){this.g=p,this.map=A}};function wn(p){this.l=p||10,c.PerformanceNavigationTiming?(p=c.performance.getEntriesByType("navigation"),p=0<p.length&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function xs(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function Tc(p){return p.h?1:p.g?p.g.size:0}function _o(p,A){return p.h?p.h==A:p.g?p.g.has(A):!1}function nl(p,A){p.g?p.g.add(A):p.h=A}function Ss(p,A){p.h&&p.h==A?p.h=null:p.g&&p.g.has(A)&&p.g.delete(A)}wn.prototype.cancel=function(){if(this.i=Lr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function Lr(p){if(p.h!=null)return p.i.concat(p.h.D);if(p.g!=null&&p.g.size!==0){let A=p.i;for(const I of p.g.values())A=A.concat(I.D);return A}return x(p.i)}function Ig(p){if(p.V&&typeof p.V=="function")return p.V();if(typeof Map<"u"&&p instanceof Map||typeof Set<"u"&&p instanceof Set)return Array.from(p.values());if(typeof p=="string")return p.split("");if(u(p)){for(var A=[],I=p.length,F=0;F<I;F++)A.push(p[F]);return A}A=[],I=0;for(F in p)A[I++]=p[F];return A}function P_(p){if(p.na&&typeof p.na=="function")return p.na();if(!p.V||typeof p.V!="function"){if(typeof Map<"u"&&p instanceof Map)return Array.from(p.keys());if(!(typeof Set<"u"&&p instanceof Set)){if(u(p)||typeof p=="string"){var A=[];p=p.length;for(var I=0;I<p;I++)A.push(I);return A}A=[],I=0;for(const F in p)A[I++]=F;return A}}}function wc(p,A){if(p.forEach&&typeof p.forEach=="function")p.forEach(A,void 0);else if(u(p)||typeof p=="string")Array.prototype.forEach.call(p,A,void 0);else for(var I=P_(p),F=Ig(p),et=F.length,at=0;at<et;at++)A.call(void 0,F[at],I&&I[at],p)}var Fd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Bu(p,A){if(p){p=p.split("&");for(var I=0;I<p.length;I++){var F=p[I].indexOf("="),et=null;if(0<=F){var at=p[I].substring(0,F);et=p[I].substring(F+1)}else at=p[I];A(at,et?decodeURIComponent(et.replace(/\+/g," ")):"")}}}function sa(p){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,p instanceof sa){this.h=p.h,il(this,p.j),this.o=p.o,this.g=p.g,Ec(this,p.s),this.l=p.l;var A=p.i,I=new vo;I.i=A.i,A.g&&(I.g=new Map(A.g),I.h=A.h),ju(this,I),this.m=p.m}else p&&(A=String(p).match(Fd))?(this.h=!1,il(this,A[1]||"",!0),this.o=rl(A[2]||""),this.g=rl(A[3]||"",!0),Ec(this,A[4]),this.l=rl(A[5]||"",!0),ju(this,A[6]||"",!0),this.m=rl(A[7]||"")):(this.h=!1,this.i=new vo(null,this.h))}sa.prototype.toString=function(){var p=[],A=this.j;A&&p.push(As(A,Bd,!0),":");var I=this.g;return(I||A=="file")&&(p.push("//"),(A=this.o)&&p.push(As(A,Bd,!0),"@"),p.push(encodeURIComponent(String(I)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),I=this.s,I!=null&&p.push(":",String(I))),(I=this.l)&&(this.g&&I.charAt(0)!="/"&&p.push("/"),p.push(As(I,I.charAt(0)=="/"?jd:Mg,!0))),(I=this.i.toString())&&p.push("?",I),(I=this.m)&&p.push("#",As(I,U_)),p.join("")};function ni(p){return new sa(p)}function il(p,A,I){p.j=I?rl(A,!0):A,p.j&&(p.j=p.j.replace(/:$/,""))}function Ec(p,A){if(A){if(A=Number(A),isNaN(A)||0>A)throw Error("Bad port number "+A);p.s=A}else p.s=null}function ju(p,A,I){A instanceof vo?(p.i=A,$d(p.i,p.h)):(I||(A=As(A,V_)),p.i=new vo(A,p.h))}function We(p,A,I){p.i.set(A,I)}function xc(p){return We(p,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),p}function rl(p,A){return p?A?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function As(p,A,I){return typeof p=="string"?(p=encodeURI(p).replace(A,L_),I&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function L_(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var Bd=/[#\/\?@]/g,Mg=/[#\?:]/g,jd=/[#\?]/g,V_=/[#\?@]/g,U_=/#/g;function vo(p,A){this.h=this.g=null,this.i=p||null,this.j=!!A}function Rs(p){p.g||(p.g=new Map,p.h=0,p.i&&Bu(p.i,function(A,I){p.add(decodeURIComponent(A.replace(/\+/g," ")),I)}))}n=vo.prototype,n.add=function(p,A){Rs(this),this.i=null,p=la(this,p);var I=this.g.get(p);return I||this.g.set(p,I=[]),I.push(A),this.h+=1,this};function $u(p,A){Rs(p),A=la(p,A),p.g.has(A)&&(p.i=null,p.h-=p.g.get(A).length,p.g.delete(A))}function oa(p,A){return Rs(p),A=la(p,A),p.g.has(A)}n.forEach=function(p,A){Rs(this),this.g.forEach(function(I,F){I.forEach(function(et){p.call(A,et,F,this)},this)},this)},n.na=function(){Rs(this);const p=Array.from(this.g.values()),A=Array.from(this.g.keys()),I=[];for(let F=0;F<A.length;F++){const et=p[F];for(let at=0;at<et.length;at++)I.push(A[F])}return I},n.V=function(p){Rs(this);let A=[];if(typeof p=="string")oa(this,p)&&(A=A.concat(this.g.get(la(this,p))));else{p=Array.from(this.g.values());for(let I=0;I<p.length;I++)A=A.concat(p[I])}return A},n.set=function(p,A){return Rs(this),this.i=null,p=la(this,p),oa(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[A]),this.h+=1,this},n.get=function(p,A){return p?(p=this.V(p),0<p.length?String(p[0]):A):A};function aa(p,A,I){$u(p,A),0<I.length&&(p.i=null,p.g.set(la(p,A),x(I)),p.h+=I.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],A=Array.from(this.g.keys());for(var I=0;I<A.length;I++){var F=A[I];const at=encodeURIComponent(String(F)),At=this.V(F);for(F=0;F<At.length;F++){var et=at;At[F]!==""&&(et+="="+encodeURIComponent(String(At[F]))),p.push(et)}}return this.i=p.join("&")};function la(p,A){return A=String(A),p.j&&(A=A.toLowerCase()),A}function $d(p,A){A&&!p.j&&(Rs(p),p.i=null,p.g.forEach(function(I,F){var et=F.toLowerCase();F!=et&&($u(this,F),aa(this,et,I))},p)),p.j=A}function Og(p,A){const I=new $t;if(c.Image){const F=new Image;F.onload=v(Cs,I,"TestLoadImage: loaded",!0,A,F),F.onerror=v(Cs,I,"TestLoadImage: error",!1,A,F),F.onabort=v(Cs,I,"TestLoadImage: abort",!1,A,F),F.ontimeout=v(Cs,I,"TestLoadImage: timeout",!1,A,F),c.setTimeout(function(){F.ontimeout&&F.ontimeout()},1e4),F.src=p}else A(!1)}function Sc(p,A){const I=new $t,F=new AbortController,et=setTimeout(()=>{F.abort(),Cs(I,"TestPingServer: timeout",!1,A)},1e4);fetch(p,{signal:F.signal}).then(at=>{clearTimeout(et),at.ok?Cs(I,"TestPingServer: ok",!0,A):Cs(I,"TestPingServer: server error",!1,A)}).catch(()=>{clearTimeout(et),Cs(I,"TestPingServer: error",!1,A)})}function Cs(p,A,I,F,et){try{et&&(et.onload=null,et.onerror=null,et.onabort=null,et.ontimeout=null),F(I)}catch{}}function Ac(){this.g=new Pe}function bo(p,A,I){const F=I||"";try{wc(p,function(et,at){let At=et;d(et)&&(At=os(et)),A.push(F+at+"="+encodeURIComponent(At))})}catch(et){throw A.push(F+"type="+encodeURIComponent("_badmap")),et}}function sl(p){this.l=p.Ub||null,this.j=p.eb||!1}E(sl,go),sl.prototype.g=function(){return new ca(this.l,this.j)},sl.prototype.i=function(p){return function(){return p}}({});function ca(p,A){Ue.call(this),this.D=p,this.o=A,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(ca,Ue),n=ca.prototype,n.open=function(p,A){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=p,this.A=A,this.readyState=1,wo(this)},n.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const A={headers:this.u,method:this.B,credentials:this.m,cache:void 0};p&&(A.body=p),(this.D||c).fetch(new Request(this.A,A)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,To(this)),this.readyState=0},n.Sa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,wo(this)),this.g&&(this.readyState=3,wo(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Hd(this)}else p.text().then(this.Ra.bind(this),this.ga.bind(this))};function Hd(p){p.j.read().then(p.Pa.bind(p)).catch(p.ga.bind(p))}n.Pa=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var A=p.value?p.value:new Uint8Array(0);(A=this.v.decode(A,{stream:!p.done}))&&(this.response=this.responseText+=A)}p.done?To(this):wo(this),this.readyState==3&&Hd(this)}},n.Ra=function(p){this.g&&(this.response=this.responseText=p,To(this))},n.Qa=function(p){this.g&&(this.response=p,To(this))},n.ga=function(){this.g&&To(this)};function To(p){p.readyState=4,p.l=null,p.j=null,p.v=null,wo(p)}n.setRequestHeader=function(p,A){this.u.append(p,A)},n.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],A=this.h.entries();for(var I=A.next();!I.done;)I=I.value,p.push(I[0]+": "+I[1]),I=A.next();return p.join(`\r
`)};function wo(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(ca.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function qd(p){let A="";return j(p,function(I,F){A+=F,A+=":",A+=I,A+=`\r
`}),A}function Bi(p,A,I){t:{for(F in I){var F=!1;break t}F=!0}F||(I=qd(I),typeof p=="string"?I!=null&&encodeURIComponent(String(I)):We(p,A,I))}function en(p){Ue.call(this),this.headers=new Map,this.o=p||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(en,Ue);var Hu=/^https?$/i,Rc=["POST","PUT"];n=en.prototype,n.Ha=function(p){this.J=p},n.ea=function(p,A,I,F){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);A=A?A.toUpperCase():"GET",this.D=p,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Bn.g(),this.v=this.o?ia(this.o):ia(Bn),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(A,String(p),!0),this.B=!1}catch(at){kg(this,at);return}if(p=I||"",I=new Map(this.headers),F)if(Object.getPrototypeOf(F)===Object.prototype)for(var et in F)I.set(et,F[et]);else if(typeof F.keys=="function"&&typeof F.get=="function")for(const at of F.keys())I.set(at,F.get(at));else throw Error("Unknown input type for opt_headers: "+String(F));F=Array.from(I.keys()).find(at=>at.toLowerCase()=="content-type"),et=c.FormData&&p instanceof c.FormData,!(0<=Array.prototype.indexOf.call(Rc,A,void 0))||F||et||I.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[at,At]of I)this.g.setRequestHeader(at,At);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Cc(this),this.u=!0,this.g.send(p),this.u=!1}catch(at){kg(this,at)}};function kg(p,A){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=A,p.m=5,qu(p),Eo(p)}function qu(p){p.A||(p.A=!0,dn(p,"complete"),dn(p,"error"))}n.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=p||7,dn(this,"complete"),dn(this,"abort"),Eo(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Eo(this,!0)),en.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Yu(this):this.bb())},n.bb=function(){Yu(this)};function Yu(p){if(p.h&&typeof a<"u"&&(!p.v[1]||Ds(p)!=4||p.Z()!=2)){if(p.u&&Ds(p)==4)Gs(p.Ea,0,p);else if(dn(p,"readystatechange"),Ds(p)==4){p.h=!1;try{const At=p.Z();t:switch(At){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var A=!0;break t;default:A=!1}var I;if(!(I=A)){var F;if(F=At===0){var et=String(p.D).match(Fd)[1]||null;!et&&c.self&&c.self.location&&(et=c.self.location.protocol.slice(0,-1)),F=!Hu.test(et?et.toLowerCase():"")}I=F}if(I)dn(p,"complete"),dn(p,"success");else{p.m=6;try{var at=2<Ds(p)?p.g.statusText:""}catch{at=""}p.l=at+" ["+p.Z()+"]",qu(p)}}finally{Eo(p)}}}}function Eo(p,A){if(p.g){Cc(p);const I=p.g,F=p.v[0]?()=>{}:null;p.g=null,p.v=null,A||dn(p,"ready");try{I.onreadystatechange=F}catch{}}}function Cc(p){p.I&&(c.clearTimeout(p.I),p.I=null)}n.isActive=function(){return!!this.g};function Ds(p){return p.g?p.g.readyState:0}n.Z=function(){try{return 2<Ds(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(p){if(this.g){var A=this.g.responseText;return p&&A.indexOf(p)==0&&(A=A.substring(p.length)),pe(A)}};function Ng(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.H){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function z_(p){const A={};p=(p.g&&2<=Ds(p)&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let F=0;F<p.length;F++){if(C(p[F]))continue;var I=B(p[F]);const et=I[0];if(I=I[1],typeof I!="string")continue;I=I.trim();const at=A[et]||[];A[et]=at,at.push(I)}O(A,function(F){return F.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Dc(p,A,I){return I&&I.internalChannelParams&&I.internalChannelParams[p]||A}function Gu(p){this.Aa=0,this.i=[],this.j=new $t,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Dc("failFast",!1,p),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Dc("baseRetryDelayMs",5e3,p),this.cb=Dc("retryDelaySeedMs",1e4,p),this.Wa=Dc("forwardChannelMaxRetries",2,p),this.wa=Dc("forwardChannelRequestTimeoutMs",2e4,p),this.pa=p&&p.xmlHttpFactory||void 0,this.Xa=p&&p.Tb||void 0,this.Ca=p&&p.useFetchStreams||!1,this.L=void 0,this.J=p&&p.supportsCrossDomainXhr||!1,this.K="",this.h=new wn(p&&p.concurrentRequestLimit),this.Da=new Ac,this.P=p&&p.fastHandshake||!1,this.O=p&&p.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=p&&p.Rb||!1,p&&p.xa&&this.j.xa(),p&&p.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&p&&p.detectBufferingProxy||!1,this.ja=void 0,p&&p.longPollingTimeout&&0<p.longPollingTimeout&&(this.ja=p.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Gu.prototype,n.la=8,n.G=1,n.connect=function(p,A,I,F){dt(0),this.W=p,this.H=A||{},I&&F!==void 0&&(this.H.OSID=I,this.H.OAID=F),this.F=this.X,this.I=Bg(this,null,this.W),Ku(this)};function Yd(p){if(Pg(p),p.G==3){var A=p.U++,I=ni(p.I);if(We(I,"SID",p.K),We(I,"RID",A),We(I,"TYPE","terminate"),Ic(p,I),A=new He(p,p.j,A),A.L=2,A.v=xc(ni(I)),I=!1,c.navigator&&c.navigator.sendBeacon)try{I=c.navigator.sendBeacon(A.v.toString(),"")}catch{}!I&&c.Image&&(new Image().src=A.v,I=!0),I||(A.g=jg(A.j,null),A.g.ea(A.v)),A.F=Date.now(),Ze(A)}Fg(p)}function Wu(p){p.g&&(Mc(p),p.g.cancel(),p.g=null)}function Pg(p){Wu(p),p.u&&(c.clearTimeout(p.u),p.u=null),Xu(p),p.h.cancel(),p.s&&(typeof p.s=="number"&&c.clearTimeout(p.s),p.s=null)}function Ku(p){if(!xs(p.h)&&!p.s){p.s=!0;var A=p.Ga;lt||H(),ht||(lt(),ht=!0),ot.add(A,p),p.B=0}}function F_(p,A){return Tc(p.h)>=p.h.j-(p.s?1:0)?!1:p.s?(p.i=A.D.concat(p.i),!0):p.G==1||p.G==2||p.B>=(p.Va?0:p.Wa)?!1:(p.s=Ht(y(p.Ga,p,A),Kd(p,p.B)),p.B++,!0)}n.Ga=function(p){if(this.s)if(this.s=null,this.G==1){if(!p){this.U=Math.floor(1e5*Math.random()),p=this.U++;const et=new He(this,this.j,p);let at=this.o;if(this.S&&(at?(at=D(at),V(at,this.S)):at=this.S),this.m!==null||this.O||(et.H=at,at=null),this.P)t:{for(var A=0,I=0;I<this.i.length;I++){e:{var F=this.i[I];if("__data__"in F.map&&(F=F.map.__data__,typeof F=="string")){F=F.length;break e}F=void 0}if(F===void 0)break;if(A+=F,4096<A){A=I;break t}if(A===4096||I===this.i.length-1){A=I+1;break t}}A=1e3}else A=1e3;A=Lg(this,et,A),I=ni(this.I),We(I,"RID",p),We(I,"CVER",22),this.D&&We(I,"X-HTTP-Session-Id",this.D),Ic(this,I),at&&(this.O?A="headers="+encodeURIComponent(String(qd(at)))+"&"+A:this.m&&Bi(I,this.m,at)),nl(this.h,et),this.Ua&&We(I,"TYPE","init"),this.P?(We(I,"$req",A),We(I,"SID","null"),et.T=!0,ui(et,I,null)):ui(et,I,A),this.G=2}}else this.G==3&&(p?Gd(this,p):this.i.length==0||xs(this.h)||Gd(this))};function Gd(p,A){var I;A?I=A.l:I=p.U++;const F=ni(p.I);We(F,"SID",p.K),We(F,"RID",I),We(F,"AID",p.T),Ic(p,F),p.m&&p.o&&Bi(F,p.m,p.o),I=new He(p,p.j,I,p.B+1),p.m===null&&(I.H=p.o),A&&(p.i=A.D.concat(p.i)),A=Lg(p,I,1e3),I.I=Math.round(.5*p.wa)+Math.round(.5*p.wa*Math.random()),nl(p.h,I),ui(I,F,A)}function Ic(p,A){p.H&&j(p.H,function(I,F){We(A,F,I)}),p.l&&wc({},function(I,F){We(A,F,I)})}function Lg(p,A,I){I=Math.min(p.i.length,I);var F=p.l?y(p.l.Na,p.l,p):null;t:{var et=p.i;let at=-1;for(;;){const At=["count="+I];at==-1?0<I?(at=et[0].g,At.push("ofs="+at)):at=0:At.push("ofs="+at);let ze=!0;for(let Ri=0;Ri<I;Ri++){let Fe=et[Ri].g;const ji=et[Ri].map;if(Fe-=at,0>Fe)at=Math.max(0,et[Ri].g-100),ze=!1;else try{bo(ji,At,"req"+Fe+"_")}catch{F&&F(ji)}}if(ze){F=At.join("&");break t}}}return p=p.i.splice(0,I),A.D=p,F}function Vg(p){if(!p.g&&!p.u){p.Y=1;var A=p.Fa;lt||H(),ht||(lt(),ht=!0),ot.add(A,p),p.v=0}}function Wd(p){return p.g||p.u||3<=p.v?!1:(p.Y++,p.u=Ht(y(p.Fa,p),Kd(p,p.v)),p.v++,!0)}n.Fa=function(){if(this.u=null,Ug(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var p=2*this.R;this.j.info("BP detection timer enabled: "+p),this.A=Ht(y(this.ab,this),p)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,dt(10),Wu(this),Ug(this))};function Mc(p){p.A!=null&&(c.clearTimeout(p.A),p.A=null)}function Ug(p){p.g=new He(p,p.j,"rpc",p.Y),p.m===null&&(p.g.H=p.o),p.g.O=0;var A=ni(p.qa);We(A,"RID","rpc"),We(A,"SID",p.K),We(A,"AID",p.T),We(A,"CI",p.F?"0":"1"),!p.F&&p.ja&&We(A,"TO",p.ja),We(A,"TYPE","xmlhttp"),Ic(p,A),p.m&&p.o&&Bi(A,p.m,p.o),p.L&&(p.g.I=p.L);var I=p.g;p=p.ia,I.L=1,I.v=xc(ni(A)),I.m=null,I.P=!0,_i(I,p)}n.Za=function(){this.C!=null&&(this.C=null,Wu(this),Wd(this),dt(19))};function Xu(p){p.C!=null&&(c.clearTimeout(p.C),p.C=null)}function zg(p,A){var I=null;if(p.g==A){Xu(p),Mc(p),p.g=null;var F=2}else if(_o(p.h,A))I=A.D,Ss(p.h,A),F=1;else return;if(p.G!=0){if(A.o)if(F==1){I=A.m?A.m.length:0,A=Date.now()-A.F;var et=p.B;F=el(),dn(F,new Dt(F,I)),Ku(p)}else Vg(p);else if(et=A.s,et==3||et==0&&0<A.X||!(F==1&&F_(p,A)||F==2&&Wd(p)))switch(I&&0<I.length&&(A=p.h,A.i=A.i.concat(I)),et){case 1:ua(p,5);break;case 4:ua(p,10);break;case 3:ua(p,6);break;default:ua(p,2)}}}function Kd(p,A){let I=p.Ta+Math.floor(Math.random()*p.cb);return p.isActive()||(I*=2),I*A}function ua(p,A){if(p.j.info("Error code "+A),A==2){var I=y(p.fb,p),F=p.Xa;const et=!F;F=new sa(F||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||il(F,"https"),xc(F),et?Og(F.toString(),I):Sc(F.toString(),I)}else dt(2);p.G=0,p.l&&p.l.sa(A),Fg(p),Pg(p)}n.fb=function(p){p?(this.j.info("Successfully pinged google.com"),dt(2)):(this.j.info("Failed to ping google.com"),dt(1))};function Fg(p){if(p.G=0,p.ka=[],p.l){const A=Lr(p.h);(A.length!=0||p.i.length!=0)&&(S(p.ka,A),S(p.ka,p.i),p.h.i.length=0,x(p.i),p.i.length=0),p.l.ra()}}function Bg(p,A,I){var F=I instanceof sa?ni(I):new sa(I);if(F.g!="")A&&(F.g=A+"."+F.g),Ec(F,F.s);else{var et=c.location;F=et.protocol,A=A?A+"."+et.hostname:et.hostname,et=+et.port;var at=new sa(null);F&&il(at,F),A&&(at.g=A),et&&Ec(at,et),I&&(at.l=I),F=at}return I=p.D,A=p.ya,I&&A&&We(F,I,A),We(F,"VER",p.la),Ic(p,F),F}function jg(p,A,I){if(A&&!p.J)throw Error("Can't create secondary domain capable XhrIo object.");return A=p.Ca&&!p.pa?new en(new sl({eb:I})):new en(p.pa),A.Ha(p.J),A}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function $g(){}n=$g.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Qu(){}Qu.prototype.g=function(p,A){return new Vr(p,A)};function Vr(p,A){Ue.call(this),this.g=new Gu(A),this.l=p,this.h=A&&A.messageUrlParams||null,p=A&&A.messageHeaders||null,A&&A.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=A&&A.initMessageHeaders||null,A&&A.messageContentType&&(p?p["X-WebChannel-Content-Type"]=A.messageContentType:p={"X-WebChannel-Content-Type":A.messageContentType}),A&&A.va&&(p?p["X-WebChannel-Client-Profile"]=A.va:p={"X-WebChannel-Client-Profile":A.va}),this.g.S=p,(p=A&&A.Sb)&&!C(p)&&(this.g.m=p),this.v=A&&A.supportsCrossDomainXhr||!1,this.u=A&&A.sendRawJson||!1,(A=A&&A.httpSessionIdParam)&&!C(A)&&(this.g.D=A,p=this.h,p!==null&&A in p&&(p=this.h,A in p&&delete p[A])),this.j=new xo(this)}E(Vr,Ue),Vr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Vr.prototype.close=function(){Yd(this.g)},Vr.prototype.o=function(p){var A=this.g;if(typeof p=="string"){var I={};I.__data__=p,p=I}else this.u&&(I={},I.__data__=os(p),p=I);A.i.push(new ra(A.Ya++,p)),A.G==3&&Ku(A)},Vr.prototype.N=function(){this.g.l=null,delete this.j,Yd(this.g),delete this.g,Vr.aa.N.call(this)};function Hg(p){Ws.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var A=p.__sm__;if(A){t:{for(const I in A){p=I;break t}p=void 0}(this.i=p)&&(p=this.i,A=A!==null&&p in A?A[p]:void 0),this.data=A}else this.data=p}E(Hg,Ws);function qg(){br.call(this),this.status=1}E(qg,br);function xo(p){this.g=p}E(xo,$g),xo.prototype.ua=function(){dn(this.g,"a")},xo.prototype.ta=function(p){dn(this.g,new Hg(p))},xo.prototype.sa=function(p){dn(this.g,new qg)},xo.prototype.ra=function(){dn(this.g,"b")},Qu.prototype.createWebChannel=Qu.prototype.g,Vr.prototype.send=Vr.prototype.o,Vr.prototype.open=Vr.prototype.m,Vr.prototype.close=Vr.prototype.close,yk=function(){return new Qu},pk=function(){return el()},gk=Ji,ZT={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Kt.NO_ERROR=0,Kt.TIMEOUT=8,Kt.HTTP_ERROR=6,Oy=Kt,Ge.COMPLETE="complete",mk=Ge,bc.EventType=ws,ws.OPEN="a",ws.CLOSE="b",ws.ERROR="c",ws.MESSAGE="d",Ue.prototype.listen=Ue.prototype.K,tm=bc,en.prototype.listenOnce=en.prototype.L,en.prototype.getLastError=en.prototype.Ka,en.prototype.getLastErrorCode=en.prototype.Ba,en.prototype.getStatus=en.prototype.Z,en.prototype.getResponseJson=en.prototype.Oa,en.prototype.getResponseText=en.prototype.oa,en.prototype.send=en.prototype.ea,en.prototype.setWithCredentials=en.prototype.Ha,fk=en}).apply(typeof Qp<"u"?Qp:typeof self<"u"?self:typeof window<"u"?window:{});const QC="@firebase/firestore",ZC="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Cr.UNAUTHENTICATED=new Cr(null),Cr.GOOGLE_CREDENTIALS=new Cr("google-credentials-uid"),Cr.FIRST_PARTY=new Cr("first-party-uid"),Cr.MOCK_USER=new Cr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pd="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iu=new SE("@firebase/firestore");function kh(){return Iu.logLevel}function Nt(n,...t){if(Iu.logLevel<=Me.DEBUG){const e=t.map(UE);Iu.debug(`Firestore (${Pd}): ${n}`,...e)}}function Qa(n,...t){if(Iu.logLevel<=Me.ERROR){const e=t.map(UE);Iu.error(`Firestore (${Pd}): ${n}`,...e)}}function md(n,...t){if(Iu.logLevel<=Me.WARN){const e=t.map(UE);Iu.warn(`Firestore (${Pd}): ${n}`,...e)}}function UE(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(e){return JSON.stringify(e)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oe(n="Unexpected state"){const t=`FIRESTORE (${Pd}) INTERNAL ASSERTION FAILED: `+n;throw Qa(t),new Error(t)}function rn(n,t){n||oe()}function fe(n,t){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Vt extends tl{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class uB{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Cr.UNAUTHENTICATED))}shutdown(){}}class hB{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class dB{constructor(t){this.t=t,this.currentUser=Cr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){rn(this.o===void 0);let i=this.i;const r=u=>this.i!==i?(i=this.i,e(u)):Promise.resolve();let s=new Wl;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Wl,t.enqueueRetryable(()=>r(this.currentUser))};const a=()=>{const u=s;t.enqueueRetryable(async()=>{await u.promise,await r(this.currentUser)})},c=u=>{Nt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?c(u):(Nt("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Wl)}},0),a()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(Nt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(rn(typeof i.accessToken=="string"),new _k(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return rn(t===null||typeof t=="string"),new Cr(t)}}class fB{constructor(t,e,i){this.l=t,this.h=e,this.P=i,this.type="FirstParty",this.user=Cr.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class mB{constructor(t,e,i){this.l=t,this.h=e,this.P=i}getToken(){return Promise.resolve(new fB(this.l,this.h,this.P))}start(t,e){t.enqueueRetryable(()=>e(Cr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class JC{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class gB{constructor(t,e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Uo(t)&&t.settings.appCheckToken&&(this.V=t.settings.appCheckToken)}start(t,e){rn(this.o===void 0);const i=s=>{s.error!=null&&Nt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.R;return this.R=s.token,Nt("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?e(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>i(s))};const r=s=>{Nt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?r(s):Nt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new JC(this.V));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(rn(typeof e.token=="string"),this.R=e.token,new JC(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pB(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vk(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bk{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=pB(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<e&&(i+=t.charAt(r[s]%62))}return i}}function Ee(n,t){return n<t?-1:n>t?1:0}function JT(n,t){let e=0;for(;e<n.length&&e<t.length;){const i=n.codePointAt(e),r=t.codePointAt(e);if(i!==r){if(i<128&&r<128)return Ee(i,r);{const s=vk(),a=yB(s.encode(tD(n,e)),s.encode(tD(t,e)));return a!==0?a:Ee(i,r)}}e+=i>65535?2:1}return Ee(n.length,t.length)}function tD(n,t){return n.codePointAt(t)>65535?n.substring(t,t+2):n.substring(t,t+1)}function yB(n,t){for(let e=0;e<n.length&&e<t.length;++e)if(n[e]!==t[e])return Ee(n[e],t[e]);return Ee(n.length,t.length)}function gd(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eD=-62135596800,nD=1e6;class Ui{static now(){return Ui.fromMillis(Date.now())}static fromDate(t){return Ui.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor((t-1e3*e)*nD);return new Ui(e,i)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Vt(gt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Vt(gt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<eD)throw new Vt(gt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Vt(gt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/nD}_compareTo(t){return this.seconds===t.seconds?Ee(this.nanoseconds,t.nanoseconds):Ee(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-eD;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{static fromTimestamp(t){return new ue(t)}static min(){return new ue(new Ui(0,0))}static max(){return new ue(new Ui(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iD="__name__";class Vo{constructor(t,e,i){e===void 0?e=0:e>t.length&&oe(),i===void 0?i=t.length-e:i>t.length-e&&oe(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return Vo.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Vo?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const s=Vo.compareSegments(t.get(r),e.get(r));if(s!==0)return s}return Ee(t.length,e.length)}static compareSegments(t,e){const i=Vo.isNumericId(t),r=Vo.isNumericId(e);return i&&!r?-1:!i&&r?1:i&&r?Vo.extractNumericId(t).compare(Vo.extractNumericId(e)):JT(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Gl.fromString(t.substring(4,t.length-2))}}class Ln extends Vo{construct(t,e,i){return new Ln(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new Vt(gt.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new Ln(e)}static emptyPath(){return new Ln([])}}const _B=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class pr extends Vo{construct(t,e,i){return new pr(t,e,i)}static isValidIdentifier(t){return _B.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),pr.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===iD}static keyField(){return new pr([iD])}static fromServerFormat(t){const e=[];let i="",r=0;const s=()=>{if(i.length===0)throw new Vt(gt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let a=!1;for(;r<t.length;){const c=t[r];if(c==="\\"){if(r+1===t.length)throw new Vt(gt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const u=t[r+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new Vt(gt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=u,r+=2}else c==="`"?(a=!a,r++):c!=="."||a?(i+=c,r++):(s(),r++)}if(s(),a)throw new Vt(gt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new pr(e)}static emptyPath(){return new pr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(t){this.path=t}static fromPath(t){return new Yt(Ln.fromString(t))}static fromName(t){return new Yt(Ln.fromString(t).popFirst(5))}static empty(){return new Yt(Ln.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Ln.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return Ln.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Yt(new Ln(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pm=-1;function vB(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=ue.fromTimestamp(i===1e9?new Ui(e+1,0):new Ui(e,i));return new rc(r,Yt.empty(),t)}function bB(n){return new rc(n.readTime,n.key,Pm)}class rc{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new rc(ue.min(),Yt.empty(),Pm)}static max(){return new rc(ue.max(),Yt.empty(),Pm)}}function TB(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=Yt.comparator(n.documentKey,t.documentKey),e!==0?e:Ee(n.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class EB{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ld(n){if(n.code!==gt.FAILED_PRECONDITION||n.message!==wB)throw n;Nt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&oe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new mt((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(e,s).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof mt?e:mt.resolve(e)}catch(e){return mt.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):mt.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):mt.reject(e)}static resolve(t){return new mt((e,i)=>{e(t)})}static reject(t){return new mt((e,i)=>{i(t)})}static waitFor(t){return new mt((e,i)=>{let r=0,s=0,a=!1;t.forEach(c=>{++r,c.next(()=>{++s,a&&s===r&&e()},u=>i(u))}),a=!0,s===r&&e()})}static or(t){let e=mt.resolve(!1);for(const i of t)e=e.next(r=>r?mt.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,s)=>{i.push(e.call(this,r,s))}),this.waitFor(i)}static mapArray(t,e){return new mt((i,r)=>{const s=t.length,a=new Array(s);let c=0;for(let u=0;u<s;u++){const d=u;e(t[d]).next(f=>{a[d]=f,++c,c===s&&i(a)},f=>r(f))}})}static doWhile(t,e){return new mt((i,r)=>{const s=()=>{t()===!0?e().next(()=>{s()},r):i()};s()})}}function xB(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function Vd(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m_{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.oe(i),this._e=i=>e.writeSequenceNumber(i))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}m_.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE=-1;function g_(n){return n==null}function b0(n){return n===0&&1/n==-1/0}function SB(n){return typeof n=="number"&&Number.isInteger(n)&&!b0(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tk="";function AB(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=rD(t)),t=RB(n.get(e),t);return rD(t)}function RB(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const s=n.charAt(r);switch(s){case"\0":e+="";break;case Tk:e+="";break;default:e+=s}}return e}function rD(n){return n+Tk+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sD(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function pc(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function wk(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(t,e){this.comparator=t,this.root=e||fr.EMPTY}insert(t,e){return new Zn(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,fr.BLACK,null,null))}remove(t){return new Zn(this.comparator,this.root.remove(t,this.comparator).copy(null,null,fr.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(i===0)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Zp(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Zp(this.root,t,this.comparator,!1)}getReverseIterator(){return new Zp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Zp(this.root,t,this.comparator,!0)}}class Zp{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=e?i(t.key,e):1,e&&r&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class fr{constructor(t,e,i,r,s){this.key=t,this.value=e,this.color=i??fr.RED,this.left=r??fr.EMPTY,this.right=s??fr.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,s){return new fr(t??this.key,e??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const s=i(t,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(t,e,i),null):s===0?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return fr.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),e(t,r.key)===0){if(r.right.isEmpty())return fr.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,fr.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,fr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw oe();const t=this.left.check();if(t!==this.right.check())throw oe();return t+(this.isRed()?0:1)}}fr.EMPTY=null,fr.RED=!0,fr.BLACK=!1;fr.EMPTY=new class{constructor(){this.size=0}get key(){throw oe()}get value(){throw oe()}get color(){throw oe()}get left(){throw oe()}get right(){throw oe()}copy(t,e,i,r,s){return this}insert(t,e,i){return new fr(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(t){this.comparator=t,this.data=new Zn(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new oD(this.data.getIterator())}getIteratorFrom(t){return new oD(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof zi)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new zi(this.comparator);return e.data=t,e}}class oD{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(t){this.fields=t,t.sort(pr.comparator)}static empty(){return new vs([])}unionWith(t){let e=new zi(pr.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new vs(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return gd(this.fields,t.fields,(e,i)=>e.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Ek("Invalid base64 string: "+s):s}}(t);return new _r(e)}static fromUint8Array(t){const e=function(r){let s="";for(let a=0;a<r.length;++a)s+=String.fromCharCode(r[a]);return s}(t);return new _r(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ee(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}_r.EMPTY_BYTE_STRING=new _r("");const CB=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function sc(n){if(rn(!!n),typeof n=="string"){let t=0;const e=CB.exec(n);if(rn(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:mi(n.seconds),nanos:mi(n.nanos)}}function mi(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function oc(n){return typeof n=="string"?_r.fromBase64String(n):_r.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xk="server_timestamp",Sk="__type__",Ak="__previous_value__",Rk="__local_write_time__";function FE(n){var t,e;return((e=(((t=n==null?void 0:n.mapValue)===null||t===void 0?void 0:t.fields)||{})[Sk])===null||e===void 0?void 0:e.stringValue)===xk}function p_(n){const t=n.mapValue.fields[Ak];return FE(t)?p_(t):t}function Lm(n){const t=sc(n.mapValue.fields[Rk].timestampValue);return new Ui(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DB{constructor(t,e,i,r,s,a,c,u,d){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=d}}const T0="(default)";class Vm{constructor(t,e){this.projectId=t,this.database=e||T0}static empty(){return new Vm("","")}get isDefaultDatabase(){return this.database===T0}isEqual(t){return t instanceof Vm&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ck="__type__",IB="__max__",Jp={mapValue:{}},Dk="__vector__",w0="value";function ac(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?FE(n)?4:OB(n)?9007199254740991:MB(n)?10:11:oe()}function Zo(n,t){if(n===t)return!0;const e=ac(n);if(e!==ac(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Lm(n).isEqual(Lm(t));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const a=sc(r.timestampValue),c=sc(s.timestampValue);return a.seconds===c.seconds&&a.nanos===c.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return function(r,s){return oc(r.bytesValue).isEqual(oc(s.bytesValue))}(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return function(r,s){return mi(r.geoPointValue.latitude)===mi(s.geoPointValue.latitude)&&mi(r.geoPointValue.longitude)===mi(s.geoPointValue.longitude)}(n,t);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return mi(r.integerValue)===mi(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const a=mi(r.doubleValue),c=mi(s.doubleValue);return a===c?b0(a)===b0(c):isNaN(a)&&isNaN(c)}return!1}(n,t);case 9:return gd(n.arrayValue.values||[],t.arrayValue.values||[],Zo);case 10:case 11:return function(r,s){const a=r.mapValue.fields||{},c=s.mapValue.fields||{};if(sD(a)!==sD(c))return!1;for(const u in a)if(a.hasOwnProperty(u)&&(c[u]===void 0||!Zo(a[u],c[u])))return!1;return!0}(n,t);default:return oe()}}function Um(n,t){return(n.values||[]).find(e=>Zo(e,t))!==void 0}function pd(n,t){if(n===t)return 0;const e=ac(n),i=ac(t);if(e!==i)return Ee(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return Ee(n.booleanValue,t.booleanValue);case 2:return function(s,a){const c=mi(s.integerValue||s.doubleValue),u=mi(a.integerValue||a.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1}(n,t);case 3:return aD(n.timestampValue,t.timestampValue);case 4:return aD(Lm(n),Lm(t));case 5:return JT(n.stringValue,t.stringValue);case 6:return function(s,a){const c=oc(s),u=oc(a);return c.compareTo(u)}(n.bytesValue,t.bytesValue);case 7:return function(s,a){const c=s.split("/"),u=a.split("/");for(let d=0;d<c.length&&d<u.length;d++){const f=Ee(c[d],u[d]);if(f!==0)return f}return Ee(c.length,u.length)}(n.referenceValue,t.referenceValue);case 8:return function(s,a){const c=Ee(mi(s.latitude),mi(a.latitude));return c!==0?c:Ee(mi(s.longitude),mi(a.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return lD(n.arrayValue,t.arrayValue);case 10:return function(s,a){var c,u,d,f;const g=s.fields||{},y=a.fields||{},v=(c=g[w0])===null||c===void 0?void 0:c.arrayValue,E=(u=y[w0])===null||u===void 0?void 0:u.arrayValue,x=Ee(((d=v==null?void 0:v.values)===null||d===void 0?void 0:d.length)||0,((f=E==null?void 0:E.values)===null||f===void 0?void 0:f.length)||0);return x!==0?x:lD(v,E)}(n.mapValue,t.mapValue);case 11:return function(s,a){if(s===Jp.mapValue&&a===Jp.mapValue)return 0;if(s===Jp.mapValue)return 1;if(a===Jp.mapValue)return-1;const c=s.fields||{},u=Object.keys(c),d=a.fields||{},f=Object.keys(d);u.sort(),f.sort();for(let g=0;g<u.length&&g<f.length;++g){const y=JT(u[g],f[g]);if(y!==0)return y;const v=pd(c[u[g]],d[f[g]]);if(v!==0)return v}return Ee(u.length,f.length)}(n.mapValue,t.mapValue);default:throw oe()}}function aD(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return Ee(n,t);const e=sc(n),i=sc(t),r=Ee(e.seconds,i.seconds);return r!==0?r:Ee(e.nanos,i.nanos)}function lD(n,t){const e=n.values||[],i=t.values||[];for(let r=0;r<e.length&&r<i.length;++r){const s=pd(e[r],i[r]);if(s)return s}return Ee(e.length,i.length)}function yd(n){return tw(n)}function tw(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(e){const i=sc(e);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(e){return oc(e).toBase64()}(n.bytesValue):"referenceValue"in n?function(e){return Yt.fromName(e).toString()}(n.referenceValue):"geoPointValue"in n?function(e){return`geo(${e.latitude},${e.longitude})`}(n.geoPointValue):"arrayValue"in n?function(e){let i="[",r=!0;for(const s of e.values||[])r?r=!1:i+=",",i+=tw(s);return i+"]"}(n.arrayValue):"mapValue"in n?function(e){const i=Object.keys(e.fields||{}).sort();let r="{",s=!0;for(const a of i)s?s=!1:r+=",",r+=`${a}:${tw(e.fields[a])}`;return r+"}"}(n.mapValue):oe()}function ky(n){switch(ac(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=p_(n);return t?16+ky(t):16;case 5:return 2*n.stringValue.length;case 6:return oc(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((r,s)=>r+ky(s),0)}(n.arrayValue);case 10:case 11:return function(i){let r=0;return pc(i.fields,(s,a)=>{r+=s.length+ky(a)}),r}(n.mapValue);default:throw oe()}}function cD(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function ew(n){return!!n&&"integerValue"in n}function BE(n){return!!n&&"arrayValue"in n}function uD(n){return!!n&&"nullValue"in n}function hD(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Ny(n){return!!n&&"mapValue"in n}function MB(n){var t,e;return((e=(((t=n==null?void 0:n.mapValue)===null||t===void 0?void 0:t.fields)||{})[Ck])===null||e===void 0?void 0:e.stringValue)===Dk}function mm(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return pc(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=mm(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=mm(n.arrayValue.values[e]);return t}return Object.assign({},n)}function OB(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===IB}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(t){this.value=t}static empty(){return new es({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!Ny(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=mm(e)}setAll(t){let e=pr.emptyPath(),i={},r=[];t.forEach((a,c)=>{if(!e.isImmediateParentOf(c)){const u=this.getFieldsMap(e);this.applyChanges(u,i,r),i={},r=[],e=c.popLast()}a?i[c.lastSegment()]=mm(a):r.push(c.lastSegment())});const s=this.getFieldsMap(e);this.applyChanges(s,i,r)}delete(t){const e=this.field(t.popLast());Ny(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Zo(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];Ny(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){pc(e,(r,s)=>t[r]=s);for(const r of i)delete t[r]}clone(){return new es(mm(this.value))}}function Ik(n){const t=[];return pc(n.fields,(e,i)=>{const r=new pr([e]);if(Ny(i)){const s=Ik(i.mapValue).fields;if(s.length===0)t.push(r);else for(const a of s)t.push(r.child(a))}else t.push(r)}),new vs(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(t,e,i,r,s,a,c){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=s,this.data=a,this.documentState=c}static newInvalidDocument(t){return new Dr(t,0,ue.min(),ue.min(),ue.min(),es.empty(),0)}static newFoundDocument(t,e,i,r){return new Dr(t,1,e,ue.min(),i,r,0)}static newNoDocument(t,e){return new Dr(t,2,e,ue.min(),ue.min(),es.empty(),0)}static newUnknownDocument(t,e){return new Dr(t,3,e,ue.min(),ue.min(),es.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=es.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=es.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ue.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Dr&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Dr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(t,e){this.position=t,this.inclusive=e}}function dD(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const s=t[r],a=n.position[r];if(s.field.isKeyField()?i=Yt.comparator(Yt.fromName(a.referenceValue),e.key):i=pd(a,e.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function fD(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Zo(n.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{constructor(t,e="asc"){this.field=t,this.dir=e}}function kB(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{}class xi extends Mk{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,i):new PB(t,e,i):e==="array-contains"?new UB(t,i):e==="in"?new zB(t,i):e==="not-in"?new FB(t,i):e==="array-contains-any"?new BB(t,i):new xi(t,e,i)}static createKeyFieldInFilter(t,e,i){return e==="in"?new LB(t,i):new VB(t,i)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&this.matchesComparison(pd(e,this.value)):e!==null&&ac(this.value)===ac(e)&&this.matchesComparison(pd(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return oe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class co extends Mk{constructor(t,e){super(),this.filters=t,this.op=e,this.ce=null}static create(t,e){return new co(t,e)}matches(t){return Ok(this)?this.filters.find(e=>!e.matches(t))===void 0:this.filters.find(e=>e.matches(t))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function Ok(n){return n.op==="and"}function kk(n){return NB(n)&&Ok(n)}function NB(n){for(const t of n.filters)if(t instanceof co)return!1;return!0}function nw(n){if(n instanceof xi)return n.field.canonicalString()+n.op.toString()+yd(n.value);if(kk(n))return n.filters.map(t=>nw(t)).join(",");{const t=n.filters.map(e=>nw(e)).join(",");return`${n.op}(${t})`}}function Nk(n,t){return n instanceof xi?function(i,r){return r instanceof xi&&i.op===r.op&&i.field.isEqual(r.field)&&Zo(i.value,r.value)}(n,t):n instanceof co?function(i,r){return r instanceof co&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((s,a,c)=>s&&Nk(a,r.filters[c]),!0):!1}(n,t):void oe()}function Pk(n){return n instanceof xi?function(e){return`${e.field.canonicalString()} ${e.op} ${yd(e.value)}`}(n):n instanceof co?function(e){return e.op.toString()+" {"+e.getFilters().map(Pk).join(" ,")+"}"}(n):"Filter"}class PB extends xi{constructor(t,e,i){super(t,e,i),this.key=Yt.fromName(i.referenceValue)}matches(t){const e=Yt.comparator(t.key,this.key);return this.matchesComparison(e)}}class LB extends xi{constructor(t,e){super(t,"in",e),this.keys=Lk("in",e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class VB extends xi{constructor(t,e){super(t,"not-in",e),this.keys=Lk("not-in",e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function Lk(n,t){var e;return(((e=t.arrayValue)===null||e===void 0?void 0:e.values)||[]).map(i=>Yt.fromName(i.referenceValue))}class UB extends xi{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return BE(e)&&Um(e.arrayValue,this.value)}}class zB extends xi{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&Um(this.value.arrayValue,e)}}class FB extends xi{constructor(t,e){super(t,"not-in",e)}matches(t){if(Um(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&!Um(this.value.arrayValue,e)}}class BB extends xi{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!BE(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>Um(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jB{constructor(t,e=null,i=[],r=[],s=null,a=null,c=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=a,this.endAt=c,this.le=null}}function mD(n,t=null,e=[],i=[],r=null,s=null,a=null){return new jB(n,t,e,i,r,s,a)}function jE(n){const t=fe(n);if(t.le===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>nw(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),g_(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>yd(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>yd(i)).join(",")),t.le=e}return t.le}function $E(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!kB(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!Nk(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!fD(n.startAt,t.startAt)&&fD(n.endAt,t.endAt)}function iw(n){return Yt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(t,e=null,i=[],r=[],s=null,a="F",c=null,u=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=a,this.startAt=c,this.endAt=u,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function $B(n,t,e,i,r,s,a,c){return new Ud(n,t,e,i,r,s,a,c)}function HE(n){return new Ud(n)}function gD(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Vk(n){return n.collectionGroup!==null}function gm(n){const t=fe(n);if(t.he===null){t.he=[];const e=new Set;for(const s of t.explicitOrderBy)t.he.push(s),e.add(s.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(a){let c=new zi(pr.comparator);return a.filters.forEach(u=>{u.getFlattenedFilters().forEach(d=>{d.isInequality()&&(c=c.add(d.field))})}),c})(t).forEach(s=>{e.has(s.canonicalString())||s.isKeyField()||t.he.push(new zm(s,i))}),e.has(pr.keyField().canonicalString())||t.he.push(new zm(pr.keyField(),i))}return t.he}function qo(n){const t=fe(n);return t.Pe||(t.Pe=HB(t,gm(n))),t.Pe}function HB(n,t){if(n.limitType==="F")return mD(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map(r=>{const s=r.dir==="desc"?"asc":"desc";return new zm(r.field,s)});const e=n.endAt?new E0(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new E0(n.startAt.position,n.startAt.inclusive):null;return mD(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}function rw(n,t){const e=n.filters.concat([t]);return new Ud(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function sw(n,t,e){return new Ud(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function y_(n,t){return $E(qo(n),qo(t))&&n.limitType===t.limitType}function Uk(n){return`${jE(qo(n))}|lt:${n.limitType}`}function Nh(n){return`Query(target=${function(e){let i=e.path.canonicalString();return e.collectionGroup!==null&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map(r=>Pk(r)).join(", ")}]`),g_(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map(r=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(r)).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(r=>yd(r)).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(r=>yd(r)).join(",")),`Target(${i})`}(qo(n))}; limitType=${n.limitType})`}function __(n,t){return t.isFoundDocument()&&function(i,r){const s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):Yt.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(n,t)&&function(i,r){for(const s of gm(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(n,t)&&function(i,r){for(const s of i.filters)if(!s.matches(r))return!1;return!0}(n,t)&&function(i,r){return!(i.startAt&&!function(a,c,u){const d=dD(a,c,u);return a.inclusive?d<=0:d<0}(i.startAt,gm(i),r)||i.endAt&&!function(a,c,u){const d=dD(a,c,u);return a.inclusive?d>=0:d>0}(i.endAt,gm(i),r))}(n,t)}function qB(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function zk(n){return(t,e)=>{let i=!1;for(const r of gm(n)){const s=YB(r,t,e);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function YB(n,t,e){const i=n.field.isKeyField()?Yt.comparator(t.key,e.key):function(s,a,c){const u=a.data.field(s),d=c.data.field(s);return u!==null&&d!==null?pd(u,d):oe()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return oe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i!==void 0){for(const[r,s]of i)if(this.equalsFn(r,t))return s}}has(t){return this.get(t)!==void 0}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return this.inner[i]=[[t,e]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return void(r[s]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return i.length===1?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){pc(this.inner,(e,i)=>{for(const[r,s]of i)t(r,s)})}isEmpty(){return wk(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GB=new Zn(Yt.comparator);function Za(){return GB}const Fk=new Zn(Yt.comparator);function em(...n){let t=Fk;for(const e of n)t=t.insert(e.key,e);return t}function Bk(n){let t=Fk;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function du(){return pm()}function jk(){return pm()}function pm(){return new Uu(n=>n.toString(),(n,t)=>n.isEqual(t))}const WB=new Zn(Yt.comparator),KB=new zi(Yt.comparator);function ke(...n){let t=KB;for(const e of n)t=t.add(e);return t}const XB=new zi(Ee);function QB(){return XB}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qE(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:b0(t)?"-0":t}}function $k(n){return{integerValue:""+n}}function ZB(n,t){return SB(t)?$k(t):qE(n,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_{constructor(){this._=void 0}}function JB(n,t,e){return n instanceof x0?function(r,s){const a={fields:{[Sk]:{stringValue:xk},[Rk]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&FE(s)&&(s=p_(s)),s&&(a.fields[Ak]=s),{mapValue:a}}(e,t):n instanceof Fm?qk(n,t):n instanceof Bm?Yk(n,t):function(r,s){const a=Hk(r,s),c=pD(a)+pD(r.Ie);return ew(a)&&ew(r.Ie)?$k(c):qE(r.serializer,c)}(n,t)}function tj(n,t,e){return n instanceof Fm?qk(n,t):n instanceof Bm?Yk(n,t):e}function Hk(n,t){return n instanceof S0?function(i){return ew(i)||function(s){return!!s&&"doubleValue"in s}(i)}(t)?t:{integerValue:0}:null}class x0 extends v_{}class Fm extends v_{constructor(t){super(),this.elements=t}}function qk(n,t){const e=Gk(t);for(const i of n.elements)e.some(r=>Zo(r,i))||e.push(i);return{arrayValue:{values:e}}}class Bm extends v_{constructor(t){super(),this.elements=t}}function Yk(n,t){let e=Gk(t);for(const i of n.elements)e=e.filter(r=>!Zo(r,i));return{arrayValue:{values:e}}}class S0 extends v_{constructor(t,e){super(),this.serializer=t,this.Ie=e}}function pD(n){return mi(n.integerValue||n.doubleValue)}function Gk(n){return BE(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function ej(n,t){return n.field.isEqual(t.field)&&function(i,r){return i instanceof Fm&&r instanceof Fm||i instanceof Bm&&r instanceof Bm?gd(i.elements,r.elements,Zo):i instanceof S0&&r instanceof S0?Zo(i.Ie,r.Ie):i instanceof x0&&r instanceof x0}(n.transform,t.transform)}class nj{constructor(t,e){this.version=t,this.transformResults=e}}class so{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new so}static exists(t){return new so(void 0,t)}static updateTime(t){return new so(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Py(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class b_{}function Wk(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new YE(n.key,so.none()):new Eg(n.key,n.data,so.none());{const e=n.data,i=es.empty();let r=new zi(pr.comparator);for(let s of t.fields)if(!r.has(s)){let a=e.field(s);a===null&&s.length>1&&(s=s.popLast(),a=e.field(s)),a===null?i.delete(s):i.set(s,a),r=r.add(s)}return new yc(n.key,i,new vs(r.toArray()),so.none())}}function ij(n,t,e){n instanceof Eg?function(r,s,a){const c=r.value.clone(),u=_D(r.fieldTransforms,s,a.transformResults);c.setAll(u),s.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(n,t,e):n instanceof yc?function(r,s,a){if(!Py(r.precondition,s))return void s.convertToUnknownDocument(a.version);const c=_D(r.fieldTransforms,s,a.transformResults),u=s.data;u.setAll(Kk(r)),u.setAll(c),s.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(n,t,e):function(r,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,t,e)}function ym(n,t,e,i){return n instanceof Eg?function(s,a,c,u){if(!Py(s.precondition,a))return c;const d=s.value.clone(),f=vD(s.fieldTransforms,u,a);return d.setAll(f),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),null}(n,t,e,i):n instanceof yc?function(s,a,c,u){if(!Py(s.precondition,a))return c;const d=vD(s.fieldTransforms,u,a),f=a.data;return f.setAll(Kk(s)),f.setAll(d),a.convertToFoundDocument(a.version,f).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(g=>g.field))}(n,t,e,i):function(s,a,c){return Py(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):c}(n,t,e)}function rj(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),s=Hk(i.transform,r||null);s!=null&&(e===null&&(e=es.empty()),e.set(i.field,s))}return e||null}function yD(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&gd(i,r,(s,a)=>ej(s,a))}(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class Eg extends b_{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class yc extends b_{constructor(t,e,i,r,s=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Kk(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function _D(n,t,e){const i=new Map;rn(n.length===e.length);for(let r=0;r<e.length;r++){const s=n[r],a=s.transform,c=t.data.field(s.field);i.set(s.field,tj(a,c,e[r]))}return i}function vD(n,t,e){const i=new Map;for(const r of n){const s=r.transform,a=e.data.field(r.field);i.set(r.field,JB(s,a,t))}return i}class YE extends b_{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class sj extends b_{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oj{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(t.key)&&ij(s,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=ym(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=ym(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=jk();return this.mutations.forEach(r=>{const s=t.get(r.key),a=s.overlayedDocument;let c=this.applyToLocalView(a,s.mutatedFields);c=e.has(r.key)?null:c;const u=Wk(a,c);u!==null&&i.set(r.key,u),a.isValidDocument()||a.convertToNoDocument(ue.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),ke())}isEqual(t){return this.batchId===t.batchId&&gd(this.mutations,t.mutations,(e,i)=>yD(e,i))&&gd(this.baseMutations,t.baseMutations,(e,i)=>yD(e,i))}}class GE{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){rn(t.mutations.length===i.length);let r=function(){return WB}();const s=t.mutations;for(let a=0;a<s.length;a++)r=r.insert(s[a].key,i[a].version);return new GE(t,e,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aj{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lj{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wi,je;function cj(n){switch(n){case gt.OK:return oe();case gt.CANCELLED:case gt.UNKNOWN:case gt.DEADLINE_EXCEEDED:case gt.RESOURCE_EXHAUSTED:case gt.INTERNAL:case gt.UNAVAILABLE:case gt.UNAUTHENTICATED:return!1;case gt.INVALID_ARGUMENT:case gt.NOT_FOUND:case gt.ALREADY_EXISTS:case gt.PERMISSION_DENIED:case gt.FAILED_PRECONDITION:case gt.ABORTED:case gt.OUT_OF_RANGE:case gt.UNIMPLEMENTED:case gt.DATA_LOSS:return!0;default:return oe()}}function Xk(n){if(n===void 0)return Qa("GRPC error has no .code"),gt.UNKNOWN;switch(n){case wi.OK:return gt.OK;case wi.CANCELLED:return gt.CANCELLED;case wi.UNKNOWN:return gt.UNKNOWN;case wi.DEADLINE_EXCEEDED:return gt.DEADLINE_EXCEEDED;case wi.RESOURCE_EXHAUSTED:return gt.RESOURCE_EXHAUSTED;case wi.INTERNAL:return gt.INTERNAL;case wi.UNAVAILABLE:return gt.UNAVAILABLE;case wi.UNAUTHENTICATED:return gt.UNAUTHENTICATED;case wi.INVALID_ARGUMENT:return gt.INVALID_ARGUMENT;case wi.NOT_FOUND:return gt.NOT_FOUND;case wi.ALREADY_EXISTS:return gt.ALREADY_EXISTS;case wi.PERMISSION_DENIED:return gt.PERMISSION_DENIED;case wi.FAILED_PRECONDITION:return gt.FAILED_PRECONDITION;case wi.ABORTED:return gt.ABORTED;case wi.OUT_OF_RANGE:return gt.OUT_OF_RANGE;case wi.UNIMPLEMENTED:return gt.UNIMPLEMENTED;case wi.DATA_LOSS:return gt.DATA_LOSS;default:return oe()}}(je=wi||(wi={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uj=new Gl([4294967295,4294967295],0);function bD(n){const t=vk().encode(n),e=new dk;return e.update(t),new Uint8Array(e.digest())}function TD(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Gl([e,i],0),new Gl([r,s],0)]}class WE{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new nm(`Invalid padding: ${e}`);if(i<0)throw new nm(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new nm(`Invalid hash count: ${i}`);if(t.length===0&&e!==0)throw new nm(`Invalid padding when bitmap length is 0: ${e}`);this.Ee=8*t.length-e,this.de=Gl.fromNumber(this.Ee)}Ae(t,e,i){let r=t.add(e.multiply(Gl.fromNumber(i)));return r.compare(uj)===1&&(r=new Gl([r.getBits(0),r.getBits(1)],0)),r.modulo(this.de).toNumber()}Re(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.Ee===0)return!1;const e=bD(t),[i,r]=TD(e);for(let s=0;s<this.hashCount;s++){const a=this.Ae(i,r,s);if(!this.Re(a))return!1}return!0}static create(t,e,i){const r=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),a=new WE(s,r,e);return i.forEach(c=>a.insert(c)),a}insert(t){if(this.Ee===0)return;const e=bD(t),[i,r]=TD(e);for(let s=0;s<this.hashCount;s++){const a=this.Ae(i,r,s);this.Ve(a)}}Ve(t){const e=Math.floor(t/8),i=t%8;this.bitmap[e]|=1<<i}}class nm extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T_{constructor(t,e,i,r,s){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,xg.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new T_(ue.min(),r,new Zn(Ee),Za(),ke())}}class xg{constructor(t,e,i,r,s){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new xg(i,e,ke(),ke(),ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{constructor(t,e,i,r){this.me=t,this.removedTargetIds=e,this.key=i,this.fe=r}}class Qk{constructor(t,e){this.targetId=t,this.ge=e}}class Zk{constructor(t,e,i=_r.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class wD{constructor(){this.pe=0,this.ye=ED(),this.we=_r.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(t){t.approximateByteSize()>0&&(this.be=!0,this.we=t)}Fe(){let t=ke(),e=ke(),i=ke();return this.ye.forEach((r,s)=>{switch(s){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:oe()}}),new xg(this.we,this.Se,t,e,i)}Me(){this.be=!1,this.ye=ED()}xe(t,e){this.be=!0,this.ye=this.ye.insert(t,e)}Oe(t){this.be=!0,this.ye=this.ye.remove(t)}Ne(){this.pe+=1}Be(){this.pe-=1,rn(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class hj{constructor(t){this.ke=t,this.qe=new Map,this.Qe=Za(),this.$e=ty(),this.Ue=ty(),this.Ke=new Zn(Ee)}We(t){for(const e of t.me)t.fe&&t.fe.isFoundDocument()?this.Ge(e,t.fe):this.ze(e,t.key,t.fe);for(const e of t.removedTargetIds)this.ze(e,t.key,t.fe)}je(t){this.forEachTarget(t,e=>{const i=this.He(e);switch(t.state){case 0:this.Je(e)&&i.Ce(t.resumeToken);break;case 1:i.Be(),i.De||i.Me(),i.Ce(t.resumeToken);break;case 2:i.Be(),i.De||this.removeTarget(e);break;case 3:this.Je(e)&&(i.Le(),i.Ce(t.resumeToken));break;case 4:this.Je(e)&&(this.Ye(e),i.Ce(t.resumeToken));break;default:oe()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.qe.forEach((i,r)=>{this.Je(r)&&e(r)})}Ze(t){const e=t.targetId,i=t.ge.count,r=this.Xe(e);if(r){const s=r.target;if(iw(s))if(i===0){const a=new Yt(s.path);this.ze(e,a,Dr.newNoDocument(a,ue.min()))}else rn(i===1);else{const a=this.et(e);if(a!==i){const c=this.tt(t),u=c?this.nt(c,t,a):1;if(u!==0){this.Ye(e);const d=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(e,d)}}}}}tt(t){const e=t.ge.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=e;let a,c;try{a=oc(i).toUint8Array()}catch(u){if(u instanceof Ek)return md("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new WE(a,r,s)}catch(u){return md(u instanceof nm?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return c.Ee===0?null:c}nt(t,e,i){return e.ge.count===i-this.st(t,e.targetId)?0:2}st(t,e){const i=this.ke.getRemoteKeysForTarget(e);let r=0;return i.forEach(s=>{const a=this.ke.it(),c=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;t.mightContain(c)||(this.ze(e,s,null),r++)}),r}ot(t){const e=new Map;this.qe.forEach((s,a)=>{const c=this.Xe(a);if(c){if(s.current&&iw(c.target)){const u=new Yt(c.target.path);this._t(u).has(a)||this.ut(a,u)||this.ze(a,u,Dr.newNoDocument(u,t))}s.ve&&(e.set(a,s.Fe()),s.Me())}});let i=ke();this.Ue.forEach((s,a)=>{let c=!0;a.forEachWhile(u=>{const d=this.Xe(u);return!d||d.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(i=i.add(s))}),this.Qe.forEach((s,a)=>a.setReadTime(t));const r=new T_(t,e,this.Ke,this.Qe,i);return this.Qe=Za(),this.$e=ty(),this.Ue=ty(),this.Ke=new Zn(Ee),r}Ge(t,e){if(!this.Je(t))return;const i=this.ut(t,e.key)?2:0;this.He(t).xe(e.key,i),this.Qe=this.Qe.insert(e.key,e),this.$e=this.$e.insert(e.key,this._t(e.key).add(t)),this.Ue=this.Ue.insert(e.key,this.ct(e.key).add(t))}ze(t,e,i){if(!this.Je(t))return;const r=this.He(t);this.ut(t,e)?r.xe(e,1):r.Oe(e),this.Ue=this.Ue.insert(e,this.ct(e).delete(t)),this.Ue=this.Ue.insert(e,this.ct(e).add(t)),i&&(this.Qe=this.Qe.insert(e,i))}removeTarget(t){this.qe.delete(t)}et(t){const e=this.He(t).Fe();return this.ke.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ne(t){this.He(t).Ne()}He(t){let e=this.qe.get(t);return e||(e=new wD,this.qe.set(t,e)),e}ct(t){let e=this.Ue.get(t);return e||(e=new zi(Ee),this.Ue=this.Ue.insert(t,e)),e}_t(t){let e=this.$e.get(t);return e||(e=new zi(Ee),this.$e=this.$e.insert(t,e)),e}Je(t){const e=this.Xe(t)!==null;return e||Nt("WatchChangeAggregator","Detected inactive target",t),e}Xe(t){const e=this.qe.get(t);return e&&e.De?null:this.ke.lt(t)}Ye(t){this.qe.set(t,new wD),this.ke.getRemoteKeysForTarget(t).forEach(e=>{this.ze(t,e,null)})}ut(t,e){return this.ke.getRemoteKeysForTarget(t).has(e)}}function ty(){return new Zn(Yt.comparator)}function ED(){return new Zn(Yt.comparator)}const dj={asc:"ASCENDING",desc:"DESCENDING"},fj={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mj={and:"AND",or:"OR"};class gj{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function ow(n,t){return n.useProto3Json||g_(t)?t:{value:t}}function A0(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Jk(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function pj(n,t){return A0(n,t.toTimestamp())}function Yo(n){return rn(!!n),ue.fromTimestamp(function(e){const i=sc(e);return new Ui(i.seconds,i.nanos)}(n))}function KE(n,t){return aw(n,t).canonicalString()}function aw(n,t){const e=function(r){return new Ln(["projects",r.projectId,"databases",r.database])}(n).child("documents");return t===void 0?e:e.child(t)}function tN(n){const t=Ln.fromString(n);return rn(sN(t)),t}function lw(n,t){return KE(n.databaseId,t.path)}function rT(n,t){const e=tN(t);if(e.get(1)!==n.databaseId.projectId)throw new Vt(gt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new Vt(gt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new Yt(nN(e))}function eN(n,t){return KE(n.databaseId,t)}function yj(n){const t=tN(n);return t.length===4?Ln.emptyPath():nN(t)}function cw(n){return new Ln(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function nN(n){return rn(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function xD(n,t,e){return{name:lw(n,t),fields:e.value.mapValue.fields}}function _j(n,t){let e;if("targetChange"in t){t.targetChange;const i=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:oe()}(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],s=function(d,f){return d.useProto3Json?(rn(f===void 0||typeof f=="string"),_r.fromBase64String(f||"")):(rn(f===void 0||f instanceof Buffer||f instanceof Uint8Array),_r.fromUint8Array(f||new Uint8Array))}(n,t.targetChange.resumeToken),a=t.targetChange.cause,c=a&&function(d){const f=d.code===void 0?gt.UNKNOWN:Xk(d.code);return new Vt(f,d.message||"")}(a);e=new Zk(i,r,s,c||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const r=rT(n,i.document.name),s=Yo(i.document.updateTime),a=i.document.createTime?Yo(i.document.createTime):ue.min(),c=new es({mapValue:{fields:i.document.fields}}),u=Dr.newFoundDocument(r,s,a,c),d=i.targetIds||[],f=i.removedTargetIds||[];e=new Ly(d,f,u.key,u)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const r=rT(n,i.document),s=i.readTime?Yo(i.readTime):ue.min(),a=Dr.newNoDocument(r,s),c=i.removedTargetIds||[];e=new Ly([],c,a.key,a)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const r=rT(n,i.document),s=i.removedTargetIds||[];e=new Ly([],s,r,null)}else{if(!("filter"in t))return oe();{t.filter;const i=t.filter;i.targetId;const{count:r=0,unchangedNames:s}=i,a=new lj(r,s),c=i.targetId;e=new Qk(c,a)}}return e}function vj(n,t){let e;if(t instanceof Eg)e={update:xD(n,t.key,t.value)};else if(t instanceof YE)e={delete:lw(n,t.key)};else if(t instanceof yc)e={update:xD(n,t.key,t.data),updateMask:Cj(t.fieldMask)};else{if(!(t instanceof sj))return oe();e={verify:lw(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(s,a){const c=a.transform;if(c instanceof x0)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Fm)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Bm)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof S0)return{fieldPath:a.field.canonicalString(),increment:c.Ie};throw oe()}(0,i))),t.precondition.isNone||(e.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:pj(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:oe()}(n,t.precondition)),e}function bj(n,t){return n&&n.length>0?(rn(t!==void 0),n.map(e=>function(r,s){let a=r.updateTime?Yo(r.updateTime):Yo(s);return a.isEqual(ue.min())&&(a=Yo(s)),new nj(a,r.transformResults||[])}(e,t))):[]}function Tj(n,t){return{documents:[eN(n,t.path)]}}function wj(n,t){const e={structuredQuery:{}},i=t.path;let r;t.collectionGroup!==null?(r=i,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=i.popLast(),e.structuredQuery.from=[{collectionId:i.lastSegment()}]),e.parent=eN(n,r);const s=function(d){if(d.length!==0)return rN(co.create(d,"and"))}(t.filters);s&&(e.structuredQuery.where=s);const a=function(d){if(d.length!==0)return d.map(f=>function(y){return{field:Ph(y.field),direction:Sj(y.dir)}}(f))}(t.orderBy);a&&(e.structuredQuery.orderBy=a);const c=ow(n,t.limit);return c!==null&&(e.structuredQuery.limit=c),t.startAt&&(e.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(t.startAt)),t.endAt&&(e.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(t.endAt)),{ht:e,parent:r}}function Ej(n){let t=yj(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){rn(i===1);const f=e.from[0];f.allDescendants?r=f.collectionId:t=t.child(f.collectionId)}let s=[];e.where&&(s=function(g){const y=iN(g);return y instanceof co&&kk(y)?y.getFilters():[y]}(e.where));let a=[];e.orderBy&&(a=function(g){return g.map(y=>function(E){return new zm(Lh(E.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(y))}(e.orderBy));let c=null;e.limit&&(c=function(g){let y;return y=typeof g=="object"?g.value:g,g_(y)?null:y}(e.limit));let u=null;e.startAt&&(u=function(g){const y=!!g.before,v=g.values||[];return new E0(v,y)}(e.startAt));let d=null;return e.endAt&&(d=function(g){const y=!g.before,v=g.values||[];return new E0(v,y)}(e.endAt)),$B(t,r,a,s,c,"F",u,d)}function xj(n,t){const e=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return oe()}}(t.purpose);return e==null?null:{"goog-listen-tags":e}}function iN(n){return n.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=Lh(e.unaryFilter.field);return xi.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=Lh(e.unaryFilter.field);return xi.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Lh(e.unaryFilter.field);return xi.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Lh(e.unaryFilter.field);return xi.create(a,"!=",{nullValue:"NULL_VALUE"});default:return oe()}}(n):n.fieldFilter!==void 0?function(e){return xi.create(Lh(e.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return oe()}}(e.fieldFilter.op),e.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(e){return co.create(e.compositeFilter.filters.map(i=>iN(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return oe()}}(e.compositeFilter.op))}(n):oe()}function Sj(n){return dj[n]}function Aj(n){return fj[n]}function Rj(n){return mj[n]}function Ph(n){return{fieldPath:n.canonicalString()}}function Lh(n){return pr.fromServerFormat(n.fieldPath)}function rN(n){return n instanceof xi?function(e){if(e.op==="=="){if(hD(e.value))return{unaryFilter:{field:Ph(e.field),op:"IS_NAN"}};if(uD(e.value))return{unaryFilter:{field:Ph(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(hD(e.value))return{unaryFilter:{field:Ph(e.field),op:"IS_NOT_NAN"}};if(uD(e.value))return{unaryFilter:{field:Ph(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ph(e.field),op:Aj(e.op),value:e.value}}}(n):n instanceof co?function(e){const i=e.getFilters().map(r=>rN(r));return i.length===1?i[0]:{compositeFilter:{op:Rj(e.op),filters:i}}}(n):oe()}function Cj(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function sN(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(t,e,i,r,s=ue.min(),a=ue.min(),c=_r.EMPTY_BYTE_STRING,u=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(t){return new Ul(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Ul(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ul(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ul(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dj{constructor(t){this.Tt=t}}function Ij(n){const t=Ej({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?sw(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mj{constructor(){this.Tn=new Oj}addToCollectionParentIndex(t,e){return this.Tn.add(e),mt.resolve()}getCollectionParents(t,e){return mt.resolve(this.Tn.getEntries(e))}addFieldIndex(t,e){return mt.resolve()}deleteFieldIndex(t,e){return mt.resolve()}deleteAllFieldIndexes(t){return mt.resolve()}createTargetIndexes(t,e){return mt.resolve()}getDocumentsMatchingTarget(t,e){return mt.resolve(null)}getIndexType(t,e){return mt.resolve(0)}getFieldIndexes(t,e){return mt.resolve([])}getNextCollectionGroupToUpdate(t){return mt.resolve(null)}getMinOffset(t,e){return mt.resolve(rc.min())}getMinOffsetFromCollectionGroup(t,e){return mt.resolve(rc.min())}updateCollectionGroup(t,e,i){return mt.resolve()}updateIndexEntries(t,e){return mt.resolve()}}class Oj{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new zi(Ln.comparator),s=!r.has(i);return this.index[e]=r.add(i),s}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new zi(Ln.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SD={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},oN=41943040;class Jr{static withCacheSize(t){return new Jr(t,Jr.DEFAULT_COLLECTION_PERCENTILE,Jr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Jr.DEFAULT_COLLECTION_PERCENTILE=10,Jr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Jr.DEFAULT=new Jr(oN,Jr.DEFAULT_COLLECTION_PERCENTILE,Jr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Jr.DISABLED=new Jr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(t){this.$n=t}next(){return this.$n+=2,this.$n}static Un(){return new _d(0)}static Kn(){return new _d(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AD="LruGarbageCollector",kj=1048576;function RD([n,t],[e,i]){const r=Ee(n,e);return r===0?Ee(t,i):r}class Nj{constructor(t){this.Hn=t,this.buffer=new zi(RD),this.Jn=0}Yn(){return++this.Jn}Zn(t){const e=[t,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();RD(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class Pj{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(t){Nt(AD,`Garbage collection scheduled in ${t}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Vd(e)?Nt(AD,"Ignoring IndexedDB error during garbage collection: ",e):await Ld(e)}await this.er(3e5)})}}class Lj{constructor(t,e){this.tr=t,this.params=e}calculateTargetCount(t,e){return this.tr.nr(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(e===0)return mt.resolve(m_.ae);const i=new Nj(e);return this.tr.forEachTarget(t,r=>i.Zn(r.sequenceNumber)).next(()=>this.tr.rr(t,r=>i.Zn(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.tr.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.tr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(Nt("LruGarbageCollector","Garbage collection skipped; disabled"),mt.resolve(SD)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(Nt("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),SD):this.ir(t,e))}getCacheSize(t){return this.tr.getCacheSize(t)}ir(t,e){let i,r,s,a,c,u,d;const f=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(Nt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),r=this.params.maximumSequenceNumbersToCollect):r=g,a=Date.now(),this.nthSequenceNumber(t,r))).next(g=>(i=g,c=Date.now(),this.removeTargets(t,i,e))).next(g=>(s=g,u=Date.now(),this.removeOrphanedDocuments(t,i))).next(g=>(d=Date.now(),kh()<=Me.DEBUG&&Nt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-f}ms
	Determined least recently used ${r} in `+(c-a)+`ms
	Removed ${s} targets in `+(u-c)+`ms
	Removed ${g} documents in `+(d-u)+`ms
Total Duration: ${d-f}ms`),mt.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:g})))}}function Vj(n,t){return new Lj(n,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uj{constructor(){this.changes=new Uu(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Dr.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return i!==void 0?mt.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zj{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fj{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,e))).next(r=>(i!==null&&ym(i.mutation,r,vs.empty(),Ui.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,ke()).next(()=>i))}getLocalViewOfDocuments(t,e,i=ke()){const r=du();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(s=>{let a=em();return s.forEach((c,u)=>{a=a.insert(c,u.overlayedDocument)}),a}))}getOverlayedDocuments(t,e){const i=du();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,ke()))}populateOverlays(t,e,i){const r=[];return i.forEach(s=>{e.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(t,r).next(s=>{s.forEach((a,c)=>{e.set(a,c)})})}computeViews(t,e,i,r){let s=Za();const a=pm(),c=function(){return pm()}();return e.forEach((u,d)=>{const f=i.get(d.key);r.has(d.key)&&(f===void 0||f.mutation instanceof yc)?s=s.insert(d.key,d):f!==void 0?(a.set(d.key,f.mutation.getFieldMask()),ym(f.mutation,d,f.mutation.getFieldMask(),Ui.now())):a.set(d.key,vs.empty())}),this.recalculateAndSaveOverlays(t,s).next(u=>(u.forEach((d,f)=>a.set(d,f)),e.forEach((d,f)=>{var g;return c.set(d,new zj(f,(g=a.get(d))!==null&&g!==void 0?g:null))}),c))}recalculateAndSaveOverlays(t,e){const i=pm();let r=new Zn((a,c)=>a-c),s=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(a=>{for(const c of a)c.keys().forEach(u=>{const d=e.get(u);if(d===null)return;let f=i.get(u)||vs.empty();f=c.applyToLocalView(d,f),i.set(u,f);const g=(r.get(c.batchId)||ke()).add(u);r=r.insert(c.batchId,g)})}).next(()=>{const a=[],c=r.getReverseIterator();for(;c.hasNext();){const u=c.getNext(),d=u.key,f=u.value,g=jk();f.forEach(y=>{if(!s.has(y)){const v=Wk(e.get(y),i.get(y));v!==null&&g.set(y,v),s=s.add(y)}}),a.push(this.documentOverlayCache.saveOverlays(t,d,g))}return mt.waitFor(a)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i,r){return function(a){return Yt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):Vk(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,r):this.getDocumentsMatchingCollectionQuery(t,e,i,r)}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(s=>{const a=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-s.size):mt.resolve(du());let c=Pm,u=s;return a.next(d=>mt.forEach(d,(f,g)=>(c<g.largestBatchId&&(c=g.largestBatchId),s.get(f)?mt.resolve():this.remoteDocumentCache.getEntry(t,f).next(y=>{u=u.insert(f,y)}))).next(()=>this.populateOverlays(t,d,s)).next(()=>this.computeViews(t,u,d,ke())).next(f=>({batchId:c,changes:Bk(f)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Yt(e)).next(i=>{let r=em();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i,r){const s=e.collectionGroup;let a=em();return this.indexManager.getCollectionParents(t,s).next(c=>mt.forEach(c,u=>{const d=function(g,y){return new Ud(y,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(e,u.child(s));return this.getDocumentsMatchingCollectionQuery(t,d,i,r).next(f=>{f.forEach((g,y)=>{a=a.insert(g,y)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(t,e,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,s,r))).next(a=>{s.forEach((u,d)=>{const f=d.getKey();a.get(f)===null&&(a=a.insert(f,Dr.newInvalidDocument(f)))});let c=em();return a.forEach((u,d)=>{const f=s.get(u);f!==void 0&&ym(f.mutation,d,vs.empty(),Ui.now()),__(e,d)&&(c=c.insert(u,d))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bj{constructor(t){this.serializer=t,this.dr=new Map,this.Ar=new Map}getBundleMetadata(t,e){return mt.resolve(this.dr.get(e))}saveBundleMetadata(t,e){return this.dr.set(e.id,function(r){return{id:r.id,version:r.version,createTime:Yo(r.createTime)}}(e)),mt.resolve()}getNamedQuery(t,e){return mt.resolve(this.Ar.get(e))}saveNamedQuery(t,e){return this.Ar.set(e.name,function(r){return{name:r.name,query:Ij(r.bundledQuery),readTime:Yo(r.readTime)}}(e)),mt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jj{constructor(){this.overlays=new Zn(Yt.comparator),this.Rr=new Map}getOverlay(t,e){return mt.resolve(this.overlays.get(e))}getOverlays(t,e){const i=du();return mt.forEach(e,r=>this.getOverlay(t,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,s)=>{this.Et(t,e,s)}),mt.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.Rr.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.Rr.delete(i)),mt.resolve()}getOverlaysForCollection(t,e,i){const r=du(),s=e.length+1,a=new Yt(e.child("")),c=this.overlays.getIteratorFrom(a);for(;c.hasNext();){const u=c.getNext().value,d=u.getKey();if(!e.isPrefixOf(d.path))break;d.path.length===s&&u.largestBatchId>i&&r.set(u.getKey(),u)}return mt.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let s=new Zn((d,f)=>d-f);const a=this.overlays.getIterator();for(;a.hasNext();){const d=a.getNext().value;if(d.getKey().getCollectionGroup()===e&&d.largestBatchId>i){let f=s.get(d.largestBatchId);f===null&&(f=du(),s=s.insert(d.largestBatchId,f)),f.set(d.getKey(),d)}}const c=du(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((d,f)=>c.set(d,f)),!(c.size()>=r)););return mt.resolve(c)}Et(t,e,i){const r=this.overlays.get(i.key);if(r!==null){const a=this.Rr.get(r.largestBatchId).delete(i.key);this.Rr.set(r.largestBatchId,a)}this.overlays=this.overlays.insert(i.key,new aj(e,i));let s=this.Rr.get(e);s===void 0&&(s=ke(),this.Rr.set(e,s)),this.Rr.set(e,s.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $j{constructor(){this.sessionToken=_r.EMPTY_BYTE_STRING}getSessionToken(t){return mt.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,mt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{constructor(){this.Vr=new zi(Gi.mr),this.gr=new zi(Gi.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(t,e){const i=new Gi(t,e);this.Vr=this.Vr.add(i),this.gr=this.gr.add(i)}yr(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.wr(new Gi(t,e))}Sr(t,e){t.forEach(i=>this.removeReference(i,e))}br(t){const e=new Yt(new Ln([])),i=new Gi(e,t),r=new Gi(e,t+1),s=[];return this.gr.forEachInRange([i,r],a=>{this.wr(a),s.push(a.key)}),s}Dr(){this.Vr.forEach(t=>this.wr(t))}wr(t){this.Vr=this.Vr.delete(t),this.gr=this.gr.delete(t)}vr(t){const e=new Yt(new Ln([])),i=new Gi(e,t),r=new Gi(e,t+1);let s=ke();return this.gr.forEachInRange([i,r],a=>{s=s.add(a.key)}),s}containsKey(t){const e=new Gi(t,0),i=this.Vr.firstAfterOrEqual(e);return i!==null&&t.isEqual(i.key)}}class Gi{constructor(t,e){this.key=t,this.Cr=e}static mr(t,e){return Yt.comparator(t.key,e.key)||Ee(t.Cr,e.Cr)}static pr(t,e){return Ee(t.Cr,e.Cr)||Yt.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hj{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.Fr=1,this.Mr=new zi(Gi.mr)}checkEmpty(t){return mt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,i,r){const s=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new oj(s,e,i,r);this.mutationQueue.push(a);for(const c of r)this.Mr=this.Mr.add(new Gi(c.key,s)),this.indexManager.addToCollectionParentIndex(t,c.key.path.popLast());return mt.resolve(a)}lookupMutationBatch(t,e){return mt.resolve(this.Or(e))}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=this.Nr(i),s=r<0?0:r;return mt.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return mt.resolve(this.mutationQueue.length===0?zE:this.Fr-1)}getAllMutationBatches(t){return mt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new Gi(e,0),r=new Gi(e,Number.POSITIVE_INFINITY),s=[];return this.Mr.forEachInRange([i,r],a=>{const c=this.Or(a.Cr);s.push(c)}),mt.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new zi(Ee);return e.forEach(r=>{const s=new Gi(r,0),a=new Gi(r,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([s,a],c=>{i=i.add(c.Cr)})}),mt.resolve(this.Br(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let s=i;Yt.isDocumentKey(s)||(s=s.child(""));const a=new Gi(new Yt(s),0);let c=new zi(Ee);return this.Mr.forEachWhile(u=>{const d=u.key.path;return!!i.isPrefixOf(d)&&(d.length===r&&(c=c.add(u.Cr)),!0)},a),mt.resolve(this.Br(c))}Br(t){const e=[];return t.forEach(i=>{const r=this.Or(i);r!==null&&e.push(r)}),e}removeMutationBatch(t,e){rn(this.Lr(e.batchId,"removed")===0),this.mutationQueue.shift();let i=this.Mr;return mt.forEach(e.mutations,r=>{const s=new Gi(r.key,e.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.Mr=i})}qn(t){}containsKey(t,e){const i=new Gi(e,0),r=this.Mr.firstAfterOrEqual(i);return mt.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,mt.resolve()}Lr(t,e){return this.Nr(t)}Nr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Or(t){const e=this.Nr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qj{constructor(t){this.kr=t,this.docs=function(){return new Zn(Yt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),s=r?r.size:0,a=this.kr(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return mt.resolve(i?i.document.mutableCopy():Dr.newInvalidDocument(e))}getEntries(t,e){let i=Za();return e.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():Dr.newInvalidDocument(r))}),mt.resolve(i)}getDocumentsMatchingQuery(t,e,i,r){let s=Za();const a=e.path,c=new Yt(a.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){const{key:d,value:{document:f}}=u.getNext();if(!a.isPrefixOf(d.path))break;d.path.length>a.length+1||TB(bB(f),i)<=0||(r.has(f.key)||__(e,f))&&(s=s.insert(f.key,f.mutableCopy()))}return mt.resolve(s)}getAllFromCollectionGroup(t,e,i,r){oe()}qr(t,e){return mt.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new Yj(this)}getSize(t){return mt.resolve(this.size)}}class Yj extends Uj{constructor(t){super(),this.Ir=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.Ir.addEntry(t,r)):this.Ir.removeEntry(i)}),mt.waitFor(e)}getFromCache(t,e){return this.Ir.getEntry(t,e)}getAllFromCache(t,e){return this.Ir.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gj{constructor(t){this.persistence=t,this.Qr=new Uu(e=>jE(e),$E),this.lastRemoteSnapshotVersion=ue.min(),this.highestTargetId=0,this.$r=0,this.Ur=new XE,this.targetCount=0,this.Kr=_d.Un()}forEachTarget(t,e){return this.Qr.forEach((i,r)=>e(r)),mt.resolve()}getLastRemoteSnapshotVersion(t){return mt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return mt.resolve(this.$r)}allocateTargetId(t){return this.highestTargetId=this.Kr.next(),mt.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.$r&&(this.$r=e),mt.resolve()}zn(t){this.Qr.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Kr=new _d(e),this.highestTargetId=e),t.sequenceNumber>this.$r&&(this.$r=t.sequenceNumber)}addTargetData(t,e){return this.zn(e),this.targetCount+=1,mt.resolve()}updateTargetData(t,e){return this.zn(e),mt.resolve()}removeTargetData(t,e){return this.Qr.delete(e.target),this.Ur.br(e.targetId),this.targetCount-=1,mt.resolve()}removeTargets(t,e,i){let r=0;const s=[];return this.Qr.forEach((a,c)=>{c.sequenceNumber<=e&&i.get(c.targetId)===null&&(this.Qr.delete(a),s.push(this.removeMatchingKeysForTargetId(t,c.targetId)),r++)}),mt.waitFor(s).next(()=>r)}getTargetCount(t){return mt.resolve(this.targetCount)}getTargetData(t,e){const i=this.Qr.get(e)||null;return mt.resolve(i)}addMatchingKeys(t,e,i){return this.Ur.yr(e,i),mt.resolve()}removeMatchingKeys(t,e,i){this.Ur.Sr(e,i);const r=this.persistence.referenceDelegate,s=[];return r&&e.forEach(a=>{s.push(r.markPotentiallyOrphaned(t,a))}),mt.waitFor(s)}removeMatchingKeysForTargetId(t,e){return this.Ur.br(e),mt.resolve()}getMatchingKeysForTargetId(t,e){const i=this.Ur.vr(e);return mt.resolve(i)}containsKey(t,e){return mt.resolve(this.Ur.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(t,e){this.Wr={},this.overlays={},this.Gr=new m_(0),this.zr=!1,this.zr=!0,this.jr=new $j,this.referenceDelegate=t(this),this.Hr=new Gj(this),this.indexManager=new Mj,this.remoteDocumentCache=function(r){return new qj(r)}(i=>this.referenceDelegate.Jr(i)),this.serializer=new Dj(e),this.Yr=new Bj(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new jj,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.Wr[t.toKey()];return i||(i=new Hj(e,this.referenceDelegate),this.Wr[t.toKey()]=i),i}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(t,e,i){Nt("MemoryPersistence","Starting transaction:",t);const r=new Wj(this.Gr.next());return this.referenceDelegate.Zr(),i(r).next(s=>this.referenceDelegate.Xr(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}ei(t,e){return mt.or(Object.values(this.Wr).map(i=>()=>i.containsKey(t,e)))}}class Wj extends EB{constructor(t){super(),this.currentSequenceNumber=t}}class QE{constructor(t){this.persistence=t,this.ti=new XE,this.ni=null}static ri(t){return new QE(t)}get ii(){if(this.ni)return this.ni;throw oe()}addReference(t,e,i){return this.ti.addReference(i,e),this.ii.delete(i.toString()),mt.resolve()}removeReference(t,e,i){return this.ti.removeReference(i,e),this.ii.add(i.toString()),mt.resolve()}markPotentiallyOrphaned(t,e){return this.ii.add(e.toString()),mt.resolve()}removeTarget(t,e){this.ti.br(e.targetId).forEach(r=>this.ii.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(s=>this.ii.add(s.toString()))}).next(()=>i.removeTargetData(t,e))}Zr(){this.ni=new Set}Xr(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return mt.forEach(this.ii,i=>{const r=Yt.fromPath(i);return this.si(t,r).next(s=>{s||e.removeEntry(r,ue.min())})}).next(()=>(this.ni=null,e.apply(t)))}updateLimboDocument(t,e){return this.si(t,e).next(i=>{i?this.ii.delete(e.toString()):this.ii.add(e.toString())})}Jr(t){return 0}si(t,e){return mt.or([()=>mt.resolve(this.ti.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.ei(t,e)])}}class R0{constructor(t,e){this.persistence=t,this.oi=new Uu(i=>AB(i.path),(i,r)=>i.isEqual(r)),this.garbageCollector=Vj(this,e)}static ri(t,e){return new R0(t,e)}Zr(){}Xr(t){return mt.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}nr(t){const e=this.sr(t);return this.persistence.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}sr(t){let e=0;return this.rr(t,i=>{e++}).next(()=>e)}rr(t,e){return mt.forEach(this.oi,(i,r)=>this.ar(t,i,r).next(s=>s?mt.resolve():e(r)))}removeTargets(t,e,i){return this.persistence.getTargetCache().removeTargets(t,e,i)}removeOrphanedDocuments(t,e){let i=0;const r=this.persistence.getRemoteDocumentCache(),s=r.newChangeBuffer();return r.qr(t,a=>this.ar(t,a,e).next(c=>{c||(i++,s.removeEntry(a,ue.min()))})).next(()=>s.apply(t)).next(()=>i)}markPotentiallyOrphaned(t,e){return this.oi.set(e,t.currentSequenceNumber),mt.resolve()}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,e,i){return this.oi.set(i,t.currentSequenceNumber),mt.resolve()}removeReference(t,e,i){return this.oi.set(i,t.currentSequenceNumber),mt.resolve()}updateLimboDocument(t,e){return this.oi.set(e,t.currentSequenceNumber),mt.resolve()}Jr(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=ky(t.data.value)),e}ar(t,e,i){return mt.or([()=>this.persistence.ei(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const r=this.oi.get(e);return mt.resolve(r!==void 0&&r>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Hi=i,this.Ji=r}static Yi(t,e){let i=ke(),r=ke();for(const s of e.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new ZE(t,e.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kj{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xj{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return GU()?8:xB(Mr())>0?6:4}()}initialize(t,e){this.ns=t,this.indexManager=e,this.Zi=!0}getDocumentsMatchingQuery(t,e,i,r){const s={result:null};return this.rs(t,e).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.ss(t,e,r,i).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new Kj;return this._s(t,e,a).next(c=>{if(s.result=c,this.Xi)return this.us(t,e,a,c.size)})}).next(()=>s.result)}us(t,e,i,r){return i.documentReadCount<this.es?(kh()<=Me.DEBUG&&Nt("QueryEngine","SDK will not create cache indexes for query:",Nh(e),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),mt.resolve()):(kh()<=Me.DEBUG&&Nt("QueryEngine","Query:",Nh(e),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.ts*r?(kh()<=Me.DEBUG&&Nt("QueryEngine","The SDK decides to create cache indexes for query:",Nh(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,qo(e))):mt.resolve())}rs(t,e){if(gD(e))return mt.resolve(null);let i=qo(e);return this.indexManager.getIndexType(t,i).next(r=>r===0?null:(e.limit!==null&&r===1&&(e=sw(e,null,"F"),i=qo(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(s=>{const a=ke(...s);return this.ns.getDocuments(t,a).next(c=>this.indexManager.getMinOffset(t,i).next(u=>{const d=this.cs(e,c);return this.ls(e,d,a,u.readTime)?this.rs(t,sw(e,null,"F")):this.hs(t,d,e,u)}))})))}ss(t,e,i,r){return gD(e)||r.isEqual(ue.min())?mt.resolve(null):this.ns.getDocuments(t,i).next(s=>{const a=this.cs(e,s);return this.ls(e,a,i,r)?mt.resolve(null):(kh()<=Me.DEBUG&&Nt("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Nh(e)),this.hs(t,a,e,vB(r,Pm)).next(c=>c))})}cs(t,e){let i=new zi(zk(t));return e.forEach((r,s)=>{__(t,s)&&(i=i.add(s))}),i}ls(t,e,i,r){if(t.limit===null)return!1;if(i.size!==e.size)return!0;const s=t.limitType==="F"?e.last():e.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}_s(t,e,i){return kh()<=Me.DEBUG&&Nt("QueryEngine","Using full collection scan to execute query:",Nh(e)),this.ns.getDocumentsMatchingQuery(t,e,rc.min(),i)}hs(t,e,i,r){return this.ns.getDocumentsMatchingQuery(t,i,r).next(s=>(e.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE="LocalStore",Qj=3e8;class Zj{constructor(t,e,i,r){this.persistence=t,this.Ps=e,this.serializer=r,this.Ts=new Zn(Ee),this.Is=new Uu(s=>jE(s),$E),this.Es=new Map,this.ds=t.getRemoteDocumentCache(),this.Hr=t.getTargetCache(),this.Yr=t.getBundleCache(),this.As(i)}As(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Fj(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Ts))}}function Jj(n,t,e,i){return new Zj(n,t,e,i)}async function lN(n,t){const e=fe(n);return await e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,e.As(t),e.mutationQueue.getAllMutationBatches(i))).next(s=>{const a=[],c=[];let u=ke();for(const d of r){a.push(d.batchId);for(const f of d.mutations)u=u.add(f.key)}for(const d of s){c.push(d.batchId);for(const f of d.mutations)u=u.add(f.key)}return e.localDocuments.getDocuments(i,u).next(d=>({Rs:d,removedBatchIds:a,addedBatchIds:c}))})})}function t7(n,t){const e=fe(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),s=e.ds.newChangeBuffer({trackRemovals:!0});return function(c,u,d,f){const g=d.batch,y=g.keys();let v=mt.resolve();return y.forEach(E=>{v=v.next(()=>f.getEntry(u,E)).next(x=>{const S=d.docVersions.get(E);rn(S!==null),x.version.compareTo(S)<0&&(g.applyToRemoteDocument(x,d),x.isValidDocument()&&(x.setReadTime(d.commitVersion),f.addEntry(x)))})}),v.next(()=>c.mutationQueue.removeMutationBatch(u,g))}(e,i,t,s).next(()=>s.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(c){let u=ke();for(let d=0;d<c.mutationResults.length;++d)c.mutationResults[d].transformResults.length>0&&(u=u.add(c.batch.mutations[d].key));return u}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}function cN(n){const t=fe(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Hr.getLastRemoteSnapshotVersion(e))}function e7(n,t){const e=fe(n),i=t.snapshotVersion;let r=e.Ts;return e.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=e.ds.newChangeBuffer({trackRemovals:!0});r=e.Ts;const c=[];t.targetChanges.forEach((f,g)=>{const y=r.get(g);if(!y)return;c.push(e.Hr.removeMatchingKeys(s,f.removedDocuments,g).next(()=>e.Hr.addMatchingKeys(s,f.addedDocuments,g)));let v=y.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.get(g)!==null?v=v.withResumeToken(_r.EMPTY_BYTE_STRING,ue.min()).withLastLimboFreeSnapshotVersion(ue.min()):f.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(f.resumeToken,i)),r=r.insert(g,v),function(x,S,R){return x.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=Qj?!0:R.addedDocuments.size+R.modifiedDocuments.size+R.removedDocuments.size>0}(y,v,f)&&c.push(e.Hr.updateTargetData(s,v))});let u=Za(),d=ke();if(t.documentUpdates.forEach(f=>{t.resolvedLimboDocuments.has(f)&&c.push(e.persistence.referenceDelegate.updateLimboDocument(s,f))}),c.push(n7(s,a,t.documentUpdates).next(f=>{u=f.Vs,d=f.fs})),!i.isEqual(ue.min())){const f=e.Hr.getLastRemoteSnapshotVersion(s).next(g=>e.Hr.setTargetsMetadata(s,s.currentSequenceNumber,i));c.push(f)}return mt.waitFor(c).next(()=>a.apply(s)).next(()=>e.localDocuments.getLocalViewOfDocuments(s,u,d)).next(()=>u)}).then(s=>(e.Ts=r,s))}function n7(n,t,e){let i=ke(),r=ke();return e.forEach(s=>i=i.add(s)),t.getEntries(n,i).next(s=>{let a=Za();return e.forEach((c,u)=>{const d=s.get(c);u.isFoundDocument()!==d.isFoundDocument()&&(r=r.add(c)),u.isNoDocument()&&u.version.isEqual(ue.min())?(t.removeEntry(c,u.readTime),a=a.insert(c,u)):!d.isValidDocument()||u.version.compareTo(d.version)>0||u.version.compareTo(d.version)===0&&d.hasPendingWrites?(t.addEntry(u),a=a.insert(c,u)):Nt(JE,"Ignoring outdated watch update for ",c,". Current version:",d.version," Watch version:",u.version)}),{Vs:a,fs:r}})}function i7(n,t){const e=fe(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=zE),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function r7(n,t){const e=fe(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.Hr.getTargetData(i,t).next(s=>s?(r=s,mt.resolve(r)):e.Hr.allocateTargetId(i).next(a=>(r=new Ul(t,a,"TargetPurposeListen",i.currentSequenceNumber),e.Hr.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.Ts.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.Ts=e.Ts.insert(i.targetId,i),e.Is.set(t,i.targetId)),i})}async function uw(n,t,e){const i=fe(n),r=i.Ts.get(t),s=e?"readwrite":"readwrite-primary";try{e||await i.persistence.runTransaction("Release target",s,a=>i.persistence.referenceDelegate.removeTarget(a,r))}catch(a){if(!Vd(a))throw a;Nt(JE,`Failed to update sequence numbers for target ${t}: ${a}`)}i.Ts=i.Ts.remove(t),i.Is.delete(r.target)}function CD(n,t,e){const i=fe(n);let r=ue.min(),s=ke();return i.persistence.runTransaction("Execute query","readwrite",a=>function(u,d,f){const g=fe(u),y=g.Is.get(f);return y!==void 0?mt.resolve(g.Ts.get(y)):g.Hr.getTargetData(d,f)}(i,a,qo(t)).next(c=>{if(c)return r=c.lastLimboFreeSnapshotVersion,i.Hr.getMatchingKeysForTargetId(a,c.targetId).next(u=>{s=u})}).next(()=>i.Ps.getDocumentsMatchingQuery(a,t,e?r:ue.min(),e?s:ke())).next(c=>(s7(i,qB(t),c),{documents:c,gs:s})))}function s7(n,t,e){let i=n.Es.get(t)||ue.min();e.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.Es.set(t,i)}class DD{constructor(){this.activeTargetIds=QB()}Ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}vs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}bs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class o7{constructor(){this.ho=new DD,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t,e=!0){return e&&this.ho.Ds(t),this.Po[t]||"not-current"}updateQueryState(t,e,i){this.Po[t]=e}removeLocalQueryTarget(t){this.ho.vs(t)}isLocalQueryTarget(t){return this.ho.activeTargetIds.has(t)}clearQueryState(t){delete this.Po[t]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(t){return this.ho.activeTargetIds.has(t)}start(){return this.ho=new DD,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a7{To(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ID="ConnectivityMonitor";class MD{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(t){this.Vo.push(t)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){Nt(ID,"Network connectivity changed: AVAILABLE");for(const t of this.Vo)t(0)}Ro(){Nt(ID,"Network connectivity changed: UNAVAILABLE");for(const t of this.Vo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ey=null;function hw(){return ey===null?ey=function(){return 268435456+Math.round(2147483648*Math.random())}():ey++,"0x"+ey.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT="RestConnection",l7={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class c7{get fo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.po=e+"://"+t.host,this.yo=`projects/${i}/databases/${r}`,this.wo=this.databaseId.database===T0?`project_id=${i}`:`project_id=${i}&database_id=${r}`}So(t,e,i,r,s){const a=hw(),c=this.bo(t,e.toUriEncodedString());Nt(sT,`Sending RPC '${t}' ${a}:`,c,i);const u={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(u,r,s),this.vo(t,c,u,i).then(d=>(Nt(sT,`Received RPC '${t}' ${a}: `,d),d),d=>{throw md(sT,`RPC '${t}' ${a} failed with error: `,d,"url: ",c,"request:",i),d})}Co(t,e,i,r,s,a){return this.So(t,e,i,r,s)}Do(t,e,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Pd}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((r,s)=>t[s]=r),i&&i.headers.forEach((r,s)=>t[s]=r)}bo(t,e){const i=l7[t];return`${this.po}/v1/${e}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u7{constructor(t){this.Fo=t.Fo,this.Mo=t.Mo}xo(t){this.Oo=t}No(t){this.Bo=t}Lo(t){this.ko=t}onMessage(t){this.qo=t}close(){this.Mo()}send(t){this.Fo(t)}Qo(){this.Oo()}$o(){this.Bo()}Uo(t){this.ko(t)}Ko(t){this.qo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Er="WebChannelConnection";class h7 extends c7{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}vo(t,e,i,r){const s=hw();return new Promise((a,c)=>{const u=new fk;u.setWithCredentials(!0),u.listenOnce(mk.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Oy.NO_ERROR:const f=u.getResponseJson();Nt(Er,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(f)),a(f);break;case Oy.TIMEOUT:Nt(Er,`RPC '${t}' ${s} timed out`),c(new Vt(gt.DEADLINE_EXCEEDED,"Request time out"));break;case Oy.HTTP_ERROR:const g=u.getStatus();if(Nt(Er,`RPC '${t}' ${s} failed with status:`,g,"response text:",u.getResponseText()),g>0){let y=u.getResponseJson();Array.isArray(y)&&(y=y[0]);const v=y==null?void 0:y.error;if(v&&v.status&&v.message){const E=function(S){const R=S.toLowerCase().replace(/_/g,"-");return Object.values(gt).indexOf(R)>=0?R:gt.UNKNOWN}(v.status);c(new Vt(E,v.message))}else c(new Vt(gt.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new Vt(gt.UNAVAILABLE,"Connection failed."));break;default:oe()}}finally{Nt(Er,`RPC '${t}' ${s} completed.`)}});const d=JSON.stringify(r);Nt(Er,`RPC '${t}' ${s} sending request:`,r),u.send(e,"POST",d,i,15)})}Wo(t,e,i){const r=hw(),s=[this.po,"/","google.firestore.v1.Firestore","/",t,"/channel"],a=yk(),c=pk(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(u.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Do(u.initMessageHeaders,e,i),u.encodeInitMessageHeaders=!0;const f=s.join("");Nt(Er,`Creating RPC '${t}' stream ${r}: ${f}`,u);const g=a.createWebChannel(f,u);let y=!1,v=!1;const E=new u7({Fo:S=>{v?Nt(Er,`Not sending because RPC '${t}' stream ${r} is closed:`,S):(y||(Nt(Er,`Opening RPC '${t}' stream ${r} transport.`),g.open(),y=!0),Nt(Er,`RPC '${t}' stream ${r} sending:`,S),g.send(S))},Mo:()=>g.close()}),x=(S,R,C)=>{S.listen(R,P=>{try{C(P)}catch(L){setTimeout(()=>{throw L},0)}})};return x(g,tm.EventType.OPEN,()=>{v||(Nt(Er,`RPC '${t}' stream ${r} transport opened.`),E.Qo())}),x(g,tm.EventType.CLOSE,()=>{v||(v=!0,Nt(Er,`RPC '${t}' stream ${r} transport closed`),E.Uo())}),x(g,tm.EventType.ERROR,S=>{v||(v=!0,md(Er,`RPC '${t}' stream ${r} transport errored:`,S),E.Uo(new Vt(gt.UNAVAILABLE,"The operation could not be completed")))}),x(g,tm.EventType.MESSAGE,S=>{var R;if(!v){const C=S.data[0];rn(!!C);const P=C,L=(P==null?void 0:P.error)||((R=P[0])===null||R===void 0?void 0:R.error);if(L){Nt(Er,`RPC '${t}' stream ${r} received error:`,L);const N=L.status;let j=function(k){const V=wi[k];if(V!==void 0)return Xk(V)}(N),O=L.message;j===void 0&&(j=gt.INTERNAL,O="Unknown error status: "+N+" with message "+L.message),v=!0,E.Uo(new Vt(j,O)),g.close()}else Nt(Er,`RPC '${t}' stream ${r} received:`,C),E.Ko(C)}}),x(c,gk.STAT_EVENT,S=>{S.stat===ZT.PROXY?Nt(Er,`RPC '${t}' stream ${r} detected buffering proxy`):S.stat===ZT.NOPROXY&&Nt(Er,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{E.$o()},0),E}}function oT(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w_(n){return new gj(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(t,e,i=1e3,r=1.5,s=6e4){this.Ti=t,this.timerId=e,this.Go=i,this.zo=r,this.jo=s,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(t){this.cancel();const e=Math.floor(this.Ho+this.e_()),i=Math.max(0,Date.now()-this.Yo),r=Math.max(0,e-i);r>0&&Nt("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ho} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,r,()=>(this.Yo=Date.now(),t())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OD="PersistentStream";class hN{constructor(t,e,i,r,s,a,c,u){this.Ti=t,this.n_=i,this.r_=r,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new uN(t,e)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(t){this.E_(),this.stream.send(t)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(t,e){this.E_(),this.d_(),this.a_.cancel(),this.i_++,t!==4?this.a_.reset():e&&e.code===gt.RESOURCE_EXHAUSTED?(Qa(e.toString()),Qa("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):e&&e.code===gt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Lo(e)}A_(){}auth(){this.state=1;const t=this.R_(this.i_),e=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.i_===e&&this.V_(i,r)},i=>{t(()=>{const r=new Vt(gt.UNKNOWN,"Fetching auth token failed: "+i.message);return this.m_(r)})})}V_(t,e){const i=this.R_(this.i_);this.stream=this.f_(t,e),this.stream.xo(()=>{i(()=>this.listener.xo())}),this.stream.No(()=>{i(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(r=>{i(()=>this.m_(r))}),this.stream.onMessage(r=>{i(()=>++this.__==1?this.g_(r):this.onNext(r))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(t){return Nt(OD,`close with error: ${t}`),this.stream=null,this.close(4,t)}R_(t){return e=>{this.Ti.enqueueAndForget(()=>this.i_===t?e():(Nt(OD,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class d7 extends hN{constructor(t,e,i,r,s,a){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,a),this.serializer=s}f_(t,e){return this.connection.Wo("Listen",t,e)}g_(t){return this.onNext(t)}onNext(t){this.a_.reset();const e=_j(this.serializer,t),i=function(s){if(!("targetChange"in s))return ue.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?ue.min():a.readTime?Yo(a.readTime):ue.min()}(t);return this.listener.p_(e,i)}y_(t){const e={};e.database=cw(this.serializer),e.addTarget=function(s,a){let c;const u=a.target;if(c=iw(u)?{documents:Tj(s,u)}:{query:wj(s,u).ht},c.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){c.resumeToken=Jk(s,a.resumeToken);const d=ow(s,a.expectedCount);d!==null&&(c.expectedCount=d)}else if(a.snapshotVersion.compareTo(ue.min())>0){c.readTime=A0(s,a.snapshotVersion.toTimestamp());const d=ow(s,a.expectedCount);d!==null&&(c.expectedCount=d)}return c}(this.serializer,t);const i=xj(this.serializer,t);i&&(e.labels=i),this.I_(e)}w_(t){const e={};e.database=cw(this.serializer),e.removeTarget=t,this.I_(e)}}class f7 extends hN{constructor(t,e,i,r,s,a){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,a),this.serializer=s}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(t,e){return this.connection.Wo("Write",t,e)}g_(t){return rn(!!t.streamToken),this.lastStreamToken=t.streamToken,rn(!t.writeResults||t.writeResults.length===0),this.listener.D_()}onNext(t){rn(!!t.streamToken),this.lastStreamToken=t.streamToken,this.a_.reset();const e=bj(t.writeResults,t.commitTime),i=Yo(t.commitTime);return this.listener.v_(i,e)}C_(){const t={};t.database=cw(this.serializer),this.I_(t)}b_(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>vj(this.serializer,i))};this.I_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m7{}class g7 extends m7{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=r,this.F_=!1}M_(){if(this.F_)throw new Vt(gt.FAILED_PRECONDITION,"The client has already been terminated.")}So(t,e,i,r){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.So(t,aw(e,i),r,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===gt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Vt(gt.UNKNOWN,s.toString())})}Co(t,e,i,r,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.Co(t,aw(e,i),r,a,c,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===gt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Vt(gt.UNKNOWN,a.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class p7{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(t){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.L_("Offline")))}set(t){this.Q_(),this.x_=0,t==="Online"&&(this.N_=!1),this.L_(t)}L_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}k_(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Qa(e),this.N_=!1):Nt("OnlineStateTracker",e)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mu="RemoteStore";class y7{constructor(t,e,i,r,s){this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=s,this.z_.To(a=>{i.enqueueAndForget(async()=>{zu(this)&&(Nt(Mu,"Restarting streams for network reachability change."),await async function(u){const d=fe(u);d.W_.add(4),await Sg(d),d.j_.set("Unknown"),d.W_.delete(4),await E_(d)}(this))})}),this.j_=new p7(i,r)}}async function E_(n){if(zu(n))for(const t of n.G_)await t(!0)}async function Sg(n){for(const t of n.G_)await t(!1)}function dN(n,t){const e=fe(n);e.K_.has(t.targetId)||(e.K_.set(t.targetId,t),i1(e)?n1(e):zd(e).c_()&&e1(e,t))}function t1(n,t){const e=fe(n),i=zd(e);e.K_.delete(t),i.c_()&&fN(e,t),e.K_.size===0&&(i.c_()?i.P_():zu(e)&&e.j_.set("Unknown"))}function e1(n,t){if(n.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ue.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}zd(n).y_(t)}function fN(n,t){n.H_.Ne(t),zd(n).w_(t)}function n1(n){n.H_=new hj({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>n.K_.get(t)||null,it:()=>n.datastore.serializer.databaseId}),zd(n).start(),n.j_.B_()}function i1(n){return zu(n)&&!zd(n).u_()&&n.K_.size>0}function zu(n){return fe(n).W_.size===0}function mN(n){n.H_=void 0}async function _7(n){n.j_.set("Online")}async function v7(n){n.K_.forEach((t,e)=>{e1(n,t)})}async function b7(n,t){mN(n),i1(n)?(n.j_.q_(t),n1(n)):n.j_.set("Unknown")}async function T7(n,t,e){if(n.j_.set("Online"),t instanceof Zk&&t.state===2&&t.cause)try{await async function(r,s){const a=s.cause;for(const c of s.targetIds)r.K_.has(c)&&(await r.remoteSyncer.rejectListen(c,a),r.K_.delete(c),r.H_.removeTarget(c))}(n,t)}catch(i){Nt(Mu,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await C0(n,i)}else if(t instanceof Ly?n.H_.We(t):t instanceof Qk?n.H_.Ze(t):n.H_.je(t),!e.isEqual(ue.min()))try{const i=await cN(n.localStore);e.compareTo(i)>=0&&await function(s,a){const c=s.H_.ot(a);return c.targetChanges.forEach((u,d)=>{if(u.resumeToken.approximateByteSize()>0){const f=s.K_.get(d);f&&s.K_.set(d,f.withResumeToken(u.resumeToken,a))}}),c.targetMismatches.forEach((u,d)=>{const f=s.K_.get(u);if(!f)return;s.K_.set(u,f.withResumeToken(_r.EMPTY_BYTE_STRING,f.snapshotVersion)),fN(s,u);const g=new Ul(f.target,u,d,f.sequenceNumber);e1(s,g)}),s.remoteSyncer.applyRemoteEvent(c)}(n,e)}catch(i){Nt(Mu,"Failed to raise snapshot:",i),await C0(n,i)}}async function C0(n,t,e){if(!Vd(t))throw t;n.W_.add(1),await Sg(n),n.j_.set("Offline"),e||(e=()=>cN(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{Nt(Mu,"Retrying IndexedDB access"),await e(),n.W_.delete(1),await E_(n)})}function gN(n,t){return t().catch(e=>C0(n,e,t))}async function x_(n){const t=fe(n),e=lc(t);let i=t.U_.length>0?t.U_[t.U_.length-1].batchId:zE;for(;w7(t);)try{const r=await i7(t.localStore,i);if(r===null){t.U_.length===0&&e.P_();break}i=r.batchId,E7(t,r)}catch(r){await C0(t,r)}pN(t)&&yN(t)}function w7(n){return zu(n)&&n.U_.length<10}function E7(n,t){n.U_.push(t);const e=lc(n);e.c_()&&e.S_&&e.b_(t.mutations)}function pN(n){return zu(n)&&!lc(n).u_()&&n.U_.length>0}function yN(n){lc(n).start()}async function x7(n){lc(n).C_()}async function S7(n){const t=lc(n);for(const e of n.U_)t.b_(e.mutations)}async function A7(n,t,e){const i=n.U_.shift(),r=GE.from(i,t,e);await gN(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),await x_(n)}async function R7(n,t){t&&lc(n).S_&&await async function(i,r){if(function(a){return cj(a)&&a!==gt.ABORTED}(r.code)){const s=i.U_.shift();lc(i).h_(),await gN(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),await x_(i)}}(n,t),pN(n)&&yN(n)}async function kD(n,t){const e=fe(n);e.asyncQueue.verifyOperationInProgress(),Nt(Mu,"RemoteStore received new credentials");const i=zu(e);e.W_.add(3),await Sg(e),i&&e.j_.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.W_.delete(3),await E_(e)}async function C7(n,t){const e=fe(n);t?(e.W_.delete(2),await E_(e)):t||(e.W_.add(2),await Sg(e),e.j_.set("Unknown"))}function zd(n){return n.J_||(n.J_=function(e,i,r){const s=fe(e);return s.M_(),new d7(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{xo:_7.bind(null,n),No:v7.bind(null,n),Lo:b7.bind(null,n),p_:T7.bind(null,n)}),n.G_.push(async t=>{t?(n.J_.h_(),i1(n)?n1(n):n.j_.set("Unknown")):(await n.J_.stop(),mN(n))})),n.J_}function lc(n){return n.Y_||(n.Y_=function(e,i,r){const s=fe(e);return s.M_(),new f7(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:x7.bind(null,n),Lo:R7.bind(null,n),D_:S7.bind(null,n),v_:A7.bind(null,n)}),n.G_.push(async t=>{t?(n.Y_.h_(),await x_(n)):(await n.Y_.stop(),n.U_.length>0&&(Nt(Mu,`Stopping write stream with ${n.U_.length} pending writes`),n.U_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(t,e,i,r,s){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Wl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,r,s){const a=Date.now()+i,c=new r1(t,e,a,r,s);return c.start(i),c}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Vt(gt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function s1(n,t){if(Qa("AsyncQueue",`${t}: ${n}`),Vd(n))return new Vt(gt.UNAVAILABLE,`${t}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{static emptySet(t){return new Jh(t.comparator)}constructor(t){this.comparator=t?(e,i)=>t(e,i)||Yt.comparator(e.key,i.key):(e,i)=>Yt.comparator(e.key,i.key),this.keyedMap=em(),this.sortedSet=new Zn(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Jh)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const i=new Jh;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(){this.Z_=new Zn(Yt.comparator)}track(t){const e=t.doc.key,i=this.Z_.get(e);i?t.type!==0&&i.type===3?this.Z_=this.Z_.insert(e,t):t.type===3&&i.type!==1?this.Z_=this.Z_.insert(e,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.Z_=this.Z_.insert(e,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.Z_=this.Z_.insert(e,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.Z_=this.Z_.remove(e):t.type===1&&i.type===2?this.Z_=this.Z_.insert(e,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.Z_=this.Z_.insert(e,{type:2,doc:t.doc}):oe():this.Z_=this.Z_.insert(e,t)}X_(){const t=[];return this.Z_.inorderTraversal((e,i)=>{t.push(i)}),t}}class vd{constructor(t,e,i,r,s,a,c,u,d){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=d}static fromInitialDocuments(t,e,i,r,s){const a=[];return e.forEach(c=>{a.push({type:0,doc:c})}),new vd(t,e,Jh.emptySet(e),a,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&y_(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D7{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(t=>t.ra())}}class I7{constructor(){this.queries=PD(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(e,i){const r=fe(e),s=r.queries;r.queries=PD(),s.forEach((a,c)=>{for(const u of c.ta)u.onError(i)})})(this,new Vt(gt.ABORTED,"Firestore shutting down"))}}function PD(){return new Uu(n=>Uk(n),y_)}async function _N(n,t){const e=fe(n);let i=3;const r=t.query;let s=e.queries.get(r);s?!s.na()&&t.ra()&&(i=2):(s=new D7,i=t.ra()?0:1);try{switch(i){case 0:s.ea=await e.onListen(r,!0);break;case 1:s.ea=await e.onListen(r,!1);break;case 2:await e.onFirstRemoteStoreListen(r)}}catch(a){const c=s1(a,`Initialization of query '${Nh(t.query)}' failed`);return void t.onError(c)}e.queries.set(r,s),s.ta.push(t),t.sa(e.onlineState),s.ea&&t.oa(s.ea)&&o1(e)}async function vN(n,t){const e=fe(n),i=t.query;let r=3;const s=e.queries.get(i);if(s){const a=s.ta.indexOf(t);a>=0&&(s.ta.splice(a,1),s.ta.length===0?r=t.ra()?0:1:!s.na()&&t.ra()&&(r=2))}switch(r){case 0:return e.queries.delete(i),e.onUnlisten(i,!0);case 1:return e.queries.delete(i),e.onUnlisten(i,!1);case 2:return e.onLastRemoteStoreUnlisten(i);default:return}}function M7(n,t){const e=fe(n);let i=!1;for(const r of t){const s=r.query,a=e.queries.get(s);if(a){for(const c of a.ta)c.oa(r)&&(i=!0);a.ea=r}}i&&o1(e)}function O7(n,t,e){const i=fe(n),r=i.queries.get(t);if(r)for(const s of r.ta)s.onError(e);i.queries.delete(t)}function o1(n){n.ia.forEach(t=>{t.next()})}var dw,LD;(LD=dw||(dw={}))._a="default",LD.Cache="cache";class bN{constructor(t,e,i){this.query=t,this.aa=e,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=i||{}}oa(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)r.type!==3&&i.push(r);t=new vd(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.ua?this.la(t)&&(this.aa.next(t),e=!0):this.ha(t,this.onlineState)&&(this.Pa(t),e=!0),this.ca=t,e}onError(t){this.aa.error(t)}sa(t){this.onlineState=t;let e=!1;return this.ca&&!this.ua&&this.ha(this.ca,t)&&(this.Pa(this.ca),e=!0),e}ha(t,e){if(!t.fromCache||!this.ra())return!0;const i=e!=="Offline";return(!this.options.Ta||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}la(t){if(t.docChanges.length>0)return!0;const e=this.ca&&this.ca.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}Pa(t){t=vd.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ua=!0,this.aa.next(t)}ra(){return this.options.source!==dw.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(t){this.key=t}}class wN{constructor(t){this.key=t}}class k7{constructor(t,e){this.query=t,this.fa=e,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=ke(),this.mutatedKeys=ke(),this.ya=zk(t),this.wa=new Jh(this.ya)}get Sa(){return this.fa}ba(t,e){const i=e?e.Da:new ND,r=e?e.wa:this.wa;let s=e?e.mutatedKeys:this.mutatedKeys,a=r,c=!1;const u=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,d=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((f,g)=>{const y=r.get(f),v=__(this.query,g)?g:null,E=!!y&&this.mutatedKeys.has(y.key),x=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let S=!1;y&&v?y.data.isEqual(v.data)?E!==x&&(i.track({type:3,doc:v}),S=!0):this.va(y,v)||(i.track({type:2,doc:v}),S=!0,(u&&this.ya(v,u)>0||d&&this.ya(v,d)<0)&&(c=!0)):!y&&v?(i.track({type:0,doc:v}),S=!0):y&&!v&&(i.track({type:1,doc:y}),S=!0,(u||d)&&(c=!0)),S&&(v?(a=a.add(v),s=x?s.add(f):s.delete(f)):(a=a.delete(f),s=s.delete(f)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const f=this.query.limitType==="F"?a.last():a.first();a=a.delete(f.key),s=s.delete(f.key),i.track({type:1,doc:f})}return{wa:a,Da:i,ls:c,mutatedKeys:s}}va(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i,r){const s=this.wa;this.wa=t.wa,this.mutatedKeys=t.mutatedKeys;const a=t.Da.X_();a.sort((f,g)=>function(v,E){const x=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return oe()}};return x(v)-x(E)}(f.type,g.type)||this.ya(f.doc,g.doc)),this.Ca(i),r=r!=null&&r;const c=e&&!r?this.Fa():[],u=this.pa.size===0&&this.current&&!r?1:0,d=u!==this.ga;return this.ga=u,a.length!==0||d?{snapshot:new vd(this.query,t.wa,s,a,t.mutatedKeys,u===0,d,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ma:c}:{Ma:c}}sa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new ND,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(t){return!this.fa.has(t)&&!!this.wa.has(t)&&!this.wa.get(t).hasLocalMutations}Ca(t){t&&(t.addedDocuments.forEach(e=>this.fa=this.fa.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.fa=this.fa.delete(e)),this.current=t.current)}Fa(){if(!this.current)return[];const t=this.pa;this.pa=ke(),this.wa.forEach(i=>{this.xa(i.key)&&(this.pa=this.pa.add(i.key))});const e=[];return t.forEach(i=>{this.pa.has(i)||e.push(new wN(i))}),this.pa.forEach(i=>{t.has(i)||e.push(new TN(i))}),e}Oa(t){this.fa=t.gs,this.pa=ke();const e=this.ba(t.documents);return this.applyChanges(e,!0)}Na(){return vd.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const a1="SyncEngine";class N7{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class P7{constructor(t){this.key=t,this.Ba=!1}}class L7{constructor(t,e,i,r,s,a){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.La={},this.ka=new Uu(c=>Uk(c),y_),this.qa=new Map,this.Qa=new Set,this.$a=new Zn(Yt.comparator),this.Ua=new Map,this.Ka=new XE,this.Wa={},this.Ga=new Map,this.za=_d.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function V7(n,t,e=!0){const i=CN(n);let r;const s=i.ka.get(t);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.Na()):r=await EN(i,t,e,!0),r}async function U7(n,t){const e=CN(n);await EN(e,t,!0,!1)}async function EN(n,t,e,i){const r=await r7(n.localStore,qo(t)),s=r.targetId,a=n.sharedClientState.addLocalQueryTarget(s,e);let c;return i&&(c=await z7(n,t,s,a==="current",r.resumeToken)),n.isPrimaryClient&&e&&dN(n.remoteStore,r),c}async function z7(n,t,e,i,r){n.Ha=(g,y,v)=>async function(x,S,R,C){let P=S.view.ba(R);P.ls&&(P=await CD(x.localStore,S.query,!1).then(({documents:O})=>S.view.ba(O,P)));const L=C&&C.targetChanges.get(S.targetId),N=C&&C.targetMismatches.get(S.targetId)!=null,j=S.view.applyChanges(P,x.isPrimaryClient,L,N);return UD(x,S.targetId,j.Ma),j.snapshot}(n,g,y,v);const s=await CD(n.localStore,t,!0),a=new k7(t,s.gs),c=a.ba(s.documents),u=xg.createSynthesizedTargetChangeForCurrentChange(e,i&&n.onlineState!=="Offline",r),d=a.applyChanges(c,n.isPrimaryClient,u);UD(n,e,d.Ma);const f=new N7(t,e,a);return n.ka.set(t,f),n.qa.has(e)?n.qa.get(e).push(t):n.qa.set(e,[t]),d.snapshot}async function F7(n,t,e){const i=fe(n),r=i.ka.get(t),s=i.qa.get(r.targetId);if(s.length>1)return i.qa.set(r.targetId,s.filter(a=>!y_(a,t))),void i.ka.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await uw(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),e&&t1(i.remoteStore,r.targetId),fw(i,r.targetId)}).catch(Ld)):(fw(i,r.targetId),await uw(i.localStore,r.targetId,!0))}async function B7(n,t){const e=fe(n),i=e.ka.get(t),r=e.qa.get(i.targetId);e.isPrimaryClient&&r.length===1&&(e.sharedClientState.removeLocalQueryTarget(i.targetId),t1(e.remoteStore,i.targetId))}async function j7(n,t,e){const i=K7(n);try{const r=await function(a,c){const u=fe(a),d=Ui.now(),f=c.reduce((v,E)=>v.add(E.key),ke());let g,y;return u.persistence.runTransaction("Locally write mutations","readwrite",v=>{let E=Za(),x=ke();return u.ds.getEntries(v,f).next(S=>{E=S,E.forEach((R,C)=>{C.isValidDocument()||(x=x.add(R))})}).next(()=>u.localDocuments.getOverlayedDocuments(v,E)).next(S=>{g=S;const R=[];for(const C of c){const P=rj(C,g.get(C.key).overlayedDocument);P!=null&&R.push(new yc(C.key,P,Ik(P.value.mapValue),so.exists(!0)))}return u.mutationQueue.addMutationBatch(v,d,R,c)}).next(S=>{y=S;const R=S.applyToLocalDocumentSet(g,x);return u.documentOverlayCache.saveOverlays(v,S.batchId,R)})}).then(()=>({batchId:y.batchId,changes:Bk(g)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(a,c,u){let d=a.Wa[a.currentUser.toKey()];d||(d=new Zn(Ee)),d=d.insert(c,u),a.Wa[a.currentUser.toKey()]=d}(i,r.batchId,e),await Ag(i,r.changes),await x_(i.remoteStore)}catch(r){const s=s1(r,"Failed to persist write");e.reject(s)}}async function xN(n,t){const e=fe(n);try{const i=await e7(e.localStore,t);t.targetChanges.forEach((r,s)=>{const a=e.Ua.get(s);a&&(rn(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?a.Ba=!0:r.modifiedDocuments.size>0?rn(a.Ba):r.removedDocuments.size>0&&(rn(a.Ba),a.Ba=!1))}),await Ag(e,i,t)}catch(i){await Ld(i)}}function VD(n,t,e){const i=fe(n);if(i.isPrimaryClient&&e===0||!i.isPrimaryClient&&e===1){const r=[];i.ka.forEach((s,a)=>{const c=a.view.sa(t);c.snapshot&&r.push(c.snapshot)}),function(a,c){const u=fe(a);u.onlineState=c;let d=!1;u.queries.forEach((f,g)=>{for(const y of g.ta)y.sa(c)&&(d=!0)}),d&&o1(u)}(i.eventManager,t),r.length&&i.La.p_(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function $7(n,t,e){const i=fe(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.Ua.get(t),s=r&&r.key;if(s){let a=new Zn(Yt.comparator);a=a.insert(s,Dr.newNoDocument(s,ue.min()));const c=ke().add(s),u=new T_(ue.min(),new Map,new Zn(Ee),a,c);await xN(i,u),i.$a=i.$a.remove(s),i.Ua.delete(t),l1(i)}else await uw(i.localStore,t,!1).then(()=>fw(i,t,e)).catch(Ld)}async function H7(n,t){const e=fe(n),i=t.batch.batchId;try{const r=await t7(e.localStore,t);AN(e,i,null),SN(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),await Ag(e,r)}catch(r){await Ld(r)}}async function q7(n,t,e){const i=fe(n);try{const r=await function(a,c){const u=fe(a);return u.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let f;return u.mutationQueue.lookupMutationBatch(d,c).next(g=>(rn(g!==null),f=g.keys(),u.mutationQueue.removeMutationBatch(d,g))).next(()=>u.mutationQueue.performConsistencyCheck(d)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(d,f,c)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,f)).next(()=>u.localDocuments.getDocuments(d,f))})}(i.localStore,t);AN(i,t,e),SN(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),await Ag(i,r)}catch(r){await Ld(r)}}function SN(n,t){(n.Ga.get(t)||[]).forEach(e=>{e.resolve()}),n.Ga.delete(t)}function AN(n,t,e){const i=fe(n);let r=i.Wa[i.currentUser.toKey()];if(r){const s=r.get(t);s&&(e?s.reject(e):s.resolve(),r=r.remove(t)),i.Wa[i.currentUser.toKey()]=r}}function fw(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.qa.get(t))n.ka.delete(i),e&&n.La.Ja(i,e);n.qa.delete(t),n.isPrimaryClient&&n.Ka.br(t).forEach(i=>{n.Ka.containsKey(i)||RN(n,i)})}function RN(n,t){n.Qa.delete(t.path.canonicalString());const e=n.$a.get(t);e!==null&&(t1(n.remoteStore,e),n.$a=n.$a.remove(t),n.Ua.delete(e),l1(n))}function UD(n,t,e){for(const i of e)i instanceof TN?(n.Ka.addReference(i.key,t),Y7(n,i)):i instanceof wN?(Nt(a1,"Document no longer in limbo: "+i.key),n.Ka.removeReference(i.key,t),n.Ka.containsKey(i.key)||RN(n,i.key)):oe()}function Y7(n,t){const e=t.key,i=e.path.canonicalString();n.$a.get(e)||n.Qa.has(i)||(Nt(a1,"New document in limbo: "+e),n.Qa.add(i),l1(n))}function l1(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const t=n.Qa.values().next().value;n.Qa.delete(t);const e=new Yt(Ln.fromString(t)),i=n.za.next();n.Ua.set(i,new P7(e)),n.$a=n.$a.insert(e,i),dN(n.remoteStore,new Ul(qo(HE(e.path)),i,"TargetPurposeLimboResolution",m_.ae))}}async function Ag(n,t,e){const i=fe(n),r=[],s=[],a=[];i.ka.isEmpty()||(i.ka.forEach((c,u)=>{a.push(i.Ha(u,t,e).then(d=>{var f;if((d||e)&&i.isPrimaryClient){const g=d?!d.fromCache:(f=e==null?void 0:e.targetChanges.get(u.targetId))===null||f===void 0?void 0:f.current;i.sharedClientState.updateQueryState(u.targetId,g?"current":"not-current")}if(d){r.push(d);const g=ZE.Yi(u.targetId,d);s.push(g)}}))}),await Promise.all(a),i.La.p_(r),await async function(u,d){const f=fe(u);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>mt.forEach(d,y=>mt.forEach(y.Hi,v=>f.persistence.referenceDelegate.addReference(g,y.targetId,v)).next(()=>mt.forEach(y.Ji,v=>f.persistence.referenceDelegate.removeReference(g,y.targetId,v)))))}catch(g){if(!Vd(g))throw g;Nt(JE,"Failed to update sequence numbers: "+g)}for(const g of d){const y=g.targetId;if(!g.fromCache){const v=f.Ts.get(y),E=v.snapshotVersion,x=v.withLastLimboFreeSnapshotVersion(E);f.Ts=f.Ts.insert(y,x)}}}(i.localStore,s))}async function G7(n,t){const e=fe(n);if(!e.currentUser.isEqual(t)){Nt(a1,"User change. New user:",t.toKey());const i=await lN(e.localStore,t);e.currentUser=t,function(s,a){s.Ga.forEach(c=>{c.forEach(u=>{u.reject(new Vt(gt.CANCELLED,a))})}),s.Ga.clear()}(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await Ag(e,i.Rs)}}function W7(n,t){const e=fe(n),i=e.Ua.get(t);if(i&&i.Ba)return ke().add(i.key);{let r=ke();const s=e.qa.get(t);if(!s)return r;for(const a of s){const c=e.ka.get(a);r=r.unionWith(c.view.Sa)}return r}}function CN(n){const t=fe(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=xN.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=W7.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=$7.bind(null,t),t.La.p_=M7.bind(null,t.eventManager),t.La.Ja=O7.bind(null,t.eventManager),t}function K7(n){const t=fe(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=H7.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=q7.bind(null,t),t}class D0{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=w_(t.databaseInfo.databaseId),this.sharedClientState=this.Za(t),this.persistence=this.Xa(t),await this.persistence.start(),this.localStore=this.eu(t),this.gcScheduler=this.tu(t,this.localStore),this.indexBackfillerScheduler=this.nu(t,this.localStore)}tu(t,e){return null}nu(t,e){return null}eu(t){return Jj(this.persistence,new Xj,t.initialUser,this.serializer)}Xa(t){return new aN(QE.ri,this.serializer)}Za(t){return new o7}async terminate(){var t,e;(t=this.gcScheduler)===null||t===void 0||t.stop(),(e=this.indexBackfillerScheduler)===null||e===void 0||e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}D0.provider={build:()=>new D0};class X7 extends D0{constructor(t){super(),this.cacheSizeBytes=t}tu(t,e){rn(this.persistence.referenceDelegate instanceof R0);const i=this.persistence.referenceDelegate.garbageCollector;return new Pj(i,t.asyncQueue,e)}Xa(t){const e=this.cacheSizeBytes!==void 0?Jr.withCacheSize(this.cacheSizeBytes):Jr.DEFAULT;return new aN(i=>R0.ri(i,e),this.serializer)}}class mw{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>VD(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=G7.bind(null,this.syncEngine),await C7(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new I7}()}createDatastore(t){const e=w_(t.databaseInfo.databaseId),i=function(s){return new h7(s)}(t.databaseInfo);return function(s,a,c,u){return new g7(s,a,c,u)}(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return function(i,r,s,a,c){return new y7(i,r,s,a,c)}(this.localStore,this.datastore,t.asyncQueue,e=>VD(this.syncEngine,e,0),function(){return MD.D()?new MD:new a7}())}createSyncEngine(t,e){return function(r,s,a,c,u,d,f){const g=new L7(r,s,a,c,u,d);return f&&(g.ja=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){var t,e;await async function(r){const s=fe(r);Nt(Mu,"RemoteStore shutting down."),s.W_.add(5),await Sg(s),s.z_.shutdown(),s.j_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(e=this.eventManager)===null||e===void 0||e.terminate()}}mw.provider={build:()=>new mw};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.iu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.iu(this.observer.error,t):Qa("Uncaught Error in snapshot listener:",t.toString()))}su(){this.muted=!0}iu(t,e){setTimeout(()=>{this.muted||t(e)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cc="FirestoreClient";class Q7{constructor(t,e,i,r,s){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=Cr.UNAUTHENTICATED,this.clientId=bk.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(i,async a=>{Nt(cc,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(i,a=>(Nt(cc,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Wl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const i=s1(e,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function aT(n,t){n.asyncQueue.verifyOperationInProgress(),Nt(cc,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(async r=>{i.isEqual(r)||(await lN(t.localStore,r),i=r)}),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}async function zD(n,t){n.asyncQueue.verifyOperationInProgress();const e=await Z7(n);Nt(cc,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener(i=>kD(t.remoteStore,i)),n.setAppCheckTokenChangeListener((i,r)=>kD(t.remoteStore,r)),n._onlineComponents=t}async function Z7(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Nt(cc,"Using user provided OfflineComponentProvider");try{await aT(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!function(r){return r.name==="FirebaseError"?r.code===gt.FAILED_PRECONDITION||r.code===gt.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(e))throw e;md("Error using user provided cache. Falling back to memory cache: "+e),await aT(n,new D0)}}else Nt(cc,"Using default OfflineComponentProvider"),await aT(n,new X7(void 0));return n._offlineComponents}async function IN(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Nt(cc,"Using user provided OnlineComponentProvider"),await zD(n,n._uninitializedComponentsProvider._online)):(Nt(cc,"Using default OnlineComponentProvider"),await zD(n,new mw))),n._onlineComponents}function J7(n){return IN(n).then(t=>t.syncEngine)}async function gw(n){const t=await IN(n),e=t.eventManager;return e.onListen=V7.bind(null,t.syncEngine),e.onUnlisten=F7.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=U7.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=B7.bind(null,t.syncEngine),e}function t8(n,t,e={}){const i=new Wl;return n.asyncQueue.enqueueAndForget(async()=>function(s,a,c,u,d){const f=new DN({next:y=>{f.su(),a.enqueueAndForget(()=>vN(s,g)),y.fromCache&&u.source==="server"?d.reject(new Vt(gt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(y)},error:y=>d.reject(y)}),g=new bN(c,f,{includeMetadataChanges:!0,Ta:!0});return _N(s,g)}(await gw(n),n.asyncQueue,t,e,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MN(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FD=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ON(n,t,e){if(!e)throw new Vt(gt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function e8(n,t,e,i){if(t===!0&&i===!0)throw new Vt(gt.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function BD(n){if(!Yt.isDocumentKey(n))throw new Vt(gt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function jD(n){if(Yt.isDocumentKey(n))throw new Vt(gt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function S_(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":oe()}function Go(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new Vt(gt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=S_(n);throw new Vt(gt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kN="firestore.googleapis.com",$D=!0;class HD{constructor(t){var e,i;if(t.host===void 0){if(t.ssl!==void 0)throw new Vt(gt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=kN,this.ssl=$D}else this.host=t.host,this.ssl=(e=t.ssl)!==null&&e!==void 0?e:$D;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=oN;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<kj)throw new Vt(gt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}e8("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=MN((i=t.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Vt(gt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Vt(gt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Vt(gt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class A_{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new HD({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Vt(gt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Vt(gt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new HD(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new uB;switch(i.type){case"firstParty":return new mB(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Vt(gt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const i=FD.get(e);i&&(Nt("ComponentProvider","Removing Datastore"),FD.delete(e),i.terminate())}(this),Promise.resolve()}}function n8(n,t,e,i={}){var r;const s=(n=Go(n,A_))._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),c=`${t}:${e}`;s.host!==kN&&s.host!==c&&md("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},s),{host:c,ssl:!1,emulatorOptions:i});if(!Ru(u,a)&&(n._setSettings(u),i.mockUserToken)){let d,f;if(typeof i.mockUserToken=="string")d=i.mockUserToken,f=Cr.MOCK_USER;else{d=FU(i.mockUserToken,(r=n._app)===null||r===void 0?void 0:r.options.projectId);const g=i.mockUserToken.sub||i.mockUserToken.user_id;if(!g)throw new Vt(gt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Cr(g)}n._authCredentials=new hB(new _k(d,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new _c(this.firestore,t,this._query)}}class is{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Kl(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new is(this.firestore,t,this._key)}}class Kl extends _c{constructor(t,e,i){super(t,e,HE(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new is(this.firestore,null,new Yt(t))}withConverter(t){return new Kl(this.firestore,t,this._path)}}function c1(n,t,...e){if(n=Or(n),ON("collection","path",t),n instanceof A_){const i=Ln.fromString(t,...e);return jD(i),new Kl(n,null,i)}{if(!(n instanceof is||n instanceof Kl))throw new Vt(gt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Ln.fromString(t,...e));return jD(i),new Kl(n.firestore,null,i)}}function u1(n,t,...e){if(n=Or(n),arguments.length===1&&(t=bk.newId()),ON("doc","path",t),n instanceof A_){const i=Ln.fromString(t,...e);return BD(i),new is(n,null,new Yt(i))}{if(!(n instanceof is||n instanceof Kl))throw new Vt(gt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Ln.fromString(t,...e));return BD(i),new is(n.firestore,n instanceof Kl?n.converter:null,new Yt(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qD="AsyncQueue";class YD{constructor(t=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new uN(this,"async_queue_retry"),this.Su=()=>{const i=oT();i&&Nt(qD,"Visibility state changed to "+i.visibilityState),this.a_.t_()},this.bu=t;const e=oT();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Du(),this.vu(t)}enterRestrictedMode(t){if(!this.mu){this.mu=!0,this.yu=t||!1;const e=oT();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this.Su)}}enqueue(t){if(this.Du(),this.mu)return new Promise(()=>{});const e=new Wl;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Vu.push(t),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(t){if(!Vd(t))throw t;Nt(qD,"Operation failed with retryable error: "+t)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(t){const e=this.bu.then(()=>(this.pu=!0,t().catch(i=>{this.gu=i,this.pu=!1;const r=function(a){let c=a.message||"";return a.stack&&(c=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),c}(i);throw Qa("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.pu=!1,i))));return this.bu=e,e}enqueueAfterDelay(t,e,i){this.Du(),this.wu.indexOf(t)>-1&&(e=0);const r=r1.createAndSchedule(this,t,e,i,s=>this.Fu(s));return this.fu.push(r),r}Du(){this.gu&&oe()}verifyOperationInProgress(){}async Mu(){let t;do t=this.bu,await t;while(t!==this.bu)}xu(t){for(const e of this.fu)if(e.timerId===t)return!0;return!1}Ou(t){return this.Mu().then(()=>{this.fu.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.fu)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Mu()})}Nu(t){this.wu.push(t)}Fu(t){const e=this.fu.indexOf(t);this.fu.splice(e,1)}}function GD(n){return function(e,i){if(typeof e!="object"||e===null)return!1;const r=e;for(const s of i)if(s in r&&typeof r[s]=="function")return!0;return!1}(n,["next","error","complete"])}class Ou extends A_{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new YD,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new YD(t),this._firestoreClient=void 0,await t}}}function i8(n,t){const e=typeof n=="object"?n:MO(),i=typeof n=="string"?n:T0,r=RE(e,"firestore").getImmediate({identifier:i});if(!r._initialized){const s=UU("firestore");s&&n8(r,...s)}return r}function h1(n){if(n._terminated)throw new Vt(gt.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||r8(n),n._firestoreClient}function r8(n){var t,e,i;const r=n._freezeSettings(),s=function(c,u,d,f){return new DB(c,u,d,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,MN(f.experimentalLongPollingOptions),f.useFetchStreams)}(n._databaseId,((t=n._app)===null||t===void 0?void 0:t.options.appId)||"",n._persistenceKey,r);n._componentsProvider||!((e=r.localCache)===null||e===void 0)&&e._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),n._firestoreClient=new Q7(n._authCredentials,n._appCheckCredentials,n._queue,s,n._componentsProvider&&function(c){const u=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(u),_online:u}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(t){this._byteString=t}static fromBase64String(t){try{return new bd(_r.fromBase64String(t))}catch(e){throw new Vt(gt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new bd(_r.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R_{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new Vt(gt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new pr(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Vt(gt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Vt(gt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Ee(this._lat,t._lat)||Ee(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(t){this._values=(t||[]).map(e=>e)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,r){if(i.length!==r.length)return!1;for(let s=0;s<i.length;++s)if(i[s]!==r[s])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s8=/^__.*__$/;class o8{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return this.fieldMask!==null?new yc(t,this.data,this.fieldMask,e,this.fieldTransforms):new Eg(t,this.data,e,this.fieldTransforms)}}class NN{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new yc(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function PN(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw oe()}}class g1{constructor(t,e,i,r,s,a){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.Bu(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(t){return new g1(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(t){var e;const i=(e=this.path)===null||e===void 0?void 0:e.child(t),r=this.ku({path:i,Qu:!1});return r.$u(t),r}Uu(t){var e;const i=(e=this.path)===null||e===void 0?void 0:e.child(t),r=this.ku({path:i,Qu:!1});return r.Bu(),r}Ku(t){return this.ku({path:void 0,Qu:!0})}Wu(t){return I0(t,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(t){return this.fieldMask.find(e=>t.isPrefixOf(e))!==void 0||this.fieldTransforms.find(e=>t.isPrefixOf(e.field))!==void 0}Bu(){if(this.path)for(let t=0;t<this.path.length;t++)this.$u(this.path.get(t))}$u(t){if(t.length===0)throw this.Wu("Document fields must not be empty");if(PN(this.Lu)&&s8.test(t))throw this.Wu('Document fields cannot begin and end with "__"')}}class a8{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||w_(t)}ju(t,e,i,r=!1){return new g1({Lu:t,methodName:e,zu:i,path:pr.emptyPath(),Qu:!1,Gu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function p1(n){const t=n._freezeSettings(),e=w_(n._databaseId);return new a8(n._databaseId,!!t.ignoreUndefinedProperties,e)}function l8(n,t,e,i,r,s={}){const a=n.ju(s.merge||s.mergeFields?2:0,t,e,r);y1("Data must be an object, but it was:",a,i);const c=LN(i,a);let u,d;if(s.merge)u=new vs(a.fieldMask),d=a.fieldTransforms;else if(s.mergeFields){const f=[];for(const g of s.mergeFields){const y=pw(t,g,e);if(!a.contains(y))throw new Vt(gt.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);UN(f,y)||f.push(y)}u=new vs(f),d=a.fieldTransforms.filter(g=>u.covers(g.field))}else u=null,d=a.fieldTransforms;return new o8(new es(c),u,d)}class C_ extends d1{_toFieldTransform(t){if(t.Lu!==2)throw t.Lu===1?t.Wu(`${this._methodName}() can only appear at the top level of your update data`):t.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof C_}}function c8(n,t,e,i){const r=n.ju(1,t,e);y1("Data must be an object, but it was:",r,i);const s=[],a=es.empty();pc(i,(u,d)=>{const f=_1(t,u,e);d=Or(d);const g=r.Uu(f);if(d instanceof C_)s.push(f);else{const y=Rg(d,g);y!=null&&(s.push(f),a.set(f,y))}});const c=new vs(s);return new NN(a,c,r.fieldTransforms)}function u8(n,t,e,i,r,s){const a=n.ju(1,t,e),c=[pw(t,i,e)],u=[r];if(s.length%2!=0)throw new Vt(gt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<s.length;y+=2)c.push(pw(t,s[y])),u.push(s[y+1]);const d=[],f=es.empty();for(let y=c.length-1;y>=0;--y)if(!UN(d,c[y])){const v=c[y];let E=u[y];E=Or(E);const x=a.Uu(v);if(E instanceof C_)d.push(v);else{const S=Rg(E,x);S!=null&&(d.push(v),f.set(v,S))}}const g=new vs(d);return new NN(f,g,a.fieldTransforms)}function h8(n,t,e,i=!1){return Rg(e,n.ju(i?4:3,t))}function Rg(n,t){if(VN(n=Or(n)))return y1("Unsupported field value:",t,n),LN(n,t);if(n instanceof d1)return function(i,r){if(!PN(r.Lu))throw r.Wu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Wu(`${i._methodName}() is not currently supported inside arrays`);const s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.Qu&&t.Lu!==4)throw t.Wu("Nested arrays are not supported");return function(i,r){const s=[];let a=0;for(const c of i){let u=Rg(c,r.Ku(a));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),a++}return{arrayValue:{values:s}}}(n,t)}return function(i,r){if((i=Or(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return ZB(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const s=Ui.fromDate(i);return{timestampValue:A0(r.serializer,s)}}if(i instanceof Ui){const s=new Ui(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:A0(r.serializer,s)}}if(i instanceof f1)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof bd)return{bytesValue:Jk(r.serializer,i._byteString)};if(i instanceof is){const s=r.databaseId,a=i.firestore._databaseId;if(!a.isEqual(s))throw r.Wu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:KE(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof m1)return function(a,c){return{mapValue:{fields:{[Ck]:{stringValue:Dk},[w0]:{arrayValue:{values:a.toArray().map(d=>{if(typeof d!="number")throw c.Wu("VectorValues must only contain numeric values.");return qE(c.serializer,d)})}}}}}}(i,r);throw r.Wu(`Unsupported field value: ${S_(i)}`)}(n,t)}function LN(n,t){const e={};return wk(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):pc(n,(i,r)=>{const s=Rg(r,t.qu(i));s!=null&&(e[i]=s)}),{mapValue:{fields:e}}}function VN(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ui||n instanceof f1||n instanceof bd||n instanceof is||n instanceof d1||n instanceof m1)}function y1(n,t,e){if(!VN(e)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(e)){const i=S_(e);throw i==="an object"?t.Wu(n+" a custom object"):t.Wu(n+" "+i)}}function pw(n,t,e){if((t=Or(t))instanceof R_)return t._internalPath;if(typeof t=="string")return _1(n,t);throw I0("Field path arguments must be of type string or ",n,!1,void 0,e)}const d8=new RegExp("[~\\*/\\[\\]]");function _1(n,t,e){if(t.search(d8)>=0)throw I0(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new R_(...t.split("."))._internalPath}catch{throw I0(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function I0(n,t,e,i,r){const s=i&&!i.isEmpty(),a=r!==void 0;let c=`Function ${t}() called with invalid data`;e&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(s||a)&&(u+=" (found",s&&(u+=` in field ${i}`),a&&(u+=` in document ${r}`),u+=")"),new Vt(gt.INVALID_ARGUMENT,c+n+u)}function UN(n,t){return n.some(e=>e.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(t,e,i,r,s){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new is(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new f8(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(v1("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class f8 extends zN{data(){return super.data()}}function v1(n,t){return typeof t=="string"?_1(n,t):t instanceof R_?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FN(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Vt(gt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class b1{}class BN extends b1{}function jN(n,t,...e){let i=[];t instanceof b1&&i.push(t),i=i.concat(e),function(s){const a=s.filter(u=>u instanceof w1).length,c=s.filter(u=>u instanceof T1).length;if(a>1||a>0&&c>0)throw new Vt(gt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class T1 extends BN{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new T1(t,e,i)}_apply(t){const e=this._parse(t);return HN(t._query,e),new _c(t.firestore,t.converter,rw(t._query,e))}_parse(t){const e=p1(t.firestore);return function(s,a,c,u,d,f,g){let y;if(d.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new Vt(gt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){KD(g,f);const E=[];for(const x of g)E.push(WD(u,s,x));y={arrayValue:{values:E}}}else y=WD(u,s,g)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||KD(g,f),y=h8(c,a,g,f==="in"||f==="not-in");return xi.create(d,f,y)}(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}class w1 extends b1{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new w1(t,e)}_parse(t){const e=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return e.length===1?e[0]:co.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:(function(r,s){let a=r;const c=s.getFlattenedFilters();for(const u of c)HN(a,u),a=rw(a,u)}(t._query,e),new _c(t.firestore,t.converter,rw(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class E1 extends BN{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new E1(t,e)}_apply(t){const e=function(r,s,a){if(r.startAt!==null)throw new Vt(gt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new Vt(gt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new zm(s,a)}(t._query,this._field,this._direction);return new _c(t.firestore,t.converter,function(r,s){const a=r.explicitOrderBy.concat([s]);return new Ud(r.path,r.collectionGroup,a,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(t._query,e))}}function $N(n,t="asc"){const e=t,i=v1("orderBy",n);return E1._create(i,e)}function WD(n,t,e){if(typeof(e=Or(e))=="string"){if(e==="")throw new Vt(gt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Vk(t)&&e.indexOf("/")!==-1)throw new Vt(gt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(Ln.fromString(e));if(!Yt.isDocumentKey(i))throw new Vt(gt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return cD(n,new Yt(i))}if(e instanceof is)return cD(n,e._key);throw new Vt(gt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${S_(e)}.`)}function KD(n,t){if(!Array.isArray(n)||n.length===0)throw new Vt(gt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function HN(n,t){const e=function(r,s){for(const a of r)for(const c of a.getFlattenedFilters())if(s.indexOf(c.op)>=0)return c.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(e!==null)throw e===t.op?new Vt(gt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Vt(gt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class m8{convertValue(t,e="none"){switch(ac(t)){case 0:return null;case 1:return t.booleanValue;case 2:return mi(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(oc(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw oe()}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return pc(t,(r,s)=>{i[r]=this.convertValue(s,e)}),i}convertVectorValue(t){var e,i,r;const s=(r=(i=(e=t.fields)===null||e===void 0?void 0:e[w0].arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.map(a=>mi(a.doubleValue));return new m1(s)}convertGeoPoint(t){return new f1(mi(t.latitude),mi(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=p_(t);return i==null?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(Lm(t));default:return null}}convertTimestamp(t){const e=sc(t);return new Ui(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=Ln.fromString(t);rn(sN(i));const r=new Vm(i.get(1),i.get(3)),s=new Yt(i.popFirst(5));return r.isEqual(e)||Qa(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g8(n,t,e){let i;return i=n?n.toFirestore(t):t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class qN extends zN{constructor(t,e,i,r,s,a){super(t,e,i,r,a),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Vy(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(v1("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class Vy extends qN{data(t={}){return super.data(t)}}class YN{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new im(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new Vy(this._firestore,this._userDataWriter,i.key,i,new im(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Vt(gt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(c=>{const u=new Vy(r._firestore,r._userDataWriter,c.doc.key,c.doc,new im(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:a++}})}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>s||c.type!==3).map(c=>{const u=new Vy(r._firestore,r._userDataWriter,c.doc.key,c.doc,new im(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);let d=-1,f=-1;return c.type!==0&&(d=a.indexOf(c.doc.key),a=a.delete(c.doc.key)),c.type!==1&&(a=a.add(c.doc),f=a.indexOf(c.doc.key)),{type:p8(c.type),doc:u,oldIndex:d,newIndex:f}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function p8(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return oe()}}class x1 extends m8{constructor(t){super(),this.firestore=t}convertBytes(t){return new bd(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new is(this.firestore,null,e)}}function y8(n){n=Go(n,_c);const t=Go(n.firestore,Ou),e=h1(t),i=new x1(t);return FN(n._query),t8(e,n._query).then(r=>new YN(t,i,n,r))}function XD(n,t,e,...i){n=Go(n,is);const r=Go(n.firestore,Ou),s=p1(r);let a;return a=typeof(t=Or(t))=="string"||t instanceof R_?u8(s,"updateDoc",n._key,t,e,i):c8(s,"updateDoc",n._key,t),S1(r,[a.toMutation(n._key,so.exists(!0))])}function _8(n){return S1(Go(n.firestore,Ou),[new YE(n._key,so.none())])}function v8(n,t){const e=Go(n.firestore,Ou),i=u1(n),r=g8(n.converter,t);return S1(e,[l8(p1(n.firestore),"addDoc",i._key,r,n.converter!==null,{}).toMutation(i._key,so.exists(!1))]).then(()=>i)}function b8(n,...t){var e,i,r;n=Or(n);let s={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||GD(t[a])||(s=t[a],a++);const c={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(GD(t[a])){const g=t[a];t[a]=(e=g.next)===null||e===void 0?void 0:e.bind(g),t[a+1]=(i=g.error)===null||i===void 0?void 0:i.bind(g),t[a+2]=(r=g.complete)===null||r===void 0?void 0:r.bind(g)}let u,d,f;if(n instanceof is)d=Go(n.firestore,Ou),f=HE(n._key.path),u={next:g=>{t[a]&&t[a](T8(d,n,g))},error:t[a+1],complete:t[a+2]};else{const g=Go(n,_c);d=Go(g.firestore,Ou),f=g._query;const y=new x1(d);u={next:v=>{t[a]&&t[a](new YN(d,y,g,v))},error:t[a+1],complete:t[a+2]},FN(n._query)}return function(y,v,E,x){const S=new DN(x),R=new bN(v,S,E);return y.asyncQueue.enqueueAndForget(async()=>_N(await gw(y),R)),()=>{S.su(),y.asyncQueue.enqueueAndForget(async()=>vN(await gw(y),R))}}(h1(d),f,c,u)}function S1(n,t){return function(i,r){const s=new Wl;return i.asyncQueue.enqueueAndForget(async()=>j7(await J7(i),r,s)),s.promise}(h1(n),t)}function T8(n,t,e){const i=e.docs.get(t._key),r=new x1(n);return new qN(n,r,t._key,i,new im(e.hasPendingWrites,e.fromCache),t.converter)}(function(t,e=!0){(function(r){Pd=r})(kd),dd(new Cu("firestore",(i,{instanceIdentifier:r,options:s})=>{const a=i.getProvider("app").getImmediate(),c=new Ou(new dB(i.getProvider("auth-internal")),new gB(a,i.getProvider("app-check-internal")),function(d,f){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Vt(gt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vm(d.options.projectId,f)}(a,r),a);return s=Object.assign({useFetchStreams:e},s),c._setSettings(s),c},"PUBLIC").setMultipleInstances(!0)),Yl(QC,ZC,t),Yl(QC,ZC,"esm2017")})();const w8={apiKey:"AIzaSyASY_TDUPR0wPWFPs2yVkJZl4XZpyqq1JI",authDomain:"organizador-32dbb.firebaseapp.com",projectId:"organizador-32dbb",storageBucket:"organizador-32dbb.firebasestorage.app",messagingSenderId:"805321376378",appId:"1:805321376378:web:6ef2732c87d76dcbc031c3"},GN=IO(w8);lB(GN);const jm=i8(GN),zl=(n,t)=>{const e={position:"top-center",theme:"dark"};switch(t){case"error":cn.error(n,e);break;case"success":cn.success(n,e);break}};class WN{constructor({name:t,text:e,id:i="nada",date:r}){Et(this,"id");Et(this,"date");Et(this,"name");Et(this,"text");this.id=i,this.name=t,this.text=e,this.date=r||`${Rh.Now.plainTimeISO().toString().slice(0,5)} / ${Rh.Now.plainDateISO().toString()}`}async save(){const t=Rh.Now.plainTimeISO().toString().slice(0,5),e=Rh.Now.plainDateISO().toString();this.date=`${e} / ${t}`;try{const i=await v8(c1(jm,"notes"),{name:this.name,date:this.date,text:this.text});await XD(i,{id:i.id}),zl("Nota guardada exitosamente","success")}catch(i){zl(`Error al guardar la nota: ${i}`,"error")}}async edit(t,e,i){const r=Rh.Now.plainTimeISO().toString().slice(0,5),a=`${Rh.Now.plainDateISO().toString()} / ${r}`;try{const c=u1(jm,"notes",i);await XD(c,{id:i,name:t,text:e,date:a}),zl("Nota actualizada exitosamente","success")}catch(c){zl(`Error al editar la nota: ${c}`,"error")}}show(){console.log(this)}}const E8=()=>{const[n,t]=K.useState(""),[e,i]=K.useState(""),r=q0();function s(){new WN({name:n,text:e}).save(),setTimeout(()=>{r("/notes")},2500)}return K.useEffect(()=>{const a=()=>{window.location.href="/notes"};return window.addEventListener("popstate",a),()=>{window.removeEventListener("popstate",a)}},[]),yt.jsx("section",{className:"flex w-full relative pt-20",children:yt.jsxs("div",{className:"z-10 flex flex-col min-h-screen w-full relative",children:[yt.jsx(eg,{className:"text-center text-lg font-bold w-full py-4 dark:bg-[var(--nd)] bg-[var(--nd)] dark:text-[var(--txt)] text-[var(--txt)]",to:"/notes",children:"Volver al inicio"}),yt.jsxs("span",{className:"relative",children:[yt.jsx("input",{className:"flex h-14 w-full py-2 pl-2 pr-12 truncate  text-lg font-bold dark:text-[var(--txt-2)] text-[var(--txt-2)] focus:dark:text-[var(--txt)] focus:text-[var(--txt)] border-b-2 dark:border-[var(--rd)] border-[var(--rd)] focus:bg-[var(--rd)] dark:focus:focus:bg-[var(--rd)] outline-none",placeholder:"Ttulo",type:"text",onChange:a=>t(a.target.value)}),yt.jsx("button",{className:"absolute right-2 top-3 text-3xl dark:text-[var(--txt)] text-[var(--txt)]",onClick:s,children:yt.jsx(gM,{})})]}),yt.jsx("textarea",{className:"p-2 dark:text-[var(--txt-2)] text-[var(--txt-2)] focus:dark:text-[var(--txt)] focus:text-[var(--txt)] outline-none w-full h-full focus:bg-[var(--rd)] dark:focus:focus:bg-[var(--rd)]",placeholder:"Escriba su nota aqu...",onChange:a=>i(a.target.value)})]})})};function x8(n){return Kw({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M135.2 17.7C140.6 6.8 151.7 0 163.8 0L284.2 0c12.1 0 23.2 6.8 28.6 17.7L320 32l96 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 96C14.3 96 0 81.7 0 64S14.3 32 32 32l96 0 7.2-14.3zM32 128l384 0 0 320c0 35.3-28.7 64-64 64L96 512c-35.3 0-64-28.7-64-64l0-320zm96 64c-8.8 0-16 7.2-16 16l0 224c0 8.8 7.2 16 16 16s16-7.2 16-16l0-224c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16l0 224c0 8.8 7.2 16 16 16s16-7.2 16-16l0-224c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16l0 224c0 8.8 7.2 16 16 16s16-7.2 16-16l0-224c0-8.8-7.2-16-16-16z"},child:[]}]})(n)}function yw(n){const t={id:n.id,name:n.name?n.name:"",date:n.date?n.date:"",text:n.text?n.text:""};return new WN({id:t.id,name:t.name,date:t.date,text:t.text})}const S8=async({type:n,order:t})=>{try{const e=c1(jm,"notes"),i=jN(e,$N(n,t)),s=(await y8(i)).docs.map(c=>({id:c.id,...c.data()}));let a=[];return s.forEach(c=>{let u=yw(c);a.push(u)}),a}catch(e){return zl(`Error obteniendo notas: ${e}`,"error"),[]}},A8=async n=>{try{if(n){const t=u1(jm,"notes",n);await _8(t)}else zl("No se encuentra el ID del documento","error");zl("Nota eliminada exitosamente","success")}catch(t){zl(`Error al eliminar la nota: ${t}`,"error")}},R8=({initialData:n,changeInterface:t,fetch:e})=>{const[i,r]=K.useState(n.name),[s,a]=K.useState(n.text);function c(){n.id&&n.edit(i,s,n.id),t(!1),e()}return K.useEffect(()=>{const u=()=>{t(!1)};return window.addEventListener("popstate",u),()=>{window.removeEventListener("popstate",u)}},[]),yt.jsx("section",{className:"flex w-full min-h-screen relative pt-20",children:yt.jsxs("div",{className:"z-10 flex flex-col min-h-full w-full relative",children:[yt.jsxs("button",{className:"overflow-hidden flex relative group hover:bg-transparent cursor-pointer text-center text-lg font-bold w-full py-4 dark:bg-[var(--nd)] bg-[var(--nd)] duration-500 transition-all ease-in-out",onClick:()=>t(!1),children:[yt.jsx("div",{className:"h-full w-[107.5%] rounded bottom-7 absolute z-0 bg-gradient-to-br from-[var(--th)]/75 to-[var(--rd)]/75 -skew-x-46 translate-x-[110%] group-hover:translate-x-[3%] duration-500 transition-all ease-in-out"}),yt.jsx("div",{className:"h-full w-[107.5%] rounded -bottom-7 absolute z-0 bg-gradient-to-br from-[var(--th)]/75 to-[var(--rd)]/75 skew-x-46 translate-x-[110%] group-hover:translate-x-[3%] duration-500 transition-all ease-in-out"}),yt.jsx("h1",{className:"w-full text-center z-20 dark:text-[var(--txt)] text-[var(--txt)]",children:"Volver al inicio"})]}),yt.jsxs("div",{className:"w-full flex relative",children:[yt.jsx("input",{className:"w-full flex h-14 py-2 pl-4 pr-12 truncate text-lg font-bold dark:text-[var(--txt-2)] text-[var(--txt-2)] focus:dark:text-[var(--txt)] focus:text-[var(--txt)] border-b-2 dark:border-[var(--rd)] border-[var(--rd)] focus:bg-[var(--rd)] dark:focus:focus:bg-[var(--rd)] outline-none",placeholder:"Ttulo",defaultValue:n.name,type:"text",onChange:u=>r(u.target.value)}),yt.jsx("button",{className:"absolute cursor-pointer z-20 right-2 top-2 text-4xl dark:text-[var(--txt)] text-[var(--txt)]",onClick:c,children:yt.jsx(gM,{})})]}),yt.jsx("textarea",{className:"p-4 text-lg font-semibold bg-[var(--nd)] dark:text-[var(--txt-2)] text-[var(--txt-2)] focus:dark:text-[var(--txt)] focus:text-[var(--txt)] outline-none w-full h-full focus:bg-[var(--rd)] dark:focus:focus:bg-[var(--rd)]",placeholder:"Escriba su nota aqu...",defaultValue:n.text,onChange:u=>a(u.target.value)})]})})},lT=()=>{const[n,t]=K.useState([]),[e,i]=K.useState(!0),[r,s]=K.useState(),[a,c]=K.useState(!1),[u,d]=K.useState(!1),f=q0(),g=()=>JSON.parse(localStorage.getItem("notes")||"[]").map(yw),y=C=>{s(C),c(!0)},v=()=>{r&&r.id&&A8(r.id),R(),c(!1)},E=C=>{s(C),d(!0)},x=()=>{f("/notes/new")},S=async()=>{const C=g();if(C.length>0)t(C),i(!1);else{const P=await S8({type:"date",order:"desc"});t(P),localStorage.setItem("notes",JSON.stringify(P)),i(!1)}},R=()=>{const C=jN(c1(jm,"notes"),$N("date","desc"));return b8(C,L=>{const j=L.docs.map(O=>({id:O.id,...O.data()})).map(yw);t(j),i(!1),localStorage.setItem("notes",JSON.stringify(j))})};return K.useEffect(()=>{S()},[]),K.useEffect(()=>{i(!0);const C=R();return()=>C()},[]),u&&r?yt.jsx("section",{className:"w-full min-h-screen",children:yt.jsx(R8,{initialData:r,changeInterface:d,fetch:R})}):yt.jsxs("section",{className:"relative flex pt-16 md:justify-center",children:[a&&yt.jsx("div",{className:"absolute z-20 flex items-center justify-center min-h-screen w-full bg-black/75",children:yt.jsxs("div",{className:"flex flex-col items-center justify-center p-5",children:[yt.jsxs("h1",{className:"text-[var(--txt)] dark:text-[var(--txt)] text-2xl font-bold p-5 bg-[var(--rd)]/75 rounded-lg",children:[" Estas seguro de que quieres eliminar la nota: ",yt.jsx("b",{className:"text-[var(--th)]",children:r==null?void 0:r.name}),"?"]}),yt.jsxs("span",{className:"w-full mt-10 flex gap-2 h-12 text-2xl font-bold",children:[yt.jsx("button",{className:"bg-[var(--nd)] dark:bg-[var(--nd)] size-full rounded text-[var(--txt)] dark:text-[var(--txt)]",onClick:()=>c(!1),children:"Volver"}),yt.jsx("button",{className:"bg-red-600 size-full rounded text-[var(--txt)] dark:text-[var(--txt)]",onClick:v,children:"Eliminar"})]})]})}),e&&yt.jsx("div",{className:"flex min-h-screen w-full items-center justify-center",children:yt.jsx("p",{className:"dark:text-[var(--txt)] text-[var(--txt)] text-2xl animate-pulse duration-300",children:"Cargando..."})}),!e&&n.length===0&&yt.jsx("div",{className:"flex min-h-screen w-full items-center justify-center",children:yt.jsx("p",{className:"dark:text-[var(--txt)] text-[var(--txt)] text-2xl animate-pulse duration-300",children:"No hay notas disponibles."})}),!e&&n.length>0&&yt.jsxs("div",{className:"z-10 flex flex-col w-full md:w-1/2 min-h-[85vh] py-10 px-2",children:[yt.jsx("h1",{className:"mb-4 font-bold text-center dark:text-[var(--txt-2)] text-[var(--txt-2)] ",children:"Selecciona una nota para editarla"}),yt.jsxs("button",{className:"relative cursor-pointer grid grid-cols-[80%_20%] gap-2 h-16 items-center pl-2 pr-4.5 bg-[var(--rd)] dark:[var(--rd)] rounded-lg",onClick:x,children:[yt.jsx("h1",{className:"text-lg font-bold text-start text-[var(--txt)] ",children:"Nueva nota"}),yt.jsx("label",{className:"flex items-center justify-center size-full text-3xl cursor-pointer",children:yt.jsx(S6,{className:"text-lime-500"})})]}),yt.jsx("ul",{className:"w-full max-h-[65vh] overflow-auto flex flex-col gap-2 py-2",children:n.map(C=>yt.jsxs("li",{className:"relative group cursor-pointer grid grid-cols-[80%_20%] min-h-16 max-h-16 items-center px-2 bg-[var(--nd)] dark:[var(--nd)] hover:bg-transparent rounded-lg overflow-hidden duration-500 transition-all ease-in",children:[yt.jsx("div",{className:"h-full w-[103%] absolute z-0 bg-gradient-to-br from-[var(--th)]/75 to-[var(--rd)]/75 skew-x-46 translate-x-[-110%] group-hover:translate-x-[-10%] duration-500 transition-all ease-in-out"}),yt.jsx("h2",{className:"z-10 mb-1 text-lg font-bold truncate text-[var(--txt)] dark:[var(--txt)]",onClick:()=>E(C),children:C.name}),yt.jsx("div",{className:"size-full flex",children:yt.jsx("button",{className:"flex cursor-pointer z-10 justify-center items-center size-full text-3xl text-red-500",onClick:()=>y(C),children:yt.jsx(x8,{})})}),yt.jsx("h5",{className:"absolute text-sm bottom-1 left-6 text-[var(--txt-2)] dark:[var(--txt-2)]",children:C.date})]},C.id))})]})]})},C8=[{name:"Balance de cuentas",url:"",icon:""},{name:"Cuentas de ahorro",url:"",icon:""},{name:"Modelo de cuenta",url:"/finances/models",icon:""}],D8=()=>yt.jsxs("section",{className:"relative flex flex-col w-full min-h-screen bg-[var(--st)] dark:bg-[var(--st)] pt-20",children:[yt.jsx($w,{}),yt.jsx("ul",{className:"flex flex-col dark:text-[var(--txt)] text-[var(--txt)] w-full p-2 text-lg font-bold gap-2",children:C8.map((n,t)=>yt.jsx("li",{children:yt.jsxs(eg,{className:"flex items-center p-2 bg-[var(--nd)] dark:bg-[var(--nd)] rounded-lg h-12",to:n.url,children:[yt.jsx("h1",{children:n.name}),yt.jsx("span",{children:n.icon})]})},t))})]});/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Cg(n){return n+.5|0}const Fl=(n,t,e)=>Math.max(Math.min(n,e),t);function rm(n){return Fl(Cg(n*2.55),0,255)}function Xl(n){return Fl(Cg(n*255),0,255)}function Ma(n){return Fl(Cg(n/2.55)/100,0,1)}function QD(n){return Fl(Cg(n*100),0,100)}const Fs={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},_w=[..."0123456789ABCDEF"],I8=n=>_w[n&15],M8=n=>_w[(n&240)>>4]+_w[n&15],ny=n=>(n&240)>>4===(n&15),O8=n=>ny(n.r)&&ny(n.g)&&ny(n.b)&&ny(n.a);function k8(n){var t=n.length,e;return n[0]==="#"&&(t===4||t===5?e={r:255&Fs[n[1]]*17,g:255&Fs[n[2]]*17,b:255&Fs[n[3]]*17,a:t===5?Fs[n[4]]*17:255}:(t===7||t===9)&&(e={r:Fs[n[1]]<<4|Fs[n[2]],g:Fs[n[3]]<<4|Fs[n[4]],b:Fs[n[5]]<<4|Fs[n[6]],a:t===9?Fs[n[7]]<<4|Fs[n[8]]:255})),e}const N8=(n,t)=>n<255?t(n):"";function P8(n){var t=O8(n)?I8:M8;return n?"#"+t(n.r)+t(n.g)+t(n.b)+N8(n.a,t):void 0}const L8=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function KN(n,t,e){const i=t*Math.min(e,1-e),r=(s,a=(s+n/30)%12)=>e-i*Math.max(Math.min(a-3,9-a,1),-1);return[r(0),r(8),r(4)]}function V8(n,t,e){const i=(r,s=(r+n/60)%6)=>e-e*t*Math.max(Math.min(s,4-s,1),0);return[i(5),i(3),i(1)]}function U8(n,t,e){const i=KN(n,1,.5);let r;for(t+e>1&&(r=1/(t+e),t*=r,e*=r),r=0;r<3;r++)i[r]*=1-t-e,i[r]+=t;return i}function z8(n,t,e,i,r){return n===r?(t-e)/i+(t<e?6:0):t===r?(e-n)/i+2:(n-t)/i+4}function A1(n){const e=n.r/255,i=n.g/255,r=n.b/255,s=Math.max(e,i,r),a=Math.min(e,i,r),c=(s+a)/2;let u,d,f;return s!==a&&(f=s-a,d=c>.5?f/(2-s-a):f/(s+a),u=z8(e,i,r,f,s),u=u*60+.5),[u|0,d||0,c]}function R1(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(Xl)}function C1(n,t,e){return R1(KN,n,t,e)}function F8(n,t,e){return R1(U8,n,t,e)}function B8(n,t,e){return R1(V8,n,t,e)}function XN(n){return(n%360+360)%360}function j8(n){const t=L8.exec(n);let e=255,i;if(!t)return;t[5]!==i&&(e=t[6]?rm(+t[5]):Xl(+t[5]));const r=XN(+t[2]),s=+t[3]/100,a=+t[4]/100;return t[1]==="hwb"?i=F8(r,s,a):t[1]==="hsv"?i=B8(r,s,a):i=C1(r,s,a),{r:i[0],g:i[1],b:i[2],a:e}}function $8(n,t){var e=A1(n);e[0]=XN(e[0]+t),e=C1(e),n.r=e[0],n.g=e[1],n.b=e[2]}function H8(n){if(!n)return;const t=A1(n),e=t[0],i=QD(t[1]),r=QD(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${r}%, ${Ma(n.a)})`:`hsl(${e}, ${i}%, ${r}%)`}const ZD={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},JD={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function q8(){const n={},t=Object.keys(JD),e=Object.keys(ZD);let i,r,s,a,c;for(i=0;i<t.length;i++){for(a=c=t[i],r=0;r<e.length;r++)s=e[r],c=c.replace(s,ZD[s]);s=parseInt(JD[a],16),n[c]=[s>>16&255,s>>8&255,s&255]}return n}let iy;function Y8(n){iy||(iy=q8(),iy.transparent=[0,0,0,0]);const t=iy[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const G8=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function W8(n){const t=G8.exec(n);let e=255,i,r,s;if(t){if(t[7]!==i){const a=+t[7];e=t[8]?rm(a):Fl(a*255,0,255)}return i=+t[1],r=+t[3],s=+t[5],i=255&(t[2]?rm(i):Fl(i,0,255)),r=255&(t[4]?rm(r):Fl(r,0,255)),s=255&(t[6]?rm(s):Fl(s,0,255)),{r:i,g:r,b:s,a:e}}}function K8(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${Ma(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const cT=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,Ch=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function X8(n,t,e){const i=Ch(Ma(n.r)),r=Ch(Ma(n.g)),s=Ch(Ma(n.b));return{r:Xl(cT(i+e*(Ch(Ma(t.r))-i))),g:Xl(cT(r+e*(Ch(Ma(t.g))-r))),b:Xl(cT(s+e*(Ch(Ma(t.b))-s))),a:n.a+e*(t.a-n.a)}}function ry(n,t,e){if(n){let i=A1(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,t===0?360:1)),i=C1(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function QN(n,t){return n&&Object.assign(t||{},n)}function t2(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=Xl(n[3]))):(t=QN(n,{r:0,g:0,b:0,a:1}),t.a=Xl(t.a)),t}function Q8(n){return n.charAt(0)==="r"?W8(n):j8(n)}class $m{constructor(t){if(t instanceof $m)return t;const e=typeof t;let i;e==="object"?i=t2(t):e==="string"&&(i=k8(t)||Y8(t)||Q8(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=QN(this._rgb);return t&&(t.a=Ma(t.a)),t}set rgb(t){this._rgb=t2(t)}rgbString(){return this._valid?K8(this._rgb):void 0}hexString(){return this._valid?P8(this._rgb):void 0}hslString(){return this._valid?H8(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,r=t.rgb;let s;const a=e===s?.5:e,c=2*a-1,u=i.a-r.a,d=((c*u===-1?c:(c+u)/(1+c*u))+1)/2;s=1-d,i.r=255&d*i.r+s*r.r+.5,i.g=255&d*i.g+s*r.g+.5,i.b=255&d*i.b+s*r.b+.5,i.a=a*i.a+(1-a)*r.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=X8(this._rgb,t._rgb,e)),this}clone(){return new $m(this.rgb)}alpha(t){return this._rgb.a=Xl(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=Cg(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return ry(this._rgb,2,t),this}darken(t){return ry(this._rgb,2,-t),this}saturate(t){return ry(this._rgb,1,t),this}desaturate(t){return ry(this._rgb,1,-t),this}rotate(t){return $8(this._rgb,t),this}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Ra(){}const Z8=(()=>{let n=0;return()=>n++})();function De(n){return n==null}function $n(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Ne(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function ai(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function ms(n,t){return ai(n)?n:t}function ye(n,t){return typeof n>"u"?t:n}const J8=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/t,ZN=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function Dn(n,t,e){if(n&&typeof n.call=="function")return n.apply(e,t)}function an(n,t,e,i){let r,s,a;if($n(n))for(s=n.length,r=0;r<s;r++)t.call(e,n[r],r);else if(Ne(n))for(a=Object.keys(n),s=a.length,r=0;r<s;r++)t.call(e,n[a[r]],a[r])}function M0(n,t){let e,i,r,s;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(r=n[e],s=t[e],r.datasetIndex!==s.datasetIndex||r.index!==s.index)return!1;return!0}function O0(n){if($n(n))return n.map(O0);if(Ne(n)){const t=Object.create(null),e=Object.keys(n),i=e.length;let r=0;for(;r<i;++r)t[e[r]]=O0(n[e[r]]);return t}return n}function JN(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function t$(n,t,e,i){if(!JN(n))return;const r=t[n],s=e[n];Ne(r)&&Ne(s)?Hm(r,s,i):t[n]=O0(s)}function Hm(n,t,e){const i=$n(t)?t:[t],r=i.length;if(!Ne(n))return n;e=e||{};const s=e.merger||t$;let a;for(let c=0;c<r;++c){if(a=i[c],!Ne(a))continue;const u=Object.keys(a);for(let d=0,f=u.length;d<f;++d)s(u[d],n,a,e)}return n}function _m(n,t){return Hm(n,t,{merger:e$})}function e$(n,t,e){if(!JN(n))return;const i=t[n],r=e[n];Ne(i)&&Ne(r)?_m(i,r):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=O0(r))}const e2={"":n=>n,x:n=>n.x,y:n=>n.y};function n$(n){const t=n.split("."),e=[];let i="";for(const r of t)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}function i$(n){const t=n$(n);return e=>{for(const i of t){if(i==="")break;e=e&&e[i]}return e}}function uc(n,t){return(e2[t]||(e2[t]=i$(t)))(n)}function D1(n){return n.charAt(0).toUpperCase()+n.slice(1)}const qm=n=>typeof n<"u",hc=n=>typeof n=="function",n2=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0};function r$(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const Un=Math.PI,Vn=2*Un,s$=Vn+Un,k0=Number.POSITIVE_INFINITY,o$=Un/180,pi=Un/2,Zc=Un/4,i2=Un*2/3,Bl=Math.log10,Wo=Math.sign;function vm(n,t,e){return Math.abs(n-t)<e}function r2(n){const t=Math.round(n);n=vm(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(Bl(n))),i=n/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function a$(n){const t=[],e=Math.sqrt(n);let i;for(i=1;i<e;i++)n%i===0&&(t.push(i),t.push(n/i));return e===(e|0)&&t.push(e),t.sort((r,s)=>r-s).pop(),t}function l$(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function Td(n){return!l$(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function c$(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}function tP(n,t,e){let i,r,s;for(i=0,r=n.length;i<r;i++)s=n[i][e],isNaN(s)||(t.min=Math.min(t.min,s),t.max=Math.max(t.max,s))}function ro(n){return n*(Un/180)}function I1(n){return n*(180/Un)}function s2(n){if(!ai(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function eP(n,t){const e=t.x-n.x,i=t.y-n.y,r=Math.sqrt(e*e+i*i);let s=Math.atan2(i,e);return s<-.5*Un&&(s+=Vn),{angle:s,distance:r}}function vw(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function u$(n,t){return(n-t+s$)%Vn-Un}function ys(n){return(n%Vn+Vn)%Vn}function Ym(n,t,e,i){const r=ys(n),s=ys(t),a=ys(e),c=ys(s-r),u=ys(a-r),d=ys(r-s),f=ys(r-a);return r===s||r===a||i&&s===a||c>u&&d<f}function Xi(n,t,e){return Math.max(t,Math.min(e,n))}function h$(n){return Xi(n,-32768,32767)}function Va(n,t,e,i=1e-6){return n>=Math.min(t,e)-i&&n<=Math.max(t,e)+i}function M1(n,t,e){e=e||(a=>n[a]<t);let i=n.length-1,r=0,s;for(;i-r>1;)s=r+i>>1,e(s)?r=s:i=s;return{lo:r,hi:i}}const Ua=(n,t,e,i)=>M1(n,e,i?r=>{const s=n[r][t];return s<e||s===e&&n[r+1][t]===e}:r=>n[r][t]<e),d$=(n,t,e)=>M1(n,e,i=>n[i][t]>=e);function f$(n,t,e){let i=0,r=n.length;for(;i<r&&n[i]<t;)i++;for(;r>i&&n[r-1]>e;)r--;return i>0||r<n.length?n.slice(i,r):n}const nP=["push","pop","shift","splice","unshift"];function m$(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),nP.forEach(e=>{const i="_onData"+D1(e),r=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...s){const a=r.apply(this,s);return n._chartjs.listeners.forEach(c=>{typeof c[i]=="function"&&c[i](...s)}),a}})})}function o2(n,t){const e=n._chartjs;if(!e)return;const i=e.listeners,r=i.indexOf(t);r!==-1&&i.splice(r,1),!(i.length>0)&&(nP.forEach(s=>{delete n[s]}),delete n._chartjs)}function iP(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}const rP=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function sP(n,t){let e=[],i=!1;return function(...r){e=r,i||(i=!0,rP.call(window,()=>{i=!1,n.apply(t,e)}))}}function g$(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}const O1=n=>n==="start"?"left":n==="end"?"right":"center",Sr=(n,t,e)=>n==="start"?t:n==="end"?e:(t+e)/2,p$=(n,t,e,i)=>n===(i?"left":"right")?e:n==="center"?(t+e)/2:t;function oP(n,t,e){const i=t.length;let r=0,s=i;if(n._sorted){const{iScale:a,vScale:c,_parsed:u}=n,d=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,f=a.axis,{min:g,max:y,minDefined:v,maxDefined:E}=a.getUserBounds();if(v){if(r=Math.min(Ua(u,f,g).lo,e?i:Ua(t,f,a.getPixelForValue(g)).lo),d){const x=u.slice(0,r+1).reverse().findIndex(S=>!De(S[c.axis]));r-=Math.max(0,x)}r=Xi(r,0,i-1)}if(E){let x=Math.max(Ua(u,a.axis,y,!0).hi+1,e?0:Ua(t,f,a.getPixelForValue(y),!0).hi+1);if(d){const S=u.slice(x-1).findIndex(R=>!De(R[c.axis]));x+=Math.max(0,S)}s=Xi(x,r,i)-r}else s=i-r}return{start:r,count:s}}function aP(n){const{xScale:t,yScale:e,_scaleRanges:i}=n,r={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!i)return n._scaleRanges=r,!0;const s=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==e.min||i.ymax!==e.max;return Object.assign(i,r),s}const sy=n=>n===0||n===1,a2=(n,t,e)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*Vn/e)),l2=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*Vn/e)+1,bm={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*pi)+1,easeOutSine:n=>Math.sin(n*pi),easeInOutSine:n=>-.5*(Math.cos(Un*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>sy(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>sy(n)?n:a2(n,.075,.3),easeOutElastic:n=>sy(n)?n:l2(n,.075,.3),easeInOutElastic(n){return sy(n)?n:n<.5?.5*a2(n*2,.1125,.45):.5+.5*l2(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-bm.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?bm.easeInBounce(n*2)*.5:bm.easeOutBounce(n*2-1)*.5+.5};function k1(n){if(n&&typeof n=="object"){const t=n.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function c2(n){return k1(n)?n:new $m(n)}function uT(n){return k1(n)?n:new $m(n).saturate(.5).darken(.1).hexString()}const y$=["x","y","borderWidth","radius","tension"],_$=["color","borderColor","backgroundColor"];function v$(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),n.set("animations",{colors:{type:"color",properties:_$},numbers:{type:"number",properties:y$}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function b$(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const u2=new Map;function T$(n,t){t=t||{};const e=n+JSON.stringify(t);let i=u2.get(e);return i||(i=new Intl.NumberFormat(n,t),u2.set(e,i)),i}function Dg(n,t,e){return T$(t,e).format(n)}const lP={values(n){return $n(n)?n:""+n},numeric(n,t,e){if(n===0)return"0";const i=this.chart.options.locale;let r,s=n;if(e.length>1){const d=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(d<1e-4||d>1e15)&&(r="scientific"),s=w$(n,e)}const a=Bl(Math.abs(s)),c=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),u={notation:r,minimumFractionDigits:c,maximumFractionDigits:c};return Object.assign(u,this.options.ticks.format),Dg(n,i,u)},logarithmic(n,t,e){if(n===0)return"0";const i=e[t].significand||n/Math.pow(10,Math.floor(Bl(n)));return[1,2,3,5,10,15].includes(i)||t>.8*e.length?lP.numeric.call(this,n,t,e):""}};function w$(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}var D_={formatters:lP};function E$(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:D_.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const ku=Object.create(null),bw=Object.create(null);function Tm(n,t){if(!t)return n;const e=t.split(".");for(let i=0,r=e.length;i<r;++i){const s=e[i];n=n[s]||(n[s]=Object.create(null))}return n}function hT(n,t,e){return typeof t=="string"?Hm(Tm(n,t),e):Hm(Tm(n,""),t)}class x${constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>uT(r.backgroundColor),this.hoverBorderColor=(i,r)=>uT(r.borderColor),this.hoverColor=(i,r)=>uT(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return hT(this,t,e)}get(t){return Tm(this,t)}describe(t,e){return hT(bw,t,e)}override(t,e){return hT(ku,t,e)}route(t,e,i,r){const s=Tm(this,t),a=Tm(this,i),c="_"+e;Object.defineProperties(s,{[c]:{value:s[e],writable:!0},[e]:{enumerable:!0,get(){const u=this[c],d=a[r];return Ne(u)?Object.assign({},d,u):ye(u,d)},set(u){this[c]=u}}})}apply(t){t.forEach(e=>e(this))}}var Hn=new x$({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[v$,b$,E$]);function S$(n){return!n||De(n.size)||De(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function N0(n,t,e,i,r){let s=t[r];return s||(s=t[r]=n.measureText(r).width,e.push(r)),s>i&&(i=s),i}function A$(n,t,e,i){i=i||{};let r=i.data=i.data||{},s=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(r=i.data={},s=i.garbageCollect=[],i.font=t),n.save(),n.font=t;let a=0;const c=e.length;let u,d,f,g,y;for(u=0;u<c;u++)if(g=e[u],g!=null&&!$n(g))a=N0(n,r,s,a,g);else if($n(g))for(d=0,f=g.length;d<f;d++)y=g[d],y!=null&&!$n(y)&&(a=N0(n,r,s,a,y));n.restore();const v=s.length/2;if(v>e.length){for(u=0;u<v;u++)delete r[s[u]];s.splice(0,v)}return a}function Jc(n,t,e){const i=n.currentDevicePixelRatio,r=e!==0?Math.max(e/2,.5):0;return Math.round((t-r)*i)/i+r}function h2(n,t){!t&&!n||(t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function Tw(n,t,e,i){cP(n,t,e,i,null)}function cP(n,t,e,i,r){let s,a,c,u,d,f,g,y;const v=t.pointStyle,E=t.rotation,x=t.radius;let S=(E||0)*o$;if(v&&typeof v=="object"&&(s=v.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){n.save(),n.translate(e,i),n.rotate(S),n.drawImage(v,-v.width/2,-v.height/2,v.width,v.height),n.restore();return}if(!(isNaN(x)||x<=0)){switch(n.beginPath(),v){default:r?n.ellipse(e,i,r/2,x,0,0,Vn):n.arc(e,i,x,0,Vn),n.closePath();break;case"triangle":f=r?r/2:x,n.moveTo(e+Math.sin(S)*f,i-Math.cos(S)*x),S+=i2,n.lineTo(e+Math.sin(S)*f,i-Math.cos(S)*x),S+=i2,n.lineTo(e+Math.sin(S)*f,i-Math.cos(S)*x),n.closePath();break;case"rectRounded":d=x*.516,u=x-d,a=Math.cos(S+Zc)*u,g=Math.cos(S+Zc)*(r?r/2-d:u),c=Math.sin(S+Zc)*u,y=Math.sin(S+Zc)*(r?r/2-d:u),n.arc(e-g,i-c,d,S-Un,S-pi),n.arc(e+y,i-a,d,S-pi,S),n.arc(e+g,i+c,d,S,S+pi),n.arc(e-y,i+a,d,S+pi,S+Un),n.closePath();break;case"rect":if(!E){u=Math.SQRT1_2*x,f=r?r/2:u,n.rect(e-f,i-u,2*f,2*u);break}S+=Zc;case"rectRot":g=Math.cos(S)*(r?r/2:x),a=Math.cos(S)*x,c=Math.sin(S)*x,y=Math.sin(S)*(r?r/2:x),n.moveTo(e-g,i-c),n.lineTo(e+y,i-a),n.lineTo(e+g,i+c),n.lineTo(e-y,i+a),n.closePath();break;case"crossRot":S+=Zc;case"cross":g=Math.cos(S)*(r?r/2:x),a=Math.cos(S)*x,c=Math.sin(S)*x,y=Math.sin(S)*(r?r/2:x),n.moveTo(e-g,i-c),n.lineTo(e+g,i+c),n.moveTo(e+y,i-a),n.lineTo(e-y,i+a);break;case"star":g=Math.cos(S)*(r?r/2:x),a=Math.cos(S)*x,c=Math.sin(S)*x,y=Math.sin(S)*(r?r/2:x),n.moveTo(e-g,i-c),n.lineTo(e+g,i+c),n.moveTo(e+y,i-a),n.lineTo(e-y,i+a),S+=Zc,g=Math.cos(S)*(r?r/2:x),a=Math.cos(S)*x,c=Math.sin(S)*x,y=Math.sin(S)*(r?r/2:x),n.moveTo(e-g,i-c),n.lineTo(e+g,i+c),n.moveTo(e+y,i-a),n.lineTo(e-y,i+a);break;case"line":a=r?r/2:Math.cos(S)*x,c=Math.sin(S)*x,n.moveTo(e-a,i-c),n.lineTo(e+a,i+c);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(S)*(r?r/2:x),i+Math.sin(S)*x);break;case!1:n.closePath();break}n.fill(),t.borderWidth>0&&n.stroke()}}function za(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function I_(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function M_(n){n.restore()}function R$(n,t,e,i,r){if(!t)return n.lineTo(e.x,e.y);if(r==="middle"){const s=(t.x+e.x)/2;n.lineTo(s,t.y),n.lineTo(s,e.y)}else r==="after"!=!!i?n.lineTo(t.x,e.y):n.lineTo(e.x,t.y);n.lineTo(e.x,e.y)}function C$(n,t,e,i){if(!t)return n.lineTo(e.x,e.y);n.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?e.cp2x:e.cp1x,i?e.cp2y:e.cp1y,e.x,e.y)}function D$(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),De(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function I$(n,t,e,i,r){if(r.strikethrough||r.underline){const s=n.measureText(i),a=t-s.actualBoundingBoxLeft,c=t+s.actualBoundingBoxRight,u=e-s.actualBoundingBoxAscent,d=e+s.actualBoundingBoxDescent,f=r.strikethrough?(u+d)/2:d;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=r.decorationWidth||2,n.moveTo(a,f),n.lineTo(c,f),n.stroke()}}function M$(n,t){const e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function Nu(n,t,e,i,r,s={}){const a=$n(t)?t:[t],c=s.strokeWidth>0&&s.strokeColor!=="";let u,d;for(n.save(),n.font=r.string,D$(n,s),u=0;u<a.length;++u)d=a[u],s.backdrop&&M$(n,s.backdrop),c&&(s.strokeColor&&(n.strokeStyle=s.strokeColor),De(s.strokeWidth)||(n.lineWidth=s.strokeWidth),n.strokeText(d,e,i,s.maxWidth)),n.fillText(d,e,i,s.maxWidth),I$(n,e,i,d,s),i+=Number(r.lineHeight);n.restore()}function Gm(n,t){const{x:e,y:i,w:r,h:s,radius:a}=t;n.arc(e+a.topLeft,i+a.topLeft,a.topLeft,1.5*Un,Un,!0),n.lineTo(e,i+s-a.bottomLeft),n.arc(e+a.bottomLeft,i+s-a.bottomLeft,a.bottomLeft,Un,pi,!0),n.lineTo(e+r-a.bottomRight,i+s),n.arc(e+r-a.bottomRight,i+s-a.bottomRight,a.bottomRight,pi,0,!0),n.lineTo(e+r,i+a.topRight),n.arc(e+r-a.topRight,i+a.topRight,a.topRight,0,-pi,!0),n.lineTo(e+a.topLeft,i)}const O$=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,k$=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function N$(n,t){const e=(""+n).match(O$);if(!e||e[1]==="normal")return t*1.2;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100;break}return t*n}const P$=n=>+n||0;function N1(n,t){const e={},i=Ne(t),r=i?Object.keys(t):t,s=Ne(n)?i?a=>ye(n[a],n[t[a]]):a=>n[a]:()=>n;for(const a of r)e[a]=P$(s(a));return e}function uP(n){return N1(n,{top:"y",right:"x",bottom:"y",left:"x"})}function vu(n){return N1(n,["topLeft","topRight","bottomLeft","bottomRight"])}function kr(n){const t=uP(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Li(n,t){n=n||{},t=t||Hn.font;let e=ye(n.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let i=ye(n.style,t.style);i&&!(""+i).match(k$)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:ye(n.family,t.family),lineHeight:N$(ye(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:ye(n.weight,t.weight),string:""};return r.string=S$(r),r}function sm(n,t,e,i){let r,s,a;for(r=0,s=n.length;r<s;++r)if(a=n[r],a!==void 0&&a!==void 0)return a}function L$(n,t,e){const{min:i,max:r}=n,s=ZN(t,(r-i)/2),a=(c,u)=>e&&c===0?0:c+u;return{min:a(i,-Math.abs(s)),max:a(r,s)}}function vc(n,t){return Object.assign(Object.create(n),t)}function P1(n,t=[""],e,i,r=()=>n[0]){const s=e||n;typeof i>"u"&&(i=mP("_fallback",n));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:s,_fallback:i,_getTarget:r,override:c=>P1([c,...n],t,s,i)};return new Proxy(a,{deleteProperty(c,u){return delete c[u],delete c._keys,delete n[0][u],!0},get(c,u){return dP(c,u,()=>H$(u,t,n,c))},getOwnPropertyDescriptor(c,u){return Reflect.getOwnPropertyDescriptor(c._scopes[0],u)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(c,u){return f2(c).includes(u)},ownKeys(c){return f2(c)},set(c,u,d){const f=c._storage||(c._storage=r());return c[u]=f[u]=d,delete c._keys,!0}})}function wd(n,t,e,i){const r={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:hP(n,i),setContext:s=>wd(n,s,e,i),override:s=>wd(n.override(s),t,e,i)};return new Proxy(r,{deleteProperty(s,a){return delete s[a],delete n[a],!0},get(s,a,c){return dP(s,a,()=>U$(s,a,c))},getOwnPropertyDescriptor(s,a){return s._descriptors.allKeys?Reflect.has(n,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,a)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(s,a){return Reflect.has(n,a)},ownKeys(){return Reflect.ownKeys(n)},set(s,a,c){return n[a]=c,delete s[a],!0}})}function hP(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:r=t.allKeys}=n;return{allKeys:r,scriptable:e,indexable:i,isScriptable:hc(e)?e:()=>e,isIndexable:hc(i)?i:()=>i}}const V$=(n,t)=>n?n+D1(t):t,L1=(n,t)=>Ne(t)&&n!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function dP(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t)||t==="constructor")return n[t];const i=e();return n[t]=i,i}function U$(n,t,e){const{_proxy:i,_context:r,_subProxy:s,_descriptors:a}=n;let c=i[t];return hc(c)&&a.isScriptable(t)&&(c=z$(t,c,n,e)),$n(c)&&c.length&&(c=F$(t,c,n,a.isIndexable)),L1(t,c)&&(c=wd(c,r,s&&s[t],a)),c}function z$(n,t,e,i){const{_proxy:r,_context:s,_subProxy:a,_stack:c}=e;if(c.has(n))throw new Error("Recursion detected: "+Array.from(c).join("->")+"->"+n);c.add(n);let u=t(s,a||i);return c.delete(n),L1(n,u)&&(u=V1(r._scopes,r,n,u)),u}function F$(n,t,e,i){const{_proxy:r,_context:s,_subProxy:a,_descriptors:c}=e;if(typeof s.index<"u"&&i(n))return t[s.index%t.length];if(Ne(t[0])){const u=t,d=r._scopes.filter(f=>f!==u);t=[];for(const f of u){const g=V1(d,r,n,f);t.push(wd(g,s,a&&a[n],c))}}return t}function fP(n,t,e){return hc(n)?n(t,e):n}const B$=(n,t)=>n===!0?t:typeof n=="string"?uc(t,n):void 0;function j$(n,t,e,i,r){for(const s of t){const a=B$(e,s);if(a){n.add(a);const c=fP(a._fallback,e,r);if(typeof c<"u"&&c!==e&&c!==i)return c}else if(a===!1&&typeof i<"u"&&e!==i)return null}return!1}function V1(n,t,e,i){const r=t._rootScopes,s=fP(t._fallback,e,i),a=[...n,...r],c=new Set;c.add(i);let u=d2(c,a,e,s||e,i);return u===null||typeof s<"u"&&s!==e&&(u=d2(c,a,s,u,i),u===null)?!1:P1(Array.from(c),[""],r,s,()=>$$(t,e,i))}function d2(n,t,e,i,r){for(;e;)e=j$(n,t,e,i,r);return e}function $$(n,t,e){const i=n._getTarget();t in i||(i[t]={});const r=i[t];return $n(r)&&Ne(e)?e:r||{}}function H$(n,t,e,i){let r;for(const s of t)if(r=mP(V$(s,n),e),typeof r<"u")return L1(n,r)?V1(e,i,n,r):r}function mP(n,t){for(const e of t){if(!e)continue;const i=e[n];if(typeof i<"u")return i}}function f2(n){let t=n._keys;return t||(t=n._keys=q$(n._scopes)),t}function q$(n){const t=new Set;for(const e of n)for(const i of Object.keys(e).filter(r=>!r.startsWith("_")))t.add(i);return Array.from(t)}function gP(n,t,e,i){const{iScale:r}=n,{key:s="r"}=this._parsing,a=new Array(i);let c,u,d,f;for(c=0,u=i;c<u;++c)d=c+e,f=t[d],a[c]={r:r.parse(uc(f,s),d)};return a}const Y$=Number.EPSILON||1e-14,Ed=(n,t)=>t<n.length&&!n[t].skip&&n[t],pP=n=>n==="x"?"y":"x";function G$(n,t,e,i){const r=n.skip?t:n,s=t,a=e.skip?t:e,c=vw(s,r),u=vw(a,s);let d=c/(c+u),f=u/(c+u);d=isNaN(d)?0:d,f=isNaN(f)?0:f;const g=i*d,y=i*f;return{previous:{x:s.x-g*(a.x-r.x),y:s.y-g*(a.y-r.y)},next:{x:s.x+y*(a.x-r.x),y:s.y+y*(a.y-r.y)}}}function W$(n,t,e){const i=n.length;let r,s,a,c,u,d=Ed(n,0);for(let f=0;f<i-1;++f)if(u=d,d=Ed(n,f+1),!(!u||!d)){if(vm(t[f],0,Y$)){e[f]=e[f+1]=0;continue}r=e[f]/t[f],s=e[f+1]/t[f],c=Math.pow(r,2)+Math.pow(s,2),!(c<=9)&&(a=3/Math.sqrt(c),e[f]=r*a*t[f],e[f+1]=s*a*t[f])}}function K$(n,t,e="x"){const i=pP(e),r=n.length;let s,a,c,u=Ed(n,0);for(let d=0;d<r;++d){if(a=c,c=u,u=Ed(n,d+1),!c)continue;const f=c[e],g=c[i];a&&(s=(f-a[e])/3,c[`cp1${e}`]=f-s,c[`cp1${i}`]=g-s*t[d]),u&&(s=(u[e]-f)/3,c[`cp2${e}`]=f+s,c[`cp2${i}`]=g+s*t[d])}}function X$(n,t="x"){const e=pP(t),i=n.length,r=Array(i).fill(0),s=Array(i);let a,c,u,d=Ed(n,0);for(a=0;a<i;++a)if(c=u,u=d,d=Ed(n,a+1),!!u){if(d){const f=d[t]-u[t];r[a]=f!==0?(d[e]-u[e])/f:0}s[a]=c?d?Wo(r[a-1])!==Wo(r[a])?0:(r[a-1]+r[a])/2:r[a-1]:r[a]}W$(n,r,s),K$(n,s,t)}function oy(n,t,e){return Math.max(Math.min(n,e),t)}function Q$(n,t){let e,i,r,s,a,c=za(n[0],t);for(e=0,i=n.length;e<i;++e)a=s,s=c,c=e<i-1&&za(n[e+1],t),s&&(r=n[e],a&&(r.cp1x=oy(r.cp1x,t.left,t.right),r.cp1y=oy(r.cp1y,t.top,t.bottom)),c&&(r.cp2x=oy(r.cp2x,t.left,t.right),r.cp2y=oy(r.cp2y,t.top,t.bottom)))}function Z$(n,t,e,i,r){let s,a,c,u;if(t.spanGaps&&(n=n.filter(d=>!d.skip)),t.cubicInterpolationMode==="monotone")X$(n,r);else{let d=i?n[n.length-1]:n[0];for(s=0,a=n.length;s<a;++s)c=n[s],u=G$(d,c,n[Math.min(s+1,a-(i?0:1))%a],t.tension),c.cp1x=u.previous.x,c.cp1y=u.previous.y,c.cp2x=u.next.x,c.cp2y=u.next.y,d=c}t.capBezierPoints&&Q$(n,e)}function U1(){return typeof window<"u"&&typeof document<"u"}function z1(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function P0(n,t,e){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*t.parentNode[e])):i=n,i}const O_=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function J$(n,t){return O_(n).getPropertyValue(t)}const tH=["top","right","bottom","left"];function bu(n,t,e){const i={};e=e?"-"+e:"";for(let r=0;r<4;r++){const s=tH[r];i[s]=parseFloat(n[t+"-"+s+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const eH=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function nH(n,t){const e=n.touches,i=e&&e.length?e[0]:n,{offsetX:r,offsetY:s}=i;let a=!1,c,u;if(eH(r,s,n.target))c=r,u=s;else{const d=t.getBoundingClientRect();c=i.clientX-d.left,u=i.clientY-d.top,a=!0}return{x:c,y:u,box:a}}function ru(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:i}=t,r=O_(e),s=r.boxSizing==="border-box",a=bu(r,"padding"),c=bu(r,"border","width"),{x:u,y:d,box:f}=nH(n,e),g=a.left+(f&&c.left),y=a.top+(f&&c.top);let{width:v,height:E}=t;return s&&(v-=a.width+c.width,E-=a.height+c.height),{x:Math.round((u-g)/v*e.width/i),y:Math.round((d-y)/E*e.height/i)}}function iH(n,t,e){let i,r;if(t===void 0||e===void 0){const s=n&&z1(n);if(!s)t=n.clientWidth,e=n.clientHeight;else{const a=s.getBoundingClientRect(),c=O_(s),u=bu(c,"border","width"),d=bu(c,"padding");t=a.width-d.width-u.width,e=a.height-d.height-u.height,i=P0(c.maxWidth,s,"clientWidth"),r=P0(c.maxHeight,s,"clientHeight")}}return{width:t,height:e,maxWidth:i||k0,maxHeight:r||k0}}const ay=n=>Math.round(n*10)/10;function rH(n,t,e,i){const r=O_(n),s=bu(r,"margin"),a=P0(r.maxWidth,n,"clientWidth")||k0,c=P0(r.maxHeight,n,"clientHeight")||k0,u=iH(n,t,e);let{width:d,height:f}=u;if(r.boxSizing==="content-box"){const y=bu(r,"border","width"),v=bu(r,"padding");d-=v.width+y.width,f-=v.height+y.height}return d=Math.max(0,d-s.width),f=Math.max(0,i?d/i:f-s.height),d=ay(Math.min(d,a,u.maxWidth)),f=ay(Math.min(f,c,u.maxHeight)),d&&!f&&(f=ay(d/2)),(t!==void 0||e!==void 0)&&i&&u.height&&f>u.height&&(f=u.height,d=ay(Math.floor(f*i))),{width:d,height:f}}function m2(n,t,e){const i=t||1,r=Math.floor(n.height*i),s=Math.floor(n.width*i);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const a=n.canvas;return a.style&&(e||!a.style.height&&!a.style.width)&&(a.style.height=`${n.height}px`,a.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||a.height!==r||a.width!==s?(n.currentDevicePixelRatio=i,a.height=r,a.width=s,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const sH=function(){let n=!1;try{const t={get passive(){return n=!0,!1}};U1()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n}();function g2(n,t){const e=J$(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function su(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:n.y+e*(t.y-n.y)}}function oH(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:i==="middle"?e<.5?n.y:t.y:i==="after"?e<1?n.y:t.y:e>0?t.y:n.y}}function aH(n,t,e,i){const r={x:n.cp2x,y:n.cp2y},s={x:t.cp1x,y:t.cp1y},a=su(n,r,e),c=su(r,s,e),u=su(s,t,e),d=su(a,c,e),f=su(c,u,e);return su(d,f,e)}const lH=function(n,t){return{x(e){return n+n+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,i){return e-i},leftForLtr(e,i){return e-i}}},cH=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function td(n,t,e){return n?lH(t,e):cH()}function yP(n,t){let e,i;(t==="ltr"||t==="rtl")&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function _P(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function vP(n){return n==="angle"?{between:Ym,compare:u$,normalize:ys}:{between:Va,compare:(t,e)=>t-e,normalize:t=>t}}function p2({start:n,end:t,count:e,loop:i,style:r}){return{start:n%e,end:t%e,loop:i&&(t-n+1)%e===0,style:r}}function uH(n,t,e){const{property:i,start:r,end:s}=e,{between:a,normalize:c}=vP(i),u=t.length;let{start:d,end:f,loop:g}=n,y,v;if(g){for(d+=u,f+=u,y=0,v=u;y<v&&a(c(t[d%u][i]),r,s);++y)d--,f--;d%=u,f%=u}return f<d&&(f+=u),{start:d,end:f,loop:g,style:n.style}}function bP(n,t,e){if(!e)return[n];const{property:i,start:r,end:s}=e,a=t.length,{compare:c,between:u,normalize:d}=vP(i),{start:f,end:g,loop:y,style:v}=uH(n,t,e),E=[];let x=!1,S=null,R,C,P;const L=()=>u(r,P,R)&&c(r,P)!==0,N=()=>c(s,R)===0||u(s,P,R),j=()=>x||L(),O=()=>!x||N();for(let D=f,k=f;D<=g;++D)C=t[D%a],!C.skip&&(R=d(C[i]),R!==P&&(x=u(R,r,s),S===null&&j()&&(S=c(R,r)===0?D:k),S!==null&&O()&&(E.push(p2({start:S,end:D,loop:y,count:a,style:v})),S=null),k=D,P=R));return S!==null&&E.push(p2({start:S,end:g,loop:y,count:a,style:v})),E}function TP(n,t){const e=[],i=n.segments;for(let r=0;r<i.length;r++){const s=bP(i[r],n.points,t);s.length&&e.push(...s)}return e}function hH(n,t,e,i){let r=0,s=t-1;if(e&&!i)for(;r<t&&!n[r].skip;)r++;for(;r<t&&n[r].skip;)r++;for(r%=t,e&&(s+=r);s>r&&n[s%t].skip;)s--;return s%=t,{start:r,end:s}}function dH(n,t,e,i){const r=n.length,s=[];let a=t,c=n[t],u;for(u=t+1;u<=e;++u){const d=n[u%r];d.skip||d.stop?c.skip||(i=!1,s.push({start:t%r,end:(u-1)%r,loop:i}),t=a=d.stop?u:null):(a=u,c.skip&&(t=u)),c=d}return a!==null&&s.push({start:t%r,end:a%r,loop:i}),s}function fH(n,t){const e=n.points,i=n.options.spanGaps,r=e.length;if(!r)return[];const s=!!n._loop,{start:a,end:c}=hH(e,r,s,i);if(i===!0)return y2(n,[{start:a,end:c,loop:s}],e,t);const u=c<a?c+r:c,d=!!n._fullLoop&&a===0&&c===r-1;return y2(n,dH(e,a,u,d),e,t)}function y2(n,t,e,i){return!i||!i.setContext||!e?t:mH(n,t,e,i)}function mH(n,t,e,i){const r=n._chart.getContext(),s=_2(n.options),{_datasetIndex:a,options:{spanGaps:c}}=n,u=e.length,d=[];let f=s,g=t[0].start,y=g;function v(E,x,S,R){const C=c?-1:1;if(E!==x){for(E+=u;e[E%u].skip;)E-=C;for(;e[x%u].skip;)x+=C;E%u!==x%u&&(d.push({start:E%u,end:x%u,loop:S,style:R}),f=R,g=x%u)}}for(const E of t){g=c?g:E.start;let x=e[g%u],S;for(y=g+1;y<=E.end;y++){const R=e[y%u];S=_2(i.setContext(vc(r,{type:"segment",p0:x,p1:R,p0DataIndex:(y-1)%u,p1DataIndex:y%u,datasetIndex:a}))),gH(S,f)&&v(g,y-1,E.loop,f),x=R,f=S}g<y-1&&v(g,y-1,E.loop,f)}return d}function _2(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function gH(n,t){if(!t)return!1;const e=[],i=function(r,s){return k1(s)?(e.includes(s)||e.push(s),e.indexOf(s)):s};return JSON.stringify(n,i)!==JSON.stringify(t,i)}function ly(n,t,e){return n.options.clip?n[e]:t[e]}function pH(n,t){const{xScale:e,yScale:i}=n;return e&&i?{left:ly(e,t,"left"),right:ly(e,t,"right"),top:ly(i,t,"top"),bottom:ly(i,t,"bottom")}:t}function wP(n,t){const e=t._clip;if(e.disabled)return!1;const i=pH(t,n.chartArea);return{left:e.left===!1?0:i.left-(e.left===!0?0:e.left),right:e.right===!1?n.width:i.right+(e.right===!0?0:e.right),top:e.top===!1?0:i.top-(e.top===!0?0:e.top),bottom:e.bottom===!1?n.height:i.bottom+(e.bottom===!0?0:e.bottom)}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class yH{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,r){const s=e.listeners[r],a=e.duration;s.forEach(c=>c({chart:t,initial:e.initial,numSteps:a,currentStep:Math.min(i-e.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=rP.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const s=i.items;let a=s.length-1,c=!1,u;for(;a>=0;--a)u=s[a],u._active?(u._total>i.duration&&(i.duration=u._total),u.tick(t),c=!0):(s[a]=s[s.length-1],s.pop());c&&(r.draw(),this._notify(r,i,t,"progress")),s.length||(i.running=!1,this._notify(r,i,t,"complete"),i.initial=!1),e+=s.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Ca=new yH;const v2="transparent",_H={boolean(n,t,e){return e>.5?t:n},color(n,t,e){const i=c2(n||v2),r=i.valid&&c2(t||v2);return r&&r.valid?r.mix(i,e).hexString():t},number(n,t,e){return n+(t-n)*e}};class vH{constructor(t,e,i,r){const s=e[i];r=sm([t.to,r,s,t.from]);const a=sm([t.from,s,r]);this._active=!0,this._fn=t.fn||_H[t.type||typeof a],this._easing=bm[t.easing]||bm.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=a,this._to=r,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const r=this._target[this._prop],s=i-this._start,a=this._duration-s;this._start=i,this._duration=Math.floor(Math.max(a,t.duration)),this._total+=s,this._loop=!!t.loop,this._to=sm([t.to,e,r,t.from]),this._from=sm([t.from,r,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,r=this._prop,s=this._from,a=this._loop,c=this._to;let u;if(this._active=s!==c&&(a||e<i),!this._active){this._target[r]=c,this._notify(!0);return}if(e<0){this._target[r]=s;return}u=e/i%2,u=a&&u>1?2-u:u,u=this._easing(Math.min(1,Math.max(0,u))),this._target[r]=this._fn(s,c,u)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][e]()}}class EP{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!Ne(t))return;const e=Object.keys(Hn.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(r=>{const s=t[r];if(!Ne(s))return;const a={};for(const c of e)a[c]=s[c];($n(s.properties)&&s.properties||[r]).forEach(c=>{(c===r||!i.has(c))&&i.set(c,a)})})}_animateOptions(t,e){const i=e.options,r=TH(t,i);if(!r)return[];const s=this._createAnimations(r,i);return i.$shared&&bH(t.options.$animations,i).then(()=>{t.options=i},()=>{}),s}_createAnimations(t,e){const i=this._properties,r=[],s=t.$animations||(t.$animations={}),a=Object.keys(e),c=Date.now();let u;for(u=a.length-1;u>=0;--u){const d=a[u];if(d.charAt(0)==="$")continue;if(d==="options"){r.push(...this._animateOptions(t,e));continue}const f=e[d];let g=s[d];const y=i.get(d);if(g)if(y&&g.active()){g.update(y,f,c);continue}else g.cancel();if(!y||!y.duration){t[d]=f;continue}s[d]=g=new vH(y,t,d,f),r.push(g)}return r}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const i=this._createAnimations(t,e);if(i.length)return Ca.add(this._chart,i),!0}}function bH(n,t){const e=[],i=Object.keys(t);for(let r=0;r<i.length;r++){const s=n[i[r]];s&&s.active()&&e.push(s.wait())}return Promise.all(e)}function TH(n,t){if(!t)return;let e=n.options;if(!e){n.options=t;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function b2(n,t){const e=n&&n.options||{},i=e.reverse,r=e.min===void 0?t:0,s=e.max===void 0?t:0;return{start:i?s:r,end:i?r:s}}function wH(n,t,e){if(e===!1)return!1;const i=b2(n,e),r=b2(t,e);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function EH(n){let t,e,i,r;return Ne(n)?(t=n.top,e=n.right,i=n.bottom,r=n.left):t=e=i=r=n,{top:t,right:e,bottom:i,left:r,disabled:n===!1}}function xP(n,t){const e=[],i=n._getSortedDatasetMetas(t);let r,s;for(r=0,s=i.length;r<s;++r)e.push(i[r].index);return e}function T2(n,t,e,i={}){const r=n.keys,s=i.mode==="single";let a,c,u,d;if(t===null)return;let f=!1;for(a=0,c=r.length;a<c;++a){if(u=+r[a],u===e){if(f=!0,i.all)continue;break}d=n.values[u],ai(d)&&(s||t===0||Wo(t)===Wo(d))&&(t+=d)}return!f&&!i.all?0:t}function xH(n,t){const{iScale:e,vScale:i}=t,r=e.axis==="x"?"x":"y",s=i.axis==="x"?"x":"y",a=Object.keys(n),c=new Array(a.length);let u,d,f;for(u=0,d=a.length;u<d;++u)f=a[u],c[u]={[r]:f,[s]:n[f]};return c}function dT(n,t){const e=n&&n.options.stacked;return e||e===void 0&&t.stack!==void 0}function SH(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function AH(n){const{min:t,max:e,minDefined:i,maxDefined:r}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:r?e:Number.POSITIVE_INFINITY}}function RH(n,t,e){const i=n[t]||(n[t]={});return i[e]||(i[e]={})}function w2(n,t,e,i){for(const r of t.getMatchingVisibleMetas(i).reverse()){const s=n[r.index];if(e&&s>0||!e&&s<0)return r.index}return null}function E2(n,t){const{chart:e,_cachedMeta:i}=n,r=e._stacks||(e._stacks={}),{iScale:s,vScale:a,index:c}=i,u=s.axis,d=a.axis,f=SH(s,a,i),g=t.length;let y;for(let v=0;v<g;++v){const E=t[v],{[u]:x,[d]:S}=E,R=E._stacks||(E._stacks={});y=R[d]=RH(r,f,x),y[c]=S,y._top=w2(y,a,!0,i.type),y._bottom=w2(y,a,!1,i.type);const C=y._visualValues||(y._visualValues={});C[c]=S}}function fT(n,t){const e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function CH(n,t){return vc(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function DH(n,t,e){return vc(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function Hf(n,t){const e=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(const r of t){const s=r._stacks;if(!s||s[i]===void 0||s[i][e]===void 0)return;delete s[i][e],s[i]._visualValues!==void 0&&s[i]._visualValues[e]!==void 0&&delete s[i]._visualValues[e]}}}const mT=n=>n==="reset"||n==="none",x2=(n,t)=>t?n:Object.assign({},n),IH=(n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:xP(e,!0),values:null};class oo{constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=dT(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Hf(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,i=this.getDataset(),r=(g,y,v,E)=>g==="x"?y:g==="r"?E:v,s=e.xAxisID=ye(i.xAxisID,fT(t,"x")),a=e.yAxisID=ye(i.yAxisID,fT(t,"y")),c=e.rAxisID=ye(i.rAxisID,fT(t,"r")),u=e.indexAxis,d=e.iAxisID=r(u,s,a,c),f=e.vAxisID=r(u,a,s,c);e.xScale=this.getScaleForId(s),e.yScale=this.getScaleForId(a),e.rScale=this.getScaleForId(c),e.iScale=this.getScaleForId(d),e.vScale=this.getScaleForId(f)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&o2(this._data,this),t._stacked&&Hf(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if(Ne(e)){const r=this._cachedMeta;this._data=xH(e,r)}else if(i!==e){if(i){o2(i,this);const r=this._cachedMeta;Hf(r),r._parsed=[]}e&&Object.isExtensible(e)&&m$(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const s=e._stacked;e._stacked=dT(e.vScale,e),e.stack!==i.stack&&(r=!0,Hf(e),e.stack=i.stack),this._resyncElements(t),(r||s!==e._stacked)&&(E2(this,e._parsed),e._stacked=dT(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:i,_data:r}=this,{iScale:s,_stacked:a}=i,c=s.axis;let u=t===0&&e===r.length?!0:i._sorted,d=t>0&&i._parsed[t-1],f,g,y;if(this._parsing===!1)i._parsed=r,i._sorted=!0,y=r;else{$n(r[t])?y=this.parseArrayData(i,r,t,e):Ne(r[t])?y=this.parseObjectData(i,r,t,e):y=this.parsePrimitiveData(i,r,t,e);const v=()=>g[c]===null||d&&g[c]<d[c];for(f=0;f<e;++f)i._parsed[f+t]=g=y[f],u&&(v()&&(u=!1),d=g);i._sorted=u}a&&E2(this,y)}parsePrimitiveData(t,e,i,r){const{iScale:s,vScale:a}=t,c=s.axis,u=a.axis,d=s.getLabels(),f=s===a,g=new Array(r);let y,v,E;for(y=0,v=r;y<v;++y)E=y+i,g[y]={[c]:f||s.parse(d[E],E),[u]:a.parse(e[E],E)};return g}parseArrayData(t,e,i,r){const{xScale:s,yScale:a}=t,c=new Array(r);let u,d,f,g;for(u=0,d=r;u<d;++u)f=u+i,g=e[f],c[u]={x:s.parse(g[0],f),y:a.parse(g[1],f)};return c}parseObjectData(t,e,i,r){const{xScale:s,yScale:a}=t,{xAxisKey:c="x",yAxisKey:u="y"}=this._parsing,d=new Array(r);let f,g,y,v;for(f=0,g=r;f<g;++f)y=f+i,v=e[y],d[f]={x:s.parse(uc(v,c),y),y:a.parse(uc(v,u),y)};return d}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){const r=this.chart,s=this._cachedMeta,a=e[t.axis],c={keys:xP(r,!0),values:e._stacks[t.axis]._visualValues};return T2(c,a,s.index,{mode:i})}updateRangeFromParsed(t,e,i,r){const s=i[e.axis];let a=s===null?NaN:s;const c=r&&i._stacks[e.axis];r&&c&&(r.values=c,a=T2(r,s,this._cachedMeta.index)),t.min=Math.min(t.min,a),t.max=Math.max(t.max,a)}getMinMax(t,e){const i=this._cachedMeta,r=i._parsed,s=i._sorted&&t===i.iScale,a=r.length,c=this._getOtherScale(t),u=IH(e,i,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:f,max:g}=AH(c);let y,v;function E(){v=r[y];const x=v[c.axis];return!ai(v[t.axis])||f>x||g<x}for(y=0;y<a&&!(!E()&&(this.updateRangeFromParsed(d,t,v,u),s));++y);if(s){for(y=a-1;y>=0;--y)if(!E()){this.updateRangeFromParsed(d,t,v,u);break}}return d}getAllParsedValues(t){const e=this._cachedMeta._parsed,i=[];let r,s,a;for(r=0,s=e.length;r<s;++r)a=e[r][t.axis],ai(a)&&i.push(a);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,i=e.iScale,r=e.vScale,s=this.getParsed(t);return{label:i?""+i.getLabelForValue(s[i.axis]):"",value:r?""+r.getLabelForValue(s[r.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=EH(ye(this.options.clip,wH(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,i=this._cachedMeta,r=i.data||[],s=e.chartArea,a=[],c=this._drawStart||0,u=this._drawCount||r.length-c,d=this.options.drawActiveElementsOnTop;let f;for(i.dataset&&i.dataset.draw(t,s,c,u),f=c;f<c+u;++f){const g=r[f];g.hidden||(g.active&&d?a.push(g):g.draw(t,s))}for(f=0;f<a.length;++f)a[f].draw(t,s)}getStyle(t,e){const i=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){const r=this.getDataset();let s;if(t>=0&&t<this._cachedMeta.data.length){const a=this._cachedMeta.data[t];s=a.$context||(a.$context=DH(this.getContext(),t,a)),s.parsed=this.getParsed(t),s.raw=r.data[t],s.index=s.dataIndex=t}else s=this.$context||(this.$context=CH(this.chart.getContext(),this.index)),s.dataset=r,s.index=s.datasetIndex=this.index;return s.active=!!e,s.mode=i,s}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){const r=e==="active",s=this._cachedDataOpts,a=t+"-"+e,c=s[a],u=this.enableOptionSharing&&qm(i);if(c)return x2(c,u);const d=this.chart.config,f=d.datasetElementScopeKeys(this._type,t),g=r?[`${t}Hover`,"hover",t,""]:[t,""],y=d.getOptionScopes(this.getDataset(),f),v=Object.keys(Hn.elements[t]),E=()=>this.getContext(i,r,e),x=d.resolveNamedOptions(y,v,E,g);return x.$shared&&(x.$shared=u,s[a]=Object.freeze(x2(x,u))),x}_resolveAnimations(t,e,i){const r=this.chart,s=this._cachedDataOpts,a=`animation-${e}`,c=s[a];if(c)return c;let u;if(r.options.animation!==!1){const f=this.chart.config,g=f.datasetAnimationScopeKeys(this._type,e),y=f.getOptionScopes(this.getDataset(),g);u=f.createResolver(y,this.getContext(t,i,e))}const d=new EP(r,u&&u.animations);return u&&u._cacheable&&(s[a]=Object.freeze(d)),d}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||mT(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const i=this.resolveDataElementOptions(t,e),r=this._sharedOptions,s=this.getSharedOptions(i),a=this.includeOptions(e,s)||s!==r;return this.updateSharedOptions(s,e,i),{sharedOptions:s,includeOptions:a}}updateElement(t,e,i,r){mT(r)?Object.assign(t,i):this._resolveAnimations(e,r).update(t,i)}updateSharedOptions(t,e,i){t&&!mT(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,r){t.active=r;const s=this.getStyle(e,r);this._resolveAnimations(e,i,r).update(t,{options:!r&&this.getSharedOptions(s)||s})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,i=this._cachedMeta.data;for(const[c,u,d]of this._syncList)this[c](u,d);this._syncList=[];const r=i.length,s=e.length,a=Math.min(s,r);a&&this.parse(0,a),s>r?this._insertElements(r,s-r,t):s<r&&this._removeElements(s,r-s)}_insertElements(t,e,i=!0){const r=this._cachedMeta,s=r.data,a=t+e;let c;const u=d=>{for(d.length+=e,c=d.length-1;c>=a;c--)d[c]=d[c-e]};for(u(s),c=t;c<a;++c)s[c]=new this.dataElementType;this._parsing&&u(r._parsed),this.parse(t,e),i&&this.updateElements(s,t,e,"reset")}updateElements(t,e,i,r){}_removeElements(t,e){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(t,e);i._stacked&&Hf(i,r)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,i,r]=t;this[e](i,r)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Et(oo,"defaults",{}),Et(oo,"datasetElementType",null),Et(oo,"dataElementType",null);function MH(n,t){if(!n._cache.$bar){const e=n.getMatchingVisibleMetas(t);let i=[];for(let r=0,s=e.length;r<s;r++)i=i.concat(e[r].controller.getAllParsedValues(n));n._cache.$bar=iP(i.sort((r,s)=>r-s))}return n._cache.$bar}function OH(n){const t=n.iScale,e=MH(t,n.type);let i=t._length,r,s,a,c;const u=()=>{a===32767||a===-32768||(qm(c)&&(i=Math.min(i,Math.abs(a-c)||i)),c=a)};for(r=0,s=e.length;r<s;++r)a=t.getPixelForValue(e[r]),u();for(c=void 0,r=0,s=t.ticks.length;r<s;++r)a=t.getPixelForTick(r),u();return i}function kH(n,t,e,i){const r=e.barThickness;let s,a;return De(r)?(s=t.min*e.categoryPercentage,a=e.barPercentage):(s=r*i,a=1),{chunk:s/i,ratio:a,start:t.pixels[n]-s/2}}function NH(n,t,e,i){const r=t.pixels,s=r[n];let a=n>0?r[n-1]:null,c=n<r.length-1?r[n+1]:null;const u=e.categoryPercentage;a===null&&(a=s-(c===null?t.end-t.start:c-s)),c===null&&(c=s+s-a);const d=s-(s-Math.min(a,c))/2*u;return{chunk:Math.abs(c-a)/2*u/i,ratio:e.barPercentage,start:d}}function PH(n,t,e,i){const r=e.parse(n[0],i),s=e.parse(n[1],i),a=Math.min(r,s),c=Math.max(r,s);let u=a,d=c;Math.abs(a)>Math.abs(c)&&(u=c,d=a),t[e.axis]=d,t._custom={barStart:u,barEnd:d,start:r,end:s,min:a,max:c}}function SP(n,t,e,i){return $n(n)?PH(n,t,e,i):t[e.axis]=e.parse(n,i),t}function S2(n,t,e,i){const r=n.iScale,s=n.vScale,a=r.getLabels(),c=r===s,u=[];let d,f,g,y;for(d=e,f=e+i;d<f;++d)y=t[d],g={},g[r.axis]=c||r.parse(a[d],d),u.push(SP(y,g,s,d));return u}function gT(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function LH(n,t,e){return n!==0?Wo(n):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function VH(n){let t,e,i,r,s;return n.horizontal?(t=n.base>n.x,e="left",i="right"):(t=n.base<n.y,e="bottom",i="top"),t?(r="end",s="start"):(r="start",s="end"),{start:e,end:i,reverse:t,top:r,bottom:s}}function UH(n,t,e,i){let r=t.borderSkipped;const s={};if(!r){n.borderSkipped=s;return}if(r===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:a,end:c,reverse:u,top:d,bottom:f}=VH(n);r==="middle"&&e&&(n.enableBorderRadius=!0,(e._top||0)===i?r=d:(e._bottom||0)===i?r=f:(s[A2(f,a,c,u)]=!0,r=d)),s[A2(r,a,c,u)]=!0,n.borderSkipped=s}function A2(n,t,e,i){return i?(n=zH(n,t,e),n=R2(n,e,t)):n=R2(n,t,e),n}function zH(n,t,e){return n===t?e:n===e?t:n}function R2(n,t,e){return n==="start"?t:n==="end"?e:n}function FH(n,{inflateAmount:t},e){n.inflateAmount=t==="auto"?e===1?.33:0:t}class Uy extends oo{parsePrimitiveData(t,e,i,r){return S2(t,e,i,r)}parseArrayData(t,e,i,r){return S2(t,e,i,r)}parseObjectData(t,e,i,r){const{iScale:s,vScale:a}=t,{xAxisKey:c="x",yAxisKey:u="y"}=this._parsing,d=s.axis==="x"?c:u,f=a.axis==="x"?c:u,g=[];let y,v,E,x;for(y=i,v=i+r;y<v;++y)x=e[y],E={},E[s.axis]=s.parse(uc(x,d),y),g.push(SP(uc(x,f),E,a,y));return g}updateRangeFromParsed(t,e,i,r){super.updateRangeFromParsed(t,e,i,r);const s=i._custom;s&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,s.min),t.max=Math.max(t.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:i,vScale:r}=e,s=this.getParsed(t),a=s._custom,c=gT(a)?"["+a.start+", "+a.end+"]":""+r.getLabelForValue(s[r.axis]);return{label:""+i.getLabelForValue(s[i.axis]),value:c}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,i,r){const s=r==="reset",{index:a,_cachedMeta:{vScale:c}}=this,u=c.getBasePixel(),d=c.isHorizontal(),f=this._getRuler(),{sharedOptions:g,includeOptions:y}=this._getSharedOptions(e,r);for(let v=e;v<e+i;v++){const E=this.getParsed(v),x=s||De(E[c.axis])?{base:u,head:u}:this._calculateBarValuePixels(v),S=this._calculateBarIndexPixels(v,f),R=(E._stacks||{})[c.axis],C={horizontal:d,base:x.base,enableBorderRadius:!R||gT(E._custom)||a===R._top||a===R._bottom,x:d?x.head:S.center,y:d?S.center:x.head,height:d?S.size:Math.abs(x.size),width:d?Math.abs(x.size):S.size};y&&(C.options=g||this.resolveDataElementOptions(v,t[v].active?"active":r));const P=C.options||t[v].options;UH(C,P,R,a),FH(C,P,f.ratio),this.updateElement(t[v],v,C,r)}}_getStacks(t,e){const{iScale:i}=this._cachedMeta,r=i.getMatchingVisibleMetas(this._type).filter(f=>f.controller.options.grouped),s=i.options.stacked,a=[],c=this._cachedMeta.controller.getParsed(e),u=c&&c[i.axis],d=f=>{const g=f._parsed.find(v=>v[i.axis]===u),y=g&&g[f.vScale.axis];if(De(y)||isNaN(y))return!0};for(const f of r)if(!(e!==void 0&&d(f))&&((s===!1||a.indexOf(f.stack)===-1||s===void 0&&f.stack===void 0)&&a.push(f.stack),f.index===t))break;return a.length||a.push(void 0),a}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,e,i){const r=this._getStacks(t,i),s=e!==void 0?r.indexOf(e):-1;return s===-1?r.length-1:s}_getRuler(){const t=this.options,e=this._cachedMeta,i=e.iScale,r=[];let s,a;for(s=0,a=e.data.length;s<a;++s)r.push(i.getPixelForValue(this.getParsed(s)[i.axis],s));const c=t.barThickness;return{min:c||OH(e),pixels:r,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:c?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:i,index:r},options:{base:s,minBarLength:a}}=this,c=s||0,u=this.getParsed(t),d=u._custom,f=gT(d);let g=u[e.axis],y=0,v=i?this.applyStack(e,u,i):g,E,x;v!==g&&(y=v-g,v=g),f&&(g=d.barStart,v=d.barEnd-d.barStart,g!==0&&Wo(g)!==Wo(d.barEnd)&&(y=0),y+=g);const S=!De(s)&&!f?s:y;let R=e.getPixelForValue(S);if(this.chart.getDataVisibility(t)?E=e.getPixelForValue(y+v):E=R,x=E-R,Math.abs(x)<a){x=LH(x,e,c)*a,g===c&&(R-=x/2);const C=e.getPixelForDecimal(0),P=e.getPixelForDecimal(1),L=Math.min(C,P),N=Math.max(C,P);R=Math.max(Math.min(R,N),L),E=R+x,i&&!f&&(u._stacks[e.axis]._visualValues[r]=e.getValueForPixel(E)-e.getValueForPixel(R))}if(R===e.getPixelForValue(c)){const C=Wo(x)*e.getLineWidthForValue(c)/2;R+=C,x-=C}return{size:x,base:R,head:E,center:E+x/2}}_calculateBarIndexPixels(t,e){const i=e.scale,r=this.options,s=r.skipNull,a=ye(r.maxBarThickness,1/0);let c,u;if(e.grouped){const d=s?this._getStackCount(t):e.stackCount,f=r.barThickness==="flex"?NH(t,e,r,d):kH(t,e,r,d),g=this._getStackIndex(this.index,this._cachedMeta.stack,s?t:void 0);c=f.start+f.chunk*g+f.chunk/2,u=Math.min(a,f.chunk*f.ratio)}else c=i.getPixelForValue(this.getParsed(t)[i.axis],t),u=Math.min(a,e.min*e.ratio);return{base:c-u/2,head:c+u/2,center:c,size:u}}draw(){const t=this._cachedMeta,e=t.vScale,i=t.data,r=i.length;let s=0;for(;s<r;++s)this.getParsed(s)[e.axis]!==null&&!i[s].hidden&&i[s].draw(this._ctx)}}Et(Uy,"id","bar"),Et(Uy,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),Et(Uy,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class zy extends oo{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,e,i,r){const s=super.parsePrimitiveData(t,e,i,r);for(let a=0;a<s.length;a++)s[a]._custom=this.resolveDataElementOptions(a+i).radius;return s}parseArrayData(t,e,i,r){const s=super.parseArrayData(t,e,i,r);for(let a=0;a<s.length;a++){const c=e[i+a];s[a]._custom=ye(c[2],this.resolveDataElementOptions(a+i).radius)}return s}parseObjectData(t,e,i,r){const s=super.parseObjectData(t,e,i,r);for(let a=0;a<s.length;a++){const c=e[i+a];s[a]._custom=ye(c&&c.r&&+c.r,this.resolveDataElementOptions(a+i).radius)}return s}getMaxOverflow(){const t=this._cachedMeta.data;let e=0;for(let i=t.length-1;i>=0;--i)e=Math.max(e,t[i].size(this.resolveDataElementOptions(i))/2);return e>0&&e}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart.data.labels||[],{xScale:r,yScale:s}=e,a=this.getParsed(t),c=r.getLabelForValue(a.x),u=s.getLabelForValue(a.y),d=a._custom;return{label:i[t]||"",value:"("+c+", "+u+(d?", "+d:"")+")"}}update(t){const e=this._cachedMeta.data;this.updateElements(e,0,e.length,t)}updateElements(t,e,i,r){const s=r==="reset",{iScale:a,vScale:c}=this._cachedMeta,{sharedOptions:u,includeOptions:d}=this._getSharedOptions(e,r),f=a.axis,g=c.axis;for(let y=e;y<e+i;y++){const v=t[y],E=!s&&this.getParsed(y),x={},S=x[f]=s?a.getPixelForDecimal(.5):a.getPixelForValue(E[f]),R=x[g]=s?c.getBasePixel():c.getPixelForValue(E[g]);x.skip=isNaN(S)||isNaN(R),d&&(x.options=u||this.resolveDataElementOptions(y,v.active?"active":r),s&&(x.options.radius=0)),this.updateElement(v,y,x,r)}}resolveDataElementOptions(t,e){const i=this.getParsed(t);let r=super.resolveDataElementOptions(t,e);r.$shared&&(r=Object.assign({},r,{$shared:!1}));const s=r.radius;return e!=="active"&&(r.radius=0),r.radius+=ye(i&&i._custom,s),r}}Et(zy,"id","bubble"),Et(zy,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),Et(zy,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function BH(n,t,e){let i=1,r=1,s=0,a=0;if(t<Vn){const c=n,u=c+t,d=Math.cos(c),f=Math.sin(c),g=Math.cos(u),y=Math.sin(u),v=(P,L,N)=>Ym(P,c,u,!0)?1:Math.max(L,L*e,N,N*e),E=(P,L,N)=>Ym(P,c,u,!0)?-1:Math.min(L,L*e,N,N*e),x=v(0,d,g),S=v(pi,f,y),R=E(Un,d,g),C=E(Un+pi,f,y);i=(x-R)/2,r=(S-C)/2,s=-(x+R)/2,a=-(S+C)/2}return{ratioX:i,ratioY:r,offsetX:s,offsetY:a}}class fu extends oo{constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const i=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=i;else{let s=u=>+i[u];if(Ne(i[t])){const{key:u="value"}=this._parsing;s=d=>+uc(i[d],u)}let a,c;for(a=t,c=t+e;a<c;++a)r._parsed[a]=s(a)}}_getRotation(){return ro(this.options.rotation-90)}_getCircumference(){return ro(this.options.circumference)}_getRotationExtents(){let t=Vn,e=-Vn;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const r=this.chart.getDatasetMeta(i).controller,s=r._getRotation(),a=r._getCircumference();t=Math.min(t,s),e=Math.max(e,s+a)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:i}=e,r=this._cachedMeta,s=r.data,a=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,c=Math.max((Math.min(i.width,i.height)-a)/2,0),u=Math.min(J8(this.options.cutout,c),1),d=this._getRingWeight(this.index),{circumference:f,rotation:g}=this._getRotationExtents(),{ratioX:y,ratioY:v,offsetX:E,offsetY:x}=BH(g,f,u),S=(i.width-a)/y,R=(i.height-a)/v,C=Math.max(Math.min(S,R)/2,0),P=ZN(this.options.radius,C),L=Math.max(P*u,0),N=(P-L)/this._getVisibleDatasetWeightTotal();this.offsetX=E*P,this.offsetY=x*P,r.total=this.calculateTotal(),this.outerRadius=P-N*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-N*d,0),this.updateElements(s,0,s.length,t)}_circumference(t,e){const i=this.options,r=this._cachedMeta,s=this._getCircumference();return e&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||r._parsed[t]===null||r.data[t].hidden?0:this.calculateCircumference(r._parsed[t]*s/Vn)}updateElements(t,e,i,r){const s=r==="reset",a=this.chart,c=a.chartArea,d=a.options.animation,f=(c.left+c.right)/2,g=(c.top+c.bottom)/2,y=s&&d.animateScale,v=y?0:this.innerRadius,E=y?0:this.outerRadius,{sharedOptions:x,includeOptions:S}=this._getSharedOptions(e,r);let R=this._getRotation(),C;for(C=0;C<e;++C)R+=this._circumference(C,s);for(C=e;C<e+i;++C){const P=this._circumference(C,s),L=t[C],N={x:f+this.offsetX,y:g+this.offsetY,startAngle:R,endAngle:R+P,circumference:P,outerRadius:E,innerRadius:v};S&&(N.options=x||this.resolveDataElementOptions(C,L.active?"active":r)),R+=P,this.updateElement(L,C,N,r)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let i=0,r;for(r=0;r<e.length;r++){const s=t._parsed[r];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(r)&&!e[r].hidden&&(i+=Math.abs(s))}return i}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?Vn*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart,r=i.data.labels||[],s=Dg(e._parsed[t],i.options.locale);return{label:r[t]||"",value:s}}getMaxBorderWidth(t){let e=0;const i=this.chart;let r,s,a,c,u;if(!t){for(r=0,s=i.data.datasets.length;r<s;++r)if(i.isDatasetVisible(r)){a=i.getDatasetMeta(r),t=a.data,c=a.controller;break}}if(!t)return 0;for(r=0,s=t.length;r<s;++r)u=c.resolveDataElementOptions(r),u.borderAlign!=="inner"&&(e=Math.max(e,u.borderWidth||0,u.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let i=0,r=t.length;i<r;++i){const s=this.resolveDataElementOptions(i);e=Math.max(e,s.offset||0,s.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(e+=this._getRingWeight(i));return e}_getRingWeight(t){return Math.max(ye(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Et(fu,"id","doughnut"),Et(fu,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),Et(fu,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),Et(fu,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i,color:r}}=t.legend.options;return e.labels.map((s,a)=>{const u=t.getDatasetMeta(0).controller.getStyle(a);return{text:s,fillStyle:u.backgroundColor,strokeStyle:u.borderColor,fontColor:r,lineWidth:u.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(a),index:a}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}}});class Fy extends oo{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:i,data:r=[],_dataset:s}=e,a=this.chart._animationsDisabled;let{start:c,count:u}=oP(e,r,a);this._drawStart=c,this._drawCount=u,aP(e)&&(c=0,u=r.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!s._decimated,i.points=r;const d=this.resolveDatasetElementOptions(t);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(i,void 0,{animated:!a,options:d},t),this.updateElements(r,c,u,t)}updateElements(t,e,i,r){const s=r==="reset",{iScale:a,vScale:c,_stacked:u,_dataset:d}=this._cachedMeta,{sharedOptions:f,includeOptions:g}=this._getSharedOptions(e,r),y=a.axis,v=c.axis,{spanGaps:E,segment:x}=this.options,S=Td(E)?E:Number.POSITIVE_INFINITY,R=this.chart._animationsDisabled||s||r==="none",C=e+i,P=t.length;let L=e>0&&this.getParsed(e-1);for(let N=0;N<P;++N){const j=t[N],O=R?j:{};if(N<e||N>=C){O.skip=!0;continue}const D=this.getParsed(N),k=De(D[v]),V=O[y]=a.getPixelForValue(D[y],N),B=O[v]=s||k?c.getBasePixel():c.getPixelForValue(u?this.applyStack(c,D,u):D[v],N);O.skip=isNaN(V)||isNaN(B)||k,O.stop=N>0&&Math.abs(D[y]-L[y])>S,x&&(O.parsed=D,O.raw=d.data[N]),g&&(O.options=f||this.resolveDataElementOptions(N,j.active?"active":r)),R||this.updateElement(j,N,O,r),L=D}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,i=e.options&&e.options.borderWidth||0,r=t.data||[];if(!r.length)return i;const s=r[0].size(this.resolveDataElementOptions(0)),a=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(i,s,a)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}Et(Fy,"id","line"),Et(Fy,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),Et(Fy,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class wm extends oo{constructor(t,e){super(t,e),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart,r=i.data.labels||[],s=Dg(e._parsed[t].r,i.options.locale);return{label:r[t]||"",value:s}}parseObjectData(t,e,i,r){return gP.bind(this)(t,e,i,r)}update(t){const e=this._cachedMeta.data;this._updateRadius(),this.updateElements(e,0,e.length,t)}getMinMax(){const t=this._cachedMeta,e={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((i,r)=>{const s=this.getParsed(r).r;!isNaN(s)&&this.chart.getDataVisibility(r)&&(s<e.min&&(e.min=s),s>e.max&&(e.max=s))}),e}_updateRadius(){const t=this.chart,e=t.chartArea,i=t.options,r=Math.min(e.right-e.left,e.bottom-e.top),s=Math.max(r/2,0),a=Math.max(i.cutoutPercentage?s/100*i.cutoutPercentage:1,0),c=(s-a)/t.getVisibleDatasetCount();this.outerRadius=s-c*this.index,this.innerRadius=this.outerRadius-c}updateElements(t,e,i,r){const s=r==="reset",a=this.chart,u=a.options.animation,d=this._cachedMeta.rScale,f=d.xCenter,g=d.yCenter,y=d.getIndexAngle(0)-.5*Un;let v=y,E;const x=360/this.countVisibleElements();for(E=0;E<e;++E)v+=this._computeAngle(E,r,x);for(E=e;E<e+i;E++){const S=t[E];let R=v,C=v+this._computeAngle(E,r,x),P=a.getDataVisibility(E)?d.getDistanceFromCenterForValue(this.getParsed(E).r):0;v=C,s&&(u.animateScale&&(P=0),u.animateRotate&&(R=C=y));const L={x:f,y:g,innerRadius:0,outerRadius:P,startAngle:R,endAngle:C,options:this.resolveDataElementOptions(E,S.active?"active":r)};this.updateElement(S,E,L,r)}}countVisibleElements(){const t=this._cachedMeta;let e=0;return t.data.forEach((i,r)=>{!isNaN(this.getParsed(r).r)&&this.chart.getDataVisibility(r)&&e++}),e}_computeAngle(t,e,i){return this.chart.getDataVisibility(t)?ro(this.resolveDataElementOptions(t,e).angle||i):0}}Et(wm,"id","polarArea"),Et(wm,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),Et(wm,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i,color:r}}=t.legend.options;return e.labels.map((s,a)=>{const u=t.getDatasetMeta(0).controller.getStyle(a);return{text:s,fillStyle:u.backgroundColor,strokeStyle:u.borderColor,fontColor:r,lineWidth:u.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(a),index:a}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class ww extends fu{}Et(ww,"id","pie"),Et(ww,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class By extends oo{getLabelAndValue(t){const e=this._cachedMeta.vScale,i=this.getParsed(t);return{label:e.getLabels()[t],value:""+e.getLabelForValue(i[e.axis])}}parseObjectData(t,e,i,r){return gP.bind(this)(t,e,i,r)}update(t){const e=this._cachedMeta,i=e.dataset,r=e.data||[],s=e.iScale.getLabels();if(i.points=r,t!=="resize"){const a=this.resolveDatasetElementOptions(t);this.options.showLine||(a.borderWidth=0);const c={_loop:!0,_fullLoop:s.length===r.length,options:a};this.updateElement(i,void 0,c,t)}this.updateElements(r,0,r.length,t)}updateElements(t,e,i,r){const s=this._cachedMeta.rScale,a=r==="reset";for(let c=e;c<e+i;c++){const u=t[c],d=this.resolveDataElementOptions(c,u.active?"active":r),f=s.getPointPositionForValue(c,this.getParsed(c).r),g=a?s.xCenter:f.x,y=a?s.yCenter:f.y,v={x:g,y,angle:f.angle,skip:isNaN(g)||isNaN(y),options:d};this.updateElement(u,c,v,r)}}}Et(By,"id","radar"),Et(By,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),Et(By,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class jy extends oo{getLabelAndValue(t){const e=this._cachedMeta,i=this.chart.data.labels||[],{xScale:r,yScale:s}=e,a=this.getParsed(t),c=r.getLabelForValue(a.x),u=s.getLabelForValue(a.y);return{label:i[t]||"",value:"("+c+", "+u+")"}}update(t){const e=this._cachedMeta,{data:i=[]}=e,r=this.chart._animationsDisabled;let{start:s,count:a}=oP(e,i,r);if(this._drawStart=s,this._drawCount=a,aP(e)&&(s=0,a=i.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:c,_dataset:u}=e;c._chart=this.chart,c._datasetIndex=this.index,c._decimated=!!u._decimated,c.points=i;const d=this.resolveDatasetElementOptions(t);d.segment=this.options.segment,this.updateElement(c,void 0,{animated:!r,options:d},t)}else this.datasetElementType&&(delete e.dataset,this.datasetElementType=!1);this.updateElements(i,s,a,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,e,i,r){const s=r==="reset",{iScale:a,vScale:c,_stacked:u,_dataset:d}=this._cachedMeta,f=this.resolveDataElementOptions(e,r),g=this.getSharedOptions(f),y=this.includeOptions(r,g),v=a.axis,E=c.axis,{spanGaps:x,segment:S}=this.options,R=Td(x)?x:Number.POSITIVE_INFINITY,C=this.chart._animationsDisabled||s||r==="none";let P=e>0&&this.getParsed(e-1);for(let L=e;L<e+i;++L){const N=t[L],j=this.getParsed(L),O=C?N:{},D=De(j[E]),k=O[v]=a.getPixelForValue(j[v],L),V=O[E]=s||D?c.getBasePixel():c.getPixelForValue(u?this.applyStack(c,j,u):j[E],L);O.skip=isNaN(k)||isNaN(V)||D,O.stop=L>0&&Math.abs(j[v]-P[v])>R,S&&(O.parsed=j,O.raw=d.data[L]),y&&(O.options=g||this.resolveDataElementOptions(L,N.active?"active":r)),C||this.updateElement(N,L,O,r),P=j}this.updateSharedOptions(g,r,f)}getMaxOverflow(){const t=this._cachedMeta,e=t.data||[];if(!this.options.showLine){let c=0;for(let u=e.length-1;u>=0;--u)c=Math.max(c,e[u].size(this.resolveDataElementOptions(u))/2);return c>0&&c}const i=t.dataset,r=i.options&&i.options.borderWidth||0;if(!e.length)return r;const s=e[0].size(this.resolveDataElementOptions(0)),a=e[e.length-1].size(this.resolveDataElementOptions(e.length-1));return Math.max(r,s,a)/2}}Et(jy,"id","scatter"),Et(jy,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),Et(jy,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var jH=Object.freeze({__proto__:null,BarController:Uy,BubbleController:zy,DoughnutController:fu,LineController:Fy,PieController:ww,PolarAreaController:wm,RadarController:By,ScatterController:jy});function tu(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class F1{constructor(t){Et(this,"options");this.options=t||{}}static override(t){Object.assign(F1.prototype,t)}init(){}formats(){return tu()}parse(){return tu()}format(){return tu()}add(){return tu()}diff(){return tu()}startOf(){return tu()}endOf(){return tu()}}var $H={_date:F1};function HH(n,t,e,i){const{controller:r,data:s,_sorted:a}=n,c=r._cachedMeta.iScale,u=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(c&&t===c.axis&&t!=="r"&&a&&s.length){const d=c._reversePixels?d$:Ua;if(i){if(r._sharedOptions){const f=s[0],g=typeof f.getRange=="function"&&f.getRange(t);if(g){const y=d(s,t,e-g),v=d(s,t,e+g);return{lo:y.lo,hi:v.hi}}}}else{const f=d(s,t,e);if(u){const{vScale:g}=r._cachedMeta,{_parsed:y}=n,v=y.slice(0,f.lo+1).reverse().findIndex(x=>!De(x[g.axis]));f.lo-=Math.max(0,v);const E=y.slice(f.hi).findIndex(x=>!De(x[g.axis]));f.hi+=Math.max(0,E)}return f}}return{lo:0,hi:s.length-1}}function k_(n,t,e,i,r){const s=n.getSortedVisibleDatasetMetas(),a=e[t];for(let c=0,u=s.length;c<u;++c){const{index:d,data:f}=s[c],{lo:g,hi:y}=HH(s[c],t,a,r);for(let v=g;v<=y;++v){const E=f[v];E.skip||i(E,d,v)}}}function qH(n){const t=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(i,r){const s=t?Math.abs(i.x-r.x):0,a=e?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(a,2))}}function pT(n,t,e,i,r){const s=[];return!r&&!n.isPointInArea(t)||k_(n,e,t,function(c,u,d){!r&&!za(c,n.chartArea,0)||c.inRange(t.x,t.y,i)&&s.push({element:c,datasetIndex:u,index:d})},!0),s}function YH(n,t,e,i){let r=[];function s(a,c,u){const{startAngle:d,endAngle:f}=a.getProps(["startAngle","endAngle"],i),{angle:g}=eP(a,{x:t.x,y:t.y});Ym(g,d,f)&&r.push({element:a,datasetIndex:c,index:u})}return k_(n,e,t,s),r}function GH(n,t,e,i,r,s){let a=[];const c=qH(e);let u=Number.POSITIVE_INFINITY;function d(f,g,y){const v=f.inRange(t.x,t.y,r);if(i&&!v)return;const E=f.getCenterPoint(r);if(!(!!s||n.isPointInArea(E))&&!v)return;const S=c(t,E);S<u?(a=[{element:f,datasetIndex:g,index:y}],u=S):S===u&&a.push({element:f,datasetIndex:g,index:y})}return k_(n,e,t,d),a}function yT(n,t,e,i,r,s){return!s&&!n.isPointInArea(t)?[]:e==="r"&&!i?YH(n,t,e,r):GH(n,t,e,i,r,s)}function C2(n,t,e,i,r){const s=[],a=e==="x"?"inXRange":"inYRange";let c=!1;return k_(n,e,t,(u,d,f)=>{u[a]&&u[a](t[e],r)&&(s.push({element:u,datasetIndex:d,index:f}),c=c||u.inRange(t.x,t.y,r))}),i&&!c?[]:s}var WH={modes:{index(n,t,e,i){const r=ru(t,n),s=e.axis||"x",a=e.includeInvisible||!1,c=e.intersect?pT(n,r,s,i,a):yT(n,r,s,!1,i,a),u=[];return c.length?(n.getSortedVisibleDatasetMetas().forEach(d=>{const f=c[0].index,g=d.data[f];g&&!g.skip&&u.push({element:g,datasetIndex:d.index,index:f})}),u):[]},dataset(n,t,e,i){const r=ru(t,n),s=e.axis||"xy",a=e.includeInvisible||!1;let c=e.intersect?pT(n,r,s,i,a):yT(n,r,s,!1,i,a);if(c.length>0){const u=c[0].datasetIndex,d=n.getDatasetMeta(u).data;c=[];for(let f=0;f<d.length;++f)c.push({element:d[f],datasetIndex:u,index:f})}return c},point(n,t,e,i){const r=ru(t,n),s=e.axis||"xy",a=e.includeInvisible||!1;return pT(n,r,s,i,a)},nearest(n,t,e,i){const r=ru(t,n),s=e.axis||"xy",a=e.includeInvisible||!1;return yT(n,r,s,e.intersect,i,a)},x(n,t,e,i){const r=ru(t,n);return C2(n,r,"x",e.intersect,i)},y(n,t,e,i){const r=ru(t,n);return C2(n,r,"y",e.intersect,i)}}};const AP=["left","top","right","bottom"];function qf(n,t){return n.filter(e=>e.pos===t)}function D2(n,t){return n.filter(e=>AP.indexOf(e.pos)===-1&&e.box.axis===t)}function Yf(n,t){return n.sort((e,i)=>{const r=t?i:e,s=t?e:i;return r.weight===s.weight?r.index-s.index:r.weight-s.weight})}function KH(n){const t=[];let e,i,r,s,a,c;for(e=0,i=(n||[]).length;e<i;++e)r=n[e],{position:s,options:{stack:a,stackWeight:c=1}}=r,t.push({index:e,box:r,pos:s,horizontal:r.isHorizontal(),weight:r.weight,stack:a&&s+a,stackWeight:c});return t}function XH(n){const t={};for(const e of n){const{stack:i,pos:r,stackWeight:s}=e;if(!i||!AP.includes(r))continue;const a=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=s}return t}function QH(n,t){const e=XH(n),{vBoxMaxWidth:i,hBoxMaxHeight:r}=t;let s,a,c;for(s=0,a=n.length;s<a;++s){c=n[s];const{fullSize:u}=c.box,d=e[c.stack],f=d&&c.stackWeight/d.weight;c.horizontal?(c.width=f?f*i:u&&t.availableWidth,c.height=r):(c.width=i,c.height=f?f*r:u&&t.availableHeight)}return e}function ZH(n){const t=KH(n),e=Yf(t.filter(d=>d.box.fullSize),!0),i=Yf(qf(t,"left"),!0),r=Yf(qf(t,"right")),s=Yf(qf(t,"top"),!0),a=Yf(qf(t,"bottom")),c=D2(t,"x"),u=D2(t,"y");return{fullSize:e,leftAndTop:i.concat(s),rightAndBottom:r.concat(u).concat(a).concat(c),chartArea:qf(t,"chartArea"),vertical:i.concat(r).concat(u),horizontal:s.concat(a).concat(c)}}function I2(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function RP(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function JH(n,t,e,i){const{pos:r,box:s}=e,a=n.maxPadding;if(!Ne(r)){e.size&&(n[r]-=e.size);const g=i[e.stack]||{size:0,count:1};g.size=Math.max(g.size,e.horizontal?s.height:s.width),e.size=g.size/g.count,n[r]+=e.size}s.getPadding&&RP(a,s.getPadding());const c=Math.max(0,t.outerWidth-I2(a,n,"left","right")),u=Math.max(0,t.outerHeight-I2(a,n,"top","bottom")),d=c!==n.w,f=u!==n.h;return n.w=c,n.h=u,e.horizontal?{same:d,other:f}:{same:f,other:d}}function tq(n){const t=n.maxPadding;function e(i){const r=Math.max(t[i]-n[i],0);return n[i]+=r,r}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function eq(n,t){const e=t.maxPadding;function i(r){const s={left:0,top:0,right:0,bottom:0};return r.forEach(a=>{s[a]=Math.max(t[a],e[a])}),s}return i(n?["left","right"]:["top","bottom"])}function om(n,t,e,i){const r=[];let s,a,c,u,d,f;for(s=0,a=n.length,d=0;s<a;++s){c=n[s],u=c.box,u.update(c.width||t.w,c.height||t.h,eq(c.horizontal,t));const{same:g,other:y}=JH(t,e,c,i);d|=g&&r.length,f=f||y,u.fullSize||r.push(c)}return d&&om(r,t,e,i)||f}function cy(n,t,e,i,r){n.top=e,n.left=t,n.right=t+i,n.bottom=e+r,n.width=i,n.height=r}function M2(n,t,e,i){const r=e.padding;let{x:s,y:a}=t;for(const c of n){const u=c.box,d=i[c.stack]||{placed:0,weight:1},f=c.stackWeight/d.weight||1;if(c.horizontal){const g=t.w*f,y=d.size||u.height;qm(d.start)&&(a=d.start),u.fullSize?cy(u,r.left,a,e.outerWidth-r.right-r.left,y):cy(u,t.left+d.placed,a,g,y),d.start=a,d.placed+=g,a=u.bottom}else{const g=t.h*f,y=d.size||u.width;qm(d.start)&&(s=d.start),u.fullSize?cy(u,s,r.top,y,e.outerHeight-r.bottom-r.top):cy(u,s,t.top+d.placed,y,g),d.start=s,d.placed+=g,s=u.right}}t.x=s,t.y=a}var Ir={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;const r=kr(n.options.layout.padding),s=Math.max(t-r.width,0),a=Math.max(e-r.height,0),c=ZH(n.boxes),u=c.vertical,d=c.horizontal;an(n.boxes,x=>{typeof x.beforeLayout=="function"&&x.beforeLayout()});const f=u.reduce((x,S)=>S.box.options&&S.box.options.display===!1?x:x+1,0)||1,g=Object.freeze({outerWidth:t,outerHeight:e,padding:r,availableWidth:s,availableHeight:a,vBoxMaxWidth:s/2/f,hBoxMaxHeight:a/2}),y=Object.assign({},r);RP(y,kr(i));const v=Object.assign({maxPadding:y,w:s,h:a,x:r.left,y:r.top},r),E=QH(u.concat(d),g);om(c.fullSize,v,g,E),om(u,v,g,E),om(d,v,g,E)&&om(u,v,g,E),tq(v),M2(c.leftAndTop,v,g,E),v.x+=v.w,v.y+=v.h,M2(c.rightAndBottom,v,g,E),n.chartArea={left:v.left,top:v.top,right:v.left+v.w,bottom:v.top+v.h,height:v.h,width:v.w},an(c.chartArea,x=>{const S=x.box;Object.assign(S,n.chartArea),S.update(v.w,v.h,{left:0,top:0,right:0,bottom:0})})}};class CP{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,r){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,r?Math.floor(e/r):i)}}isAttached(t){return!0}updateConfig(t){}}class nq extends CP{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const $y="$chartjs",iq={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},O2=n=>n===null||n==="";function rq(n,t){const e=n.style,i=n.getAttribute("height"),r=n.getAttribute("width");if(n[$y]={initial:{height:i,width:r,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",O2(r)){const s=g2(n,"width");s!==void 0&&(n.width=s)}if(O2(i))if(n.style.height==="")n.height=n.width/(t||2);else{const s=g2(n,"height");s!==void 0&&(n.height=s)}return n}const DP=sH?{passive:!0}:!1;function sq(n,t,e){n&&n.addEventListener(t,e,DP)}function oq(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,DP)}function aq(n,t){const e=iq[n.type]||n.type,{x:i,y:r}=ru(n,t);return{type:e,chart:t,native:n,x:i!==void 0?i:null,y:r!==void 0?r:null}}function L0(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function lq(n,t,e){const i=n.canvas,r=new MutationObserver(s=>{let a=!1;for(const c of s)a=a||L0(c.addedNodes,i),a=a&&!L0(c.removedNodes,i);a&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}function cq(n,t,e){const i=n.canvas,r=new MutationObserver(s=>{let a=!1;for(const c of s)a=a||L0(c.removedNodes,i),a=a&&!L0(c.addedNodes,i);a&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}const Wm=new Map;let k2=0;function IP(){const n=window.devicePixelRatio;n!==k2&&(k2=n,Wm.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function uq(n,t){Wm.size||window.addEventListener("resize",IP),Wm.set(n,t)}function hq(n){Wm.delete(n),Wm.size||window.removeEventListener("resize",IP)}function dq(n,t,e){const i=n.canvas,r=i&&z1(i);if(!r)return;const s=sP((c,u)=>{const d=r.clientWidth;e(c,u),d<r.clientWidth&&e()},window),a=new ResizeObserver(c=>{const u=c[0],d=u.contentRect.width,f=u.contentRect.height;d===0&&f===0||s(d,f)});return a.observe(r),uq(n,s),a}function _T(n,t,e){e&&e.disconnect(),t==="resize"&&hq(n)}function fq(n,t,e){const i=n.canvas,r=sP(s=>{n.ctx!==null&&e(aq(s,n))},n);return sq(i,t,r),r}class mq extends CP{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(rq(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[$y])return!1;const i=e[$y].initial;["height","width"].forEach(s=>{const a=i[s];De(a)?e.removeAttribute(s):e.setAttribute(s,a)});const r=i.style||{};return Object.keys(r).forEach(s=>{e.style[s]=r[s]}),e.width=e.width,delete e[$y],!0}addEventListener(t,e,i){this.removeEventListener(t,e);const r=t.$proxies||(t.$proxies={}),a={attach:lq,detach:cq,resize:dq}[e]||fq;r[e]=a(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),r=i[e];if(!r)return;({attach:_T,detach:_T,resize:_T}[e]||oq)(t,e,r),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,r){return rH(t,e,i,r)}isAttached(t){const e=t&&z1(t);return!!(e&&e.isConnected)}}function gq(n){return!U1()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?nq:mq}class uo{constructor(){Et(this,"x");Et(this,"y");Et(this,"active",!1);Et(this,"options");Et(this,"$animations")}tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return Td(this.x)&&Td(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const r={};return t.forEach(s=>{r[s]=i[s]&&i[s].active()?i[s]._to:this[s]}),r}}Et(uo,"defaults",{}),Et(uo,"defaultRoutes");function pq(n,t){const e=n.options.ticks,i=yq(n),r=Math.min(e.maxTicksLimit||i,i),s=e.major.enabled?vq(t):[],a=s.length,c=s[0],u=s[a-1],d=[];if(a>r)return bq(t,d,s,a/r),d;const f=_q(s,t,r);if(a>0){let g,y;const v=a>1?Math.round((u-c)/(a-1)):null;for(uy(t,d,f,De(v)?0:c-v,c),g=0,y=a-1;g<y;g++)uy(t,d,f,s[g],s[g+1]);return uy(t,d,f,u,De(v)?t.length:u+v),d}return uy(t,d,f),d}function yq(n){const t=n.options.offset,e=n._tickSize(),i=n._length/e+(t?0:1),r=n._maxLength/e;return Math.floor(Math.min(i,r))}function _q(n,t,e){const i=Tq(n),r=t.length/e;if(!i)return Math.max(r,1);const s=a$(i);for(let a=0,c=s.length-1;a<c;a++){const u=s[a];if(u>r)return u}return Math.max(r,1)}function vq(n){const t=[];let e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}function bq(n,t,e,i){let r=0,s=e[0],a;for(i=Math.ceil(i),a=0;a<n.length;a++)a===s&&(t.push(n[a]),r++,s=e[r*i])}function uy(n,t,e,i,r){const s=ye(i,0),a=Math.min(ye(r,n.length),n.length);let c=0,u,d,f;for(e=Math.ceil(e),r&&(u=r-i,e=u/Math.floor(u/e)),f=s;f<0;)c++,f=Math.round(s+c*e);for(d=Math.max(s,0);d<a;d++)d===f&&(t.push(n[d]),c++,f=Math.round(s+c*e))}function Tq(n){const t=n.length;let e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}const wq=n=>n==="left"?"right":n==="right"?"left":n,N2=(n,t,e)=>t==="top"||t==="left"?n[t]+e:n[t]-e,P2=(n,t)=>Math.min(t||n,n);function L2(n,t){const e=[],i=n.length/t,r=n.length;let s=0;for(;s<r;s+=i)e.push(n[Math.floor(s)]);return e}function Eq(n,t,e){const i=n.ticks.length,r=Math.min(t,i-1),s=n._startPixel,a=n._endPixel,c=1e-6;let u=n.getPixelForTick(r),d;if(!(e&&(i===1?d=Math.max(u-s,a-u):t===0?d=(n.getPixelForTick(1)-u)/2:d=(u-n.getPixelForTick(r-1))/2,u+=r<t?d:-d,u<s-c||u>a+c)))return u}function xq(n,t){an(n,e=>{const i=e.gc,r=i.length/2;let s;if(r>t){for(s=0;s<r;++s)delete e.data[i[s]];i.splice(0,r)}})}function Gf(n){return n.drawTicks?n.tickLength:0}function V2(n,t){if(!n.display)return 0;const e=Li(n.font,t),i=kr(n.padding);return($n(n.text)?n.text.length:1)*e.lineHeight+i.height}function Sq(n,t){return vc(n,{scale:t,type:"scale"})}function Aq(n,t,e){return vc(n,{tick:e,index:t,type:"tick"})}function Rq(n,t,e){let i=O1(n);return(e&&t!=="right"||!e&&t==="right")&&(i=wq(i)),i}function Cq(n,t,e,i){const{top:r,left:s,bottom:a,right:c,chart:u}=n,{chartArea:d,scales:f}=u;let g=0,y,v,E;const x=a-r,S=c-s;if(n.isHorizontal()){if(v=Sr(i,s,c),Ne(e)){const R=Object.keys(e)[0],C=e[R];E=f[R].getPixelForValue(C)+x-t}else e==="center"?E=(d.bottom+d.top)/2+x-t:E=N2(n,e,t);y=c-s}else{if(Ne(e)){const R=Object.keys(e)[0],C=e[R];v=f[R].getPixelForValue(C)-S+t}else e==="center"?v=(d.left+d.right)/2-S+t:v=N2(n,e,t);E=Sr(i,a,r),g=e==="left"?-pi:pi}return{titleX:v,titleY:E,maxWidth:y,rotation:g}}class Fu extends uo{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:r}=this;return t=ms(t,Number.POSITIVE_INFINITY),e=ms(e,Number.NEGATIVE_INFINITY),i=ms(i,Number.POSITIVE_INFINITY),r=ms(r,Number.NEGATIVE_INFINITY),{min:ms(t,i),max:ms(e,r),minDefined:ai(t),maxDefined:ai(e)}}getMinMax(t){let{min:e,max:i,minDefined:r,maxDefined:s}=this.getUserBounds(),a;if(r&&s)return{min:e,max:i};const c=this.getMatchingVisibleMetas();for(let u=0,d=c.length;u<d;++u)a=c[u].controller.getMinMax(this,t),r||(e=Math.min(e,a.min)),s||(i=Math.max(i,a.max));return e=s&&e>i?i:e,i=r&&e>i?e:i,{min:ms(e,ms(i,e)),max:ms(i,ms(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Dn(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:r,grace:s,ticks:a}=this.options,c=a.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=L$(this,s,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const u=c<this.ticks.length;this._convertTicksToLabels(u?L2(this.ticks,c):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=pq(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),u&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,i;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Dn(this.options.afterUpdate,[this])}beforeSetDimensions(){Dn(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Dn(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Dn(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Dn(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,r,s;for(i=0,r=t.length;i<r;i++)s=t[i],s.label=Dn(e.callback,[s.value,i,t],this)}afterTickToLabelConversion(){Dn(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Dn(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=P2(this.ticks.length,t.ticks.maxTicksLimit),r=e.minRotation||0,s=e.maxRotation;let a=r,c,u,d;if(!this._isVisible()||!e.display||r>=s||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const f=this._getLabelSizes(),g=f.widest.width,y=f.highest.height,v=Xi(this.chart.width-g,0,this.maxWidth);c=t.offset?this.maxWidth/i:v/(i-1),g+6>c&&(c=v/(i-(t.offset?.5:1)),u=this.maxHeight-Gf(t.grid)-e.padding-V2(t.title,this.chart.options.font),d=Math.sqrt(g*g+y*y),a=I1(Math.min(Math.asin(Xi((f.highest.height+6)/c,-1,1)),Math.asin(Xi(u/d,-1,1))-Math.asin(Xi(y/d,-1,1)))),a=Math.max(r,Math.min(s,a))),this.labelRotation=a}afterCalculateLabelRotation(){Dn(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Dn(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:r,grid:s}}=this,a=this._isVisible(),c=this.isHorizontal();if(a){const u=V2(r,e.options.font);if(c?(t.width=this.maxWidth,t.height=Gf(s)+u):(t.height=this.maxHeight,t.width=Gf(s)+u),i.display&&this.ticks.length){const{first:d,last:f,widest:g,highest:y}=this._getLabelSizes(),v=i.padding*2,E=ro(this.labelRotation),x=Math.cos(E),S=Math.sin(E);if(c){const R=i.mirror?0:S*g.width+x*y.height;t.height=Math.min(this.maxHeight,t.height+R+v)}else{const R=i.mirror?0:x*g.width+S*y.height;t.width=Math.min(this.maxWidth,t.width+R+v)}this._calculatePadding(d,f,S,x)}}this._handleMargins(),c?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,r){const{ticks:{align:s,padding:a},position:c}=this.options,u=this.labelRotation!==0,d=c!=="top"&&this.axis==="x";if(this.isHorizontal()){const f=this.getPixelForTick(0)-this.left,g=this.right-this.getPixelForTick(this.ticks.length-1);let y=0,v=0;u?d?(y=r*t.width,v=i*e.height):(y=i*t.height,v=r*e.width):s==="start"?v=e.width:s==="end"?y=t.width:s!=="inner"&&(y=t.width/2,v=e.width/2),this.paddingLeft=Math.max((y-f+a)*this.width/(this.width-f),0),this.paddingRight=Math.max((v-g+a)*this.width/(this.width-g),0)}else{let f=e.height/2,g=t.height/2;s==="start"?(f=0,g=t.height):s==="end"&&(f=e.height,g=0),this.paddingTop=f+a,this.paddingBottom=g+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Dn(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,i;for(e=0,i=t.length;e<i;e++)De(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=L2(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){const{ctx:r,_longestTextCache:s}=this,a=[],c=[],u=Math.floor(e/P2(e,i));let d=0,f=0,g,y,v,E,x,S,R,C,P,L,N;for(g=0;g<e;g+=u){if(E=t[g].label,x=this._resolveTickFontOptions(g),r.font=S=x.string,R=s[S]=s[S]||{data:{},gc:[]},C=x.lineHeight,P=L=0,!De(E)&&!$n(E))P=N0(r,R.data,R.gc,P,E),L=C;else if($n(E))for(y=0,v=E.length;y<v;++y)N=E[y],!De(N)&&!$n(N)&&(P=N0(r,R.data,R.gc,P,N),L+=C);a.push(P),c.push(L),d=Math.max(P,d),f=Math.max(L,f)}xq(s,e);const j=a.indexOf(d),O=c.indexOf(f),D=k=>({width:a[k]||0,height:c[k]||0});return{first:D(0),last:D(e-1),widest:D(j),highest:D(O),widths:a,heights:c}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return h$(this._alignToPixels?Jc(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=Aq(this.getContext(),t,i))}return this.$context||(this.$context=Sq(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=ro(this.labelRotation),i=Math.abs(Math.cos(e)),r=Math.abs(Math.sin(e)),s=this._getLabelSizes(),a=t.autoSkipPadding||0,c=s?s.widest.width+a:0,u=s?s.highest.height+a:0;return this.isHorizontal()?u*i>c*r?c/i:u/r:u*r<c*i?u/i:c/r}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,r=this.options,{grid:s,position:a,border:c}=r,u=s.offset,d=this.isHorizontal(),g=this.ticks.length+(u?1:0),y=Gf(s),v=[],E=c.setContext(this.getContext()),x=E.display?E.width:0,S=x/2,R=function(X){return Jc(i,X,x)};let C,P,L,N,j,O,D,k,V,B,$,z;if(a==="top")C=R(this.bottom),O=this.bottom-y,k=C-S,B=R(t.top)+S,z=t.bottom;else if(a==="bottom")C=R(this.top),B=t.top,z=R(t.bottom)-S,O=C+S,k=this.top+y;else if(a==="left")C=R(this.right),j=this.right-y,D=C-S,V=R(t.left)+S,$=t.right;else if(a==="right")C=R(this.left),V=t.left,$=R(t.right)-S,j=C+S,D=this.left+y;else if(e==="x"){if(a==="center")C=R((t.top+t.bottom)/2+.5);else if(Ne(a)){const X=Object.keys(a)[0],lt=a[X];C=R(this.chart.scales[X].getPixelForValue(lt))}B=t.top,z=t.bottom,O=C+S,k=O+y}else if(e==="y"){if(a==="center")C=R((t.left+t.right)/2);else if(Ne(a)){const X=Object.keys(a)[0],lt=a[X];C=R(this.chart.scales[X].getPixelForValue(lt))}j=C-S,D=j-y,V=t.left,$=t.right}const bt=ye(r.ticks.maxTicksLimit,g),J=Math.max(1,Math.ceil(g/bt));for(P=0;P<g;P+=J){const X=this.getContext(P),lt=s.setContext(X),ht=c.setContext(X),ot=lt.lineWidth,H=lt.color,rt=ht.dash||[],wt=ht.dashOffset,Tt=lt.tickWidth,pt=lt.tickColor,xt=lt.tickBorderDash||[],St=lt.tickBorderDashOffset;L=Eq(this,P,u),L!==void 0&&(N=Jc(i,L,ot),d?j=D=V=$=N:O=k=B=z=N,v.push({tx1:j,ty1:O,tx2:D,ty2:k,x1:V,y1:B,x2:$,y2:z,width:ot,color:H,borderDash:rt,borderDashOffset:wt,tickWidth:Tt,tickColor:pt,tickBorderDash:xt,tickBorderDashOffset:St}))}return this._ticksLength=g,this._borderValue=C,v}_computeLabelItems(t){const e=this.axis,i=this.options,{position:r,ticks:s}=i,a=this.isHorizontal(),c=this.ticks,{align:u,crossAlign:d,padding:f,mirror:g}=s,y=Gf(i.grid),v=y+f,E=g?-f:v,x=-ro(this.labelRotation),S=[];let R,C,P,L,N,j,O,D,k,V,B,$,z="middle";if(r==="top")j=this.bottom-E,O=this._getXAxisLabelAlignment();else if(r==="bottom")j=this.top+E,O=this._getXAxisLabelAlignment();else if(r==="left"){const J=this._getYAxisLabelAlignment(y);O=J.textAlign,N=J.x}else if(r==="right"){const J=this._getYAxisLabelAlignment(y);O=J.textAlign,N=J.x}else if(e==="x"){if(r==="center")j=(t.top+t.bottom)/2+v;else if(Ne(r)){const J=Object.keys(r)[0],X=r[J];j=this.chart.scales[J].getPixelForValue(X)+v}O=this._getXAxisLabelAlignment()}else if(e==="y"){if(r==="center")N=(t.left+t.right)/2-v;else if(Ne(r)){const J=Object.keys(r)[0],X=r[J];N=this.chart.scales[J].getPixelForValue(X)}O=this._getYAxisLabelAlignment(y).textAlign}e==="y"&&(u==="start"?z="top":u==="end"&&(z="bottom"));const bt=this._getLabelSizes();for(R=0,C=c.length;R<C;++R){P=c[R],L=P.label;const J=s.setContext(this.getContext(R));D=this.getPixelForTick(R)+s.labelOffset,k=this._resolveTickFontOptions(R),V=k.lineHeight,B=$n(L)?L.length:1;const X=B/2,lt=J.color,ht=J.textStrokeColor,ot=J.textStrokeWidth;let H=O;a?(N=D,O==="inner"&&(R===C-1?H=this.options.reverse?"left":"right":R===0?H=this.options.reverse?"right":"left":H="center"),r==="top"?d==="near"||x!==0?$=-B*V+V/2:d==="center"?$=-bt.highest.height/2-X*V+V:$=-bt.highest.height+V/2:d==="near"||x!==0?$=V/2:d==="center"?$=bt.highest.height/2-X*V:$=bt.highest.height-B*V,g&&($*=-1),x!==0&&!J.showLabelBackdrop&&(N+=V/2*Math.sin(x))):(j=D,$=(1-B)*V/2);let rt;if(J.showLabelBackdrop){const wt=kr(J.backdropPadding),Tt=bt.heights[R],pt=bt.widths[R];let xt=$-wt.top,St=0-wt.left;switch(z){case"middle":xt-=Tt/2;break;case"bottom":xt-=Tt;break}switch(O){case"center":St-=pt/2;break;case"right":St-=pt;break;case"inner":R===C-1?St-=pt:R>0&&(St-=pt/2);break}rt={left:St,top:xt,width:pt+wt.width,height:Tt+wt.height,color:J.backdropColor}}S.push({label:L,font:k,textOffset:$,options:{rotation:x,color:lt,strokeColor:ht,strokeWidth:ot,textAlign:H,textBaseline:z,translation:[N,j],backdrop:rt}})}return S}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-ro(this.labelRotation))return t==="top"?"left":"right";let r="center";return e.align==="start"?r="left":e.align==="end"?r="right":e.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:r,padding:s}}=this.options,a=this._getLabelSizes(),c=t+s,u=a.widest.width;let d,f;return e==="left"?r?(f=this.right+s,i==="near"?d="left":i==="center"?(d="center",f+=u/2):(d="right",f+=u)):(f=this.right-c,i==="near"?d="right":i==="center"?(d="center",f-=u/2):(d="left",f=this.left)):e==="right"?r?(f=this.left+s,i==="near"?d="right":i==="center"?(d="center",f-=u/2):(d="left",f-=u)):(f=this.left+c,i==="near"?d="left":i==="center"?(d="center",f+=u/2):(d="right",f=this.right)):d="right",{textAlign:d,x:f}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:r,width:s,height:a}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,r,s,a),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const r=this.ticks.findIndex(s=>s.value===t);return r>=0?e.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){const e=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let s,a;const c=(u,d,f)=>{!f.width||!f.color||(i.save(),i.lineWidth=f.width,i.strokeStyle=f.color,i.setLineDash(f.borderDash||[]),i.lineDashOffset=f.borderDashOffset,i.beginPath(),i.moveTo(u.x,u.y),i.lineTo(d.x,d.y),i.stroke(),i.restore())};if(e.display)for(s=0,a=r.length;s<a;++s){const u=r[s];e.drawOnChartArea&&c({x:u.x1,y:u.y1},{x:u.x2,y:u.y2},u),e.drawTicks&&c({x:u.tx1,y:u.ty1},{x:u.tx2,y:u.ty2},{color:u.tickColor,width:u.tickWidth,borderDash:u.tickBorderDash,borderDashOffset:u.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:i,grid:r}}=this,s=i.setContext(this.getContext()),a=i.display?s.width:0;if(!a)return;const c=r.setContext(this.getContext(0)).lineWidth,u=this._borderValue;let d,f,g,y;this.isHorizontal()?(d=Jc(t,this.left,a)-a/2,f=Jc(t,this.right,c)+c/2,g=y=u):(g=Jc(t,this.top,a)-a/2,y=Jc(t,this.bottom,c)+c/2,d=f=u),e.save(),e.lineWidth=s.width,e.strokeStyle=s.color,e.beginPath(),e.moveTo(d,g),e.lineTo(f,y),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&I_(i,r);const s=this.getLabelItems(t);for(const a of s){const c=a.options,u=a.font,d=a.label,f=a.textOffset;Nu(i,d,0,f,u,c)}r&&M_(i)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:r}}=this;if(!i.display)return;const s=Li(i.font),a=kr(i.padding),c=i.align;let u=s.lineHeight/2;e==="bottom"||e==="center"||Ne(e)?(u+=a.bottom,$n(i.text)&&(u+=s.lineHeight*(i.text.length-1))):u+=a.top;const{titleX:d,titleY:f,maxWidth:g,rotation:y}=Cq(this,u,e,c);Nu(t,i.text,0,0,s,{color:i.color,maxWidth:g,rotation:y,textAlign:Rq(c,e,r),textBaseline:"middle",translation:[d,f]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=ye(t.grid&&t.grid.z,-1),r=ye(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==Fu.prototype.draw?[{z:e,draw:s=>{this.draw(s)}}]:[{z:i,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:e,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let s,a;for(s=0,a=e.length;s<a;++s){const c=e[s];c[i]===this.id&&(!t||c.type===t)&&r.push(c)}return r}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return Li(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class hy{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;Mq(e)&&(i=this.register(e));const r=this.items,s=t.id,a=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+t);return s in r||(r[s]=t,Dq(t,a,i),this.override&&Hn.override(t.id,t.overrides)),a}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,r=this.scope;i in e&&delete e[i],r&&i in Hn[r]&&(delete Hn[r][i],this.override&&delete ku[i])}}function Dq(n,t,e){const i=Hm(Object.create(null),[e?Hn.get(e):{},Hn.get(t),n.defaults]);Hn.set(t,i),n.defaultRoutes&&Iq(t,n.defaultRoutes),n.descriptors&&Hn.describe(t,n.descriptors)}function Iq(n,t){Object.keys(t).forEach(e=>{const i=e.split("."),r=i.pop(),s=[n].concat(i).join("."),a=t[e].split("."),c=a.pop(),u=a.join(".");Hn.route(s,r,u,c)})}function Mq(n){return"id"in n&&"defaults"in n}class Oq{constructor(){this.controllers=new hy(oo,"datasets",!0),this.elements=new hy(uo,"elements"),this.plugins=new hy(Object,"plugins"),this.scales=new hy(Fu,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(r=>{const s=i||this._getRegistryForType(r);i||s.isForType(r)||s===this.plugins&&r.id?this._exec(t,s,r):an(r,a=>{const c=i||this._getRegistryForType(a);this._exec(t,c,a)})})}_exec(t,e,i){const r=D1(t);Dn(i["before"+r],[],i),e[t](i),Dn(i["after"+r],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const r=e.get(t);if(r===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return r}}var Lo=new Oq;class kq{constructor(){this._init=[]}notify(t,e,i,r){e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const s=r?this._descriptors(t).filter(r):this._descriptors(t),a=this._notify(s,t,e,i);return e==="afterDestroy"&&(this._notify(s,t,"stop"),this._notify(this._init,t,"uninstall")),a}_notify(t,e,i,r){r=r||{};for(const s of t){const a=s.plugin,c=a[i],u=[e,r,s.options];if(Dn(c,u,a)===!1&&r.cancelable)return!1}return!0}invalidate(){De(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,r=ye(i.options&&i.options.plugins,{}),s=Nq(i);return r===!1&&!e?[]:Lq(t,s,r,e)}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,r=(s,a)=>s.filter(c=>!a.some(u=>c.plugin.id===u.plugin.id));this._notify(r(e,i),t,"stop"),this._notify(r(i,e),t,"start")}}function Nq(n){const t={},e=[],i=Object.keys(Lo.plugins.items);for(let s=0;s<i.length;s++)e.push(Lo.getPlugin(i[s]));const r=n.plugins||[];for(let s=0;s<r.length;s++){const a=r[s];e.indexOf(a)===-1&&(e.push(a),t[a.id]=!0)}return{plugins:e,localIds:t}}function Pq(n,t){return!t&&n===!1?null:n===!0?{}:n}function Lq(n,{plugins:t,localIds:e},i,r){const s=[],a=n.getContext();for(const c of t){const u=c.id,d=Pq(i[u],r);d!==null&&s.push({plugin:c,options:Vq(n.config,{plugin:c,local:e[u]},d,a)})}return s}function Vq(n,{plugin:t,local:e},i,r){const s=n.pluginScopeKeys(t),a=n.getOptionScopes(i,s);return e&&t.defaults&&a.push(t.defaults),n.createResolver(a,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Ew(n,t){const e=Hn.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function Uq(n,t){let e=n;return n==="_index_"?e=t:n==="_value_"&&(e=t==="x"?"y":"x"),e}function zq(n,t){return n===t?"_index_":"_value_"}function U2(n){if(n==="x"||n==="y"||n==="r")return n}function Fq(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function xw(n,...t){if(U2(n))return n;for(const e of t){const i=e.axis||Fq(e.position)||n.length>1&&U2(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function z2(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function Bq(n,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(e.length)return z2(n,"x",e[0])||z2(n,"y",e[0])}return{}}function jq(n,t){const e=ku[n.type]||{scales:{}},i=t.scales||{},r=Ew(n.type,t),s=Object.create(null);return Object.keys(i).forEach(a=>{const c=i[a];if(!Ne(c))return console.error(`Invalid scale configuration for scale: ${a}`);if(c._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const u=xw(a,c,Bq(a,n),Hn.scales[c.type]),d=zq(u,r),f=e.scales||{};s[a]=_m(Object.create(null),[{axis:u},c,f[u],f[d]])}),n.data.datasets.forEach(a=>{const c=a.type||n.type,u=a.indexAxis||Ew(c,t),f=(ku[c]||{}).scales||{};Object.keys(f).forEach(g=>{const y=Uq(g,u),v=a[y+"AxisID"]||y;s[v]=s[v]||Object.create(null),_m(s[v],[{axis:y},i[v],f[g]])})}),Object.keys(s).forEach(a=>{const c=s[a];_m(c,[Hn.scales[c.type],Hn.scale])}),s}function MP(n){const t=n.options||(n.options={});t.plugins=ye(t.plugins,{}),t.scales=jq(n,t)}function OP(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function $q(n){return n=n||{},n.data=OP(n.data),MP(n),n}const F2=new Map,kP=new Set;function dy(n,t){let e=F2.get(n);return e||(e=t(),F2.set(n,e),kP.add(e)),e}const Wf=(n,t,e)=>{const i=uc(t,e);i!==void 0&&n.add(i)};class Hq{constructor(t){this._config=$q(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=OP(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),MP(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return dy(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return dy(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return dy(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,i=this.type;return dy(`${i}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const i=this._scopeCache;let r=i.get(t);return(!r||e)&&(r=new Map,i.set(t,r)),r}getOptionScopes(t,e,i){const{options:r,type:s}=this,a=this._cachedScopes(t,i),c=a.get(e);if(c)return c;const u=new Set;e.forEach(f=>{t&&(u.add(t),f.forEach(g=>Wf(u,t,g))),f.forEach(g=>Wf(u,r,g)),f.forEach(g=>Wf(u,ku[s]||{},g)),f.forEach(g=>Wf(u,Hn,g)),f.forEach(g=>Wf(u,bw,g))});const d=Array.from(u);return d.length===0&&d.push(Object.create(null)),kP.has(e)&&a.set(e,d),d}chartOptionScopes(){const{options:t,type:e}=this;return[t,ku[e]||{},Hn.datasets[e]||{},{type:e},Hn,bw]}resolveNamedOptions(t,e,i,r=[""]){const s={$shared:!0},{resolver:a,subPrefixes:c}=B2(this._resolverCache,t,r);let u=a;if(Yq(a,e)){s.$shared=!1,i=hc(i)?i():i;const d=this.createResolver(t,i,c);u=wd(a,i,d)}for(const d of e)s[d]=u[d];return s}createResolver(t,e,i=[""],r){const{resolver:s}=B2(this._resolverCache,t,i);return Ne(e)?wd(s,e,void 0,r):s}}function B2(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));const r=e.join();let s=i.get(r);return s||(s={resolver:P1(t,e),subPrefixes:e.filter(c=>!c.toLowerCase().includes("hover"))},i.set(r,s)),s}const qq=n=>Ne(n)&&Object.getOwnPropertyNames(n).some(t=>hc(n[t]));function Yq(n,t){const{isScriptable:e,isIndexable:i}=hP(n);for(const r of t){const s=e(r),a=i(r),c=(a||s)&&n[r];if(s&&(hc(c)||qq(c))||a&&$n(c))return!0}return!1}var Gq="4.4.9";const Wq=["top","bottom","left","right","chartArea"];function j2(n,t){return n==="top"||n==="bottom"||Wq.indexOf(n)===-1&&t==="x"}function $2(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function H2(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),Dn(e&&e.onComplete,[n],t)}function Kq(n){const t=n.chart,e=t.options.animation;Dn(e&&e.onProgress,[n],t)}function NP(n){return U1()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const Hy={},q2=n=>{const t=NP(n);return Object.values(Hy).filter(e=>e.canvas===t).pop()};function Xq(n,t,e){const i=Object.keys(n);for(const r of i){const s=+r;if(s>=t){const a=n[r];delete n[r],(e>0||s>t)&&(n[s+e]=a)}}}function Qq(n,t,e,i){return!e||n.type==="mouseout"?null:i?t:n}class Oa{static register(...t){Lo.add(...t),Y2()}static unregister(...t){Lo.remove(...t),Y2()}constructor(t,e){const i=this.config=new Hq(e),r=NP(t),s=q2(r);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const a=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||gq(r)),this.platform.updateConfig(i);const c=this.platform.acquireContext(r,a.aspectRatio),u=c&&c.canvas,d=u&&u.height,f=u&&u.width;if(this.id=Z8(),this.ctx=c,this.canvas=u,this.width=f,this.height=d,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new kq,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=g$(g=>this.update(g),a.resizeDelay||0),this._dataChanges=[],Hy[this.id]=this,!c||!u){console.error("Failed to create chart: can't acquire context from the given item");return}Ca.listen(this,"complete",H2),Ca.listen(this,"progress",Kq),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:r,_aspectRatio:s}=this;return De(t)?e&&s?s:r?i/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Lo}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():m2(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return h2(this.canvas,this.ctx),this}stop(){return Ca.stop(this),this}resize(t,e){Ca.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,r=this.canvas,s=i.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(r,t,e,s),c=i.devicePixelRatio||this.platform.getDevicePixelRatio(),u=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,m2(this,c,!0)&&(this.notifyPlugins("resize",{size:a}),Dn(i.onResize,[this,a],this),this.attached&&this._doResize(u)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};an(e,(i,r)=>{i.id=r})}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,r=Object.keys(i).reduce((a,c)=>(a[c]=!1,a),{});let s=[];e&&(s=s.concat(Object.keys(e).map(a=>{const c=e[a],u=xw(a,c),d=u==="r",f=u==="x";return{options:c,dposition:d?"chartArea":f?"bottom":"left",dtype:d?"radialLinear":f?"category":"linear"}}))),an(s,a=>{const c=a.options,u=c.id,d=xw(u,c),f=ye(c.type,a.dtype);(c.position===void 0||j2(c.position,d)!==j2(a.dposition))&&(c.position=a.dposition),r[u]=!0;let g=null;if(u in i&&i[u].type===f)g=i[u];else{const y=Lo.getScale(f);g=new y({id:u,type:f,ctx:this.ctx,chart:this}),i[g.id]=g}g.init(c,t)}),an(r,(a,c)=>{a||delete i[c]}),an(i,a=>{Ir.configure(this,a,a.options),Ir.addBox(this,a)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort((r,s)=>r.index-s.index),i>e){for(let r=e;r<i;++r)this._destroyDatasetMeta(r);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort($2("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((i,r)=>{e.filter(s=>s===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=e.length;i<r;i++){const s=e[i];let a=this.getDatasetMeta(i);const c=s.type||this.config.type;if(a.type&&a.type!==c&&(this._destroyDatasetMeta(i),a=this.getDatasetMeta(i)),a.type=c,a.indexAxis=s.indexAxis||Ew(c,this.options),a.order=s.order||0,a.index=i,a.label=""+s.label,a.visible=this.isDatasetVisible(i),a.controller)a.controller.updateIndex(i),a.controller.linkScales();else{const u=Lo.getController(c),{datasetElementType:d,dataElementType:f}=Hn.datasets[c];Object.assign(u,{dataElementType:Lo.getElement(f),datasetElementType:d&&Lo.getElement(d)}),a.controller=new u(this,i),t.push(a.controller)}}return this._updateMetasets(),t}_resetElements(){an(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let d=0,f=this.data.datasets.length;d<f;d++){const{controller:g}=this.getDatasetMeta(d),y=!r&&s.indexOf(g)===-1;g.buildOrUpdateElements(y),a=Math.max(+g.getMaxOverflow(),a)}a=this._minPadding=i.layout.autoPadding?a:0,this._updateLayout(a),r||an(s,d=>{d.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort($2("z","_idx"));const{_active:c,_lastEvent:u}=this;u?this._eventHandler(u,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){an(this.scales,t=>{Ir.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!n2(e,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:s}of e){const a=i==="_removeElements"?-s:s;Xq(t,r,a)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=s=>new Set(t.filter(a=>a[0]===s).map((a,c)=>c+","+a.splice(1).join(","))),r=i(0);for(let s=1;s<e;s++)if(!n2(r,i(s)))return;return Array.from(r).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Ir.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],an(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,s)=>{r._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,i=this.data.datasets.length;e<i;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,hc(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),r={meta:i,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(e),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Ca.has(this)?this.attached&&!Ca.running(this)&&Ca.start(this):(this.draw(),H2({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let r,s;for(r=0,s=e.length;r<s;++r){const a=e[r];(!t||a.visible)&&i.push(a)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,i={meta:t,index:t.index,cancelable:!0},r=wP(this,t);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(r&&I_(e,r),t.controller.draw(),r&&M_(e),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(t){return za(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,r){const s=WH.modes[e];return typeof s=="function"?s(this,t,i,r):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let r=i.filter(s=>s&&s._dataset===e).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=vc(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!e.hidden}setDatasetVisibility(t,e){const i=this.getDatasetMeta(t);i.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const r=i?"show":"hide",s=this.getDatasetMeta(t),a=s.controller._resolveAnimations(void 0,r);qm(e)?(s.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),a.update(s,{visible:i}),this.update(c=>c.datasetIndex===t?r:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),Ca.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),h2(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete Hy[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(s,a)=>{e.addEventListener(this,s,a),t[s]=a},r=(s,a,c)=>{s.offsetX=a,s.offsetY=c,this._eventHandler(s)};an(this.options.events,s=>i(s,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(u,d)=>{e.addEventListener(this,u,d),t[u]=d},r=(u,d)=>{t[u]&&(e.removeEventListener(this,u,d),delete t[u])},s=(u,d)=>{this.canvas&&this.resize(u,d)};let a;const c=()=>{r("attach",c),this.attached=!0,this.resize(),i("resize",s),i("detach",a)};a=()=>{this.attached=!1,r("resize",s),this._stop(),this._resize(0,0),i("attach",c)},e.isAttached(this.canvas)?c():a()}unbindEvents(){an(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},an(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const r=i?"set":"remove";let s,a,c,u;for(e==="dataset"&&(s=this.getDatasetMeta(t[0].datasetIndex),s.controller["_"+r+"DatasetHoverStyle"]()),c=0,u=t.length;c<u;++c){a=t[c];const d=a&&this.getDatasetMeta(a.datasetIndex).controller;d&&d[r+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map(({datasetIndex:s,index:a})=>{const c=this.getDatasetMeta(s);if(!c)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:c.data[a],index:a}});!M0(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,i){const r=this.options.hover,s=(u,d)=>u.filter(f=>!d.some(g=>f.datasetIndex===g.datasetIndex&&f.index===g.index)),a=s(e,t),c=i?t:s(t,e);a.length&&this.updateHoverStyle(a,r.mode,!1),c.length&&r.mode&&this.updateHoverStyle(c,r.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},r=a=>(a.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const s=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(s||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:r=[],options:s}=this,a=e,c=this._getActiveElements(t,r,i,a),u=r$(t),d=Qq(t,this._lastEvent,i,u);i&&(this._lastEvent=null,Dn(s.onHover,[t,c,this],this),u&&Dn(s.onClick,[t,c,this],this));const f=!M0(c,r);return(f||e)&&(this._active=c,this._updateHoverStyles(c,r,e)),this._lastEvent=d,f}_getActiveElements(t,e,i,r){if(t.type==="mouseout")return[];if(!i)return e;const s=this.options.hover;return this.getElementsAtEventForMode(t,s.mode,s,r)}}Et(Oa,"defaults",Hn),Et(Oa,"instances",Hy),Et(Oa,"overrides",ku),Et(Oa,"registry",Lo),Et(Oa,"version",Gq),Et(Oa,"getChart",q2);function Y2(){return an(Oa.instances,n=>n._plugins.invalidate())}function Zq(n,t,e){const{startAngle:i,pixelMargin:r,x:s,y:a,outerRadius:c,innerRadius:u}=t;let d=r/c;n.beginPath(),n.arc(s,a,c,i-d,e+d),u>r?(d=r/u,n.arc(s,a,u,e+d,i-d,!0)):n.arc(s,a,r,e+pi,i-pi),n.closePath(),n.clip()}function Jq(n){return N1(n,["outerStart","outerEnd","innerStart","innerEnd"])}function tY(n,t,e,i){const r=Jq(n.options.borderRadius),s=(e-t)/2,a=Math.min(s,i*t/2),c=u=>{const d=(e-Math.min(s,u))*i/2;return Xi(u,0,Math.min(s,d))};return{outerStart:c(r.outerStart),outerEnd:c(r.outerEnd),innerStart:Xi(r.innerStart,0,a),innerEnd:Xi(r.innerEnd,0,a)}}function Dh(n,t,e,i){return{x:e+n*Math.cos(t),y:i+n*Math.sin(t)}}function V0(n,t,e,i,r,s){const{x:a,y:c,startAngle:u,pixelMargin:d,innerRadius:f}=t,g=Math.max(t.outerRadius+i+e-d,0),y=f>0?f+i+e+d:0;let v=0;const E=r-u;if(i){const J=f>0?f-i:0,X=g>0?g-i:0,lt=(J+X)/2,ht=lt!==0?E*lt/(lt+i):E;v=(E-ht)/2}const x=Math.max(.001,E*g-e/Un)/g,S=(E-x)/2,R=u+S+v,C=r-S-v,{outerStart:P,outerEnd:L,innerStart:N,innerEnd:j}=tY(t,y,g,C-R),O=g-P,D=g-L,k=R+P/O,V=C-L/D,B=y+N,$=y+j,z=R+N/B,bt=C-j/$;if(n.beginPath(),s){const J=(k+V)/2;if(n.arc(a,c,g,k,J),n.arc(a,c,g,J,V),L>0){const ot=Dh(D,V,a,c);n.arc(ot.x,ot.y,L,V,C+pi)}const X=Dh($,C,a,c);if(n.lineTo(X.x,X.y),j>0){const ot=Dh($,bt,a,c);n.arc(ot.x,ot.y,j,C+pi,bt+Math.PI)}const lt=(C-j/y+(R+N/y))/2;if(n.arc(a,c,y,C-j/y,lt,!0),n.arc(a,c,y,lt,R+N/y,!0),N>0){const ot=Dh(B,z,a,c);n.arc(ot.x,ot.y,N,z+Math.PI,R-pi)}const ht=Dh(O,R,a,c);if(n.lineTo(ht.x,ht.y),P>0){const ot=Dh(O,k,a,c);n.arc(ot.x,ot.y,P,R-pi,k)}}else{n.moveTo(a,c);const J=Math.cos(k)*g+a,X=Math.sin(k)*g+c;n.lineTo(J,X);const lt=Math.cos(V)*g+a,ht=Math.sin(V)*g+c;n.lineTo(lt,ht)}n.closePath()}function eY(n,t,e,i,r){const{fullCircles:s,startAngle:a,circumference:c}=t;let u=t.endAngle;if(s){V0(n,t,e,i,u,r);for(let d=0;d<s;++d)n.fill();isNaN(c)||(u=a+(c%Vn||Vn))}return V0(n,t,e,i,u,r),n.fill(),u}function nY(n,t,e,i,r){const{fullCircles:s,startAngle:a,circumference:c,options:u}=t,{borderWidth:d,borderJoinStyle:f,borderDash:g,borderDashOffset:y}=u,v=u.borderAlign==="inner";if(!d)return;n.setLineDash(g||[]),n.lineDashOffset=y,v?(n.lineWidth=d*2,n.lineJoin=f||"round"):(n.lineWidth=d,n.lineJoin=f||"bevel");let E=t.endAngle;if(s){V0(n,t,e,i,E,r);for(let x=0;x<s;++x)n.stroke();isNaN(c)||(E=a+(c%Vn||Vn))}v&&Zq(n,t,E),s||(V0(n,t,e,i,E,r),n.stroke())}class am extends uo{constructor(e){super();Et(this,"circumference");Et(this,"endAngle");Et(this,"fullCircles");Et(this,"innerRadius");Et(this,"outerRadius");Et(this,"pixelMargin");Et(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,i,r){const s=this.getProps(["x","y"],r),{angle:a,distance:c}=eP(s,{x:e,y:i}),{startAngle:u,endAngle:d,innerRadius:f,outerRadius:g,circumference:y}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),v=(this.options.spacing+this.options.borderWidth)/2,E=ye(y,d-u),x=Ym(a,u,d)&&u!==d,S=E>=Vn||x,R=Va(c,f+v,g+v);return S&&R}getCenterPoint(e){const{x:i,y:r,startAngle:s,endAngle:a,innerRadius:c,outerRadius:u}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:d,spacing:f}=this.options,g=(s+a)/2,y=(c+u+f+d)/2;return{x:i+Math.cos(g)*y,y:r+Math.sin(g)*y}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:i,circumference:r}=this,s=(i.offset||0)/4,a=(i.spacing||0)/2,c=i.circular;if(this.pixelMargin=i.borderAlign==="inner"?.33:0,this.fullCircles=r>Vn?Math.floor(r/Vn):0,r===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const u=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(u)*s,Math.sin(u)*s);const d=1-Math.sin(Math.min(Un,r||0)),f=s*d;e.fillStyle=i.backgroundColor,e.strokeStyle=i.borderColor,eY(e,this,f,a,c),nY(e,this,f,a,c),e.restore()}}Et(am,"id","arc"),Et(am,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),Et(am,"defaultRoutes",{backgroundColor:"backgroundColor"}),Et(am,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"});function PP(n,t,e=t){n.lineCap=ye(e.borderCapStyle,t.borderCapStyle),n.setLineDash(ye(e.borderDash,t.borderDash)),n.lineDashOffset=ye(e.borderDashOffset,t.borderDashOffset),n.lineJoin=ye(e.borderJoinStyle,t.borderJoinStyle),n.lineWidth=ye(e.borderWidth,t.borderWidth),n.strokeStyle=ye(e.borderColor,t.borderColor)}function iY(n,t,e){n.lineTo(e.x,e.y)}function rY(n){return n.stepped?R$:n.tension||n.cubicInterpolationMode==="monotone"?C$:iY}function LP(n,t,e={}){const i=n.length,{start:r=0,end:s=i-1}=e,{start:a,end:c}=t,u=Math.max(r,a),d=Math.min(s,c),f=r<a&&s<a||r>c&&s>c;return{count:i,start:u,loop:t.loop,ilen:d<u&&!f?i+d-u:d-u}}function sY(n,t,e,i){const{points:r,options:s}=t,{count:a,start:c,loop:u,ilen:d}=LP(r,e,i),f=rY(s);let{move:g=!0,reverse:y}=i||{},v,E,x;for(v=0;v<=d;++v)E=r[(c+(y?d-v:v))%a],!E.skip&&(g?(n.moveTo(E.x,E.y),g=!1):f(n,x,E,y,s.stepped),x=E);return u&&(E=r[(c+(y?d:0))%a],f(n,x,E,y,s.stepped)),!!u}function oY(n,t,e,i){const r=t.points,{count:s,start:a,ilen:c}=LP(r,e,i),{move:u=!0,reverse:d}=i||{};let f=0,g=0,y,v,E,x,S,R;const C=L=>(a+(d?c-L:L))%s,P=()=>{x!==S&&(n.lineTo(f,S),n.lineTo(f,x),n.lineTo(f,R))};for(u&&(v=r[C(0)],n.moveTo(v.x,v.y)),y=0;y<=c;++y){if(v=r[C(y)],v.skip)continue;const L=v.x,N=v.y,j=L|0;j===E?(N<x?x=N:N>S&&(S=N),f=(g*f+L)/++g):(P(),n.lineTo(L,N),E=j,g=0,x=S=N),R=N}P()}function Sw(n){const t=n.options,e=t.borderDash&&t.borderDash.length;return!n._decimated&&!n._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?oY:sY}function aY(n){return n.stepped?oH:n.tension||n.cubicInterpolationMode==="monotone"?aH:su}function lY(n,t,e,i){let r=t._path;r||(r=t._path=new Path2D,t.path(r,e,i)&&r.closePath()),PP(n,t.options),n.stroke(r)}function cY(n,t,e,i){const{segments:r,options:s}=t,a=Sw(t);for(const c of r)PP(n,s,c.style),n.beginPath(),a(n,t,c,{start:e,end:e+i-1})&&n.closePath(),n.stroke()}const uY=typeof Path2D=="function";function hY(n,t,e,i){uY&&!t.options.segment?lY(n,t,e,i):cY(n,t,e,i)}class jl extends uo{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const r=i.spanGaps?this._loop:this._fullLoop;Z$(this._points,i,t,r,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=fH(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,i=t.length;return i&&e[t[i-1].end]}interpolate(t,e){const i=this.options,r=t[e],s=this.points,a=TP(this,{property:e,start:r,end:r});if(!a.length)return;const c=[],u=aY(i);let d,f;for(d=0,f=a.length;d<f;++d){const{start:g,end:y}=a[d],v=s[g],E=s[y];if(v===E){c.push(v);continue}const x=Math.abs((r-v[e])/(E[e]-v[e])),S=u(v,E,x,i.stepped);S[e]=t[e],c.push(S)}return c.length===1?c[0]:c}pathSegment(t,e,i){return Sw(this)(t,this,e,i)}path(t,e,i){const r=this.segments,s=Sw(this);let a=this._loop;e=e||0,i=i||this.points.length-e;for(const c of r)a&=s(t,this,c,{start:e,end:e+i-1});return!!a}draw(t,e,i,r){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(t.save(),hY(t,this,i,r),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}Et(jl,"id","line"),Et(jl,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Et(jl,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Et(jl,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function G2(n,t,e,i){const r=n.options,{[e]:s}=n.getProps([e],i);return Math.abs(t-s)<r.radius+r.hitRadius}class qy extends uo{constructor(e){super();Et(this,"parsed");Et(this,"skip");Et(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,i,r){const s=this.options,{x:a,y:c}=this.getProps(["x","y"],r);return Math.pow(e-a,2)+Math.pow(i-c,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(e,i){return G2(this,e,"x",i)}inYRange(e,i){return G2(this,e,"y",i)}getCenterPoint(e){const{x:i,y:r}=this.getProps(["x","y"],e);return{x:i,y:r}}size(e){e=e||this.options||{};let i=e.radius||0;i=Math.max(i,i&&e.hoverRadius||0);const r=i&&e.borderWidth||0;return(i+r)*2}draw(e,i){const r=this.options;this.skip||r.radius<.1||!za(this,i,this.size(r)/2)||(e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.fillStyle=r.backgroundColor,Tw(e,r,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}Et(qy,"id","point"),Et(qy,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Et(qy,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function VP(n,t){const{x:e,y:i,base:r,width:s,height:a}=n.getProps(["x","y","base","width","height"],t);let c,u,d,f,g;return n.horizontal?(g=a/2,c=Math.min(e,r),u=Math.max(e,r),d=i-g,f=i+g):(g=s/2,c=e-g,u=e+g,d=Math.min(i,r),f=Math.max(i,r)),{left:c,top:d,right:u,bottom:f}}function $l(n,t,e,i){return n?0:Xi(t,e,i)}function dY(n,t,e){const i=n.options.borderWidth,r=n.borderSkipped,s=uP(i);return{t:$l(r.top,s.top,0,e),r:$l(r.right,s.right,0,t),b:$l(r.bottom,s.bottom,0,e),l:$l(r.left,s.left,0,t)}}function fY(n,t,e){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),r=n.options.borderRadius,s=vu(r),a=Math.min(t,e),c=n.borderSkipped,u=i||Ne(r);return{topLeft:$l(!u||c.top||c.left,s.topLeft,0,a),topRight:$l(!u||c.top||c.right,s.topRight,0,a),bottomLeft:$l(!u||c.bottom||c.left,s.bottomLeft,0,a),bottomRight:$l(!u||c.bottom||c.right,s.bottomRight,0,a)}}function mY(n){const t=VP(n),e=t.right-t.left,i=t.bottom-t.top,r=dY(n,e/2,i/2),s=fY(n,e/2,i/2);return{outer:{x:t.left,y:t.top,w:e,h:i,radius:s},inner:{x:t.left+r.l,y:t.top+r.t,w:e-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,s.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(r.b,r.r))}}}}function vT(n,t,e,i){const r=t===null,s=e===null,c=n&&!(r&&s)&&VP(n,i);return c&&(r||Va(t,c.left,c.right))&&(s||Va(e,c.top,c.bottom))}function gY(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function pY(n,t){n.rect(t.x,t.y,t.w,t.h)}function bT(n,t,e={}){const i=n.x!==e.x?-t:0,r=n.y!==e.y?-t:0,s=(n.x+n.w!==e.x+e.w?t:0)-i,a=(n.y+n.h!==e.y+e.h?t:0)-r;return{x:n.x+i,y:n.y+r,w:n.w+s,h:n.h+a,radius:n.radius}}class Yy extends uo{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:i,backgroundColor:r}}=this,{inner:s,outer:a}=mY(this),c=gY(a.radius)?Gm:pY;t.save(),(a.w!==s.w||a.h!==s.h)&&(t.beginPath(),c(t,bT(a,e,s)),t.clip(),c(t,bT(s,-e,a)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),c(t,bT(s,e)),t.fillStyle=r,t.fill(),t.restore()}inRange(t,e,i){return vT(this,t,e,i)}inXRange(t,e){return vT(this,t,null,e)}inYRange(t,e){return vT(this,null,t,e)}getCenterPoint(t){const{x:e,y:i,base:r,horizontal:s}=this.getProps(["x","y","base","horizontal"],t);return{x:s?(e+r)/2:e,y:s?i:(i+r)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}Et(Yy,"id","bar"),Et(Yy,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),Et(Yy,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var yY=Object.freeze({__proto__:null,ArcElement:am,BarElement:Yy,LineElement:jl,PointElement:qy});const Aw=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],W2=Aw.map(n=>n.replace("rgb(","rgba(").replace(")",", 0.5)"));function UP(n){return Aw[n%Aw.length]}function zP(n){return W2[n%W2.length]}function _Y(n,t){return n.borderColor=UP(t),n.backgroundColor=zP(t),++t}function vY(n,t){return n.backgroundColor=n.data.map(()=>UP(t++)),t}function bY(n,t){return n.backgroundColor=n.data.map(()=>zP(t++)),t}function TY(n){let t=0;return(e,i)=>{const r=n.getDatasetMeta(i).controller;r instanceof fu?t=vY(e,t):r instanceof wm?t=bY(e,t):r&&(t=_Y(e,t))}}function K2(n){let t;for(t in n)if(n[t].borderColor||n[t].backgroundColor)return!0;return!1}function wY(n){return n&&(n.borderColor||n.backgroundColor)}function EY(){return Hn.borderColor!=="rgba(0,0,0,0.1)"||Hn.backgroundColor!=="rgba(0,0,0,0.1)"}var xY={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(n,t,e){if(!e.enabled)return;const{data:{datasets:i},options:r}=n.config,{elements:s}=r,a=K2(i)||wY(r)||s&&K2(s)||EY();if(!e.forceOverride&&a)return;const c=TY(n);i.forEach(c)}};function SY(n,t,e,i,r){const s=r.samples||i;if(s>=e)return n.slice(t,t+e);const a=[],c=(e-2)/(s-2);let u=0;const d=t+e-1;let f=t,g,y,v,E,x;for(a[u++]=n[f],g=0;g<s-2;g++){let S=0,R=0,C;const P=Math.floor((g+1)*c)+1+t,L=Math.min(Math.floor((g+2)*c)+1,e)+t,N=L-P;for(C=P;C<L;C++)S+=n[C].x,R+=n[C].y;S/=N,R/=N;const j=Math.floor(g*c)+1+t,O=Math.min(Math.floor((g+1)*c)+1,e)+t,{x:D,y:k}=n[f];for(v=E=-1,C=j;C<O;C++)E=.5*Math.abs((D-S)*(n[C].y-k)-(D-n[C].x)*(R-k)),E>v&&(v=E,y=n[C],x=C);a[u++]=y,f=x}return a[u++]=n[d],a}function AY(n,t,e,i){let r=0,s=0,a,c,u,d,f,g,y,v,E,x;const S=[],R=t+e-1,C=n[t].x,L=n[R].x-C;for(a=t;a<t+e;++a){c=n[a],u=(c.x-C)/L*i,d=c.y;const N=u|0;if(N===f)d<E?(E=d,g=a):d>x&&(x=d,y=a),r=(s*r+c.x)/++s;else{const j=a-1;if(!De(g)&&!De(y)){const O=Math.min(g,y),D=Math.max(g,y);O!==v&&O!==j&&S.push({...n[O],x:r}),D!==v&&D!==j&&S.push({...n[D],x:r})}a>0&&j!==v&&S.push(n[j]),S.push(c),f=N,s=0,E=x=d,g=y=v=a}}return S}function FP(n){if(n._decimated){const t=n._data;delete n._decimated,delete n._data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function X2(n){n.data.datasets.forEach(t=>{FP(t)})}function RY(n,t){const e=t.length;let i=0,r;const{iScale:s}=n,{min:a,max:c,minDefined:u,maxDefined:d}=s.getUserBounds();return u&&(i=Xi(Ua(t,s.axis,a).lo,0,e-1)),d?r=Xi(Ua(t,s.axis,c).hi+1,i,e)-i:r=e-i,{start:i,count:r}}var CY={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,t,e)=>{if(!e.enabled){X2(n);return}const i=n.width;n.data.datasets.forEach((r,s)=>{const{_data:a,indexAxis:c}=r,u=n.getDatasetMeta(s),d=a||r.data;if(sm([c,n.options.indexAxis])==="y"||!u.controller.supportsDecimation)return;const f=n.scales[u.xAxisID];if(f.type!=="linear"&&f.type!=="time"||n.options.parsing)return;let{start:g,count:y}=RY(u,d);const v=e.threshold||4*i;if(y<=v){FP(r);return}De(a)&&(r._data=d,delete r.data,Object.defineProperty(r,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(x){this._data=x}}));let E;switch(e.algorithm){case"lttb":E=SY(d,g,y,i,e);break;case"min-max":E=AY(d,g,y,i);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}r._decimated=E})},destroy(n){X2(n)}};function DY(n,t,e){const i=n.segments,r=n.points,s=t.points,a=[];for(const c of i){let{start:u,end:d}=c;d=B1(u,d,r);const f=Rw(e,r[u],r[d],c.loop);if(!t.segments){a.push({source:c,target:f,start:r[u],end:r[d]});continue}const g=TP(t,f);for(const y of g){const v=Rw(e,s[y.start],s[y.end],y.loop),E=bP(c,r,v);for(const x of E)a.push({source:x,target:y,start:{[e]:Q2(f,v,"start",Math.max)},end:{[e]:Q2(f,v,"end",Math.min)}})}}return a}function Rw(n,t,e,i){if(i)return;let r=t[n],s=e[n];return n==="angle"&&(r=ys(r),s=ys(s)),{property:n,start:r,end:s}}function IY(n,t){const{x:e=null,y:i=null}=n||{},r=t.points,s=[];return t.segments.forEach(({start:a,end:c})=>{c=B1(a,c,r);const u=r[a],d=r[c];i!==null?(s.push({x:u.x,y:i}),s.push({x:d.x,y:i})):e!==null&&(s.push({x:e,y:u.y}),s.push({x:e,y:d.y}))}),s}function B1(n,t,e){for(;t>n;t--){const i=e[t];if(!isNaN(i.x)&&!isNaN(i.y))break}return t}function Q2(n,t,e,i){return n&&t?i(n[e],t[e]):n?n[e]:t?t[e]:0}function BP(n,t){let e=[],i=!1;return $n(n)?(i=!0,e=n):e=IY(n,t),e.length?new jl({points:e,options:{tension:0},_loop:i,_fullLoop:i}):null}function Z2(n){return n&&n.fill!==!1}function MY(n,t,e){let r=n[t].fill;const s=[t];let a;if(!e)return r;for(;r!==!1&&s.indexOf(r)===-1;){if(!ai(r))return r;if(a=n[r],!a)return!1;if(a.visible)return r;s.push(r),r=a.fill}return!1}function OY(n,t,e){const i=LY(n);if(Ne(i))return isNaN(i.value)?!1:i;let r=parseFloat(i);return ai(r)&&Math.floor(r)===r?kY(i[0],t,r,e):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function kY(n,t,e,i){return(n==="-"||n==="+")&&(e=t+e),e===t||e<0||e>=i?!1:e}function NY(n,t){let e=null;return n==="start"?e=t.bottom:n==="end"?e=t.top:Ne(n)?e=t.getPixelForValue(n.value):t.getBasePixel&&(e=t.getBasePixel()),e}function PY(n,t,e){let i;return n==="start"?i=e:n==="end"?i=t.options.reverse?t.min:t.max:Ne(n)?i=n.value:i=t.getBaseValue(),i}function LY(n){const t=n.options,e=t.fill;let i=ye(e&&e.target,e);return i===void 0&&(i=!!t.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function VY(n){const{scale:t,index:e,line:i}=n,r=[],s=i.segments,a=i.points,c=UY(t,e);c.push(BP({x:null,y:t.bottom},i));for(let u=0;u<s.length;u++){const d=s[u];for(let f=d.start;f<=d.end;f++)zY(r,a[f],c)}return new jl({points:r,options:{}})}function UY(n,t){const e=[],i=n.getMatchingVisibleMetas("line");for(let r=0;r<i.length;r++){const s=i[r];if(s.index===t)break;s.hidden||e.unshift(s.dataset)}return e}function zY(n,t,e){const i=[];for(let r=0;r<e.length;r++){const s=e[r],{first:a,last:c,point:u}=FY(s,t,"x");if(!(!u||a&&c)){if(a)i.unshift(u);else if(n.push(u),!c)break}}n.push(...i)}function FY(n,t,e){const i=n.interpolate(t,e);if(!i)return{};const r=i[e],s=n.segments,a=n.points;let c=!1,u=!1;for(let d=0;d<s.length;d++){const f=s[d],g=a[f.start][e],y=a[f.end][e];if(Va(r,g,y)){c=r===g,u=r===y;break}}return{first:c,last:u,point:i}}class jP{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,i){const{x:r,y:s,radius:a}=this;return e=e||{start:0,end:Vn},t.arc(r,s,a,e.end,e.start,!0),!i.bounds}interpolate(t){const{x:e,y:i,radius:r}=this,s=t.angle;return{x:e+Math.cos(s)*r,y:i+Math.sin(s)*r,angle:s}}}function BY(n){const{chart:t,fill:e,line:i}=n;if(ai(e))return jY(t,e);if(e==="stack")return VY(n);if(e==="shape")return!0;const r=$Y(n);return r instanceof jP?r:BP(r,i)}function jY(n,t){const e=n.getDatasetMeta(t);return e&&n.isDatasetVisible(t)?e.dataset:null}function $Y(n){return(n.scale||{}).getPointPositionForValue?qY(n):HY(n)}function HY(n){const{scale:t={},fill:e}=n,i=NY(e,t);if(ai(i)){const r=t.isHorizontal();return{x:r?i:null,y:r?null:i}}return null}function qY(n){const{scale:t,fill:e}=n,i=t.options,r=t.getLabels().length,s=i.reverse?t.max:t.min,a=PY(e,t,s),c=[];if(i.grid.circular){const u=t.getPointPositionForValue(0,s);return new jP({x:u.x,y:u.y,radius:t.getDistanceFromCenterForValue(a)})}for(let u=0;u<r;++u)c.push(t.getPointPositionForValue(u,a));return c}function TT(n,t,e){const i=BY(t),{chart:r,index:s,line:a,scale:c,axis:u}=t,d=a.options,f=d.fill,g=d.backgroundColor,{above:y=g,below:v=g}=f||{},E=r.getDatasetMeta(s),x=wP(r,E);i&&a.points.length&&(I_(n,e),YY(n,{line:a,target:i,above:y,below:v,area:e,scale:c,axis:u,clip:x}),M_(n))}function YY(n,t){const{line:e,target:i,above:r,below:s,area:a,scale:c,clip:u}=t,d=e._loop?"angle":t.axis;n.save(),d==="x"&&s!==r&&(J2(n,i,a.top),tI(n,{line:e,target:i,color:r,scale:c,property:d,clip:u}),n.restore(),n.save(),J2(n,i,a.bottom)),tI(n,{line:e,target:i,color:s,scale:c,property:d,clip:u}),n.restore()}function J2(n,t,e){const{segments:i,points:r}=t;let s=!0,a=!1;n.beginPath();for(const c of i){const{start:u,end:d}=c,f=r[u],g=r[B1(u,d,r)];s?(n.moveTo(f.x,f.y),s=!1):(n.lineTo(f.x,e),n.lineTo(f.x,f.y)),a=!!t.pathSegment(n,c,{move:a}),a?n.closePath():n.lineTo(g.x,e)}n.lineTo(t.first().x,e),n.closePath(),n.clip()}function tI(n,t){const{line:e,target:i,property:r,color:s,scale:a,clip:c}=t,u=DY(e,i,r);for(const{source:d,target:f,start:g,end:y}of u){const{style:{backgroundColor:v=s}={}}=d,E=i!==!0;n.save(),n.fillStyle=v,GY(n,a,c,E&&Rw(r,g,y)),n.beginPath();const x=!!e.pathSegment(n,d);let S;if(E){x?n.closePath():eI(n,i,y,r);const R=!!i.pathSegment(n,f,{move:x,reverse:!0});S=x&&R,S||eI(n,i,g,r)}n.closePath(),n.fill(S?"evenodd":"nonzero"),n.restore()}}function GY(n,t,e,i){const r=t.chart.chartArea,{property:s,start:a,end:c}=i||{};if(s==="x"||s==="y"){let u,d,f,g;s==="x"?(u=a,d=r.top,f=c,g=r.bottom):(u=r.left,d=a,f=r.right,g=c),n.beginPath(),e&&(u=Math.max(u,e.left),f=Math.min(f,e.right),d=Math.max(d,e.top),g=Math.min(g,e.bottom)),n.rect(u,d,f-u,g-d),n.clip()}}function eI(n,t,e,i){const r=t.interpolate(e,i);r&&n.lineTo(r.x,r.y)}var WY={id:"filler",afterDatasetsUpdate(n,t,e){const i=(n.data.datasets||[]).length,r=[];let s,a,c,u;for(a=0;a<i;++a)s=n.getDatasetMeta(a),c=s.dataset,u=null,c&&c.options&&c instanceof jl&&(u={visible:n.isDatasetVisible(a),index:a,fill:OY(c,a,i),chart:n,axis:s.controller.options.indexAxis,scale:s.vScale,line:c}),s.$filler=u,r.push(u);for(a=0;a<i;++a)u=r[a],!(!u||u.fill===!1)&&(u.fill=MY(r,a,e.propagate))},beforeDraw(n,t,e){const i=e.drawTime==="beforeDraw",r=n.getSortedVisibleDatasetMetas(),s=n.chartArea;for(let a=r.length-1;a>=0;--a){const c=r[a].$filler;c&&(c.line.updateControlPoints(s,c.axis),i&&c.fill&&TT(n.ctx,c,s))}},beforeDatasetsDraw(n,t,e){if(e.drawTime!=="beforeDatasetsDraw")return;const i=n.getSortedVisibleDatasetMetas();for(let r=i.length-1;r>=0;--r){const s=i[r].$filler;Z2(s)&&TT(n.ctx,s,n.chartArea)}},beforeDatasetDraw(n,t,e){const i=t.meta.$filler;!Z2(i)||e.drawTime!=="beforeDatasetDraw"||TT(n.ctx,i,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const nI=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=n.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}},KY=(n,t)=>n!==null&&t!==null&&n.datasetIndex===t.datasetIndex&&n.index===t.index;class iI extends uo{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=Dn(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,r)=>t.sort(i,r,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,r=Li(i.font),s=r.size,a=this._computeTitleHeight(),{boxWidth:c,itemHeight:u}=nI(i,s);let d,f;e.font=r.string,this.isHorizontal()?(d=this.maxWidth,f=this._fitRows(a,s,c,u)+10):(f=this.maxHeight,d=this._fitCols(a,r,c,u)+10),this.width=Math.min(d,t.maxWidth||this.maxWidth),this.height=Math.min(f,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,r){const{ctx:s,maxWidth:a,options:{labels:{padding:c}}}=this,u=this.legendHitBoxes=[],d=this.lineWidths=[0],f=r+c;let g=t;s.textAlign="left",s.textBaseline="middle";let y=-1,v=-f;return this.legendItems.forEach((E,x)=>{const S=i+e/2+s.measureText(E.text).width;(x===0||d[d.length-1]+S+2*c>a)&&(g+=f,d[d.length-(x>0?0:1)]=0,v+=f,y++),u[x]={left:0,top:v,row:y,width:S,height:r},d[d.length-1]+=S+c}),g}_fitCols(t,e,i,r){const{ctx:s,maxHeight:a,options:{labels:{padding:c}}}=this,u=this.legendHitBoxes=[],d=this.columnSizes=[],f=a-t;let g=c,y=0,v=0,E=0,x=0;return this.legendItems.forEach((S,R)=>{const{itemWidth:C,itemHeight:P}=XY(i,e,s,S,r);R>0&&v+P+2*c>f&&(g+=y+c,d.push({width:y,height:v}),E+=y+c,x++,y=v=0),u[R]={left:E,top:v,col:x,width:C,height:P},y=Math.max(y,C),v+=P+c}),g+=y,d.push({width:y,height:v}),g}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:r},rtl:s}}=this,a=td(s,this.left,this.width);if(this.isHorizontal()){let c=0,u=Sr(i,this.left+r,this.right-this.lineWidths[c]);for(const d of e)c!==d.row&&(c=d.row,u=Sr(i,this.left+r,this.right-this.lineWidths[c])),d.top+=this.top+t+r,d.left=a.leftForLtr(a.x(u),d.width),u+=d.width+r}else{let c=0,u=Sr(i,this.top+t+r,this.bottom-this.columnSizes[c].height);for(const d of e)d.col!==c&&(c=d.col,u=Sr(i,this.top+t+r,this.bottom-this.columnSizes[c].height)),d.top=u,d.left+=this.left+r,d.left=a.leftForLtr(a.x(d.left),d.width),u+=d.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;I_(t,this),this._draw(),M_(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:r}=this,{align:s,labels:a}=t,c=Hn.color,u=td(t.rtl,this.left,this.width),d=Li(a.font),{padding:f}=a,g=d.size,y=g/2;let v;this.drawTitle(),r.textAlign=u.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=d.string;const{boxWidth:E,boxHeight:x,itemHeight:S}=nI(a,g),R=function(j,O,D){if(isNaN(E)||E<=0||isNaN(x)||x<0)return;r.save();const k=ye(D.lineWidth,1);if(r.fillStyle=ye(D.fillStyle,c),r.lineCap=ye(D.lineCap,"butt"),r.lineDashOffset=ye(D.lineDashOffset,0),r.lineJoin=ye(D.lineJoin,"miter"),r.lineWidth=k,r.strokeStyle=ye(D.strokeStyle,c),r.setLineDash(ye(D.lineDash,[])),a.usePointStyle){const V={radius:x*Math.SQRT2/2,pointStyle:D.pointStyle,rotation:D.rotation,borderWidth:k},B=u.xPlus(j,E/2),$=O+y;cP(r,V,B,$,a.pointStyleWidth&&E)}else{const V=O+Math.max((g-x)/2,0),B=u.leftForLtr(j,E),$=vu(D.borderRadius);r.beginPath(),Object.values($).some(z=>z!==0)?Gm(r,{x:B,y:V,w:E,h:x,radius:$}):r.rect(B,V,E,x),r.fill(),k!==0&&r.stroke()}r.restore()},C=function(j,O,D){Nu(r,D.text,j,O+S/2,d,{strikethrough:D.hidden,textAlign:u.textAlign(D.textAlign)})},P=this.isHorizontal(),L=this._computeTitleHeight();P?v={x:Sr(s,this.left+f,this.right-i[0]),y:this.top+f+L,line:0}:v={x:this.left+f,y:Sr(s,this.top+L+f,this.bottom-e[0].height),line:0},yP(this.ctx,t.textDirection);const N=S+f;this.legendItems.forEach((j,O)=>{r.strokeStyle=j.fontColor,r.fillStyle=j.fontColor;const D=r.measureText(j.text).width,k=u.textAlign(j.textAlign||(j.textAlign=a.textAlign)),V=E+y+D;let B=v.x,$=v.y;u.setWidth(this.width),P?O>0&&B+V+f>this.right&&($=v.y+=N,v.line++,B=v.x=Sr(s,this.left+f,this.right-i[v.line])):O>0&&$+N>this.bottom&&(B=v.x=B+e[v.line].width+f,v.line++,$=v.y=Sr(s,this.top+L+f,this.bottom-e[v.line].height));const z=u.x(B);if(R(z,$,j),B=p$(k,B+E+y,P?B+V:this.right,t.rtl),C(u.x(B),$,j),P)v.x+=V+f;else if(typeof j.text!="string"){const bt=d.lineHeight;v.y+=$P(j,bt)+f}else v.y+=N}),_P(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=Li(e.font),r=kr(e.padding);if(!e.display)return;const s=td(t.rtl,this.left,this.width),a=this.ctx,c=e.position,u=i.size/2,d=r.top+u;let f,g=this.left,y=this.width;if(this.isHorizontal())y=Math.max(...this.lineWidths),f=this.top+d,g=Sr(t.align,g,this.right-y);else{const E=this.columnSizes.reduce((x,S)=>Math.max(x,S.height),0);f=d+Sr(t.align,this.top,this.bottom-E-t.labels.padding-this._computeTitleHeight())}const v=Sr(c,g,g+y);a.textAlign=s.textAlign(O1(c)),a.textBaseline="middle",a.strokeStyle=e.color,a.fillStyle=e.color,a.font=i.string,Nu(a,e.text,v,f,i)}_computeTitleHeight(){const t=this.options.title,e=Li(t.font),i=kr(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,r,s;if(Va(t,this.left,this.right)&&Va(e,this.top,this.bottom)){for(s=this.legendHitBoxes,i=0;i<s.length;++i)if(r=s[i],Va(t,r.left,r.left+r.width)&&Va(e,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(t){const e=this.options;if(!JY(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const r=this._hoveredItem,s=KY(r,i);r&&!s&&Dn(e.onLeave,[t,r,this],this),this._hoveredItem=i,i&&!s&&Dn(e.onHover,[t,i,this],this)}else i&&Dn(e.onClick,[t,i,this],this)}}function XY(n,t,e,i,r){const s=QY(i,n,t,e),a=ZY(r,i,t.lineHeight);return{itemWidth:s,itemHeight:a}}function QY(n,t,e,i){let r=n.text;return r&&typeof r!="string"&&(r=r.reduce((s,a)=>s.length>a.length?s:a)),t+e.size/2+i.measureText(r).width}function ZY(n,t,e){let i=n;return typeof t.text!="string"&&(i=$P(t,e)),i}function $P(n,t){const e=n.text?n.text.length:0;return t*e}function JY(n,t){return!!((n==="mousemove"||n==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(n==="click"||n==="mouseup"))}var tG={id:"legend",_element:iI,start(n,t,e){const i=n.legend=new iI({ctx:n.ctx,options:e,chart:n});Ir.configure(n,i,e),Ir.addBox(n,i)},stop(n){Ir.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const i=n.legend;Ir.configure(n,i,e),i.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const i=t.datasetIndex,r=e.chart;r.isDatasetVisible(i)?(r.hide(i),t.hidden=!0):(r.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:r,color:s,useBorderRadius:a,borderRadius:c}}=n.legend.options;return n._getSortedDatasetMetas().map(u=>{const d=u.controller.getStyle(e?0:void 0),f=kr(d.borderWidth);return{text:t[u.index].label,fillStyle:d.backgroundColor,fontColor:s,hidden:!u.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(f.width+f.height)/4,strokeStyle:d.borderColor,pointStyle:i||d.pointStyle,rotation:d.rotation,textAlign:r||d.textAlign,borderRadius:a&&(c||d.borderRadius),datasetIndex:u.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class j1 extends uo{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;const r=$n(i.text)?i.text.length:1;this._padding=kr(i.padding);const s=r*Li(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:e,left:i,bottom:r,right:s,options:a}=this,c=a.align;let u=0,d,f,g;return this.isHorizontal()?(f=Sr(c,i,s),g=e+t,d=s-i):(a.position==="left"?(f=i+t,g=Sr(c,r,e),u=Un*-.5):(f=s-t,g=Sr(c,e,r),u=Un*.5),d=r-e),{titleX:f,titleY:g,maxWidth:d,rotation:u}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const i=Li(e.font),s=i.lineHeight/2+this._padding.top,{titleX:a,titleY:c,maxWidth:u,rotation:d}=this._drawArgs(s);Nu(t,e.text,0,0,i,{color:e.color,maxWidth:u,rotation:d,textAlign:O1(e.align),textBaseline:"middle",translation:[a,c]})}}function eG(n,t){const e=new j1({ctx:n.ctx,options:t,chart:n});Ir.configure(n,e,t),Ir.addBox(n,e),n.titleBlock=e}var nG={id:"title",_element:j1,start(n,t,e){eG(n,e)},stop(n){const t=n.titleBlock;Ir.removeBox(n,t),delete n.titleBlock},beforeUpdate(n,t,e){const i=n.titleBlock;Ir.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const fy=new WeakMap;var iG={id:"subtitle",start(n,t,e){const i=new j1({ctx:n.ctx,options:e,chart:n});Ir.configure(n,i,e),Ir.addBox(n,i),fy.set(n,i)},stop(n){Ir.removeBox(n,fy.get(n)),fy.delete(n)},beforeUpdate(n,t,e){const i=fy.get(n);Ir.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const lm={average(n){if(!n.length)return!1;let t,e,i=new Set,r=0,s=0;for(t=0,e=n.length;t<e;++t){const c=n[t].element;if(c&&c.hasValue()){const u=c.tooltipPosition();i.add(u.x),r+=u.y,++s}}return s===0||i.size===0?!1:{x:[...i].reduce((c,u)=>c+u)/i.size,y:r/s}},nearest(n,t){if(!n.length)return!1;let e=t.x,i=t.y,r=Number.POSITIVE_INFINITY,s,a,c;for(s=0,a=n.length;s<a;++s){const u=n[s].element;if(u&&u.hasValue()){const d=u.getCenterPoint(),f=vw(t,d);f<r&&(r=f,c=u)}}if(c){const u=c.tooltipPosition();e=u.x,i=u.y}return{x:e,y:i}}};function No(n,t){return t&&($n(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function Da(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function rG(n,t){const{element:e,datasetIndex:i,index:r}=t,s=n.getDatasetMeta(i).controller,{label:a,value:c}=s.getLabelAndValue(r);return{chart:n,label:a,parsed:s.getParsed(r),raw:n.data.datasets[i].data[r],formattedValue:c,dataset:s.getDataset(),dataIndex:r,datasetIndex:i,element:e}}function rI(n,t){const e=n.chart.ctx,{body:i,footer:r,title:s}=n,{boxWidth:a,boxHeight:c}=t,u=Li(t.bodyFont),d=Li(t.titleFont),f=Li(t.footerFont),g=s.length,y=r.length,v=i.length,E=kr(t.padding);let x=E.height,S=0,R=i.reduce((L,N)=>L+N.before.length+N.lines.length+N.after.length,0);if(R+=n.beforeBody.length+n.afterBody.length,g&&(x+=g*d.lineHeight+(g-1)*t.titleSpacing+t.titleMarginBottom),R){const L=t.displayColors?Math.max(c,u.lineHeight):u.lineHeight;x+=v*L+(R-v)*u.lineHeight+(R-1)*t.bodySpacing}y&&(x+=t.footerMarginTop+y*f.lineHeight+(y-1)*t.footerSpacing);let C=0;const P=function(L){S=Math.max(S,e.measureText(L).width+C)};return e.save(),e.font=d.string,an(n.title,P),e.font=u.string,an(n.beforeBody.concat(n.afterBody),P),C=t.displayColors?a+2+t.boxPadding:0,an(i,L=>{an(L.before,P),an(L.lines,P),an(L.after,P)}),C=0,e.font=f.string,an(n.footer,P),e.restore(),S+=E.width,{width:S,height:x}}function sG(n,t){const{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}function oG(n,t,e,i){const{x:r,width:s}=i,a=e.caretSize+e.caretPadding;if(n==="left"&&r+s+a>t.width||n==="right"&&r-s-a<0)return!0}function aG(n,t,e,i){const{x:r,width:s}=e,{width:a,chartArea:{left:c,right:u}}=n;let d="center";return i==="center"?d=r<=(c+u)/2?"left":"right":r<=s/2?d="left":r>=a-s/2&&(d="right"),oG(d,n,t,e)&&(d="center"),d}function sI(n,t,e){const i=e.yAlign||t.yAlign||sG(n,e);return{xAlign:e.xAlign||t.xAlign||aG(n,t,e,i),yAlign:i}}function lG(n,t){let{x:e,width:i}=n;return t==="right"?e-=i:t==="center"&&(e-=i/2),e}function cG(n,t,e){let{y:i,height:r}=n;return t==="top"?i+=e:t==="bottom"?i-=r+e:i-=r/2,i}function oI(n,t,e,i){const{caretSize:r,caretPadding:s,cornerRadius:a}=n,{xAlign:c,yAlign:u}=e,d=r+s,{topLeft:f,topRight:g,bottomLeft:y,bottomRight:v}=vu(a);let E=lG(t,c);const x=cG(t,u,d);return u==="center"?c==="left"?E+=d:c==="right"&&(E-=d):c==="left"?E-=Math.max(f,y)+r:c==="right"&&(E+=Math.max(g,v)+r),{x:Xi(E,0,i.width-t.width),y:Xi(x,0,i.height-t.height)}}function my(n,t,e){const i=kr(e.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-i.right:n.x+i.left}function aI(n){return No([],Da(n))}function uG(n,t,e){return vc(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}function lI(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const HP={beforeTitle:Ra,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:Ra,beforeBody:Ra,beforeLabel:Ra,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return De(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:Ra,afterBody:Ra,beforeFooter:Ra,footer:Ra,afterFooter:Ra};function Qr(n,t,e,i){const r=n[t].call(e,i);return typeof r>"u"?HP[t].call(e,i):r}class Cw extends uo{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&e.options.animation&&i.animations,s=new EP(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=uG(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:i}=e,r=Qr(i,"beforeTitle",this,t),s=Qr(i,"title",this,t),a=Qr(i,"afterTitle",this,t);let c=[];return c=No(c,Da(r)),c=No(c,Da(s)),c=No(c,Da(a)),c}getBeforeBody(t,e){return aI(Qr(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:i}=e,r=[];return an(t,s=>{const a={before:[],lines:[],after:[]},c=lI(i,s);No(a.before,Da(Qr(c,"beforeLabel",this,s))),No(a.lines,Qr(c,"label",this,s)),No(a.after,Da(Qr(c,"afterLabel",this,s))),r.push(a)}),r}getAfterBody(t,e){return aI(Qr(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:i}=e,r=Qr(i,"beforeFooter",this,t),s=Qr(i,"footer",this,t),a=Qr(i,"afterFooter",this,t);let c=[];return c=No(c,Da(r)),c=No(c,Da(s)),c=No(c,Da(a)),c}_createItems(t){const e=this._active,i=this.chart.data,r=[],s=[],a=[];let c=[],u,d;for(u=0,d=e.length;u<d;++u)c.push(rG(this.chart,e[u]));return t.filter&&(c=c.filter((f,g,y)=>t.filter(f,g,y,i))),t.itemSort&&(c=c.sort((f,g)=>t.itemSort(f,g,i))),an(c,f=>{const g=lI(t.callbacks,f);r.push(Qr(g,"labelColor",this,f)),s.push(Qr(g,"labelPointStyle",this,f)),a.push(Qr(g,"labelTextColor",this,f))}),this.labelColors=r,this.labelPointStyles=s,this.labelTextColors=a,this.dataPoints=c,c}update(t,e){const i=this.options.setContext(this.getContext()),r=this._active;let s,a=[];if(!r.length)this.opacity!==0&&(s={opacity:0});else{const c=lm[i.position].call(this,r,this._eventPosition);a=this._createItems(i),this.title=this.getTitle(a,i),this.beforeBody=this.getBeforeBody(a,i),this.body=this.getBody(a,i),this.afterBody=this.getAfterBody(a,i),this.footer=this.getFooter(a,i);const u=this._size=rI(this,i),d=Object.assign({},c,u),f=sI(this.chart,i,d),g=oI(i,d,f,this.chart);this.xAlign=f.xAlign,this.yAlign=f.yAlign,s={opacity:1,x:g.x,y:g.y,width:u.width,height:u.height,caretX:c.x,caretY:c.y}}this._tooltipItems=a,this.$context=void 0,s&&this._resolveAnimations().update(this,s),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,r){const s=this.getCaretPosition(t,i,r);e.lineTo(s.x1,s.y1),e.lineTo(s.x2,s.y2),e.lineTo(s.x3,s.y3)}getCaretPosition(t,e,i){const{xAlign:r,yAlign:s}=this,{caretSize:a,cornerRadius:c}=i,{topLeft:u,topRight:d,bottomLeft:f,bottomRight:g}=vu(c),{x:y,y:v}=t,{width:E,height:x}=e;let S,R,C,P,L,N;return s==="center"?(L=v+x/2,r==="left"?(S=y,R=S-a,P=L+a,N=L-a):(S=y+E,R=S+a,P=L-a,N=L+a),C=S):(r==="left"?R=y+Math.max(u,f)+a:r==="right"?R=y+E-Math.max(d,g)-a:R=this.caretX,s==="top"?(P=v,L=P-a,S=R-a,C=R+a):(P=v+x,L=P+a,S=R+a,C=R-a),N=P),{x1:S,x2:R,x3:C,y1:P,y2:L,y3:N}}drawTitle(t,e,i){const r=this.title,s=r.length;let a,c,u;if(s){const d=td(i.rtl,this.x,this.width);for(t.x=my(this,i.titleAlign,i),e.textAlign=d.textAlign(i.titleAlign),e.textBaseline="middle",a=Li(i.titleFont),c=i.titleSpacing,e.fillStyle=i.titleColor,e.font=a.string,u=0;u<s;++u)e.fillText(r[u],d.x(t.x),t.y+a.lineHeight/2),t.y+=a.lineHeight+c,u+1===s&&(t.y+=i.titleMarginBottom-c)}}_drawColorBox(t,e,i,r,s){const a=this.labelColors[i],c=this.labelPointStyles[i],{boxHeight:u,boxWidth:d}=s,f=Li(s.bodyFont),g=my(this,"left",s),y=r.x(g),v=u<f.lineHeight?(f.lineHeight-u)/2:0,E=e.y+v;if(s.usePointStyle){const x={radius:Math.min(d,u)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},S=r.leftForLtr(y,d)+d/2,R=E+u/2;t.strokeStyle=s.multiKeyBackground,t.fillStyle=s.multiKeyBackground,Tw(t,x,S,R),t.strokeStyle=a.borderColor,t.fillStyle=a.backgroundColor,Tw(t,x,S,R)}else{t.lineWidth=Ne(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,t.strokeStyle=a.borderColor,t.setLineDash(a.borderDash||[]),t.lineDashOffset=a.borderDashOffset||0;const x=r.leftForLtr(y,d),S=r.leftForLtr(r.xPlus(y,1),d-2),R=vu(a.borderRadius);Object.values(R).some(C=>C!==0)?(t.beginPath(),t.fillStyle=s.multiKeyBackground,Gm(t,{x,y:E,w:d,h:u,radius:R}),t.fill(),t.stroke(),t.fillStyle=a.backgroundColor,t.beginPath(),Gm(t,{x:S,y:E+1,w:d-2,h:u-2,radius:R}),t.fill()):(t.fillStyle=s.multiKeyBackground,t.fillRect(x,E,d,u),t.strokeRect(x,E,d,u),t.fillStyle=a.backgroundColor,t.fillRect(S,E+1,d-2,u-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){const{body:r}=this,{bodySpacing:s,bodyAlign:a,displayColors:c,boxHeight:u,boxWidth:d,boxPadding:f}=i,g=Li(i.bodyFont);let y=g.lineHeight,v=0;const E=td(i.rtl,this.x,this.width),x=function(D){e.fillText(D,E.x(t.x+v),t.y+y/2),t.y+=y+s},S=E.textAlign(a);let R,C,P,L,N,j,O;for(e.textAlign=a,e.textBaseline="middle",e.font=g.string,t.x=my(this,S,i),e.fillStyle=i.bodyColor,an(this.beforeBody,x),v=c&&S!=="right"?a==="center"?d/2+f:d+2+f:0,L=0,j=r.length;L<j;++L){for(R=r[L],C=this.labelTextColors[L],e.fillStyle=C,an(R.before,x),P=R.lines,c&&P.length&&(this._drawColorBox(e,t,L,E,i),y=Math.max(g.lineHeight,u)),N=0,O=P.length;N<O;++N)x(P[N]),y=g.lineHeight;an(R.after,x)}v=0,y=g.lineHeight,an(this.afterBody,x),t.y-=s}drawFooter(t,e,i){const r=this.footer,s=r.length;let a,c;if(s){const u=td(i.rtl,this.x,this.width);for(t.x=my(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=u.textAlign(i.footerAlign),e.textBaseline="middle",a=Li(i.footerFont),e.fillStyle=i.footerColor,e.font=a.string,c=0;c<s;++c)e.fillText(r[c],u.x(t.x),t.y+a.lineHeight/2),t.y+=a.lineHeight+i.footerSpacing}}drawBackground(t,e,i,r){const{xAlign:s,yAlign:a}=this,{x:c,y:u}=t,{width:d,height:f}=i,{topLeft:g,topRight:y,bottomLeft:v,bottomRight:E}=vu(r.cornerRadius);e.fillStyle=r.backgroundColor,e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.beginPath(),e.moveTo(c+g,u),a==="top"&&this.drawCaret(t,e,i,r),e.lineTo(c+d-y,u),e.quadraticCurveTo(c+d,u,c+d,u+y),a==="center"&&s==="right"&&this.drawCaret(t,e,i,r),e.lineTo(c+d,u+f-E),e.quadraticCurveTo(c+d,u+f,c+d-E,u+f),a==="bottom"&&this.drawCaret(t,e,i,r),e.lineTo(c+v,u+f),e.quadraticCurveTo(c,u+f,c,u+f-v),a==="center"&&s==="left"&&this.drawCaret(t,e,i,r),e.lineTo(c,u+g),e.quadraticCurveTo(c,u,c+g,u),e.closePath(),e.fill(),r.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,i=this.$animations,r=i&&i.x,s=i&&i.y;if(r||s){const a=lm[t.position].call(this,this._active,this._eventPosition);if(!a)return;const c=this._size=rI(this,t),u=Object.assign({},a,this._size),d=sI(e,t,u),f=oI(t,u,d,e);(r._to!==f.x||s._to!==f.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=c.width,this.height=c.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,f))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(e);const r={width:this.width,height:this.height},s={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const a=kr(e.padding),c=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&c&&(t.save(),t.globalAlpha=i,this.drawBackground(s,t,r,e),yP(t,e.textDirection),s.y+=a.top,this.drawTitle(s,t,e),this.drawBody(s,t,e),this.drawFooter(s,t,e),_P(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const i=this._active,r=t.map(({datasetIndex:c,index:u})=>{const d=this.chart.getDatasetMeta(c);if(!d)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:d.data[u],index:u}}),s=!M0(i,r),a=this._positionChanged(r,e);(s||a)&&(this._active=r,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,s=this._active||[],a=this._getActiveElements(t,s,e,i),c=this._positionChanged(a,t),u=e||!M0(a,s)||c;return u&&(this._active=a,(r.enabled||r.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),u}_getActiveElements(t,e,i,r){const s=this.options;if(t.type==="mouseout")return[];if(!r)return e.filter(c=>this.chart.data.datasets[c.datasetIndex]&&this.chart.getDatasetMeta(c.datasetIndex).controller.getParsed(c.index)!==void 0);const a=this.chart.getElementsAtEventForMode(t,s.mode,s,i);return s.reverse&&a.reverse(),a}_positionChanged(t,e){const{caretX:i,caretY:r,options:s}=this,a=lm[s.position].call(this,t,e);return a!==!1&&(i!==a.x||r!==a.y)}}Et(Cw,"positioners",lm);var hG={id:"tooltip",_element:Cw,positioners:lm,afterInit(n,t,e){e&&(n.tooltip=new Cw({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){if(n.tooltip){const e=t.replay;n.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:HP},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},dG=Object.freeze({__proto__:null,Colors:xY,Decimation:CY,Filler:WY,Legend:tG,SubTitle:iG,Title:nG,Tooltip:hG});const fG=(n,t,e,i)=>(typeof t=="string"?(e=n.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function mG(n,t,e,i){const r=n.indexOf(t);if(r===-1)return fG(n,t,e,i);const s=n.lastIndexOf(t);return r!==s?e:r}const gG=(n,t)=>n===null?null:Xi(Math.round(n),0,t);function cI(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}class Dw extends Fu{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const i=this.getLabels();for(const{index:r,label:s}of e)i[r]===s&&i.splice(r,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(De(t))return null;const i=this.getLabels();return e=isFinite(e)&&i[e]===t?e:mG(i,t,ye(e,t),this._addedLabels),gG(e,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),e||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const t=this.min,e=this.max,i=this.options.offset,r=[];let s=this.getLabels();s=t===0&&e===s.length-1?s:s.slice(t,e+1),this._valueRange=Math.max(s.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let a=t;a<=e;a++)r.push({value:a});return r}getLabelForValue(t){return cI.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}Et(Dw,"id","category"),Et(Dw,"defaults",{ticks:{callback:cI}});function pG(n,t){const e=[],{bounds:r,step:s,min:a,max:c,precision:u,count:d,maxTicks:f,maxDigits:g,includeBounds:y}=n,v=s||1,E=f-1,{min:x,max:S}=t,R=!De(a),C=!De(c),P=!De(d),L=(S-x)/(g+1);let N=r2((S-x)/E/v)*v,j,O,D,k;if(N<1e-14&&!R&&!C)return[{value:x},{value:S}];k=Math.ceil(S/N)-Math.floor(x/N),k>E&&(N=r2(k*N/E/v)*v),De(u)||(j=Math.pow(10,u),N=Math.ceil(N*j)/j),r==="ticks"?(O=Math.floor(x/N)*N,D=Math.ceil(S/N)*N):(O=x,D=S),R&&C&&s&&c$((c-a)/s,N/1e3)?(k=Math.round(Math.min((c-a)/N,f)),N=(c-a)/k,O=a,D=c):P?(O=R?a:O,D=C?c:D,k=d-1,N=(D-O)/k):(k=(D-O)/N,vm(k,Math.round(k),N/1e3)?k=Math.round(k):k=Math.ceil(k));const V=Math.max(s2(N),s2(O));j=Math.pow(10,De(u)?V:u),O=Math.round(O*j)/j,D=Math.round(D*j)/j;let B=0;for(R&&(y&&O!==a?(e.push({value:a}),O<a&&B++,vm(Math.round((O+B*N)*j)/j,a,uI(a,L,n))&&B++):O<a&&B++);B<k;++B){const $=Math.round((O+B*N)*j)/j;if(C&&$>c)break;e.push({value:$})}return C&&y&&D!==c?e.length&&vm(e[e.length-1].value,c,uI(c,L,n))?e[e.length-1].value=c:e.push({value:c}):(!C||D===c)&&e.push({value:D}),e}function uI(n,t,{horizontal:e,minRotation:i}){const r=ro(i),s=(e?Math.sin(r):Math.cos(r))||.001,a=.75*t*(""+n).length;return Math.min(t/s,a)}class U0 extends Fu{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return De(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:r,max:s}=this;const a=u=>r=e?r:u,c=u=>s=i?s:u;if(t){const u=Wo(r),d=Wo(s);u<0&&d<0?c(0):u>0&&d>0&&a(0)}if(r===s){let u=s===0?1:Math.abs(s*.05);c(s+u),t||a(r-u)}this.min=r,this.max=s}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:i}=t,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),e=e||11),e&&(r=Math.min(e,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},s=this._range||this,a=pG(r,s);return t.bounds==="ticks"&&tP(a,this,"value"),t.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const r=(i-e)/Math.max(t.length-1,1)/2;e-=r,i+=r}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return Dg(t,this.chart.options.locale,this.options.ticks.format)}}class Iw extends U0{determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=ai(t)?t:0,this.max=ai(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=ro(this.options.ticks.minRotation),r=(t?Math.sin(i):Math.cos(i))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,s.lineHeight/r))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}Et(Iw,"id","linear"),Et(Iw,"defaults",{ticks:{callback:D_.formatters.numeric}});const Km=n=>Math.floor(Bl(n)),eu=(n,t)=>Math.pow(10,Km(n)+t);function hI(n){return n/Math.pow(10,Km(n))===1}function dI(n,t,e){const i=Math.pow(10,e),r=Math.floor(n/i);return Math.ceil(t/i)-r}function yG(n,t){const e=t-n;let i=Km(e);for(;dI(n,t,i)>10;)i++;for(;dI(n,t,i)<10;)i--;return Math.min(i,Km(n))}function _G(n,{min:t,max:e}){t=ms(n.min,t);const i=[],r=Km(t);let s=yG(t,e),a=s<0?Math.pow(10,Math.abs(s)):1;const c=Math.pow(10,s),u=r>s?Math.pow(10,r):0,d=Math.round((t-u)*a)/a,f=Math.floor((t-u)/c/10)*c*10;let g=Math.floor((d-f)/Math.pow(10,s)),y=ms(n.min,Math.round((u+f+g*Math.pow(10,s))*a)/a);for(;y<e;)i.push({value:y,major:hI(y),significand:g}),g>=10?g=g<15?15:20:g++,g>=20&&(s++,g=2,a=s>=0?1:a),y=Math.round((u+f+g*Math.pow(10,s))*a)/a;const v=ms(n.max,y);return i.push({value:v,major:hI(v),significand:g}),i}class Mw extends Fu{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){const i=U0.prototype.parse.apply(this,[t,e]);if(i===0){this._zero=!0;return}return ai(i)&&i>0?i:null}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=ai(t)?Math.max(0,t):null,this.max=ai(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!ai(this._userMin)&&(this.min=t===eu(this.min,0)?eu(this.min,-1):eu(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let i=this.min,r=this.max;const s=c=>i=t?i:c,a=c=>r=e?r:c;i===r&&(i<=0?(s(1),a(10)):(s(eu(i,-1)),a(eu(r,1)))),i<=0&&s(eu(r,-1)),r<=0&&a(eu(i,1)),this.min=i,this.max=r}buildTicks(){const t=this.options,e={min:this._userMin,max:this._userMax},i=_G(e,this);return t.bounds==="ticks"&&tP(i,this,"value"),t.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(t){return t===void 0?"0":Dg(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=Bl(t),this._valueRange=Bl(this.max)-Bl(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(Bl(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}}Et(Mw,"id","logarithmic"),Et(Mw,"defaults",{ticks:{callback:D_.formatters.logarithmic,major:{enabled:!0}}});function Ow(n){const t=n.ticks;if(t.display&&n.display){const e=kr(t.backdropPadding);return ye(t.font&&t.font.size,Hn.font.size)+e.height}return 0}function vG(n,t,e){return e=$n(e)?e:[e],{w:A$(n,t.string,e),h:e.length*t.lineHeight}}function fI(n,t,e,i,r){return n===i||n===r?{start:t-e/2,end:t+e/2}:n<i||n>r?{start:t-e,end:t}:{start:t,end:t+e}}function bG(n){const t={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},e=Object.assign({},t),i=[],r=[],s=n._pointLabels.length,a=n.options.pointLabels,c=a.centerPointLabels?Un/s:0;for(let u=0;u<s;u++){const d=a.setContext(n.getPointLabelContext(u));r[u]=d.padding;const f=n.getPointPosition(u,n.drawingArea+r[u],c),g=Li(d.font),y=vG(n.ctx,g,n._pointLabels[u]);i[u]=y;const v=ys(n.getIndexAngle(u)+c),E=Math.round(I1(v)),x=fI(E,f.x,y.w,0,180),S=fI(E,f.y,y.h,90,270);TG(e,t,v,x,S)}n.setCenterPoint(t.l-e.l,e.r-t.r,t.t-e.t,e.b-t.b),n._pointLabelItems=xG(n,i,r)}function TG(n,t,e,i,r){const s=Math.abs(Math.sin(e)),a=Math.abs(Math.cos(e));let c=0,u=0;i.start<t.l?(c=(t.l-i.start)/s,n.l=Math.min(n.l,t.l-c)):i.end>t.r&&(c=(i.end-t.r)/s,n.r=Math.max(n.r,t.r+c)),r.start<t.t?(u=(t.t-r.start)/a,n.t=Math.min(n.t,t.t-u)):r.end>t.b&&(u=(r.end-t.b)/a,n.b=Math.max(n.b,t.b+u))}function wG(n,t,e){const i=n.drawingArea,{extra:r,additionalAngle:s,padding:a,size:c}=e,u=n.getPointPosition(t,i+r+a,s),d=Math.round(I1(ys(u.angle+pi))),f=RG(u.y,c.h,d),g=SG(d),y=AG(u.x,c.w,g);return{visible:!0,x:u.x,y:f,textAlign:g,left:y,top:f,right:y+c.w,bottom:f+c.h}}function EG(n,t){if(!t)return!0;const{left:e,top:i,right:r,bottom:s}=n;return!(za({x:e,y:i},t)||za({x:e,y:s},t)||za({x:r,y:i},t)||za({x:r,y:s},t))}function xG(n,t,e){const i=[],r=n._pointLabels.length,s=n.options,{centerPointLabels:a,display:c}=s.pointLabels,u={extra:Ow(s)/2,additionalAngle:a?Un/r:0};let d;for(let f=0;f<r;f++){u.padding=e[f],u.size=t[f];const g=wG(n,f,u);i.push(g),c==="auto"&&(g.visible=EG(g,d),g.visible&&(d=g))}return i}function SG(n){return n===0||n===180?"center":n<180?"left":"right"}function AG(n,t,e){return e==="right"?n-=t:e==="center"&&(n-=t/2),n}function RG(n,t,e){return e===90||e===270?n-=t/2:(e>270||e<90)&&(n-=t),n}function CG(n,t,e){const{left:i,top:r,right:s,bottom:a}=e,{backdropColor:c}=t;if(!De(c)){const u=vu(t.borderRadius),d=kr(t.backdropPadding);n.fillStyle=c;const f=i-d.left,g=r-d.top,y=s-i+d.width,v=a-r+d.height;Object.values(u).some(E=>E!==0)?(n.beginPath(),Gm(n,{x:f,y:g,w:y,h:v,radius:u}),n.fill()):n.fillRect(f,g,y,v)}}function DG(n,t){const{ctx:e,options:{pointLabels:i}}=n;for(let r=t-1;r>=0;r--){const s=n._pointLabelItems[r];if(!s.visible)continue;const a=i.setContext(n.getPointLabelContext(r));CG(e,a,s);const c=Li(a.font),{x:u,y:d,textAlign:f}=s;Nu(e,n._pointLabels[r],u,d+c.lineHeight/2,c,{color:a.color,textAlign:f,textBaseline:"middle"})}}function qP(n,t,e,i){const{ctx:r}=n;if(e)r.arc(n.xCenter,n.yCenter,t,0,Vn);else{let s=n.getPointPosition(0,t);r.moveTo(s.x,s.y);for(let a=1;a<i;a++)s=n.getPointPosition(a,t),r.lineTo(s.x,s.y)}}function IG(n,t,e,i,r){const s=n.ctx,a=t.circular,{color:c,lineWidth:u}=t;!a&&!i||!c||!u||e<0||(s.save(),s.strokeStyle=c,s.lineWidth=u,s.setLineDash(r.dash||[]),s.lineDashOffset=r.dashOffset,s.beginPath(),qP(n,e,a,i),s.closePath(),s.stroke(),s.restore())}function MG(n,t,e){return vc(n,{label:e,index:t,type:"pointLabel"})}class cm extends U0{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=kr(Ow(this.options)/2),e=this.width=this.maxWidth-t.width,i=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+i/2+t.top),this.drawingArea=Math.floor(Math.min(e,i)/2)}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!1);this.min=ai(t)&&!isNaN(t)?t:0,this.max=ai(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Ow(this.options))}generateTickLabels(t){U0.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((e,i)=>{const r=Dn(this.options.pointLabels.callback,[e,i],this);return r||r===0?r:""}).filter((e,i)=>this.chart.getDataVisibility(i))}fit(){const t=this.options;t.display&&t.pointLabels.display?bG(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,i,r){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((i-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,i,r))}getIndexAngle(t){const e=Vn/(this._pointLabels.length||1),i=this.options.startAngle||0;return ys(t*e+ro(i))}getDistanceFromCenterForValue(t){if(De(t))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(De(t))return NaN;const e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){const e=this._pointLabels||[];if(t>=0&&t<e.length){const i=e[t];return MG(this.getContext(),t,i)}}getPointPosition(t,e,i=0){const r=this.getIndexAngle(t)-pi+i;return{x:Math.cos(r)*e+this.xCenter,y:Math.sin(r)*e+this.yCenter,angle:r}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:e,top:i,right:r,bottom:s}=this._pointLabelItems[t];return{left:e,top:i,right:r,bottom:s}}drawBackground(){const{backgroundColor:t,grid:{circular:e}}=this.options;if(t){const i=this.ctx;i.save(),i.beginPath(),qP(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),i.closePath(),i.fillStyle=t,i.fill(),i.restore()}}drawGrid(){const t=this.ctx,e=this.options,{angleLines:i,grid:r,border:s}=e,a=this._pointLabels.length;let c,u,d;if(e.pointLabels.display&&DG(this,a),r.display&&this.ticks.forEach((f,g)=>{if(g!==0||g===0&&this.min<0){u=this.getDistanceFromCenterForValue(f.value);const y=this.getContext(g),v=r.setContext(y),E=s.setContext(y);IG(this,v,u,a,E)}}),i.display){for(t.save(),c=a-1;c>=0;c--){const f=i.setContext(this.getPointLabelContext(c)),{color:g,lineWidth:y}=f;!y||!g||(t.lineWidth=y,t.strokeStyle=g,t.setLineDash(f.borderDash),t.lineDashOffset=f.borderDashOffset,u=this.getDistanceFromCenterForValue(e.reverse?this.min:this.max),d=this.getPointPosition(c,u),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(d.x,d.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,e=this.options,i=e.ticks;if(!i.display)return;const r=this.getIndexAngle(0);let s,a;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(r),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((c,u)=>{if(u===0&&this.min>=0&&!e.reverse)return;const d=i.setContext(this.getContext(u)),f=Li(d.font);if(s=this.getDistanceFromCenterForValue(this.ticks[u].value),d.showLabelBackdrop){t.font=f.string,a=t.measureText(c.label).width,t.fillStyle=d.backdropColor;const g=kr(d.backdropPadding);t.fillRect(-a/2-g.left,-s-f.size/2-g.top,a+g.width,f.size+g.height)}Nu(t,c.label,0,-s,f,{color:d.color,strokeColor:d.textStrokeColor,strokeWidth:d.textStrokeWidth})}),t.restore()}drawTitle(){}}Et(cm,"id","radialLinear"),Et(cm,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:D_.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}}),Et(cm,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),Et(cm,"descriptors",{angleLines:{_fallback:"grid"}});const N_={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},ns=Object.keys(N_);function mI(n,t){return n-t}function gI(n,t){if(De(t))return null;const e=n._adapter,{parser:i,round:r,isoWeekday:s}=n._parseOpts;let a=t;return typeof i=="function"&&(a=i(a)),ai(a)||(a=typeof i=="string"?e.parse(a,i):e.parse(a)),a===null?null:(r&&(a=r==="week"&&(Td(s)||s===!0)?e.startOf(a,"isoWeek",s):e.startOf(a,r)),+a)}function pI(n,t,e,i){const r=ns.length;for(let s=ns.indexOf(n);s<r-1;++s){const a=N_[ns[s]],c=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((e-t)/(c*a.size))<=i)return ns[s]}return ns[r-1]}function OG(n,t,e,i,r){for(let s=ns.length-1;s>=ns.indexOf(e);s--){const a=ns[s];if(N_[a].common&&n._adapter.diff(r,i,a)>=t-1)return a}return ns[e?ns.indexOf(e):0]}function kG(n){for(let t=ns.indexOf(n)+1,e=ns.length;t<e;++t)if(N_[ns[t]].common)return ns[t]}function yI(n,t,e){if(!e)n[t]=!0;else if(e.length){const{lo:i,hi:r}=M1(e,t),s=e[i]>=t?e[i]:e[r];n[s]=!0}}function NG(n,t,e,i){const r=n._adapter,s=+r.startOf(t[0].value,i),a=t[t.length-1].value;let c,u;for(c=s;c<=a;c=+r.add(c,1,i))u=e[c],u>=0&&(t[u].major=!0);return t}function _I(n,t,e){const i=[],r={},s=t.length;let a,c;for(a=0;a<s;++a)c=t[a],r[c]=a,i.push({value:c,major:!1});return s===0||!e?i:NG(n,i,r,e)}class Xm extends Fu{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const i=t.time||(t.time={}),r=this._adapter=new $H._date(t.adapters.date);r.init(e),_m(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:gI(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,i=t.time.unit||"day";let{min:r,max:s,minDefined:a,maxDefined:c}=this.getUserBounds();function u(d){!a&&!isNaN(d.min)&&(r=Math.min(r,d.min)),!c&&!isNaN(d.max)&&(s=Math.max(s,d.max))}(!a||!c)&&(u(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&u(this.getMinMax(!1))),r=ai(r)&&!isNaN(r)?r:+e.startOf(Date.now(),i),s=ai(s)&&!isNaN(s)?s:+e.endOf(Date.now(),i)+1,this.min=Math.min(r,s-1),this.max=Math.max(r+1,s)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){const t=this.options,e=t.time,i=t.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const s=this.min,a=this.max,c=f$(r,s,a);return this._unit=e.unit||(i.autoSkip?pI(e.minUnit,this.min,this.max,this._getLabelCapacity(s)):OG(this,c.length,e.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:kG(this._unit),this.initOffsets(r),t.reverse&&c.reverse(),_I(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,i=0,r,s;this.options.offset&&t.length&&(r=this.getDecimalForValue(t[0]),t.length===1?e=1-r:e=(this.getDecimalForValue(t[1])-r)/2,s=this.getDecimalForValue(t[t.length-1]),t.length===1?i=s:i=(s-this.getDecimalForValue(t[t.length-2]))/2);const a=t.length<3?.5:.25;e=Xi(e,0,a),i=Xi(i,0,a),this._offsets={start:e,end:i,factor:1/(e+1+i)}}_generate(){const t=this._adapter,e=this.min,i=this.max,r=this.options,s=r.time,a=s.unit||pI(s.minUnit,e,i,this._getLabelCapacity(e)),c=ye(r.ticks.stepSize,1),u=a==="week"?s.isoWeekday:!1,d=Td(u)||u===!0,f={};let g=e,y,v;if(d&&(g=+t.startOf(g,"isoWeek",u)),g=+t.startOf(g,d?"day":a),t.diff(i,e,a)>1e5*c)throw new Error(e+" and "+i+" are too far apart with stepSize of "+c+" "+a);const E=r.ticks.source==="data"&&this.getDataTimestamps();for(y=g,v=0;y<i;y=+t.add(y,c,a),v++)yI(f,y,E);return(y===i||r.bounds==="ticks"||v===1)&&yI(f,y,E),Object.keys(f).sort(mI).map(x=>+x)}getLabelForValue(t){const e=this._adapter,i=this.options.time;return i.tooltipFormat?e.format(t,i.tooltipFormat):e.format(t,i.displayFormats.datetime)}format(t,e){const r=this.options.time.displayFormats,s=this._unit,a=e||r[s];return this._adapter.format(t,a)}_tickFormatFunction(t,e,i,r){const s=this.options,a=s.ticks.callback;if(a)return Dn(a,[t,e,i],this);const c=s.time.displayFormats,u=this._unit,d=this._majorUnit,f=u&&c[u],g=d&&c[d],y=i[e],v=d&&g&&y&&y.major;return this._adapter.format(t,r||(v?g:f))}generateTickLabels(t){let e,i,r;for(e=0,i=t.length;e<i;++e)r=t[e],r.label=this._tickFormatFunction(r.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,i=this.ctx.measureText(t).width,r=ro(this.isHorizontal()?e.maxRotation:e.minRotation),s=Math.cos(r),a=Math.sin(r),c=this._resolveTickFontOptions(0).size;return{w:i*s+c*a,h:i*a+c*s}}_getLabelCapacity(t){const e=this.options.time,i=e.displayFormats,r=i[e.unit]||i.millisecond,s=this._tickFormatFunction(t,0,_I(this,[t],this._majorUnit),r),a=this._getLabelSize(s),c=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return c>0?c:1}getDataTimestamps(){let t=this._cache.data||[],e,i;if(t.length)return t;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(e=0,i=r.length;e<i;++e)t=t.concat(r[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,i;if(t.length)return t;const r=this.getLabels();for(e=0,i=r.length;e<i;++e)t.push(gI(this,r[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return iP(t.sort(mI))}}Et(Xm,"id","time"),Et(Xm,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function gy(n,t,e){let i=0,r=n.length-1,s,a,c,u;e?(t>=n[i].pos&&t<=n[r].pos&&({lo:i,hi:r}=Ua(n,"pos",t)),{pos:s,time:c}=n[i],{pos:a,time:u}=n[r]):(t>=n[i].time&&t<=n[r].time&&({lo:i,hi:r}=Ua(n,"time",t)),{time:s,pos:c}=n[i],{time:a,pos:u}=n[r]);const d=a-s;return d?c+(u-c)*(t-s)/d:c}class kw extends Xm{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=gy(e,this.min),this._tableRange=gy(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,r=[],s=[];let a,c,u,d,f;for(a=0,c=t.length;a<c;++a)d=t[a],d>=e&&d<=i&&r.push(d);if(r.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(a=0,c=r.length;a<c;++a)f=r[a+1],u=r[a-1],d=r[a],Math.round((f+u)/2)!==d&&s.push({time:d,pos:a/(c-1)});return s}_generate(){const t=this.min,e=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(e)||i.length===1)&&i.push(e),i.sort((r,s)=>r-s)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return e.length&&i.length?t=this.normalize(e.concat(i)):t=e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(gy(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return gy(this._table,i*this._tableRange+this._minPos,!0)}}Et(kw,"id","timeseries"),Et(kw,"defaults",Xm.defaults);var PG=Object.freeze({__proto__:null,CategoryScale:Dw,LinearScale:Iw,LogarithmicScale:Mw,RadialLinearScale:cm,TimeScale:Xm,TimeSeriesScale:kw});const LG=[jH,yY,dG,PG];Oa.register(...LG);const VG=({name:n,data:t,config:e})=>{const[i,r]=K.useState(!1),s=K.useRef(null),[a,c]=K.useState(0),u={main:`w-full relative flex flex-col gap-5 items-center justify-center ${i?"max-h-96":"max-h-12 text-start"} transition-all ease-linear duration-300`,title:`absolute top-2 flex text-xl cursor-pointer text-[var(--txt)] font-bold ${i?"underline":"-translate-x-20 "} transition-all ease-linear duration-300`,content:`mt-16 grid justify-center gap-2 rounded-lg p-4 border-[var(--rd)] ${i?"max-h-96 w-full border-2":"w-0 max-h-0 max-w-0"} transition-all ease-linear duration-300 overflow-hidden`,canva:`${i?"max-w-62 max-h-62":"max-w-0 max-h-0"} p-2 rounded-lg border border-white `,bottomBox:"flex gap-2 font-bold text-[var(--txt)]",total:"underline"};return K.useEffect(()=>{if(t){let f=0;t.forEach(g=>{f+=g.value}),c(f)}const d=document.getElementById("Tabla");d&&(s.current&&s.current.destroy(),s.current=new Oa(d,e))},[]),yt.jsxs("div",{className:u.main,children:[yt.jsx("button",{className:u.title,onClick:()=>r(!i),children:n}),yt.jsxs("div",{className:u.content,children:[yt.jsx("canvas",{id:"Tabla",className:u.canva}),yt.jsxs("span",{className:u.bottomBox,children:["Total:",yt.jsxs("b",{className:u.total,children:[a,"/s"]})]})]})]})},UG=()=>{const n=[{name:"Alquiler",value:280},{name:"Alimentacin",value:260},{name:"Celular",value:60}],t={type:"pie",data:{labels:n.map(i=>i.name),datasets:[{label:"Gasto mensual",data:n.map(i=>i.value),backgroundColor:["#C8851E","#19AE58","#231E9F","#C2BABA"],borderColor:"transparent",borderWidth:1}]},options:{responsive:!0,maintainAspectRatio:!1}},e={main:"w-full min-h-screen bg-[var(--st)] dark:bg-[var(--st)]",content:"flex flex-col w-full pt-24 px-4"};return yt.jsxs("section",{className:e.main,children:[yt.jsx($w,{}),yt.jsx("div",{className:e.content,children:yt.jsx("div",{className:"w-full flex flex-col",children:yt.jsx("li",{className:"flex flex-col gap-4 w-full p-2 bg-[var(--nd)] rounded-lg list-none transition-all ease-linear duration-300",children:yt.jsx("div",{className:"w-full flex",children:yt.jsx(VG,{name:"Gastos personales",data:n,config:t})})})})})]})},zG=n5([{path:"/",element:yt.jsx(M4,{to:"notes"})},{path:"/notes",element:yt.jsx(UR,{}),children:[{index:!0,element:yt.jsx(lT,{})},{path:"/notes/main",element:yt.jsx(lT,{})},{path:"/notes/new",element:yt.jsx(E8,{})}]},{path:"/finances",children:[{index:!0,element:yt.jsx(D8,{})},{path:"/finances/models",element:yt.jsx(UG,{})},{path:"/finances/balance",element:""},{path:"/finances/saving",element:""},{path:"/finances/accounts",element:""}]},{path:"/test",element:yt.jsx(UR,{}),children:[{index:!0,element:yt.jsx(lT,{})}]}]);c3.createRoot(document.getElementById("root")).render(yt.jsx(K.StrictMode,{children:yt.jsx(y5,{children:yt.jsxs(m5,{children:[yt.jsx(C4,{router:zG}),yt.jsx(n3,{})]})})}));
