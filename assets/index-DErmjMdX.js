var V2=Object.defineProperty;var U2=(n,e,t)=>e in n?V2(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var qh=(n,e,t)=>U2(n,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const u of s.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(a){if(a.ep)return;a.ep=!0;const s=t(a);fetch(a.href,s)}})();function z2(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var hv={exports:{}},Hh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gb;function j2(){if(gb)return Hh;gb=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,a,s){var u=null;if(s!==void 0&&(u=""+s),a.key!==void 0&&(u=""+a.key),"key"in a){s={};for(var c in a)c!=="key"&&(s[c]=a[c])}else s=a;return a=s.ref,{$$typeof:n,type:r,key:u,ref:a!==void 0?a:null,props:s}}return Hh.Fragment=e,Hh.jsx=t,Hh.jsxs=t,Hh}var yb;function B2(){return yb||(yb=1,hv.exports=j2()),hv.exports}var De=B2(),fv={exports:{}},ht={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vb;function $2(){if(vb)return ht;vb=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function w(F){return F===null||typeof F!="object"?null:(F=v&&F[v]||F["@@iterator"],typeof F=="function"?F:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,C={};function D(F,ae,ve){this.props=F,this.context=ae,this.refs=C,this.updater=ve||b}D.prototype.isReactComponent={},D.prototype.setState=function(F,ae){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,ae,"setState")},D.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function M(){}M.prototype=D.prototype;function N(F,ae,ve){this.props=F,this.context=ae,this.refs=C,this.updater=ve||b}var V=N.prototype=new M;V.constructor=N,R(V,D.prototype),V.isPureReactComponent=!0;var $=Array.isArray,L={H:null,A:null,T:null,S:null},Y=Object.prototype.hasOwnProperty;function x(F,ae,ve,ye,_e,Le){return ve=Le.ref,{$$typeof:n,type:F,key:ae,ref:ve!==void 0?ve:null,props:Le}}function I(F,ae){return x(F.type,ae,void 0,void 0,void 0,F.props)}function O(F){return typeof F=="object"&&F!==null&&F.$$typeof===n}function z(F){var ae={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(ve){return ae[ve]})}var j=/\/+/g;function q(F,ae){return typeof F=="object"&&F!==null&&F.key!=null?z(""+F.key):ae.toString(36)}function U(){}function Se(F){switch(F.status){case"fulfilled":return F.value;case"rejected":throw F.reason;default:switch(typeof F.status=="string"?F.then(U,U):(F.status="pending",F.then(function(ae){F.status==="pending"&&(F.status="fulfilled",F.value=ae)},function(ae){F.status==="pending"&&(F.status="rejected",F.reason=ae)})),F.status){case"fulfilled":return F.value;case"rejected":throw F.reason}}throw F}function se(F,ae,ve,ye,_e){var Le=typeof F;(Le==="undefined"||Le==="boolean")&&(F=null);var Ve=!1;if(F===null)Ve=!0;else switch(Le){case"bigint":case"string":case"number":Ve=!0;break;case"object":switch(F.$$typeof){case n:case e:Ve=!0;break;case g:return Ve=F._init,se(Ve(F._payload),ae,ve,ye,_e)}}if(Ve)return _e=_e(F),Ve=ye===""?"."+q(F,0):ye,$(_e)?(ve="",Ve!=null&&(ve=Ve.replace(j,"$&/")+"/"),se(_e,ae,ve,"",function(ct){return ct})):_e!=null&&(O(_e)&&(_e=I(_e,ve+(_e.key==null||F&&F.key===_e.key?"":(""+_e.key).replace(j,"$&/")+"/")+Ve)),ae.push(_e)),1;Ve=0;var wt=ye===""?".":ye+":";if($(F))for(var dt=0;dt<F.length;dt++)ye=F[dt],Le=wt+q(ye,dt),Ve+=se(ye,ae,ve,Le,_e);else if(dt=w(F),typeof dt=="function")for(F=dt.call(F),dt=0;!(ye=F.next()).done;)ye=ye.value,Le=wt+q(ye,dt++),Ve+=se(ye,ae,ve,Le,_e);else if(Le==="object"){if(typeof F.then=="function")return se(Se(F),ae,ve,ye,_e);throw ae=String(F),Error("Objects are not valid as a React child (found: "+(ae==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":ae)+"). If you meant to render a collection of children, use an array instead.")}return Ve}function re(F,ae,ve){if(F==null)return F;var ye=[],_e=0;return se(F,ye,"","",function(Le){return ae.call(ve,Le,_e++)}),ye}function de(F){if(F._status===-1){var ae=F._result;ae=ae(),ae.then(function(ve){(F._status===0||F._status===-1)&&(F._status=1,F._result=ve)},function(ve){(F._status===0||F._status===-1)&&(F._status=2,F._result=ve)}),F._status===-1&&(F._status=0,F._result=ae)}if(F._status===1)return F._result.default;throw F._result}var ge=typeof reportError=="function"?reportError:function(F){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ae=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof F=="object"&&F!==null&&typeof F.message=="string"?String(F.message):String(F),error:F});if(!window.dispatchEvent(ae))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",F);return}console.error(F)};function Pe(){}return ht.Children={map:re,forEach:function(F,ae,ve){re(F,function(){ae.apply(this,arguments)},ve)},count:function(F){var ae=0;return re(F,function(){ae++}),ae},toArray:function(F){return re(F,function(ae){return ae})||[]},only:function(F){if(!O(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},ht.Component=D,ht.Fragment=t,ht.Profiler=a,ht.PureComponent=N,ht.StrictMode=r,ht.Suspense=f,ht.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=L,ht.act=function(){throw Error("act(...) is not supported in production builds of React.")},ht.cache=function(F){return function(){return F.apply(null,arguments)}},ht.cloneElement=function(F,ae,ve){if(F==null)throw Error("The argument must be a React element, but you passed "+F+".");var ye=R({},F.props),_e=F.key,Le=void 0;if(ae!=null)for(Ve in ae.ref!==void 0&&(Le=void 0),ae.key!==void 0&&(_e=""+ae.key),ae)!Y.call(ae,Ve)||Ve==="key"||Ve==="__self"||Ve==="__source"||Ve==="ref"&&ae.ref===void 0||(ye[Ve]=ae[Ve]);var Ve=arguments.length-2;if(Ve===1)ye.children=ve;else if(1<Ve){for(var wt=Array(Ve),dt=0;dt<Ve;dt++)wt[dt]=arguments[dt+2];ye.children=wt}return x(F.type,_e,void 0,void 0,Le,ye)},ht.createContext=function(F){return F={$$typeof:u,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null},F.Provider=F,F.Consumer={$$typeof:s,_context:F},F},ht.createElement=function(F,ae,ve){var ye,_e={},Le=null;if(ae!=null)for(ye in ae.key!==void 0&&(Le=""+ae.key),ae)Y.call(ae,ye)&&ye!=="key"&&ye!=="__self"&&ye!=="__source"&&(_e[ye]=ae[ye]);var Ve=arguments.length-2;if(Ve===1)_e.children=ve;else if(1<Ve){for(var wt=Array(Ve),dt=0;dt<Ve;dt++)wt[dt]=arguments[dt+2];_e.children=wt}if(F&&F.defaultProps)for(ye in Ve=F.defaultProps,Ve)_e[ye]===void 0&&(_e[ye]=Ve[ye]);return x(F,Le,void 0,void 0,null,_e)},ht.createRef=function(){return{current:null}},ht.forwardRef=function(F){return{$$typeof:c,render:F}},ht.isValidElement=O,ht.lazy=function(F){return{$$typeof:g,_payload:{_status:-1,_result:F},_init:de}},ht.memo=function(F,ae){return{$$typeof:d,type:F,compare:ae===void 0?null:ae}},ht.startTransition=function(F){var ae=L.T,ve={};L.T=ve;try{var ye=F(),_e=L.S;_e!==null&&_e(ve,ye),typeof ye=="object"&&ye!==null&&typeof ye.then=="function"&&ye.then(Pe,ge)}catch(Le){ge(Le)}finally{L.T=ae}},ht.unstable_useCacheRefresh=function(){return L.H.useCacheRefresh()},ht.use=function(F){return L.H.use(F)},ht.useActionState=function(F,ae,ve){return L.H.useActionState(F,ae,ve)},ht.useCallback=function(F,ae){return L.H.useCallback(F,ae)},ht.useContext=function(F){return L.H.useContext(F)},ht.useDebugValue=function(){},ht.useDeferredValue=function(F,ae){return L.H.useDeferredValue(F,ae)},ht.useEffect=function(F,ae){return L.H.useEffect(F,ae)},ht.useId=function(){return L.H.useId()},ht.useImperativeHandle=function(F,ae,ve){return L.H.useImperativeHandle(F,ae,ve)},ht.useInsertionEffect=function(F,ae){return L.H.useInsertionEffect(F,ae)},ht.useLayoutEffect=function(F,ae){return L.H.useLayoutEffect(F,ae)},ht.useMemo=function(F,ae){return L.H.useMemo(F,ae)},ht.useOptimistic=function(F,ae){return L.H.useOptimistic(F,ae)},ht.useReducer=function(F,ae,ve){return L.H.useReducer(F,ae,ve)},ht.useRef=function(F){return L.H.useRef(F)},ht.useState=function(F){return L.H.useState(F)},ht.useSyncExternalStore=function(F,ae,ve){return L.H.useSyncExternalStore(F,ae,ve)},ht.useTransition=function(){return L.H.useTransition()},ht.version="19.0.0",ht}var _b;function M0(){return _b||(_b=1,fv.exports=$2()),fv.exports}var W=M0();const zt=z2(W);function sA(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var a=n.length;for(e=0;e<a;e++)n[e]&&(t=sA(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function zl(){for(var n,e,t=0,r="",a=arguments.length;t<a;t++)(n=arguments[t])&&(e=sA(n))&&(r&&(r+=" "),r+=e);return r}function F2(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}F2(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var If=n=>typeof n=="number"&&!isNaN(n),ql=n=>typeof n=="string",xo=n=>typeof n=="function",q2=n=>ql(n)||If(n),jv=n=>ql(n)||xo(n)?n:null,H2=(n,e)=>n===!1||If(n)&&n>0?n:e,Bv=n=>W.isValidElement(n)||ql(n)||xo(n)||If(n);function Y2(n,e,t=300){let{scrollHeight:r,style:a}=n;requestAnimationFrame(()=>{a.minHeight="initial",a.height=r+"px",a.transition=`all ${t}ms`,requestAnimationFrame(()=>{a.height="0",a.padding="0",a.margin="0",setTimeout(e,t)})})}function G2({enter:n,exit:e,appendPosition:t=!1,collapse:r=!0,collapseDuration:a=300}){return function({children:s,position:u,preventExitTransition:c,done:f,nodeRef:d,isIn:g,playToast:v}){let w=t?`${n}--${u}`:n,b=t?`${e}--${u}`:e,R=W.useRef(0);return W.useLayoutEffect(()=>{let C=d.current,D=w.split(" "),M=N=>{N.target===d.current&&(v(),C.removeEventListener("animationend",M),C.removeEventListener("animationcancel",M),R.current===0&&N.type!=="animationcancel"&&C.classList.remove(...D))};C.classList.add(...D),C.addEventListener("animationend",M),C.addEventListener("animationcancel",M)},[]),W.useEffect(()=>{let C=d.current,D=()=>{C.removeEventListener("animationend",D),r?Y2(C,f,a):f()};g||(c?D():(R.current=1,C.className+=` ${b}`,C.addEventListener("animationend",D)))},[g]),zt.createElement(zt.Fragment,null,s)}}function Tb(n,e){return{content:lA(n.content,n.props),containerId:n.props.containerId,id:n.props.toastId,theme:n.props.theme,type:n.props.type,data:n.props.data||{},isLoading:n.props.isLoading,icon:n.props.icon,reason:n.removalReason,status:e}}function lA(n,e,t=!1){return W.isValidElement(n)&&!ql(n.type)?W.cloneElement(n,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):xo(n)?n({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):n}function K2({closeToast:n,theme:e,ariaLabel:t="close"}){return zt.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:r=>{r.stopPropagation(),n(!0)},"aria-label":t},zt.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},zt.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function Q2({delay:n,isRunning:e,closeToast:t,type:r="default",hide:a,className:s,controlledProgress:u,progress:c,rtl:f,isIn:d,theme:g}){let v=a||u&&c===0,w={animationDuration:`${n}ms`,animationPlayState:e?"running":"paused"};u&&(w.transform=`scaleX(${c})`);let b=zl("Toastify__progress-bar",u?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${g}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":f}),R=xo(s)?s({rtl:f,type:r,defaultClassName:b}):zl(b,s),C={[u&&c>=1?"onTransitionEnd":"onAnimationEnd"]:u&&c<1?null:()=>{d&&t()}};return zt.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":v},zt.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${g} Toastify__progress-bar--${r}`}),zt.createElement("div",{role:"progressbar","aria-hidden":v?"true":"false","aria-label":"notification timer",className:R,style:w,...C}))}var Z2=1,uA=()=>`${Z2++}`;function X2(n,e,t){let r=1,a=0,s=[],u=[],c=e,f=new Map,d=new Set,g=N=>(d.add(N),()=>d.delete(N)),v=()=>{u=Array.from(f.values()),d.forEach(N=>N())},w=({containerId:N,toastId:V,updateId:$})=>{let L=N?N!==n:n!==1,Y=f.has(V)&&$==null;return L||Y},b=(N,V)=>{f.forEach($=>{var L;(V==null||V===$.props.toastId)&&((L=$.toggle)==null||L.call($,N))})},R=N=>{var V,$;($=(V=N.props)==null?void 0:V.onClose)==null||$.call(V,N.removalReason),N.isActive=!1},C=N=>{if(N==null)f.forEach(R);else{let V=f.get(N);V&&R(V)}v()},D=()=>{a-=s.length,s=[]},M=N=>{var V,$;let{toastId:L,updateId:Y}=N.props,x=Y==null;N.staleId&&f.delete(N.staleId),N.isActive=!0,f.set(L,N),v(),t(Tb(N,x?"added":"updated")),x&&(($=(V=N.props).onOpen)==null||$.call(V))};return{id:n,props:c,observe:g,toggle:b,removeToast:C,toasts:f,clearQueue:D,buildToast:(N,V)=>{if(w(V))return;let{toastId:$,updateId:L,data:Y,staleId:x,delay:I}=V,O=L==null;O&&a++;let z={...c,style:c.toastStyle,key:r++,...Object.fromEntries(Object.entries(V).filter(([q,U])=>U!=null)),toastId:$,updateId:L,data:Y,isIn:!1,className:jv(V.className||c.toastClassName),progressClassName:jv(V.progressClassName||c.progressClassName),autoClose:V.isLoading?!1:H2(V.autoClose,c.autoClose),closeToast(q){f.get($).removalReason=q,C($)},deleteToast(){let q=f.get($);if(q!=null){if(t(Tb(q,"removed")),f.delete($),a--,a<0&&(a=0),s.length>0){M(s.shift());return}v()}}};z.closeButton=c.closeButton,V.closeButton===!1||Bv(V.closeButton)?z.closeButton=V.closeButton:V.closeButton===!0&&(z.closeButton=Bv(c.closeButton)?c.closeButton:!0);let j={content:N,props:z,staleId:x};c.limit&&c.limit>0&&a>c.limit&&O?s.push(j):If(I)?setTimeout(()=>{M(j)},I):M(j)},setProps(N){c=N},setToggle:(N,V)=>{let $=f.get(N);$&&($.toggle=V)},isToastActive:N=>{var V;return(V=f.get(N))==null?void 0:V.isActive},getSnapshot:()=>u}}var Wr=new Map,df=[],$v=new Set,W2=n=>$v.forEach(e=>e(n)),cA=()=>Wr.size>0;function J2(){df.forEach(n=>fA(n.content,n.options)),df=[]}var eO=(n,{containerId:e})=>{var t;return(t=Wr.get(e||1))==null?void 0:t.toasts.get(n)};function hA(n,e){var t;if(e)return!!((t=Wr.get(e))!=null&&t.isToastActive(n));let r=!1;return Wr.forEach(a=>{a.isToastActive(n)&&(r=!0)}),r}function tO(n){if(!cA()){df=df.filter(e=>n!=null&&e.options.toastId!==n);return}if(n==null||q2(n))Wr.forEach(e=>{e.removeToast(n)});else if(n&&("containerId"in n||"id"in n)){let e=Wr.get(n.containerId);e?e.removeToast(n.id):Wr.forEach(t=>{t.removeToast(n.id)})}}var nO=(n={})=>{Wr.forEach(e=>{e.props.limit&&(!n.containerId||e.id===n.containerId)&&e.clearQueue()})};function fA(n,e){Bv(n)&&(cA()||df.push({content:n,options:e}),Wr.forEach(t=>{t.buildToast(n,e)}))}function rO(n){var e;(e=Wr.get(n.containerId||1))==null||e.setToggle(n.id,n.fn)}function dA(n,e){Wr.forEach(t=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===t.id)&&t.toggle(n,e==null?void 0:e.id)})}function iO(n){let e=n.containerId||1;return{subscribe(t){let r=X2(e,n,W2);Wr.set(e,r);let a=r.observe(t);return J2(),()=>{a(),Wr.delete(e)}},setProps(t){var r;(r=Wr.get(e))==null||r.setProps(t)},getSnapshot(){var t;return(t=Wr.get(e))==null?void 0:t.getSnapshot()}}}function aO(n){return $v.add(n),()=>{$v.delete(n)}}function oO(n){return n&&(ql(n.toastId)||If(n.toastId))?n.toastId:uA()}function Of(n,e){return fA(n,e),e.toastId}function Op(n,e){return{...e,type:e&&e.type||n,toastId:oO(e)}}function Mp(n){return(e,t)=>Of(e,Op(n,t))}function Gt(n,e){return Of(n,Op("default",e))}Gt.loading=(n,e)=>Of(n,Op("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function sO(n,{pending:e,error:t,success:r},a){let s;e&&(s=ql(e)?Gt.loading(e,a):Gt.loading(e.render,{...a,...e}));let u={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},c=(d,g,v)=>{if(g==null){Gt.dismiss(s);return}let w={type:d,...u,...a,data:v},b=ql(g)?{render:g}:g;return s?Gt.update(s,{...w,...b}):Gt(b.render,{...w,...b}),v},f=xo(n)?n():n;return f.then(d=>c("success",r,d)).catch(d=>c("error",t,d)),f}Gt.promise=sO;Gt.success=Mp("success");Gt.info=Mp("info");Gt.error=Mp("error");Gt.warning=Mp("warning");Gt.warn=Gt.warning;Gt.dark=(n,e)=>Of(n,Op("default",{theme:"dark",...e}));function lO(n){tO(n)}Gt.dismiss=lO;Gt.clearWaitingQueue=nO;Gt.isActive=hA;Gt.update=(n,e={})=>{let t=eO(n,e);if(t){let{props:r,content:a}=t,s={delay:100,...r,...e,toastId:e.toastId||n,updateId:uA()};s.toastId!==n&&(s.staleId=n);let u=s.render||a;delete s.render,Of(u,s)}};Gt.done=n=>{Gt.update(n,{progress:1})};Gt.onChange=aO;Gt.play=n=>dA(!0,n);Gt.pause=n=>dA(!1,n);function uO(n){var e;let{subscribe:t,getSnapshot:r,setProps:a}=W.useRef(iO(n)).current;a(n);let s=(e=W.useSyncExternalStore(t,r,r))==null?void 0:e.slice();function u(c){if(!s)return[];let f=new Map;return n.newestOnTop&&s.reverse(),s.forEach(d=>{let{position:g}=d.props;f.has(g)||f.set(g,[]),f.get(g).push(d)}),Array.from(f,d=>c(d[0],d[1]))}return{getToastToRender:u,isToastActive:hA,count:s==null?void 0:s.length}}function cO(n){let[e,t]=W.useState(!1),[r,a]=W.useState(!1),s=W.useRef(null),u=W.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:c,pauseOnHover:f,closeToast:d,onClick:g,closeOnClick:v}=n;rO({id:n.toastId,containerId:n.containerId,fn:t}),W.useEffect(()=>{if(n.pauseOnFocusLoss)return w(),()=>{b()}},[n.pauseOnFocusLoss]);function w(){document.hasFocus()||M(),window.addEventListener("focus",D),window.addEventListener("blur",M)}function b(){window.removeEventListener("focus",D),window.removeEventListener("blur",M)}function R(x){if(n.draggable===!0||n.draggable===x.pointerType){N();let I=s.current;u.canCloseOnClick=!0,u.canDrag=!0,I.style.transition="none",n.draggableDirection==="x"?(u.start=x.clientX,u.removalDistance=I.offsetWidth*(n.draggablePercent/100)):(u.start=x.clientY,u.removalDistance=I.offsetHeight*(n.draggablePercent===80?n.draggablePercent*1.5:n.draggablePercent)/100)}}function C(x){let{top:I,bottom:O,left:z,right:j}=s.current.getBoundingClientRect();x.nativeEvent.type!=="touchend"&&n.pauseOnHover&&x.clientX>=z&&x.clientX<=j&&x.clientY>=I&&x.clientY<=O?M():D()}function D(){t(!0)}function M(){t(!1)}function N(){u.didMove=!1,document.addEventListener("pointermove",$),document.addEventListener("pointerup",L)}function V(){document.removeEventListener("pointermove",$),document.removeEventListener("pointerup",L)}function $(x){let I=s.current;if(u.canDrag&&I){u.didMove=!0,e&&M(),n.draggableDirection==="x"?u.delta=x.clientX-u.start:u.delta=x.clientY-u.start,u.start!==x.clientX&&(u.canCloseOnClick=!1);let O=n.draggableDirection==="x"?`${u.delta}px, var(--y)`:`0, calc(${u.delta}px + var(--y))`;I.style.transform=`translate3d(${O},0)`,I.style.opacity=`${1-Math.abs(u.delta/u.removalDistance)}`}}function L(){V();let x=s.current;if(u.canDrag&&u.didMove&&x){if(u.canDrag=!1,Math.abs(u.delta)>u.removalDistance){a(!0),n.closeToast(!0),n.collapseAll();return}x.style.transition="transform 0.2s, opacity 0.2s",x.style.removeProperty("transform"),x.style.removeProperty("opacity")}}let Y={onPointerDown:R,onPointerUp:C};return c&&f&&(Y.onMouseEnter=M,n.stacked||(Y.onMouseLeave=D)),v&&(Y.onClick=x=>{g&&g(x),u.canCloseOnClick&&d(!0)}),{playToast:D,pauseToast:M,isRunning:e,preventExitTransition:r,toastRef:s,eventHandlers:Y}}var hO=typeof window<"u"?W.useLayoutEffect:W.useEffect,xp=({theme:n,type:e,isLoading:t,...r})=>zt.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:n==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...r});function fO(n){return zt.createElement(xp,{...n},zt.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function dO(n){return zt.createElement(xp,{...n},zt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function mO(n){return zt.createElement(xp,{...n},zt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function pO(n){return zt.createElement(xp,{...n},zt.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function gO(){return zt.createElement("div",{className:"Toastify__spinner"})}var Fv={info:dO,warning:fO,success:mO,error:pO,spinner:gO},yO=n=>n in Fv;function vO({theme:n,type:e,isLoading:t,icon:r}){let a=null,s={theme:n,type:e};return r===!1||(xo(r)?a=r({...s,isLoading:t}):W.isValidElement(r)?a=W.cloneElement(r,s):t?a=Fv.spinner():yO(e)&&(a=Fv[e](s))),a}var _O=n=>{let{isRunning:e,preventExitTransition:t,toastRef:r,eventHandlers:a,playToast:s}=cO(n),{closeButton:u,children:c,autoClose:f,onClick:d,type:g,hideProgressBar:v,closeToast:w,transition:b,position:R,className:C,style:D,progressClassName:M,updateId:N,role:V,progress:$,rtl:L,toastId:Y,deleteToast:x,isIn:I,isLoading:O,closeOnClick:z,theme:j,ariaLabel:q}=n,U=zl("Toastify__toast",`Toastify__toast-theme--${j}`,`Toastify__toast--${g}`,{"Toastify__toast--rtl":L},{"Toastify__toast--close-on-click":z}),Se=xo(C)?C({rtl:L,position:R,type:g,defaultClassName:U}):zl(U,C),se=vO(n),re=!!$||!f,de={closeToast:w,type:g,theme:j},ge=null;return u===!1||(xo(u)?ge=u(de):W.isValidElement(u)?ge=W.cloneElement(u,de):ge=K2(de)),zt.createElement(b,{isIn:I,done:x,position:R,preventExitTransition:t,nodeRef:r,playToast:s},zt.createElement("div",{id:Y,tabIndex:0,onClick:d,"data-in":I,className:Se,...a,style:D,ref:r,...I&&{role:V,"aria-label":q}},se!=null&&zt.createElement("div",{className:zl("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!O})},se),lA(c,n,!e),ge,!n.customProgressBar&&zt.createElement(Q2,{...N&&!re?{key:`p-${N}`}:{},rtl:L,theme:j,delay:f,isRunning:e,isIn:I,closeToast:w,hide:v,type:g,className:M,controlledProgress:re,progress:$||0})))},TO=(n,e=!1)=>({enter:`Toastify--animate Toastify__${n}-enter`,exit:`Toastify--animate Toastify__${n}-exit`,appendPosition:e}),wO=G2(TO("bounce",!0)),EO={position:"top-right",transition:wO,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:n=>n.altKey&&n.code==="KeyT"};function bO(n){let e={...EO,...n},t=n.stacked,[r,a]=W.useState(!0),s=W.useRef(null),{getToastToRender:u,isToastActive:c,count:f}=uO(e),{className:d,style:g,rtl:v,containerId:w,hotKeys:b}=e;function R(D){let M=zl("Toastify__toast-container",`Toastify__toast-container--${D}`,{"Toastify__toast-container--rtl":v});return xo(d)?d({position:D,rtl:v,defaultClassName:M}):zl(M,jv(d))}function C(){t&&(a(!0),Gt.play())}return hO(()=>{var D;if(t){let M=s.current.querySelectorAll('[data-in="true"]'),N=12,V=(D=e.position)==null?void 0:D.includes("top"),$=0,L=0;Array.from(M).reverse().forEach((Y,x)=>{let I=Y;I.classList.add("Toastify__toast--stacked"),x>0&&(I.dataset.collapsed=`${r}`),I.dataset.pos||(I.dataset.pos=V?"top":"bot");let O=$*(r?.2:1)+(r?0:N*x);I.style.setProperty("--y",`${V?O:O*-1}px`),I.style.setProperty("--g",`${N}`),I.style.setProperty("--s",`${1-(r?L:0)}`),$+=I.offsetHeight,L+=.025})}},[r,f,t]),W.useEffect(()=>{function D(M){var N;let V=s.current;b(M)&&((N=V.querySelector('[tabIndex="0"]'))==null||N.focus(),a(!1),Gt.pause()),M.key==="Escape"&&(document.activeElement===V||V!=null&&V.contains(document.activeElement))&&(a(!0),Gt.play())}return document.addEventListener("keydown",D),()=>{document.removeEventListener("keydown",D)}},[b]),zt.createElement("section",{ref:s,className:"Toastify",id:w,onMouseEnter:()=>{t&&(a(!1),Gt.pause())},onMouseLeave:C,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},u((D,M)=>{let N=M.length?{...g}:{...g,pointerEvents:"none"};return zt.createElement("div",{tabIndex:-1,className:R(D),"data-stacked":t,style:N,key:`c-${D}`},M.map(({content:V,props:$})=>zt.createElement(_O,{...$,stacked:t,collapseAll:C,isIn:c($.toastId,$.containerId),key:`t-${$.key}`},V)))}))}var dv={exports:{}},Yh={},mv={exports:{}},pv={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wb;function RO(){return wb||(wb=1,function(n){function e(re,de){var ge=re.length;re.push(de);e:for(;0<ge;){var Pe=ge-1>>>1,F=re[Pe];if(0<a(F,de))re[Pe]=de,re[ge]=F,ge=Pe;else break e}}function t(re){return re.length===0?null:re[0]}function r(re){if(re.length===0)return null;var de=re[0],ge=re.pop();if(ge!==de){re[0]=ge;e:for(var Pe=0,F=re.length,ae=F>>>1;Pe<ae;){var ve=2*(Pe+1)-1,ye=re[ve],_e=ve+1,Le=re[_e];if(0>a(ye,ge))_e<F&&0>a(Le,ye)?(re[Pe]=Le,re[_e]=ge,Pe=_e):(re[Pe]=ye,re[ve]=ge,Pe=ve);else if(_e<F&&0>a(Le,ge))re[Pe]=Le,re[_e]=ge,Pe=_e;else break e}}return de}function a(re,de){var ge=re.sortIndex-de.sortIndex;return ge!==0?ge:re.id-de.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var u=Date,c=u.now();n.unstable_now=function(){return u.now()-c}}var f=[],d=[],g=1,v=null,w=3,b=!1,R=!1,C=!1,D=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function V(re){for(var de=t(d);de!==null;){if(de.callback===null)r(d);else if(de.startTime<=re)r(d),de.sortIndex=de.expirationTime,e(f,de);else break;de=t(d)}}function $(re){if(C=!1,V(re),!R)if(t(f)!==null)R=!0,Se();else{var de=t(d);de!==null&&se($,de.startTime-re)}}var L=!1,Y=-1,x=5,I=-1;function O(){return!(n.unstable_now()-I<x)}function z(){if(L){var re=n.unstable_now();I=re;var de=!0;try{e:{R=!1,C&&(C=!1,M(Y),Y=-1),b=!0;var ge=w;try{t:{for(V(re),v=t(f);v!==null&&!(v.expirationTime>re&&O());){var Pe=v.callback;if(typeof Pe=="function"){v.callback=null,w=v.priorityLevel;var F=Pe(v.expirationTime<=re);if(re=n.unstable_now(),typeof F=="function"){v.callback=F,V(re),de=!0;break t}v===t(f)&&r(f),V(re)}else r(f);v=t(f)}if(v!==null)de=!0;else{var ae=t(d);ae!==null&&se($,ae.startTime-re),de=!1}}break e}finally{v=null,w=ge,b=!1}de=void 0}}finally{de?j():L=!1}}}var j;if(typeof N=="function")j=function(){N(z)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,U=q.port2;q.port1.onmessage=z,j=function(){U.postMessage(null)}}else j=function(){D(z,0)};function Se(){L||(L=!0,j())}function se(re,de){Y=D(function(){re(n.unstable_now())},de)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(re){re.callback=null},n.unstable_continueExecution=function(){R||b||(R=!0,Se())},n.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<re?Math.floor(1e3/re):5},n.unstable_getCurrentPriorityLevel=function(){return w},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(re){switch(w){case 1:case 2:case 3:var de=3;break;default:de=w}var ge=w;w=de;try{return re()}finally{w=ge}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(re,de){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var ge=w;w=re;try{return de()}finally{w=ge}},n.unstable_scheduleCallback=function(re,de,ge){var Pe=n.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?Pe+ge:Pe):ge=Pe,re){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=ge+F,re={id:g++,callback:de,priorityLevel:re,startTime:ge,expirationTime:F,sortIndex:-1},ge>Pe?(re.sortIndex=ge,e(d,re),t(f)===null&&re===t(d)&&(C?(M(Y),Y=-1):C=!0,se($,ge-Pe))):(re.sortIndex=F,e(f,re),R||b||(R=!0,Se())),re},n.unstable_shouldYield=O,n.unstable_wrapCallback=function(re){var de=w;return function(){var ge=w;w=de;try{return re.apply(this,arguments)}finally{w=ge}}}}(pv)),pv}var Eb;function AO(){return Eb||(Eb=1,mv.exports=RO()),mv.exports}var gv={exports:{}},Vr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bb;function SO(){if(bb)return Vr;bb=1;var n=M0();function e(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)d+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function s(f,d,g){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:f,containerInfo:d,implementation:g}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Vr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Vr.createPortal=function(f,d){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return s(f,d,null,g)},Vr.flushSync=function(f){var d=u.T,g=r.p;try{if(u.T=null,r.p=2,f)return f()}finally{u.T=d,r.p=g,r.d.f()}},Vr.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(f,d))},Vr.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},Vr.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var g=d.as,v=c(g,d.crossOrigin),w=typeof d.integrity=="string"?d.integrity:void 0,b=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;g==="style"?r.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:v,integrity:w,fetchPriority:b}):g==="script"&&r.d.X(f,{crossOrigin:v,integrity:w,fetchPriority:b,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Vr.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var g=c(d.as,d.crossOrigin);r.d.M(f,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(f)},Vr.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var g=d.as,v=c(g,d.crossOrigin);r.d.L(f,g,{crossOrigin:v,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Vr.preloadModule=function(f,d){if(typeof f=="string")if(d){var g=c(d.as,d.crossOrigin);r.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(f)},Vr.requestFormReset=function(f){r.d.r(f)},Vr.unstable_batchedUpdates=function(f,d){return f(d)},Vr.useFormState=function(f,d,g){return u.H.useFormState(f,d,g)},Vr.useFormStatus=function(){return u.H.useHostTransitionStatus()},Vr.version="19.0.0",Vr}var Rb;function CO(){if(Rb)return gv.exports;Rb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),gv.exports=SO(),gv.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ab;function DO(){if(Ab)return Yh;Ab=1;var n=AO(),e=M0(),t=CO();function r(i){var o="https://react.dev/errors/"+i;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)o+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}var s=Symbol.for("react.element"),u=Symbol.for("react.transitional.element"),c=Symbol.for("react.portal"),f=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),g=Symbol.for("react.profiler"),v=Symbol.for("react.provider"),w=Symbol.for("react.consumer"),b=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),V=Symbol.for("react.offscreen"),$=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function Y(i){return i===null||typeof i!="object"?null:(i=L&&i[L]||i["@@iterator"],typeof i=="function"?i:null)}var x=Symbol.for("react.client.reference");function I(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===x?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case f:return"Fragment";case c:return"Portal";case g:return"Profiler";case d:return"StrictMode";case C:return"Suspense";case D:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case b:return(i.displayName||"Context")+".Provider";case w:return(i._context.displayName||"Context")+".Consumer";case R:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case M:return o=i.displayName||null,o!==null?o:I(i.type)||"Memo";case N:o=i._payload,i=i._init;try{return I(i(o))}catch{}}return null}var O=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z=Object.assign,j,q;function U(i){if(j===void 0)try{throw Error()}catch(l){var o=l.stack.trim().match(/\n( *(at )?)/);j=o&&o[1]||"",q=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+j+i+q}var Se=!1;function se(i,o){if(!i||Se)return"";Se=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(o){var me=function(){throw Error()};if(Object.defineProperty(me.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(me,[])}catch(oe){var te=oe}Reflect.construct(i,[],me)}else{try{me.call()}catch(oe){te=oe}i.call(me.prototype)}}else{try{throw Error()}catch(oe){te=oe}(me=i())&&typeof me.catch=="function"&&me.catch(function(){})}}catch(oe){if(oe&&te&&typeof oe.stack=="string")return[oe.stack,te.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var T=h.DetermineComponentFrameRoot(),S=T[0],k=T[1];if(S&&k){var B=S.split(`
`),K=k.split(`
`);for(p=h=0;h<B.length&&!B[h].includes("DetermineComponentFrameRoot");)h++;for(;p<K.length&&!K[p].includes("DetermineComponentFrameRoot");)p++;if(h===B.length||p===K.length)for(h=B.length-1,p=K.length-1;1<=h&&0<=p&&B[h]!==K[p];)p--;for(;1<=h&&0<=p;h--,p--)if(B[h]!==K[p]){if(h!==1||p!==1)do if(h--,p--,0>p||B[h]!==K[p]){var le=`
`+B[h].replace(" at new "," at ");return i.displayName&&le.includes("<anonymous>")&&(le=le.replace("<anonymous>",i.displayName)),le}while(1<=h&&0<=p);break}}}finally{Se=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?U(l):""}function re(i){switch(i.tag){case 26:case 27:case 5:return U(i.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 15:return i=se(i.type,!1),i;case 11:return i=se(i.type.render,!1),i;case 1:return i=se(i.type,!0),i;default:return""}}function de(i){try{var o="";do o+=re(i),i=i.return;while(i);return o}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function ge(i){var o=i,l=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(l=o.return),i=o.return;while(i)}return o.tag===3?l:null}function Pe(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function F(i){if(ge(i)!==i)throw Error(r(188))}function ae(i){var o=i.alternate;if(!o){if(o=ge(i),o===null)throw Error(r(188));return o!==i?null:i}for(var l=i,h=o;;){var p=l.return;if(p===null)break;var T=p.alternate;if(T===null){if(h=p.return,h!==null){l=h;continue}break}if(p.child===T.child){for(T=p.child;T;){if(T===l)return F(p),i;if(T===h)return F(p),o;T=T.sibling}throw Error(r(188))}if(l.return!==h.return)l=p,h=T;else{for(var S=!1,k=p.child;k;){if(k===l){S=!0,l=p,h=T;break}if(k===h){S=!0,h=p,l=T;break}k=k.sibling}if(!S){for(k=T.child;k;){if(k===l){S=!0,l=T,h=p;break}if(k===h){S=!0,h=T,l=p;break}k=k.sibling}if(!S)throw Error(r(189))}}if(l.alternate!==h)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?i:o}function ve(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i;for(i=i.child;i!==null;){if(o=ve(i),o!==null)return o;i=i.sibling}return null}var ye=Array.isArray,_e=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Le={pending:!1,data:null,method:null,action:null},Ve=[],wt=-1;function dt(i){return{current:i}}function ct(i){0>wt||(i.current=Ve[wt],Ve[wt]=null,wt--)}function mt(i,o){wt++,Ve[wt]=i.current,i.current=o}var Rn=dt(null),Fr=dt(null),vn=dt(null),fa=dt(null);function da(i,o){switch(mt(vn,o),mt(Fr,i),mt(Rn,null),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)&&(o=o.namespaceURI)?HE(o):0;break;default:if(i=i===8?o.parentNode:o,o=i.tagName,i=i.namespaceURI)i=HE(i),o=YE(i,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}ct(Rn),mt(Rn,o)}function Di(){ct(Rn),ct(Fr),ct(vn)}function el(i){i.memoizedState!==null&&mt(fa,i);var o=Rn.current,l=YE(o,i.type);o!==l&&(mt(Fr,i),mt(Rn,l))}function qo(i){Fr.current===i&&(ct(Rn),ct(Fr)),fa.current===i&&(ct(fa),zh._currentValue=Le)}var Ho=Object.prototype.hasOwnProperty,Xa=n.unstable_scheduleCallback,ri=n.unstable_cancelCallback,Wa=n.unstable_shouldYield,Yo=n.unstable_requestPaint,er=n.unstable_now,fi=n.unstable_getCurrentPriorityLevel,Ht=n.unstable_ImmediatePriority,On=n.unstable_UserBlockingPriority,di=n.unstable_NormalPriority,uu=n.unstable_LowPriority,ii=n.unstable_IdlePriority,cu=n.log,ma=n.unstable_setDisableYieldValue,Xi=null,tr=null;function Go(i){if(tr&&typeof tr.onCommitFiberRoot=="function")try{tr.onCommitFiberRoot(Xi,i,void 0,(i.current.flags&128)===128)}catch{}}function qr(i){if(typeof cu=="function"&&ma(i),tr&&typeof tr.setStrictMode=="function")try{tr.setStrictMode(Xi,i)}catch{}}var nr=Math.clz32?Math.clz32:tl,Ja=Math.log,hu=Math.LN2;function tl(i){return i>>>=0,i===0?32:31-(Ja(i)/hu|0)|0}var Ii=128,Wi=4194304;function Pr(i){var o=i&42;if(o!==0)return o;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function gr(i,o){var l=i.pendingLanes;if(l===0)return 0;var h=0,p=i.suspendedLanes,T=i.pingedLanes,S=i.warmLanes;i=i.finishedLanes!==0;var k=l&134217727;return k!==0?(l=k&~p,l!==0?h=Pr(l):(T&=k,T!==0?h=Pr(T):i||(S=k&~S,S!==0&&(h=Pr(S))))):(k=l&~p,k!==0?h=Pr(k):T!==0?h=Pr(T):i||(S=l&~S,S!==0&&(h=Pr(S)))),h===0?0:o!==0&&o!==h&&(o&p)===0&&(p=h&-h,S=o&-o,p>=S||p===32&&(S&4194176)!==0)?o:h}function pa(i,o){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&o)===0}function Ko(i,o){switch(i){case 1:case 2:case 4:case 8:return o+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function H(){var i=Ii;return Ii<<=1,(Ii&4194176)===0&&(Ii=128),i}function Q(){var i=Wi;return Wi<<=1,(Wi&62914560)===0&&(Wi=4194304),i}function ne(i){for(var o=[],l=0;31>l;l++)o.push(i);return o}function ue(i,o){i.pendingLanes|=o,o!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function be(i,o,l,h,p,T){var S=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var k=i.entanglements,B=i.expirationTimes,K=i.hiddenUpdates;for(l=S&~l;0<l;){var le=31-nr(l),me=1<<le;k[le]=0,B[le]=-1;var te=K[le];if(te!==null)for(K[le]=null,le=0;le<te.length;le++){var oe=te[le];oe!==null&&(oe.lane&=-536870913)}l&=~me}h!==0&&Fe(i,h,0),T!==0&&p===0&&i.tag!==0&&(i.suspendedLanes|=T&~(S&~o))}function Fe(i,o,l){i.pendingLanes|=o,i.suspendedLanes&=~o;var h=31-nr(o);i.entangledLanes|=o,i.entanglements[h]=i.entanglements[h]|1073741824|l&4194218}function $e(i,o){var l=i.entangledLanes|=o;for(i=i.entanglements;l;){var h=31-nr(l),p=1<<h;p&o|i[h]&o&&(i[h]|=o),l&=~p}}function Ue(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function je(){var i=_e.p;return i!==0?i:(i=window.event,i===void 0?32:cb(i.type))}function Ae(i,o){var l=_e.p;try{return _e.p=i,o()}finally{_e.p=l}}var Me=Math.random().toString(36).slice(2),xe="__reactFiber$"+Me,Ye="__reactProps$"+Me,Pt="__reactContainer$"+Me,pn="__reactEvents$"+Me,Jt="__reactListeners$"+Me,kt="__reactHandles$"+Me,dn="__reactResources$"+Me,Hr="__reactMarker$"+Me;function mi(i){delete i[xe],delete i[Ye],delete i[pn],delete i[Jt],delete i[kt]}function Mn(i){var o=i[xe];if(o)return o;for(var l=i.parentNode;l;){if(o=l[Pt]||l[xe]){if(l=o.alternate,o.child!==null||l!==null&&l.child!==null)for(i=QE(i);i!==null;){if(l=i[xe])return l;i=QE(i)}return o}i=l,l=i.parentNode}return null}function Vn(i){if(i=i[xe]||i[Pt]){var o=i.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return i}return null}function Oi(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i.stateNode;throw Error(r(33))}function ai(i){var o=i[dn];return o||(o=i[dn]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function jt(i){i[Hr]=!0}var ga=new Set,Ji={};function ft(i,o){Bt(i,o),Bt(i+"Capture",o)}function Bt(i,o){for(Ji[i]=o,i=0;i<o.length;i++)ga.add(o[i])}var rr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),eo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),an={},Mi={};function nl(i){return Ho.call(Mi,i)?!0:Ho.call(an,i)?!1:eo.test(i)?Mi[i]=!0:(an[i]=!0,!1)}function ya(i,o,l){if(nl(o))if(l===null)i.removeAttribute(o);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(o);return;case"boolean":var h=o.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){i.removeAttribute(o);return}}i.setAttribute(o,""+l)}}function Qo(i,o,l){if(l===null)i.removeAttribute(o);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttribute(o,""+l)}}function xi(i,o,l,h){if(h===null)i.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(o,l,""+h)}}function Yr(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function od(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function gg(i){var o=od(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),h=""+i[o];if(!i.hasOwnProperty(o)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,T=l.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return p.call(this)},set:function(S){h=""+S,T.call(this,S)}}),Object.defineProperty(i,o,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(S){h=""+S},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function rl(i){i._valueTracker||(i._valueTracker=gg(i))}function Qc(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var l=o.getValue(),h="";return i&&(h=od(i)?i.checked?"true":"false":i.value),i=h,i!==l?(o.setValue(i),!0):!1}function fu(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var to=/[\n"\\]/g;function An(i){return i.replace(to,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Zo(i,o,l,h,p,T,S,k){i.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?i.type=S:i.removeAttribute("type"),o!=null?S==="number"?(o===0&&i.value===""||i.value!=o)&&(i.value=""+Yr(o)):i.value!==""+Yr(o)&&(i.value=""+Yr(o)):S!=="submit"&&S!=="reset"||i.removeAttribute("value"),o!=null?du(i,S,Yr(o)):l!=null?du(i,S,Yr(l)):h!=null&&i.removeAttribute("value"),p==null&&T!=null&&(i.defaultChecked=!!T),p!=null&&(i.checked=p&&typeof p!="function"&&typeof p!="symbol"),k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?i.name=""+Yr(k):i.removeAttribute("name")}function il(i,o,l,h,p,T,S,k){if(T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(i.type=T),o!=null||l!=null){if(!(T!=="submit"&&T!=="reset"||o!=null))return;l=l!=null?""+Yr(l):"",o=o!=null?""+Yr(o):l,k||o===i.value||(i.value=o),i.defaultValue=o}h=h??p,h=typeof h!="function"&&typeof h!="symbol"&&!!h,i.checked=k?i.checked:!!h,i.defaultChecked=!!h,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(i.name=S)}function du(i,o,l){o==="number"&&fu(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function Lt(i,o,l,h){if(i=i.options,o){o={};for(var p=0;p<l.length;p++)o["$"+l[p]]=!0;for(l=0;l<i.length;l++)p=o.hasOwnProperty("$"+i[l].value),i[l].selected!==p&&(i[l].selected=p),p&&h&&(i[l].defaultSelected=!0)}else{for(l=""+Yr(l),o=null,p=0;p<i.length;p++){if(i[p].value===l){i[p].selected=!0,h&&(i[p].defaultSelected=!0);return}o!==null||i[p].disabled||(o=i[p])}o!==null&&(o.selected=!0)}}function al(i,o,l){if(o!=null&&(o=""+Yr(o),o!==i.value&&(i.value=o),l==null)){i.defaultValue!==o&&(i.defaultValue=o);return}i.defaultValue=l!=null?""+Yr(l):""}function Xo(i,o,l,h){if(o==null){if(h!=null){if(l!=null)throw Error(r(92));if(ye(h)){if(1<h.length)throw Error(r(93));h=h[0]}l=h}l==null&&(l=""),o=l}l=Yr(o),i.defaultValue=l,h=i.textContent,h===l&&h!==""&&h!==null&&(i.value=h)}function Ni(i,o){if(o){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=o;return}}i.textContent=o}var yg=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Zc(i,o,l){var h=o.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?h?i.setProperty(o,""):o==="float"?i.cssFloat="":i[o]="":h?i.setProperty(o,l):typeof l!="number"||l===0||yg.has(o)?o==="float"?i.cssFloat=l:i[o]=(""+l).trim():i[o]=l+"px"}function sd(i,o,l){if(o!=null&&typeof o!="object")throw Error(r(62));if(i=i.style,l!=null){for(var h in l)!l.hasOwnProperty(h)||o!=null&&o.hasOwnProperty(h)||(h.indexOf("--")===0?i.setProperty(h,""):h==="float"?i.cssFloat="":i[h]="");for(var p in o)h=o[p],o.hasOwnProperty(p)&&l[p]!==h&&Zc(i,p,h)}else for(var T in o)o.hasOwnProperty(T)&&Zc(i,T,o[T])}function Xc(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_g=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function va(i){return _g.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var ki=null;function mu(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var no=null,ro=null;function io(i){var o=Vn(i);if(o&&(i=o.stateNode)){var l=i[Ye]||null;e:switch(i=o.stateNode,o.type){case"input":if(Zo(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),o=l.name,l.type==="radio"&&o!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+An(""+o)+'"][type="radio"]'),o=0;o<l.length;o++){var h=l[o];if(h!==i&&h.form===i.form){var p=h[Ye]||null;if(!p)throw Error(r(90));Zo(h,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(o=0;o<l.length;o++)h=l[o],h.form===i.form&&Qc(h)}break e;case"textarea":al(i,l.value,l.defaultValue);break e;case"select":o=l.value,o!=null&&Lt(i,!!l.multiple,o,!1)}}}var Wc=!1;function ld(i,o,l){if(Wc)return i(o,l);Wc=!0;try{var h=i(o);return h}finally{if(Wc=!1,(no!==null||ro!==null)&&(Jd(),no&&(o=no,i=ro,ro=no=null,io(o),i)))for(o=0;o<i.length;o++)io(i[o])}}function ol(i,o){var l=i.stateNode;if(l===null)return null;var h=l[Ye]||null;if(h===null)return null;l=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(r(231,o,typeof l));return l}var Pi=!1;if(rr)try{var sl={};Object.defineProperty(sl,"passive",{get:function(){Pi=!0}}),window.addEventListener("test",sl,sl),window.removeEventListener("test",sl,sl)}catch{Pi=!1}var _a=null,Wo=null,ao=null;function Jc(){if(ao)return ao;var i,o=Wo,l=o.length,h,p="value"in _a?_a.value:_a.textContent,T=p.length;for(i=0;i<l&&o[i]===p[i];i++);var S=l-i;for(h=1;h<=S&&o[l-h]===p[T-h];h++);return ao=p.slice(i,1<h?1-h:void 0)}function Ta(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function wa(){return!0}function eh(){return!1}function ir(i){function o(l,h,p,T,S){this._reactName=l,this._targetInst=p,this.type=h,this.nativeEvent=T,this.target=S,this.currentTarget=null;for(var k in i)i.hasOwnProperty(k)&&(l=i[k],this[k]=l?l(T):T[k]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?wa:eh,this.isPropagationStopped=eh,this}return z(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=wa)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=wa)},persist:function(){},isPersistent:wa}),o}var $t={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pu=ir($t),ll=z({},$t,{view:0,detail:0}),ud=ir(ll),gu,yu,Ea,ul=z({},ll,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fl,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ea&&(Ea&&i.type==="mousemove"?(gu=i.screenX-Ea.screenX,yu=i.screenY-Ea.screenY):yu=gu=0,Ea=i),gu)},movementY:function(i){return"movementY"in i?i.movementY:yu}}),Li=ir(ul),cd=z({},ul,{dataTransfer:0}),Tg=ir(cd),cl=z({},ll,{relatedTarget:0}),vu=ir(cl),th=z({},$t,{animationName:0,elapsedTime:0,pseudoElement:0}),_u=ir(th),hd=z({},$t,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Tu=ir(hd),wg=z({},$t,{data:0}),nh=ir(wg),hl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rh(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=dd[i])?!!o[i]:!1}function fl(){return rh}var md=z({},ll,{key:function(i){if(i.key){var o=hl[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=Ta(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?fd[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fl,charCode:function(i){return i.type==="keypress"?Ta(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Ta(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),wu=ir(md),pd=z({},ul,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ih=ir(pd),oo=z({},ll,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fl}),gd=ir(oo),yd=z({},$t,{propertyName:0,elapsedTime:0,pseudoElement:0}),vd=ir(yd),_d=z({},ul,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Eu=ir(_d),Gr=z({},$t,{newState:0,oldState:0}),Td=ir(Gr),wd=[9,13,27,32],ba=rr&&"CompositionEvent"in window,m=null;rr&&"documentMode"in document&&(m=document.documentMode);var E=rr&&"TextEvent"in window&&!m,A=rr&&(!ba||m&&8<m&&11>=m),P=" ",J=!1;function ie(i,o){switch(i){case"keyup":return wd.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Te(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var It=!1;function qn(i,o){switch(i){case"compositionend":return Te(o);case"keypress":return o.which!==32?null:(J=!0,P);case"textInput":return i=o.data,i===P&&J?null:i;default:return null}}function Ot(i,o){if(It)return i==="compositionend"||!ba&&ie(i,o)?(i=Jc(),ao=Wo=_a=null,It=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return A&&o.locale!=="ko"?null:o.data;default:return null}}var ar={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!ar[i.type]:o==="textarea"}function so(i,o,l,h){no?ro?ro.push(h):ro=[h]:no=h,o=im(o,"onChange"),0<o.length&&(l=new pu("onChange","change",null,l,h),i.push({event:l,listeners:o}))}var yr=null,Ra=null;function ah(i){jE(i,0)}function Ed(i){var o=Oi(i);if(Qc(o))return i}function pT(i,o){if(i==="change")return o}var gT=!1;if(rr){var Eg;if(rr){var bg="oninput"in document;if(!bg){var yT=document.createElement("div");yT.setAttribute("oninput","return;"),bg=typeof yT.oninput=="function"}Eg=bg}else Eg=!1;gT=Eg&&(!document.documentMode||9<document.documentMode)}function vT(){yr&&(yr.detachEvent("onpropertychange",_T),Ra=yr=null)}function _T(i){if(i.propertyName==="value"&&Ed(Ra)){var o=[];so(o,Ra,i,mu(i)),ld(ah,o)}}function dI(i,o,l){i==="focusin"?(vT(),yr=o,Ra=l,yr.attachEvent("onpropertychange",_T)):i==="focusout"&&vT()}function mI(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Ed(Ra)}function pI(i,o){if(i==="click")return Ed(o)}function gI(i,o){if(i==="input"||i==="change")return Ed(o)}function yI(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var pi=typeof Object.is=="function"?Object.is:yI;function oh(i,o){if(pi(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var l=Object.keys(i),h=Object.keys(o);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var p=l[h];if(!Ho.call(o,p)||!pi(i[p],o[p]))return!1}return!0}function TT(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function wT(i,o){var l=TT(i);i=0;for(var h;l;){if(l.nodeType===3){if(h=i+l.textContent.length,i<=o&&h>=o)return{node:l,offset:o-i};i=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=TT(l)}}function ET(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?ET(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function bT(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var o=fu(i.document);o instanceof i.HTMLIFrameElement;){try{var l=typeof o.contentWindow.location.href=="string"}catch{l=!1}if(l)i=o.contentWindow;else break;o=fu(i.document)}return o}function Rg(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function vI(i,o){var l=bT(o);o=i.focusedElem;var h=i.selectionRange;if(l!==o&&o&&o.ownerDocument&&ET(o.ownerDocument.documentElement,o)){if(h!==null&&Rg(o)){if(i=h.start,l=h.end,l===void 0&&(l=i),"selectionStart"in o)o.selectionStart=i,o.selectionEnd=Math.min(l,o.value.length);else if(l=(i=o.ownerDocument||document)&&i.defaultView||window,l.getSelection){l=l.getSelection();var p=o.textContent.length,T=Math.min(h.start,p);h=h.end===void 0?T:Math.min(h.end,p),!l.extend&&T>h&&(p=h,h=T,T=p),p=wT(o,T);var S=wT(o,h);p&&S&&(l.rangeCount!==1||l.anchorNode!==p.node||l.anchorOffset!==p.offset||l.focusNode!==S.node||l.focusOffset!==S.offset)&&(i=i.createRange(),i.setStart(p.node,p.offset),l.removeAllRanges(),T>h?(l.addRange(i),l.extend(S.node,S.offset)):(i.setEnd(S.node,S.offset),l.addRange(i)))}}for(i=[],l=o;l=l.parentNode;)l.nodeType===1&&i.push({element:l,left:l.scrollLeft,top:l.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<i.length;o++)l=i[o],l.element.scrollLeft=l.left,l.element.scrollTop=l.top}}var _I=rr&&"documentMode"in document&&11>=document.documentMode,bu=null,Ag=null,sh=null,Sg=!1;function RT(i,o,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Sg||bu==null||bu!==fu(h)||(h=bu,"selectionStart"in h&&Rg(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),sh&&oh(sh,h)||(sh=h,h=im(Ag,"onSelect"),0<h.length&&(o=new pu("onSelect","select",null,o,l),i.push({event:o,listeners:h}),o.target=bu)))}function dl(i,o){var l={};return l[i.toLowerCase()]=o.toLowerCase(),l["Webkit"+i]="webkit"+o,l["Moz"+i]="moz"+o,l}var Ru={animationend:dl("Animation","AnimationEnd"),animationiteration:dl("Animation","AnimationIteration"),animationstart:dl("Animation","AnimationStart"),transitionrun:dl("Transition","TransitionRun"),transitionstart:dl("Transition","TransitionStart"),transitioncancel:dl("Transition","TransitionCancel"),transitionend:dl("Transition","TransitionEnd")},Cg={},AT={};rr&&(AT=document.createElement("div").style,"AnimationEvent"in window||(delete Ru.animationend.animation,delete Ru.animationiteration.animation,delete Ru.animationstart.animation),"TransitionEvent"in window||delete Ru.transitionend.transition);function ml(i){if(Cg[i])return Cg[i];if(!Ru[i])return i;var o=Ru[i],l;for(l in o)if(o.hasOwnProperty(l)&&l in AT)return Cg[i]=o[l];return i}var ST=ml("animationend"),CT=ml("animationiteration"),DT=ml("animationstart"),TI=ml("transitionrun"),wI=ml("transitionstart"),EI=ml("transitioncancel"),IT=ml("transitionend"),OT=new Map,MT="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function ea(i,o){OT.set(i,o),ft(o,[i])}var Vi=[],Au=0,Dg=0;function bd(){for(var i=Au,o=Dg=Au=0;o<i;){var l=Vi[o];Vi[o++]=null;var h=Vi[o];Vi[o++]=null;var p=Vi[o];Vi[o++]=null;var T=Vi[o];if(Vi[o++]=null,h!==null&&p!==null){var S=h.pending;S===null?p.next=p:(p.next=S.next,S.next=p),h.pending=p}T!==0&&xT(l,p,T)}}function Rd(i,o,l,h){Vi[Au++]=i,Vi[Au++]=o,Vi[Au++]=l,Vi[Au++]=h,Dg|=h,i.lanes|=h,i=i.alternate,i!==null&&(i.lanes|=h)}function Ig(i,o,l,h){return Rd(i,o,l,h),Ad(i)}function Jo(i,o){return Rd(i,null,null,o),Ad(i)}function xT(i,o,l){i.lanes|=l;var h=i.alternate;h!==null&&(h.lanes|=l);for(var p=!1,T=i.return;T!==null;)T.childLanes|=l,h=T.alternate,h!==null&&(h.childLanes|=l),T.tag===22&&(i=T.stateNode,i===null||i._visibility&1||(p=!0)),i=T,T=T.return;p&&o!==null&&i.tag===3&&(T=i.stateNode,p=31-nr(l),T=T.hiddenUpdates,i=T[p],i===null?T[p]=[o]:i.push(o),o.lane=l|536870912)}function Ad(i){if(50<xh)throw xh=0,Py=null,Error(r(185));for(var o=i.return;o!==null;)i=o,o=i.return;return i.tag===3?i.stateNode:null}var Su={},NT=new WeakMap;function Ui(i,o){if(typeof i=="object"&&i!==null){var l=NT.get(i);return l!==void 0?l:(o={value:i,source:o,stack:de(o)},NT.set(i,o),o)}return{value:i,source:o,stack:de(o)}}var Cu=[],Du=0,Sd=null,Cd=0,zi=[],ji=0,pl=null,lo=1,uo="";function gl(i,o){Cu[Du++]=Cd,Cu[Du++]=Sd,Sd=i,Cd=o}function kT(i,o,l){zi[ji++]=lo,zi[ji++]=uo,zi[ji++]=pl,pl=i;var h=lo;i=uo;var p=32-nr(h)-1;h&=~(1<<p),l+=1;var T=32-nr(o)+p;if(30<T){var S=p-p%5;T=(h&(1<<S)-1).toString(32),h>>=S,p-=S,lo=1<<32-nr(o)+p|l<<p|h,uo=T+i}else lo=1<<T|l<<p|h,uo=i}function Og(i){i.return!==null&&(gl(i,1),kT(i,1,0))}function Mg(i){for(;i===Sd;)Sd=Cu[--Du],Cu[Du]=null,Cd=Cu[--Du],Cu[Du]=null;for(;i===pl;)pl=zi[--ji],zi[ji]=null,uo=zi[--ji],zi[ji]=null,lo=zi[--ji],zi[ji]=null}var Kr=null,vr=null,Vt=!1,ta=null,Aa=!1,xg=Error(r(519));function yl(i){var o=Error(r(418,""));throw ch(Ui(o,i)),xg}function PT(i){var o=i.stateNode,l=i.type,h=i.memoizedProps;switch(o[xe]=i,o[Ye]=h,l){case"dialog":St("cancel",o),St("close",o);break;case"iframe":case"object":case"embed":St("load",o);break;case"video":case"audio":for(l=0;l<kh.length;l++)St(kh[l],o);break;case"source":St("error",o);break;case"img":case"image":case"link":St("error",o),St("load",o);break;case"details":St("toggle",o);break;case"input":St("invalid",o),il(o,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0),rl(o);break;case"select":St("invalid",o);break;case"textarea":St("invalid",o),Xo(o,h.value,h.defaultValue,h.children),rl(o)}l=h.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||o.textContent===""+l||h.suppressHydrationWarning===!0||qE(o.textContent,l)?(h.popover!=null&&(St("beforetoggle",o),St("toggle",o)),h.onScroll!=null&&St("scroll",o),h.onScrollEnd!=null&&St("scrollend",o),h.onClick!=null&&(o.onclick=am),o=!0):o=!1,o||yl(i)}function LT(i){for(Kr=i.return;Kr;)switch(Kr.tag){case 3:case 27:Aa=!0;return;case 5:case 13:Aa=!1;return;default:Kr=Kr.return}}function lh(i){if(i!==Kr)return!1;if(!Vt)return LT(i),Vt=!0,!1;var o=!1,l;if((l=i.tag!==3&&i.tag!==27)&&((l=i.tag===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||Wy(i.type,i.memoizedProps)),l=!l),l&&(o=!0),o&&vr&&yl(i),LT(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8)if(l=i.data,l==="/$"){if(o===0){vr=ra(i.nextSibling);break e}o--}else l!=="$"&&l!=="$!"&&l!=="$?"||o++;i=i.nextSibling}vr=null}}else vr=Kr?ra(i.stateNode.nextSibling):null;return!0}function uh(){vr=Kr=null,Vt=!1}function ch(i){ta===null?ta=[i]:ta.push(i)}var hh=Error(r(460)),VT=Error(r(474)),Ng={then:function(){}};function UT(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Dd(){}function zT(i,o,l){switch(l=i[l],l===void 0?i.push(o):l!==o&&(o.then(Dd,Dd),o=l),o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,i===hh?Error(r(483)):i;default:if(typeof o.status=="string")o.then(Dd,Dd);else{if(i=on,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=o,i.status="pending",i.then(function(h){if(o.status==="pending"){var p=o;p.status="fulfilled",p.value=h}},function(h){if(o.status==="pending"){var p=o;p.status="rejected",p.reason=h}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,i===hh?Error(r(483)):i}throw fh=o,hh}}var fh=null;function jT(){if(fh===null)throw Error(r(459));var i=fh;return fh=null,i}var Iu=null,dh=0;function Id(i){var o=dh;return dh+=1,Iu===null&&(Iu=[]),zT(Iu,i,o)}function mh(i,o){o=o.props.ref,i.ref=o!==void 0?o:null}function Od(i,o){throw o.$$typeof===s?Error(r(525)):(i=Object.prototype.toString.call(o),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i)))}function BT(i){var o=i._init;return o(i._payload)}function $T(i){function o(Z,G){if(i){var ee=Z.deletions;ee===null?(Z.deletions=[G],Z.flags|=16):ee.push(G)}}function l(Z,G){if(!i)return null;for(;G!==null;)o(Z,G),G=G.sibling;return null}function h(Z){for(var G=new Map;Z!==null;)Z.key!==null?G.set(Z.key,Z):G.set(Z.index,Z),Z=Z.sibling;return G}function p(Z,G){return Z=hs(Z,G),Z.index=0,Z.sibling=null,Z}function T(Z,G,ee){return Z.index=ee,i?(ee=Z.alternate,ee!==null?(ee=ee.index,ee<G?(Z.flags|=33554434,G):ee):(Z.flags|=33554434,G)):(Z.flags|=1048576,G)}function S(Z){return i&&Z.alternate===null&&(Z.flags|=33554434),Z}function k(Z,G,ee,ce){return G===null||G.tag!==6?(G=Cy(ee,Z.mode,ce),G.return=Z,G):(G=p(G,ee),G.return=Z,G)}function B(Z,G,ee,ce){var ke=ee.type;return ke===f?le(Z,G,ee.props.children,ce,ee.key):G!==null&&(G.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===N&&BT(ke)===G.type)?(G=p(G,ee.props),mh(G,ee),G.return=Z,G):(G=Kd(ee.type,ee.key,ee.props,null,Z.mode,ce),mh(G,ee),G.return=Z,G)}function K(Z,G,ee,ce){return G===null||G.tag!==4||G.stateNode.containerInfo!==ee.containerInfo||G.stateNode.implementation!==ee.implementation?(G=Dy(ee,Z.mode,ce),G.return=Z,G):(G=p(G,ee.children||[]),G.return=Z,G)}function le(Z,G,ee,ce,ke){return G===null||G.tag!==7?(G=Cl(ee,Z.mode,ce,ke),G.return=Z,G):(G=p(G,ee),G.return=Z,G)}function me(Z,G,ee){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=Cy(""+G,Z.mode,ee),G.return=Z,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case u:return ee=Kd(G.type,G.key,G.props,null,Z.mode,ee),mh(ee,G),ee.return=Z,ee;case c:return G=Dy(G,Z.mode,ee),G.return=Z,G;case N:var ce=G._init;return G=ce(G._payload),me(Z,G,ee)}if(ye(G)||Y(G))return G=Cl(G,Z.mode,ee,null),G.return=Z,G;if(typeof G.then=="function")return me(Z,Id(G),ee);if(G.$$typeof===b)return me(Z,Hd(Z,G),ee);Od(Z,G)}return null}function te(Z,G,ee,ce){var ke=G!==null?G.key:null;if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return ke!==null?null:k(Z,G,""+ee,ce);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case u:return ee.key===ke?B(Z,G,ee,ce):null;case c:return ee.key===ke?K(Z,G,ee,ce):null;case N:return ke=ee._init,ee=ke(ee._payload),te(Z,G,ee,ce)}if(ye(ee)||Y(ee))return ke!==null?null:le(Z,G,ee,ce,null);if(typeof ee.then=="function")return te(Z,G,Id(ee),ce);if(ee.$$typeof===b)return te(Z,G,Hd(Z,ee),ce);Od(Z,ee)}return null}function oe(Z,G,ee,ce,ke){if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return Z=Z.get(ee)||null,k(G,Z,""+ce,ke);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case u:return Z=Z.get(ce.key===null?ee:ce.key)||null,B(G,Z,ce,ke);case c:return Z=Z.get(ce.key===null?ee:ce.key)||null,K(G,Z,ce,ke);case N:var vt=ce._init;return ce=vt(ce._payload),oe(Z,G,ee,ce,ke)}if(ye(ce)||Y(ce))return Z=Z.get(ee)||null,le(G,Z,ce,ke,null);if(typeof ce.then=="function")return oe(Z,G,ee,Id(ce),ke);if(ce.$$typeof===b)return oe(Z,G,ee,Hd(G,ce),ke);Od(G,ce)}return null}function Be(Z,G,ee,ce){for(var ke=null,vt=null,qe=G,Ke=G=0,lr=null;qe!==null&&Ke<ee.length;Ke++){qe.index>Ke?(lr=qe,qe=null):lr=qe.sibling;var Ut=te(Z,qe,ee[Ke],ce);if(Ut===null){qe===null&&(qe=lr);break}i&&qe&&Ut.alternate===null&&o(Z,qe),G=T(Ut,G,Ke),vt===null?ke=Ut:vt.sibling=Ut,vt=Ut,qe=lr}if(Ke===ee.length)return l(Z,qe),Vt&&gl(Z,Ke),ke;if(qe===null){for(;Ke<ee.length;Ke++)qe=me(Z,ee[Ke],ce),qe!==null&&(G=T(qe,G,Ke),vt===null?ke=qe:vt.sibling=qe,vt=qe);return Vt&&gl(Z,Ke),ke}for(qe=h(qe);Ke<ee.length;Ke++)lr=oe(qe,Z,Ke,ee[Ke],ce),lr!==null&&(i&&lr.alternate!==null&&qe.delete(lr.key===null?Ke:lr.key),G=T(lr,G,Ke),vt===null?ke=lr:vt.sibling=lr,vt=lr);return i&&qe.forEach(function(vs){return o(Z,vs)}),Vt&&gl(Z,Ke),ke}function ot(Z,G,ee,ce){if(ee==null)throw Error(r(151));for(var ke=null,vt=null,qe=G,Ke=G=0,lr=null,Ut=ee.next();qe!==null&&!Ut.done;Ke++,Ut=ee.next()){qe.index>Ke?(lr=qe,qe=null):lr=qe.sibling;var vs=te(Z,qe,Ut.value,ce);if(vs===null){qe===null&&(qe=lr);break}i&&qe&&vs.alternate===null&&o(Z,qe),G=T(vs,G,Ke),vt===null?ke=vs:vt.sibling=vs,vt=vs,qe=lr}if(Ut.done)return l(Z,qe),Vt&&gl(Z,Ke),ke;if(qe===null){for(;!Ut.done;Ke++,Ut=ee.next())Ut=me(Z,Ut.value,ce),Ut!==null&&(G=T(Ut,G,Ke),vt===null?ke=Ut:vt.sibling=Ut,vt=Ut);return Vt&&gl(Z,Ke),ke}for(qe=h(qe);!Ut.done;Ke++,Ut=ee.next())Ut=oe(qe,Z,Ke,Ut.value,ce),Ut!==null&&(i&&Ut.alternate!==null&&qe.delete(Ut.key===null?Ke:Ut.key),G=T(Ut,G,Ke),vt===null?ke=Ut:vt.sibling=Ut,vt=Ut);return i&&qe.forEach(function(L2){return o(Z,L2)}),Vt&&gl(Z,Ke),ke}function Dn(Z,G,ee,ce){if(typeof ee=="object"&&ee!==null&&ee.type===f&&ee.key===null&&(ee=ee.props.children),typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case u:e:{for(var ke=ee.key;G!==null;){if(G.key===ke){if(ke=ee.type,ke===f){if(G.tag===7){l(Z,G.sibling),ce=p(G,ee.props.children),ce.return=Z,Z=ce;break e}}else if(G.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===N&&BT(ke)===G.type){l(Z,G.sibling),ce=p(G,ee.props),mh(ce,ee),ce.return=Z,Z=ce;break e}l(Z,G);break}else o(Z,G);G=G.sibling}ee.type===f?(ce=Cl(ee.props.children,Z.mode,ce,ee.key),ce.return=Z,Z=ce):(ce=Kd(ee.type,ee.key,ee.props,null,Z.mode,ce),mh(ce,ee),ce.return=Z,Z=ce)}return S(Z);case c:e:{for(ke=ee.key;G!==null;){if(G.key===ke)if(G.tag===4&&G.stateNode.containerInfo===ee.containerInfo&&G.stateNode.implementation===ee.implementation){l(Z,G.sibling),ce=p(G,ee.children||[]),ce.return=Z,Z=ce;break e}else{l(Z,G);break}else o(Z,G);G=G.sibling}ce=Dy(ee,Z.mode,ce),ce.return=Z,Z=ce}return S(Z);case N:return ke=ee._init,ee=ke(ee._payload),Dn(Z,G,ee,ce)}if(ye(ee))return Be(Z,G,ee,ce);if(Y(ee)){if(ke=Y(ee),typeof ke!="function")throw Error(r(150));return ee=ke.call(ee),ot(Z,G,ee,ce)}if(typeof ee.then=="function")return Dn(Z,G,Id(ee),ce);if(ee.$$typeof===b)return Dn(Z,G,Hd(Z,ee),ce);Od(Z,ee)}return typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint"?(ee=""+ee,G!==null&&G.tag===6?(l(Z,G.sibling),ce=p(G,ee),ce.return=Z,Z=ce):(l(Z,G),ce=Cy(ee,Z.mode,ce),ce.return=Z,Z=ce),S(Z)):l(Z,G)}return function(Z,G,ee,ce){try{dh=0;var ke=Dn(Z,G,ee,ce);return Iu=null,ke}catch(qe){if(qe===hh)throw qe;var vt=qi(29,qe,null,Z.mode);return vt.lanes=ce,vt.return=Z,vt}finally{}}}var vl=$T(!0),FT=$T(!1),Ou=dt(null),Md=dt(0);function qT(i,o){i=wo,mt(Md,i),mt(Ou,o),wo=i|o.baseLanes}function kg(){mt(Md,wo),mt(Ou,Ou.current)}function Pg(){wo=Md.current,ct(Ou),ct(Md)}var Bi=dt(null),Sa=null;function es(i){var o=i.alternate;mt(Yn,Yn.current&1),mt(Bi,i),Sa===null&&(o===null||Ou.current!==null||o.memoizedState!==null)&&(Sa=i)}function HT(i){if(i.tag===22){if(mt(Yn,Yn.current),mt(Bi,i),Sa===null){var o=i.alternate;o!==null&&o.memoizedState!==null&&(Sa=i)}}else ts()}function ts(){mt(Yn,Yn.current),mt(Bi,Bi.current)}function co(i){ct(Bi),Sa===i&&(Sa=null),ct(Yn)}var Yn=dt(0);function xd(i){for(var o=i;o!==null;){if(o.tag===13){var l=o.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var bI=typeof AbortController<"u"?AbortController:function(){var i=[],o=this.signal={aborted:!1,addEventListener:function(l,h){i.push(h)}};this.abort=function(){o.aborted=!0,i.forEach(function(l){return l()})}},RI=n.unstable_scheduleCallback,AI=n.unstable_NormalPriority,Gn={$$typeof:b,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Lg(){return{controller:new bI,data:new Map,refCount:0}}function ph(i){i.refCount--,i.refCount===0&&RI(AI,function(){i.controller.abort()})}var gh=null,Vg=0,Mu=0,xu=null;function SI(i,o){if(gh===null){var l=gh=[];Vg=0,Mu=Fy(),xu={status:"pending",value:void 0,then:function(h){l.push(h)}}}return Vg++,o.then(YT,YT),o}function YT(){if(--Vg===0&&gh!==null){xu!==null&&(xu.status="fulfilled");var i=gh;gh=null,Mu=0,xu=null;for(var o=0;o<i.length;o++)(0,i[o])()}}function CI(i,o){var l=[],h={status:"pending",value:null,reason:null,then:function(p){l.push(p)}};return i.then(function(){h.status="fulfilled",h.value=o;for(var p=0;p<l.length;p++)(0,l[p])(o)},function(p){for(h.status="rejected",h.reason=p,p=0;p<l.length;p++)(0,l[p])(void 0)}),h}var GT=O.S;O.S=function(i,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&SI(i,o),GT!==null&&GT(i,o)};var _l=dt(null);function Ug(){var i=_l.current;return i!==null?i:on.pooledCache}function Nd(i,o){o===null?mt(_l,_l.current):mt(_l,o.pool)}function KT(){var i=Ug();return i===null?null:{parent:Gn._currentValue,pool:i}}var ns=0,pt=null,Qt=null,Un=null,kd=!1,Nu=!1,Tl=!1,Pd=0,yh=0,ku=null,DI=0;function xn(){throw Error(r(321))}function zg(i,o){if(o===null)return!1;for(var l=0;l<o.length&&l<i.length;l++)if(!pi(i[l],o[l]))return!1;return!0}function jg(i,o,l,h,p,T){return ns=T,pt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,O.H=i===null||i.memoizedState===null?wl:rs,Tl=!1,T=l(h,p),Tl=!1,Nu&&(T=ZT(o,l,h,p)),QT(i),T}function QT(i){O.H=Ca;var o=Qt!==null&&Qt.next!==null;if(ns=0,Un=Qt=pt=null,kd=!1,yh=0,ku=null,o)throw Error(r(300));i===null||or||(i=i.dependencies,i!==null&&qd(i)&&(or=!0))}function ZT(i,o,l,h){pt=i;var p=0;do{if(Nu&&(ku=null),yh=0,Nu=!1,25<=p)throw Error(r(301));if(p+=1,Un=Qt=null,i.updateQueue!=null){var T=i.updateQueue;T.lastEffect=null,T.events=null,T.stores=null,T.memoCache!=null&&(T.memoCache.index=0)}O.H=El,T=o(l,h)}while(Nu);return T}function II(){var i=O.H,o=i.useState()[0];return o=typeof o.then=="function"?vh(o):o,i=i.useState()[0],(Qt!==null?Qt.memoizedState:null)!==i&&(pt.flags|=1024),o}function Bg(){var i=Pd!==0;return Pd=0,i}function $g(i,o,l){o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~l}function Fg(i){if(kd){for(i=i.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}kd=!1}ns=0,Un=Qt=pt=null,Nu=!1,yh=Pd=0,ku=null}function oi(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Un===null?pt.memoizedState=Un=i:Un=Un.next=i,Un}function zn(){if(Qt===null){var i=pt.alternate;i=i!==null?i.memoizedState:null}else i=Qt.next;var o=Un===null?pt.memoizedState:Un.next;if(o!==null)Un=o,Qt=i;else{if(i===null)throw pt.alternate===null?Error(r(467)):Error(r(310));Qt=i,i={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},Un===null?pt.memoizedState=Un=i:Un=Un.next=i}return Un}var Ld;Ld=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function vh(i){var o=yh;return yh+=1,ku===null&&(ku=[]),i=zT(ku,i,o),o=pt,(Un===null?o.memoizedState:Un.next)===null&&(o=o.alternate,O.H=o===null||o.memoizedState===null?wl:rs),i}function Vd(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return vh(i);if(i.$$typeof===b)return Lr(i)}throw Error(r(438,String(i)))}function qg(i){var o=null,l=pt.updateQueue;if(l!==null&&(o=l.memoCache),o==null){var h=pt.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(o={data:h.data.map(function(p){return p.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),l===null&&(l=Ld(),pt.updateQueue=l),l.memoCache=o,l=o.data[o.index],l===void 0)for(l=o.data[o.index]=Array(i),h=0;h<i;h++)l[h]=$;return o.index++,l}function ho(i,o){return typeof o=="function"?o(i):o}function Ud(i){var o=zn();return Hg(o,Qt,i)}function Hg(i,o,l){var h=i.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=l;var p=i.baseQueue,T=h.pending;if(T!==null){if(p!==null){var S=p.next;p.next=T.next,T.next=S}o.baseQueue=p=T,h.pending=null}if(T=i.baseState,p===null)i.memoizedState=T;else{o=p.next;var k=S=null,B=null,K=o,le=!1;do{var me=K.lane&-536870913;if(me!==K.lane?(Mt&me)===me:(ns&me)===me){var te=K.revertLane;if(te===0)B!==null&&(B=B.next={lane:0,revertLane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),me===Mu&&(le=!0);else if((ns&te)===te){K=K.next,te===Mu&&(le=!0);continue}else me={lane:0,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},B===null?(k=B=me,S=T):B=B.next=me,pt.lanes|=te,fs|=te;me=K.action,Tl&&l(T,me),T=K.hasEagerState?K.eagerState:l(T,me)}else te={lane:me,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},B===null?(k=B=te,S=T):B=B.next=te,pt.lanes|=me,fs|=me;K=K.next}while(K!==null&&K!==o);if(B===null?S=T:B.next=k,!pi(T,i.memoizedState)&&(or=!0,le&&(l=xu,l!==null)))throw l;i.memoizedState=T,i.baseState=S,i.baseQueue=B,h.lastRenderedState=T}return p===null&&(h.lanes=0),[i.memoizedState,h.dispatch]}function Yg(i){var o=zn(),l=o.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var h=l.dispatch,p=l.pending,T=o.memoizedState;if(p!==null){l.pending=null;var S=p=p.next;do T=i(T,S.action),S=S.next;while(S!==p);pi(T,o.memoizedState)||(or=!0),o.memoizedState=T,o.baseQueue===null&&(o.baseState=T),l.lastRenderedState=T}return[T,h]}function XT(i,o,l){var h=pt,p=zn(),T=Vt;if(T){if(l===void 0)throw Error(r(407));l=l()}else l=o();var S=!pi((Qt||p).memoizedState,l);if(S&&(p.memoizedState=l,or=!0),p=p.queue,Qg(ew.bind(null,h,p,i),[i]),p.getSnapshot!==o||S||Un!==null&&Un.memoizedState.tag&1){if(h.flags|=2048,Pu(9,JT.bind(null,h,p,l,o),{destroy:void 0},null),on===null)throw Error(r(349));T||(ns&60)!==0||WT(h,o,l)}return l}function WT(i,o,l){i.flags|=16384,i={getSnapshot:o,value:l},o=pt.updateQueue,o===null?(o=Ld(),pt.updateQueue=o,o.stores=[i]):(l=o.stores,l===null?o.stores=[i]:l.push(i))}function JT(i,o,l,h){o.value=l,o.getSnapshot=h,tw(o)&&nw(i)}function ew(i,o,l){return l(function(){tw(o)&&nw(i)})}function tw(i){var o=i.getSnapshot;i=i.value;try{var l=o();return!pi(i,l)}catch{return!0}}function nw(i){var o=Jo(i,2);o!==null&&Qr(o,i,2)}function Gg(i){var o=oi();if(typeof i=="function"){var l=i;if(i=l(),Tl){qr(!0);try{l()}finally{qr(!1)}}}return o.memoizedState=o.baseState=i,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ho,lastRenderedState:i},o}function rw(i,o,l,h){return i.baseState=l,Hg(i,Qt,typeof h=="function"?h:ho)}function OI(i,o,l,h,p){if(Bd(i))throw Error(r(485));if(i=o.action,i!==null){var T={payload:p,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){T.listeners.push(S)}};O.T!==null?l(!0):T.isTransition=!1,h(T),l=o.pending,l===null?(T.next=o.pending=T,iw(o,T)):(T.next=l.next,o.pending=l.next=T)}}function iw(i,o){var l=o.action,h=o.payload,p=i.state;if(o.isTransition){var T=O.T,S={};O.T=S;try{var k=l(p,h),B=O.S;B!==null&&B(S,k),aw(i,o,k)}catch(K){Kg(i,o,K)}finally{O.T=T}}else try{T=l(p,h),aw(i,o,T)}catch(K){Kg(i,o,K)}}function aw(i,o,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(h){ow(i,o,h)},function(h){return Kg(i,o,h)}):ow(i,o,l)}function ow(i,o,l){o.status="fulfilled",o.value=l,sw(o),i.state=l,o=i.pending,o!==null&&(l=o.next,l===o?i.pending=null:(l=l.next,o.next=l,iw(i,l)))}function Kg(i,o,l){var h=i.pending;if(i.pending=null,h!==null){h=h.next;do o.status="rejected",o.reason=l,sw(o),o=o.next;while(o!==h)}i.action=null}function sw(i){i=i.listeners;for(var o=0;o<i.length;o++)(0,i[o])()}function lw(i,o){return o}function uw(i,o){if(Vt){var l=on.formState;if(l!==null){e:{var h=pt;if(Vt){if(vr){t:{for(var p=vr,T=Aa;p.nodeType!==8;){if(!T){p=null;break t}if(p=ra(p.nextSibling),p===null){p=null;break t}}T=p.data,p=T==="F!"||T==="F"?p:null}if(p){vr=ra(p.nextSibling),h=p.data==="F!";break e}}yl(h)}h=!1}h&&(o=l[0])}}return l=oi(),l.memoizedState=l.baseState=o,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:lw,lastRenderedState:o},l.queue=h,l=Cw.bind(null,pt,h),h.dispatch=l,h=Gg(!1),T=ey.bind(null,pt,!1,h.queue),h=oi(),p={state:o,dispatch:null,action:i,pending:null},h.queue=p,l=OI.bind(null,pt,p,T,l),p.dispatch=l,h.memoizedState=i,[o,l,!1]}function cw(i){var o=zn();return hw(o,Qt,i)}function hw(i,o,l){o=Hg(i,o,lw)[0],i=Ud(ho)[0],o=typeof o=="object"&&o!==null&&typeof o.then=="function"?vh(o):o;var h=zn(),p=h.queue,T=p.dispatch;return l!==h.memoizedState&&(pt.flags|=2048,Pu(9,MI.bind(null,p,l),{destroy:void 0},null)),[o,T,i]}function MI(i,o){i.action=o}function fw(i){var o=zn(),l=Qt;if(l!==null)return hw(o,l,i);zn(),o=o.memoizedState,l=zn();var h=l.queue.dispatch;return l.memoizedState=i,[o,h,!1]}function Pu(i,o,l,h){return i={tag:i,create:o,inst:l,deps:h,next:null},o=pt.updateQueue,o===null&&(o=Ld(),pt.updateQueue=o),l=o.lastEffect,l===null?o.lastEffect=i.next=i:(h=l.next,l.next=i,i.next=h,o.lastEffect=i),i}function dw(){return zn().memoizedState}function zd(i,o,l,h){var p=oi();pt.flags|=i,p.memoizedState=Pu(1|o,l,{destroy:void 0},h===void 0?null:h)}function jd(i,o,l,h){var p=zn();h=h===void 0?null:h;var T=p.memoizedState.inst;Qt!==null&&h!==null&&zg(h,Qt.memoizedState.deps)?p.memoizedState=Pu(o,l,T,h):(pt.flags|=i,p.memoizedState=Pu(1|o,l,T,h))}function mw(i,o){zd(8390656,8,i,o)}function Qg(i,o){jd(2048,8,i,o)}function pw(i,o){return jd(4,2,i,o)}function gw(i,o){return jd(4,4,i,o)}function yw(i,o){if(typeof o=="function"){i=i();var l=o(i);return function(){typeof l=="function"?l():o(null)}}if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function vw(i,o,l){l=l!=null?l.concat([i]):null,jd(4,4,yw.bind(null,o,i),l)}function Zg(){}function _w(i,o){var l=zn();o=o===void 0?null:o;var h=l.memoizedState;return o!==null&&zg(o,h[1])?h[0]:(l.memoizedState=[i,o],i)}function Tw(i,o){var l=zn();o=o===void 0?null:o;var h=l.memoizedState;if(o!==null&&zg(o,h[1]))return h[0];if(h=i(),Tl){qr(!0);try{i()}finally{qr(!1)}}return l.memoizedState=[h,o],h}function Xg(i,o,l){return l===void 0||(ns&1073741824)!==0?i.memoizedState=o:(i.memoizedState=l,i=EE(),pt.lanes|=i,fs|=i,l)}function ww(i,o,l,h){return pi(l,o)?l:Ou.current!==null?(i=Xg(i,l,h),pi(i,o)||(or=!0),i):(ns&42)===0?(or=!0,i.memoizedState=l):(i=EE(),pt.lanes|=i,fs|=i,o)}function Ew(i,o,l,h,p){var T=_e.p;_e.p=T!==0&&8>T?T:8;var S=O.T,k={};O.T=k,ey(i,!1,o,l);try{var B=p(),K=O.S;if(K!==null&&K(k,B),B!==null&&typeof B=="object"&&typeof B.then=="function"){var le=CI(B,h);_h(i,o,le,_i(i))}else _h(i,o,h,_i(i))}catch(me){_h(i,o,{then:function(){},status:"rejected",reason:me},_i())}finally{_e.p=T,O.T=S}}function xI(){}function Wg(i,o,l,h){if(i.tag!==5)throw Error(r(476));var p=bw(i).queue;Ew(i,p,o,Le,l===null?xI:function(){return Rw(i),l(h)})}function bw(i){var o=i.memoizedState;if(o!==null)return o;o={memoizedState:Le,baseState:Le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ho,lastRenderedState:Le},next:null};var l={};return o.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ho,lastRenderedState:l},next:null},i.memoizedState=o,i=i.alternate,i!==null&&(i.memoizedState=o),o}function Rw(i){var o=bw(i).next.queue;_h(i,o,{},_i())}function Jg(){return Lr(zh)}function Aw(){return zn().memoizedState}function Sw(){return zn().memoizedState}function NI(i){for(var o=i.return;o!==null;){switch(o.tag){case 24:case 3:var l=_i();i=os(l);var h=ss(o,i,l);h!==null&&(Qr(h,o,l),Eh(h,o,l)),o={cache:Lg()},i.payload=o;return}o=o.return}}function kI(i,o,l){var h=_i();l={lane:h,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Bd(i)?Dw(o,l):(l=Ig(i,o,l,h),l!==null&&(Qr(l,i,h),Iw(l,o,h)))}function Cw(i,o,l){var h=_i();_h(i,o,l,h)}function _h(i,o,l,h){var p={lane:h,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Bd(i))Dw(o,p);else{var T=i.alternate;if(i.lanes===0&&(T===null||T.lanes===0)&&(T=o.lastRenderedReducer,T!==null))try{var S=o.lastRenderedState,k=T(S,l);if(p.hasEagerState=!0,p.eagerState=k,pi(k,S))return Rd(i,o,p,0),on===null&&bd(),!1}catch{}finally{}if(l=Ig(i,o,p,h),l!==null)return Qr(l,i,h),Iw(l,o,h),!0}return!1}function ey(i,o,l,h){if(h={lane:2,revertLane:Fy(),action:h,hasEagerState:!1,eagerState:null,next:null},Bd(i)){if(o)throw Error(r(479))}else o=Ig(i,l,h,2),o!==null&&Qr(o,i,2)}function Bd(i){var o=i.alternate;return i===pt||o!==null&&o===pt}function Dw(i,o){Nu=kd=!0;var l=i.pending;l===null?o.next=o:(o.next=l.next,l.next=o),i.pending=o}function Iw(i,o,l){if((l&4194176)!==0){var h=o.lanes;h&=i.pendingLanes,l|=h,o.lanes=l,$e(i,l)}}var Ca={readContext:Lr,use:Vd,useCallback:xn,useContext:xn,useEffect:xn,useImperativeHandle:xn,useLayoutEffect:xn,useInsertionEffect:xn,useMemo:xn,useReducer:xn,useRef:xn,useState:xn,useDebugValue:xn,useDeferredValue:xn,useTransition:xn,useSyncExternalStore:xn,useId:xn};Ca.useCacheRefresh=xn,Ca.useMemoCache=xn,Ca.useHostTransitionStatus=xn,Ca.useFormState=xn,Ca.useActionState=xn,Ca.useOptimistic=xn;var wl={readContext:Lr,use:Vd,useCallback:function(i,o){return oi().memoizedState=[i,o===void 0?null:o],i},useContext:Lr,useEffect:mw,useImperativeHandle:function(i,o,l){l=l!=null?l.concat([i]):null,zd(4194308,4,yw.bind(null,o,i),l)},useLayoutEffect:function(i,o){return zd(4194308,4,i,o)},useInsertionEffect:function(i,o){zd(4,2,i,o)},useMemo:function(i,o){var l=oi();o=o===void 0?null:o;var h=i();if(Tl){qr(!0);try{i()}finally{qr(!1)}}return l.memoizedState=[h,o],h},useReducer:function(i,o,l){var h=oi();if(l!==void 0){var p=l(o);if(Tl){qr(!0);try{l(o)}finally{qr(!1)}}}else p=o;return h.memoizedState=h.baseState=p,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:p},h.queue=i,i=i.dispatch=kI.bind(null,pt,i),[h.memoizedState,i]},useRef:function(i){var o=oi();return i={current:i},o.memoizedState=i},useState:function(i){i=Gg(i);var o=i.queue,l=Cw.bind(null,pt,o);return o.dispatch=l,[i.memoizedState,l]},useDebugValue:Zg,useDeferredValue:function(i,o){var l=oi();return Xg(l,i,o)},useTransition:function(){var i=Gg(!1);return i=Ew.bind(null,pt,i.queue,!0,!1),oi().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,o,l){var h=pt,p=oi();if(Vt){if(l===void 0)throw Error(r(407));l=l()}else{if(l=o(),on===null)throw Error(r(349));(Mt&60)!==0||WT(h,o,l)}p.memoizedState=l;var T={value:l,getSnapshot:o};return p.queue=T,mw(ew.bind(null,h,T,i),[i]),h.flags|=2048,Pu(9,JT.bind(null,h,T,l,o),{destroy:void 0},null),l},useId:function(){var i=oi(),o=on.identifierPrefix;if(Vt){var l=uo,h=lo;l=(h&~(1<<32-nr(h)-1)).toString(32)+l,o=":"+o+"R"+l,l=Pd++,0<l&&(o+="H"+l.toString(32)),o+=":"}else l=DI++,o=":"+o+"r"+l.toString(32)+":";return i.memoizedState=o},useCacheRefresh:function(){return oi().memoizedState=NI.bind(null,pt)}};wl.useMemoCache=qg,wl.useHostTransitionStatus=Jg,wl.useFormState=uw,wl.useActionState=uw,wl.useOptimistic=function(i){var o=oi();o.memoizedState=o.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=l,o=ey.bind(null,pt,!0,l),l.dispatch=o,[i,o]};var rs={readContext:Lr,use:Vd,useCallback:_w,useContext:Lr,useEffect:Qg,useImperativeHandle:vw,useInsertionEffect:pw,useLayoutEffect:gw,useMemo:Tw,useReducer:Ud,useRef:dw,useState:function(){return Ud(ho)},useDebugValue:Zg,useDeferredValue:function(i,o){var l=zn();return ww(l,Qt.memoizedState,i,o)},useTransition:function(){var i=Ud(ho)[0],o=zn().memoizedState;return[typeof i=="boolean"?i:vh(i),o]},useSyncExternalStore:XT,useId:Aw};rs.useCacheRefresh=Sw,rs.useMemoCache=qg,rs.useHostTransitionStatus=Jg,rs.useFormState=cw,rs.useActionState=cw,rs.useOptimistic=function(i,o){var l=zn();return rw(l,Qt,i,o)};var El={readContext:Lr,use:Vd,useCallback:_w,useContext:Lr,useEffect:Qg,useImperativeHandle:vw,useInsertionEffect:pw,useLayoutEffect:gw,useMemo:Tw,useReducer:Yg,useRef:dw,useState:function(){return Yg(ho)},useDebugValue:Zg,useDeferredValue:function(i,o){var l=zn();return Qt===null?Xg(l,i,o):ww(l,Qt.memoizedState,i,o)},useTransition:function(){var i=Yg(ho)[0],o=zn().memoizedState;return[typeof i=="boolean"?i:vh(i),o]},useSyncExternalStore:XT,useId:Aw};El.useCacheRefresh=Sw,El.useMemoCache=qg,El.useHostTransitionStatus=Jg,El.useFormState=fw,El.useActionState=fw,El.useOptimistic=function(i,o){var l=zn();return Qt!==null?rw(l,Qt,i,o):(l.baseState=i,[i,l.queue.dispatch])};function ty(i,o,l,h){o=i.memoizedState,l=l(h,o),l=l==null?o:z({},o,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var ny={isMounted:function(i){return(i=i._reactInternals)?ge(i)===i:!1},enqueueSetState:function(i,o,l){i=i._reactInternals;var h=_i(),p=os(h);p.payload=o,l!=null&&(p.callback=l),o=ss(i,p,h),o!==null&&(Qr(o,i,h),Eh(o,i,h))},enqueueReplaceState:function(i,o,l){i=i._reactInternals;var h=_i(),p=os(h);p.tag=1,p.payload=o,l!=null&&(p.callback=l),o=ss(i,p,h),o!==null&&(Qr(o,i,h),Eh(o,i,h))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var l=_i(),h=os(l);h.tag=2,o!=null&&(h.callback=o),o=ss(i,h,l),o!==null&&(Qr(o,i,l),Eh(o,i,l))}};function Ow(i,o,l,h,p,T,S){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,T,S):o.prototype&&o.prototype.isPureReactComponent?!oh(l,h)||!oh(p,T):!0}function Mw(i,o,l,h){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(l,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(l,h),o.state!==i&&ny.enqueueReplaceState(o,o.state,null)}function bl(i,o){var l=o;if("ref"in o){l={};for(var h in o)h!=="ref"&&(l[h]=o[h])}if(i=i.defaultProps){l===o&&(l=z({},l));for(var p in i)l[p]===void 0&&(l[p]=i[p])}return l}var $d=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function xw(i){$d(i)}function Nw(i){console.error(i)}function kw(i){$d(i)}function Fd(i,o){try{var l=i.onUncaughtError;l(o.value,{componentStack:o.stack})}catch(h){setTimeout(function(){throw h})}}function Pw(i,o,l){try{var h=i.onCaughtError;h(l.value,{componentStack:l.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function ry(i,o,l){return l=os(l),l.tag=3,l.payload={element:null},l.callback=function(){Fd(i,o)},l}function Lw(i){return i=os(i),i.tag=3,i}function Vw(i,o,l,h){var p=l.type.getDerivedStateFromError;if(typeof p=="function"){var T=h.value;i.payload=function(){return p(T)},i.callback=function(){Pw(o,l,h)}}var S=l.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(i.callback=function(){Pw(o,l,h),typeof p!="function"&&(ds===null?ds=new Set([this]):ds.add(this));var k=h.stack;this.componentDidCatch(h.value,{componentStack:k!==null?k:""})})}function PI(i,o,l,h,p){if(l.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(o=l.alternate,o!==null&&wh(o,l,p,!0),l=Bi.current,l!==null){switch(l.tag){case 13:return Sa===null?Uy():l.alternate===null&&Cn===0&&(Cn=3),l.flags&=-257,l.flags|=65536,l.lanes=p,h===Ng?l.flags|=16384:(o=l.updateQueue,o===null?l.updateQueue=new Set([h]):o.add(h),jy(i,h,p)),!1;case 22:return l.flags|=65536,h===Ng?l.flags|=16384:(o=l.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([h])},l.updateQueue=o):(l=o.retryQueue,l===null?o.retryQueue=new Set([h]):l.add(h)),jy(i,h,p)),!1}throw Error(r(435,l.tag))}return jy(i,h,p),Uy(),!1}if(Vt)return o=Bi.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=p,h!==xg&&(i=Error(r(422),{cause:h}),ch(Ui(i,l)))):(h!==xg&&(o=Error(r(423),{cause:h}),ch(Ui(o,l))),i=i.current.alternate,i.flags|=65536,p&=-p,i.lanes|=p,h=Ui(h,l),p=ry(i.stateNode,h,p),vy(i,p),Cn!==4&&(Cn=2)),!1;var T=Error(r(520),{cause:h});if(T=Ui(T,l),Oh===null?Oh=[T]:Oh.push(T),Cn!==4&&(Cn=2),o===null)return!0;h=Ui(h,l),l=o;do{switch(l.tag){case 3:return l.flags|=65536,i=p&-p,l.lanes|=i,i=ry(l.stateNode,h,i),vy(l,i),!1;case 1:if(o=l.type,T=l.stateNode,(l.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(ds===null||!ds.has(T))))return l.flags|=65536,p&=-p,l.lanes|=p,p=Lw(p),Vw(p,i,l,h),vy(l,p),!1}l=l.return}while(l!==null);return!1}var Uw=Error(r(461)),or=!1;function _r(i,o,l,h){o.child=i===null?FT(o,null,l,h):vl(o,i.child,l,h)}function zw(i,o,l,h,p){l=l.render;var T=o.ref;if("ref"in h){var S={};for(var k in h)k!=="ref"&&(S[k]=h[k])}else S=h;return Al(o),h=jg(i,o,l,S,T,p),k=Bg(),i!==null&&!or?($g(i,o,p),fo(i,o,p)):(Vt&&k&&Og(o),o.flags|=1,_r(i,o,h,p),o.child)}function jw(i,o,l,h,p){if(i===null){var T=l.type;return typeof T=="function"&&!Sy(T)&&T.defaultProps===void 0&&l.compare===null?(o.tag=15,o.type=T,Bw(i,o,T,h,p)):(i=Kd(l.type,null,h,o,o.mode,p),i.ref=o.ref,i.return=o,o.child=i)}if(T=i.child,!fy(i,p)){var S=T.memoizedProps;if(l=l.compare,l=l!==null?l:oh,l(S,h)&&i.ref===o.ref)return fo(i,o,p)}return o.flags|=1,i=hs(T,h),i.ref=o.ref,i.return=o,o.child=i}function Bw(i,o,l,h,p){if(i!==null){var T=i.memoizedProps;if(oh(T,h)&&i.ref===o.ref)if(or=!1,o.pendingProps=h=T,fy(i,p))(i.flags&131072)!==0&&(or=!0);else return o.lanes=i.lanes,fo(i,o,p)}return iy(i,o,l,h,p)}function $w(i,o,l){var h=o.pendingProps,p=h.children,T=(o.stateNode._pendingVisibility&2)!==0,S=i!==null?i.memoizedState:null;if(Th(i,o),h.mode==="hidden"||T){if((o.flags&128)!==0){if(h=S!==null?S.baseLanes|l:l,i!==null){for(p=o.child=i.child,T=0;p!==null;)T=T|p.lanes|p.childLanes,p=p.sibling;o.childLanes=T&~h}else o.childLanes=0,o.child=null;return Fw(i,o,h,l)}if((l&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},i!==null&&Nd(o,S!==null?S.cachePool:null),S!==null?qT(o,S):kg(),HT(o);else return o.lanes=o.childLanes=536870912,Fw(i,o,S!==null?S.baseLanes|l:l,l)}else S!==null?(Nd(o,S.cachePool),qT(o,S),ts(),o.memoizedState=null):(i!==null&&Nd(o,null),kg(),ts());return _r(i,o,p,l),o.child}function Fw(i,o,l,h){var p=Ug();return p=p===null?null:{parent:Gn._currentValue,pool:p},o.memoizedState={baseLanes:l,cachePool:p},i!==null&&Nd(o,null),kg(),HT(o),i!==null&&wh(i,o,h,!0),null}function Th(i,o){var l=o.ref;if(l===null)i!==null&&i.ref!==null&&(o.flags|=2097664);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(i===null||i.ref!==l)&&(o.flags|=2097664)}}function iy(i,o,l,h,p){return Al(o),l=jg(i,o,l,h,void 0,p),h=Bg(),i!==null&&!or?($g(i,o,p),fo(i,o,p)):(Vt&&h&&Og(o),o.flags|=1,_r(i,o,l,p),o.child)}function qw(i,o,l,h,p,T){return Al(o),o.updateQueue=null,l=ZT(o,h,l,p),QT(i),h=Bg(),i!==null&&!or?($g(i,o,T),fo(i,o,T)):(Vt&&h&&Og(o),o.flags|=1,_r(i,o,l,T),o.child)}function Hw(i,o,l,h,p){if(Al(o),o.stateNode===null){var T=Su,S=l.contextType;typeof S=="object"&&S!==null&&(T=Lr(S)),T=new l(h,T),o.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,T.updater=ny,o.stateNode=T,T._reactInternals=o,T=o.stateNode,T.props=h,T.state=o.memoizedState,T.refs={},gy(o),S=l.contextType,T.context=typeof S=="object"&&S!==null?Lr(S):Su,T.state=o.memoizedState,S=l.getDerivedStateFromProps,typeof S=="function"&&(ty(o,l,S,h),T.state=o.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(S=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),S!==T.state&&ny.enqueueReplaceState(T,T.state,null),Rh(o,h,T,p),bh(),T.state=o.memoizedState),typeof T.componentDidMount=="function"&&(o.flags|=4194308),h=!0}else if(i===null){T=o.stateNode;var k=o.memoizedProps,B=bl(l,k);T.props=B;var K=T.context,le=l.contextType;S=Su,typeof le=="object"&&le!==null&&(S=Lr(le));var me=l.getDerivedStateFromProps;le=typeof me=="function"||typeof T.getSnapshotBeforeUpdate=="function",k=o.pendingProps!==k,le||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(k||K!==S)&&Mw(o,T,h,S),as=!1;var te=o.memoizedState;T.state=te,Rh(o,h,T,p),bh(),K=o.memoizedState,k||te!==K||as?(typeof me=="function"&&(ty(o,l,me,h),K=o.memoizedState),(B=as||Ow(o,l,B,h,te,K,S))?(le||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(o.flags|=4194308)):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=K),T.props=h,T.state=K,T.context=S,h=B):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{T=o.stateNode,yy(i,o),S=o.memoizedProps,le=bl(l,S),T.props=le,me=o.pendingProps,te=T.context,K=l.contextType,B=Su,typeof K=="object"&&K!==null&&(B=Lr(K)),k=l.getDerivedStateFromProps,(K=typeof k=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(S!==me||te!==B)&&Mw(o,T,h,B),as=!1,te=o.memoizedState,T.state=te,Rh(o,h,T,p),bh();var oe=o.memoizedState;S!==me||te!==oe||as||i!==null&&i.dependencies!==null&&qd(i.dependencies)?(typeof k=="function"&&(ty(o,l,k,h),oe=o.memoizedState),(le=as||Ow(o,l,le,h,te,oe,B)||i!==null&&i.dependencies!==null&&qd(i.dependencies))?(K||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(h,oe,B),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(h,oe,B)),typeof T.componentDidUpdate=="function"&&(o.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof T.componentDidUpdate!="function"||S===i.memoizedProps&&te===i.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||S===i.memoizedProps&&te===i.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=oe),T.props=h,T.state=oe,T.context=B,h=le):(typeof T.componentDidUpdate!="function"||S===i.memoizedProps&&te===i.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||S===i.memoizedProps&&te===i.memoizedState||(o.flags|=1024),h=!1)}return T=h,Th(i,o),h=(o.flags&128)!==0,T||h?(T=o.stateNode,l=h&&typeof l.getDerivedStateFromError!="function"?null:T.render(),o.flags|=1,i!==null&&h?(o.child=vl(o,i.child,null,p),o.child=vl(o,null,l,p)):_r(i,o,l,p),o.memoizedState=T.state,i=o.child):i=fo(i,o,p),i}function Yw(i,o,l,h){return uh(),o.flags|=256,_r(i,o,l,h),o.child}var ay={dehydrated:null,treeContext:null,retryLane:0};function oy(i){return{baseLanes:i,cachePool:KT()}}function sy(i,o,l){return i=i!==null?i.childLanes&~l:0,o&&(i|=Hi),i}function Gw(i,o,l){var h=o.pendingProps,p=!1,T=(o.flags&128)!==0,S;if((S=T)||(S=i!==null&&i.memoizedState===null?!1:(Yn.current&2)!==0),S&&(p=!0,o.flags&=-129),S=(o.flags&32)!==0,o.flags&=-33,i===null){if(Vt){if(p?es(o):ts(),Vt){var k=vr,B;if(B=k){e:{for(B=k,k=Aa;B.nodeType!==8;){if(!k){k=null;break e}if(B=ra(B.nextSibling),B===null){k=null;break e}}k=B}k!==null?(o.memoizedState={dehydrated:k,treeContext:pl!==null?{id:lo,overflow:uo}:null,retryLane:536870912},B=qi(18,null,null,0),B.stateNode=k,B.return=o,o.child=B,Kr=o,vr=null,B=!0):B=!1}B||yl(o)}if(k=o.memoizedState,k!==null&&(k=k.dehydrated,k!==null))return k.data==="$!"?o.lanes=16:o.lanes=536870912,null;co(o)}return k=h.children,h=h.fallback,p?(ts(),p=o.mode,k=uy({mode:"hidden",children:k},p),h=Cl(h,p,l,null),k.return=o,h.return=o,k.sibling=h,o.child=k,p=o.child,p.memoizedState=oy(l),p.childLanes=sy(i,S,l),o.memoizedState=ay,h):(es(o),ly(o,k))}if(B=i.memoizedState,B!==null&&(k=B.dehydrated,k!==null)){if(T)o.flags&256?(es(o),o.flags&=-257,o=cy(i,o,l)):o.memoizedState!==null?(ts(),o.child=i.child,o.flags|=128,o=null):(ts(),p=h.fallback,k=o.mode,h=uy({mode:"visible",children:h.children},k),p=Cl(p,k,l,null),p.flags|=2,h.return=o,p.return=o,h.sibling=p,o.child=h,vl(o,i.child,null,l),h=o.child,h.memoizedState=oy(l),h.childLanes=sy(i,S,l),o.memoizedState=ay,o=p);else if(es(o),k.data==="$!"){if(S=k.nextSibling&&k.nextSibling.dataset,S)var K=S.dgst;S=K,h=Error(r(419)),h.stack="",h.digest=S,ch({value:h,source:null,stack:null}),o=cy(i,o,l)}else if(or||wh(i,o,l,!1),S=(l&i.childLanes)!==0,or||S){if(S=on,S!==null){if(h=l&-l,(h&42)!==0)h=1;else switch(h){case 2:h=1;break;case 8:h=4;break;case 32:h=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:h=64;break;case 268435456:h=134217728;break;default:h=0}if(h=(h&(S.suspendedLanes|l))!==0?0:h,h!==0&&h!==B.retryLane)throw B.retryLane=h,Jo(i,h),Qr(S,i,h),Uw}k.data==="$?"||Uy(),o=cy(i,o,l)}else k.data==="$?"?(o.flags|=128,o.child=i.child,o=ZI.bind(null,i),k._reactRetry=o,o=null):(i=B.treeContext,vr=ra(k.nextSibling),Kr=o,Vt=!0,ta=null,Aa=!1,i!==null&&(zi[ji++]=lo,zi[ji++]=uo,zi[ji++]=pl,lo=i.id,uo=i.overflow,pl=o),o=ly(o,h.children),o.flags|=4096);return o}return p?(ts(),p=h.fallback,k=o.mode,B=i.child,K=B.sibling,h=hs(B,{mode:"hidden",children:h.children}),h.subtreeFlags=B.subtreeFlags&31457280,K!==null?p=hs(K,p):(p=Cl(p,k,l,null),p.flags|=2),p.return=o,h.return=o,h.sibling=p,o.child=h,h=p,p=o.child,k=i.child.memoizedState,k===null?k=oy(l):(B=k.cachePool,B!==null?(K=Gn._currentValue,B=B.parent!==K?{parent:K,pool:K}:B):B=KT(),k={baseLanes:k.baseLanes|l,cachePool:B}),p.memoizedState=k,p.childLanes=sy(i,S,l),o.memoizedState=ay,h):(es(o),l=i.child,i=l.sibling,l=hs(l,{mode:"visible",children:h.children}),l.return=o,l.sibling=null,i!==null&&(S=o.deletions,S===null?(o.deletions=[i],o.flags|=16):S.push(i)),o.child=l,o.memoizedState=null,l)}function ly(i,o){return o=uy({mode:"visible",children:o},i.mode),o.return=i,i.child=o}function uy(i,o){return _E(i,o,0,null)}function cy(i,o,l){return vl(o,i.child,null,l),i=ly(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function Kw(i,o,l){i.lanes|=o;var h=i.alternate;h!==null&&(h.lanes|=o),my(i.return,o,l)}function hy(i,o,l,h,p){var T=i.memoizedState;T===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:p}:(T.isBackwards=o,T.rendering=null,T.renderingStartTime=0,T.last=h,T.tail=l,T.tailMode=p)}function Qw(i,o,l){var h=o.pendingProps,p=h.revealOrder,T=h.tail;if(_r(i,o,h.children,l),h=Yn.current,(h&2)!==0)h=h&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Kw(i,l,o);else if(i.tag===19)Kw(i,l,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}h&=1}switch(mt(Yn,h),p){case"forwards":for(l=o.child,p=null;l!==null;)i=l.alternate,i!==null&&xd(i)===null&&(p=l),l=l.sibling;l=p,l===null?(p=o.child,o.child=null):(p=l.sibling,l.sibling=null),hy(o,!1,p,l,T);break;case"backwards":for(l=null,p=o.child,o.child=null;p!==null;){if(i=p.alternate,i!==null&&xd(i)===null){o.child=p;break}i=p.sibling,p.sibling=l,l=p,p=i}hy(o,!0,l,null,T);break;case"together":hy(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function fo(i,o,l){if(i!==null&&(o.dependencies=i.dependencies),fs|=o.lanes,(l&o.childLanes)===0)if(i!==null){if(wh(i,o,l,!1),(l&o.childLanes)===0)return null}else return null;if(i!==null&&o.child!==i.child)throw Error(r(153));if(o.child!==null){for(i=o.child,l=hs(i,i.pendingProps),o.child=l,l.return=o;i.sibling!==null;)i=i.sibling,l=l.sibling=hs(i,i.pendingProps),l.return=o;l.sibling=null}return o.child}function fy(i,o){return(i.lanes&o)!==0?!0:(i=i.dependencies,!!(i!==null&&qd(i)))}function LI(i,o,l){switch(o.tag){case 3:da(o,o.stateNode.containerInfo),is(o,Gn,i.memoizedState.cache),uh();break;case 27:case 5:el(o);break;case 4:da(o,o.stateNode.containerInfo);break;case 10:is(o,o.type,o.memoizedProps.value);break;case 13:var h=o.memoizedState;if(h!==null)return h.dehydrated!==null?(es(o),o.flags|=128,null):(l&o.child.childLanes)!==0?Gw(i,o,l):(es(o),i=fo(i,o,l),i!==null?i.sibling:null);es(o);break;case 19:var p=(i.flags&128)!==0;if(h=(l&o.childLanes)!==0,h||(wh(i,o,l,!1),h=(l&o.childLanes)!==0),p){if(h)return Qw(i,o,l);o.flags|=128}if(p=o.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),mt(Yn,Yn.current),h)break;return null;case 22:case 23:return o.lanes=0,$w(i,o,l);case 24:is(o,Gn,i.memoizedState.cache)}return fo(i,o,l)}function Zw(i,o,l){if(i!==null)if(i.memoizedProps!==o.pendingProps)or=!0;else{if(!fy(i,l)&&(o.flags&128)===0)return or=!1,LI(i,o,l);or=(i.flags&131072)!==0}else or=!1,Vt&&(o.flags&1048576)!==0&&kT(o,Cd,o.index);switch(o.lanes=0,o.tag){case 16:e:{i=o.pendingProps;var h=o.elementType,p=h._init;if(h=p(h._payload),o.type=h,typeof h=="function")Sy(h)?(i=bl(h,i),o.tag=1,o=Hw(null,o,h,i,l)):(o.tag=0,o=iy(null,o,h,i,l));else{if(h!=null){if(p=h.$$typeof,p===R){o.tag=11,o=zw(null,o,h,i,l);break e}else if(p===M){o.tag=14,o=jw(null,o,h,i,l);break e}}throw o=I(h)||h,Error(r(306,o,""))}}return o;case 0:return iy(i,o,o.type,o.pendingProps,l);case 1:return h=o.type,p=bl(h,o.pendingProps),Hw(i,o,h,p,l);case 3:e:{if(da(o,o.stateNode.containerInfo),i===null)throw Error(r(387));var T=o.pendingProps;p=o.memoizedState,h=p.element,yy(i,o),Rh(o,T,null,l);var S=o.memoizedState;if(T=S.cache,is(o,Gn,T),T!==p.cache&&py(o,[Gn],l,!0),bh(),T=S.element,p.isDehydrated)if(p={element:T,isDehydrated:!1,cache:S.cache},o.updateQueue.baseState=p,o.memoizedState=p,o.flags&256){o=Yw(i,o,T,l);break e}else if(T!==h){h=Ui(Error(r(424)),o),ch(h),o=Yw(i,o,T,l);break e}else for(vr=ra(o.stateNode.containerInfo.firstChild),Kr=o,Vt=!0,ta=null,Aa=!0,l=FT(o,null,T,l),o.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(uh(),T===h){o=fo(i,o,l);break e}_r(i,o,T,l)}o=o.child}return o;case 26:return Th(i,o),i===null?(l=JE(o.type,null,o.pendingProps,null))?o.memoizedState=l:Vt||(l=o.type,i=o.pendingProps,h=om(vn.current).createElement(l),h[xe]=o,h[Ye]=i,Tr(h,l,i),jt(h),o.stateNode=h):o.memoizedState=JE(o.type,i.memoizedProps,o.pendingProps,i.memoizedState),null;case 27:return el(o),i===null&&Vt&&(h=o.stateNode=ZE(o.type,o.pendingProps,vn.current),Kr=o,Aa=!0,vr=ra(h.firstChild)),h=o.pendingProps.children,i!==null||Vt?_r(i,o,h,l):o.child=vl(o,null,h,l),Th(i,o),o.child;case 5:return i===null&&Vt&&((p=h=vr)&&(h=f2(h,o.type,o.pendingProps,Aa),h!==null?(o.stateNode=h,Kr=o,vr=ra(h.firstChild),Aa=!1,p=!0):p=!1),p||yl(o)),el(o),p=o.type,T=o.pendingProps,S=i!==null?i.memoizedProps:null,h=T.children,Wy(p,T)?h=null:S!==null&&Wy(p,S)&&(o.flags|=32),o.memoizedState!==null&&(p=jg(i,o,II,null,null,l),zh._currentValue=p),Th(i,o),_r(i,o,h,l),o.child;case 6:return i===null&&Vt&&((i=l=vr)&&(l=d2(l,o.pendingProps,Aa),l!==null?(o.stateNode=l,Kr=o,vr=null,i=!0):i=!1),i||yl(o)),null;case 13:return Gw(i,o,l);case 4:return da(o,o.stateNode.containerInfo),h=o.pendingProps,i===null?o.child=vl(o,null,h,l):_r(i,o,h,l),o.child;case 11:return zw(i,o,o.type,o.pendingProps,l);case 7:return _r(i,o,o.pendingProps,l),o.child;case 8:return _r(i,o,o.pendingProps.children,l),o.child;case 12:return _r(i,o,o.pendingProps.children,l),o.child;case 10:return h=o.pendingProps,is(o,o.type,h.value),_r(i,o,h.children,l),o.child;case 9:return p=o.type._context,h=o.pendingProps.children,Al(o),p=Lr(p),h=h(p),o.flags|=1,_r(i,o,h,l),o.child;case 14:return jw(i,o,o.type,o.pendingProps,l);case 15:return Bw(i,o,o.type,o.pendingProps,l);case 19:return Qw(i,o,l);case 22:return $w(i,o,l);case 24:return Al(o),h=Lr(Gn),i===null?(p=Ug(),p===null&&(p=on,T=Lg(),p.pooledCache=T,T.refCount++,T!==null&&(p.pooledCacheLanes|=l),p=T),o.memoizedState={parent:h,cache:p},gy(o),is(o,Gn,p)):((i.lanes&l)!==0&&(yy(i,o),Rh(o,null,null,l),bh()),p=i.memoizedState,T=o.memoizedState,p.parent!==h?(p={parent:h,cache:h},o.memoizedState=p,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=p),is(o,Gn,h)):(h=T.cache,is(o,Gn,h),h!==p.cache&&py(o,[Gn],l,!0))),_r(i,o,o.pendingProps.children,l),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}var dy=dt(null),Rl=null,mo=null;function is(i,o,l){mt(dy,o._currentValue),o._currentValue=l}function po(i){i._currentValue=dy.current,ct(dy)}function my(i,o,l){for(;i!==null;){var h=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),i===l)break;i=i.return}}function py(i,o,l,h){var p=i.child;for(p!==null&&(p.return=i);p!==null;){var T=p.dependencies;if(T!==null){var S=p.child;T=T.firstContext;e:for(;T!==null;){var k=T;T=p;for(var B=0;B<o.length;B++)if(k.context===o[B]){T.lanes|=l,k=T.alternate,k!==null&&(k.lanes|=l),my(T.return,l,i),h||(S=null);break e}T=k.next}}else if(p.tag===18){if(S=p.return,S===null)throw Error(r(341));S.lanes|=l,T=S.alternate,T!==null&&(T.lanes|=l),my(S,l,i),S=null}else S=p.child;if(S!==null)S.return=p;else for(S=p;S!==null;){if(S===i){S=null;break}if(p=S.sibling,p!==null){p.return=S.return,S=p;break}S=S.return}p=S}}function wh(i,o,l,h){i=null;for(var p=o,T=!1;p!==null;){if(!T){if((p.flags&524288)!==0)T=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var S=p.alternate;if(S===null)throw Error(r(387));if(S=S.memoizedProps,S!==null){var k=p.type;pi(p.pendingProps.value,S.value)||(i!==null?i.push(k):i=[k])}}else if(p===fa.current){if(S=p.alternate,S===null)throw Error(r(387));S.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(i!==null?i.push(zh):i=[zh])}p=p.return}i!==null&&py(o,i,l,h),o.flags|=262144}function qd(i){for(i=i.firstContext;i!==null;){if(!pi(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Al(i){Rl=i,mo=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Lr(i){return Xw(Rl,i)}function Hd(i,o){return Rl===null&&Al(i),Xw(i,o)}function Xw(i,o){var l=o._currentValue;if(o={context:o,memoizedValue:l,next:null},mo===null){if(i===null)throw Error(r(308));mo=o,i.dependencies={lanes:0,firstContext:o},i.flags|=524288}else mo=mo.next=o;return l}var as=!1;function gy(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function yy(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function os(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function ss(i,o,l){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(Tn&2)!==0){var p=h.pending;return p===null?o.next=o:(o.next=p.next,p.next=o),h.pending=o,o=Ad(i),xT(i,null,l),o}return Rd(i,h,o,l),Ad(i)}function Eh(i,o,l){if(o=o.updateQueue,o!==null&&(o=o.shared,(l&4194176)!==0)){var h=o.lanes;h&=i.pendingLanes,l|=h,o.lanes=l,$e(i,l)}}function vy(i,o){var l=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var p=null,T=null;if(l=l.firstBaseUpdate,l!==null){do{var S={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};T===null?p=T=S:T=T.next=S,l=l.next}while(l!==null);T===null?p=T=o:T=T.next=o}else p=T=o;l={baseState:h.baseState,firstBaseUpdate:p,lastBaseUpdate:T,shared:h.shared,callbacks:h.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=o:i.next=o,l.lastBaseUpdate=o}var _y=!1;function bh(){if(_y){var i=xu;if(i!==null)throw i}}function Rh(i,o,l,h){_y=!1;var p=i.updateQueue;as=!1;var T=p.firstBaseUpdate,S=p.lastBaseUpdate,k=p.shared.pending;if(k!==null){p.shared.pending=null;var B=k,K=B.next;B.next=null,S===null?T=K:S.next=K,S=B;var le=i.alternate;le!==null&&(le=le.updateQueue,k=le.lastBaseUpdate,k!==S&&(k===null?le.firstBaseUpdate=K:k.next=K,le.lastBaseUpdate=B))}if(T!==null){var me=p.baseState;S=0,le=K=B=null,k=T;do{var te=k.lane&-536870913,oe=te!==k.lane;if(oe?(Mt&te)===te:(h&te)===te){te!==0&&te===Mu&&(_y=!0),le!==null&&(le=le.next={lane:0,tag:k.tag,payload:k.payload,callback:null,next:null});e:{var Be=i,ot=k;te=o;var Dn=l;switch(ot.tag){case 1:if(Be=ot.payload,typeof Be=="function"){me=Be.call(Dn,me,te);break e}me=Be;break e;case 3:Be.flags=Be.flags&-65537|128;case 0:if(Be=ot.payload,te=typeof Be=="function"?Be.call(Dn,me,te):Be,te==null)break e;me=z({},me,te);break e;case 2:as=!0}}te=k.callback,te!==null&&(i.flags|=64,oe&&(i.flags|=8192),oe=p.callbacks,oe===null?p.callbacks=[te]:oe.push(te))}else oe={lane:te,tag:k.tag,payload:k.payload,callback:k.callback,next:null},le===null?(K=le=oe,B=me):le=le.next=oe,S|=te;if(k=k.next,k===null){if(k=p.shared.pending,k===null)break;oe=k,k=oe.next,oe.next=null,p.lastBaseUpdate=oe,p.shared.pending=null}}while(!0);le===null&&(B=me),p.baseState=B,p.firstBaseUpdate=K,p.lastBaseUpdate=le,T===null&&(p.shared.lanes=0),fs|=S,i.lanes=S,i.memoizedState=me}}function Ww(i,o){if(typeof i!="function")throw Error(r(191,i));i.call(o)}function Jw(i,o){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)Ww(l[i],o)}function Ah(i,o){try{var l=o.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var p=h.next;l=p;do{if((l.tag&i)===i){h=void 0;var T=l.create,S=l.inst;h=T(),S.destroy=h}l=l.next}while(l!==p)}}catch(k){en(o,o.return,k)}}function ls(i,o,l){try{var h=o.updateQueue,p=h!==null?h.lastEffect:null;if(p!==null){var T=p.next;h=T;do{if((h.tag&i)===i){var S=h.inst,k=S.destroy;if(k!==void 0){S.destroy=void 0,p=o;var B=l;try{k()}catch(K){en(p,B,K)}}}h=h.next}while(h!==T)}}catch(K){en(o,o.return,K)}}function eE(i){var o=i.updateQueue;if(o!==null){var l=i.stateNode;try{Jw(o,l)}catch(h){en(i,i.return,h)}}}function tE(i,o,l){l.props=bl(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(h){en(i,o,h)}}function Sl(i,o){try{var l=i.ref;if(l!==null){var h=i.stateNode;switch(i.tag){case 26:case 27:case 5:var p=h;break;default:p=h}typeof l=="function"?i.refCleanup=l(p):l.current=p}}catch(T){en(i,o,T)}}function gi(i,o){var l=i.ref,h=i.refCleanup;if(l!==null)if(typeof h=="function")try{h()}catch(p){en(i,o,p)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(p){en(i,o,p)}else l.current=null}function nE(i){var o=i.type,l=i.memoizedProps,h=i.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":l.autoFocus&&h.focus();break e;case"img":l.src?h.src=l.src:l.srcSet&&(h.srcset=l.srcSet)}}catch(p){en(i,i.return,p)}}function rE(i,o,l){try{var h=i.stateNode;s2(h,i.type,l,o),h[Ye]=o}catch(p){en(i,i.return,p)}}function iE(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27||i.tag===4}function Ty(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||iE(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==27&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function wy(i,o,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,o?l.nodeType===8?l.parentNode.insertBefore(i,o):l.insertBefore(i,o):(l.nodeType===8?(o=l.parentNode,o.insertBefore(i,l)):(o=l,o.appendChild(i)),l=l._reactRootContainer,l!=null||o.onclick!==null||(o.onclick=am));else if(h!==4&&h!==27&&(i=i.child,i!==null))for(wy(i,o,l),i=i.sibling;i!==null;)wy(i,o,l),i=i.sibling}function Yd(i,o,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,o?l.insertBefore(i,o):l.appendChild(i);else if(h!==4&&h!==27&&(i=i.child,i!==null))for(Yd(i,o,l),i=i.sibling;i!==null;)Yd(i,o,l),i=i.sibling}var go=!1,Sn=!1,Ey=!1,aE=typeof WeakSet=="function"?WeakSet:Set,sr=null,oE=!1;function VI(i,o){if(i=i.containerInfo,Zy=fm,i=bT(i),Rg(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var p=h.anchorOffset,T=h.focusNode;h=h.focusOffset;try{l.nodeType,T.nodeType}catch{l=null;break e}var S=0,k=-1,B=-1,K=0,le=0,me=i,te=null;t:for(;;){for(var oe;me!==l||p!==0&&me.nodeType!==3||(k=S+p),me!==T||h!==0&&me.nodeType!==3||(B=S+h),me.nodeType===3&&(S+=me.nodeValue.length),(oe=me.firstChild)!==null;)te=me,me=oe;for(;;){if(me===i)break t;if(te===l&&++K===p&&(k=S),te===T&&++le===h&&(B=S),(oe=me.nextSibling)!==null)break;me=te,te=me.parentNode}me=oe}l=k===-1||B===-1?null:{start:k,end:B}}else l=null}l=l||{start:0,end:0}}else l=null;for(Xy={focusedElem:i,selectionRange:l},fm=!1,sr=o;sr!==null;)if(o=sr,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,sr=i;else for(;sr!==null;){switch(o=sr,T=o.alternate,i=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&T!==null){i=void 0,l=o,p=T.memoizedProps,T=T.memoizedState,h=l.stateNode;try{var Be=bl(l.type,p,l.elementType===l.type);i=h.getSnapshotBeforeUpdate(Be,T),h.__reactInternalSnapshotBeforeUpdate=i}catch(ot){en(l,l.return,ot)}}break;case 3:if((i&1024)!==0){if(i=o.stateNode.containerInfo,l=i.nodeType,l===9)tv(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":tv(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=o.sibling,i!==null){i.return=o.return,sr=i;break}sr=o.return}return Be=oE,oE=!1,Be}function sE(i,o,l){var h=l.flags;switch(l.tag){case 0:case 11:case 15:vo(i,l),h&4&&Ah(5,l);break;case 1:if(vo(i,l),h&4)if(i=l.stateNode,o===null)try{i.componentDidMount()}catch(k){en(l,l.return,k)}else{var p=bl(l.type,o.memoizedProps);o=o.memoizedState;try{i.componentDidUpdate(p,o,i.__reactInternalSnapshotBeforeUpdate)}catch(k){en(l,l.return,k)}}h&64&&eE(l),h&512&&Sl(l,l.return);break;case 3:if(vo(i,l),h&64&&(h=l.updateQueue,h!==null)){if(i=null,l.child!==null)switch(l.child.tag){case 27:case 5:i=l.child.stateNode;break;case 1:i=l.child.stateNode}try{Jw(h,i)}catch(k){en(l,l.return,k)}}break;case 26:vo(i,l),h&512&&Sl(l,l.return);break;case 27:case 5:vo(i,l),o===null&&h&4&&nE(l),h&512&&Sl(l,l.return);break;case 12:vo(i,l);break;case 13:vo(i,l),h&4&&cE(i,l);break;case 22:if(p=l.memoizedState!==null||go,!p){o=o!==null&&o.memoizedState!==null||Sn;var T=go,S=Sn;go=p,(Sn=o)&&!S?us(i,l,(l.subtreeFlags&8772)!==0):vo(i,l),go=T,Sn=S}h&512&&(l.memoizedProps.mode==="manual"?Sl(l,l.return):gi(l,l.return));break;default:vo(i,l)}}function lE(i){var o=i.alternate;o!==null&&(i.alternate=null,lE(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&mi(o)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var jn=null,yi=!1;function yo(i,o,l){for(l=l.child;l!==null;)uE(i,o,l),l=l.sibling}function uE(i,o,l){if(tr&&typeof tr.onCommitFiberUnmount=="function")try{tr.onCommitFiberUnmount(Xi,l)}catch{}switch(l.tag){case 26:Sn||gi(l,o),yo(i,o,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Sn||gi(l,o);var h=jn,p=yi;for(jn=l.stateNode,yo(i,o,l),l=l.stateNode,o=l.attributes;o.length;)l.removeAttributeNode(o[0]);mi(l),jn=h,yi=p;break;case 5:Sn||gi(l,o);case 6:p=jn;var T=yi;if(jn=null,yo(i,o,l),jn=p,yi=T,jn!==null)if(yi)try{i=jn,h=l.stateNode,i.nodeType===8?i.parentNode.removeChild(h):i.removeChild(h)}catch(S){en(l,o,S)}else try{jn.removeChild(l.stateNode)}catch(S){en(l,o,S)}break;case 18:jn!==null&&(yi?(o=jn,l=l.stateNode,o.nodeType===8?ev(o.parentNode,l):o.nodeType===1&&ev(o,l),Fh(o)):ev(jn,l.stateNode));break;case 4:h=jn,p=yi,jn=l.stateNode.containerInfo,yi=!0,yo(i,o,l),jn=h,yi=p;break;case 0:case 11:case 14:case 15:Sn||ls(2,l,o),Sn||ls(4,l,o),yo(i,o,l);break;case 1:Sn||(gi(l,o),h=l.stateNode,typeof h.componentWillUnmount=="function"&&tE(l,o,h)),yo(i,o,l);break;case 21:yo(i,o,l);break;case 22:Sn||gi(l,o),Sn=(h=Sn)||l.memoizedState!==null,yo(i,o,l),Sn=h;break;default:yo(i,o,l)}}function cE(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Fh(i)}catch(l){en(o,o.return,l)}}function UI(i){switch(i.tag){case 13:case 19:var o=i.stateNode;return o===null&&(o=i.stateNode=new aE),o;case 22:return i=i.stateNode,o=i._retryCache,o===null&&(o=i._retryCache=new aE),o;default:throw Error(r(435,i.tag))}}function by(i,o){var l=UI(i);o.forEach(function(h){var p=XI.bind(null,i,h);l.has(h)||(l.add(h),h.then(p,p))})}function $i(i,o){var l=o.deletions;if(l!==null)for(var h=0;h<l.length;h++){var p=l[h],T=i,S=o,k=S;e:for(;k!==null;){switch(k.tag){case 27:case 5:jn=k.stateNode,yi=!1;break e;case 3:jn=k.stateNode.containerInfo,yi=!0;break e;case 4:jn=k.stateNode.containerInfo,yi=!0;break e}k=k.return}if(jn===null)throw Error(r(160));uE(T,S,p),jn=null,yi=!1,T=p.alternate,T!==null&&(T.return=null),p.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)hE(o,i),o=o.sibling}var na=null;function hE(i,o){var l=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:$i(o,i),Fi(i),h&4&&(ls(3,i,i.return),Ah(3,i),ls(5,i,i.return));break;case 1:$i(o,i),Fi(i),h&512&&(Sn||l===null||gi(l,l.return)),h&64&&go&&(i=i.updateQueue,i!==null&&(h=i.callbacks,h!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?h:l.concat(h))));break;case 26:var p=na;if($i(o,i),Fi(i),h&512&&(Sn||l===null||gi(l,l.return)),h&4){var T=l!==null?l.memoizedState:null;if(h=i.memoizedState,l===null)if(h===null)if(i.stateNode===null){e:{h=i.type,l=i.memoizedProps,p=p.ownerDocument||p;t:switch(h){case"title":T=p.getElementsByTagName("title")[0],(!T||T[Hr]||T[xe]||T.namespaceURI==="http://www.w3.org/2000/svg"||T.hasAttribute("itemprop"))&&(T=p.createElement(h),p.head.insertBefore(T,p.querySelector("head > title"))),Tr(T,h,l),T[xe]=i,jt(T),h=T;break e;case"link":var S=nb("link","href",p).get(h+(l.href||""));if(S){for(var k=0;k<S.length;k++)if(T=S[k],T.getAttribute("href")===(l.href==null?null:l.href)&&T.getAttribute("rel")===(l.rel==null?null:l.rel)&&T.getAttribute("title")===(l.title==null?null:l.title)&&T.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){S.splice(k,1);break t}}T=p.createElement(h),Tr(T,h,l),p.head.appendChild(T);break;case"meta":if(S=nb("meta","content",p).get(h+(l.content||""))){for(k=0;k<S.length;k++)if(T=S[k],T.getAttribute("content")===(l.content==null?null:""+l.content)&&T.getAttribute("name")===(l.name==null?null:l.name)&&T.getAttribute("property")===(l.property==null?null:l.property)&&T.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&T.getAttribute("charset")===(l.charSet==null?null:l.charSet)){S.splice(k,1);break t}}T=p.createElement(h),Tr(T,h,l),p.head.appendChild(T);break;default:throw Error(r(468,h))}T[xe]=i,jt(T),h=T}i.stateNode=h}else rb(p,i.type,i.stateNode);else i.stateNode=tb(p,h,i.memoizedProps);else T!==h?(T===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):T.count--,h===null?rb(p,i.type,i.stateNode):tb(p,h,i.memoizedProps)):h===null&&i.stateNode!==null&&rE(i,i.memoizedProps,l.memoizedProps)}break;case 27:if(h&4&&i.alternate===null){p=i.stateNode,T=i.memoizedProps;try{for(var B=p.firstChild;B;){var K=B.nextSibling,le=B.nodeName;B[Hr]||le==="HEAD"||le==="BODY"||le==="SCRIPT"||le==="STYLE"||le==="LINK"&&B.rel.toLowerCase()==="stylesheet"||p.removeChild(B),B=K}for(var me=i.type,te=p.attributes;te.length;)p.removeAttributeNode(te[0]);Tr(p,me,T),p[xe]=i,p[Ye]=T}catch(Be){en(i,i.return,Be)}}case 5:if($i(o,i),Fi(i),h&512&&(Sn||l===null||gi(l,l.return)),i.flags&32){p=i.stateNode;try{Ni(p,"")}catch(Be){en(i,i.return,Be)}}h&4&&i.stateNode!=null&&(p=i.memoizedProps,rE(i,p,l!==null?l.memoizedProps:p)),h&1024&&(Ey=!0);break;case 6:if($i(o,i),Fi(i),h&4){if(i.stateNode===null)throw Error(r(162));h=i.memoizedProps,l=i.stateNode;try{l.nodeValue=h}catch(Be){en(i,i.return,Be)}}break;case 3:if(um=null,p=na,na=sm(o.containerInfo),$i(o,i),na=p,Fi(i),h&4&&l!==null&&l.memoizedState.isDehydrated)try{Fh(o.containerInfo)}catch(Be){en(i,i.return,Be)}Ey&&(Ey=!1,fE(i));break;case 4:h=na,na=sm(i.stateNode.containerInfo),$i(o,i),Fi(i),na=h;break;case 12:$i(o,i),Fi(i);break;case 13:$i(o,i),Fi(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(xy=er()),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,by(i,h)));break;case 22:if(h&512&&(Sn||l===null||gi(l,l.return)),B=i.memoizedState!==null,K=l!==null&&l.memoizedState!==null,le=go,me=Sn,go=le||B,Sn=me||K,$i(o,i),Sn=me,go=le,Fi(i),o=i.stateNode,o._current=i,o._visibility&=-3,o._visibility|=o._pendingVisibility&2,h&8192&&(o._visibility=B?o._visibility&-2:o._visibility|1,B&&(o=go||Sn,l===null||K||o||Lu(i)),i.memoizedProps===null||i.memoizedProps.mode!=="manual"))e:for(l=null,o=i;;){if(o.tag===5||o.tag===26||o.tag===27){if(l===null){K=l=o;try{if(p=K.stateNode,B)T=p.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{S=K.stateNode,k=K.memoizedProps.style;var oe=k!=null&&k.hasOwnProperty("display")?k.display:null;S.style.display=oe==null||typeof oe=="boolean"?"":(""+oe).trim()}}catch(Be){en(K,K.return,Be)}}}else if(o.tag===6){if(l===null){K=o;try{K.stateNode.nodeValue=B?"":K.memoizedProps}catch(Be){en(K,K.return,Be)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===i)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break e;for(;o.sibling===null;){if(o.return===null||o.return===i)break e;l===o&&(l=null),o=o.return}l===o&&(l=null),o.sibling.return=o.return,o=o.sibling}h&4&&(h=i.updateQueue,h!==null&&(l=h.retryQueue,l!==null&&(h.retryQueue=null,by(i,l))));break;case 19:$i(o,i),Fi(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,by(i,h)));break;case 21:break;default:$i(o,i),Fi(i)}}function Fi(i){var o=i.flags;if(o&2){try{if(i.tag!==27){e:{for(var l=i.return;l!==null;){if(iE(l)){var h=l;break e}l=l.return}throw Error(r(160))}switch(h.tag){case 27:var p=h.stateNode,T=Ty(i);Yd(i,T,p);break;case 5:var S=h.stateNode;h.flags&32&&(Ni(S,""),h.flags&=-33);var k=Ty(i);Yd(i,k,S);break;case 3:case 4:var B=h.stateNode.containerInfo,K=Ty(i);wy(i,K,B);break;default:throw Error(r(161))}}}catch(le){en(i,i.return,le)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function fE(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var o=i;fE(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),i=i.sibling}}function vo(i,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)sE(i,o.alternate,o),o=o.sibling}function Lu(i){for(i=i.child;i!==null;){var o=i;switch(o.tag){case 0:case 11:case 14:case 15:ls(4,o,o.return),Lu(o);break;case 1:gi(o,o.return);var l=o.stateNode;typeof l.componentWillUnmount=="function"&&tE(o,o.return,l),Lu(o);break;case 26:case 27:case 5:gi(o,o.return),Lu(o);break;case 22:gi(o,o.return),o.memoizedState===null&&Lu(o);break;default:Lu(o)}i=i.sibling}}function us(i,o,l){for(l=l&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var h=o.alternate,p=i,T=o,S=T.flags;switch(T.tag){case 0:case 11:case 15:us(p,T,l),Ah(4,T);break;case 1:if(us(p,T,l),h=T,p=h.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(K){en(h,h.return,K)}if(h=T,p=h.updateQueue,p!==null){var k=h.stateNode;try{var B=p.shared.hiddenCallbacks;if(B!==null)for(p.shared.hiddenCallbacks=null,p=0;p<B.length;p++)Ww(B[p],k)}catch(K){en(h,h.return,K)}}l&&S&64&&eE(T),Sl(T,T.return);break;case 26:case 27:case 5:us(p,T,l),l&&h===null&&S&4&&nE(T),Sl(T,T.return);break;case 12:us(p,T,l);break;case 13:us(p,T,l),l&&S&4&&cE(p,T);break;case 22:T.memoizedState===null&&us(p,T,l),Sl(T,T.return);break;default:us(p,T,l)}o=o.sibling}}function Ry(i,o){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(i=o.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&ph(l))}function Ay(i,o){i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&ph(i))}function cs(i,o,l,h){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)dE(i,o,l,h),o=o.sibling}function dE(i,o,l,h){var p=o.flags;switch(o.tag){case 0:case 11:case 15:cs(i,o,l,h),p&2048&&Ah(9,o);break;case 3:cs(i,o,l,h),p&2048&&(i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&ph(i)));break;case 12:if(p&2048){cs(i,o,l,h),i=o.stateNode;try{var T=o.memoizedProps,S=T.id,k=T.onPostCommit;typeof k=="function"&&k(S,o.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(B){en(o,o.return,B)}}else cs(i,o,l,h);break;case 23:break;case 22:T=o.stateNode,o.memoizedState!==null?T._visibility&4?cs(i,o,l,h):Sh(i,o):T._visibility&4?cs(i,o,l,h):(T._visibility|=4,Vu(i,o,l,h,(o.subtreeFlags&10256)!==0)),p&2048&&Ry(o.alternate,o);break;case 24:cs(i,o,l,h),p&2048&&Ay(o.alternate,o);break;default:cs(i,o,l,h)}}function Vu(i,o,l,h,p){for(p=p&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var T=i,S=o,k=l,B=h,K=S.flags;switch(S.tag){case 0:case 11:case 15:Vu(T,S,k,B,p),Ah(8,S);break;case 23:break;case 22:var le=S.stateNode;S.memoizedState!==null?le._visibility&4?Vu(T,S,k,B,p):Sh(T,S):(le._visibility|=4,Vu(T,S,k,B,p)),p&&K&2048&&Ry(S.alternate,S);break;case 24:Vu(T,S,k,B,p),p&&K&2048&&Ay(S.alternate,S);break;default:Vu(T,S,k,B,p)}o=o.sibling}}function Sh(i,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var l=i,h=o,p=h.flags;switch(h.tag){case 22:Sh(l,h),p&2048&&Ry(h.alternate,h);break;case 24:Sh(l,h),p&2048&&Ay(h.alternate,h);break;default:Sh(l,h)}o=o.sibling}}var Ch=8192;function Uu(i){if(i.subtreeFlags&Ch)for(i=i.child;i!==null;)mE(i),i=i.sibling}function mE(i){switch(i.tag){case 26:Uu(i),i.flags&Ch&&i.memoizedState!==null&&S2(na,i.memoizedState,i.memoizedProps);break;case 5:Uu(i);break;case 3:case 4:var o=na;na=sm(i.stateNode.containerInfo),Uu(i),na=o;break;case 22:i.memoizedState===null&&(o=i.alternate,o!==null&&o.memoizedState!==null?(o=Ch,Ch=16777216,Uu(i),Ch=o):Uu(i));break;default:Uu(i)}}function pE(i){var o=i.alternate;if(o!==null&&(i=o.child,i!==null)){o.child=null;do o=i.sibling,i.sibling=null,i=o;while(i!==null)}}function Dh(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var l=0;l<o.length;l++){var h=o[l];sr=h,yE(h,i)}pE(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)gE(i),i=i.sibling}function gE(i){switch(i.tag){case 0:case 11:case 15:Dh(i),i.flags&2048&&ls(9,i,i.return);break;case 3:Dh(i);break;case 12:Dh(i);break;case 22:var o=i.stateNode;i.memoizedState!==null&&o._visibility&4&&(i.return===null||i.return.tag!==13)?(o._visibility&=-5,Gd(i)):Dh(i);break;default:Dh(i)}}function Gd(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var l=0;l<o.length;l++){var h=o[l];sr=h,yE(h,i)}pE(i)}for(i=i.child;i!==null;){switch(o=i,o.tag){case 0:case 11:case 15:ls(8,o,o.return),Gd(o);break;case 22:l=o.stateNode,l._visibility&4&&(l._visibility&=-5,Gd(o));break;default:Gd(o)}i=i.sibling}}function yE(i,o){for(;sr!==null;){var l=sr;switch(l.tag){case 0:case 11:case 15:ls(8,l,o);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var h=l.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:ph(l.memoizedState.cache)}if(h=l.child,h!==null)h.return=l,sr=h;else e:for(l=i;sr!==null;){h=sr;var p=h.sibling,T=h.return;if(lE(h),h===l){sr=null;break e}if(p!==null){p.return=T,sr=p;break e}sr=T}}}function zI(i,o,l,h){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qi(i,o,l,h){return new zI(i,o,l,h)}function Sy(i){return i=i.prototype,!(!i||!i.isReactComponent)}function hs(i,o){var l=i.alternate;return l===null?(l=qi(i.tag,o,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=o,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&31457280,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,o=i.dependencies,l.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function vE(i,o){i.flags&=31457282;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=o,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,o=l.dependencies,i.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),i}function Kd(i,o,l,h,p,T){var S=0;if(h=i,typeof i=="function")Sy(i)&&(S=1);else if(typeof i=="string")S=R2(i,l,Rn.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case f:return Cl(l.children,p,T,o);case d:S=8,p|=24;break;case g:return i=qi(12,l,o,p|2),i.elementType=g,i.lanes=T,i;case C:return i=qi(13,l,o,p),i.elementType=C,i.lanes=T,i;case D:return i=qi(19,l,o,p),i.elementType=D,i.lanes=T,i;case V:return _E(l,p,T,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case v:case b:S=10;break e;case w:S=9;break e;case R:S=11;break e;case M:S=14;break e;case N:S=16,h=null;break e}S=29,l=Error(r(130,i===null?"null":typeof i,"")),h=null}return o=qi(S,l,o,p),o.elementType=i,o.type=h,o.lanes=T,o}function Cl(i,o,l,h){return i=qi(7,i,h,o),i.lanes=l,i}function _E(i,o,l,h){i=qi(22,i,h,o),i.elementType=V,i.lanes=l;var p={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var T=p._current;if(T===null)throw Error(r(456));if((p._pendingVisibility&2)===0){var S=Jo(T,2);S!==null&&(p._pendingVisibility|=2,Qr(S,T,2))}},attach:function(){var T=p._current;if(T===null)throw Error(r(456));if((p._pendingVisibility&2)!==0){var S=Jo(T,2);S!==null&&(p._pendingVisibility&=-3,Qr(S,T,2))}}};return i.stateNode=p,i}function Cy(i,o,l){return i=qi(6,i,null,o),i.lanes=l,i}function Dy(i,o,l){return o=qi(4,i.children!==null?i.children:[],i.key,o),o.lanes=l,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function _o(i){i.flags|=4}function TE(i,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!ib(o)){if(o=Bi.current,o!==null&&((Mt&4194176)===Mt?Sa!==null:(Mt&62914560)!==Mt&&(Mt&536870912)===0||o!==Sa))throw fh=Ng,VT;i.flags|=8192}}function Qd(i,o){o!==null&&(i.flags|=4),i.flags&16384&&(o=i.tag!==22?Q():536870912,i.lanes|=o,ju|=o)}function Ih(i,o){if(!Vt)switch(i.tailMode){case"hidden":o=i.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function _n(i){var o=i.alternate!==null&&i.alternate.child===i.child,l=0,h=0;if(o)for(var p=i.child;p!==null;)l|=p.lanes|p.childLanes,h|=p.subtreeFlags&31457280,h|=p.flags&31457280,p.return=i,p=p.sibling;else for(p=i.child;p!==null;)l|=p.lanes|p.childLanes,h|=p.subtreeFlags,h|=p.flags,p.return=i,p=p.sibling;return i.subtreeFlags|=h,i.childLanes=l,o}function jI(i,o,l){var h=o.pendingProps;switch(Mg(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _n(o),null;case 1:return _n(o),null;case 3:return l=o.stateNode,h=null,i!==null&&(h=i.memoizedState.cache),o.memoizedState.cache!==h&&(o.flags|=2048),po(Gn),Di(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(lh(o)?_o(o):i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,ta!==null&&(Ly(ta),ta=null))),_n(o),null;case 26:return l=o.memoizedState,i===null?(_o(o),l!==null?(_n(o),TE(o,l)):(_n(o),o.flags&=-16777217)):l?l!==i.memoizedState?(_o(o),_n(o),TE(o,l)):(_n(o),o.flags&=-16777217):(i.memoizedProps!==h&&_o(o),_n(o),o.flags&=-16777217),null;case 27:qo(o),l=vn.current;var p=o.type;if(i!==null&&o.stateNode!=null)i.memoizedProps!==h&&_o(o);else{if(!h){if(o.stateNode===null)throw Error(r(166));return _n(o),null}i=Rn.current,lh(o)?PT(o):(i=ZE(p,h,l),o.stateNode=i,_o(o))}return _n(o),null;case 5:if(qo(o),l=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==h&&_o(o);else{if(!h){if(o.stateNode===null)throw Error(r(166));return _n(o),null}if(i=Rn.current,lh(o))PT(o);else{switch(p=om(vn.current),i){case 1:i=p.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:i=p.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":i=p.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":i=p.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":i=p.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof h.is=="string"?p.createElement("select",{is:h.is}):p.createElement("select"),h.multiple?i.multiple=!0:h.size&&(i.size=h.size);break;default:i=typeof h.is=="string"?p.createElement(l,{is:h.is}):p.createElement(l)}}i[xe]=o,i[Ye]=h;e:for(p=o.child;p!==null;){if(p.tag===5||p.tag===6)i.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===o)break e;for(;p.sibling===null;){if(p.return===null||p.return===o)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}o.stateNode=i;e:switch(Tr(i,l,h),l){case"button":case"input":case"select":case"textarea":i=!!h.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&_o(o)}}return _n(o),o.flags&=-16777217,null;case 6:if(i&&o.stateNode!=null)i.memoizedProps!==h&&_o(o);else{if(typeof h!="string"&&o.stateNode===null)throw Error(r(166));if(i=vn.current,lh(o)){if(i=o.stateNode,l=o.memoizedProps,h=null,p=Kr,p!==null)switch(p.tag){case 27:case 5:h=p.memoizedProps}i[xe]=o,i=!!(i.nodeValue===l||h!==null&&h.suppressHydrationWarning===!0||qE(i.nodeValue,l)),i||yl(o)}else i=om(i).createTextNode(h),i[xe]=o,o.stateNode=i}return _n(o),null;case 13:if(h=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(p=lh(o),h!==null&&h.dehydrated!==null){if(i===null){if(!p)throw Error(r(318));if(p=o.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(r(317));p[xe]=o}else uh(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;_n(o),p=!1}else ta!==null&&(Ly(ta),ta=null),p=!0;if(!p)return o.flags&256?(co(o),o):(co(o),null)}if(co(o),(o.flags&128)!==0)return o.lanes=l,o;if(l=h!==null,i=i!==null&&i.memoizedState!==null,l){h=o.child,p=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(p=h.alternate.memoizedState.cachePool.pool);var T=null;h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(T=h.memoizedState.cachePool.pool),T!==p&&(h.flags|=2048)}return l!==i&&l&&(o.child.flags|=8192),Qd(o,o.updateQueue),_n(o),null;case 4:return Di(),i===null&&Gy(o.stateNode.containerInfo),_n(o),null;case 10:return po(o.type),_n(o),null;case 19:if(ct(Yn),p=o.memoizedState,p===null)return _n(o),null;if(h=(o.flags&128)!==0,T=p.rendering,T===null)if(h)Ih(p,!1);else{if(Cn!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(T=xd(i),T!==null){for(o.flags|=128,Ih(p,!1),i=T.updateQueue,o.updateQueue=i,Qd(o,i),o.subtreeFlags=0,i=l,l=o.child;l!==null;)vE(l,i),l=l.sibling;return mt(Yn,Yn.current&1|2),o.child}i=i.sibling}p.tail!==null&&er()>Zd&&(o.flags|=128,h=!0,Ih(p,!1),o.lanes=4194304)}else{if(!h)if(i=xd(T),i!==null){if(o.flags|=128,h=!0,i=i.updateQueue,o.updateQueue=i,Qd(o,i),Ih(p,!0),p.tail===null&&p.tailMode==="hidden"&&!T.alternate&&!Vt)return _n(o),null}else 2*er()-p.renderingStartTime>Zd&&l!==536870912&&(o.flags|=128,h=!0,Ih(p,!1),o.lanes=4194304);p.isBackwards?(T.sibling=o.child,o.child=T):(i=p.last,i!==null?i.sibling=T:o.child=T,p.last=T)}return p.tail!==null?(o=p.tail,p.rendering=o,p.tail=o.sibling,p.renderingStartTime=er(),o.sibling=null,i=Yn.current,mt(Yn,h?i&1|2:i&1),o):(_n(o),null);case 22:case 23:return co(o),Pg(),h=o.memoizedState!==null,i!==null?i.memoizedState!==null!==h&&(o.flags|=8192):h&&(o.flags|=8192),h?(l&536870912)!==0&&(o.flags&128)===0&&(_n(o),o.subtreeFlags&6&&(o.flags|=8192)):_n(o),l=o.updateQueue,l!==null&&Qd(o,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),h=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),h!==l&&(o.flags|=2048),i!==null&&ct(_l),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),o.memoizedState.cache!==l&&(o.flags|=2048),po(Gn),_n(o),null;case 25:return null}throw Error(r(156,o.tag))}function BI(i,o){switch(Mg(o),o.tag){case 1:return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return po(Gn),Di(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 26:case 27:case 5:return qo(o),null;case 13:if(co(o),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(r(340));uh()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return ct(Yn),null;case 4:return Di(),null;case 10:return po(o.type),null;case 22:case 23:return co(o),Pg(),i!==null&&ct(_l),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 24:return po(Gn),null;case 25:return null;default:return null}}function wE(i,o){switch(Mg(o),o.tag){case 3:po(Gn),Di();break;case 26:case 27:case 5:qo(o);break;case 4:Di();break;case 13:co(o);break;case 19:ct(Yn);break;case 10:po(o.type);break;case 22:case 23:co(o),Pg(),i!==null&&ct(_l);break;case 24:po(Gn)}}var $I={getCacheForType:function(i){var o=Lr(Gn),l=o.data.get(i);return l===void 0&&(l=i(),o.data.set(i,l)),l}},FI=typeof WeakMap=="function"?WeakMap:Map,Tn=0,on=null,Et=null,Mt=0,sn=0,vi=null,To=!1,zu=!1,Iy=!1,wo=0,Cn=0,fs=0,Dl=0,Oy=0,Hi=0,ju=0,Oh=null,Da=null,My=!1,xy=0,Zd=1/0,Xd=null,ds=null,Wd=!1,Il=null,Mh=0,Ny=0,ky=null,xh=0,Py=null;function _i(){if((Tn&2)!==0&&Mt!==0)return Mt&-Mt;if(O.T!==null){var i=Mu;return i!==0?i:Fy()}return je()}function EE(){Hi===0&&(Hi=(Mt&536870912)===0||Vt?H():536870912);var i=Bi.current;return i!==null&&(i.flags|=32),Hi}function Qr(i,o,l){(i===on&&sn===2||i.cancelPendingCommit!==null)&&(Bu(i,0),Eo(i,Mt,Hi,!1)),ue(i,l),((Tn&2)===0||i!==on)&&(i===on&&((Tn&2)===0&&(Dl|=l),Cn===4&&Eo(i,Mt,Hi,!1)),Ia(i))}function bE(i,o,l){if((Tn&6)!==0)throw Error(r(327));var h=!l&&(o&60)===0&&(o&i.expiredLanes)===0||pa(i,o),p=h?YI(i,o):zy(i,o,!0),T=h;do{if(p===0){zu&&!h&&Eo(i,o,0,!1);break}else if(p===6)Eo(i,o,0,!To);else{if(l=i.current.alternate,T&&!qI(l)){p=zy(i,o,!1),T=!1;continue}if(p===2){if(T=o,i.errorRecoveryDisabledLanes&T)var S=0;else S=i.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){o=S;e:{var k=i;p=Oh;var B=k.current.memoizedState.isDehydrated;if(B&&(Bu(k,S).flags|=256),S=zy(k,S,!1),S!==2){if(Iy&&!B){k.errorRecoveryDisabledLanes|=T,Dl|=T,p=4;break e}T=Da,Da=p,T!==null&&Ly(T)}p=S}if(T=!1,p!==2)continue}}if(p===1){Bu(i,0),Eo(i,o,0,!0);break}e:{switch(h=i,p){case 0:case 1:throw Error(r(345));case 4:if((o&4194176)===o){Eo(h,o,Hi,!To);break e}break;case 2:Da=null;break;case 3:case 5:break;default:throw Error(r(329))}if(h.finishedWork=l,h.finishedLanes=o,(o&62914560)===o&&(T=xy+300-er(),10<T)){if(Eo(h,o,Hi,!To),gr(h,0)!==0)break e;h.timeoutHandle=GE(RE.bind(null,h,l,Da,Xd,My,o,Hi,Dl,ju,To,2,-0,0),T);break e}RE(h,l,Da,Xd,My,o,Hi,Dl,ju,To,0,-0,0)}}break}while(!0);Ia(i)}function Ly(i){Da===null?Da=i:Da.push.apply(Da,i)}function RE(i,o,l,h,p,T,S,k,B,K,le,me,te){var oe=o.subtreeFlags;if((oe&8192||(oe&16785408)===16785408)&&(Uh={stylesheets:null,count:0,unsuspend:A2},mE(o),o=C2(),o!==null)){i.cancelPendingCommit=o(ME.bind(null,i,l,h,p,S,k,B,1,me,te)),Eo(i,T,S,!K);return}ME(i,l,h,p,S,k,B,le,me,te)}function qI(i){for(var o=i;;){var l=o.tag;if((l===0||l===11||l===15)&&o.flags&16384&&(l=o.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var h=0;h<l.length;h++){var p=l[h],T=p.getSnapshot;p=p.value;try{if(!pi(T(),p))return!1}catch{return!1}}if(l=o.child,o.subtreeFlags&16384&&l!==null)l.return=o,o=l;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Eo(i,o,l,h){o&=~Oy,o&=~Dl,i.suspendedLanes|=o,i.pingedLanes&=~o,h&&(i.warmLanes|=o),h=i.expirationTimes;for(var p=o;0<p;){var T=31-nr(p),S=1<<T;h[T]=-1,p&=~S}l!==0&&Fe(i,l,o)}function Jd(){return(Tn&6)===0?(Nh(0),!1):!0}function Vy(){if(Et!==null){if(sn===0)var i=Et.return;else i=Et,mo=Rl=null,Fg(i),Iu=null,dh=0,i=Et;for(;i!==null;)wE(i.alternate,i),i=i.return;Et=null}}function Bu(i,o){i.finishedWork=null,i.finishedLanes=0;var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,u2(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),Vy(),on=i,Et=l=hs(i.current,null),Mt=o,sn=0,vi=null,To=!1,zu=pa(i,o),Iy=!1,ju=Hi=Oy=Dl=fs=Cn=0,Da=Oh=null,My=!1,(o&8)!==0&&(o|=o&32);var h=i.entangledLanes;if(h!==0)for(i=i.entanglements,h&=o;0<h;){var p=31-nr(h),T=1<<p;o|=i[p],h&=~T}return wo=o,bd(),l}function AE(i,o){pt=null,O.H=Ca,o===hh?(o=jT(),sn=3):o===VT?(o=jT(),sn=4):sn=o===Uw?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,vi=o,Et===null&&(Cn=1,Fd(i,Ui(o,i.current)))}function SE(){var i=O.H;return O.H=Ca,i===null?Ca:i}function CE(){var i=O.A;return O.A=$I,i}function Uy(){Cn=4,To||(Mt&4194176)!==Mt&&Bi.current!==null||(zu=!0),(fs&134217727)===0&&(Dl&134217727)===0||on===null||Eo(on,Mt,Hi,!1)}function zy(i,o,l){var h=Tn;Tn|=2;var p=SE(),T=CE();(on!==i||Mt!==o)&&(Xd=null,Bu(i,o)),o=!1;var S=Cn;e:do try{if(sn!==0&&Et!==null){var k=Et,B=vi;switch(sn){case 8:Vy(),S=6;break e;case 3:case 2:case 6:Bi.current===null&&(o=!0);var K=sn;if(sn=0,vi=null,$u(i,k,B,K),l&&zu){S=0;break e}break;default:K=sn,sn=0,vi=null,$u(i,k,B,K)}}HI(),S=Cn;break}catch(le){AE(i,le)}while(!0);return o&&i.shellSuspendCounter++,mo=Rl=null,Tn=h,O.H=p,O.A=T,Et===null&&(on=null,Mt=0,bd()),S}function HI(){for(;Et!==null;)DE(Et)}function YI(i,o){var l=Tn;Tn|=2;var h=SE(),p=CE();on!==i||Mt!==o?(Xd=null,Zd=er()+500,Bu(i,o)):zu=pa(i,o);e:do try{if(sn!==0&&Et!==null){o=Et;var T=vi;t:switch(sn){case 1:sn=0,vi=null,$u(i,o,T,1);break;case 2:if(UT(T)){sn=0,vi=null,IE(o);break}o=function(){sn===2&&on===i&&(sn=7),Ia(i)},T.then(o,o);break e;case 3:sn=7;break e;case 4:sn=5;break e;case 7:UT(T)?(sn=0,vi=null,IE(o)):(sn=0,vi=null,$u(i,o,T,7));break;case 5:var S=null;switch(Et.tag){case 26:S=Et.memoizedState;case 5:case 27:var k=Et;if(!S||ib(S)){sn=0,vi=null;var B=k.sibling;if(B!==null)Et=B;else{var K=k.return;K!==null?(Et=K,em(K)):Et=null}break t}}sn=0,vi=null,$u(i,o,T,5);break;case 6:sn=0,vi=null,$u(i,o,T,6);break;case 8:Vy(),Cn=6;break e;default:throw Error(r(462))}}GI();break}catch(le){AE(i,le)}while(!0);return mo=Rl=null,O.H=h,O.A=p,Tn=l,Et!==null?0:(on=null,Mt=0,bd(),Cn)}function GI(){for(;Et!==null&&!Wa();)DE(Et)}function DE(i){var o=Zw(i.alternate,i,wo);i.memoizedProps=i.pendingProps,o===null?em(i):Et=o}function IE(i){var o=i,l=o.alternate;switch(o.tag){case 15:case 0:o=qw(l,o,o.pendingProps,o.type,void 0,Mt);break;case 11:o=qw(l,o,o.pendingProps,o.type.render,o.ref,Mt);break;case 5:Fg(o);default:wE(l,o),o=Et=vE(o,wo),o=Zw(l,o,wo)}i.memoizedProps=i.pendingProps,o===null?em(i):Et=o}function $u(i,o,l,h){mo=Rl=null,Fg(o),Iu=null,dh=0;var p=o.return;try{if(PI(i,p,o,l,Mt)){Cn=1,Fd(i,Ui(l,i.current)),Et=null;return}}catch(T){if(p!==null)throw Et=p,T;Cn=1,Fd(i,Ui(l,i.current)),Et=null;return}o.flags&32768?(Vt||h===1?i=!0:zu||(Mt&536870912)!==0?i=!1:(To=i=!0,(h===2||h===3||h===6)&&(h=Bi.current,h!==null&&h.tag===13&&(h.flags|=16384))),OE(o,i)):em(o)}function em(i){var o=i;do{if((o.flags&32768)!==0){OE(o,To);return}i=o.return;var l=jI(o.alternate,o,wo);if(l!==null){Et=l;return}if(o=o.sibling,o!==null){Et=o;return}Et=o=i}while(o!==null);Cn===0&&(Cn=5)}function OE(i,o){do{var l=BI(i.alternate,i);if(l!==null){l.flags&=32767,Et=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!o&&(i=i.sibling,i!==null)){Et=i;return}Et=i=l}while(i!==null);Cn=6,Et=null}function ME(i,o,l,h,p,T,S,k,B,K){var le=O.T,me=_e.p;try{_e.p=2,O.T=null,KI(i,o,l,h,me,p,T,S,k,B,K)}finally{O.T=le,_e.p=me}}function KI(i,o,l,h,p,T,S,k){do Fu();while(Il!==null);if((Tn&6)!==0)throw Error(r(327));var B=i.finishedWork;if(h=i.finishedLanes,B===null)return null;if(i.finishedWork=null,i.finishedLanes=0,B===i.current)throw Error(r(177));i.callbackNode=null,i.callbackPriority=0,i.cancelPendingCommit=null;var K=B.lanes|B.childLanes;if(K|=Dg,be(i,h,K,T,S,k),i===on&&(Et=on=null,Mt=0),(B.subtreeFlags&10256)===0&&(B.flags&10256)===0||Wd||(Wd=!0,Ny=K,ky=l,WI(di,function(){return Fu(),null})),l=(B.flags&15990)!==0,(B.subtreeFlags&15990)!==0||l?(l=O.T,O.T=null,T=_e.p,_e.p=2,S=Tn,Tn|=4,VI(i,B),hE(B,i),vI(Xy,i.containerInfo),fm=!!Zy,Xy=Zy=null,i.current=B,sE(i,B.alternate,B),Yo(),Tn=S,_e.p=T,O.T=l):i.current=B,Wd?(Wd=!1,Il=i,Mh=h):xE(i,K),K=i.pendingLanes,K===0&&(ds=null),Go(B.stateNode),Ia(i),o!==null)for(p=i.onRecoverableError,B=0;B<o.length;B++)K=o[B],p(K.value,{componentStack:K.stack});return(Mh&3)!==0&&Fu(),K=i.pendingLanes,(h&4194218)!==0&&(K&42)!==0?i===Py?xh++:(xh=0,Py=i):xh=0,Nh(0),null}function xE(i,o){(i.pooledCacheLanes&=o)===0&&(o=i.pooledCache,o!=null&&(i.pooledCache=null,ph(o)))}function Fu(){if(Il!==null){var i=Il,o=Ny;Ny=0;var l=Ue(Mh),h=O.T,p=_e.p;try{if(_e.p=32>l?32:l,O.T=null,Il===null)var T=!1;else{l=ky,ky=null;var S=Il,k=Mh;if(Il=null,Mh=0,(Tn&6)!==0)throw Error(r(331));var B=Tn;if(Tn|=4,gE(S.current),dE(S,S.current,k,l),Tn=B,Nh(0,!1),tr&&typeof tr.onPostCommitFiberRoot=="function")try{tr.onPostCommitFiberRoot(Xi,S)}catch{}T=!0}return T}finally{_e.p=p,O.T=h,xE(i,o)}}return!1}function NE(i,o,l){o=Ui(l,o),o=ry(i.stateNode,o,2),i=ss(i,o,2),i!==null&&(ue(i,2),Ia(i))}function en(i,o,l){if(i.tag===3)NE(i,i,l);else for(;o!==null;){if(o.tag===3){NE(o,i,l);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(ds===null||!ds.has(h))){i=Ui(l,i),l=Lw(2),h=ss(o,l,2),h!==null&&(Vw(l,h,o,i),ue(h,2),Ia(h));break}}o=o.return}}function jy(i,o,l){var h=i.pingCache;if(h===null){h=i.pingCache=new FI;var p=new Set;h.set(o,p)}else p=h.get(o),p===void 0&&(p=new Set,h.set(o,p));p.has(l)||(Iy=!0,p.add(l),i=QI.bind(null,i,o,l),o.then(i,i))}function QI(i,o,l){var h=i.pingCache;h!==null&&h.delete(o),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,on===i&&(Mt&l)===l&&(Cn===4||Cn===3&&(Mt&62914560)===Mt&&300>er()-xy?(Tn&2)===0&&Bu(i,0):Oy|=l,ju===Mt&&(ju=0)),Ia(i)}function kE(i,o){o===0&&(o=Q()),i=Jo(i,o),i!==null&&(ue(i,o),Ia(i))}function ZI(i){var o=i.memoizedState,l=0;o!==null&&(l=o.retryLane),kE(i,l)}function XI(i,o){var l=0;switch(i.tag){case 13:var h=i.stateNode,p=i.memoizedState;p!==null&&(l=p.retryLane);break;case 19:h=i.stateNode;break;case 22:h=i.stateNode._retryCache;break;default:throw Error(r(314))}h!==null&&h.delete(o),kE(i,l)}function WI(i,o){return Xa(i,o)}var tm=null,qu=null,By=!1,nm=!1,$y=!1,Ol=0;function Ia(i){i!==qu&&i.next===null&&(qu===null?tm=qu=i:qu=qu.next=i),nm=!0,By||(By=!0,e2(JI))}function Nh(i,o){if(!$y&&nm){$y=!0;do for(var l=!1,h=tm;h!==null;){if(i!==0){var p=h.pendingLanes;if(p===0)var T=0;else{var S=h.suspendedLanes,k=h.pingedLanes;T=(1<<31-nr(42|i)+1)-1,T&=p&~(S&~k),T=T&201326677?T&201326677|1:T?T|2:0}T!==0&&(l=!0,VE(h,T))}else T=Mt,T=gr(h,h===on?T:0),(T&3)===0||pa(h,T)||(l=!0,VE(h,T));h=h.next}while(l);$y=!1}}function JI(){nm=By=!1;var i=0;Ol!==0&&(l2()&&(i=Ol),Ol=0);for(var o=er(),l=null,h=tm;h!==null;){var p=h.next,T=PE(h,o);T===0?(h.next=null,l===null?tm=p:l.next=p,p===null&&(qu=l)):(l=h,(i!==0||(T&3)!==0)&&(nm=!0)),h=p}Nh(i)}function PE(i,o){for(var l=i.suspendedLanes,h=i.pingedLanes,p=i.expirationTimes,T=i.pendingLanes&-62914561;0<T;){var S=31-nr(T),k=1<<S,B=p[S];B===-1?((k&l)===0||(k&h)!==0)&&(p[S]=Ko(k,o)):B<=o&&(i.expiredLanes|=k),T&=~k}if(o=on,l=Mt,l=gr(i,i===o?l:0),h=i.callbackNode,l===0||i===o&&sn===2||i.cancelPendingCommit!==null)return h!==null&&h!==null&&ri(h),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||pa(i,l)){if(o=l&-l,o===i.callbackPriority)return o;switch(h!==null&&ri(h),Ue(l)){case 2:case 8:l=On;break;case 32:l=di;break;case 268435456:l=ii;break;default:l=di}return h=LE.bind(null,i),l=Xa(l,h),i.callbackPriority=o,i.callbackNode=l,o}return h!==null&&h!==null&&ri(h),i.callbackPriority=2,i.callbackNode=null,2}function LE(i,o){var l=i.callbackNode;if(Fu()&&i.callbackNode!==l)return null;var h=Mt;return h=gr(i,i===on?h:0),h===0?null:(bE(i,h,o),PE(i,er()),i.callbackNode!=null&&i.callbackNode===l?LE.bind(null,i):null)}function VE(i,o){if(Fu())return null;bE(i,o,!0)}function e2(i){c2(function(){(Tn&6)!==0?Xa(Ht,i):i()})}function Fy(){return Ol===0&&(Ol=H()),Ol}function UE(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:va(""+i)}function zE(i,o){var l=o.ownerDocument.createElement("input");return l.name=o.name,l.value=o.value,i.id&&l.setAttribute("form",i.id),o.parentNode.insertBefore(l,o),i=new FormData(i),l.parentNode.removeChild(l),i}function t2(i,o,l,h,p){if(o==="submit"&&l&&l.stateNode===p){var T=UE((p[Ye]||null).action),S=h.submitter;S&&(o=(o=S[Ye]||null)?UE(o.formAction):S.getAttribute("formAction"),o!==null&&(T=o,S=null));var k=new pu("action","action",null,h,p);i.push({event:k,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(Ol!==0){var B=S?zE(p,S):new FormData(p);Wg(l,{pending:!0,data:B,method:p.method,action:T},null,B)}}else typeof T=="function"&&(k.preventDefault(),B=S?zE(p,S):new FormData(p),Wg(l,{pending:!0,data:B,method:p.method,action:T},T,B))},currentTarget:p}]})}}for(var qy=0;qy<MT.length;qy++){var Hy=MT[qy],n2=Hy.toLowerCase(),r2=Hy[0].toUpperCase()+Hy.slice(1);ea(n2,"on"+r2)}ea(ST,"onAnimationEnd"),ea(CT,"onAnimationIteration"),ea(DT,"onAnimationStart"),ea("dblclick","onDoubleClick"),ea("focusin","onFocus"),ea("focusout","onBlur"),ea(TI,"onTransitionRun"),ea(wI,"onTransitionStart"),ea(EI,"onTransitionCancel"),ea(IT,"onTransitionEnd"),Bt("onMouseEnter",["mouseout","mouseover"]),Bt("onMouseLeave",["mouseout","mouseover"]),Bt("onPointerEnter",["pointerout","pointerover"]),Bt("onPointerLeave",["pointerout","pointerover"]),ft("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ft("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ft("onBeforeInput",["compositionend","keypress","textInput","paste"]),ft("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ft("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ft("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),i2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(kh));function jE(i,o){o=(o&4)!==0;for(var l=0;l<i.length;l++){var h=i[l],p=h.event;h=h.listeners;e:{var T=void 0;if(o)for(var S=h.length-1;0<=S;S--){var k=h[S],B=k.instance,K=k.currentTarget;if(k=k.listener,B!==T&&p.isPropagationStopped())break e;T=k,p.currentTarget=K;try{T(p)}catch(le){$d(le)}p.currentTarget=null,T=B}else for(S=0;S<h.length;S++){if(k=h[S],B=k.instance,K=k.currentTarget,k=k.listener,B!==T&&p.isPropagationStopped())break e;T=k,p.currentTarget=K;try{T(p)}catch(le){$d(le)}p.currentTarget=null,T=B}}}}function St(i,o){var l=o[pn];l===void 0&&(l=o[pn]=new Set);var h=i+"__bubble";l.has(h)||(BE(o,i,2,!1),l.add(h))}function Yy(i,o,l){var h=0;o&&(h|=4),BE(l,i,h,o)}var rm="_reactListening"+Math.random().toString(36).slice(2);function Gy(i){if(!i[rm]){i[rm]=!0,ga.forEach(function(l){l!=="selectionchange"&&(i2.has(l)||Yy(l,!1,i),Yy(l,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[rm]||(o[rm]=!0,Yy("selectionchange",!1,o))}}function BE(i,o,l,h){switch(cb(o)){case 2:var p=O2;break;case 8:p=M2;break;default:p=ov}l=p.bind(null,o,l,i),p=void 0,!Pi||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(p=!0),h?p!==void 0?i.addEventListener(o,l,{capture:!0,passive:p}):i.addEventListener(o,l,!0):p!==void 0?i.addEventListener(o,l,{passive:p}):i.addEventListener(o,l,!1)}function Ky(i,o,l,h,p){var T=h;if((o&1)===0&&(o&2)===0&&h!==null)e:for(;;){if(h===null)return;var S=h.tag;if(S===3||S===4){var k=h.stateNode.containerInfo;if(k===p||k.nodeType===8&&k.parentNode===p)break;if(S===4)for(S=h.return;S!==null;){var B=S.tag;if((B===3||B===4)&&(B=S.stateNode.containerInfo,B===p||B.nodeType===8&&B.parentNode===p))return;S=S.return}for(;k!==null;){if(S=Mn(k),S===null)return;if(B=S.tag,B===5||B===6||B===26||B===27){h=T=S;continue e}k=k.parentNode}}h=h.return}ld(function(){var K=T,le=mu(l),me=[];e:{var te=OT.get(i);if(te!==void 0){var oe=pu,Be=i;switch(i){case"keypress":if(Ta(l)===0)break e;case"keydown":case"keyup":oe=wu;break;case"focusin":Be="focus",oe=vu;break;case"focusout":Be="blur",oe=vu;break;case"beforeblur":case"afterblur":oe=vu;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":oe=Li;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":oe=Tg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":oe=gd;break;case ST:case CT:case DT:oe=_u;break;case IT:oe=vd;break;case"scroll":case"scrollend":oe=ud;break;case"wheel":oe=Eu;break;case"copy":case"cut":case"paste":oe=Tu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":oe=ih;break;case"toggle":case"beforetoggle":oe=Td}var ot=(o&4)!==0,Dn=!ot&&(i==="scroll"||i==="scrollend"),Z=ot?te!==null?te+"Capture":null:te;ot=[];for(var G=K,ee;G!==null;){var ce=G;if(ee=ce.stateNode,ce=ce.tag,ce!==5&&ce!==26&&ce!==27||ee===null||Z===null||(ce=ol(G,Z),ce!=null&&ot.push(Ph(G,ce,ee))),Dn)break;G=G.return}0<ot.length&&(te=new oe(te,Be,null,l,le),me.push({event:te,listeners:ot}))}}if((o&7)===0){e:{if(te=i==="mouseover"||i==="pointerover",oe=i==="mouseout"||i==="pointerout",te&&l!==ki&&(Be=l.relatedTarget||l.fromElement)&&(Mn(Be)||Be[Pt]))break e;if((oe||te)&&(te=le.window===le?le:(te=le.ownerDocument)?te.defaultView||te.parentWindow:window,oe?(Be=l.relatedTarget||l.toElement,oe=K,Be=Be?Mn(Be):null,Be!==null&&(Dn=ge(Be),ot=Be.tag,Be!==Dn||ot!==5&&ot!==27&&ot!==6)&&(Be=null)):(oe=null,Be=K),oe!==Be)){if(ot=Li,ce="onMouseLeave",Z="onMouseEnter",G="mouse",(i==="pointerout"||i==="pointerover")&&(ot=ih,ce="onPointerLeave",Z="onPointerEnter",G="pointer"),Dn=oe==null?te:Oi(oe),ee=Be==null?te:Oi(Be),te=new ot(ce,G+"leave",oe,l,le),te.target=Dn,te.relatedTarget=ee,ce=null,Mn(le)===K&&(ot=new ot(Z,G+"enter",Be,l,le),ot.target=ee,ot.relatedTarget=Dn,ce=ot),Dn=ce,oe&&Be)t:{for(ot=oe,Z=Be,G=0,ee=ot;ee;ee=Hu(ee))G++;for(ee=0,ce=Z;ce;ce=Hu(ce))ee++;for(;0<G-ee;)ot=Hu(ot),G--;for(;0<ee-G;)Z=Hu(Z),ee--;for(;G--;){if(ot===Z||Z!==null&&ot===Z.alternate)break t;ot=Hu(ot),Z=Hu(Z)}ot=null}else ot=null;oe!==null&&$E(me,te,oe,ot,!1),Be!==null&&Dn!==null&&$E(me,Dn,Be,ot,!0)}}e:{if(te=K?Oi(K):window,oe=te.nodeName&&te.nodeName.toLowerCase(),oe==="select"||oe==="input"&&te.type==="file")var ke=pT;else if(Hn(te))if(gT)ke=gI;else{ke=mI;var vt=dI}else oe=te.nodeName,!oe||oe.toLowerCase()!=="input"||te.type!=="checkbox"&&te.type!=="radio"?K&&Xc(K.elementType)&&(ke=pT):ke=pI;if(ke&&(ke=ke(i,K))){so(me,ke,l,le);break e}vt&&vt(i,te,K),i==="focusout"&&K&&te.type==="number"&&K.memoizedProps.value!=null&&du(te,"number",te.value)}switch(vt=K?Oi(K):window,i){case"focusin":(Hn(vt)||vt.contentEditable==="true")&&(bu=vt,Ag=K,sh=null);break;case"focusout":sh=Ag=bu=null;break;case"mousedown":Sg=!0;break;case"contextmenu":case"mouseup":case"dragend":Sg=!1,RT(me,l,le);break;case"selectionchange":if(_I)break;case"keydown":case"keyup":RT(me,l,le)}var qe;if(ba)e:{switch(i){case"compositionstart":var Ke="onCompositionStart";break e;case"compositionend":Ke="onCompositionEnd";break e;case"compositionupdate":Ke="onCompositionUpdate";break e}Ke=void 0}else It?ie(i,l)&&(Ke="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Ke="onCompositionStart");Ke&&(A&&l.locale!=="ko"&&(It||Ke!=="onCompositionStart"?Ke==="onCompositionEnd"&&It&&(qe=Jc()):(_a=le,Wo="value"in _a?_a.value:_a.textContent,It=!0)),vt=im(K,Ke),0<vt.length&&(Ke=new nh(Ke,i,null,l,le),me.push({event:Ke,listeners:vt}),qe?Ke.data=qe:(qe=Te(l),qe!==null&&(Ke.data=qe)))),(qe=E?qn(i,l):Ot(i,l))&&(Ke=im(K,"onBeforeInput"),0<Ke.length&&(vt=new nh("onBeforeInput","beforeinput",null,l,le),me.push({event:vt,listeners:Ke}),vt.data=qe)),t2(me,i,K,l,le)}jE(me,o)})}function Ph(i,o,l){return{instance:i,listener:o,currentTarget:l}}function im(i,o){for(var l=o+"Capture",h=[];i!==null;){var p=i,T=p.stateNode;p=p.tag,p!==5&&p!==26&&p!==27||T===null||(p=ol(i,l),p!=null&&h.unshift(Ph(i,p,T)),p=ol(i,o),p!=null&&h.push(Ph(i,p,T))),i=i.return}return h}function Hu(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function $E(i,o,l,h,p){for(var T=o._reactName,S=[];l!==null&&l!==h;){var k=l,B=k.alternate,K=k.stateNode;if(k=k.tag,B!==null&&B===h)break;k!==5&&k!==26&&k!==27||K===null||(B=K,p?(K=ol(l,T),K!=null&&S.unshift(Ph(l,K,B))):p||(K=ol(l,T),K!=null&&S.push(Ph(l,K,B)))),l=l.return}S.length!==0&&i.push({event:o,listeners:S})}var a2=/\r\n?/g,o2=/\u0000|\uFFFD/g;function FE(i){return(typeof i=="string"?i:""+i).replace(a2,`
`).replace(o2,"")}function qE(i,o){return o=FE(o),FE(i)===o}function am(){}function Zt(i,o,l,h,p,T){switch(l){case"children":typeof h=="string"?o==="body"||o==="textarea"&&h===""||Ni(i,h):(typeof h=="number"||typeof h=="bigint")&&o!=="body"&&Ni(i,""+h);break;case"className":Qo(i,"class",h);break;case"tabIndex":Qo(i,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":Qo(i,l,h);break;case"style":sd(i,h,T);break;case"data":if(o!=="object"){Qo(i,"data",h);break}case"src":case"href":if(h===""&&(o!=="a"||l!=="href")){i.removeAttribute(l);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(l);break}h=va(""+h),i.setAttribute(l,h);break;case"action":case"formAction":if(typeof h=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof T=="function"&&(l==="formAction"?(o!=="input"&&Zt(i,o,"name",p.name,p,null),Zt(i,o,"formEncType",p.formEncType,p,null),Zt(i,o,"formMethod",p.formMethod,p,null),Zt(i,o,"formTarget",p.formTarget,p,null)):(Zt(i,o,"encType",p.encType,p,null),Zt(i,o,"method",p.method,p,null),Zt(i,o,"target",p.target,p,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(l);break}h=va(""+h),i.setAttribute(l,h);break;case"onClick":h!=null&&(i.onclick=am);break;case"onScroll":h!=null&&St("scroll",i);break;case"onScrollEnd":h!=null&&St("scrollend",i);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(l=h.__html,l!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"multiple":i.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":i.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){i.removeAttribute("xlink:href");break}l=va(""+h),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,""+h):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":h===!0?i.setAttribute(l,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,h):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?i.setAttribute(l,h):i.removeAttribute(l);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?i.removeAttribute(l):i.setAttribute(l,h);break;case"popover":St("beforetoggle",i),St("toggle",i),ya(i,"popover",h);break;case"xlinkActuate":xi(i,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":xi(i,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":xi(i,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":xi(i,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":xi(i,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":xi(i,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":xi(i,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":xi(i,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":xi(i,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":ya(i,"is",h);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=vg.get(l)||l,ya(i,l,h))}}function Qy(i,o,l,h,p,T){switch(l){case"style":sd(i,h,T);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(l=h.__html,l!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"children":typeof h=="string"?Ni(i,h):(typeof h=="number"||typeof h=="bigint")&&Ni(i,""+h);break;case"onScroll":h!=null&&St("scroll",i);break;case"onScrollEnd":h!=null&&St("scrollend",i);break;case"onClick":h!=null&&(i.onclick=am);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ji.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(p=l.endsWith("Capture"),o=l.slice(2,p?l.length-7:void 0),T=i[Ye]||null,T=T!=null?T[l]:null,typeof T=="function"&&i.removeEventListener(o,T,p),typeof h=="function")){typeof T!="function"&&T!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(o,h,p);break e}l in i?i[l]=h:h===!0?i.setAttribute(l,""):ya(i,l,h)}}}function Tr(i,o,l){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":St("error",i),St("load",i);var h=!1,p=!1,T;for(T in l)if(l.hasOwnProperty(T)){var S=l[T];if(S!=null)switch(T){case"src":h=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Zt(i,o,T,S,l,null)}}p&&Zt(i,o,"srcSet",l.srcSet,l,null),h&&Zt(i,o,"src",l.src,l,null);return;case"input":St("invalid",i);var k=T=S=p=null,B=null,K=null;for(h in l)if(l.hasOwnProperty(h)){var le=l[h];if(le!=null)switch(h){case"name":p=le;break;case"type":S=le;break;case"checked":B=le;break;case"defaultChecked":K=le;break;case"value":T=le;break;case"defaultValue":k=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(r(137,o));break;default:Zt(i,o,h,le,l,null)}}il(i,T,k,B,K,S,p,!1),rl(i);return;case"select":St("invalid",i),h=S=T=null;for(p in l)if(l.hasOwnProperty(p)&&(k=l[p],k!=null))switch(p){case"value":T=k;break;case"defaultValue":S=k;break;case"multiple":h=k;default:Zt(i,o,p,k,l,null)}o=T,l=S,i.multiple=!!h,o!=null?Lt(i,!!h,o,!1):l!=null&&Lt(i,!!h,l,!0);return;case"textarea":St("invalid",i),T=p=h=null;for(S in l)if(l.hasOwnProperty(S)&&(k=l[S],k!=null))switch(S){case"value":h=k;break;case"defaultValue":p=k;break;case"children":T=k;break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(r(91));break;default:Zt(i,o,S,k,l,null)}Xo(i,h,p,T),rl(i);return;case"option":for(B in l)if(l.hasOwnProperty(B)&&(h=l[B],h!=null))switch(B){case"selected":i.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:Zt(i,o,B,h,l,null)}return;case"dialog":St("cancel",i),St("close",i);break;case"iframe":case"object":St("load",i);break;case"video":case"audio":for(h=0;h<kh.length;h++)St(kh[h],i);break;case"image":St("error",i),St("load",i);break;case"details":St("toggle",i);break;case"embed":case"source":case"link":St("error",i),St("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in l)if(l.hasOwnProperty(K)&&(h=l[K],h!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Zt(i,o,K,h,l,null)}return;default:if(Xc(o)){for(le in l)l.hasOwnProperty(le)&&(h=l[le],h!==void 0&&Qy(i,o,le,h,l,void 0));return}}for(k in l)l.hasOwnProperty(k)&&(h=l[k],h!=null&&Zt(i,o,k,h,l,null))}function s2(i,o,l,h){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,T=null,S=null,k=null,B=null,K=null,le=null;for(oe in l){var me=l[oe];if(l.hasOwnProperty(oe)&&me!=null)switch(oe){case"checked":break;case"value":break;case"defaultValue":B=me;default:h.hasOwnProperty(oe)||Zt(i,o,oe,null,h,me)}}for(var te in h){var oe=h[te];if(me=l[te],h.hasOwnProperty(te)&&(oe!=null||me!=null))switch(te){case"type":T=oe;break;case"name":p=oe;break;case"checked":K=oe;break;case"defaultChecked":le=oe;break;case"value":S=oe;break;case"defaultValue":k=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(r(137,o));break;default:oe!==me&&Zt(i,o,te,oe,h,me)}}Zo(i,S,k,B,K,le,T,p);return;case"select":oe=S=k=te=null;for(T in l)if(B=l[T],l.hasOwnProperty(T)&&B!=null)switch(T){case"value":break;case"multiple":oe=B;default:h.hasOwnProperty(T)||Zt(i,o,T,null,h,B)}for(p in h)if(T=h[p],B=l[p],h.hasOwnProperty(p)&&(T!=null||B!=null))switch(p){case"value":te=T;break;case"defaultValue":k=T;break;case"multiple":S=T;default:T!==B&&Zt(i,o,p,T,h,B)}o=k,l=S,h=oe,te!=null?Lt(i,!!l,te,!1):!!h!=!!l&&(o!=null?Lt(i,!!l,o,!0):Lt(i,!!l,l?[]:"",!1));return;case"textarea":oe=te=null;for(k in l)if(p=l[k],l.hasOwnProperty(k)&&p!=null&&!h.hasOwnProperty(k))switch(k){case"value":break;case"children":break;default:Zt(i,o,k,null,h,p)}for(S in h)if(p=h[S],T=l[S],h.hasOwnProperty(S)&&(p!=null||T!=null))switch(S){case"value":te=p;break;case"defaultValue":oe=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(r(91));break;default:p!==T&&Zt(i,o,S,p,h,T)}al(i,te,oe);return;case"option":for(var Be in l)if(te=l[Be],l.hasOwnProperty(Be)&&te!=null&&!h.hasOwnProperty(Be))switch(Be){case"selected":i.selected=!1;break;default:Zt(i,o,Be,null,h,te)}for(B in h)if(te=h[B],oe=l[B],h.hasOwnProperty(B)&&te!==oe&&(te!=null||oe!=null))switch(B){case"selected":i.selected=te&&typeof te!="function"&&typeof te!="symbol";break;default:Zt(i,o,B,te,h,oe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ot in l)te=l[ot],l.hasOwnProperty(ot)&&te!=null&&!h.hasOwnProperty(ot)&&Zt(i,o,ot,null,h,te);for(K in h)if(te=h[K],oe=l[K],h.hasOwnProperty(K)&&te!==oe&&(te!=null||oe!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(r(137,o));break;default:Zt(i,o,K,te,h,oe)}return;default:if(Xc(o)){for(var Dn in l)te=l[Dn],l.hasOwnProperty(Dn)&&te!==void 0&&!h.hasOwnProperty(Dn)&&Qy(i,o,Dn,void 0,h,te);for(le in h)te=h[le],oe=l[le],!h.hasOwnProperty(le)||te===oe||te===void 0&&oe===void 0||Qy(i,o,le,te,h,oe);return}}for(var Z in l)te=l[Z],l.hasOwnProperty(Z)&&te!=null&&!h.hasOwnProperty(Z)&&Zt(i,o,Z,null,h,te);for(me in h)te=h[me],oe=l[me],!h.hasOwnProperty(me)||te===oe||te==null&&oe==null||Zt(i,o,me,te,h,oe)}var Zy=null,Xy=null;function om(i){return i.nodeType===9?i:i.ownerDocument}function HE(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function YE(i,o){if(i===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&o==="foreignObject"?0:i}function Wy(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Jy=null;function l2(){var i=window.event;return i&&i.type==="popstate"?i===Jy?!1:(Jy=i,!0):(Jy=null,!1)}var GE=typeof setTimeout=="function"?setTimeout:void 0,u2=typeof clearTimeout=="function"?clearTimeout:void 0,KE=typeof Promise=="function"?Promise:void 0,c2=typeof queueMicrotask=="function"?queueMicrotask:typeof KE<"u"?function(i){return KE.resolve(null).then(i).catch(h2)}:GE;function h2(i){setTimeout(function(){throw i})}function ev(i,o){var l=o,h=0;do{var p=l.nextSibling;if(i.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"){if(h===0){i.removeChild(p),Fh(o);return}h--}else l!=="$"&&l!=="$?"&&l!=="$!"||h++;l=p}while(l);Fh(o)}function tv(i){var o=i.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var l=o;switch(o=o.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":tv(l),mi(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function f2(i,o,l,h){for(;i.nodeType===1;){var p=l;if(i.nodeName.toLowerCase()!==o.toLowerCase()){if(!h&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(h){if(!i[Hr])switch(o){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(T=i.getAttribute("rel"),T==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(T!==p.rel||i.getAttribute("href")!==(p.href==null?null:p.href)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||i.getAttribute("title")!==(p.title==null?null:p.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(T=i.getAttribute("src"),(T!==(p.src==null?null:p.src)||i.getAttribute("type")!==(p.type==null?null:p.type)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&T&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(o==="input"&&i.type==="hidden"){var T=p.name==null?null:""+p.name;if(p.type==="hidden"&&i.getAttribute("name")===T)return i}else return i;if(i=ra(i.nextSibling),i===null)break}return null}function d2(i,o,l){if(o==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=ra(i.nextSibling),i===null))return null;return i}function ra(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return i}function QE(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(o===0)return i;o--}else l==="/$"&&o++}i=i.previousSibling}return null}function ZE(i,o,l){switch(o=om(l),i){case"html":if(i=o.documentElement,!i)throw Error(r(452));return i;case"head":if(i=o.head,!i)throw Error(r(453));return i;case"body":if(i=o.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}var Yi=new Map,XE=new Set;function sm(i){return typeof i.getRootNode=="function"?i.getRootNode():i.ownerDocument}var bo=_e.d;_e.d={f:m2,r:p2,D:g2,C:y2,L:v2,m:_2,X:w2,S:T2,M:E2};function m2(){var i=bo.f(),o=Jd();return i||o}function p2(i){var o=Vn(i);o!==null&&o.tag===5&&o.type==="form"?Rw(o):bo.r(i)}var Yu=typeof document>"u"?null:document;function WE(i,o,l){var h=Yu;if(h&&typeof o=="string"&&o){var p=An(o);p='link[rel="'+i+'"][href="'+p+'"]',typeof l=="string"&&(p+='[crossorigin="'+l+'"]'),XE.has(p)||(XE.add(p),i={rel:i,crossOrigin:l,href:o},h.querySelector(p)===null&&(o=h.createElement("link"),Tr(o,"link",i),jt(o),h.head.appendChild(o)))}}function g2(i){bo.D(i),WE("dns-prefetch",i,null)}function y2(i,o){bo.C(i,o),WE("preconnect",i,o)}function v2(i,o,l){bo.L(i,o,l);var h=Yu;if(h&&i&&o){var p='link[rel="preload"][as="'+An(o)+'"]';o==="image"&&l&&l.imageSrcSet?(p+='[imagesrcset="'+An(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(p+='[imagesizes="'+An(l.imageSizes)+'"]')):p+='[href="'+An(i)+'"]';var T=p;switch(o){case"style":T=Gu(i);break;case"script":T=Ku(i)}Yi.has(T)||(i=z({rel:"preload",href:o==="image"&&l&&l.imageSrcSet?void 0:i,as:o},l),Yi.set(T,i),h.querySelector(p)!==null||o==="style"&&h.querySelector(Lh(T))||o==="script"&&h.querySelector(Vh(T))||(o=h.createElement("link"),Tr(o,"link",i),jt(o),h.head.appendChild(o)))}}function _2(i,o){bo.m(i,o);var l=Yu;if(l&&i){var h=o&&typeof o.as=="string"?o.as:"script",p='link[rel="modulepreload"][as="'+An(h)+'"][href="'+An(i)+'"]',T=p;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":T=Ku(i)}if(!Yi.has(T)&&(i=z({rel:"modulepreload",href:i},o),Yi.set(T,i),l.querySelector(p)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Vh(T)))return}h=l.createElement("link"),Tr(h,"link",i),jt(h),l.head.appendChild(h)}}}function T2(i,o,l){bo.S(i,o,l);var h=Yu;if(h&&i){var p=ai(h).hoistableStyles,T=Gu(i);o=o||"default";var S=p.get(T);if(!S){var k={loading:0,preload:null};if(S=h.querySelector(Lh(T)))k.loading=5;else{i=z({rel:"stylesheet",href:i,"data-precedence":o},l),(l=Yi.get(T))&&nv(i,l);var B=S=h.createElement("link");jt(B),Tr(B,"link",i),B._p=new Promise(function(K,le){B.onload=K,B.onerror=le}),B.addEventListener("load",function(){k.loading|=1}),B.addEventListener("error",function(){k.loading|=2}),k.loading|=4,lm(S,o,h)}S={type:"stylesheet",instance:S,count:1,state:k},p.set(T,S)}}}function w2(i,o){bo.X(i,o);var l=Yu;if(l&&i){var h=ai(l).hoistableScripts,p=Ku(i),T=h.get(p);T||(T=l.querySelector(Vh(p)),T||(i=z({src:i,async:!0},o),(o=Yi.get(p))&&rv(i,o),T=l.createElement("script"),jt(T),Tr(T,"link",i),l.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},h.set(p,T))}}function E2(i,o){bo.M(i,o);var l=Yu;if(l&&i){var h=ai(l).hoistableScripts,p=Ku(i),T=h.get(p);T||(T=l.querySelector(Vh(p)),T||(i=z({src:i,async:!0,type:"module"},o),(o=Yi.get(p))&&rv(i,o),T=l.createElement("script"),jt(T),Tr(T,"link",i),l.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},h.set(p,T))}}function JE(i,o,l,h){var p=(p=vn.current)?sm(p):null;if(!p)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(o=Gu(l.href),l=ai(p).hoistableStyles,h=l.get(o),h||(h={type:"style",instance:null,count:0,state:null},l.set(o,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=Gu(l.href);var T=ai(p).hoistableStyles,S=T.get(i);if(S||(p=p.ownerDocument||p,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},T.set(i,S),(T=p.querySelector(Lh(i)))&&!T._p&&(S.instance=T,S.state.loading=5),Yi.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Yi.set(i,l),T||b2(p,i,l,S.state))),o&&h===null)throw Error(r(528,""));return S}if(o&&h!==null)throw Error(r(529,""));return null;case"script":return o=l.async,l=l.src,typeof l=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Ku(l),l=ai(p).hoistableScripts,h=l.get(o),h||(h={type:"script",instance:null,count:0,state:null},l.set(o,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Gu(i){return'href="'+An(i)+'"'}function Lh(i){return'link[rel="stylesheet"]['+i+"]"}function eb(i){return z({},i,{"data-precedence":i.precedence,precedence:null})}function b2(i,o,l,h){i.querySelector('link[rel="preload"][as="style"]['+o+"]")?h.loading=1:(o=i.createElement("link"),h.preload=o,o.addEventListener("load",function(){return h.loading|=1}),o.addEventListener("error",function(){return h.loading|=2}),Tr(o,"link",l),jt(o),i.head.appendChild(o))}function Ku(i){return'[src="'+An(i)+'"]'}function Vh(i){return"script[async]"+i}function tb(i,o,l){if(o.count++,o.instance===null)switch(o.type){case"style":var h=i.querySelector('style[data-href~="'+An(l.href)+'"]');if(h)return o.instance=h,jt(h),h;var p=z({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return h=(i.ownerDocument||i).createElement("style"),jt(h),Tr(h,"style",p),lm(h,l.precedence,i),o.instance=h;case"stylesheet":p=Gu(l.href);var T=i.querySelector(Lh(p));if(T)return o.state.loading|=4,o.instance=T,jt(T),T;h=eb(l),(p=Yi.get(p))&&nv(h,p),T=(i.ownerDocument||i).createElement("link"),jt(T);var S=T;return S._p=new Promise(function(k,B){S.onload=k,S.onerror=B}),Tr(T,"link",h),o.state.loading|=4,lm(T,l.precedence,i),o.instance=T;case"script":return T=Ku(l.src),(p=i.querySelector(Vh(T)))?(o.instance=p,jt(p),p):(h=l,(p=Yi.get(T))&&(h=z({},l),rv(h,p)),i=i.ownerDocument||i,p=i.createElement("script"),jt(p),Tr(p,"link",h),i.head.appendChild(p),o.instance=p);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(h=o.instance,o.state.loading|=4,lm(h,l.precedence,i));return o.instance}function lm(i,o,l){for(var h=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=h.length?h[h.length-1]:null,T=p,S=0;S<h.length;S++){var k=h[S];if(k.dataset.precedence===o)T=k;else if(T!==p)break}T?T.parentNode.insertBefore(i,T.nextSibling):(o=l.nodeType===9?l.head:l,o.insertBefore(i,o.firstChild))}function nv(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.title==null&&(i.title=o.title)}function rv(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.integrity==null&&(i.integrity=o.integrity)}var um=null;function nb(i,o,l){if(um===null){var h=new Map,p=um=new Map;p.set(l,h)}else p=um,h=p.get(l),h||(h=new Map,p.set(l,h));if(h.has(i))return h;for(h.set(i,null),l=l.getElementsByTagName(i),p=0;p<l.length;p++){var T=l[p];if(!(T[Hr]||T[xe]||i==="link"&&T.getAttribute("rel")==="stylesheet")&&T.namespaceURI!=="http://www.w3.org/2000/svg"){var S=T.getAttribute(o)||"";S=i+S;var k=h.get(S);k?k.push(T):h.set(S,[T])}}return h}function rb(i,o,l){i=i.ownerDocument||i,i.head.insertBefore(l,o==="title"?i.querySelector("head > title"):null)}function R2(i,o,l){if(l===1||o.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return i=o.disabled,typeof o.precedence=="string"&&i==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function ib(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Uh=null;function A2(){}function S2(i,o,l){if(Uh===null)throw Error(r(475));var h=Uh;if(o.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var p=Gu(l.href),T=i.querySelector(Lh(p));if(T){i=T._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(h.count++,h=cm.bind(h),i.then(h,h)),o.state.loading|=4,o.instance=T,jt(T);return}T=i.ownerDocument||i,l=eb(l),(p=Yi.get(p))&&nv(l,p),T=T.createElement("link"),jt(T);var S=T;S._p=new Promise(function(k,B){S.onload=k,S.onerror=B}),Tr(T,"link",l),o.instance=T}h.stylesheets===null&&(h.stylesheets=new Map),h.stylesheets.set(o,i),(i=o.state.preload)&&(o.state.loading&3)===0&&(h.count++,o=cm.bind(h),i.addEventListener("load",o),i.addEventListener("error",o))}}function C2(){if(Uh===null)throw Error(r(475));var i=Uh;return i.stylesheets&&i.count===0&&iv(i,i.stylesheets),0<i.count?function(o){var l=setTimeout(function(){if(i.stylesheets&&iv(i,i.stylesheets),i.unsuspend){var h=i.unsuspend;i.unsuspend=null,h()}},6e4);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(l)}}:null}function cm(){if(this.count--,this.count===0){if(this.stylesheets)iv(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var hm=null;function iv(i,o){i.stylesheets=null,i.unsuspend!==null&&(i.count++,hm=new Map,o.forEach(D2,i),hm=null,cm.call(i))}function D2(i,o){if(!(o.state.loading&4)){var l=hm.get(i);if(l)var h=l.get(null);else{l=new Map,hm.set(i,l);for(var p=i.querySelectorAll("link[data-precedence],style[data-precedence]"),T=0;T<p.length;T++){var S=p[T];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(l.set(S.dataset.precedence,S),h=S)}h&&l.set(null,h)}p=o.instance,S=p.getAttribute("data-precedence"),T=l.get(S)||h,T===h&&l.set(null,p),l.set(S,p),this.count++,h=cm.bind(this),p.addEventListener("load",h),p.addEventListener("error",h),T?T.parentNode.insertBefore(p,T.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(p,i.firstChild)),o.state.loading|=4}}var zh={$$typeof:b,Provider:null,Consumer:null,_currentValue:Le,_currentValue2:Le,_threadCount:0};function I2(i,o,l,h,p,T,S,k){this.tag=1,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ne(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ne(0),this.hiddenUpdates=ne(null),this.identifierPrefix=h,this.onUncaughtError=p,this.onCaughtError=T,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function ab(i,o,l,h,p,T,S,k,B,K,le,me){return i=new I2(i,o,l,S,k,B,K,me),o=1,T===!0&&(o|=24),T=qi(3,null,null,o),i.current=T,T.stateNode=i,o=Lg(),o.refCount++,i.pooledCache=o,o.refCount++,T.memoizedState={element:h,isDehydrated:l,cache:o},gy(T),i}function ob(i){return i?(i=Su,i):Su}function sb(i,o,l,h,p,T){p=ob(p),h.context===null?h.context=p:h.pendingContext=p,h=os(o),h.payload={element:l},T=T===void 0?null:T,T!==null&&(h.callback=T),l=ss(i,h,o),l!==null&&(Qr(l,i,o),Eh(l,i,o))}function lb(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<o?l:o}}function av(i,o){lb(i,o),(i=i.alternate)&&lb(i,o)}function ub(i){if(i.tag===13){var o=Jo(i,67108864);o!==null&&Qr(o,i,67108864),av(i,67108864)}}var fm=!0;function O2(i,o,l,h){var p=O.T;O.T=null;var T=_e.p;try{_e.p=2,ov(i,o,l,h)}finally{_e.p=T,O.T=p}}function M2(i,o,l,h){var p=O.T;O.T=null;var T=_e.p;try{_e.p=8,ov(i,o,l,h)}finally{_e.p=T,O.T=p}}function ov(i,o,l,h){if(fm){var p=sv(h);if(p===null)Ky(i,o,h,dm,l),hb(i,h);else if(N2(p,i,o,l,h))h.stopPropagation();else if(hb(i,h),o&4&&-1<x2.indexOf(i)){for(;p!==null;){var T=Vn(p);if(T!==null)switch(T.tag){case 3:if(T=T.stateNode,T.current.memoizedState.isDehydrated){var S=Pr(T.pendingLanes);if(S!==0){var k=T;for(k.pendingLanes|=2,k.entangledLanes|=2;S;){var B=1<<31-nr(S);k.entanglements[1]|=B,S&=~B}Ia(T),(Tn&6)===0&&(Zd=er()+500,Nh(0))}}break;case 13:k=Jo(T,2),k!==null&&Qr(k,T,2),Jd(),av(T,2)}if(T=sv(h),T===null&&Ky(i,o,h,dm,l),T===p)break;p=T}p!==null&&h.stopPropagation()}else Ky(i,o,h,null,l)}}function sv(i){return i=mu(i),lv(i)}var dm=null;function lv(i){if(dm=null,i=Mn(i),i!==null){var o=ge(i);if(o===null)i=null;else{var l=o.tag;if(l===13){if(i=Pe(o),i!==null)return i;i=null}else if(l===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return dm=i,null}function cb(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(fi()){case Ht:return 2;case On:return 8;case di:case uu:return 32;case ii:return 268435456;default:return 32}default:return 32}}var uv=!1,ms=null,ps=null,gs=null,jh=new Map,Bh=new Map,ys=[],x2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function hb(i,o){switch(i){case"focusin":case"focusout":ms=null;break;case"dragenter":case"dragleave":ps=null;break;case"mouseover":case"mouseout":gs=null;break;case"pointerover":case"pointerout":jh.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bh.delete(o.pointerId)}}function $h(i,o,l,h,p,T){return i===null||i.nativeEvent!==T?(i={blockedOn:o,domEventName:l,eventSystemFlags:h,nativeEvent:T,targetContainers:[p]},o!==null&&(o=Vn(o),o!==null&&ub(o)),i):(i.eventSystemFlags|=h,o=i.targetContainers,p!==null&&o.indexOf(p)===-1&&o.push(p),i)}function N2(i,o,l,h,p){switch(o){case"focusin":return ms=$h(ms,i,o,l,h,p),!0;case"dragenter":return ps=$h(ps,i,o,l,h,p),!0;case"mouseover":return gs=$h(gs,i,o,l,h,p),!0;case"pointerover":var T=p.pointerId;return jh.set(T,$h(jh.get(T)||null,i,o,l,h,p)),!0;case"gotpointercapture":return T=p.pointerId,Bh.set(T,$h(Bh.get(T)||null,i,o,l,h,p)),!0}return!1}function fb(i){var o=Mn(i.target);if(o!==null){var l=ge(o);if(l!==null){if(o=l.tag,o===13){if(o=Pe(l),o!==null){i.blockedOn=o,Ae(i.priority,function(){if(l.tag===13){var h=_i(),p=Jo(l,h);p!==null&&Qr(p,l,h),av(l,h)}});return}}else if(o===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function mm(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var l=sv(i.nativeEvent);if(l===null){l=i.nativeEvent;var h=new l.constructor(l.type,l);ki=h,l.target.dispatchEvent(h),ki=null}else return o=Vn(l),o!==null&&ub(o),i.blockedOn=l,!1;o.shift()}return!0}function db(i,o,l){mm(i)&&l.delete(o)}function k2(){uv=!1,ms!==null&&mm(ms)&&(ms=null),ps!==null&&mm(ps)&&(ps=null),gs!==null&&mm(gs)&&(gs=null),jh.forEach(db),Bh.forEach(db)}function pm(i,o){i.blockedOn===o&&(i.blockedOn=null,uv||(uv=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,k2)))}var gm=null;function mb(i){gm!==i&&(gm=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){gm===i&&(gm=null);for(var o=0;o<i.length;o+=3){var l=i[o],h=i[o+1],p=i[o+2];if(typeof h!="function"){if(lv(h||l)===null)continue;break}var T=Vn(l);T!==null&&(i.splice(o,3),o-=3,Wg(T,{pending:!0,data:p,method:l.method,action:h},h,p))}}))}function Fh(i){function o(B){return pm(B,i)}ms!==null&&pm(ms,i),ps!==null&&pm(ps,i),gs!==null&&pm(gs,i),jh.forEach(o),Bh.forEach(o);for(var l=0;l<ys.length;l++){var h=ys[l];h.blockedOn===i&&(h.blockedOn=null)}for(;0<ys.length&&(l=ys[0],l.blockedOn===null);)fb(l),l.blockedOn===null&&ys.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(h=0;h<l.length;h+=3){var p=l[h],T=l[h+1],S=p[Ye]||null;if(typeof T=="function")S||mb(l);else if(S){var k=null;if(T&&T.hasAttribute("formAction")){if(p=T,S=T[Ye]||null)k=S.formAction;else if(lv(p)!==null)continue}else k=S.action;typeof k=="function"?l[h+1]=k:(l.splice(h,3),h-=3),mb(l)}}}function cv(i){this._internalRoot=i}ym.prototype.render=cv.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(r(409));var l=o.current,h=_i();sb(l,h,i,o,null,null)},ym.prototype.unmount=cv.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;i.tag===0&&Fu(),sb(i.current,2,null,i,null,null),Jd(),o[Pt]=null}};function ym(i){this._internalRoot=i}ym.prototype.unstable_scheduleHydration=function(i){if(i){var o=je();i={blockedOn:null,target:i,priority:o};for(var l=0;l<ys.length&&o!==0&&o<ys[l].priority;l++);ys.splice(l,0,i),l===0&&fb(i)}};var pb=e.version;if(pb!=="19.0.0")throw Error(r(527,pb,"19.0.0"));_e.findDOMNode=function(i){var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=ae(o),i=i!==null?ve(i):null,i=i===null?null:i.stateNode,i};var P2={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:O,findFiberByHostInstance:Mn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vm.isDisabled&&vm.supportsFiber)try{Xi=vm.inject(P2),tr=vm}catch{}}return Yh.createRoot=function(i,o){if(!a(i))throw Error(r(299));var l=!1,h="",p=xw,T=Nw,S=kw,k=null;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(k=o.unstable_transitionCallbacks)),o=ab(i,1,!1,null,null,l,h,p,T,S,k,null),i[Pt]=o.current,Gy(i.nodeType===8?i.parentNode:i),new cv(o)},Yh.hydrateRoot=function(i,o,l){if(!a(i))throw Error(r(299));var h=!1,p="",T=xw,S=Nw,k=kw,B=null,K=null;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(T=l.onUncaughtError),l.onCaughtError!==void 0&&(S=l.onCaughtError),l.onRecoverableError!==void 0&&(k=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(B=l.unstable_transitionCallbacks),l.formState!==void 0&&(K=l.formState)),o=ab(i,1,!0,o,l??null,h,p,T,S,k,B,K),o.context=ob(null),l=o.current,h=_i(),p=os(h),p.callback=null,ss(l,p,h),o.current.lanes=h,ue(o,h),Ia(o),i[Pt]=o.current,Gy(i),new ym(o)},Yh.version="19.0.0",Yh}var Sb;function IO(){if(Sb)return dv.exports;Sb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),dv.exports=DO(),dv.exports}var OO=IO(),Gh={},Cb;function MO(){if(Cb)return Gh;Cb=1,Object.defineProperty(Gh,"__esModule",{value:!0}),Gh.parse=u,Gh.serialize=d;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,s=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function u(w,b){const R=new s,C=w.length;if(C<2)return R;const D=(b==null?void 0:b.decode)||g;let M=0;do{const N=w.indexOf("=",M);if(N===-1)break;const V=w.indexOf(";",M),$=V===-1?C:V;if(N>$){M=w.lastIndexOf(";",N-1)+1;continue}const L=c(w,M,N),Y=f(w,N,L),x=w.slice(L,Y);if(R[x]===void 0){let I=c(w,N+1,$),O=f(w,$,I);const z=D(w.slice(I,O));R[x]=z}M=$+1}while(M<C);return R}function c(w,b,R){do{const C=w.charCodeAt(b);if(C!==32&&C!==9)return b}while(++b<R);return R}function f(w,b,R){for(;b>R;){const C=w.charCodeAt(--b);if(C!==32&&C!==9)return b+1}return R}function d(w,b,R){const C=(R==null?void 0:R.encode)||encodeURIComponent;if(!n.test(w))throw new TypeError(`argument name is invalid: ${w}`);const D=C(b);if(!e.test(D))throw new TypeError(`argument val is invalid: ${b}`);let M=w+"="+D;if(!R)return M;if(R.maxAge!==void 0){if(!Number.isInteger(R.maxAge))throw new TypeError(`option maxAge is invalid: ${R.maxAge}`);M+="; Max-Age="+R.maxAge}if(R.domain){if(!t.test(R.domain))throw new TypeError(`option domain is invalid: ${R.domain}`);M+="; Domain="+R.domain}if(R.path){if(!r.test(R.path))throw new TypeError(`option path is invalid: ${R.path}`);M+="; Path="+R.path}if(R.expires){if(!v(R.expires)||!Number.isFinite(R.expires.valueOf()))throw new TypeError(`option expires is invalid: ${R.expires}`);M+="; Expires="+R.expires.toUTCString()}if(R.httpOnly&&(M+="; HttpOnly"),R.secure&&(M+="; Secure"),R.partitioned&&(M+="; Partitioned"),R.priority)switch(typeof R.priority=="string"?R.priority.toLowerCase():void 0){case"low":M+="; Priority=Low";break;case"medium":M+="; Priority=Medium";break;case"high":M+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${R.priority}`)}if(R.sameSite)switch(typeof R.sameSite=="string"?R.sameSite.toLowerCase():R.sameSite){case!0:case"strict":M+="; SameSite=Strict";break;case"lax":M+="; SameSite=Lax";break;case"none":M+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${R.sameSite}`)}return M}function g(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function v(w){return a.call(w)==="[object Date]"}return Gh}MO();/**
 * react-router v7.4.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var mA=n=>{throw TypeError(n)},xO=(n,e,t)=>e.has(n)||mA("Cannot "+t),yv=(n,e,t)=>(xO(n,e,"read from private field"),t?t.call(n):e.get(n)),NO=(n,e,t)=>e.has(n)?mA("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),Db="popstate";function kO(n={}){function e(a,s){let{pathname:u="/",search:c="",hash:f=""}=$o(a.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),mf("",{pathname:u,search:c,hash:f},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(a,s){let u=a.document.querySelector("base"),c="";if(u&&u.getAttribute("href")){let f=a.location.href,d=f.indexOf("#");c=d===-1?f:f.slice(0,d)}return c+"#"+(typeof s=="string"?s:Vs(s))}function r(a,s){dr(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(s)})`)}return LO(e,t,r,n)}function Dt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function dr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function PO(){return Math.random().toString(36).substring(2,10)}function Ib(n,e){return{usr:n.state,key:n.key,idx:e}}function mf(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?$o(e):e,state:t,key:e&&e.key||r||PO()}}function Vs({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function $o(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function LO(n,e,t,r={}){let{window:a=document.defaultView,v5Compat:s=!1}=r,u=a.history,c="POP",f=null,d=g();d==null&&(d=0,u.replaceState({...u.state,idx:d},""));function g(){return(u.state||{idx:null}).idx}function v(){c="POP";let D=g(),M=D==null?null:D-d;d=D,f&&f({action:c,location:C.location,delta:M})}function w(D,M){c="PUSH";let N=mf(C.location,D,M);t&&t(N,D),d=g()+1;let V=Ib(N,d),$=C.createHref(N);try{u.pushState(V,"",$)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;a.location.assign($)}s&&f&&f({action:c,location:C.location,delta:1})}function b(D,M){c="REPLACE";let N=mf(C.location,D,M);t&&t(N,D),d=g();let V=Ib(N,d),$=C.createHref(N);u.replaceState(V,"",$),s&&f&&f({action:c,location:C.location,delta:0})}function R(D){let M=a.location.origin!=="null"?a.location.origin:a.location.href,N=typeof D=="string"?D:Vs(D);return N=N.replace(/ $/,"%20"),Dt(M,`No window.location.(origin|href) available to create URL for href: ${N}`),new URL(N,M)}let C={get action(){return c},get location(){return n(a,u)},listen(D){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(Db,v),f=D,()=>{a.removeEventListener(Db,v),f=null}},createHref(D){return e(a,D)},createURL:R,encodeLocation(D){let M=R(D);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:w,replace:b,go(D){return u.go(D)}};return C}var Xh,Ob=class{constructor(n){if(NO(this,Xh,new Map),n)for(let[e,t]of n)this.set(e,t)}get(n){if(yv(this,Xh).has(n))return yv(this,Xh).get(n);if(n.defaultValue!==void 0)return n.defaultValue;throw new Error("No value found for context")}set(n,e){yv(this,Xh).set(n,e)}};Xh=new WeakMap;var VO=new Set(["lazy","caseSensitive","path","id","index","children"]);function UO(n){return n.index===!0}function Ym(n,e,t=[],r={}){return n.map((a,s)=>{let u=[...t,String(s)],c=typeof a.id=="string"?a.id:u.join("-");if(Dt(a.index!==!0||!a.children,"Cannot specify children on an index route"),Dt(!r[c],`Found a route id collision on id "${c}".  Route id's must be globally unique within Data Router usages`),UO(a)){let f={...a,...e(a),id:c};return r[c]=f,f}else{let f={...a,...e(a),id:c,children:void 0};return r[c]=f,a.children&&(f.children=Ym(a.children,e,u,r)),f}})}function ws(n,e,t="/"){return Im(n,e,t,!1)}function Im(n,e,t,r){let a=typeof e=="string"?$o(e):e,s=Qi(a.pathname||"/",t);if(s==null)return null;let u=pA(n);jO(u);let c=null;for(let f=0;c==null&&f<u.length;++f){let d=XO(s);c=QO(u[f],d,r)}return c}function zO(n,e){let{route:t,pathname:r,params:a}=n;return{id:t.id,pathname:r,params:a,data:e[t.id],handle:t.handle}}function pA(n,e=[],t=[],r=""){let a=(s,u,c)=>{let f={relativePath:c===void 0?s.path||"":c,caseSensitive:s.caseSensitive===!0,childrenIndex:u,route:s};f.relativePath.startsWith("/")&&(Dt(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length));let d=ka([r,f.relativePath]),g=t.concat(f);s.children&&s.children.length>0&&(Dt(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),pA(s.children,e,g,d)),!(s.path==null&&!s.index)&&e.push({path:d,score:GO(d,s.index),routesMeta:g})};return n.forEach((s,u)=>{var c;if(s.path===""||!((c=s.path)!=null&&c.includes("?")))a(s,u);else for(let f of gA(s.path))a(s,u,f)}),e}function gA(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,a=t.endsWith("?"),s=t.replace(/\?$/,"");if(r.length===0)return a?[s,""]:[s];let u=gA(r.join("/")),c=[];return c.push(...u.map(f=>f===""?s:[s,f].join("/"))),a&&c.push(...u),c.map(f=>n.startsWith("/")&&f===""?"/":f)}function jO(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:KO(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var BO=/^:[\w-]+$/,$O=3,FO=2,qO=1,HO=10,YO=-2,Mb=n=>n==="*";function GO(n,e){let t=n.split("/"),r=t.length;return t.some(Mb)&&(r+=YO),e&&(r+=FO),t.filter(a=>!Mb(a)).reduce((a,s)=>a+(BO.test(s)?$O:s===""?qO:HO),r)}function KO(n,e){return n.length===e.length&&n.slice(0,-1).every((r,a)=>r===e[a])?n[n.length-1]-e[e.length-1]:0}function QO(n,e,t=!1){let{routesMeta:r}=n,a={},s="/",u=[];for(let c=0;c<r.length;++c){let f=r[c],d=c===r.length-1,g=s==="/"?e:e.slice(s.length)||"/",v=Gm({path:f.relativePath,caseSensitive:f.caseSensitive,end:d},g),w=f.route;if(!v&&d&&t&&!r[r.length-1].route.index&&(v=Gm({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},g)),!v)return null;Object.assign(a,v.params),u.push({params:a,pathname:ka([s,v.pathname]),pathnameBase:eM(ka([s,v.pathnameBase])),route:w}),v.pathnameBase!=="/"&&(s=ka([s,v.pathnameBase]))}return u}function Gm(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=ZO(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let s=a[0],u=s.replace(/(.)\/+$/,"$1"),c=a.slice(1);return{params:r.reduce((d,{paramName:g,isOptional:v},w)=>{if(g==="*"){let R=c[w]||"";u=s.slice(0,s.length-R.length).replace(/(.)\/+$/,"$1")}const b=c[w];return v&&!b?d[g]=void 0:d[g]=(b||"").replace(/%2F/g,"/"),d},{}),pathname:s,pathnameBase:u,pattern:n}}function ZO(n,e=!1,t=!0){dr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,c,f)=>(r.push({paramName:c,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function XO(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return dr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Qi(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function WO(n,e="/"){let{pathname:t,search:r="",hash:a=""}=typeof n=="string"?$o(n):n;return{pathname:t?t.startsWith("/")?t:JO(t,e):e,search:tM(r),hash:nM(a)}}function JO(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function vv(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function yA(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function x0(n){let e=yA(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function N0(n,e,t,r=!1){let a;typeof n=="string"?a=$o(n):(a={...n},Dt(!a.pathname||!a.pathname.includes("?"),vv("?","pathname","search",a)),Dt(!a.pathname||!a.pathname.includes("#"),vv("#","pathname","hash",a)),Dt(!a.search||!a.search.includes("#"),vv("#","search","hash",a)));let s=n===""||a.pathname==="",u=s?"/":a.pathname,c;if(u==null)c=t;else{let v=e.length-1;if(!r&&u.startsWith("..")){let w=u.split("/");for(;w[0]==="..";)w.shift(),v-=1;a.pathname=w.join("/")}c=v>=0?e[v]:"/"}let f=WO(a,c),d=u&&u!=="/"&&u.endsWith("/"),g=(s||u===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(d||g)&&(f.pathname+="/"),f}var ka=n=>n.join("/").replace(/\/\/+/g,"/"),eM=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),tM=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,nM=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,Km=class{constructor(n,e,t,r=!1){this.status=n,this.statusText=e||"",this.internal=r,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function pf(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var vA=["POST","PUT","PATCH","DELETE"],rM=new Set(vA),iM=["GET",...vA],aM=new Set(iM),oM=new Set([301,302,303,307,308]),sM=new Set([307,308]),_v={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},lM={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Kh={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},k0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,uM=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),_A="remix-router-transitions",TA=Symbol("ResetLoaderData");function cM(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Dt(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=n.mapRouteProperties||uM,a={},s=Ym(n.routes,r,void 0,a),u,c=n.basename||"/",f=n.dataStrategy||pM,d={unstable_middleware:!1,...n.future},g=null,v=new Set,w=null,b=null,R=null,C=n.hydrationData!=null,D=ws(s,n.history.location,c),M=!1,N=null;if(D==null&&!n.patchRoutesOnNavigation){let H=Ki(404,{pathname:n.history.location.pathname}),{matches:Q,route:ne}=Fb(s);D=Q,N={[ne.id]:H}}D&&!n.hydrationData&&Pr(D,s,n.history.location.pathname).active&&(D=null);let V;if(D)if(D.some(H=>H.route.lazy))V=!1;else if(!D.some(H=>H.route.loader))V=!0;else{let H=n.hydrationData?n.hydrationData.loaderData:null,Q=n.hydrationData?n.hydrationData.errors:null;if(Q){let ne=D.findIndex(ue=>Q[ue.route.id]!==void 0);V=D.slice(0,ne+1).every(ue=>!Hv(ue.route,H,Q))}else V=D.every(ne=>!Hv(ne.route,H,Q))}else{V=!1,D=[];let H=Pr(null,s,n.history.location.pathname);H.active&&H.matches&&(M=!0,D=H.matches)}let $,L={historyAction:n.history.action,location:n.history.location,matches:D,initialized:V,navigation:_v,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||N,fetchers:new Map,blockers:new Map},Y="POP",x=!1,I,O=!1,z=new Map,j=null,q=!1,U=!1,Se=new Set,se=new Map,re=0,de=-1,ge=new Map,Pe=new Set,F=new Map,ae=new Map,ve=new Set,ye=new Map,_e,Le=null;function Ve(){if(g=n.history.listen(({action:H,location:Q,delta:ne})=>{if(_e){_e(),_e=void 0;return}dr(ye.size===0||ne!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ue=nr({currentLocation:L.location,nextLocation:Q,historyAction:H});if(ue&&ne!=null){let be=new Promise(Fe=>{_e=Fe});n.history.go(ne*-1),qr(ue,{state:"blocked",location:Q,proceed(){qr(ue,{state:"proceeding",proceed:void 0,reset:void 0,location:Q}),be.then(()=>n.history.go(ne))},reset(){let Fe=new Map(L.blockers);Fe.set(ue,Kh),ct({blockers:Fe})}});return}return vn(H,Q)}),t){CM(e,z);let H=()=>DM(e,z);e.addEventListener("pagehide",H),j=()=>e.removeEventListener("pagehide",H)}return L.initialized||vn("POP",L.location,{initialHydration:!0}),$}function wt(){g&&g(),j&&j(),v.clear(),I&&I.abort(),L.fetchers.forEach((H,Q)=>di(Q)),L.blockers.forEach((H,Q)=>Go(Q))}function dt(H){return v.add(H),()=>v.delete(H)}function ct(H,Q={}){L={...L,...H};let ne=[],ue=[];L.fetchers.forEach((be,Fe)=>{be.state==="idle"&&(ve.has(Fe)?ne.push(Fe):ue.push(Fe))}),ve.forEach(be=>{!L.fetchers.has(be)&&!se.has(be)&&ne.push(be)}),[...v].forEach(be=>be(L,{deletedFetchers:ne,viewTransitionOpts:Q.viewTransitionOpts,flushSync:Q.flushSync===!0})),ne.forEach(be=>di(be)),ue.forEach(be=>L.fetchers.delete(be))}function mt(H,Q,{flushSync:ne}={}){var Ae,Me;let ue=L.actionData!=null&&L.navigation.formMethod!=null&&ia(L.navigation.formMethod)&&L.navigation.state==="loading"&&((Ae=H.state)==null?void 0:Ae._isRedirect)!==!0,be;Q.actionData?Object.keys(Q.actionData).length>0?be=Q.actionData:be=null:ue?be=L.actionData:be=null;let Fe=Q.loaderData?Bb(L.loaderData,Q.loaderData,Q.matches||[],Q.errors):L.loaderData,$e=L.blockers;$e.size>0&&($e=new Map($e),$e.forEach((xe,Ye)=>$e.set(Ye,Kh)));let Ue=x===!0||L.navigation.formMethod!=null&&ia(L.navigation.formMethod)&&((Me=H.state)==null?void 0:Me._isRedirect)!==!0;u&&(s=u,u=void 0),q||Y==="POP"||(Y==="PUSH"?n.history.push(H,H.state):Y==="REPLACE"&&n.history.replace(H,H.state));let je;if(Y==="POP"){let xe=z.get(L.location.pathname);xe&&xe.has(H.pathname)?je={currentLocation:L.location,nextLocation:H}:z.has(H.pathname)&&(je={currentLocation:H,nextLocation:L.location})}else if(O){let xe=z.get(L.location.pathname);xe?xe.add(H.pathname):(xe=new Set([H.pathname]),z.set(L.location.pathname,xe)),je={currentLocation:L.location,nextLocation:H}}ct({...Q,actionData:be,loaderData:Fe,historyAction:Y,location:H,initialized:!0,navigation:_v,revalidation:"idle",restoreScrollPosition:Wi(H,Q.matches||L.matches),preventScrollReset:Ue,blockers:$e},{viewTransitionOpts:je,flushSync:ne===!0}),Y="POP",x=!1,O=!1,q=!1,U=!1,Le==null||Le.resolve(),Le=null}async function Rn(H,Q){if(typeof H=="number"){n.history.go(H);return}let ne=qv(L.location,L.matches,c,H,Q==null?void 0:Q.fromRouteId,Q==null?void 0:Q.relative),{path:ue,submission:be,error:Fe}=xb(!1,ne,Q),$e=L.location,Ue=mf(L.location,ue,Q&&Q.state);Ue={...Ue,...n.history.encodeLocation(Ue)};let je=Q&&Q.replace!=null?Q.replace:void 0,Ae="PUSH";je===!0?Ae="REPLACE":je===!1||be!=null&&ia(be.formMethod)&&be.formAction===L.location.pathname+L.location.search&&(Ae="REPLACE");let Me=Q&&"preventScrollReset"in Q?Q.preventScrollReset===!0:void 0,xe=(Q&&Q.flushSync)===!0,Ye=nr({currentLocation:$e,nextLocation:Ue,historyAction:Ae});if(Ye){qr(Ye,{state:"blocked",location:Ue,proceed(){qr(Ye,{state:"proceeding",proceed:void 0,reset:void 0,location:Ue}),Rn(H,Q)},reset(){let Pt=new Map(L.blockers);Pt.set(Ye,Kh),ct({blockers:Pt})}});return}await vn(Ae,Ue,{submission:be,pendingError:Fe,preventScrollReset:Me,replace:Q&&Q.replace,enableViewTransition:Q&&Q.viewTransition,flushSync:xe})}function Fr(){Le||(Le=IM()),er(),ct({revalidation:"loading"});let H=Le.promise;return L.navigation.state==="submitting"?H:L.navigation.state==="idle"?(vn(L.historyAction,L.location,{startUninterruptedRevalidation:!0}),H):(vn(Y||L.historyAction,L.navigation.location,{overrideNavigation:L.navigation,enableViewTransition:O===!0}),H)}async function vn(H,Q,ne){I&&I.abort(),I=null,Y=H,q=(ne&&ne.startUninterruptedRevalidation)===!0,Ii(L.location,L.matches),x=(ne&&ne.preventScrollReset)===!0,O=(ne&&ne.enableViewTransition)===!0;let ue=u||s,be=ne&&ne.overrideNavigation,Fe=ne!=null&&ne.initialHydration&&L.matches&&L.matches.length>0&&!M?L.matches:ws(ue,Q,c),$e=(ne&&ne.flushSync)===!0;if(Fe&&L.initialized&&!U&&EM(L.location,Q)&&!(ne&&ne.submission&&ia(ne.submission.formMethod))){mt(Q,{matches:Fe},{flushSync:$e});return}let Ue=Pr(Fe,ue,Q.pathname);if(Ue.active&&Ue.matches&&(Fe=Ue.matches),!Fe){let{error:Jt,notFoundMatches:kt,route:dn}=Ja(Q.pathname);mt(Q,{matches:kt,loaderData:{},errors:{[dn.id]:Jt}},{flushSync:$e});return}I=new AbortController;let je=Qu(n.history,Q,I.signal,ne&&ne.submission),Ae=new Ob(n.unstable_getContext?await n.unstable_getContext():void 0),Me;if(ne&&ne.pendingError)Me=[Nl(Fe).route.id,{type:"error",error:ne.pendingError}];else if(ne&&ne.submission&&ia(ne.submission.formMethod)){let Jt=await fa(je,Q,ne.submission,Fe,Ae,Ue.active,{replace:ne.replace,flushSync:$e});if(Jt.shortCircuited)return;if(Jt.pendingActionResult){let[kt,dn]=Jt.pendingActionResult;if(Ei(dn)&&pf(dn.error)&&dn.error.status===404){I=null,mt(Q,{matches:Jt.matches,loaderData:{},errors:{[kt]:dn.error}});return}}Fe=Jt.matches||Fe,Me=Jt.pendingActionResult,be=Tv(Q,ne.submission),$e=!1,Ue.active=!1,je=Qu(n.history,je.url,je.signal)}let{shortCircuited:xe,matches:Ye,loaderData:Pt,errors:pn}=await da(je,Q,Fe,Ae,Ue.active,be,ne&&ne.submission,ne&&ne.fetcherSubmission,ne&&ne.replace,ne&&ne.initialHydration===!0,$e,Me);xe||(I=null,mt(Q,{matches:Ye||Fe,...$b(Me),loaderData:Pt,errors:pn}))}async function fa(H,Q,ne,ue,be,Fe,$e={}){er();let Ue=AM(Q,ne);if(ct({navigation:Ue},{flushSync:$e.flushSync===!0}),Fe){let Me=await gr(ue,Q.pathname,H.signal);if(Me.type==="aborted")return{shortCircuited:!0};if(Me.type==="error"){let xe=Nl(Me.partialMatches).route.id;return{matches:Me.partialMatches,pendingActionResult:[xe,{type:"error",error:Me.error}]}}else if(Me.matches)ue=Me.matches;else{let{notFoundMatches:xe,error:Ye,route:Pt}=Ja(Q.pathname);return{matches:xe,pendingActionResult:[Pt.id,{type:"error",error:Ye}]}}}let je,Ae=Wh(ue,Q);if(!Ae.route.action&&!Ae.route.lazy)je={type:"error",error:Ki(405,{method:H.method,pathname:Q.pathname,routeId:Ae.route.id})};else{let Me=await Wa("action",H,[Ae],ue,be,null);if(je=Me[Ae.route.id],!je){for(let xe of ue)if(Me[xe.route.id]){je=Me[xe.route.id];break}}if(H.signal.aborted)return{shortCircuited:!0}}if(Pl(je)){let Me;return $e&&$e.replace!=null?Me=$e.replace:Me=Ub(je.response.headers.get("Location"),new URL(H.url),c)===L.location.pathname+L.location.search,await ri(H,je,!0,{submission:ne,replace:Me}),{shortCircuited:!0}}if(Ei(je)){let Me=Nl(ue,Ae.route.id);return($e&&$e.replace)!==!0&&(Y="PUSH"),{matches:ue,pendingActionResult:[Me.route.id,je]}}return{matches:ue,pendingActionResult:[Ae.route.id,je]}}async function da(H,Q,ne,ue,be,Fe,$e,Ue,je,Ae,Me,xe){let Ye=Fe||Tv(Q,$e),Pt=$e||Ue||Hb(Ye),pn=!q&&!Ae;if(be){if(pn){let Bt=Di(xe);ct({navigation:Ye,...Bt!==void 0?{actionData:Bt}:{}},{flushSync:Me})}let ft=await gr(ne,Q.pathname,H.signal);if(ft.type==="aborted")return{shortCircuited:!0};if(ft.type==="error"){let Bt=Nl(ft.partialMatches).route.id;return{matches:ft.partialMatches,loaderData:{},errors:{[Bt]:ft.error}}}else if(ft.matches)ne=ft.matches;else{let{error:Bt,notFoundMatches:rr,route:eo}=Ja(Q.pathname);return{matches:rr,loaderData:{},errors:{[eo.id]:Bt}}}}let Jt=u||s,[kt,dn]=kb(n.history,L,ne,Pt,Q,Ae===!0,U,Se,ve,F,Pe,Jt,c,xe);if(de=++re,kt.length===0&&dn.length===0){let ft=ma();return mt(Q,{matches:ne,loaderData:{},errors:xe&&Ei(xe[1])?{[xe[0]]:xe[1].error}:null,...$b(xe),...ft?{fetchers:new Map(L.fetchers)}:{}},{flushSync:Me}),{shortCircuited:!0}}if(pn){let ft={};if(!be){ft.navigation=Ye;let Bt=Di(xe);Bt!==void 0&&(ft.actionData=Bt)}dn.length>0&&(ft.fetchers=el(dn)),ct(ft,{flushSync:Me})}dn.forEach(ft=>{ii(ft.key),ft.controller&&se.set(ft.key,ft.controller)});let Hr=()=>dn.forEach(ft=>ii(ft.key));I&&I.signal.addEventListener("abort",Hr);let{loaderResults:mi,fetcherResults:Mn}=await Yo(ne,kt,dn,H,ue);if(H.signal.aborted)return{shortCircuited:!0};I&&I.signal.removeEventListener("abort",Hr),dn.forEach(ft=>se.delete(ft.key));let Vn=_m(mi);if(Vn)return await ri(H,Vn.result,!0,{replace:je}),{shortCircuited:!0};if(Vn=_m(Mn),Vn)return Pe.add(Vn.key),await ri(H,Vn.result,!0,{replace:je}),{shortCircuited:!0};let{loaderData:Oi,errors:ai}=jb(L,ne,mi,xe,dn,Mn);Ae&&L.errors&&(ai={...L.errors,...ai});let jt=ma(),ga=Xi(de),Ji=jt||ga||dn.length>0;return{matches:ne,loaderData:Oi,errors:ai,...Ji?{fetchers:new Map(L.fetchers)}:{}}}function Di(H){if(H&&!Ei(H[1]))return{[H[0]]:H[1].data};if(L.actionData)return Object.keys(L.actionData).length===0?null:L.actionData}function el(H){return H.forEach(Q=>{let ne=L.fetchers.get(Q.key),ue=Qh(void 0,ne?ne.data:void 0);L.fetchers.set(Q.key,ue)}),new Map(L.fetchers)}async function qo(H,Q,ne,ue){ii(H);let be=(ue&&ue.flushSync)===!0,Fe=u||s,$e=qv(L.location,L.matches,c,ne,Q,ue==null?void 0:ue.relative),Ue=ws(Fe,$e,c),je=Pr(Ue,Fe,$e);if(je.active&&je.matches&&(Ue=je.matches),!Ue){Ht(H,Q,Ki(404,{pathname:$e}),{flushSync:be});return}let{path:Ae,submission:Me,error:xe}=xb(!0,$e,ue);if(xe){Ht(H,Q,xe,{flushSync:be});return}let Ye=Wh(Ue,Ae),Pt=new Ob(n.unstable_getContext?await n.unstable_getContext():void 0),pn=(ue&&ue.preventScrollReset)===!0;if(Me&&ia(Me.formMethod)){await Ho(H,Q,Ae,Ye,Ue,Pt,je.active,be,pn,Me);return}F.set(H,{routeId:Q,path:Ae}),await Xa(H,Q,Ae,Ye,Ue,Pt,je.active,be,pn,Me)}async function Ho(H,Q,ne,ue,be,Fe,$e,Ue,je,Ae){er(),F.delete(H);function Me(an){if(!an.route.action&&!an.route.lazy){let Mi=Ki(405,{method:Ae.formMethod,pathname:ne,routeId:Q});return Ht(H,Q,Mi,{flushSync:Ue}),!0}return!1}if(!$e&&Me(ue))return;let xe=L.fetchers.get(H);fi(H,SM(Ae,xe),{flushSync:Ue});let Ye=new AbortController,Pt=Qu(n.history,ne,Ye.signal,Ae);if($e){let an=await gr(be,ne,Pt.signal,H);if(an.type==="aborted")return;if(an.type==="error"){Ht(H,Q,an.error,{flushSync:Ue});return}else if(an.matches){if(be=an.matches,ue=Wh(be,ne),Me(ue))return}else{Ht(H,Q,Ki(404,{pathname:ne}),{flushSync:Ue});return}}se.set(H,Ye);let pn=re,kt=(await Wa("action",Pt,[ue],be,Fe,H))[ue.route.id];if(Pt.signal.aborted){se.get(H)===Ye&&se.delete(H);return}if(ve.has(H)){if(Pl(kt)||Ei(kt)){fi(H,Ts(void 0));return}}else{if(Pl(kt))if(se.delete(H),de>pn){fi(H,Ts(void 0));return}else return Pe.add(H),fi(H,Qh(Ae)),ri(Pt,kt,!1,{fetcherSubmission:Ae,preventScrollReset:je});if(Ei(kt)){Ht(H,Q,kt.error);return}}let dn=L.navigation.location||L.location,Hr=Qu(n.history,dn,Ye.signal),mi=u||s,Mn=L.navigation.state!=="idle"?ws(mi,L.navigation.location,c):L.matches;Dt(Mn,"Didn't find any matches after fetcher action");let Vn=++re;ge.set(H,Vn);let Oi=Qh(Ae,kt.data);L.fetchers.set(H,Oi);let[ai,jt]=kb(n.history,L,Mn,Ae,dn,!1,U,Se,ve,F,Pe,mi,c,[ue.route.id,kt]);jt.filter(an=>an.key!==H).forEach(an=>{let Mi=an.key,nl=L.fetchers.get(Mi),ya=Qh(void 0,nl?nl.data:void 0);L.fetchers.set(Mi,ya),ii(Mi),an.controller&&se.set(Mi,an.controller)}),ct({fetchers:new Map(L.fetchers)});let ga=()=>jt.forEach(an=>ii(an.key));Ye.signal.addEventListener("abort",ga);let{loaderResults:Ji,fetcherResults:ft}=await Yo(Mn,ai,jt,Hr,Fe);if(Ye.signal.aborted)return;Ye.signal.removeEventListener("abort",ga),ge.delete(H),se.delete(H),jt.forEach(an=>se.delete(an.key));let Bt=_m(Ji);if(Bt)return ri(Hr,Bt.result,!1,{preventScrollReset:je});if(Bt=_m(ft),Bt)return Pe.add(Bt.key),ri(Hr,Bt.result,!1,{preventScrollReset:je});let{loaderData:rr,errors:eo}=jb(L,Mn,Ji,void 0,jt,ft);if(L.fetchers.has(H)){let an=Ts(kt.data);L.fetchers.set(H,an)}Xi(Vn),L.navigation.state==="loading"&&Vn>de?(Dt(Y,"Expected pending action"),I&&I.abort(),mt(L.navigation.location,{matches:Mn,loaderData:rr,errors:eo,fetchers:new Map(L.fetchers)})):(ct({errors:eo,loaderData:Bb(L.loaderData,rr,Mn,eo),fetchers:new Map(L.fetchers)}),U=!1)}async function Xa(H,Q,ne,ue,be,Fe,$e,Ue,je,Ae){let Me=L.fetchers.get(H);fi(H,Qh(Ae,Me?Me.data:void 0),{flushSync:Ue});let xe=new AbortController,Ye=Qu(n.history,ne,xe.signal);if($e){let kt=await gr(be,ne,Ye.signal,H);if(kt.type==="aborted")return;if(kt.type==="error"){Ht(H,Q,kt.error,{flushSync:Ue});return}else if(kt.matches)be=kt.matches,ue=Wh(be,ne);else{Ht(H,Q,Ki(404,{pathname:ne}),{flushSync:Ue});return}}se.set(H,xe);let Pt=re,Jt=(await Wa("loader",Ye,[ue],be,Fe,H))[ue.route.id];if(se.get(H)===xe&&se.delete(H),!Ye.signal.aborted){if(ve.has(H)){fi(H,Ts(void 0));return}if(Pl(Jt))if(de>Pt){fi(H,Ts(void 0));return}else{Pe.add(H),await ri(Ye,Jt,!1,{preventScrollReset:je});return}if(Ei(Jt)){Ht(H,Q,Jt.error);return}fi(H,Ts(Jt.data))}}async function ri(H,Q,ne,{submission:ue,fetcherSubmission:be,preventScrollReset:Fe,replace:$e}={}){Q.response.headers.has("X-Remix-Revalidate")&&(U=!0);let Ue=Q.response.headers.get("Location");Dt(Ue,"Expected a Location header on the redirect Response"),Ue=Ub(Ue,new URL(H.url),c);let je=mf(L.location,Ue,{_isRedirect:!0});if(t){let pn=!1;if(Q.response.headers.has("X-Remix-Reload-Document"))pn=!0;else if(k0.test(Ue)){const Jt=n.history.createURL(Ue);pn=Jt.origin!==e.location.origin||Qi(Jt.pathname,c)==null}if(pn){$e?e.location.replace(Ue):e.location.assign(Ue);return}}I=null;let Ae=$e===!0||Q.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Me,formAction:xe,formEncType:Ye}=L.navigation;!ue&&!be&&Me&&xe&&Ye&&(ue=Hb(L.navigation));let Pt=ue||be;if(sM.has(Q.response.status)&&Pt&&ia(Pt.formMethod))await vn(Ae,je,{submission:{...Pt,formAction:Ue},preventScrollReset:Fe||x,enableViewTransition:ne?O:void 0});else{let pn=Tv(je,ue);await vn(Ae,je,{overrideNavigation:pn,fetcherSubmission:be,preventScrollReset:Fe||x,enableViewTransition:ne?O:void 0})}}async function Wa(H,Q,ne,ue,be,Fe){let $e,Ue={};try{$e=await yM(f,H,Q,ne,ue,Fe,a,r,be,d.unstable_middleware)}catch(je){return ne.forEach(Ae=>{Ue[Ae.route.id]={type:"error",error:je}}),Ue}for(let[je,Ae]of Object.entries($e))if(bM(Ae)){let Me=Ae.result;Ue[je]={type:"redirect",response:TM(Me,Q,je,ue,c)}}else Ue[je]=await _M(Ae);return Ue}async function Yo(H,Q,ne,ue,be){let Fe=Wa("loader",ue,Q,H,be,null),$e=Promise.all(ne.map(async Ae=>{if(Ae.matches&&Ae.match&&Ae.controller){let xe=(await Wa("loader",Qu(n.history,Ae.path,Ae.controller.signal),[Ae.match],Ae.matches,be,Ae.key))[Ae.match.route.id];return{[Ae.key]:xe}}else return Promise.resolve({[Ae.key]:{type:"error",error:Ki(404,{pathname:Ae.path})}})})),Ue=await Fe,je=(await $e).reduce((Ae,Me)=>Object.assign(Ae,Me),{});return{loaderResults:Ue,fetcherResults:je}}function er(){U=!0,F.forEach((H,Q)=>{se.has(Q)&&Se.add(Q),ii(Q)})}function fi(H,Q,ne={}){L.fetchers.set(H,Q),ct({fetchers:new Map(L.fetchers)},{flushSync:(ne&&ne.flushSync)===!0})}function Ht(H,Q,ne,ue={}){let be=Nl(L.matches,Q);di(H),ct({errors:{[be.route.id]:ne},fetchers:new Map(L.fetchers)},{flushSync:(ue&&ue.flushSync)===!0})}function On(H){return ae.set(H,(ae.get(H)||0)+1),ve.has(H)&&ve.delete(H),L.fetchers.get(H)||lM}function di(H){let Q=L.fetchers.get(H);se.has(H)&&!(Q&&Q.state==="loading"&&ge.has(H))&&ii(H),F.delete(H),ge.delete(H),Pe.delete(H),ve.delete(H),Se.delete(H),L.fetchers.delete(H)}function uu(H){let Q=(ae.get(H)||0)-1;Q<=0?(ae.delete(H),ve.add(H)):ae.set(H,Q),ct({fetchers:new Map(L.fetchers)})}function ii(H){let Q=se.get(H);Q&&(Q.abort(),se.delete(H))}function cu(H){for(let Q of H){let ne=On(Q),ue=Ts(ne.data);L.fetchers.set(Q,ue)}}function ma(){let H=[],Q=!1;for(let ne of Pe){let ue=L.fetchers.get(ne);Dt(ue,`Expected fetcher: ${ne}`),ue.state==="loading"&&(Pe.delete(ne),H.push(ne),Q=!0)}return cu(H),Q}function Xi(H){let Q=[];for(let[ne,ue]of ge)if(ue<H){let be=L.fetchers.get(ne);Dt(be,`Expected fetcher: ${ne}`),be.state==="loading"&&(ii(ne),ge.delete(ne),Q.push(ne))}return cu(Q),Q.length>0}function tr(H,Q){let ne=L.blockers.get(H)||Kh;return ye.get(H)!==Q&&ye.set(H,Q),ne}function Go(H){L.blockers.delete(H),ye.delete(H)}function qr(H,Q){let ne=L.blockers.get(H)||Kh;Dt(ne.state==="unblocked"&&Q.state==="blocked"||ne.state==="blocked"&&Q.state==="blocked"||ne.state==="blocked"&&Q.state==="proceeding"||ne.state==="blocked"&&Q.state==="unblocked"||ne.state==="proceeding"&&Q.state==="unblocked",`Invalid blocker state transition: ${ne.state} -> ${Q.state}`);let ue=new Map(L.blockers);ue.set(H,Q),ct({blockers:ue})}function nr({currentLocation:H,nextLocation:Q,historyAction:ne}){if(ye.size===0)return;ye.size>1&&dr(!1,"A router only supports one blocker at a time");let ue=Array.from(ye.entries()),[be,Fe]=ue[ue.length-1],$e=L.blockers.get(be);if(!($e&&$e.state==="proceeding")&&Fe({currentLocation:H,nextLocation:Q,historyAction:ne}))return be}function Ja(H){let Q=Ki(404,{pathname:H}),ne=u||s,{matches:ue,route:be}=Fb(ne);return{notFoundMatches:ue,route:be,error:Q}}function hu(H,Q,ne){if(w=H,R=Q,b=ne||null,!C&&L.navigation===_v){C=!0;let ue=Wi(L.location,L.matches);ue!=null&&ct({restoreScrollPosition:ue})}return()=>{w=null,R=null,b=null}}function tl(H,Q){return b&&b(H,Q.map(ue=>zO(ue,L.loaderData)))||H.key}function Ii(H,Q){if(w&&R){let ne=tl(H,Q);w[ne]=R()}}function Wi(H,Q){if(w){let ne=tl(H,Q),ue=w[ne];if(typeof ue=="number")return ue}return null}function Pr(H,Q,ne){if(n.patchRoutesOnNavigation)if(H){if(Object.keys(H[0].params).length>0)return{active:!0,matches:Im(Q,ne,c,!0)}}else return{active:!0,matches:Im(Q,ne,c,!0)||[]};return{active:!1,matches:null}}async function gr(H,Q,ne,ue){if(!n.patchRoutesOnNavigation)return{type:"success",matches:H};let be=H;for(;;){let Fe=u==null,$e=u||s,Ue=a;try{await n.patchRoutesOnNavigation({signal:ne,path:Q,matches:be,fetcherKey:ue,patch:(Me,xe)=>{ne.aborted||Lb(Me,xe,$e,Ue,r)}})}catch(Me){return{type:"error",error:Me,partialMatches:be}}finally{Fe&&!ne.aborted&&(s=[...s])}if(ne.aborted)return{type:"aborted"};let je=ws($e,Q,c);if(je)return{type:"success",matches:je};let Ae=Im($e,Q,c,!0);if(!Ae||be.length===Ae.length&&be.every((Me,xe)=>Me.route.id===Ae[xe].route.id))return{type:"success",matches:null};be=Ae}}function pa(H){a={},u=Ym(H,r,void 0,a)}function Ko(H,Q){let ne=u==null;Lb(H,Q,u||s,a,r),ne&&(s=[...s],ct({}))}return $={get basename(){return c},get future(){return d},get state(){return L},get routes(){return s},get window(){return e},initialize:Ve,subscribe:dt,enableScrollRestoration:hu,navigate:Rn,fetch:qo,revalidate:Fr,createHref:H=>n.history.createHref(H),encodeLocation:H=>n.history.encodeLocation(H),getFetcher:On,deleteFetcher:uu,dispose:wt,getBlocker:tr,deleteBlocker:Go,patchRoutes:Ko,_internalFetchControllers:se,_internalSetRoutes:pa},$}function hM(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function qv(n,e,t,r,a,s){let u,c;if(a){u=[];for(let d of e)if(u.push(d),d.route.id===a){c=d;break}}else u=e,c=e[e.length-1];let f=N0(r||".",x0(u),Qi(n.pathname,t)||n.pathname,s==="path");if(r==null&&(f.search=n.search,f.hash=n.hash),(r==null||r===""||r===".")&&c){let d=P0(f.search);if(c.route.index&&!d)f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index";else if(!c.route.index&&d){let g=new URLSearchParams(f.search),v=g.getAll("index");g.delete("index"),v.filter(b=>b).forEach(b=>g.append("index",b));let w=g.toString();f.search=w?`?${w}`:""}}return t!=="/"&&(f.pathname=f.pathname==="/"?t:ka([t,f.pathname])),Vs(f)}function xb(n,e,t){if(!t||!hM(t))return{path:e};if(t.formMethod&&!RM(t.formMethod))return{path:e,error:Ki(405,{method:t.formMethod})};let r=()=>({path:e,error:Ki(400,{type:"invalid-body"})}),s=(t.formMethod||"get").toUpperCase(),u=bA(e);if(t.body!==void 0){if(t.formEncType==="text/plain"){if(!ia(s))return r();let v=typeof t.body=="string"?t.body:t.body instanceof FormData||t.body instanceof URLSearchParams?Array.from(t.body.entries()).reduce((w,[b,R])=>`${w}${b}=${R}
`,""):String(t.body);return{path:e,submission:{formMethod:s,formAction:u,formEncType:t.formEncType,formData:void 0,json:void 0,text:v}}}else if(t.formEncType==="application/json"){if(!ia(s))return r();try{let v=typeof t.body=="string"?JSON.parse(t.body):t.body;return{path:e,submission:{formMethod:s,formAction:u,formEncType:t.formEncType,formData:void 0,json:v,text:void 0}}}catch{return r()}}}Dt(typeof FormData=="function","FormData is not available in this environment");let c,f;if(t.formData)c=Yv(t.formData),f=t.formData;else if(t.body instanceof FormData)c=Yv(t.body),f=t.body;else if(t.body instanceof URLSearchParams)c=t.body,f=zb(c);else if(t.body==null)c=new URLSearchParams,f=new FormData;else try{c=new URLSearchParams(t.body),f=zb(c)}catch{return r()}let d={formMethod:s,formAction:u,formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:f,json:void 0,text:void 0};if(ia(d.formMethod))return{path:e,submission:d};let g=$o(e);return n&&g.search&&P0(g.search)&&c.append("index",""),g.search=`?${c}`,{path:Vs(g),submission:d}}function Nb(n,e,t=!1){let r=n.findIndex(a=>a.route.id===e);return r>=0?n.slice(0,t?r+1:r):n}function kb(n,e,t,r,a,s,u,c,f,d,g,v,w,b){let R=b?Ei(b[1])?b[1].error:b[1].data:void 0,C=n.createURL(e.location),D=n.createURL(a),M=t;s&&e.errors?M=Nb(t,Object.keys(e.errors)[0],!0):b&&Ei(b[1])&&(M=Nb(t,b[0]));let N=b?b[1].statusCode:void 0,V=N&&N>=400,$=M.filter((Y,x)=>{let{route:I}=Y;if(I.lazy)return!0;if(I.loader==null)return!1;if(s)return Hv(I,e.loaderData,e.errors);if(fM(e.loaderData,e.matches[x],Y))return!0;let O=e.matches[x],z=Y;return Pb(Y,{currentUrl:C,currentParams:O.params,nextUrl:D,nextParams:z.params,...r,actionResult:R,actionStatus:N,defaultShouldRevalidate:V?!1:u||C.pathname+C.search===D.pathname+D.search||C.search!==D.search||dM(O,z)})}),L=[];return d.forEach((Y,x)=>{if(s||!t.some(q=>q.route.id===Y.routeId)||f.has(x))return;let I=ws(v,Y.path,w);if(!I){L.push({key:x,routeId:Y.routeId,path:Y.path,matches:null,match:null,controller:null});return}let O=e.fetchers.get(x),z=Wh(I,Y.path),j=!1;g.has(x)?j=!1:c.has(x)?(c.delete(x),j=!0):O&&O.state!=="idle"&&O.data===void 0?j=u:j=Pb(z,{currentUrl:C,currentParams:e.matches[e.matches.length-1].params,nextUrl:D,nextParams:t[t.length-1].params,...r,actionResult:R,actionStatus:N,defaultShouldRevalidate:V?!1:u}),j&&L.push({key:x,routeId:Y.routeId,path:Y.path,matches:I,match:z,controller:new AbortController})}),[$,L]}function Hv(n,e,t){if(n.lazy)return!0;if(!n.loader)return!1;let r=e!=null&&e[n.id]!==void 0,a=t!=null&&t[n.id]!==void 0;return!r&&a?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!r&&!a}function fM(n,e,t){let r=!e||t.route.id!==e.route.id,a=!n.hasOwnProperty(t.route.id);return r||a}function dM(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function Pb(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function Lb(n,e,t,r,a){let s;if(n){let f=r[n];Dt(f,`No route found to patch children into: routeId = ${n}`),f.children||(f.children=[]),s=f.children}else s=t;let u=e.filter(f=>!s.some(d=>wA(f,d))),c=Ym(u,a,[n||"_","patch",String((s==null?void 0:s.length)||"0")],r);s.push(...c)}function wA(n,e){return"id"in n&&"id"in e&&n.id===e.id?!0:n.index===e.index&&n.path===e.path&&n.caseSensitive===e.caseSensitive?(!n.children||n.children.length===0)&&(!e.children||e.children.length===0)?!0:n.children.every((t,r)=>{var a;return(a=e.children)==null?void 0:a.some(s=>wA(t,s))}):!1}async function mM(n,e,t){if(!n.lazy)return;let r=await n.lazy();if(!n.lazy)return;let a=t[n.id];Dt(a,"No route found in manifest");let s={};for(let u in r){let f=a[u]!==void 0&&u!=="hasErrorBoundary";dr(!f,`Route "${a.id}" has a static property "${u}" defined but its lazy function is also returning a value for this property. The lazy route property "${u}" will be ignored.`),!f&&!VO.has(u)&&(s[u]=r[u])}Object.assign(a,s),Object.assign(a,{...e(a),lazy:void 0})}async function Vb(n){let e=n.matches.filter(a=>a.shouldLoad),t={};return(await Promise.all(e.map(a=>a.resolve()))).forEach((a,s)=>{t[e[s].route.id]=a}),t}async function pM(n){return n.matches.some(e=>e.route.unstable_middleware)?gM(n,!1,()=>Vb(n),(e,t)=>({[t]:{type:"error",result:e}})):Vb(n)}async function gM(n,e,t,r){let{matches:a,request:s,params:u,context:c}=n,f={handlerResult:void 0};try{let d=a.flatMap(v=>v.route.unstable_middleware?v.route.unstable_middleware.map(w=>[v.route.id,w]):[]),g=await EA({request:s,params:u,context:c},d,e,f,t);return e?g:f.handlerResult}catch(d){if(!f.middlewareError)throw d;let g=await r(f.middlewareError.error,f.middlewareError.routeId);return f.handlerResult?Object.assign(f.handlerResult,g):g}}async function EA(n,e,t,r,a,s=0){let{request:u}=n;if(u.signal.aborted)throw u.signal.reason?u.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${u.method} ${u.url}`);let c=e[s];if(!c)return r.handlerResult=await a(),r.handlerResult;let[f,d]=c,g=!1,v,w=async()=>{if(g)throw new Error("You may only call `next()` once per middleware");g=!0,await EA(n,e,t,r,a,s+1)};try{let b=await d({request:n.request,params:n.params,context:n.context},w);return g?b===void 0?v:b:w()}catch(b){throw r.middlewareError?r.middlewareError.error!==b&&(r.middlewareError={routeId:f,error:b}):r.middlewareError={routeId:f,error:b},b}}async function yM(n,e,t,r,a,s,u,c,f,d){let g=a.map(b=>b.route.lazy?mM(b.route,c,u):void 0);d&&await Promise.all(g);let v=a.map((b,R)=>{let C=g[R],D=r.some(N=>N.route.id===b.route.id);return{...b,shouldLoad:D,resolve:async N=>(N&&t.method==="GET"&&(b.route.lazy||b.route.loader)&&(D=!0),D?vM(e,t,b,C,N,f):Promise.resolve({type:"data",result:void 0}))}}),w=await n({matches:v,request:t,params:a[0].params,fetcherKey:s,context:f});try{await Promise.all(g)}catch{}return w}async function vM(n,e,t,r,a,s){let u,c,f=d=>{let g,v=new Promise((R,C)=>g=C);c=()=>g(),e.signal.addEventListener("abort",c);let w=R=>typeof d!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${n}" [routeId: ${t.route.id}]`)):d({request:e,params:t.params,context:s},...R!==void 0?[R]:[]),b=(async()=>{try{return{type:"data",result:await(a?a(C=>w(C)):w())}}catch(R){return{type:"error",result:R}}})();return Promise.race([b,v])};try{let d=t.route[n];if(r)if(d){let g,[v]=await Promise.all([f(d).catch(w=>{g=w}),r]);if(g!==void 0)throw g;u=v}else if(await r,d=t.route[n],d)u=await f(d);else if(n==="action"){let g=new URL(e.url),v=g.pathname+g.search;throw Ki(405,{method:e.method,pathname:v,routeId:t.route.id})}else return{type:"data",result:void 0};else if(d)u=await f(d);else{let g=new URL(e.url),v=g.pathname+g.search;throw Ki(404,{pathname:v})}}catch(d){return{type:"error",result:d}}finally{c&&e.signal.removeEventListener("abort",c)}return u}async function _M(n){var r,a,s,u,c,f;let{result:e,type:t}=n;if(RA(e)){let d;try{let g=e.headers.get("Content-Type");g&&/\bapplication\/json\b/.test(g)?e.body==null?d=null:d=await e.json():d=await e.text()}catch(g){return{type:"error",error:g}}return t==="error"?{type:"error",error:new Km(e.status,e.statusText,d),statusCode:e.status,headers:e.headers}:{type:"data",data:d,statusCode:e.status,headers:e.headers}}return t==="error"?qb(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(r=e.init)==null?void 0:r.status,headers:(a=e.init)!=null&&a.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new Km(((s=e.init)==null?void 0:s.status)||500,void 0,e.data),statusCode:pf(e)?e.status:void 0,headers:(u=e.init)!=null&&u.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:pf(e)?e.status:void 0}:qb(e)?{type:"data",data:e.data,statusCode:(c=e.init)==null?void 0:c.status,headers:(f=e.init)!=null&&f.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function TM(n,e,t,r,a){let s=n.headers.get("Location");if(Dt(s,"Redirects returned/thrown from loaders/actions must have a Location header"),!k0.test(s)){let u=r.slice(0,r.findIndex(c=>c.route.id===t)+1);s=qv(new URL(e.url),u,a,s),n.headers.set("Location",s)}return n}function Ub(n,e,t){if(k0.test(n)){let r=n,a=r.startsWith("//")?new URL(e.protocol+r):new URL(r),s=Qi(a.pathname,t)!=null;if(a.origin===e.origin&&s)return a.pathname+a.search+a.hash}return n}function Qu(n,e,t,r){let a=n.createURL(bA(e)).toString(),s={signal:t};if(r&&ia(r.formMethod)){let{formMethod:u,formEncType:c}=r;s.method=u.toUpperCase(),c==="application/json"?(s.headers=new Headers({"Content-Type":c}),s.body=JSON.stringify(r.json)):c==="text/plain"?s.body=r.text:c==="application/x-www-form-urlencoded"&&r.formData?s.body=Yv(r.formData):s.body=r.formData}return new Request(a,s)}function Yv(n){let e=new URLSearchParams;for(let[t,r]of n.entries())e.append(t,typeof r=="string"?r:r.name);return e}function zb(n){let e=new FormData;for(let[t,r]of n.entries())e.append(t,r);return e}function wM(n,e,t,r=!1,a=!1){let s={},u=null,c,f=!1,d={},g=t&&Ei(t[1])?t[1].error:void 0;return n.forEach(v=>{if(!(v.route.id in e))return;let w=v.route.id,b=e[w];if(Dt(!Pl(b),"Cannot handle redirect results in processLoaderData"),Ei(b)){let R=b.error;if(g!==void 0&&(R=g,g=void 0),u=u||{},a)u[w]=R;else{let C=Nl(n,w);u[C.route.id]==null&&(u[C.route.id]=R)}r||(s[w]=TA),f||(f=!0,c=pf(b.error)?b.error.status:500),b.headers&&(d[w]=b.headers)}else s[w]=b.data,b.statusCode&&b.statusCode!==200&&!f&&(c=b.statusCode),b.headers&&(d[w]=b.headers)}),g!==void 0&&t&&(u={[t[0]]:g},s[t[0]]=void 0),{loaderData:s,errors:u,statusCode:c||200,loaderHeaders:d}}function jb(n,e,t,r,a,s){let{loaderData:u,errors:c}=wM(e,t,r);return a.forEach(f=>{let{key:d,match:g,controller:v}=f,w=s[d];if(Dt(w,"Did not find corresponding fetcher result"),!(v&&v.signal.aborted))if(Ei(w)){let b=Nl(n.matches,g==null?void 0:g.route.id);c&&c[b.route.id]||(c={...c,[b.route.id]:w.error}),n.fetchers.delete(d)}else if(Pl(w))Dt(!1,"Unhandled fetcher revalidation redirect");else{let b=Ts(w.data);n.fetchers.set(d,b)}}),{loaderData:u,errors:c}}function Bb(n,e,t,r){let a=Object.entries(e).filter(([,s])=>s!==TA).reduce((s,[u,c])=>(s[u]=c,s),{});for(let s of t){let u=s.route.id;if(!e.hasOwnProperty(u)&&n.hasOwnProperty(u)&&s.route.loader&&(a[u]=n[u]),r&&r.hasOwnProperty(u))break}return a}function $b(n){return n?Ei(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function Nl(n,e){return(e?n.slice(0,n.findIndex(r=>r.route.id===e)+1):[...n]).reverse().find(r=>r.route.hasErrorBoundary===!0)||n[0]}function Fb(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Ki(n,{pathname:e,routeId:t,method:r,type:a,message:s}={}){let u="Unknown Server Error",c="Unknown @remix-run/router error";return n===400?(u="Bad Request",r&&e&&t?c=`You made a ${r} request to "${e}" but did not provide a \`loader\` for route "${t}", so there is no way to handle the request.`:a==="invalid-body"&&(c="Unable to encode submission body")):n===403?(u="Forbidden",c=`Route "${t}" does not match URL "${e}"`):n===404?(u="Not Found",c=`No route matches URL "${e}"`):n===405&&(u="Method Not Allowed",r&&e&&t?c=`You made a ${r.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${t}", so there is no way to handle the request.`:r&&(c=`Invalid request method "${r.toUpperCase()}"`)),new Km(n||500,u,new Error(c),!0)}function _m(n){let e=Object.entries(n);for(let t=e.length-1;t>=0;t--){let[r,a]=e[t];if(Pl(a))return{key:r,result:a}}}function bA(n){let e=typeof n=="string"?$o(n):n;return Vs({...e,hash:""})}function EM(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function bM(n){return RA(n.result)&&oM.has(n.result.status)}function Ei(n){return n.type==="error"}function Pl(n){return(n&&n.type)==="redirect"}function qb(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function RA(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function RM(n){return aM.has(n.toUpperCase())}function ia(n){return rM.has(n.toUpperCase())}function P0(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function Wh(n,e){let t=typeof e=="string"?$o(e).search:e.search;if(n[n.length-1].route.index&&P0(t||""))return n[n.length-1];let r=yA(n);return r[r.length-1]}function Hb(n){let{formMethod:e,formAction:t,formEncType:r,text:a,formData:s,json:u}=n;if(!(!e||!t||!r)){if(a!=null)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:void 0,text:a};if(s!=null)return{formMethod:e,formAction:t,formEncType:r,formData:s,json:void 0,text:void 0};if(u!==void 0)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:u,text:void 0}}}function Tv(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function AM(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Qh(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function SM(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function Ts(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function CM(n,e){try{let t=n.sessionStorage.getItem(_A);if(t){let r=JSON.parse(t);for(let[a,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(a,new Set(s||[]))}}catch{}}function DM(n,e){if(e.size>0){let t={};for(let[r,a]of e)t[r]=[...a];try{n.sessionStorage.setItem(_A,JSON.stringify(t))}catch(r){dr(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function IM(){let n,e,t=new Promise((r,a)=>{n=async s=>{r(s);try{await t}catch{}},e=async s=>{a(s);try{await t}catch{}}});return{promise:t,resolve:n,reject:e}}var nu=W.createContext(null);nu.displayName="DataRouter";var Mf=W.createContext(null);Mf.displayName="DataRouterState";var L0=W.createContext({isTransitioning:!1});L0.displayName="ViewTransition";var AA=W.createContext(new Map);AA.displayName="Fetchers";var OM=W.createContext(null);OM.displayName="Await";var Ya=W.createContext(null);Ya.displayName="Navigation";var Np=W.createContext(null);Np.displayName="Location";var Ga=W.createContext({outlet:null,matches:[],isDataRoute:!1});Ga.displayName="Route";var V0=W.createContext(null);V0.displayName="RouteError";function MM(n,{relative:e}={}){Dt(xf(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=W.useContext(Ya),{hash:a,pathname:s,search:u}=Nf(n,{relative:e}),c=s;return t!=="/"&&(c=s==="/"?t:ka([t,s])),r.createHref({pathname:c,search:u,hash:a})}function xf(){return W.useContext(Np)!=null}function ru(){return Dt(xf(),"useLocation() may be used only in the context of a <Router> component."),W.useContext(Np).location}var SA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function CA(n){W.useContext(Ya).static||W.useLayoutEffect(n)}function U0(){let{isDataRoute:n}=W.useContext(Ga);return n?YM():xM()}function xM(){Dt(xf(),"useNavigate() may be used only in the context of a <Router> component.");let n=W.useContext(nu),{basename:e,navigator:t}=W.useContext(Ya),{matches:r}=W.useContext(Ga),{pathname:a}=ru(),s=JSON.stringify(x0(r)),u=W.useRef(!1);return CA(()=>{u.current=!0}),W.useCallback((f,d={})=>{if(dr(u.current,SA),!u.current)return;if(typeof f=="number"){t.go(f);return}let g=N0(f,JSON.parse(s),a,d.relative==="path");n==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:ka([e,g.pathname])),(d.replace?t.replace:t.push)(g,d.state,d)},[e,t,s,a,n])}var NM=W.createContext(null);function kM(n){let e=W.useContext(Ga).outlet;return e&&W.createElement(NM.Provider,{value:n},e)}function Nf(n,{relative:e}={}){let{matches:t}=W.useContext(Ga),{pathname:r}=ru(),a=JSON.stringify(x0(t));return W.useMemo(()=>N0(n,JSON.parse(a),r,e==="path"),[n,a,r,e])}function PM(n,e,t,r){Dt(xf(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:s}=W.useContext(Ya),{matches:u}=W.useContext(Ga),c=u[u.length-1],f=c?c.params:{},d=c?c.pathname:"/",g=c?c.pathnameBase:"/",v=c&&c.route;{let N=v&&v.path||"";DA(d,!v||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let w=ru(),b;b=w;let R=b.pathname||"/",C=R;if(g!=="/"){let N=g.replace(/^\//,"").split("/");C="/"+R.replace(/^\//,"").split("/").slice(N.length).join("/")}let D=!s&&t&&t.matches&&t.matches.length>0?t.matches:ws(n,{pathname:C});return dr(v||D!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),dr(D==null||D[D.length-1].route.element!==void 0||D[D.length-1].route.Component!==void 0||D[D.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),jM(D&&D.map(N=>Object.assign({},N,{params:Object.assign({},f,N.params),pathname:ka([g,a.encodeLocation?a.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?g:ka([g,a.encodeLocation?a.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),u,t,r)}function LM(){let n=HM(),e=pf(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=W.createElement(W.Fragment,null,W.createElement("p",null,"💿 Hey developer 👋"),W.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",W.createElement("code",{style:s},"ErrorBoundary")," or"," ",W.createElement("code",{style:s},"errorElement")," prop on your route.")),W.createElement(W.Fragment,null,W.createElement("h2",null,"Unexpected Application Error!"),W.createElement("h3",{style:{fontStyle:"italic"}},e),t?W.createElement("pre",{style:a},t):null,u)}var VM=W.createElement(LM,null),UM=class extends W.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?W.createElement(Ga.Provider,{value:this.props.routeContext},W.createElement(V0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function zM({routeContext:n,match:e,children:t}){let r=W.useContext(nu);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),W.createElement(Ga.Provider,{value:n},t)}function jM(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,s=t==null?void 0:t.errors;if(s!=null){let f=a.findIndex(d=>d.route.id&&(s==null?void 0:s[d.route.id])!==void 0);Dt(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),a=a.slice(0,Math.min(a.length,f+1))}let u=!1,c=-1;if(t)for(let f=0;f<a.length;f++){let d=a[f];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=f),d.route.id){let{loaderData:g,errors:v}=t,w=d.route.loader&&!g.hasOwnProperty(d.route.id)&&(!v||v[d.route.id]===void 0);if(d.route.lazy||w){u=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((f,d,g)=>{let v,w=!1,b=null,R=null;t&&(v=s&&d.route.id?s[d.route.id]:void 0,b=d.route.errorElement||VM,u&&(c<0&&g===0?(DA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,R=null):c===g&&(w=!0,R=d.route.hydrateFallbackElement||null)));let C=e.concat(a.slice(0,g+1)),D=()=>{let M;return v?M=b:w?M=R:d.route.Component?M=W.createElement(d.route.Component,null):d.route.element?M=d.route.element:M=f,W.createElement(zM,{match:d,routeContext:{outlet:f,matches:C,isDataRoute:t!=null},children:M})};return t&&(d.route.ErrorBoundary||d.route.errorElement||g===0)?W.createElement(UM,{location:t.location,revalidation:t.revalidation,component:b,error:v,children:D(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):D()},null)}function z0(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function BM(n){let e=W.useContext(nu);return Dt(e,z0(n)),e}function $M(n){let e=W.useContext(Mf);return Dt(e,z0(n)),e}function FM(n){let e=W.useContext(Ga);return Dt(e,z0(n)),e}function j0(n){let e=FM(n),t=e.matches[e.matches.length-1];return Dt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function qM(){return j0("useRouteId")}function HM(){var r;let n=W.useContext(V0),e=$M("useRouteError"),t=j0("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function YM(){let{router:n}=BM("useNavigate"),e=j0("useNavigate"),t=W.useRef(!1);return CA(()=>{t.current=!0}),W.useCallback(async(a,s={})=>{dr(t.current,SA),t.current&&(typeof a=="number"?n.navigate(a):await n.navigate(a,{fromRouteId:e,...s}))},[n,e])}var Yb={};function DA(n,e,t){!e&&!Yb[n]&&(Yb[n]=!0,dr(!1,t))}var Gb={};function Kb(n,e){!n&&!Gb[e]&&(Gb[e]=!0,console.warn(e))}function GM(n){let e={hasErrorBoundary:n.hasErrorBoundary||n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&(n.element&&dr(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:W.createElement(n.Component),Component:void 0})),n.HydrateFallback&&(n.hydrateFallbackElement&&dr(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:W.createElement(n.HydrateFallback),HydrateFallback:void 0})),n.ErrorBoundary&&(n.errorElement&&dr(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:W.createElement(n.ErrorBoundary),ErrorBoundary:void 0})),e}var KM=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",t(r))}})}};function QM({router:n,flushSync:e}){let[t,r]=W.useState(n.state),[a,s]=W.useState(),[u,c]=W.useState({isTransitioning:!1}),[f,d]=W.useState(),[g,v]=W.useState(),[w,b]=W.useState(),R=W.useRef(new Map),C=W.useCallback((V,{deletedFetchers:$,flushSync:L,viewTransitionOpts:Y})=>{V.fetchers.forEach((I,O)=>{I.data!==void 0&&R.current.set(O,I.data)}),$.forEach(I=>R.current.delete(I)),Kb(L===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let x=n.window!=null&&n.window.document!=null&&typeof n.window.document.startViewTransition=="function";if(Kb(Y==null||x,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!Y||!x){e&&L?e(()=>r(V)):W.startTransition(()=>r(V));return}if(e&&L){e(()=>{g&&(f&&f.resolve(),g.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:Y.currentLocation,nextLocation:Y.nextLocation})});let I=n.window.document.startViewTransition(()=>{e(()=>r(V))});I.finished.finally(()=>{e(()=>{d(void 0),v(void 0),s(void 0),c({isTransitioning:!1})})}),e(()=>v(I));return}g?(f&&f.resolve(),g.skipTransition(),b({state:V,currentLocation:Y.currentLocation,nextLocation:Y.nextLocation})):(s(V),c({isTransitioning:!0,flushSync:!1,currentLocation:Y.currentLocation,nextLocation:Y.nextLocation}))},[n.window,e,g,f]);W.useLayoutEffect(()=>n.subscribe(C),[n,C]),W.useEffect(()=>{u.isTransitioning&&!u.flushSync&&d(new KM)},[u]),W.useEffect(()=>{if(f&&a&&n.window){let V=a,$=f.promise,L=n.window.document.startViewTransition(async()=>{W.startTransition(()=>r(V)),await $});L.finished.finally(()=>{d(void 0),v(void 0),s(void 0),c({isTransitioning:!1})}),v(L)}},[a,f,n.window]),W.useEffect(()=>{f&&a&&t.location.key===a.location.key&&f.resolve()},[f,g,t.location,a]),W.useEffect(()=>{!u.isTransitioning&&w&&(s(w.state),c({isTransitioning:!0,flushSync:!1,currentLocation:w.currentLocation,nextLocation:w.nextLocation}),b(void 0))},[u.isTransitioning,w]);let D=W.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:V=>n.navigate(V),push:(V,$,L)=>n.navigate(V,{state:$,preventScrollReset:L==null?void 0:L.preventScrollReset}),replace:(V,$,L)=>n.navigate(V,{replace:!0,state:$,preventScrollReset:L==null?void 0:L.preventScrollReset})}),[n]),M=n.basename||"/",N=W.useMemo(()=>({router:n,navigator:D,static:!1,basename:M}),[n,D,M]);return W.createElement(W.Fragment,null,W.createElement(nu.Provider,{value:N},W.createElement(Mf.Provider,{value:t},W.createElement(AA.Provider,{value:R.current},W.createElement(L0.Provider,{value:u},W.createElement(WM,{basename:M,location:t.location,navigationType:t.historyAction,navigator:D},W.createElement(ZM,{routes:n.routes,future:n.future,state:t})))))),null)}var ZM=W.memo(XM);function XM({routes:n,future:e,state:t}){return PM(n,void 0,t,e)}function IA(n){return kM(n.context)}function WM({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:a,static:s=!1}){Dt(!xf(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),c=W.useMemo(()=>({basename:u,navigator:a,static:s,future:{}}),[u,a,s]);typeof t=="string"&&(t=$o(t));let{pathname:f="/",search:d="",hash:g="",state:v=null,key:w="default"}=t,b=W.useMemo(()=>{let R=Qi(f,u);return R==null?null:{location:{pathname:R,search:d,hash:g,state:v,key:w},navigationType:r}},[u,f,d,g,v,w,r]);return dr(b!=null,`<Router basename="${u}"> is not able to match the URL "${f}${d}${g}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:W.createElement(Ya.Provider,{value:c},W.createElement(Np.Provider,{children:e,value:b}))}var Om="get",Mm="application/x-www-form-urlencoded";function kp(n){return n!=null&&typeof n.tagName=="string"}function JM(n){return kp(n)&&n.tagName.toLowerCase()==="button"}function ex(n){return kp(n)&&n.tagName.toLowerCase()==="form"}function tx(n){return kp(n)&&n.tagName.toLowerCase()==="input"}function nx(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function rx(n,e){return n.button===0&&(!e||e==="_self")&&!nx(n)}var Tm=null;function ix(){if(Tm===null)try{new FormData(document.createElement("form"),0),Tm=!1}catch{Tm=!0}return Tm}var ax=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function wv(n){return n!=null&&!ax.has(n)?(dr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Mm}"`),null):n}function ox(n,e){let t,r,a,s,u;if(ex(n)){let c=n.getAttribute("action");r=c?Qi(c,e):null,t=n.getAttribute("method")||Om,a=wv(n.getAttribute("enctype"))||Mm,s=new FormData(n)}else if(JM(n)||tx(n)&&(n.type==="submit"||n.type==="image")){let c=n.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||c.getAttribute("action");if(r=f?Qi(f,e):null,t=n.getAttribute("formmethod")||c.getAttribute("method")||Om,a=wv(n.getAttribute("formenctype"))||wv(c.getAttribute("enctype"))||Mm,s=new FormData(c,n),!ix()){let{name:d,type:g,value:v}=n;if(g==="image"){let w=d?`${d}.`:"";s.append(`${w}x`,"0"),s.append(`${w}y`,"0")}else d&&s.append(d,v)}}else{if(kp(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Om,r=null,a=Mm,u=n}return s&&a==="text/plain"&&(u=s,s=void 0),{action:r,method:t.toLowerCase(),encType:a,formData:s,body:u}}function B0(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function sx(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function lx(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function ux(n,e,t){let r=await Promise.all(n.map(async a=>{let s=e.routes[a.route.id];if(s){let u=await sx(s,t);return u.links?u.links():[]}return[]}));return dx(r.flat(1).filter(lx).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Qb(n,e,t,r,a,s){let u=(f,d)=>t[d]?f.route.id!==t[d].route.id:!0,c=(f,d)=>{var g;return t[d].pathname!==f.pathname||((g=t[d].route.path)==null?void 0:g.endsWith("*"))&&t[d].params["*"]!==f.params["*"]};return s==="assets"?e.filter((f,d)=>u(f,d)||c(f,d)):s==="data"?e.filter((f,d)=>{var v;let g=r.routes[f.route.id];if(!g||!g.hasLoader)return!1;if(u(f,d)||c(f,d))return!0;if(f.route.shouldRevalidate){let w=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((v=t[0])==null?void 0:v.params)||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function cx(n,e,{includeHydrateFallback:t}={}){return hx(n.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let s=[a.module];return a.clientActionModule&&(s=s.concat(a.clientActionModule)),a.clientLoaderModule&&(s=s.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(s=s.concat(a.hydrateFallbackModule)),a.imports&&(s=s.concat(a.imports)),s}).flat(1))}function hx(n){return[...new Set(n)]}function fx(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function dx(n,e){let t=new Set;return new Set(e),n.reduce((r,a)=>{let s=JSON.stringify(fx(a));return t.has(s)||(t.add(s),r.push({key:s,link:a})),r},[])}function mx(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&Qi(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function OA(){let n=W.useContext(nu);return B0(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function px(){let n=W.useContext(Mf);return B0(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var $0=W.createContext(void 0);$0.displayName="FrameworkContext";function MA(){let n=W.useContext($0);return B0(n,"You must render this element inside a <HydratedRouter> element"),n}function gx(n,e){let t=W.useContext($0),[r,a]=W.useState(!1),[s,u]=W.useState(!1),{onFocus:c,onBlur:f,onMouseEnter:d,onMouseLeave:g,onTouchStart:v}=e,w=W.useRef(null);W.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let C=M=>{M.forEach(N=>{u(N.isIntersecting)})},D=new IntersectionObserver(C,{threshold:.5});return w.current&&D.observe(w.current),()=>{D.disconnect()}}},[n]),W.useEffect(()=>{if(r){let C=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(C)}}},[r]);let b=()=>{a(!0)},R=()=>{a(!1),u(!1)};return t?n!=="intent"?[s,w,{}]:[s,w,{onFocus:Zh(c,b),onBlur:Zh(f,R),onMouseEnter:Zh(d,b),onMouseLeave:Zh(g,R),onTouchStart:Zh(v,b)}]:[!1,w,{}]}function Zh(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function yx({page:n,...e}){let{router:t}=OA(),r=W.useMemo(()=>ws(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?W.createElement(_x,{page:n,matches:r,...e}):null}function vx(n){let{manifest:e,routeModules:t}=MA(),[r,a]=W.useState([]);return W.useEffect(()=>{let s=!1;return ux(n,e,t).then(u=>{s||a(u)}),()=>{s=!0}},[n,e,t]),r}function _x({page:n,matches:e,...t}){let r=ru(),{manifest:a,routeModules:s}=MA(),{basename:u}=OA(),{loaderData:c,matches:f}=px(),d=W.useMemo(()=>Qb(n,e,f,a,r,"data"),[n,e,f,a,r]),g=W.useMemo(()=>Qb(n,e,f,a,r,"assets"),[n,e,f,a,r]),v=W.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let R=new Set,C=!1;if(e.forEach(M=>{var V;let N=a.routes[M.route.id];!N||!N.hasLoader||(!d.some($=>$.route.id===M.route.id)&&M.route.id in c&&((V=s[M.route.id])!=null&&V.shouldRevalidate)||N.hasClientLoader?C=!0:R.add(M.route.id))}),R.size===0)return[];let D=mx(n,u);return C&&R.size>0&&D.searchParams.set("_routes",e.filter(M=>R.has(M.route.id)).map(M=>M.route.id).join(",")),[D.pathname+D.search]},[u,c,r,a,d,e,n,s]),w=W.useMemo(()=>cx(g,a),[g,a]),b=vx(g);return W.createElement(W.Fragment,null,v.map(R=>W.createElement("link",{key:R,rel:"prefetch",as:"fetch",href:R,...t})),w.map(R=>W.createElement("link",{key:R,rel:"modulepreload",href:R,...t})),b.map(({key:R,link:C})=>W.createElement("link",{key:R,...C})))}function Tx(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var xA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{xA&&(window.__reactRouterVersion="7.4.0")}catch{}function wx(n,e){return cM({basename:e==null?void 0:e.basename,unstable_getContext:e==null?void 0:e.unstable_getContext,future:e==null?void 0:e.future,history:kO({window:e==null?void 0:e.window}),hydrationData:Ex(),routes:n,mapRouteProperties:GM,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function Ex(){let n=window==null?void 0:window.__staticRouterHydrationData;return n&&n.errors&&(n={...n,errors:bx(n.errors)}),n}function bx(n){if(!n)return null;let e=Object.entries(n),t={};for(let[r,a]of e)if(a&&a.__type==="RouteErrorResponse")t[r]=new Km(a.status,a.statusText,a.data,a.internal===!0);else if(a&&a.__type==="Error"){if(a.__subType){let s=window[a.__subType];if(typeof s=="function")try{let u=new s(a.message);u.stack="",t[r]=u}catch{}}if(t[r]==null){let s=new Error(a.message);s.stack="",t[r]=s}}else t[r]=a;return t}var NA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,kA=W.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:a,reloadDocument:s,replace:u,state:c,target:f,to:d,preventScrollReset:g,viewTransition:v,...w},b){let{basename:R}=W.useContext(Ya),C=typeof d=="string"&&NA.test(d),D,M=!1;if(typeof d=="string"&&C&&(D=d,xA))try{let O=new URL(window.location.href),z=d.startsWith("//")?new URL(O.protocol+d):new URL(d),j=Qi(z.pathname,R);z.origin===O.origin&&j!=null?d=j+z.search+z.hash:M=!0}catch{dr(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let N=MM(d,{relative:a}),[V,$,L]=gx(r,w),Y=Cx(d,{replace:u,state:c,target:f,preventScrollReset:g,relative:a,viewTransition:v});function x(O){e&&e(O),O.defaultPrevented||Y(O)}let I=W.createElement("a",{...w,...L,href:D||N,onClick:M||s?e:x,ref:Tx(b,$),target:f,"data-discover":!C&&t==="render"?"true":void 0});return V&&!C?W.createElement(W.Fragment,null,I,W.createElement(yx,{page:N})):I});kA.displayName="Link";var Rx=W.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:a=!1,style:s,to:u,viewTransition:c,children:f,...d},g){let v=Nf(u,{relative:d.relative}),w=ru(),b=W.useContext(Mf),{navigator:R,basename:C}=W.useContext(Ya),D=b!=null&&xx(v)&&c===!0,M=R.encodeLocation?R.encodeLocation(v).pathname:v.pathname,N=w.pathname,V=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;t||(N=N.toLowerCase(),V=V?V.toLowerCase():null,M=M.toLowerCase()),V&&C&&(V=Qi(V,C)||V);const $=M!=="/"&&M.endsWith("/")?M.length-1:M.length;let L=N===M||!a&&N.startsWith(M)&&N.charAt($)==="/",Y=V!=null&&(V===M||!a&&V.startsWith(M)&&V.charAt(M.length)==="/"),x={isActive:L,isPending:Y,isTransitioning:D},I=L?e:void 0,O;typeof r=="function"?O=r(x):O=[r,L?"active":null,Y?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let z=typeof s=="function"?s(x):s;return W.createElement(kA,{...d,"aria-current":I,className:O,ref:g,style:z,to:u,viewTransition:c},typeof f=="function"?f(x):f)});Rx.displayName="NavLink";var Ax=W.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:a,state:s,method:u=Om,action:c,onSubmit:f,relative:d,preventScrollReset:g,viewTransition:v,...w},b)=>{let R=Ox(),C=Mx(c,{relative:d}),D=u.toLowerCase()==="get"?"get":"post",M=typeof c=="string"&&NA.test(c),N=V=>{if(f&&f(V),V.defaultPrevented)return;V.preventDefault();let $=V.nativeEvent.submitter,L=($==null?void 0:$.getAttribute("formmethod"))||u;R($||V.currentTarget,{fetcherKey:e,method:L,navigate:t,replace:a,state:s,relative:d,preventScrollReset:g,viewTransition:v})};return W.createElement("form",{ref:b,method:D,action:C,onSubmit:r?f:N,...w,"data-discover":!M&&n==="render"?"true":void 0})});Ax.displayName="Form";function Sx(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function PA(n){let e=W.useContext(nu);return Dt(e,Sx(n)),e}function Cx(n,{target:e,replace:t,state:r,preventScrollReset:a,relative:s,viewTransition:u}={}){let c=U0(),f=ru(),d=Nf(n,{relative:s});return W.useCallback(g=>{if(rx(g,e)){g.preventDefault();let v=t!==void 0?t:Vs(f)===Vs(d);c(n,{replace:v,state:r,preventScrollReset:a,relative:s,viewTransition:u})}},[f,c,d,t,r,e,n,a,s,u])}var Dx=0,Ix=()=>`__${String(++Dx)}__`;function Ox(){let{router:n}=PA("useSubmit"),{basename:e}=W.useContext(Ya),t=qM();return W.useCallback(async(r,a={})=>{let{action:s,method:u,encType:c,formData:f,body:d}=ox(r,e);if(a.navigate===!1){let g=a.fetcherKey||Ix();await n.fetch(g,t,a.action||s,{preventScrollReset:a.preventScrollReset,formData:f,body:d,formMethod:a.method||u,formEncType:a.encType||c,flushSync:a.flushSync})}else await n.navigate(a.action||s,{preventScrollReset:a.preventScrollReset,formData:f,body:d,formMethod:a.method||u,formEncType:a.encType||c,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,e,t])}function Mx(n,{relative:e}={}){let{basename:t}=W.useContext(Ya),r=W.useContext(Ga);Dt(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),s={...Nf(n||".",{relative:e})},u=ru();if(n==null){s.search=u.search;let c=new URLSearchParams(s.search),f=c.getAll("index");if(f.some(g=>g==="")){c.delete("index"),f.filter(v=>v).forEach(v=>c.append("index",v));let g=c.toString();s.search=g?`?${g}`:""}}return(!n||n===".")&&a.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(s.pathname=s.pathname==="/"?t:ka([t,s.pathname])),Vs(s)}function xx(n,e={}){let t=W.useContext(L0);Dt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=PA("useViewTransitionState"),a=Nf(n,{relative:e.relative});if(!t.isTransitioning)return!1;let s=Qi(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=Qi(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Gm(a.pathname,u)!=null||Gm(a.pathname,s)!=null}new TextEncoder;const LA=W.createContext(void 0),Nx=({children:n})=>{const[e,t]=W.useState("light"),r=()=>{const a=e==="light"?"dark":"light";t(a),document.documentElement.classList.toggle("dark",a==="dark")};return De.jsx(LA.Provider,{value:{theme:e,toggleTheme:r},children:n})},kx=()=>{const n=W.useContext(LA);if(!n)throw new Error("Error de contexto");return n};function Px(){const{toggleTheme:n}=kx();return De.jsxs("main",{className:"w-full min-h-screen bg-[var(--st-light)] dark:bg-[var(--st-dark)]",children:[De.jsx("button",{onClick:n,className:"w-full dark:bg-[var(--th)] bg-[var(--th)] font-bold text-white py-2",children:"Cambiar Tema"}),De.jsx(IA,{})]})}const Lx=W.createContext(void 0),Vx=({children:n})=>{const[e,t]=W.useState(null);return De.jsx(Lx.Provider,{value:{user:e,setUser:t},children:n})},Ux=()=>De.jsx("section",{className:"flex flex-col w-full min-h-screen bg-[var(--st)] dark:bg-[var(--st)]",children:De.jsx(IA,{})});var VA={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Zb=zt.createContext&&zt.createContext(VA),zx=["attr","size","title"];function jx(n,e){if(n==null)return{};var t=Bx(n,e),r,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(a=0;a<s.length;a++)r=s[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function Bx(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function Qm(){return Qm=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Qm.apply(this,arguments)}function Xb(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,r)}return t}function Zm(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Xb(Object(t),!0).forEach(function(r){$x(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Xb(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function $x(n,e,t){return e=Fx(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Fx(n){var e=qx(n,"string");return typeof e=="symbol"?e:e+""}function qx(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function UA(n){return n&&n.map((e,t)=>zt.createElement(e.tag,Zm({key:t},e.attr),UA(e.child)))}function Pp(n){return e=>zt.createElement(Hx,Qm({attr:Zm({},n.attr)},e),UA(n.child))}function Hx(n){var e=t=>{var{attr:r,size:a,title:s}=n,u=jx(n,zx),c=a||t.size||"1em",f;return t.className&&(f=t.className),n.className&&(f=(f?f+" ":"")+n.className),zt.createElement("svg",Qm({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,u,{className:f,style:Zm(Zm({color:n.color||t.color},t.style),n.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),s&&zt.createElement("title",null,s),n.children)};return Zb!==void 0?zt.createElement(Zb.Consumer,null,t=>e(t)):e(VA)}function zA(n){return Pp({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"},child:[]}]})(n)}class _ extends Array{constructor(e,t){if(super(e),this.sign=t,Object.setPrototypeOf(this,_.prototype),e>_.__kMaxLength)throw new RangeError("Maximum BigInt size exceeded")}static BigInt(e){var t=Math.floor,r=Number.isFinite;if(typeof e=="number"){if(e===0)return _.__zero();if(_.__isOneDigitInt(e))return 0>e?_.__oneDigit(-e,!0):_.__oneDigit(e,!1);if(!r(e)||t(e)!==e)throw new RangeError("The number "+e+" cannot be converted to BigInt because it is not an integer");return _.__fromDouble(e)}if(typeof e=="string"){const a=_.__fromString(e);if(a===null)throw new SyntaxError("Cannot convert "+e+" to a BigInt");return a}if(typeof e=="boolean")return e===!0?_.__oneDigit(1,!1):_.__zero();if(typeof e=="object"){if(e.constructor===_)return e;const a=_.__toPrimitive(e);return _.BigInt(a)}throw new TypeError("Cannot convert "+e+" to a BigInt")}toDebugString(){const e=["BigInt["];for(const t of this)e.push((t&&(t>>>0).toString(16))+", ");return e.push("]"),e.join("")}toString(e=10){if(2>e||36<e)throw new RangeError("toString() radix argument must be between 2 and 36");return this.length===0?"0":(e&e-1)==0?_.__toStringBasePowerOfTwo(this,e):_.__toStringGeneric(this,e,!1)}valueOf(){throw new Error("Convert JSBI instances to native numbers using `toNumber`.")}static toNumber(e){const t=e.length;if(t===0)return 0;if(t===1){const D=e.__unsignedDigit(0);return e.sign?-D:D}const r=e.__digit(t-1),a=_.__clz30(r),s=30*t-a;if(1024<s)return e.sign?-1/0:1/0;let u=s-1,c=r,f=t-1;const d=a+3;let g=d===32?0:c<<d;g>>>=12;const v=d-12;let w=12<=d?0:c<<20+d,b=20+d;for(0<v&&0<f&&(f--,c=e.__digit(f),g|=c>>>30-v,w=c<<v+2,b=v+2);0<b&&0<f;)f--,c=e.__digit(f),w|=30<=b?c<<b-30:c>>>30-b,b-=30;const R=_.__decideRounding(e,b,f,c);if((R===1||R===0&&(1&w)==1)&&(w=w+1>>>0,w===0&&(g++,g>>>20!=0&&(g=0,u++,1023<u))))return e.sign?-1/0:1/0;const C=e.sign?-2147483648:0;return u=u+1023<<20,_.__kBitConversionInts[1]=C|u|g,_.__kBitConversionInts[0]=w,_.__kBitConversionDouble[0]}static unaryMinus(e){if(e.length===0)return e;const t=e.__copy();return t.sign=!e.sign,t}static bitwiseNot(e){return e.sign?_.__absoluteSubOne(e).__trim():_.__absoluteAddOne(e,!0)}static exponentiate(e,t){if(t.sign)throw new RangeError("Exponent must be positive");if(t.length===0)return _.__oneDigit(1,!1);if(e.length===0)return e;if(e.length===1&&e.__digit(0)===1)return e.sign&&(1&t.__digit(0))==0?_.unaryMinus(e):e;if(1<t.length)throw new RangeError("BigInt too big");let r=t.__unsignedDigit(0);if(r===1)return e;if(r>=_.__kMaxLengthBits)throw new RangeError("BigInt too big");if(e.length===1&&e.__digit(0)===2){const u=1+(0|r/30),c=e.sign&&(1&r)!=0,f=new _(u,c);f.__initializeDigits();const d=1<<r%30;return f.__setDigit(u-1,d),f}let a=null,s=e;for((1&r)!=0&&(a=e),r>>=1;r!==0;r>>=1)s=_.multiply(s,s),(1&r)!=0&&(a===null?a=s:a=_.multiply(a,s));return a}static multiply(e,t){if(e.length===0)return e;if(t.length===0)return t;let r=e.length+t.length;30<=e.__clzmsd()+t.__clzmsd()&&r--;const a=new _(r,e.sign!==t.sign);a.__initializeDigits();for(let s=0;s<e.length;s++)_.__multiplyAccumulate(t,e.__digit(s),a,s);return a.__trim()}static divide(e,t){if(t.length===0)throw new RangeError("Division by zero");if(0>_.__absoluteCompare(e,t))return _.__zero();const r=e.sign!==t.sign,a=t.__unsignedDigit(0);let s;if(t.length===1&&32767>=a){if(a===1)return r===e.sign?e:_.unaryMinus(e);s=_.__absoluteDivSmall(e,a,null)}else s=_.__absoluteDivLarge(e,t,!0,!1);return s.sign=r,s.__trim()}static remainder(e,t){if(t.length===0)throw new RangeError("Division by zero");if(0>_.__absoluteCompare(e,t))return e;const r=t.__unsignedDigit(0);if(t.length===1&&32767>=r){if(r===1)return _.__zero();const s=_.__absoluteModSmall(e,r);return s===0?_.__zero():_.__oneDigit(s,e.sign)}const a=_.__absoluteDivLarge(e,t,!1,!0);return a.sign=e.sign,a.__trim()}static add(e,t){const r=e.sign;return r===t.sign?_.__absoluteAdd(e,t,r):0<=_.__absoluteCompare(e,t)?_.__absoluteSub(e,t,r):_.__absoluteSub(t,e,!r)}static subtract(e,t){const r=e.sign;return r===t.sign?0<=_.__absoluteCompare(e,t)?_.__absoluteSub(e,t,r):_.__absoluteSub(t,e,!r):_.__absoluteAdd(e,t,r)}static leftShift(e,t){return t.length===0||e.length===0?e:t.sign?_.__rightShiftByAbsolute(e,t):_.__leftShiftByAbsolute(e,t)}static signedRightShift(e,t){return t.length===0||e.length===0?e:t.sign?_.__leftShiftByAbsolute(e,t):_.__rightShiftByAbsolute(e,t)}static unsignedRightShift(){throw new TypeError("BigInts have no unsigned right shift; use >> instead")}static lessThan(e,t){return 0>_.__compareToBigInt(e,t)}static lessThanOrEqual(e,t){return 0>=_.__compareToBigInt(e,t)}static greaterThan(e,t){return 0<_.__compareToBigInt(e,t)}static greaterThanOrEqual(e,t){return 0<=_.__compareToBigInt(e,t)}static equal(e,t){if(e.sign!==t.sign||e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e.__digit(r)!==t.__digit(r))return!1;return!0}static notEqual(e,t){return!_.equal(e,t)}static bitwiseAnd(e,t){var r=Math.max;if(!e.sign&&!t.sign)return _.__absoluteAnd(e,t).__trim();if(e.sign&&t.sign){const a=r(e.length,t.length)+1;let s=_.__absoluteSubOne(e,a);const u=_.__absoluteSubOne(t);return s=_.__absoluteOr(s,u,s),_.__absoluteAddOne(s,!0,s).__trim()}return e.sign&&([e,t]=[t,e]),_.__absoluteAndNot(e,_.__absoluteSubOne(t)).__trim()}static bitwiseXor(e,t){var r=Math.max;if(!e.sign&&!t.sign)return _.__absoluteXor(e,t).__trim();if(e.sign&&t.sign){const u=r(e.length,t.length),c=_.__absoluteSubOne(e,u),f=_.__absoluteSubOne(t);return _.__absoluteXor(c,f,c).__trim()}const a=r(e.length,t.length)+1;e.sign&&([e,t]=[t,e]);let s=_.__absoluteSubOne(t,a);return s=_.__absoluteXor(s,e,s),_.__absoluteAddOne(s,!0,s).__trim()}static bitwiseOr(e,t){var r=Math.max;const a=r(e.length,t.length);if(!e.sign&&!t.sign)return _.__absoluteOr(e,t).__trim();if(e.sign&&t.sign){let u=_.__absoluteSubOne(e,a);const c=_.__absoluteSubOne(t);return u=_.__absoluteAnd(u,c,u),_.__absoluteAddOne(u,!0,u).__trim()}e.sign&&([e,t]=[t,e]);let s=_.__absoluteSubOne(t,a);return s=_.__absoluteAndNot(s,e,s),_.__absoluteAddOne(s,!0,s).__trim()}static asIntN(e,t){var r=Math.floor;if(t.length===0)return t;if(e=r(e),0>e)throw new RangeError("Invalid value: not (convertible to) a safe integer");if(e===0)return _.__zero();if(e>=_.__kMaxLengthBits)return t;const a=0|(e+29)/30;if(t.length<a)return t;const s=t.__unsignedDigit(a-1),u=1<<(e-1)%30;if(t.length===a&&s<u)return t;if((s&u)!==u)return _.__truncateToNBits(e,t);if(!t.sign)return _.__truncateAndSubFromPowerOfTwo(e,t,!0);if((s&u-1)==0){for(let c=a-2;0<=c;c--)if(t.__digit(c)!==0)return _.__truncateAndSubFromPowerOfTwo(e,t,!1);return t.length===a&&s===u?t:_.__truncateToNBits(e,t)}return _.__truncateAndSubFromPowerOfTwo(e,t,!1)}static asUintN(e,t){var r=Math.floor;if(t.length===0)return t;if(e=r(e),0>e)throw new RangeError("Invalid value: not (convertible to) a safe integer");if(e===0)return _.__zero();if(t.sign){if(e>_.__kMaxLengthBits)throw new RangeError("BigInt too big");return _.__truncateAndSubFromPowerOfTwo(e,t,!1)}if(e>=_.__kMaxLengthBits)return t;const a=0|(e+29)/30;if(t.length<a)return t;const s=e%30;return t.length==a&&(s===0||!(t.__digit(a-1)>>>s))?t:_.__truncateToNBits(e,t)}static ADD(e,t){if(e=_.__toPrimitive(e),t=_.__toPrimitive(t),typeof e=="string")return typeof t!="string"&&(t=t.toString()),e+t;if(typeof t=="string")return e.toString()+t;if(e=_.__toNumeric(e),t=_.__toNumeric(t),_.__isBigInt(e)&&_.__isBigInt(t))return _.add(e,t);if(typeof e=="number"&&typeof t=="number")return e+t;throw new TypeError("Cannot mix BigInt and other types, use explicit conversions")}static LT(e,t){return _.__compare(e,t,0)}static LE(e,t){return _.__compare(e,t,1)}static GT(e,t){return _.__compare(e,t,2)}static GE(e,t){return _.__compare(e,t,3)}static EQ(e,t){for(;;){if(_.__isBigInt(e))return _.__isBigInt(t)?_.equal(e,t):_.EQ(t,e);if(typeof e=="number"){if(_.__isBigInt(t))return _.__equalToNumber(t,e);if(typeof t!="object")return e==t;t=_.__toPrimitive(t)}else if(typeof e=="string"){if(_.__isBigInt(t))return e=_.__fromString(e),e!==null&&_.equal(e,t);if(typeof t!="object")return e==t;t=_.__toPrimitive(t)}else if(typeof e=="boolean"){if(_.__isBigInt(t))return _.__equalToNumber(t,+e);if(typeof t!="object")return e==t;t=_.__toPrimitive(t)}else if(typeof e=="symbol"){if(_.__isBigInt(t))return!1;if(typeof t!="object")return e==t;t=_.__toPrimitive(t)}else if(typeof e=="object"){if(typeof t=="object"&&t.constructor!==_)return e==t;e=_.__toPrimitive(e)}else return e==t}}static NE(e,t){return!_.EQ(e,t)}static DataViewGetBigInt64(e,t,r=!1){return _.asIntN(64,_.DataViewGetBigUint64(e,t,r))}static DataViewGetBigUint64(e,t,r=!1){const[a,s]=r?[4,0]:[0,4],u=e.getUint32(t+a,r),c=e.getUint32(t+s,r),f=new _(3,!1);return f.__setDigit(0,1073741823&c),f.__setDigit(1,(268435455&u)<<2|c>>>30),f.__setDigit(2,u>>>28),f.__trim()}static DataViewSetBigInt64(e,t,r,a=!1){_.DataViewSetBigUint64(e,t,r,a)}static DataViewSetBigUint64(e,t,r,a=!1){r=_.asUintN(64,r);let s=0,u=0;if(0<r.length&&(u=r.__digit(0),1<r.length)){const d=r.__digit(1);u|=d<<30,s=d>>>2,2<r.length&&(s|=r.__digit(2)<<28)}const[c,f]=a?[4,0]:[0,4];e.setUint32(t+c,s,a),e.setUint32(t+f,u,a)}static __zero(){return new _(0,!1)}static __oneDigit(e,t){const r=new _(1,t);return r.__setDigit(0,e),r}__copy(){const e=new _(this.length,this.sign);for(let t=0;t<this.length;t++)e[t]=this[t];return e}__trim(){let e=this.length,t=this[e-1];for(;t===0;)e--,t=this[e-1],this.pop();return e===0&&(this.sign=!1),this}__initializeDigits(){for(let e=0;e<this.length;e++)this[e]=0}static __decideRounding(e,t,r,a){if(0<t)return-1;let s;if(0>t)s=-t-1;else{if(r===0)return-1;r--,a=e.__digit(r),s=29}let u=1<<s;if((a&u)==0)return-1;if(u-=1,(a&u)!=0)return 1;for(;0<r;)if(r--,e.__digit(r)!==0)return 1;return 0}static __fromDouble(e){_.__kBitConversionDouble[0]=e;const t=2047&_.__kBitConversionInts[1]>>>20,r=t-1023,a=(0|r/30)+1,s=new _(a,0>e);let u=1048575&_.__kBitConversionInts[1]|1048576,c=_.__kBitConversionInts[0];const f=20,d=r%30;let g,v=0;if(d<20){const w=f-d;v=w+32,g=u>>>w,u=u<<32-w|c>>>w,c<<=32-w}else if(d===20)v=32,g=u,u=c,c=0;else{const w=d-f;v=32-w,g=u<<w|c>>>32-w,u=c<<w,c=0}s.__setDigit(a-1,g);for(let w=a-2;0<=w;w--)0<v?(v-=30,g=u>>>2,u=u<<30|c>>>2,c<<=30):g=0,s.__setDigit(w,g);return s.__trim()}static __isWhitespace(e){return 13>=e&&9<=e||(159>=e?e==32:131071>=e?e==160||e==5760:196607>=e?(e&=131071,10>=e||e==40||e==41||e==47||e==95||e==4096):e==65279)}static __fromString(e,t=0){let r=0;const a=e.length;let s=0;if(s===a)return _.__zero();let u=e.charCodeAt(s);for(;_.__isWhitespace(u);){if(++s===a)return _.__zero();u=e.charCodeAt(s)}if(u===43){if(++s===a)return null;u=e.charCodeAt(s),r=1}else if(u===45){if(++s===a)return null;u=e.charCodeAt(s),r=-1}if(t===0){if(t=10,u===48){if(++s===a)return _.__zero();if(u=e.charCodeAt(s),u===88||u===120){if(t=16,++s===a)return null;u=e.charCodeAt(s)}else if(u===79||u===111){if(t=8,++s===a)return null;u=e.charCodeAt(s)}else if(u===66||u===98){if(t=2,++s===a)return null;u=e.charCodeAt(s)}}}else if(t===16&&u===48){if(++s===a)return _.__zero();if(u=e.charCodeAt(s),u===88||u===120){if(++s===a)return null;u=e.charCodeAt(s)}}if(r!=0&&t!==10)return null;for(;u===48;){if(++s===a)return _.__zero();u=e.charCodeAt(s)}const c=a-s;let f=_.__kMaxBitsPerChar[t],d=_.__kBitsPerCharTableMultiplier-1;if(c>1073741824/f)return null;const g=f*c+d>>>_.__kBitsPerCharTableShift,v=new _(0|(g+29)/30,!1),w=10>t?t:10,b=10<t?t-10:0;if((t&t-1)==0){f>>=_.__kBitsPerCharTableShift;const R=[],C=[];let D=!1;do{let M=0,N=0;for(;;){let V;if(u-48>>>0<w)V=u-48;else if((32|u)-97>>>0<b)V=(32|u)-87;else{D=!0;break}if(N+=f,M=M<<f|V,++s===a){D=!0;break}if(u=e.charCodeAt(s),30<N+f)break}R.push(M),C.push(N)}while(!D);_.__fillFromParts(v,R,C)}else{v.__initializeDigits();let R=!1,C=0;do{let D=0,M=1;for(;;){let V;if(u-48>>>0<w)V=u-48;else if((32|u)-97>>>0<b)V=(32|u)-87;else{R=!0;break}const $=M*t;if(1073741823<$)break;if(M=$,D=D*t+V,C++,++s===a){R=!0;break}u=e.charCodeAt(s)}d=30*_.__kBitsPerCharTableMultiplier-1;const N=0|(f*C+d>>>_.__kBitsPerCharTableShift)/30;v.__inplaceMultiplyAdd(M,D,N)}while(!R)}if(s!==a){if(!_.__isWhitespace(u))return null;for(s++;s<a;s++)if(u=e.charCodeAt(s),!_.__isWhitespace(u))return null}return v.sign=r==-1,v.__trim()}static __fillFromParts(e,t,r){let a=0,s=0,u=0;for(let c=t.length-1;0<=c;c--){const f=t[c],d=r[c];s|=f<<u,u+=d,u===30?(e.__setDigit(a++,s),u=0,s=0):30<u&&(e.__setDigit(a++,1073741823&s),u-=30,s=f>>>d-u)}if(s!==0){if(a>=e.length)throw new Error("implementation bug");e.__setDigit(a++,s)}for(;a<e.length;a++)e.__setDigit(a,0)}static __toStringBasePowerOfTwo(e,t){const r=e.length;let a=t-1;a=(85&a>>>1)+(85&a),a=(51&a>>>2)+(51&a),a=(15&a>>>4)+(15&a);const s=a,u=t-1,c=e.__digit(r-1),f=_.__clz30(c);let d=0|(30*r-f+s-1)/s;if(e.sign&&d++,268435456<d)throw new Error("string too long");const g=Array(d);let v=d-1,w=0,b=0;for(let C=0;C<r-1;C++){const D=e.__digit(C),M=(w|D<<b)&u;g[v--]=_.__kConversionChars[M];const N=s-b;for(w=D>>>N,b=30-N;b>=s;)g[v--]=_.__kConversionChars[w&u],w>>>=s,b-=s}const R=(w|c<<b)&u;for(g[v--]=_.__kConversionChars[R],w=c>>>s-b;w!==0;)g[v--]=_.__kConversionChars[w&u],w>>>=s;if(e.sign&&(g[v--]="-"),v!=-1)throw new Error("implementation bug");return g.join("")}static __toStringGeneric(e,t,r){const a=e.length;if(a===0)return"";if(a===1){let C=e.__unsignedDigit(0).toString(t);return r===!1&&e.sign&&(C="-"+C),C}const s=30*a-_.__clz30(e.__digit(a-1)),u=_.__kMaxBitsPerChar[t],c=u-1;let f=s*_.__kBitsPerCharTableMultiplier;f+=c-1,f=0|f/c;const d=f+1>>1,g=_.exponentiate(_.__oneDigit(t,!1),_.__oneDigit(d,!1));let v,w;const b=g.__unsignedDigit(0);if(g.length===1&&32767>=b){v=new _(e.length,!1),v.__initializeDigits();let C=0;for(let D=2*e.length-1;0<=D;D--){const M=C<<15|e.__halfDigit(D);v.__setHalfDigit(D,0|M/b),C=0|M%b}w=C.toString(t)}else{const C=_.__absoluteDivLarge(e,g,!0,!0);v=C.quotient;const D=C.remainder.__trim();w=_.__toStringGeneric(D,t,!0)}v.__trim();let R=_.__toStringGeneric(v,t,!0);for(;w.length<d;)w="0"+w;return r===!1&&e.sign&&(R="-"+R),R+w}static __unequalSign(e){return e?-1:1}static __absoluteGreater(e){return e?-1:1}static __absoluteLess(e){return e?1:-1}static __compareToBigInt(e,t){const r=e.sign;if(r!==t.sign)return _.__unequalSign(r);const a=_.__absoluteCompare(e,t);return 0<a?_.__absoluteGreater(r):0>a?_.__absoluteLess(r):0}static __compareToNumber(e,t){if(_.__isOneDigitInt(t)){const r=e.sign,a=0>t;if(r!==a)return _.__unequalSign(r);if(e.length===0){if(a)throw new Error("implementation bug");return t===0?0:-1}if(1<e.length)return _.__absoluteGreater(r);const s=Math.abs(t),u=e.__unsignedDigit(0);return u>s?_.__absoluteGreater(r):u<s?_.__absoluteLess(r):0}return _.__compareToDouble(e,t)}static __compareToDouble(e,t){if(t!==t)return t;if(t===1/0)return-1;if(t===-1/0)return 1;const r=e.sign;if(r!==0>t)return _.__unequalSign(r);if(t===0)throw new Error("implementation bug: should be handled elsewhere");if(e.length===0)return-1;_.__kBitConversionDouble[0]=t;const a=2047&_.__kBitConversionInts[1]>>>20;if(a==2047)throw new Error("implementation bug: handled elsewhere");const s=a-1023;if(0>s)return _.__absoluteGreater(r);const u=e.length;let c=e.__digit(u-1);const f=_.__clz30(c),d=30*u-f,g=s+1;if(d<g)return _.__absoluteLess(r);if(d>g)return _.__absoluteGreater(r);let v=1048576|1048575&_.__kBitConversionInts[1],w=_.__kBitConversionInts[0];const b=20,R=29-f;if(R!==(0|(d-1)%30))throw new Error("implementation bug");let C,D=0;if(20>R){const M=b-R;D=M+32,C=v>>>M,v=v<<32-M|w>>>M,w<<=32-M}else if(R===20)D=32,C=v,v=w,w=0;else{const M=R-b;D=32-M,C=v<<M|w>>>32-M,v=w<<M,w=0}if(c>>>=0,C>>>=0,c>C)return _.__absoluteGreater(r);if(c<C)return _.__absoluteLess(r);for(let M=u-2;0<=M;M--){0<D?(D-=30,C=v>>>2,v=v<<30|w>>>2,w<<=30):C=0;const N=e.__unsignedDigit(M);if(N>C)return _.__absoluteGreater(r);if(N<C)return _.__absoluteLess(r)}if(v!==0||w!==0){if(D===0)throw new Error("implementation bug");return _.__absoluteLess(r)}return 0}static __equalToNumber(e,t){var r=Math.abs;return _.__isOneDigitInt(t)?t===0?e.length===0:e.length===1&&e.sign===0>t&&e.__unsignedDigit(0)===r(t):_.__compareToDouble(e,t)===0}static __comparisonResultToBool(e,t){return t===0?0>e:t===1?0>=e:t===2?0<e:t===3?0<=e:void 0}static __compare(e,t,r){if(e=_.__toPrimitive(e),t=_.__toPrimitive(t),typeof e=="string"&&typeof t=="string")switch(r){case 0:return e<t;case 1:return e<=t;case 2:return e>t;case 3:return e>=t}if(_.__isBigInt(e)&&typeof t=="string")return t=_.__fromString(t),t!==null&&_.__comparisonResultToBool(_.__compareToBigInt(e,t),r);if(typeof e=="string"&&_.__isBigInt(t))return e=_.__fromString(e),e!==null&&_.__comparisonResultToBool(_.__compareToBigInt(e,t),r);if(e=_.__toNumeric(e),t=_.__toNumeric(t),_.__isBigInt(e)){if(_.__isBigInt(t))return _.__comparisonResultToBool(_.__compareToBigInt(e,t),r);if(typeof t!="number")throw new Error("implementation bug");return _.__comparisonResultToBool(_.__compareToNumber(e,t),r)}if(typeof e!="number")throw new Error("implementation bug");if(_.__isBigInt(t))return _.__comparisonResultToBool(_.__compareToNumber(t,e),2^r);if(typeof t!="number")throw new Error("implementation bug");return r===0?e<t:r===1?e<=t:r===2?e>t:r===3?e>=t:void 0}__clzmsd(){return _.__clz30(this.__digit(this.length-1))}static __absoluteAdd(e,t,r){if(e.length<t.length)return _.__absoluteAdd(t,e,r);if(e.length===0)return e;if(t.length===0)return e.sign===r?e:_.unaryMinus(e);let a=e.length;(e.__clzmsd()===0||t.length===e.length&&t.__clzmsd()===0)&&a++;const s=new _(a,r);let u=0,c=0;for(;c<t.length;c++){const f=e.__digit(c)+t.__digit(c)+u;u=f>>>30,s.__setDigit(c,1073741823&f)}for(;c<e.length;c++){const f=e.__digit(c)+u;u=f>>>30,s.__setDigit(c,1073741823&f)}return c<s.length&&s.__setDigit(c,u),s.__trim()}static __absoluteSub(e,t,r){if(e.length===0)return e;if(t.length===0)return e.sign===r?e:_.unaryMinus(e);const a=new _(e.length,r);let s=0,u=0;for(;u<t.length;u++){const c=e.__digit(u)-t.__digit(u)-s;s=1&c>>>30,a.__setDigit(u,1073741823&c)}for(;u<e.length;u++){const c=e.__digit(u)-s;s=1&c>>>30,a.__setDigit(u,1073741823&c)}return a.__trim()}static __absoluteAddOne(e,t,r=null){const a=e.length;r===null?r=new _(a,t):r.sign=t;let s=1;for(let u=0;u<a;u++){const c=e.__digit(u)+s;s=c>>>30,r.__setDigit(u,1073741823&c)}return s!=0&&r.__setDigitGrow(a,1),r}static __absoluteSubOne(e,t){const r=e.length;t=t||r;const a=new _(t,!1);let s=1;for(let u=0;u<r;u++){const c=e.__digit(u)-s;s=1&c>>>30,a.__setDigit(u,1073741823&c)}if(s!=0)throw new Error("implementation bug");for(let u=r;u<t;u++)a.__setDigit(u,0);return a}static __absoluteAnd(e,t,r=null){let a=e.length,s=t.length,u=s;if(a<s){u=a;const d=e,g=a;e=t,a=s,t=d,s=g}let c=u;r===null?r=new _(c,!1):c=r.length;let f=0;for(;f<u;f++)r.__setDigit(f,e.__digit(f)&t.__digit(f));for(;f<c;f++)r.__setDigit(f,0);return r}static __absoluteAndNot(e,t,r=null){const a=e.length,s=t.length;let u=s;a<s&&(u=a);let c=a;r===null?r=new _(c,!1):c=r.length;let f=0;for(;f<u;f++)r.__setDigit(f,e.__digit(f)&~t.__digit(f));for(;f<a;f++)r.__setDigit(f,e.__digit(f));for(;f<c;f++)r.__setDigit(f,0);return r}static __absoluteOr(e,t,r=null){let a=e.length,s=t.length,u=s;if(a<s){u=a;const d=e,g=a;e=t,a=s,t=d,s=g}let c=a;r===null?r=new _(c,!1):c=r.length;let f=0;for(;f<u;f++)r.__setDigit(f,e.__digit(f)|t.__digit(f));for(;f<a;f++)r.__setDigit(f,e.__digit(f));for(;f<c;f++)r.__setDigit(f,0);return r}static __absoluteXor(e,t,r=null){let a=e.length,s=t.length,u=s;if(a<s){u=a;const d=e,g=a;e=t,a=s,t=d,s=g}let c=a;r===null?r=new _(c,!1):c=r.length;let f=0;for(;f<u;f++)r.__setDigit(f,e.__digit(f)^t.__digit(f));for(;f<a;f++)r.__setDigit(f,e.__digit(f));for(;f<c;f++)r.__setDigit(f,0);return r}static __absoluteCompare(e,t){const r=e.length-t.length;if(r!=0)return r;let a=e.length-1;for(;0<=a&&e.__digit(a)===t.__digit(a);)a--;return 0>a?0:e.__unsignedDigit(a)>t.__unsignedDigit(a)?1:-1}static __multiplyAccumulate(e,t,r,a){if(t===0)return;const s=32767&t,u=t>>>15;let c=0,f=0;for(let d,g=0;g<e.length;g++,a++){d=r.__digit(a);const v=e.__digit(g),w=32767&v,b=v>>>15,R=_.__imul(w,s),C=_.__imul(w,u),D=_.__imul(b,s),M=_.__imul(b,u);d+=f+R+c,c=d>>>30,d&=1073741823,d+=((32767&C)<<15)+((32767&D)<<15),c+=d>>>30,f=M+(C>>>15)+(D>>>15),r.__setDigit(a,1073741823&d)}for(;c!=0||f!==0;a++){let d=r.__digit(a);d+=c+f,f=0,c=d>>>30,r.__setDigit(a,1073741823&d)}}static __internalMultiplyAdd(e,t,r,a,s){let u=r,c=0;for(let f=0;f<a;f++){const d=e.__digit(f),g=_.__imul(32767&d,t),v=_.__imul(d>>>15,t),w=g+((32767&v)<<15)+c+u;u=w>>>30,c=v>>>15,s.__setDigit(f,1073741823&w)}if(s.length>a)for(s.__setDigit(a++,u+c);a<s.length;)s.__setDigit(a++,0);else if(u+c!==0)throw new Error("implementation bug")}__inplaceMultiplyAdd(e,t,r){r>this.length&&(r=this.length);const a=32767&e,s=e>>>15;let u=0,c=t;for(let f=0;f<r;f++){const d=this.__digit(f),g=32767&d,v=d>>>15,w=_.__imul(g,a),b=_.__imul(g,s),R=_.__imul(v,a),C=_.__imul(v,s);let D=c+w+u;u=D>>>30,D&=1073741823,D+=((32767&b)<<15)+((32767&R)<<15),u+=D>>>30,c=C+(b>>>15)+(R>>>15),this.__setDigit(f,1073741823&D)}if(u!=0||c!==0)throw new Error("implementation bug")}static __absoluteDivSmall(e,t,r=null){r===null&&(r=new _(e.length,!1));let a=0;for(let s,u=2*e.length-1;0<=u;u-=2){s=(a<<15|e.__halfDigit(u))>>>0;const c=0|s/t;a=0|s%t,s=(a<<15|e.__halfDigit(u-1))>>>0;const f=0|s/t;a=0|s%t,r.__setDigit(u>>>1,c<<15|f)}return r}static __absoluteModSmall(e,t){let r=0;for(let a=2*e.length-1;0<=a;a--)r=0|((r<<15|e.__halfDigit(a))>>>0)%t;return r}static __absoluteDivLarge(e,t,r,a){const s=t.__halfDigitLength(),u=t.length,c=e.__halfDigitLength()-s;let f=null;r&&(f=new _(c+2>>>1,!1),f.__initializeDigits());const d=new _(s+2>>>1,!1);d.__initializeDigits();const g=_.__clz15(t.__halfDigit(s-1));0<g&&(t=_.__specialLeftShift(t,g,0));const v=_.__specialLeftShift(e,g,1),w=t.__halfDigit(s-1);let b=0;for(let R,C=c;0<=C;C--){R=32767;const D=v.__halfDigit(C+s);if(D!==w){const N=(D<<15|v.__halfDigit(C+s-1))>>>0;R=0|N/w;let V=0|N%w;const $=t.__halfDigit(s-2),L=v.__halfDigit(C+s-2);for(;_.__imul(R,$)>>>0>(V<<16|L)>>>0&&(R--,V+=w,!(32767<V)););}_.__internalMultiplyAdd(t,R,0,u,d);let M=v.__inplaceSub(d,C,s+1);M!==0&&(M=v.__inplaceAdd(t,C,s),v.__setHalfDigit(C+s,32767&v.__halfDigit(C+s)+M),R--),r&&(1&C?b=R<<15:f.__setDigit(C>>>1,b|R))}if(a)return v.__inplaceRightShift(g),r?{quotient:f,remainder:v}:v;if(r)return f;throw new Error("unreachable")}static __clz15(e){return _.__clz30(e)-15}__inplaceAdd(e,t,r){let a=0;for(let s=0;s<r;s++){const u=this.__halfDigit(t+s)+e.__halfDigit(s)+a;a=u>>>15,this.__setHalfDigit(t+s,32767&u)}return a}__inplaceSub(e,t,r){let a=0;if(1&t){t>>=1;let s=this.__digit(t),u=32767&s,c=0;for(;c<r-1>>>1;c++){const g=e.__digit(c),v=(s>>>15)-(32767&g)-a;a=1&v>>>15,this.__setDigit(t+c,(32767&v)<<15|32767&u),s=this.__digit(t+c+1),u=(32767&s)-(g>>>15)-a,a=1&u>>>15}const f=e.__digit(c),d=(s>>>15)-(32767&f)-a;if(a=1&d>>>15,this.__setDigit(t+c,(32767&d)<<15|32767&u),t+c+1>=this.length)throw new RangeError("out of bounds");(1&r)==0&&(s=this.__digit(t+c+1),u=(32767&s)-(f>>>15)-a,a=1&u>>>15,this.__setDigit(t+e.length,1073709056&s|32767&u))}else{t>>=1;let s=0;for(;s<e.length-1;s++){const g=this.__digit(t+s),v=e.__digit(s),w=(32767&g)-(32767&v)-a;a=1&w>>>15;const b=(g>>>15)-(v>>>15)-a;a=1&b>>>15,this.__setDigit(t+s,(32767&b)<<15|32767&w)}const u=this.__digit(t+s),c=e.__digit(s),f=(32767&u)-(32767&c)-a;a=1&f>>>15;let d=0;(1&r)==0&&(d=(u>>>15)-(c>>>15)-a,a=1&d>>>15),this.__setDigit(t+s,(32767&d)<<15|32767&f)}return a}__inplaceRightShift(e){if(e===0)return;let t=this.__digit(0)>>>e;const r=this.length-1;for(let a=0;a<r;a++){const s=this.__digit(a+1);this.__setDigit(a,1073741823&s<<30-e|t),t=s>>>e}this.__setDigit(r,t)}static __specialLeftShift(e,t,r){const a=e.length,s=new _(a+r,!1);if(t===0){for(let c=0;c<a;c++)s.__setDigit(c,e.__digit(c));return 0<r&&s.__setDigit(a,0),s}let u=0;for(let c=0;c<a;c++){const f=e.__digit(c);s.__setDigit(c,1073741823&f<<t|u),u=f>>>30-t}return 0<r&&s.__setDigit(a,u),s}static __leftShiftByAbsolute(e,t){const r=_.__toShiftAmount(t);if(0>r)throw new RangeError("BigInt too big");const a=0|r/30,s=r%30,u=e.length,c=s!==0&&e.__digit(u-1)>>>30-s!=0,f=u+a+(c?1:0),d=new _(f,e.sign);if(s===0){let g=0;for(;g<a;g++)d.__setDigit(g,0);for(;g<f;g++)d.__setDigit(g,e.__digit(g-a))}else{let g=0;for(let v=0;v<a;v++)d.__setDigit(v,0);for(let v=0;v<u;v++){const w=e.__digit(v);d.__setDigit(v+a,1073741823&w<<s|g),g=w>>>30-s}if(c)d.__setDigit(u+a,g);else if(g!==0)throw new Error("implementation bug")}return d.__trim()}static __rightShiftByAbsolute(e,t){const r=e.length,a=e.sign,s=_.__toShiftAmount(t);if(0>s)return _.__rightShiftByMaximum(a);const u=0|s/30,c=s%30;let f=r-u;if(0>=f)return _.__rightShiftByMaximum(a);let d=!1;if(a){if((e.__digit(u)&(1<<c)-1)!=0)d=!0;else for(let v=0;v<u;v++)if(e.__digit(v)!==0){d=!0;break}}d&&c===0&&~e.__digit(r-1)==0&&f++;let g=new _(f,a);if(c===0){g.__setDigit(f-1,0);for(let v=u;v<r;v++)g.__setDigit(v-u,e.__digit(v))}else{let v=e.__digit(u)>>>c;const w=r-u-1;for(let b=0;b<w;b++){const R=e.__digit(b+u+1);g.__setDigit(b,1073741823&R<<30-c|v),v=R>>>c}g.__setDigit(w,v)}return d&&(g=_.__absoluteAddOne(g,!0,g)),g.__trim()}static __rightShiftByMaximum(e){return e?_.__oneDigit(1,!0):_.__zero()}static __toShiftAmount(e){if(1<e.length)return-1;const t=e.__unsignedDigit(0);return t>_.__kMaxLengthBits?-1:t}static __toPrimitive(e,t="default"){if(typeof e!="object"||e.constructor===_)return e;if(typeof Symbol<"u"&&typeof Symbol.toPrimitive=="symbol"){const s=e[Symbol.toPrimitive];if(s){const u=s(t);if(typeof u!="object")return u;throw new TypeError("Cannot convert object to primitive value")}}const r=e.valueOf;if(r){const s=r.call(e);if(typeof s!="object")return s}const a=e.toString;if(a){const s=a.call(e);if(typeof s!="object")return s}throw new TypeError("Cannot convert object to primitive value")}static __toNumeric(e){return _.__isBigInt(e)?e:+e}static __isBigInt(e){return typeof e=="object"&&e!==null&&e.constructor===_}static __truncateToNBits(e,t){const r=0|(e+29)/30,a=new _(r,t.sign),s=r-1;for(let c=0;c<s;c++)a.__setDigit(c,t.__digit(c));let u=t.__digit(s);if(e%30!=0){const c=32-e%30;u=u<<c>>>c}return a.__setDigit(s,u),a.__trim()}static __truncateAndSubFromPowerOfTwo(e,t,r){var a=Math.min;const s=0|(e+29)/30,u=new _(s,r);let c=0;const f=s-1;let d=0;for(const b=a(f,t.length);c<b;c++){const R=0-t.__digit(c)-d;d=1&R>>>30,u.__setDigit(c,1073741823&R)}for(;c<f;c++)u.__setDigit(c,0|1073741823&-d);let g=f<t.length?t.__digit(f):0;const v=e%30;let w;if(v==0)w=0-g-d,w&=1073741823;else{const b=32-v;g=g<<b>>>b;const R=1<<32-b;w=R-g-d,w&=R-1}return u.__setDigit(f,w),u.__trim()}__digit(e){return this[e]}__unsignedDigit(e){return this[e]>>>0}__setDigit(e,t){this[e]=0|t}__setDigitGrow(e,t){this[e]=0|t}__halfDigitLength(){const e=this.length;return 32767>=this.__unsignedDigit(e-1)?2*e-1:2*e}__halfDigit(e){return 32767&this[e>>>1]>>>15*(1&e)}__setHalfDigit(e,t){const r=e>>>1,a=this.__digit(r),s=1&e?32767&a|t<<15:1073709056&a|32767&t;this.__setDigit(r,s)}static __digitPow(e,t){let r=1;for(;0<t;)1&t&&(r*=e),t>>>=1,e*=e;return r}static __isOneDigitInt(e){return(1073741823&e)===e}}_.__kMaxLength=33554432,_.__kMaxLengthBits=_.__kMaxLength<<5,_.__kMaxBitsPerChar=[0,0,32,51,64,75,83,90,96,102,107,111,115,119,122,126,128,131,134,136,139,141,143,145,147,149,151,153,154,156,158,159,160,162,163,165,166],_.__kBitsPerCharTableShift=5,_.__kBitsPerCharTableMultiplier=1<<_.__kBitsPerCharTableShift,_.__kConversionChars=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],_.__kBitConversionBuffer=new ArrayBuffer(8),_.__kBitConversionDouble=new Float64Array(_.__kBitConversionBuffer),_.__kBitConversionInts=new Int32Array(_.__kBitConversionBuffer),_.__clz30=Math.clz32?function(n){return Math.clz32(n)-2}:function(n){return n===0?30:0|29-(0|Math.log(n>>>0)/Math.LN2)},_.__imul=Math.imul||function(n,e){return 0|n*e};const Gv={};function Ka(n,e){Object.defineProperty(n.prototype,Symbol.toStringTag,{value:e,writable:!1,enumerable:!1,configurable:!0});for(const t of Object.getOwnPropertyNames(n)){const r=Object.getOwnPropertyDescriptor(n,t);r.configurable&&r.enumerable&&(r.enumerable=!1,Object.defineProperty(n,t,r))}for(const t of Object.getOwnPropertyNames(n.prototype)){const r=Object.getOwnPropertyDescriptor(n.prototype,t);r.configurable&&r.enumerable&&(r.enumerable=!1,Object.defineProperty(n.prototype,t,r))}nn(e,n),nn(`${e}.prototype`,n.prototype)}function nn(n,e){const t=`%${n}%`;if(Gv[t]!==void 0)throw new Error(`intrinsic ${n} already exists`);Gv[t]=e}function pe(n){return Gv[n]}var Wb,Jb;const ze="slot-epochNanoSeconds",Ma="slot-timezone-identifier",we="slot-year",Ee="slot-month",Re="slot-day",Qe="slot-hour",Ze="slot-minute",Xe="slot-second",We="slot-millisecond",Je="slot-microsecond",et="slot-nanosecond",X="slot-calendar",jA="slot-date-brand",BA="slot-year-month-brand",$A="slot-month-day-brand",fr="slot-cached-instant",Ct="slot-time-zone",wr="slot-years",$n="slot-months",zr="slot-weeks",Er="slot-days",br="slot-hours",Rr="slot-minutes",Ar="slot-seconds",Sr="slot-milliseconds",Cr="slot-microseconds",Dr="slot-nanoseconds",tn="slot-calendar-identifier",FA=new WeakMap,Kv=Symbol.for("@@Temporal__GetSlots");(Wb=globalThis)[Kv]||(Wb[Kv]=function(e){return FA.get(e)});const F0=globalThis[Kv],Qv=Symbol.for("@@Temporal__CreateSlots");(Jb=globalThis)[Qv]||(Jb[Qv]=function(e){FA.set(e,Object.create(null))});const Qa=globalThis[Qv];function Ln(n,...e){if(!n||typeof n!="object")return!1;const t=F0(n);return!!t&&e.every(r=>r in t)}function y(n,e){var r;const t=(r=F0(n))==null?void 0:r[e];if(t===void 0)throw new TypeError(`Missing internal slot ${e}`);return t}function tt(n,e,t){const r=F0(n);if(r===void 0)throw new TypeError("Missing slots for the given container");if(r[e])throw new TypeError(`${e} already has set`);r[e]=t}const e1=/\.[-A-Za-z_]|\.\.[-A-Za-z._]{1,12}|\.[-A-Za-z_][-A-Za-z._]{0,12}|[A-Za-z_][-A-Za-z._]{0,13}/,kf=new RegExp("(?:"+[`(?:${e1.source})(?:\\/(?:${e1.source}))*`,"Etc/GMT(?:0|[-+]\\d{1,2})","GMT[-+]?0","EST5EDT","CST6CDT","MST7MDT","PST8PDT",/(?:[+\u2212-][0-2][0-9](?::?[0-5][0-9](?::?[0-5][0-9](?:[.,]\d{1,9})?)?)?)/.source].join("|")+")"),qA=/(?:[+\u2212-]\d{6}|\d{4})/,Xm=/(?:0[1-9]|1[0-2])/,Zv=/(?:0[1-9]|[12]\d|3[01])/,Yx=new RegExp(`(${qA.source})(?:-(${Xm.source})-(${Zv.source})|(${Xm.source})(${Zv.source}))`),HA=/(\d{2})(?::(\d{2})(?::(\d{2})(?:[.,](\d{1,9}))?)?|(\d{2})(?:(\d{2})(?:[.,](\d{1,9}))?)?)?/,YA=/([+\u2212-])([01][0-9]|2[0-3])(?::?([0-5][0-9])(?::?([0-5][0-9])(?:[.,](\d{1,9}))?)?)?/,GA=new RegExp(`([zZ])|${YA.source}?`),Qs=/\[(!)?([a-z_][a-z0-9_-]*)=([A-Za-z0-9]+(?:-[A-Za-z0-9]+)*)\]/g,Gx=new RegExp([`^${Yx.source}`,`(?:(?:T|\\s+)${HA.source}(?:${GA.source})?)?`,`(?:\\[!?(${kf.source})\\])?`,`((?:${Qs.source})*)$`].join(""),"i"),Kx=new RegExp([`^T?${HA.source}`,`(?:${GA.source})?`,`(?:\\[!?${kf.source}\\])?`,`((?:${Qs.source})*)$`].join(""),"i"),Qx=new RegExp(`^(${qA.source})-?(${Xm.source})(?:\\[!?${kf.source}\\])?((?:${Qs.source})*)$`),Zx=new RegExp(`^(?:--)?(${Xm.source})-?(${Zv.source})(?:\\[!?${kf.source}\\])?((?:${Qs.source})*)$`),Ev=/(\d+)(?:[.,](\d{1,9}))?/,Xx=new RegExp(`(?:${Ev.source}H)?(?:${Ev.source}M)?(?:${Ev.source}S)?`),Wx=new RegExp(`^([+−-])?P${/(?:(\d+)Y)?(?:(\d+)M)?(?:(\d+)W)?(?:(\d+)D)?/.source}(?:T(?!$)${Xx.source})?$`,"i"),Jx=Array.prototype.includes,KA=Array.prototype.push,QA=globalThis.Intl.DateTimeFormat,eN=Math.min,tN=Math.max,Yt=Math.abs,Jr=Math.floor,gc=Math.sign,Ll=Math.trunc,Lp=Number.isNaN,Or=Number.isFinite,nN=Number,Pf=String,rN=Number.MAX_SAFE_INTEGER,pr=Object.create,iN=Object.getOwnPropertyDescriptor,Vp=Reflect.apply,aN=Reflect.ownKeys,fn=_.BigInt(0),kc=_.BigInt(1),Pa=_.BigInt(60),ZA=_.BigInt(24),Tt=_.BigInt(1e3),bi=_.BigInt(1e6),La=_.BigInt(1e9),oN=_.BigInt(-1),XA=_.multiply(_.BigInt(3600),La),WA=_.multiply(Pa,La),$a=_.multiply(XA,ZA),gf=_.multiply(_.BigInt(-86400),_.BigInt(1e17)),yc=_.multiply(_.BigInt(86400),_.BigInt(1e17)),Wm=-271821,Jm=275760,ac=_.multiply(_.BigInt(-388152),_.BigInt(1e13)),sN=_.multiply($a,_.BigInt(3660)),JA=_.multiply($a,_.BigInt(366)),eS=_.multiply($a,_.BigInt(14)),lN=["iso8601","hebrew","islamic","islamic-umalqura","islamic-tbla","islamic-civil","islamic-rgsa","islamicc","persian","ethiopic","ethioaa","coptic","chinese","dangi","roc","indian","buddhist","japanese","gregory"];function wi(n){return _.equal(n,fn)}function bt(n,e){const t=n[e];if(t!==void 0)return t}function Ie(n,e,t){const r=arguments.length>2?t:[];return Vp(n,e,r)}function Kt(n){return typeof n=="object"&&n!==null||typeof n=="function"}function vc(n){if(typeof n=="bigint")throw new TypeError("Cannot convert BigInt to number");return nN(n)}function wn(n){const e=vc(n);if(Lp(e)||e===0)return 0;if(!Or(e))return e;const t=Jr(Yt(e));return t===0?0:gc(e)*t}function hi(n){if(typeof n!="number"||Lp(n)||!Or(n))return!1;const e=Yt(n);return Jr(e)===e}function Nr(n){if(typeof n=="symbol")throw new TypeError("Cannot convert a Symbol value to a String");return Pf(n)}function gt(n){const e=vc(n);if(e===0)return 0;if(Lp(e)||!Or(e))throw new RangeError("invalid number value");const t=Ll(e);return t===0?0:t}function t1(n,e){const t=gt(n);if(t<=0)throw e!==void 0?new RangeError(`property '${e}' cannot be a a number less than one`):new RangeError("Cannot convert a number less than one to a positive integer");return t}function kn(n){const e=vc(n);if(!Or(e))throw new RangeError("infinity is out of range");if(!hi(e))throw new RangeError(`unsupported fractional value ${n}`);return e===0?0:e}function gn(n,e){return{quotient:_.divide(n,e),remainder:_.remainder(n,e)}}function ep(n){return _.lessThan(n,fn)}function n1(n){return wi(n)?0:ep(n)?-1:1}function oa(n){return _.lessThan(n,fn)?_.multiply(n,oN):n}const r1=new Map([["year",gt],["month",t1],["monthCode",Nr],["day",t1],["hour",gt],["minute",gt],["second",gt],["millisecond",gt],["microsecond",gt],["nanosecond",gt],["years",kn],["months",kn],["weeks",kn],["days",kn],["hours",kn],["minutes",kn],["seconds",kn],["milliseconds",kn],["microseconds",kn],["nanoseconds",kn],["era",Nr],["eraYear",wn],["offset",Nr]]),uN=new Map([["hour",0],["minute",0],["second",0],["millisecond",0],["microsecond",0],["nanosecond",0]]),Lf=[["years","year","date"],["months","month","date"],["weeks","week","date"],["days","day","date"],["hours","hour","time"],["minutes","minute","time"],["seconds","second","time"],["milliseconds","millisecond","time"],["microseconds","microsecond","time"],["nanoseconds","nanosecond","time"]],tp=new Map(Lf.map(n=>[n[0],n[1]])),cN=new Map(Lf.map(([n,e])=>[e,n])),i1=Lf.map(([,n])=>n),a1=Array.from(tp.keys()).sort(),o1=new Map;function tS(n){let e=o1.get(n);return e===void 0&&(e=new QA("en-us",{timeZone:Pf(n),hour12:!1,era:"short",year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"}),o1.set(n,e)),e}function s1(n){if(n==null)throw new TypeError(`Expected object not ${n}`);return Object(n)}function oc(n,e,t,r){if(e==null)return;const a=aN(e);for(const s of a)if(!t.some(u=>Object.is(u,s))&&Object.prototype.propertyIsEnumerable.call(e,s)){const u=e[s];if(r&&r.some(c=>Object.is(c,u)))continue;n[s]=u}}function In(n){return Ln(n,ze)&&!Ln(n,Ct,X)}function Ti(n){return Ln(n,Ma)}function ln(n){return Ln(n,tn)}function cn(n){return Ln(n,wr,$n,Er,br,Rr,Ar,Sr,Cr,Dr)}function st(n){return Ln(n,jA)}function hn(n){return Ln(n,Qe,Ze,Xe,We,Je,et)&&!Ln(n,we,Ee,Re)}function Ge(n){return Ln(n,we,Ee,Re,Qe,Ze,Xe,We,Je,et)}function _t(n){return Ln(n,BA)}function Nn(n){return Ln(n,$A)}function Ce(n){return Ln(n,ze,Ct,X)}function Pc(n){if(Ln(n,X)||Ln(n,Ct))throw new TypeError("with() does not support a calendar or timeZone property");if(hn(n))throw new TypeError("with() does not accept Temporal.PlainTime, use withPlainTime() instead");if(n.calendar!==void 0)throw new TypeError("with() does not support a calendar property");if(n.timeZone!==void 0)throw new TypeError("with() does not support a timeZone property")}function hN(n){const{ianaName:e,offset:t,z:r}=function(s){if(new RegExp(`^${kf.source}$`,"i").test(s))return{ianaName:s};try{const u=Za(s);if(u.z||u.offset||u.ianaName)return u}catch{}throw new RangeError(`Invalid time zone: ${s}`)}(n);return e?e_(e):r?"UTC":Qp(zs(t))}function q0(n,e){return e==="never"?"":H0(Xn(n),e)}function H0(n,e){return e==="never"||e==="auto"&&n==="iso8601"?"":`[${e==="critical"?"!":""}u-ca=${n}]`}function Za(n){const e=Gx.exec(n);if(!e)throw new RangeError(`invalid ISO 8601 string: ${n}`);let t=e[1];if(t[0]==="−"&&(t=`-${t.slice(1)}`),t==="-000000")throw new RangeError(`invalid ISO 8601 string: ${n}`);const r=wn(t),a=wn(e[2]||e[4]),s=wn(e[3]||e[5]),u=wn(e[6]),c=e[6]!==void 0,f=wn(e[7]||e[10]);let d=wn(e[8]||e[11]);d===60&&(d=59);const g=(e[9]||e[12])+"000000000",v=wn(g.slice(0,3)),w=wn(g.slice(3,6)),b=wn(g.slice(6,9));let R,C=!1;if(e[13])R=void 0,C=!0;else if(e[14]&&e[15]){const V=e[14]==="-"||e[14]==="−"?"-":"+",$=e[15]||"00",L=e[16]||"00",Y=e[17]||"00";let x=e[18]||"0";if(R=`${V}${$}:${L}`,+x){for(;x.endsWith("0");)x=x.slice(0,-1);R+=`:${Y}.${x}`}else+Y&&(R+=`:${Y}`);R==="-00:00"&&(R="+00:00")}const D=e[19],M=e[20];let N;for(const[,V,$,L]of M.matchAll(Qs))if($==="u-ca")N===void 0&&(N=L);else if(V==="!")throw new RangeError(`Unrecognized annotation: !${$}=${L}`);return r_(r,a,s,u,f,d,v,w,b),{year:r,month:a,day:s,hasTime:c,hour:u,minute:f,second:d,millisecond:v,microsecond:w,nanosecond:b,ianaName:D,offset:R,z:C,calendar:N}}function Y0(n){const e=Qx.exec(n);let t,r,a,s;if(e){let u=e[1];if(u[0]==="−"&&(u=`-${u.slice(1)}`),u==="-000000")throw new RangeError(`invalid ISO 8601 string: ${n}`);t=wn(u),r=wn(e[2]);const c=e[3];for(const[,f,d,g]of c.matchAll(Qs))if(d==="u-ca")a===void 0&&(a=g);else if(f==="!")throw new RangeError(`Unrecognized annotation: !${d}=${g}`);if(a!==void 0&&a!=="iso8601")throw new RangeError("YYYY-MM format is only valid with iso8601 calendar")}else{let u;if({year:t,month:r,calendar:a,day:s,z:u}=Za(n),u)throw new RangeError("Z designator not supported for PlainYearMonth")}return{year:t,month:r,calendar:a,referenceISODay:s}}function G0(n){const e=Zx.exec(n);let t,r,a,s;if(e){t=wn(e[1]),r=wn(e[2]);const u=e[3];for(const[,c,f,d]of u.matchAll(Qs))if(f==="u-ca")a===void 0&&(a=d);else if(c==="!")throw new RangeError(`Unrecognized annotation: !${f}=${d}`);if(a!==void 0&&a!=="iso8601")throw new RangeError("MM-DD format is only valid with iso8601 calendar")}else{let u;if({month:t,day:r,calendar:a,year:s,z:u}=Za(n),u)throw new RangeError("Z designator not supported for PlainMonthDay")}return{month:t,day:r,calendar:a,referenceISOYear:s}}function fN(n){let{year:e,month:t,day:r,hour:a,minute:s,second:u,millisecond:c,microsecond:f,nanosecond:d,offset:g,z:v}=function(C){const D=Za(C);if(!D.z&&!D.offset)throw new RangeError("Temporal.Instant requires a time zone offset");return D}(n);if(!v&&!g)throw new RangeError("Temporal.Instant requires a time zone offset");const w=v?0:zs(g);({year:e,month:t,day:r,hour:a,minute:s,second:u,millisecond:c,microsecond:f,nanosecond:d}=t_(e,t,r,a,s,u,c,f,d-w));const b=js(e,t,r,a,s,u,c,f,d);if(b===null)throw new RangeError("DateTime outside of supported range");return b}function np(n,e,t,r){let a=n,s=e,u=t;switch(r){case"reject":Fa(a,s,u);break;case"constrain":({year:a,month:s,day:u}=vS(a,s,u))}return{year:a,month:s,day:u}}function Up(n,e,t,r,a,s,u){let c=n,f=e,d=t,g=r,v=a,w=s;switch(u){case"reject":Xp(c,f,d,g,v,w);break;case"constrain":({hour:c,minute:f,second:d,millisecond:g,microsecond:v,nanosecond:w}=function(R,C,D,M,N,V){const $=Xr(R,0,23),L=Xr(C,0,59),Y=Xr(D,0,59),x=Xr(M,0,999),I=Xr(N,0,999),O=Xr(V,0,999);return{hour:$,minute:L,second:Y,millisecond:x,microsecond:I,nanosecond:O}}(c,f,d,g,v,w))}return{hour:c,minute:f,second:d,millisecond:g,microsecond:v,nanosecond:w}}function iu(n){if(!Kt(n))return function(R){const C=Wx.exec(R);if(!C)throw new RangeError(`invalid duration: ${R}`);if(C.slice(2).every(de=>de===void 0))throw new RangeError(`invalid duration: ${R}`);const D=C[1]==="-"||C[1]==="−"?-1:1,M=C[2]===void 0?0:gt(C[2])*D,N=C[3]===void 0?0:gt(C[3])*D,V=C[4]===void 0?0:gt(C[4])*D,$=C[5]===void 0?0:gt(C[5])*D,L=C[6]===void 0?0:gt(C[6])*D,Y=C[7],x=C[8],I=C[9],O=C[10],z=C[11];let j=0,q=0,U=0;if(Y!==void 0){if(x??I??O??z)throw new RangeError("only the smallest unit can be fractional");U=3600*wn((Y+"000000000").slice(0,9))*D}else if(j=x===void 0?0:gt(x)*D,I!==void 0){if(O??z)throw new RangeError("only the smallest unit can be fractional");U=60*wn((I+"000000000").slice(0,9))*D}else q=O===void 0?0:gt(O)*D,z!==void 0&&(U=wn((z+"000000000").slice(0,9))*D);const Se=U%1e3,se=Ll(U/1e3)%1e3,re=Ll(U/1e6)%1e3;return q+=Ll(U/1e9)%60,j+=Ll(U/6e10),lp(M,N,V,$,L,j,q,re,se,Se),{years:M,months:N,weeks:V,days:$,hours:L,minutes:j,seconds:q,milliseconds:re,microseconds:se,nanoseconds:Se}}(Nr(n));if(cn(n))return{years:y(n,wr),months:y(n,$n),weeks:y(n,zr),days:y(n,Er),hours:y(n,br),minutes:y(n,Rr),seconds:y(n,Ar),milliseconds:y(n,Sr),microseconds:y(n,Cr),nanoseconds:y(n,Dr)};const e={years:0,months:0,weeks:0,days:0,hours:0,minutes:0,seconds:0,milliseconds:0,microseconds:0,nanoseconds:0};let t=function(R){if(!Kt(R))throw new TypeError("invalid duration-like");const C={years:void 0,months:void 0,weeks:void 0,days:void 0,hours:void 0,minutes:void 0,seconds:void 0,milliseconds:void 0,microseconds:void 0,nanoseconds:void 0};let D=!1;for(const M of a1){const N=R[M];N!==void 0&&(D=!0,C[M]=kn(N))}if(!D)throw new TypeError("invalid duration-like");return C}(n);for(const b of a1){const R=t[b];R!==void 0&&(e[b]=R)}let{years:r,months:a,weeks:s,days:u,hours:c,minutes:f,seconds:d,milliseconds:g,microseconds:v,nanoseconds:w}=e;return lp(r,a,s,u,c,f,d,g,v,w),{years:r,months:a,weeks:s,days:u,hours:c,minutes:f,seconds:d,milliseconds:g,microseconds:v,nanoseconds:w}}function yn(n){return n===void 0?"constrain":$s(n,"overflow",["constrain","reject"],"constrain")}function _c(n){return n===void 0?"compatible":$s(n,"disambiguation",["compatible","earlier","later","reject"],"compatible")}function ua(n,e){return $s(n,"roundingMode",["ceil","floor","expand","trunc","halfCeil","halfFloor","halfExpand","halfTrunc","halfEven"],e)}function rp(n,e){return n===void 0?e:$s(n,"offset",["prefer","use","ignore","reject"],e)}function Vf(n){return $s(n,"calendarName",["auto","always","never","critical"],"auto")}function Lc(n){let e=n.roundingIncrement;if(e===void 0)return 1;if(e=vc(e),!Or(e))throw new RangeError("roundingIncrement must be finite");const t=Ll(e);if(t<1||t>1e9)throw new RangeError(`roundingIncrement must be at least 1 and at most 1e9, not ${e}`);return t}function Vc(n,e,t){const r=t?e:e-1;if(n>r)throw new RangeError(`roundingIncrement must be at least 1 and less than ${r}, not ${n}`);if(e%n!=0)throw new RangeError(`Rounding increment must divide evenly into ${e}`)}function Uf(n){const e=n.fractionalSecondDigits;if(e===void 0)return"auto";if(typeof e!="number"){if(Nr(e)!=="auto")throw new RangeError(`fractionalSecondDigits must be 'auto' or 0 through 9, not ${e}`);return"auto"}const t=Jr(e);if(!Or(t)||t<0||t>9)throw new RangeError(`fractionalSecondDigits must be 'auto' or 0 through 9, not ${e}`);return t}function zf(n,e){switch(n){case"minute":return{precision:"minute",unit:"minute",increment:1};case"second":return{precision:0,unit:"second",increment:1};case"millisecond":return{precision:3,unit:"millisecond",increment:1};case"microsecond":return{precision:6,unit:"microsecond",increment:1};case"nanosecond":return{precision:9,unit:"nanosecond",increment:1}}switch(e){case"auto":return{precision:e,unit:"nanosecond",increment:1};case 0:return{precision:e,unit:"second",increment:1};case 1:case 2:case 3:return{precision:e,unit:"millisecond",increment:10**(3-e)};case 4:case 5:case 6:return{precision:e,unit:"microsecond",increment:10**(6-e)};case 7:case 8:case 9:return{precision:e,unit:"nanosecond",increment:10**(9-e)};default:throw new RangeError(`fractionalSecondDigits must be 'auto' or 0 through 9, not ${e}`)}}const Hl=Symbol("~required~");function ei(n,e,t,r,a=[]){const s=[];for(const[,d,g]of Lf)t!=="datetime"&&t!==g||s.push(d);s.push(...a);let u=r;u===Hl?u=void 0:u!==void 0&&s.push(u);const c=[...s];for(const d of s){const g=cN.get(d);g!==void 0&&c.push(g)}let f=$s(n,e,c,u);if(f===void 0&&r===Hl)throw new RangeError(`${e} is required`);return tp.has(f)?tp.get(f):f}function xm(n){const e=n.relativeTo;if(e===void 0)return e;let t,r,a,s,u,c,f,d,g,v,w,b,R="option",C=!1;if(Kt(e)){if(Ce(e)||st(e))return e;if(Ge(e))return wc(e);v=Ff(e);const D=En(v,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]);D.push("timeZone","offset");const M=it(e,D,[]),N=pr(null);N.overflow="constrain",{year:t,month:r,day:a,hour:s,minute:u,second:c,millisecond:f,microsecond:d,nanosecond:g}=jf(v,M,N),b=M.offset,b===void 0&&(R="wall"),w=M.timeZone,w!==void 0&&(w=mr(w))}else{let D,M;if({year:t,month:r,day:a,hour:s,minute:u,second:c,millisecond:f,microsecond:d,nanosecond:g,calendar:v,ianaName:D,offset:b,z:M}=Za(Nr(e)),D)w=mr(D),M?R="exact":b||(R="wall"),C=!0;else if(M)throw new RangeError("Z designator not supported for PlainDate relativeTo; either remove the Z or add a bracketed time zone");if(v||(v="iso8601"),!Po(v))throw new RangeError(`invalid calendar identifier ${v}`);v=qa(v)}return w===void 0?Ci(t,r,a,v):Kn(ap(t,r,a,s,u,c,f,d,g,R,R==="option"?zs(b):0,w,"compatible","reject",C),w,v)}function Xv(n,e,t,r,a,s,u,c,f,d){for(const[g,v]of[["years",n],["months",e],["weeks",t],["days",r],["hours",a],["minutes",s],["seconds",u],["milliseconds",c],["microseconds",f],["nanoseconds",d]])if(v!==0)return tp.get(g);return"nanosecond"}function Yl(n,e){return i1.indexOf(n)>i1.indexOf(e)?e:n}function it(n,e,t,{emptySourceErrorMessage:r}={emptySourceErrorMessage:"no supported properties found"}){const a=pr(null);let s=!1;e.sort();for(const u of e){let c=n[u];if(c!==void 0)s=!0,r1.has(u)&&(c=r1.get(u)(c)),a[u]=c;else if(t!=="partial"){if(Jx.call(t,u))throw new TypeError(`required property '${u}' missing or undefined`);c=uN.get(u),a[u]=c}}if(t==="partial"&&!s)throw new TypeError(r);return a}function ip(n,e="complete"){const t=["hour","microsecond","millisecond","minute","nanosecond","second"],r=it(n,t,"partial",{emptySourceErrorMessage:"invalid time-like"}),a={};for(const s of t){const u=iN(r,s);u!==void 0?a[s]=u.value:e==="complete"&&(a[s]=0)}return a}function Nt(n,e){let t=n;if(Kt(t)){if(st(t))return t;if(Ce(t)&&(yn(e),t=ci(y(t,Ct),y(t,fr),y(t,X))),Ge(t))return yn(e),Ci(y(t,we),y(t,Ee),y(t,Re),y(t,X));const f=Ff(t);return No(f,it(t,En(f,["day","month","monthCode","year"]),[]),e)}yn(e);let{year:r,month:a,day:s,calendar:u,z:c}=function(d){return Za(d)}(Nr(t));if(c)throw new RangeError("Z designator not supported for PlainDate");if(u||(u="iso8601"),!Po(u))throw new RangeError(`invalid calendar identifier ${u}`);return u=qa(u),Ci(r,a,s,u)}function jf(n,e,t){let{hour:r,minute:a,second:s,millisecond:u,microsecond:c,nanosecond:f}=ip(e);const d=yn(t),g=No(n,e,t),v=y(g,we),w=y(g,Ee),b=y(g,Re);return{hour:r,minute:a,second:s,millisecond:u,microsecond:c,nanosecond:f}=Up(r,a,s,u,c,f,d),{year:v,month:w,day:b,hour:r,minute:a,second:s,millisecond:u,microsecond:c,nanosecond:f}}function Vl(n,e){let t,r,a,s,u,c,f,d,g,v;if(Kt(n)){if(Ge(n))return n;if(Ce(n))return yn(e),ci(y(n,Ct),y(n,fr),y(n,X));if(st(n))return yn(e),Zr(y(n,we),y(n,Ee),y(n,Re),0,0,0,0,0,0,y(n,X));v=Ff(n);const w=it(n,En(v,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]),[]);({year:t,month:r,day:a,hour:s,minute:u,second:c,millisecond:f,microsecond:d,nanosecond:g}=jf(v,w,e))}else{let w;if(yn(e),{year:t,month:r,day:a,hour:s,minute:u,second:c,millisecond:f,microsecond:d,nanosecond:g,calendar:v,z:w}=function(R){return Za(R)}(Nr(n)),w)throw new RangeError("Z designator not supported for PlainDateTime");if(r_(t,r,a,s,u,c,f,d,g),v||(v="iso8601"),!Po(v))throw new RangeError(`invalid calendar identifier ${v}`);v=qa(v)}return Zr(t,r,a,s,u,c,f,d,g,v)}function sc(n){if(cn(n))return n;let{years:e,months:t,weeks:r,days:a,hours:s,minutes:u,seconds:c,milliseconds:f,microseconds:d,nanoseconds:g}=iu(n);return new(pe("%Temporal.Duration%"))(e,t,r,a,s,u,c,f,d,g)}function sa(n){if(In(n))return n;if(Ce(n))return new(pe("%Temporal.Instant%"))(y(n,ze));const e=fN(Nr(n));return new(pe("%Temporal.Instant%"))(e)}function l1(n,e){let t=n;if(Kt(t)){if(Nn(t))return t;let c,f;if(Ln(t,X))c=y(t,X),f=!1;else{let g=t.calendar;f=g===void 0,g===void 0&&(g="iso8601"),c=ti(g)}const d=it(t,En(c,["day","month","monthCode","year"]),[]);return f&&d.month!==void 0&&d.monthCode===void 0&&d.year===void 0&&(d.year=1972),Tc(c,d,e)}yn(e);let{month:r,day:a,referenceISOYear:s,calendar:u}=G0(Nr(t));if(u===void 0&&(u="iso8601"),!Po(u))throw new RangeError(`invalid calendar identifier ${u}`);return u=qa(u),s===void 0?(Fa(1972,r,a),yf(r,a,u)):Tc(u,yf(r,a,u,s))}function Ao(n,e="constrain"){let t,r,a,s,u,c,f=n;if(Kt(f)){if(hn(f))return f;if(Ce(f)&&(f=ci(y(f,Ct),y(f,fr),y(f,X))),Ge(f))return new(pe("%Temporal.PlainTime%"))(y(f,Qe),y(f,Ze),y(f,Xe),y(f,We),y(f,Je),y(f,et));({hour:t,minute:r,second:a,millisecond:s,microsecond:u,nanosecond:c}=ip(f)),{hour:t,minute:r,second:a,millisecond:s,microsecond:u,nanosecond:c}=Up(t,r,a,s,u,c,e)}else({hour:t,minute:r,second:a,millisecond:s,microsecond:u,nanosecond:c}=function(g){const v=Kx.exec(g);let w,b,R,C,D,M,N;if(v){w=wn(v[1]),b=wn(v[2]||v[5]),R=wn(v[3]||v[6]),R===60&&(R=59);const V=(v[4]||v[7])+"000000000";C=wn(V.slice(0,3)),D=wn(V.slice(3,6)),M=wn(V.slice(6,9)),N=v[14];for(const[,$,L,Y]of N.matchAll(Qs))if(L!=="u-ca"&&$==="!")throw new RangeError(`Unrecognized annotation: !${L}=${Y}`);if(v[8])throw new RangeError("Z designator not supported for PlainTime")}else{let V,$;if({hasTime:$,hour:w,minute:b,second:R,millisecond:C,microsecond:D,nanosecond:M,z:V}=Za(g),!$)throw new RangeError(`time is missing in string: ${g}`);if(V)throw new RangeError("Z designator not supported for PlainTime")}if(/[tT ][0-9][0-9]/.test(g))return{hour:w,minute:b,second:R,millisecond:C,microsecond:D,nanosecond:M};try{const{month:V,day:$}=G0(g);Fa(1972,V,$)}catch{try{const{year:V,month:$}=Y0(g);Fa(V,$,1)}catch{return{hour:w,minute:b,second:R,millisecond:C,microsecond:D,nanosecond:M}}}throw new RangeError(`invalid ISO 8601 time-only string ${g}; may need a T prefix`)}(Nr(f))),Xp(t,r,a,s,u,c);return new(pe("%Temporal.PlainTime%"))(t,r,a,s,u,c)}function Jh(n,e){if(Kt(n)){if(_t(n))return n;const u=Ff(n);return Kl(u,it(n,En(u,["month","monthCode","year"]),[]),e)}yn(e);let{year:t,month:r,referenceISODay:a,calendar:s}=Y0(Nr(n));if(s===void 0&&(s="iso8601"),!Po(s))throw new RangeError(`invalid calendar identifier ${s}`);return s=qa(s),a===void 0?(Fa(t,r,1),vf(t,r,s)):Kl(s,vf(t,r,s,a))}function ap(n,e,t,r,a,s,u,c,f,d,g,v,w,b,R){const C=new(pe("%Temporal.PlainDateTime%"))(n,e,t,r,a,s,u,c,f);if(d==="wall"||b==="ignore")return y(Mr(v,C,w),ze);if(d==="exact"||b==="use"){const M=js(n,e,t,r,a,s,u,c,f);if(M===null)throw new RangeError("ZonedDateTime outside of supported range");return _.subtract(M,_.BigInt(g))}const D=op(v,C);for(const M of D){const N=ca(v,M),V=_.toNumber(si(_.BigInt(N),WA,"halfExpand"));if(N===g||R&&V===g)return y(M,ze)}if(b==="reject"){const M=Qp(g),N=Ti(v)?y(v,Ma):"time zone";throw new RangeError(`Offset ${M} is invalid for ${C.toString()} in ${N}`)}return y(cS(D,v,C,w),ze)}function ef(n,e){let t,r,a,s,u,c,f,d,g,v,w,b,R,C,D=!1,M="option";if(Kt(n)){if(Ce(n))return n;b=Ff(n);const V=En(b,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]);V.push("timeZone","offset");const $=it(n,V,["timeZone"]);v=mr($.timeZone),w=$.offset,w===void 0&&(M="wall"),R=_c(e),C=rp(e,"reject"),{year:t,month:r,day:a,hour:s,minute:u,second:c,millisecond:f,microsecond:d,nanosecond:g}=jf(b,$,e)}else{let V,$;if({year:t,month:r,day:a,hour:s,minute:u,second:c,millisecond:f,microsecond:d,nanosecond:g,ianaName:V,offset:w,z:$,calendar:b}=function(Y){const x=Za(Y);if(!x.ianaName)throw new RangeError("Temporal.ZonedDateTime requires a time zone ID in brackets");return x}(Nr(n)),v=mr(V),$?M="exact":w||(M="wall"),b||(b="iso8601"),!Po(b))throw new RangeError(`invalid calendar identifier ${b}`);b=qa(b),D=!0,R=_c(e),C=rp(e,"reject"),yn(e)}let N=0;return M==="option"&&(N=zs(w)),Kn(ap(t,r,a,s,u,c,f,d,g,M,N,v,R,C,D),v,b)}function nS(n,e,t,r,a){Fa(e,t,r),_S(e,t,r),Qa(n),tt(n,we,e),tt(n,Ee,t),tt(n,Re,r),tt(n,X,a),tt(n,jA,!0)}function Ci(n,e,t,r="iso8601"){const a=pe("%Temporal.PlainDate%"),s=pr(a.prototype);return nS(s,n,e,t,r),s}function rS(n,e,t,r,a,s,u,c,f,d,g){r_(e,t,r,a,s,u,c,f,d),TS(e,t,r,a,s,u,c,f,d),Qa(n),tt(n,we,e),tt(n,Ee,t),tt(n,Re,r),tt(n,Qe,a),tt(n,Ze,s),tt(n,Xe,u),tt(n,We,c),tt(n,Je,f),tt(n,et,d),tt(n,X,g)}function Zr(n,e,t,r,a,s,u,c,f,d="iso8601"){const g=pe("%Temporal.PlainDateTime%"),v=pr(g.prototype);return rS(v,n,e,t,r,a,s,u,c,f,d),v}function iS(n,e,t,r,a){Fa(a,e,t),_S(a,e,t),Qa(n),tt(n,Ee,e),tt(n,Re,t),tt(n,we,a),tt(n,X,r),tt(n,$A,!0)}function yf(n,e,t="iso8601",r=1972){const a=pe("%Temporal.PlainMonthDay%"),s=pr(a.prototype);return iS(s,n,e,t,r),s}function aS(n,e,t,r,a){Fa(e,t,a),function(u,c){Zn(u,Wm,Jm),u===Wm?Zn(c,4,12):u===Jm&&Zn(c,1,9)}(e,t),Qa(n),tt(n,we,e),tt(n,Ee,t),tt(n,Re,a),tt(n,X,r),tt(n,BA,!0)}function vf(n,e,t="iso8601",r=1){const a=pe("%Temporal.PlainYearMonth%"),s=pr(a.prototype);return aS(s,n,e,t,r),s}function oS(n,e,t,r){kl(e),Qa(n),tt(n,ze,e),tt(n,Ct,t),tt(n,X,r);const a=new(pe("%Temporal.Instant%"))(y(n,ze));tt(n,fr,a)}function Kn(n,e,t="iso8601"){const r=pe("%Temporal.ZonedDateTime%"),a=pr(r.prototype);return oS(a,n,e,t),a}function En(n,e){if(typeof n=="string"){const a=new(pe("%Temporal.Calendar%"))(n);return Ie(pe("%Temporal.Calendar.prototype.fields%"),a,[e])}const t=Ie(bt(n,"fields"),n,[e]),r=[];for(const a of t){if(typeof a!="string")throw new TypeError("bad return from calendar.fields()");KA.call(r,a)}return r}function Gl(n,e,t){if(typeof n=="string"){const a=new(pe("%Temporal.Calendar%"))(n);return Ie(pe("%Temporal.Calendar.prototype.mergeFields%"),a,[e,t])}const r=Ie(bt(n,"mergeFields"),n,[e,t]);if(!Kt(r))throw new TypeError("bad return from calendar.mergeFields()");return r}function Qn(n,e,t,r,a){let s=a;if(typeof n=="string"){const c=new(pe("%Temporal.Calendar%"))(n);return Ie(pe("%Temporal.Calendar.prototype.dateAdd%"),c,[e,t,r])}s===void 0&&(s=bt(n,"dateAdd"));const u=Vp(s,n,[e,t,r]);if(!st(u))throw new TypeError("invalid result");return u}function Us(n,e,t,r,a){let s=a;if(typeof n=="string"){const c=new(pe("%Temporal.Calendar%"))(n);return Ie(pe("%Temporal.Calendar.prototype.dateUntil%"),c,[e,t,r])}s===void 0&&(s=bt(n,"dateUntil"));const u=Vp(s,n,[e,t,r]);if(!cn(u))throw new TypeError("invalid result");return u}function zp(n,e){if(typeof n=="string"){const r=new(pe("%Temporal.Calendar%"))(n);return Ie(pe("%Temporal.Calendar.prototype.year%"),r,[e])}let t=Ie(bt(n,"year"),n,[e]);if(typeof t!="number")throw new TypeError("calendar year result must be an integer");if(!hi(t))throw new RangeError("calendar year result must be an integer");return t}function jp(n,e){if(typeof n=="string"){const r=new(pe("%Temporal.Calendar%"))(n);return Ie(pe("%Temporal.Calendar.prototype.month%"),r,[e])}let t=Ie(bt(n,"month"),n,[e]);if(typeof t!="number")throw new TypeError("calendar month result must be a positive integer");if(!hi(t)||t<1)throw new RangeError("calendar month result must be a positive integer");return t}function Bf(n,e){if(typeof n=="string"){const r=new(pe("%Temporal.Calendar%"))(n);return Ie(pe("%Temporal.Calendar.prototype.monthCode%"),r,[e])}let t=Ie(bt(n,"monthCode"),n,[e]);if(typeof t!="string")throw new TypeError("calendar monthCode result must be a string");return t}function $f(n,e){if(typeof n=="string"){const r=new(pe("%Temporal.Calendar%"))(n);return Ie(pe("%Temporal.Calendar.prototype.day%"),r,[e])}const t=Ie(bt(n,"day"),n,[e]);if(typeof t!="number")throw new TypeError("calendar day result must be a positive integer");if(!hi(t)||t<1)throw new RangeError("calendar day result must be a positive integer");return t}function Bp(n,e){if(typeof n=="string"){const r=new(pe("%Temporal.Calendar%"))(n);return Ie(pe("%Temporal.Calendar.prototype.era%"),r,[e])}let t=Ie(bt(n,"era"),n,[e]);if(t===void 0)return t;if(typeof t!="string")throw new TypeError("calendar era result must be a string or undefined");return t}function $p(n,e){if(typeof n=="string"){const r=new(pe("%Temporal.Calendar%"))(n);return Ie(pe("%Temporal.Calendar.prototype.eraYear%"),r,[e])}let t=Ie(bt(n,"eraYear"),n,[e]);if(t===void 0)return t;if(typeof t!="number")throw new TypeError("calendar eraYear result must be an integer or undefined");if(!hi(t))throw new RangeError("calendar eraYear result must be an integer or undefined");return t}function K0(n,e){if(typeof n=="string"){const r=new(pe("%Temporal.Calendar%"))(n);return Ie(pe("%Temporal.Calendar.prototype.dayOfWeek%"),r,[e])}const t=Ie(bt(n,"dayOfWeek"),n,[e]);if(typeof t!="number")throw new TypeError("calendar dayOfWeek result must be a positive integer");if(!hi(t)||t<1)throw new RangeError("calendar dayOfWeek result must be a positive integer");return t}function Q0(n,e){if(typeof n=="string"){const r=new(pe("%Temporal.Calendar%"))(n);return Ie(pe("%Temporal.Calendar.prototype.dayOfYear%"),r,[e])}const t=Ie(bt(n,"dayOfYear"),n,[e]);if(typeof t!="number")throw new TypeError("calendar dayOfYear result must be a positive integer");if(!hi(t)||t<1)throw new RangeError("calendar dayOfYear result must be a positive integer");return t}function Z0(n,e){if(typeof n=="string"){const r=new(pe("%Temporal.Calendar%"))(n);return Ie(pe("%Temporal.Calendar.prototype.weekOfYear%"),r,[e])}const t=Ie(bt(n,"weekOfYear"),n,[e]);if(typeof t!="number")throw new TypeError("calendar weekOfYear result must be a positive integer");if(!hi(t)||t<1)throw new RangeError("calendar weekOfYear result must be a positive integer");return t}function X0(n,e){if(typeof n=="string"){const r=new(pe("%Temporal.Calendar%"))(n);return Ie(pe("%Temporal.Calendar.prototype.yearOfWeek%"),r,[e])}const t=Ie(bt(n,"yearOfWeek"),n,[e]);if(typeof t!="number")throw new TypeError("calendar yearOfWeek result must be an integer");if(!hi(t))throw new RangeError("calendar yearOfWeek result must be an integer");return t}function W0(n,e){if(typeof n=="string"){const r=new(pe("%Temporal.Calendar%"))(n);return Ie(pe("%Temporal.Calendar.prototype.daysInWeek%"),r,[e])}const t=Ie(bt(n,"daysInWeek"),n,[e]);if(typeof t!="number")throw new TypeError("calendar daysInWeek result must be a positive integer");if(!hi(t)||t<1)throw new RangeError("calendar daysInWeek result must be a positive integer");return t}function Fp(n,e){if(typeof n=="string"){const r=new(pe("%Temporal.Calendar%"))(n);return Ie(pe("%Temporal.Calendar.prototype.daysInMonth%"),r,[e])}const t=Ie(bt(n,"daysInMonth"),n,[e]);if(typeof t!="number")throw new TypeError("calendar daysInMonth result must be a positive integer");if(!hi(t)||t<1)throw new RangeError("calendar daysInMonth result must be a positive integer");return t}function qp(n,e){if(typeof n=="string"){const r=new(pe("%Temporal.Calendar%"))(n);return Ie(pe("%Temporal.Calendar.prototype.daysInYear%"),r,[e])}const t=Ie(bt(n,"daysInYear"),n,[e]);if(typeof t!="number")throw new TypeError("calendar daysInYear result must be a positive integer");if(!hi(t)||t<1)throw new RangeError("calendar daysInYear result must be a positive integer");return t}function Hp(n,e){if(typeof n=="string"){const r=new(pe("%Temporal.Calendar%"))(n);return Ie(pe("%Temporal.Calendar.prototype.monthsInYear%"),r,[e])}const t=Ie(bt(n,"monthsInYear"),n,[e]);if(typeof t!="number")throw new TypeError("calendar monthsInYear result must be a positive integer");if(!hi(t)||t<1)throw new RangeError("calendar monthsInYear result must be a positive integer");return t}function Yp(n,e){if(typeof n=="string"){const r=new(pe("%Temporal.Calendar%"))(n);return Ie(pe("%Temporal.Calendar.prototype.inLeapYear%"),r,[e])}const t=Ie(bt(n,"inLeapYear"),n,[e]);if(typeof t!="boolean")throw new TypeError("calendar inLeapYear result must be a boolean");return t}function ti(n){if(Kt(n)){if(Ln(n,X))return y(n,X);if(!function(a){return!!ln(a)||"dateAdd"in a&&"dateFromFields"in a&&"dateUntil"in a&&"day"in a&&"dayOfWeek"in a&&"dayOfYear"in a&&"daysInMonth"in a&&"daysInWeek"in a&&"daysInYear"in a&&"fields"in a&&"id"in a&&"inLeapYear"in a&&"mergeFields"in a&&"month"in a&&"monthCode"in a&&"monthDayFromFields"in a&&"monthsInYear"in a&&"weekOfYear"in a&&"year"in a&&"yearMonthFromFields"in a&&"yearOfWeek"in a}(n))throw new TypeError("expected a Temporal.Calendar or object implementing the Temporal.Calendar protocol");return n}const e=Nr(n);if(Po(e))return qa(e);let t;try{({calendar:t}=Za(e))}catch{try{({calendar:t}=Y0(e))}catch{({calendar:t}=G0(e))}}if(t||(t="iso8601"),!Po(t))throw new RangeError(`invalid calendar identifier ${t}`);return qa(t)}function Ff(n){if(Ln(n,X))return y(n,X);const{calendar:e}=n;return e===void 0?"iso8601":ti(e)}function Xn(n){if(typeof n=="string")return n;const e=n.id;if(typeof e!="string")throw new TypeError("calendar.id should be a string");return e}function Uc(n){return Kt(n)?n:new(pe("%Temporal.Calendar%"))(n)}function qf(n,e){return n===e?!0:Xn(n)===Xn(e)}function Gp(n,e,t){if(n===e)return;const r=Xn(n),a=Xn(e);if(r!==a)throw new RangeError(`cannot ${t} of ${r} and ${a} calendars`)}function sS(n,e){if(n===e)return e;const t=Xn(n),r=Xn(e);if(t===r||t==="iso8601")return e;if(r==="iso8601")return n;throw new RangeError("irreconcilable calendars")}function No(n,e,t,r){if(typeof n=="string"){const s=new(pe("%Temporal.Calendar%"))(n);return Ie(pe("%Temporal.Calendar.prototype.dateFromFields%"),s,[e,t])}const a=Ie(bt(n,"dateFromFields"),n,[e,t]);if(!st(a))throw new TypeError("invalid result");return a}function Kl(n,e,t){if(typeof n=="string"){const a=new(pe("%Temporal.Calendar%"))(n);return Ie(pe("%Temporal.Calendar.prototype.yearMonthFromFields%"),a,[e,t])}let r=Ie(bt(n,"yearMonthFromFields"),n,[e,t]);if(!_t(r))throw new TypeError("invalid result");return r}function Tc(n,e,t){if(typeof n=="string"){const a=new(pe("%Temporal.Calendar%"))(n);return Ie(pe("%Temporal.Calendar.prototype.monthDayFromFields%"),a,[e,t])}let r=Ie(bt(n,"monthDayFromFields"),n,[e,t]);if(!Nn(r))throw new TypeError("invalid result");return r}function mr(n){if(Kt(n)){if(Ce(n))return y(n,Ct);if(!function(t){return!!Ti(t)||"getOffsetNanosecondsFor"in t&&"getPossibleInstantsFor"in t&&"id"in t}(n))throw new TypeError("expected a Temporal.TimeZone or object implementing the Temporal.TimeZone protocol");return n}return hN(Nr(n))}function _f(n){if(typeof n=="string")return n;const e=n.id;if(typeof e!="string")throw new TypeError("timeZone.id should be a string");return e}function lS(n){return Kt(n)?n:new(pe("%Temporal.TimeZone%"))(n)}function uS(n,e){return n===e?!0:_f(n)===_f(e)}function wc(n){return Ci(y(n,we),y(n,Ee),y(n,Re),y(n,X))}function J0(n){return new(pe("%Temporal.PlainTime%"))(y(n,Qe),y(n,Ze),y(n,Xe),y(n,We),y(n,Je),y(n,et))}function ca(n,e,t){if(typeof n=="string"){const a=new(pe("%Temporal.TimeZone%"))(n);return Ie(pe("%Temporal.TimeZone.prototype.getOffsetNanosecondsFor%"),a,[e])}const r=Ie(bt(n,"getOffsetNanosecondsFor"),n,[e]);if(typeof r!="number")throw new TypeError("bad return from getOffsetNanosecondsFor");if(!hi(r)||Yt(r)>=864e11)throw new RangeError("out-of-range return from getOffsetNanosecondsFor");return r}function Wv(n,e){return Qp(ca(n,e))}function ci(n,e,t){const r=y(e,ze),a=ca(n,e);let{year:s,month:u,day:c,hour:f,minute:d,second:g,millisecond:v,microsecond:w,nanosecond:b}=fS(r);return{year:s,month:u,day:c,hour:f,minute:d,second:g,millisecond:v,microsecond:w,nanosecond:b}=t_(s,u,c,f,d,g,v,w,b+a),Zr(s,u,c,f,d,g,v,w,b,t)}function Mr(n,e,t){return cS(op(n,e),n,e,t)}function cS(n,e,t,r){const a=pe("%Temporal.Instant%"),s=n.length;if(s===1)return n[0];if(s)switch(r){case"compatible":case"earlier":return n[0];case"later":return n[s-1];case"reject":throw new RangeError("multiple instants found")}const u=y(t,we),c=y(t,Ee),f=y(t,Re),d=y(t,Qe),g=y(t,Ze),v=y(t,Xe),w=y(t,We),b=y(t,Je),R=y(t,et),C=js(u,c,f,d,g,v,w,b,R);if(C===null)throw new RangeError("DateTime outside of supported range");const D=new a(_.subtract(C,$a)),M=new a(_.add(C,$a)),N=ca(e,D),V=ca(e,M)-N;switch(r){case"earlier":{const $=y(t,X),L=pe("%Temporal.PlainDateTime%"),Y=n0(u,c,f,d,g,v,w,b,R,$,0,0,0,0,0,0,0,0,0,-V,void 0);return op(e,new L(Y.year,Y.month,Y.day,Y.hour,Y.minute,Y.second,Y.millisecond,Y.microsecond,Y.nanosecond,$))[0]}case"compatible":case"later":{const $=y(t,X),L=pe("%Temporal.PlainDateTime%"),Y=n0(u,c,f,d,g,v,w,b,R,$,0,0,0,0,0,0,0,0,0,V,void 0),x=op(e,new L(Y.year,Y.month,Y.day,Y.hour,Y.minute,Y.second,Y.millisecond,Y.microsecond,Y.nanosecond,$));return x[x.length-1]}case"reject":throw new RangeError("no such instant found")}}function op(n,e,t){if(typeof n=="string"){const s=new(pe("%Temporal.TimeZone%"))(n);return Ie(pe("%Temporal.TimeZone.prototype.getPossibleInstantsFor%"),s,[e])}const r=Ie(bt(n,"getPossibleInstantsFor"),n,[e]),a=[];for(const s of r){if(!In(s))throw new TypeError("bad return from getPossibleInstantsFor");KA.call(a,s)}return a}function au(n){let e;return n<0||n>9999?e=(n<0?"-":"+")+`000000${Yt(n)}`.slice(-6):e=`0000${n}`.slice(-4),e}function Wt(n){return`00${n}`.slice(-2)}function Kp(n,e,t,r,a){if(a==="minute")return"";const s=`:${Wt(n)}`;let u,c=1e6*e+1e3*t+r;if(a==="auto"){if(c===0)return s;for(u=`${c}`.padStart(9,"0");u[u.length-1]==="0";)u=u.slice(0,-1)}else{if(a===0)return s;u=`${c}`.padStart(9,"0").slice(0,a)}return`${s}.${u}`}function u1(n,e,t){let r=e;r===void 0&&(r="UTC");const a=ci(r,n,"iso8601"),s=au(y(a,we)),u=Wt(y(a,Ee)),c=Wt(y(a,Re)),f=Wt(y(a,Qe)),d=Wt(y(a,Ze)),g=Kp(y(a,Xe),y(a,We),y(a,Je),y(a,et),t);let v="Z";return e!==void 0&&(v=hS(ca(r,n))),`${s}-${u}-${c}T${f}:${d}${g}${v}`}function bv(n,e="auto",t){function r(O){return O<=rN?O.toString(10):_.BigInt(O).toString(10)}const a=y(n,wr),s=y(n,$n),u=y(n,zr),c=y(n,Er),f=y(n,br),d=y(n,Rr);let g=y(n,Ar),v=y(n,Sr),w=y(n,Cr),b=y(n,Dr);const R=Va(a,s,u,c,f,d,g,v,w,b);if(t){const{unit:O,increment:z,roundingMode:j}=t;({seconds:g,milliseconds:v,microseconds:w,nanoseconds:b}=ko(0,0,0,0,0,0,g,v,w,b,z,O,j))}const C=[];a&&C.push(`${r(Yt(a))}Y`),s&&C.push(`${r(Yt(s))}M`),u&&C.push(`${r(Yt(u))}W`),c&&C.push(`${r(Yt(c))}D`);const D=[];f&&D.push(`${r(Yt(f))}H`),d&&D.push(`${r(Yt(d))}M`);const M=[];let N,V,$,L,Y=Ec(0,0,0,g,v,w,b,0);({quotient:Y,remainder:N}=gn(Y,Tt)),{quotient:Y,remainder:V}=gn(Y,Tt),{quotient:L,remainder:$}=gn(Y,Tt);const x=1e6*Yt(_.toNumber($))+1e3*Yt(_.toNumber(V))+Yt(_.toNumber(N));let I;if(e==="auto"){if(x!==0)for(I=`${x}`.padStart(9,"0");I[I.length-1]==="0";)I=I.slice(0,-1)}else e!==0&&(I=`${x}`.padStart(9,"0").slice(0,e));return I&&M.unshift(".",I),_.equal(L,fn)&&!M.length&&e==="auto"||M.unshift(oa(L).toString()),M.length&&D.push(`${M.join("")}S`),D.length&&D.unshift("T"),C.length||D.length?`${R<0?"-":""}P${C.join("")}${D.join("")}`:"PT0S"}function c1(n,e="auto"){return`${au(y(n,we))}-${Wt(y(n,Ee))}-${Wt(y(n,Re))}${q0(y(n,X),e)}`}function h1(n,e,t="auto",r){let a=y(n,we),s=y(n,Ee),u=y(n,Re),c=y(n,Qe),f=y(n,Ze),d=y(n,Xe),g=y(n,We),v=y(n,Je),w=y(n,et);if(r){const{unit:b,increment:R,roundingMode:C}=r;({year:a,month:s,day:u,hour:c,minute:f,second:d,millisecond:g,microsecond:v,nanosecond:w}=s_(a,s,u,c,f,d,g,v,w,R,b,C))}return`${au(a)}-${Wt(s)}-${Wt(u)}T${Wt(c)}:${Wt(f)}${Kp(d,g,v,w,e)}${q0(y(n,X),t)}`}function f1(n,e="auto"){let t=`${Wt(y(n,Ee))}-${Wt(y(n,Re))}`;const r=Xn(y(n,X));(e==="always"||e==="critical"||r!=="iso8601")&&(t=`${au(y(n,we))}-${t}`);const a=H0(r,e);return a&&(t+=a),t}function d1(n,e="auto"){let t=`${au(y(n,we))}-${Wt(y(n,Ee))}`;const r=Xn(y(n,X));(e==="always"||e==="critical"||r!=="iso8601")&&(t+=`-${Wt(y(n,Re))}`);const a=H0(r,e);return a&&(t+=a),t}function m1(n,e,t="auto",r="auto",a="auto",s){let u=y(n,fr);if(s){const{unit:g,increment:v,roundingMode:w}=s,b=up(y(n,ze),v,g,w);u=new(pe("%Temporal.Instant%"))(b)}const c=y(n,Ct),f=ci(c,u,"iso8601");let d=`${au(y(f,we))}-${Wt(y(f,Ee))}-${Wt(y(f,Re))}T${Wt(y(f,Qe))}:${Wt(y(f,Ze))}${Kp(y(f,Xe),y(f,We),y(f,Je),y(f,et),e)}`;return a!=="never"&&(d+=hS(ca(c,u))),r!=="never"&&(d+=`[${r==="critical"?"!":""}${_f(c)}]`),d+=q0(y(n,X),t),d}function rc(n){return CS.test(Pf(n))}function zs(n){const e=CS.exec(Pf(n));if(!e)throw new RangeError(`invalid time zone offset: ${n}`);return(e[1]==="-"||e[1]==="−"?-1:1)*(1e9*(60*(60*+e[2]+ +(e[3]||0))+ +(e[4]||0))+ +((e[5]||0)+"000000000").slice(0,9))}function e_(n){return rc(n)?Qp(zs(n)):tS(Pf(n)).resolvedOptions().timeZone}function Io(n,e){const{year:t,month:r,day:a,hour:s,minute:u,second:c,millisecond:f,microsecond:d,nanosecond:g}=dS(n,e),v=t%400,w=(t-v)/400,b=_.multiply(_.BigInt(146097),$a),R=js(v,r,a,s,u,c,f,d,g),C=_.add(R,_.multiply(b,_.BigInt(w)));return _.toNumber(_.subtract(C,e))}function Qp(n){const e=n<0?"-":"+",t=Yt(n),r=t%1e9,a=Jr(t/1e9)%60,s=Jr(t/6e10)%60,u=Wt(Jr(t/36e11)),c=Wt(s),f=Wt(a);let d="";if(r){let g=`${r}`.padStart(9,"0");for(;g[g.length-1]==="0";)g=g.slice(0,-1);d=`:${f}.${g}`}else a&&(d=`:${f}`);return`${e}${u}:${c}${d}`}function hS(n){let e=_.toNumber(si(_.BigInt(n),WA,"halfExpand"));const t=e<0?"-":"+";e=Yt(e);const r=e/6e10%60;return`${t}${Wt(Jr(e/36e11))}:${Wt(r)}`}function js(n,e,t,r,a,s,u,c,f){const d=new Date;d.setUTCHours(r,a,s,u),d.setUTCFullYear(n,e-1,t);const g=d.getTime();if(Lp(g))return null;let v=_.multiply(_.BigInt(g),bi);return v=_.add(v,_.multiply(_.BigInt(c),Tt)),v=_.add(v,_.BigInt(f)),_.lessThan(v,gf)||_.greaterThan(v,yc)?null:v}function fS(n){const{quotient:e,remainder:t}=gn(n,bi);let r=_.toNumber(e),a=_.toNumber(t);a<0&&(a+=1e6,r-=1);const s=Jr(a/1e3)%1e3,u=a%1e3,c=new Date(r);return{epochMilliseconds:r,year:c.getUTCFullYear(),month:c.getUTCMonth()+1,day:c.getUTCDate(),hour:c.getUTCHours(),minute:c.getUTCMinutes(),second:c.getUTCSeconds(),millisecond:c.getUTCMilliseconds(),microsecond:s,nanosecond:u}}function dS(n,e){const{epochMilliseconds:t,millisecond:r,microsecond:a,nanosecond:s}=fS(e),{year:u,month:c,day:f,hour:d,minute:g,second:v}=function(b,R){const C=tS(b).format(new Date(R));return function(M){const N=M.split(/[^\w]+/);if(N.length!==7)throw new RangeError(`expected 7 parts in "${M}`);const V=+N[0],$=+N[1];let L=+N[2];const Y=N[3].toUpperCase();if(Y==="B"||Y==="BC")L=1-L;else if(Y!=="A"&&Y!=="AD")throw new RangeError(`Unknown era ${Y} in "${M}`);let x=+N[4];x===24&&(x=0);const I=+N[5],O=+N[6];if(!(Or(L)&&Or(V)&&Or($)&&Or(x)&&Or(I)&&Or(O)))throw new RangeError(`Invalid number in "${M}`);return{year:L,month:V,day:$,hour:x,minute:I,second:O}}(C)}(n,t);return t_(u,c,f,d,g,v,r,a,s)}function p1(n,e){return _.lessThan(n,e)?e:n}function mS(){return _.add(u_(),sN)}function pS(n,e){if(_.lessThan(e,ac))return pS(n,ac);const t=_.add(e,JA),r=p1(mS(),t);let a=p1(ac,e);const s=Io(n,a);let u=a,c=s;for(;s===c&&_.lessThan(_.BigInt(a),r);){if(u=_.add(a,eS),_.greaterThan(u,yc))return null;c=Io(n,u),s===c&&(a=u)}return s===c?null:DS(f=>Io(n,f),a,u,s,c)}function Jv(n,e){const t=mS(),r=_.greaterThan(e,t),a=r?_.subtract(e,JA):ac;if(n==="Africa/Casablanca"||n==="Africa/El_Aaiun"){const d=y(sa("2088-01-01T00Z"),ze);if(_.lessThan(d,e))return Jv(n,d)}let s=_.subtract(e,kc);if(_.lessThan(s,ac))return null;const u=Io(n,s);let c=s,f=u;for(;u===f&&_.greaterThan(s,a);){if(c=_.subtract(s,eS),_.lessThan(c,ac))return null;f=Io(n,c),u===f&&(s=c)}if(u===f){if(r){const d=_.subtract(t,$a);return Jv(n,d)}return null}return DS(d=>Io(n,d),c,s,f,u)}function Bs(n){return n===void 0?!1:n%4==0&&(n%100!=0||n%400==0)}function Oo(n,e){return{standard:[31,28,31,30,31,30,31,31,30,31,30,31],leapyear:[31,29,31,30,31,30,31,31,30,31,30,31]}[Bs(n)?"leapyear":"standard"][e-1]}function e0(n,e,t){const r=e+(e<3?10:-2),a=n-(e<3?1:0),s=Jr(a/100),u=a-100*s,c=(t+Jr(2.6*r-.2)+(u+Jr(u/4))+(Jr(s/4)-2*s))%7;return c+(c<=0?7:0)}function sp(n,e,t){let r=t;for(let a=e-1;a>0;a--)r+=Oo(n,a);return r}function g1(n,e,t){const r=sp(n,e,t),a=e0(n,e,t)||7,s=e0(n,1,1),u=Jr((r-a+10)/7);return u<1?s===5||s===6&&Bs(n-1)?{week:53,year:n-1}:{week:52,year:n-1}:u===53&&(Bs(n)?366:365)-r<4-a?{week:1,year:n+1}:{week:u,year:n}}function Va(n,e,t,r,a,s,u,c,f,d){for(const g of[n,e,t,r,a,s,u,c,f,d])if(g!==0)return g<0?-1:1;return 0}function Nm(n,e){let t=n,r=e;if(!Or(t)||!Or(r))throw new RangeError("infinity is out of range");return r-=1,t+=Jr(r/12),r%=12,r<0&&(r+=12),r+=1,{year:t,month:r}}function Zp(n,e,t){let r=n,a=e,s=t;if(!Or(s))throw new RangeError("infinity is out of range");({year:r,month:a}=Nm(r,a));const u=146097;if(Yt(s)>u){const d=Ll(s/u);r+=400*d,s-=d*u}let c=0,f=a>2?r:r-1;for(;c=Bs(f)?366:365,s<-c;)r-=1,f-=1,s+=c;for(f+=1;c=Bs(f)?366:365,s>c;)r+=1,f+=1,s-=c;for(;s<1;)({year:r,month:a}=Nm(r,a-1)),s+=Oo(r,a);for(;s>Oo(r,a);)s-=Oo(r,a),{year:r,month:a}=Nm(r,a+1);return{year:r,month:a,day:s}}function t_(n,e,t,r,a,s,u,c,f){const{deltaDays:d,hour:g,minute:v,second:w,millisecond:b,microsecond:R,nanosecond:C}=Ro(r,a,s,u,c,f),{year:D,month:M,day:N}=Zp(n,e,t+d);return{year:D,month:M,day:N,hour:g,minute:v,second:w,millisecond:b,microsecond:R,nanosecond:C}}function Ro(n,e,t,r,a,s){let u,c=_.BigInt(n),f=_.BigInt(e),d=_.BigInt(t),g=_.BigInt(r),v=_.BigInt(a),w=_.BigInt(s);return{quotient:u,remainder:w}=Ml(w,Tt),v=_.add(v,u),{quotient:u,remainder:v}=Ml(v,Tt),g=_.add(g,u),{quotient:u,remainder:g}=Ml(g,Tt),d=_.add(d,u),{quotient:u,remainder:d}=Ml(d,Pa),f=_.add(f,u),{quotient:u,remainder:f}=Ml(f,Pa),c=_.add(c,u),{quotient:u,remainder:c}=Ml(c,ZA),{deltaDays:_.toNumber(u),hour:_.toNumber(c),minute:_.toNumber(f),second:_.toNumber(d),millisecond:_.toNumber(g),microsecond:_.toNumber(v),nanosecond:_.toNumber(w)}}function Ec(n,e,t,r,a,s,u,c){const f=_.BigInt(n);let d=_.BigInt(u);n!==0&&(d=_.subtract(_.BigInt(u),_.BigInt(c)));const g=_.add(_.BigInt(e),_.multiply(f,_.BigInt(24))),v=_.add(_.BigInt(t),_.multiply(g,Pa)),w=_.add(_.BigInt(r),_.multiply(v,Pa)),b=_.add(_.BigInt(a),_.multiply(w,Tt)),R=_.add(_.BigInt(s),_.multiply(b,Tt));return _.add(_.BigInt(d),_.multiply(R,Tt))}function n_(n,e){const t=pe("%Temporal.Instant%"),r=gc(_.toNumber(n));let a=_.BigInt(n),s=864e11;if(r===0)return{days:0,nanoseconds:fn,dayLengthNs:s};if(!Ce(e)){let V;return{quotient:V,remainder:a}=gn(a,_.BigInt(s)),{days:_.toNumber(V),nanoseconds:a,dayLengthNs:s}}const u=y(e,ze),c=y(e,fr),f=_.add(u,a),d=new t(f),g=y(e,Ct),v=y(e,X),w=ci(g,c,v),b=ci(g,d,v);let{days:R}=o_(y(w,we),y(w,Ee),y(w,Re),y(w,Qe),y(w,Ze),y(w,Xe),y(w,We),y(w,Je),y(w,et),y(b,we),y(b,Ee),y(b,Re),y(b,Qe),y(b,Ze),y(b,Xe),y(b,We),y(b,Je),y(b,et),v,"day",pr(null)),C=Ai(c,g,v,0,0,0,R,0,0,0,0,0,0),D=_.BigInt(R);if(r===1)for(;_.greaterThan(D,fn)&&_.greaterThan(C,f);)D=_.subtract(D,kc),C=Ai(c,g,v,0,0,0,_.toNumber(D),0,0,0,0,0,0);a=_.subtract(f,C);let M=!1,N=new t(C);do{const V=Ai(N,g,v,0,0,0,r,0,0,0,0,0,0),$=y(N,ze);s=_.toNumber(_.subtract(V,$)),M=_.greaterThanOrEqual(_.multiply(_.subtract(a,_.BigInt(s)),_.BigInt(r)),fn),M&&(a=_.subtract(a,_.BigInt(s)),N=new t(V),D=_.add(D,_.BigInt(r)))}while(M);if(!wi(D)&&n1(D)!==r)throw new RangeError("Time zone or calendar converted nanoseconds into a number of days with the opposite sign");if(!wi(a)&&n1(a)!==r)throw ep(a)&&r===1?new Error("assert not reached"):new RangeError("Time zone or calendar ended up with a remainder of nanoseconds with the opposite sign");if(_.greaterThanOrEqual(oa(a),oa(_.BigInt(s))))throw new Error("assert not reached");return{days:_.toNumber(D),nanoseconds:a,dayLengthNs:Yt(s)}}function Zi(n,e,t,r,a,s,u,c,f){let d=gS(n,e,t,r,a,s,u,c,f);if(d==="positive overflow"||d==="negative overflow")throw new RangeError("Duration out of range");return d}function gS(n,e,t,r,a,s,u,c,f){let d,g,v,w,b,R,C=n;if(Ce(f)){const x=Ai(y(f,fr),y(f,Ct),y(f,X),0,0,0,C,e,t,r,a,s,u),I=y(f,ze);d=_.subtract(x,I)}else d=Ec(C,e,t,r,a,s,u,0);c==="year"||c==="month"||c==="week"||c==="day"?{days:C,nanoseconds:d}=n_(d,f):C=0;const D=_.lessThan(d,fn)?-1:1;switch(d=oa(d),g=v=w=b=R=fn,c){case"year":case"month":case"week":case"day":case"hour":({quotient:g,remainder:d}=gn(d,Tt)),{quotient:v,remainder:g}=gn(g,Tt),{quotient:w,remainder:v}=gn(v,Tt),{quotient:b,remainder:w}=gn(w,Pa),{quotient:R,remainder:b}=gn(b,Pa);break;case"minute":({quotient:g,remainder:d}=gn(d,Tt)),{quotient:v,remainder:g}=gn(g,Tt),{quotient:w,remainder:v}=gn(v,Tt),{quotient:b,remainder:w}=gn(w,Pa);break;case"second":({quotient:g,remainder:d}=gn(d,Tt)),{quotient:v,remainder:g}=gn(g,Tt),{quotient:w,remainder:v}=gn(v,Tt);break;case"millisecond":({quotient:g,remainder:d}=gn(d,Tt)),{quotient:v,remainder:g}=gn(g,Tt);break;case"microsecond":({quotient:g,remainder:d}=gn(d,Tt));break;case"nanosecond":break;default:throw new Error("assert not reached")}const M=_.toNumber(R)*D,N=_.toNumber(b)*D,V=_.toNumber(w)*D,$=_.toNumber(v)*D,L=_.toNumber(g)*D,Y=_.toNumber(d)*D;for(const x of[C,M,N,V,$,L,Y])if(!Or(x))return D===1?"positive overflow":"negative overflow";return{days:C,hours:M,minutes:N,seconds:V,milliseconds:$,microseconds:L,nanoseconds:Y}}function wm(n,e,t,r,a,s){const u=pe("%Temporal.Duration%"),c=Va(n,e,t,r,0,0,0,0,0,0);if(c===0)return{years:n,months:e,weeks:t,days:r};const f=_.BigInt(c);let d,g,v=_.BigInt(n),w=_.BigInt(e),b=_.BigInt(t),R=_.BigInt(r);s&&(g=Nt(s),d=y(g,X));const C=new u(c),D=new u(0,c),M=new u(0,0,c);switch(a){case"year":break;case"month":{if(!d)throw new RangeError("a starting point is required for months balancing");let N,V;for(typeof d!="string"&&(N=bt(d,"dateAdd"),V=bt(d,"dateUntil"));!wi(v);){const $=Qn(d,g,C,void 0,N),L=pr(null);L.largestUnit="month";const Y=Us(d,g,$,L,V),x=_.BigInt(y(Y,$n));g=$,w=_.add(w,x),v=_.subtract(v,f)}}break;case"week":{if(!d)throw new RangeError("a starting point is required for weeks balancing");const N=typeof d!="string"?bt(d,"dateAdd"):void 0;for(;!wi(v);){let V;({relativeTo:g,days:V}=hr(d,g,C,N)),R=_.add(R,_.BigInt(V)),v=_.subtract(v,f)}for(;!wi(w);){let V;({relativeTo:g,days:V}=hr(d,g,D,N)),R=_.add(R,_.BigInt(V)),w=_.subtract(w,f)}break}default:{if(wi(v)&&wi(w)&&wi(b))break;if(!d)throw new RangeError("a starting point is required for balancing calendar units");const N=typeof d!="string"?bt(d,"dateAdd"):void 0;for(;!wi(v);){let V;({relativeTo:g,days:V}=hr(d,g,C,N)),R=_.add(R,_.BigInt(V)),v=_.subtract(v,f)}for(;!wi(w);){let V;({relativeTo:g,days:V}=hr(d,g,D,N)),R=_.add(R,_.BigInt(V)),w=_.subtract(w,f)}for(;!wi(b);){let V;({relativeTo:g,days:V}=hr(d,g,M,N)),R=_.add(R,_.BigInt(V)),b=_.subtract(b,f)}break}}return{years:_.toNumber(v),months:_.toNumber(w),weeks:_.toNumber(b),days:_.toNumber(R)}}function y1(n,e,t,r,a){if(Ce(n)){const s=y(n,fr),u=y(n,Ct),c=y(n,X),f=ca(u,s),d=Ai(s,u,c,e,t,r,a,0,0,0,0,0,0);return ca(u,new(pe("%Temporal.Instant%"))(d))-f}return 0}function yS(n){return new(pe("%Temporal.Duration%"))(-y(n,wr),-y(n,$n),-y(n,zr),-y(n,Er),-y(n,br),-y(n,Rr),-y(n,Ar),-y(n,Sr),-y(n,Cr),-y(n,Dr))}function Xr(n,e,t){return eN(t,tN(e,n))}function vS(n,e,t){const r=Xr(e,1,12);return{year:n,month:r,day:Xr(t,1,Oo(n,r))}}function Zn(n,e,t){if(n<e||n>t)throw new RangeError(`value out of range: ${e} <= ${n} <= ${t}`)}function Fa(n,e,t){Zn(e,1,12),Zn(t,1,Oo(n,e))}function _S(n,e,t){TS(n,e,t,12,0,0,0,0,0)}function Xp(n,e,t,r,a,s){Zn(n,0,23),Zn(e,0,59),Zn(t,0,59),Zn(r,0,999),Zn(a,0,999),Zn(s,0,999)}function r_(n,e,t,r,a,s,u,c,f){Fa(n,e,t),Xp(r,a,s,u,c,f)}function TS(n,e,t,r,a,s,u,c,f){if(Zn(n,Wm,Jm),n===Wm&&js(n,e,t+1,r,a,s,u,c,f-1)==null||n===Jm&&js(n,e,t-1,r,a,s,u,c,f+1)==null)throw new RangeError("DateTime outside of supported range")}function kl(n){if(_.lessThan(n,gf)||_.greaterThan(n,yc))throw new RangeError("Instant outside of supported range")}function lp(n,e,t,r,a,s,u,c,f,d){const g=Va(n,e,t,r,a,s,u,c,f,d);for(const v of[n,e,t,r,a,s,u,c,f,d]){if(!Or(v))throw new RangeError("infinite values not allowed as duration fields");const w=gc(v);if(w!==0&&w!==g)throw new RangeError("mixed-sign values not allowed as duration fields")}}function i_(n,e,t,r,a,s,u){switch(u){case"year":case"month":{const c=-Cs(n,e,t,r,a,s);if(c===0)return{years:0,months:0,weeks:0,days:0};const f={year:n,month:e},d={year:r,month:a,day:s};let g=d.year-f.year,v=jl(n,e,t,g,0,0,0,"constrain"),w=-Cs(v.year,v.month,v.day,r,a,s);if(w===0)return u==="year"?{years:g,months:0,weeks:0,days:0}:{years:0,months:12*g,weeks:0,days:0};let b=d.month-f.month;if(w!==c&&(g-=c,b+=12*c),v=jl(n,e,t,g,b,0,0,"constrain"),w=-Cs(v.year,v.month,v.day,r,a,s),w===0)return u==="year"?{years:g,months:b,weeks:0,days:0}:{years:0,months:b+12*g,weeks:0,days:0};w!==c&&(b-=c,b===-c&&(g-=c,b=11*c),v=jl(n,e,t,g,b,0,0,"constrain"));let R=0;return R=v.month===d.month?d.day-v.day:c<0?-v.day-(Oo(d.year,d.month)-d.day):d.day+(Oo(v.year,v.month)-v.day),u==="month"&&(b+=12*g,g=0),{years:g,months:b,weeks:0,days:R}}case"week":case"day":{let c,f,d;Cs(n,e,t,r,a,s)<0?(f={year:n,month:e,day:t},c={year:r,month:a,day:s},d=1):(f={year:r,month:a,day:s},c={year:n,month:e,day:t},d=-1);let g=sp(c.year,c.month,c.day)-sp(f.year,f.month,f.day);for(let w=f.year;w<c.year;++w)g+=Bs(w)?366:365;let v=0;return u==="week"&&(v=Jr(g/7),g%=7),v*=d,g*=d,{years:0,months:0,weeks:v,days:g}}default:throw new Error("assert not reached")}}function wS(n,e,t,r,a,s,u,c,f,d,g,v){let w=u-n,b=c-e,R=f-t,C=d-r,D=g-a,M=v-s;const N=Va(0,0,0,0,w,b,R,C,D,M);w*=N,b*=N,R*=N,C*=N,D*=N,M*=N;let V=0;if({deltaDays:V,hour:w,minute:b,second:R,millisecond:C,microsecond:D,nanosecond:M}=Ro(w,b,R,C,D,M),V!=0)throw new Error("assertion failure in DifferenceTime: _bt_.[[Days]] should be 0");return w*=N,b*=N,R*=N,C*=N,D*=N,M*=N,{hours:w,minutes:b,seconds:R,milliseconds:C,microseconds:D,nanoseconds:M}}function a_(n,e,t,r,a,s){const u=_.subtract(e,n);let c=0,f=0,d=_.toNumber(_.remainder(u,Tt)),g=_.toNumber(_.remainder(_.divide(u,Tt),Tt)),v=_.toNumber(_.remainder(_.divide(u,bi),Tt)),w=_.toNumber(_.divide(u,La));return{hours:c,minutes:f,seconds:w,milliseconds:v,microseconds:g,nanoseconds:d}=ko(0,0,0,0,0,0,w,v,g,d,t,r,s),Zi(0,c,f,w,v,g,d,a)}function o_(n,e,t,r,a,s,u,c,f,d,g,v,w,b,R,C,D,M,N,V,$){let L=n,Y=e,x=t,{hours:I,minutes:O,seconds:z,milliseconds:j,microseconds:q,nanoseconds:U}=wS(r,a,s,u,c,f,w,b,R,C,D,M);const Se=Va(0,0,0,0,I,O,z,j,q,U);Cs(d,g,v,L,Y,x)===-Se&&({year:L,month:Y,day:x}=Zp(L,Y,x-Se),{hours:I,minutes:O,seconds:z,milliseconds:j,microseconds:q,nanoseconds:U}=Zi(-Se,I,O,z,j,q,U,V));const se=Ci(L,Y,x,N),re=Ci(d,g,v,N),de=Yl("day",V),ge=Zs($);ge.largestUnit=de;let{years:Pe,months:F,weeks:ae,days:ve}=Us(N,se,re,ge);return{days:ve,hours:I,minutes:O,seconds:z,milliseconds:j,microseconds:q,nanoseconds:U}=Zi(ve,I,O,z,j,q,U,V),{years:Pe,months:F,weeks:ae,days:ve,hours:I,minutes:O,seconds:z,milliseconds:j,microseconds:q,nanoseconds:U}}function ES(n,e,t,r,a,s){const u=_.subtract(e,n);if(_.equal(u,fn))return{years:0,months:0,weeks:0,days:0,hours:0,minutes:0,seconds:0,milliseconds:0,microseconds:0,nanoseconds:0};const c=pe("%Temporal.Instant%"),f=new c(n),d=new c(e),g=ci(t,f,r),v=ci(t,d,r);let{years:w,months:b,weeks:R,days:C}=o_(y(g,we),y(g,Ee),y(g,Re),y(g,Qe),y(g,Ze),y(g,Xe),y(g,We),y(g,Je),y(g,et),y(v,we),y(v,Ee),y(v,Re),y(v,Qe),y(v,Ze),y(v,Xe),y(v,We),y(v,Je),y(v,et),r,a,s);const D=Ai(f,t,r,w,b,R,0,0,0,0,0,0,0);let M=_.subtract(e,D);const N=Kn(D,t,r);({nanoseconds:M,days:C}=n_(M,N));const{hours:V,minutes:$,seconds:L,milliseconds:Y,microseconds:x,nanoseconds:I}=Zi(0,0,0,0,0,0,_.toNumber(M),"hour");return{years:w,months:b,weeks:R,days:C,hours:V,minutes:$,seconds:L,milliseconds:Y,microseconds:x,nanoseconds:I}}function zc(n,e,t,r,a,s){const u=Lf.reduce((b,R)=>{const C=R[0],D=R[1],M=R[2];return t!=="datetime"&&M!==t||r.includes(D)||b.push(D,C),b},[]);let c=ei(e,"largestUnit",t,"auto");if(r.includes(c))throw new RangeError(`largestUnit must be one of ${u.join(", ")}, not ${c}`);const f=Lc(e);let d=ua(e,"trunc");n==="since"&&(d=function(R){switch(R){case"ceil":return"floor";case"floor":return"ceil";case"halfCeil":return"halfFloor";case"halfFloor":return"halfCeil";default:return R}}(d));const g=ei(e,"smallestUnit",t,a);if(r.includes(g))throw new RangeError(`smallestUnit must be one of ${u.join(", ")}, not ${g}`);const v=Yl(s,g);if(c==="auto"&&(c=v),Yl(c,g)!==c)throw new RangeError(`largestUnit ${c} cannot be smaller than smallestUnit ${g}`);const w={hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[g];return w!==void 0&&Vc(f,w,!1),{largestUnit:c,roundingIncrement:f,roundingMode:d,smallestUnit:g}}function v1(n,e,t,r){const a=n==="since"?-1:1,s=sa(t),u=zc(n,Zs(r),"time",[],"nanosecond","second"),c=y(e,ze),f=y(s,ze);let{hours:d,minutes:g,seconds:v,milliseconds:w,microseconds:b,nanoseconds:R}=a_(c,f,u.roundingIncrement,u.smallestUnit,u.largestUnit,u.roundingMode);return new(pe("%Temporal.Duration%"))(0,0,0,0,a*d,a*g,a*v,a*w,a*b,a*R)}function _1(n,e,t,r){const a=n==="since"?-1:1,s=Nt(t),u=y(e,X);Gp(u,y(s,X),"compute difference between dates");const c=Zs(r),f=zc(n,c,"date",[],"day","day");c.largestUnit=f.largestUnit;let{years:d,months:g,weeks:v,days:w}=Us(u,e,s,c);return f.smallestUnit==="day"&&f.roundingIncrement===1||({years:d,months:g,weeks:v,days:w}=ko(d,g,v,w,0,0,0,0,0,0,f.roundingIncrement,f.smallestUnit,f.roundingMode,e)),new(pe("%Temporal.Duration%"))(a*d,a*g,a*v,a*w,0,0,0,0,0,0)}function T1(n,e,t,r){const a=n==="since"?-1:1,s=Vl(t),u=y(e,X);Gp(u,y(s,X),"compute difference between dates");const c=Zs(r),f=zc(n,c,"datetime",[],"nanosecond","day");let{years:d,months:g,weeks:v,days:w,hours:b,minutes:R,seconds:C,milliseconds:D,microseconds:M,nanoseconds:N}=o_(y(e,we),y(e,Ee),y(e,Re),y(e,Qe),y(e,Ze),y(e,Xe),y(e,We),y(e,Je),y(e,et),y(s,we),y(s,Ee),y(s,Re),y(s,Qe),y(s,Ze),y(s,Xe),y(s,We),y(s,Je),y(s,et),u,f.largestUnit,c);const V=wc(e);return{years:d,months:g,weeks:v,days:w,hours:b,minutes:R,seconds:C,milliseconds:D,microseconds:M,nanoseconds:N}=ko(d,g,v,w,b,R,C,D,M,N,f.roundingIncrement,f.smallestUnit,f.roundingMode,V),{days:w,hours:b,minutes:R,seconds:C,milliseconds:D,microseconds:M,nanoseconds:N}=Zi(w,b,R,C,D,M,N,f.largestUnit),new(pe("%Temporal.Duration%"))(a*d,a*g,a*v,a*w,a*b,a*R,a*C,a*D,a*M,a*N)}function w1(n,e,t,r){const a=n==="since"?-1:1,s=Ao(t),u=zc(n,Zs(r),"time",[],"nanosecond","hour");let{hours:c,minutes:f,seconds:d,milliseconds:g,microseconds:v,nanoseconds:w}=wS(y(e,Qe),y(e,Ze),y(e,Xe),y(e,We),y(e,Je),y(e,et),y(s,Qe),y(s,Ze),y(s,Xe),y(s,We),y(s,Je),y(s,et));return{hours:c,minutes:f,seconds:d,milliseconds:g,microseconds:v,nanoseconds:w}=ko(0,0,0,0,c,f,d,g,v,w,u.roundingIncrement,u.smallestUnit,u.roundingMode),{hours:c,minutes:f,seconds:d,milliseconds:g,microseconds:v,nanoseconds:w}=Zi(0,c,f,d,g,v,w,u.largestUnit),new(pe("%Temporal.Duration%"))(0,0,0,0,a*c,a*f,a*d,a*g,a*v,a*w)}function E1(n,e,t,r){const a=n==="since"?-1:1,s=Jh(t),u=y(e,X);Gp(u,y(s,X),"compute difference between months");const c=Zs(r),f=zc(n,c,"date",["week","day"],"month","year");c.largestUnit=f.largestUnit;const d=En(u,["monthCode","year"]),g=it(e,d,[]);g.day=1;const v=No(u,g),w=it(s,d,[]);w.day=1;const b=No(u,w);let{years:R,months:C}=Us(u,v,b,c);return f.smallestUnit==="month"&&f.roundingIncrement===1||({years:R,months:C}=ko(R,C,0,0,0,0,0,0,0,0,f.roundingIncrement,f.smallestUnit,f.roundingMode,v)),new(pe("%Temporal.Duration%"))(a*R,a*C,0,0,0,0,0,0,0,0)}function b1(n,e,t,r){const a=n==="since"?-1:1,s=ef(t),u=y(e,X);Gp(u,y(s,X),"compute difference between dates");const c=Zs(r),f=zc(n,c,"datetime",[],"nanosecond","hour");c.largestUnit=f.largestUnit;const d=y(e,ze),g=y(s,ze);let v,w,b,R,C,D,M,N,V,$;if(f.largestUnit!=="year"&&f.largestUnit!=="month"&&f.largestUnit!=="week"&&f.largestUnit!=="day")v=0,w=0,b=0,R=0,{hours:C,minutes:D,seconds:M,milliseconds:N,microseconds:V,nanoseconds:$}=a_(d,g,f.roundingIncrement,f.smallestUnit,f.largestUnit,f.roundingMode);else{const L=y(e,Ct);if(!uS(L,y(s,Ct)))throw new RangeError("When calculating difference between time zones, largestUnit must be 'hours' or smaller because day lengths can vary between time zones due to DST or time zone offset changes.");({years:v,months:w,weeks:b,days:R,hours:C,minutes:D,seconds:M,milliseconds:N,microseconds:V,nanoseconds:$}=ES(d,g,L,u,f.largestUnit,c)),{years:v,months:w,weeks:b,days:R,hours:C,minutes:D,seconds:M,milliseconds:N,microseconds:V,nanoseconds:$}=ko(v,w,b,R,C,D,M,N,V,$,f.roundingIncrement,f.smallestUnit,f.roundingMode,e),{years:v,months:w,weeks:b,days:R,hours:C,minutes:D,seconds:M,milliseconds:N,microseconds:V,nanoseconds:$}=SS(v,w,b,R,C,D,M,N,V,$,f.roundingIncrement,f.smallestUnit,f.roundingMode,e)}return new(pe("%Temporal.Duration%"))(a*v,a*w,a*b,a*R,a*C,a*D,a*M,a*N,a*V,a*$)}function jl(n,e,t,r,a,s,u,c){let f=n,d=e,g=t,v=s,w=u;return f+=r,d+=a,{year:f,month:d}=Nm(f,d),{year:f,month:d,day:g}=np(f,d,g,c),w+=7*v,g+=w,{year:f,month:d,day:g}=Zp(f,d,g),{year:f,month:d,day:g}}function bS(n,e,t,r,a,s,u,c,f,d,g,v){let w=n,b=e,R=t,C=r,D=a,M=s;w+=u,b+=c,R+=f,C+=d,D+=g,M+=v;let N=0;return{deltaDays:N,hour:w,minute:b,second:R,millisecond:C,microsecond:D,nanosecond:M}=Ro(w,b,R,C,D,M),{deltaDays:N,hour:w,minute:b,second:R,millisecond:C,microsecond:D,nanosecond:M}}function RS(n,e,t,r,a,s,u,c,f,d,g,v,w,b,R,C,D,M,N,V,$){const L=Yl(Xv(n,e,t,r,a,s,u,c,f,d),Xv(g,v,w,b,R,C,D,M,N,V));let Y,x,I,O,z,j,q,U,Se,se;if($)if(st($)){const re=pe("%Temporal.Duration%"),de=y($,X),ge=new re(n,e,t,r,0,0,0,0,0,0),Pe=new re(g,v,w,b,0,0,0,0,0,0),F=typeof de!="string"?bt(de,"dateAdd"):void 0,ae=Qn(de,$,ge,void 0,F),ve=Qn(de,ae,Pe,void 0,F),ye=Yl("day",L),_e=pr(null);_e.largestUnit=ye,{years:Y,months:x,weeks:I,days:O}=Us(de,$,ve,_e),{days:O,hours:z,minutes:j,seconds:q,milliseconds:U,microseconds:Se,nanoseconds:se}=Zi(O,_.add(_.BigInt(a),_.BigInt(R)),_.add(_.BigInt(s),_.BigInt(C)),_.add(_.BigInt(u),_.BigInt(D)),_.add(_.BigInt(c),_.BigInt(M)),_.add(_.BigInt(f),_.BigInt(N)),_.add(_.BigInt(d),_.BigInt(V)),L)}else{const re=pe("%Temporal.Instant%"),de=y($,Ct),ge=y($,X),Pe=Ai(y($,fr),de,ge,n,e,t,r,a,s,u,c,f,d),F=Ai(new re(Pe),de,ge,g,v,w,b,R,C,D,M,N,V);L!=="year"&&L!=="month"&&L!=="week"&&L!=="day"?(Y=0,x=0,I=0,O=0,{hours:z,minutes:j,seconds:q,milliseconds:U,microseconds:Se,nanoseconds:se}=a_(y($,ze),F,1,"nanosecond",L,"halfExpand")):{years:Y,months:x,weeks:I,days:O,hours:z,minutes:j,seconds:q,milliseconds:U,microseconds:Se,nanoseconds:se}=ES(y($,ze),F,de,ge,L,pr(null))}else{if(L==="year"||L==="month"||L==="week")throw new RangeError("relativeTo is required for years, months, or weeks arithmetic");Y=x=I=0,{days:O,hours:z,minutes:j,seconds:q,milliseconds:U,microseconds:Se,nanoseconds:se}=Zi(r+b,_.add(_.BigInt(a),_.BigInt(R)),_.add(_.BigInt(s),_.BigInt(C)),_.add(_.BigInt(u),_.BigInt(D)),_.add(_.BigInt(c),_.BigInt(M)),_.add(_.BigInt(f),_.BigInt(N)),_.add(_.BigInt(d),_.BigInt(V)),L)}return lp(Y,x,I,O,z,j,q,U,Se,se),{years:Y,months:x,weeks:I,days:O,hours:z,minutes:j,seconds:q,milliseconds:U,microseconds:Se,nanoseconds:se}}function t0(n,e,t,r,a,s,u){let c=fn;c=_.add(c,_.BigInt(u)),c=_.add(c,_.multiply(_.BigInt(s),Tt)),c=_.add(c,_.multiply(_.BigInt(a),bi)),c=_.add(c,_.multiply(_.BigInt(r),La)),c=_.add(c,_.multiply(_.BigInt(t),_.BigInt(6e10))),c=_.add(c,_.multiply(_.BigInt(e),_.BigInt(36e11)));const f=_.add(n,c);return kl(f),f}function n0(n,e,t,r,a,s,u,c,f,d,g,v,w,b,R,C,D,M,N,V,$){let L=b,{deltaDays:Y,hour:x,minute:I,second:O,millisecond:z,microsecond:j,nanosecond:q}=bS(r,a,s,u,c,f,R,C,D,M,N,V);L+=Y;const U=pe("%Temporal.Duration%"),Se=Qn(d,Ci(n,e,t,d),new U(g,v,w,L,0,0,0,0,0,0),$);return{year:y(Se,we),month:y(Se,Ee),day:y(Se,Re),hour:x,minute:I,second:O,millisecond:z,microsecond:j,nanosecond:q}}function Ai(n,e,t,r,a,s,u,c,f,d,g,v,w,b){const R=pe("%Temporal.Duration%");if(Va(r,a,s,u,0,0,0,0,0,0)===0)return t0(y(n,ze),c,f,d,g,v,w);const C=ci(e,n,t),D=Qn(t,Ci(y(C,we),y(C,Ee),y(C,Re),t),new R(r,a,s,u,0,0,0,0,0,0),b),M=Zr(y(D,we),y(D,Ee),y(D,Re),y(C,Qe),y(C,Ze),y(C,Xe),y(C,We),y(C,Je),y(C,et),t);return t0(y(Mr(e,M,"compatible"),ze),c,f,d,g,v,w)}function R1(n,e,t,r){const a=n==="subtract"?-1:1;let{years:s,months:u,weeks:c,days:f,hours:d,minutes:g,seconds:v,milliseconds:w,microseconds:b,nanoseconds:R}=iu(t);const C=xm(ut(r));return{years:s,months:u,weeks:c,days:f,hours:d,minutes:g,seconds:v,milliseconds:w,microseconds:b,nanoseconds:R}=RS(y(e,wr),y(e,$n),y(e,zr),y(e,Er),y(e,br),y(e,Rr),y(e,Ar),y(e,Sr),y(e,Cr),y(e,Dr),a*s,a*u,a*c,a*f,a*d,a*g,a*v,a*w,a*b,a*R,C),new(pe("%Temporal.Duration%"))(s,u,c,f,d,g,v,w,b,R)}function A1(n,e,t){const r=n==="subtract"?-1:1,{hours:a,minutes:s,seconds:u,milliseconds:c,microseconds:f,nanoseconds:d}=function(w,b){let R=iu(w);for(const C of b)if(R[C]!==0)throw new RangeError(`Duration field ${C} not supported by Temporal.Instant. Try Temporal.ZonedDateTime instead.`);return R}(t,["years","months","weeks","days"]),g=t0(y(e,ze),r*a,r*s,r*u,r*c,r*f,r*d);return new(pe("%Temporal.Instant%"))(g)}function S1(n,e,t,r){const a=n==="subtract"?-1:1,{years:s,months:u,weeks:c,days:f,hours:d,minutes:g,seconds:v,milliseconds:w,microseconds:b,nanoseconds:R}=iu(t),C=ut(r),D=y(e,X),{year:M,month:N,day:V,hour:$,minute:L,second:Y,millisecond:x,microsecond:I,nanosecond:O}=n0(y(e,we),y(e,Ee),y(e,Re),y(e,Qe),y(e,Ze),y(e,Xe),y(e,We),y(e,Je),y(e,et),D,a*s,a*u,a*c,a*f,a*d,a*g,a*v,a*w,a*b,a*R,C);return Zr(M,N,V,$,L,Y,x,I,O,D)}function C1(n,e,t){const r=n==="subtract"?-1:1,{hours:a,minutes:s,seconds:u,milliseconds:c,microseconds:f,nanoseconds:d}=iu(t);let{hour:g,minute:v,second:w,millisecond:b,microsecond:R,nanosecond:C}=bS(y(e,Qe),y(e,Ze),y(e,Xe),y(e,We),y(e,Je),y(e,et),r*a,r*s,r*u,r*c,r*f,r*d);return{hour:g,minute:v,second:w,millisecond:b,microsecond:R,nanosecond:C}=Up(g,v,w,b,R,C,"reject"),new(pe("%Temporal.PlainTime%"))(g,v,w,b,R,C)}function D1(n,e,t,r){let a=iu(t);n==="subtract"&&(a={years:-a.years,months:-a.months,weeks:-a.weeks,days:-a.days,hours:-a.hours,minutes:-a.minutes,seconds:-a.seconds,milliseconds:-a.milliseconds,microseconds:-a.microseconds,nanoseconds:-a.nanoseconds});let{years:s,months:u,weeks:c,days:f,hours:d,minutes:g,seconds:v,milliseconds:w,microseconds:b,nanoseconds:R}=a;({days:f}=Zi(f,d,g,v,w,b,R,"day"));const C=ut(r),D=y(e,X),M=En(D,["monthCode","year"]),N=it(e,M,[]),V=pr(null);oc(V,N,[]),N.day=1;let $=No(D,N);const L=Va(s,u,c,f,0,0,0,0,0,0),Y=bt(D,"dateAdd"),x=pe("%Temporal.Duration%");if(L<0){const z=Qn(D,$,new x(0,1,0,0,0,0,0,0,0,0),void 0,Y),j=Qn(D,z,new x(0,0,0,-1,0,0,0,0,0,0),void 0,Y);V.day=$f(D,j),$=No(D,V)}const I=new x(s,u,c,f,0,0,0,0,0,0),O=Zs(C);return Kl(D,it(Qn(D,$,I,C,Y),M,[]),O)}function I1(n,e,t,r){const a=n==="subtract"?-1:1,{years:s,months:u,weeks:c,days:f,hours:d,minutes:g,seconds:v,milliseconds:w,microseconds:b,nanoseconds:R}=iu(t),C=ut(r),D=y(e,Ct),M=y(e,X);return Kn(Ai(y(e,fr),D,M,a*s,a*u,a*c,a*f,a*d,a*g,a*v,a*w,a*b,a*R,C),D,M)}function si(n,e,t){if(_.equal(e,kc))return n;let{quotient:r,remainder:a}=gn(n,e);if(_.equal(a,fn))return n;const s=_.lessThan(a,fn)?-1:1,u=oa(_.multiply(a,_.BigInt(2))),c=_.equal(u,e),f=_.greaterThan(u,e);switch(t){case"ceil":s>0&&(r=_.add(r,_.BigInt(s)));break;case"floor":s<0&&(r=_.add(r,_.BigInt(s)));break;case"expand":r=_.add(r,_.BigInt(s));break;case"trunc":break;case"halfCeil":(f||c&&s>0)&&(r=_.add(r,_.BigInt(s)));break;case"halfFloor":(f||c&&s<0)&&(r=_.add(r,_.BigInt(s)));break;case"halfExpand":(f||c)&&(r=_.add(r,_.BigInt(s)));break;case"halfTrunc":f&&(r=_.add(r,_.BigInt(s)));break;case"halfEven":(f||c&&_.toNumber(_.remainder(oa(r),_.BigInt(2)))===1)&&(r=_.add(r,_.BigInt(s)))}return _.multiply(r,e)}function up(n,e,t,r){let{remainder:a}=Ml(n,$a);const s=_.subtract(n,a),u=si(a,_.BigInt(IS[t]*e),r);return _.add(s,u)}function s_(n,e,t,r,a,s,u,c,f,d,g,v,w=864e11){const{deltaDays:b,hour:R,minute:C,second:D,millisecond:M,microsecond:N,nanosecond:V}=l_(r,a,s,u,c,f,d,g,v,w),{year:$,month:L,day:Y}=Zp(n,e,t+b);return{year:$,month:L,day:Y,hour:R,minute:C,second:D,millisecond:M,microsecond:N,nanosecond:V}}function l_(n,e,t,r,a,s,u,c,f,d=864e11){let g=fn;switch(c){case"day":case"hour":g=_.BigInt(n);case"minute":g=_.add(_.multiply(g,Pa),_.BigInt(e));case"second":g=_.add(_.multiply(g,Pa),_.BigInt(t));case"millisecond":g=_.add(_.multiply(g,Tt),_.BigInt(r));case"microsecond":g=_.add(_.multiply(g,Tt),_.BigInt(a));case"nanosecond":g=_.add(_.multiply(g,Tt),_.BigInt(s))}const v=c==="day"?d:IS[c],w=si(g,_.BigInt(v*u),f),b=_.toNumber(_.divide(w,_.BigInt(v)));switch(c){case"day":return{deltaDays:b,hour:0,minute:0,second:0,millisecond:0,microsecond:0,nanosecond:0};case"hour":return Ro(b,0,0,0,0,0);case"minute":return Ro(n,b,0,0,0,0);case"second":return Ro(n,e,b,0,0,0);case"millisecond":return Ro(n,e,t,b,0,0);case"microsecond":return Ro(n,e,t,r,b,0);case"nanosecond":return Ro(n,e,t,r,a,b);default:throw new Error(`Invalid unit ${c}`)}}function km(n,e){return i_(y(n,we),y(n,Ee),y(n,Re),y(e,we),y(e,Ee),y(e,Re),"day").days}function hr(n,e,t,r){const a=Qn(n,e,t,void 0,r);return{relativeTo:a,days:km(e,a)}}function AS(n,e,t,r,a){const s=y(n,Ct),u=y(n,X);return Kn(Ai(y(n,fr),s,u,e,t,r,a,0,0,0,0,0,0),s,u)}function SS(n,e,t,r,a,s,u,c,f,d,g,v,w,b){let R=n,C=e,D=t,M=r,N=a,V=s,$=u,L=c,Y=f,x=d;if(!Ce(b)||v==="year"||v==="month"||v==="week"||v==="day"||v==="nanosecond"&&g===1)return{years:R,months:C,weeks:D,days:M,hours:N,minutes:V,seconds:$,milliseconds:L,microseconds:Y,nanoseconds:x};let I=Ec(0,N,V,$,L,Y,x,0);const O=gc(_.toNumber(I)),z=y(b,Ct),j=y(b,X),q=Ai(y(b,fr),z,j,R,C,D,M,0,0,0,0,0,0),U=Ai(new(pe("%Temporal.Instant%"))(q),z,j,0,0,0,O,0,0,0,0,0,0),Se=_.subtract(U,q);return _.greaterThanOrEqual(_.multiply(_.subtract(I,Se),_.BigInt(O)),fn)&&({years:R,months:C,weeks:D,days:M}=RS(R,C,D,M,0,0,0,0,0,0,0,0,0,O,0,0,0,0,0,0,b),I=up(_.subtract(I,Se),g,v,w),{hours:N,minutes:V,seconds:$,milliseconds:L,microseconds:Y,nanoseconds:x}=Zi(0,0,0,0,0,0,_.toNumber(I),"hour")),{years:R,months:C,weeks:D,days:M,hours:N,minutes:V,seconds:$,milliseconds:L,microseconds:Y,nanoseconds:x}}function ko(n,e,t,r,a,s,u,c,f,d,g,v,w,b){let R=n,C=e,D=t,M=r,N=a,V=s,$=u,L=c,Y=f,x=_.BigInt(d);const I=pe("%Temporal.Duration%");let O,z,j,q,U=b;if(U){if(Ce(U))z=U,U=Nt(U);else if(!st(U))throw new TypeError("starting point must be PlainDate or ZonedDateTime");O=y(U,X)}if(v==="year"||v==="month"||v==="week"||v==="day"){let Se,se,re;x=Ec(0,N,V,$,L,Y,d,0),z&&(Se=AS(z,R,C,D,M)),{days:se,nanoseconds:x,dayLengthNs:re}=n_(x,Se),j=_.BigInt(re),M+=se,N=V=$=L=Y=0}switch(v){case"year":{if(!O)throw new RangeError("A starting point is required for years rounding");const Se=new I(R),se=typeof O!="string"?bt(O,"dateAdd"):void 0,re=Qn(O,U,Se,void 0,se),de=Qn(O,U,new I(R,C,D),void 0,se);U=re,M+=km(re,de);const ge=Qn(O,U,new I(0,0,0,M),void 0,se),Pe=pr(null);Pe.largestUnit="year";const F=Us(O,U,ge,Pe).years;R+=F;const ae=U;U=Qn(O,U,new I(F),void 0,se),M-=km(ae,U);const ve=new I(M<0?-1:1);let{days:ye}=hr(O,U,ve,se);ye=Yt(ye);const _e=_.multiply(_.BigInt(ye),j);x=_.add(_.add(_.multiply(_e,_.BigInt(R)),_.multiply(_.BigInt(M),j)),x);const Le=si(x,_.multiply(_e,_.BigInt(g)),w);q=Oa(x,_e),R=_.toNumber(_.divide(Le,_e)),x=fn,C=D=M=0;break}case"month":{if(!O)throw new RangeError("A starting point is required for months rounding");const Se=new I(R,C),se=typeof O!="string"?bt(O,"dateAdd"):void 0,re=Qn(O,U,Se,void 0,se),de=Qn(O,U,new I(R,C,D),void 0,se);U=re,M+=km(re,de);const ge=gc(M),Pe=new I(0,M<0?-1:1);let F;for({relativeTo:U,days:F}=hr(O,U,Pe,se);Yt(M)>=Yt(F);)C+=ge,M-=F,{relativeTo:U,days:F}=hr(O,U,Pe,se);F=Yt(F);const ae=_.multiply(_.BigInt(F),j);x=_.add(_.add(_.multiply(ae,_.BigInt(C)),_.multiply(_.BigInt(M),j)),x);const ve=si(x,_.multiply(ae,_.BigInt(g)),w);q=Oa(x,ae),C=_.toNumber(_.divide(ve,ae)),x=fn,D=M=0;break}case"week":{if(!O)throw new RangeError("A starting point is required for weeks rounding");const Se=gc(M),se=new I(0,0,M<0?-1:1),re=typeof O!="string"?bt(O,"dateAdd"):void 0;let de;for({relativeTo:U,days:de}=hr(O,U,se,re);Yt(M)>=Yt(de);)D+=Se,M-=de,{relativeTo:U,days:de}=hr(O,U,se,re);de=Yt(de);const ge=_.multiply(_.BigInt(de),j);x=_.add(_.add(_.multiply(ge,_.BigInt(D)),_.multiply(_.BigInt(M),j)),x);const Pe=si(x,_.multiply(ge,_.BigInt(g)),w);q=Oa(x,ge),D=_.toNumber(_.divide(Pe,ge)),x=fn,M=0;break}case"day":{const Se=j;x=_.add(_.multiply(Se,_.BigInt(M)),x);const se=si(x,_.multiply(Se,_.BigInt(g)),w);q=Oa(x,Se),M=_.toNumber(_.divide(se,Se)),x=fn;break}case"hour":{let se=_.multiply(_.BigInt(N),_.BigInt(36e11));se=_.add(se,_.multiply(_.BigInt(V),_.BigInt(6e10))),se=_.add(se,_.multiply(_.BigInt($),La)),se=_.add(se,_.multiply(_.BigInt(L),bi)),se=_.add(se,_.multiply(_.BigInt(Y),Tt)),se=_.add(se,x),q=Oa(se,_.BigInt(36e11));const re=si(se,_.BigInt(36e11*g),w);N=_.toNumber(_.divide(re,_.BigInt(36e11))),x=fn,V=$=L=Y=0;break}case"minute":{let se=_.multiply(_.BigInt(V),_.BigInt(6e10));se=_.add(se,_.multiply(_.BigInt($),La)),se=_.add(se,_.multiply(_.BigInt(L),bi)),se=_.add(se,_.multiply(_.BigInt(Y),Tt)),se=_.add(se,x),q=Oa(se,_.BigInt(6e10));const re=si(se,_.BigInt(6e10*g),w);V=_.toNumber(_.divide(re,_.BigInt(6e10))),x=fn,$=L=Y=0;break}case"second":{let se=_.multiply(_.BigInt($),La);se=_.add(se,_.multiply(_.BigInt(L),bi)),se=_.add(se,_.multiply(_.BigInt(Y),Tt)),se=_.add(se,x),q=Oa(se,_.BigInt(1e9));const re=si(se,_.BigInt(1e9*g),w);$=_.toNumber(_.divide(re,_.BigInt(1e9))),x=fn,L=Y=0;break}case"millisecond":{let se=_.multiply(_.BigInt(L),bi);se=_.add(se,_.multiply(_.BigInt(Y),Tt)),se=_.add(se,x),q=Oa(se,_.BigInt(1e6));const re=si(se,_.BigInt(1e6*g),w);L=_.toNumber(_.divide(re,_.BigInt(1e6))),x=fn,Y=0;break}case"microsecond":{let se=_.multiply(_.BigInt(Y),Tt);se=_.add(se,x),q=Oa(se,_.BigInt(1e3));const re=si(se,_.BigInt(1e3*g),w);Y=_.toNumber(_.divide(re,_.BigInt(1e3))),x=fn;break}case"nanosecond":q=_.toNumber(x),x=si(_.BigInt(x),_.BigInt(g),w)}return{years:R,months:C,weeks:D,days:M,hours:N,minutes:V,seconds:$,milliseconds:L,microseconds:Y,nanoseconds:_.toNumber(x),total:q}}function Cs(n,e,t,r,a,s){for(const[u,c]of[[n,r],[e,a],[t,s]])if(u!==c)return Bl(u-c);return 0}function Ml(n,e){let{quotient:t,remainder:r}=gn(n,e);return _.lessThan(r,fn)&&(t=_.subtract(t,kc),r=_.add(r,e)),{quotient:t,remainder:r}}function lc(n,e){const{quotient:t,remainder:r}=gn(n,e);return wi(r)||!ep(n)==!ep(e)?t:_.subtract(t,kc)}function Oa(n,e){const{quotient:t,remainder:r}=gn(n,e);return _.toNumber(t)+_.toNumber(r)/_.toNumber(e)}function cp(n){const e=af(n);return globalThis.BigInt!==void 0?globalThis.BigInt(e.toString(10)):e}function af(n){let e=n;if(typeof n=="object"){const t=n[Symbol.toPrimitive];t&&typeof t=="function"&&(e=Vp(t,n,["number"]))}if(typeof e=="number")throw new TypeError("cannot convert number to bigint");return typeof e=="bigint"?_.BigInt(e.toString(10)):_.BigInt(e)}const u_=(()=>{let n=_.BigInt(Date.now()%1e6);return()=>{const e=_.BigInt(Date.now()),t=_.add(_.multiply(e,bi),n);return n=_.remainder(e,bi),_.greaterThan(t,yc)?yc:_.lessThan(t,gf)?gf:t}})();function Es(){return new QA().resolvedOptions().timeZone}function Bl(n){return n<0?-1:n>0?1:n}function ut(n){if(n===void 0)return pr(null);if(Kt(n)&&n!==null)return n;throw new TypeError("Options parameter must be an object, not "+(n===null?"null":typeof n))}function bc(n,e){const t=pr(null);return t[n]=e,t}function Zs(n){const e=pr(null);return oc(e,ut(n),[]),e}function $s(n,e,t,r){let a=n[e];if(a!==void 0){if(a=Nr(a),!t.includes(a))throw new RangeError(`${e} must be one of ${t.join(", ")}, not ${a}`);return a}return r}function Po(n){return lN.includes(qa(n))}function qa(n){return n.replace(/[A-Z]/g,e=>{const t=e.charCodeAt(0);return String.fromCharCode(t+32)})}const CS=new RegExp(`^${YA.source}$`);function DS(n,e,t,r=n(e),a=n(t)){let s=_.BigInt(e),u=_.BigInt(t),c=r,f=a;for(;_.greaterThan(_.subtract(u,s),kc);){const d=_.divide(_.add(s,u),_.BigInt(2)),g=n(d);if(g===c)s=d,c=g;else{if(g!==f)throw new Error(`invalid state in bisection ${c} - ${g} - ${f}`);u=d,f=g}}return u}const IS={hour:36e11,minute:6e10,second:1e9,millisecond:1e6,microsecond:1e3,nanosecond:1},OS=Symbol("date"),MS=Symbol("ym"),xS=Symbol("md"),NS=Symbol("time"),kS=Symbol("datetime"),PS=Symbol("instant"),uc=Symbol("original"),Wu=Symbol("timezone"),Gi=Symbol("calendar-id"),LS=Symbol("locale"),r0=Symbol("options"),of=n=>({value:n,enumerable:!0,writable:!1,configurable:!0}),cc=globalThis.Intl.DateTimeFormat,Lo=Object.assign,dN=Object.prototype.hasOwnProperty,mN=Reflect.apply;function Zu(n,e){let t=n[e];return typeof t=="function"&&(t=new cc(n[LS],t(n[r0])),n[e]=t),t}function Ql(n,e={}){if(!(this instanceof Ql))return new Ql(n,e);const t=e!==void 0,r=t?Lo({},e):{},a=new cc(n,r),s=a.resolvedOptions();if(t){const u=Lo({},s);for(const c in u)mN(dN,r,[c])||delete u[c];this[r0]=u}else this[r0]=r;this[LS]=s.locale,this[uc]=a,this[Wu]=s.timeZone,this[Gi]=s.calendar,this[OS]=vN,this[MS]=gN,this[xS]=yN,this[NS]=pN,this[kS]=_N,this[PS]=TN}Object.defineProperty(Ql,"name",{writable:!0,value:"DateTimeFormat"}),Ql.supportedLocalesOf=function(n,e){return cc.supportedLocalesOf(n,e)};const Rv={resolvedOptions:of(function(){return this[uc].resolvedOptions()}),format:of(function(e,...t){let{instant:r,formatter:a}=hc(e,this);return r&&a?a.format(r.epochMilliseconds):this[uc].format(e,...t)}),formatRange:of(function(e,t){if(Rc(e)||Rc(t)){if(!VS(e,t))throw new TypeError("Intl.DateTimeFormat.formatRange accepts two values of the same type");const{instant:r,formatter:a}=hc(e,this),{instant:s,formatter:u}=hc(t,this);if(r&&s&&a&&u&&a===u)return a.formatRange(r.epochMilliseconds,s.epochMilliseconds)}return this[uc].formatRange(e,t)})};"formatToParts"in cc.prototype&&(Rv.formatToParts=of(function(e,...t){let{instant:r,formatter:a}=hc(e,this);return r&&a?a.formatToParts(r.epochMilliseconds):this[uc].formatToParts(e,...t)})),"formatRangeToParts"in cc.prototype&&(Rv.formatRangeToParts=of(function(e,t){if(Rc(e)||Rc(t)){if(!VS(e,t))throw new TypeError("Intl.DateTimeFormat.formatRangeToParts accepts two values of the same type");const{instant:r,formatter:a}=hc(e,this),{instant:s,formatter:u}=hc(t,this);if(r&&s&&a&&u&&a===u)return a.formatRangeToParts(r.epochMilliseconds,s.epochMilliseconds)}return this[uc].formatRangeToParts(e,t)})),Ql.prototype=Object.create(cc.prototype,Rv),Object.defineProperty(Ql,"prototype",{writable:!1,enumerable:!1,configurable:!1});const Xs=Ql;function Hf(n={},e={}){const t=Lo({},n);for(const r of["year","month","day","hour","minute","second","weekday","dayPeriod","timeZoneName","dateStyle","timeStyle"])t[r]=r in e?e[r]:t[r],t[r]!==!1&&t[r]!==void 0||delete t[r];return t}function pN(n){let e=Hf(n,{year:!1,month:!1,day:!1,weekday:!1,timeZoneName:!1,dateStyle:!1});return h_(e)||(e=Lo({},e,{hour:"numeric",minute:"numeric",second:"numeric"})),e}function gN(n){let e=Hf(n,{day:!1,hour:!1,minute:!1,second:!1,weekday:!1,dayPeriod:!1,timeZoneName:!1,dateStyle:!1,timeStyle:!1});return"year"in e||"month"in e||(e=Lo(e,{year:"numeric",month:"numeric"})),e}function yN(n){let e=Hf(n,{year:!1,hour:!1,minute:!1,second:!1,weekday:!1,dayPeriod:!1,timeZoneName:!1,dateStyle:!1,timeStyle:!1});return"month"in e||"day"in e||(e=Lo({},e,{month:"numeric",day:"numeric"})),e}function vN(n){let e=Hf(n,{hour:!1,minute:!1,second:!1,dayPeriod:!1,timeZoneName:!1,timeStyle:!1});return c_(e)||(e=Lo({},e,{year:"numeric",month:"numeric",day:"numeric"})),e}function _N(n){let e=Hf(n,{timeZoneName:!1});return h_(e)||c_(e)||(e=Lo({},e,{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"})),e}function TN(n){let e=n;return h_(e)||c_(e)||(e=Lo({},e,{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"})),e}function c_(n){return"year"in n||"month"in n||"day"in n||"weekday"in n||"dateStyle"in n}function h_(n){return"hour"in n||"minute"in n||"second"in n||"timeStyle"in n||"dayPeriod"in n}function Rc(n){return st(n)||hn(n)||Ge(n)||Ce(n)||_t(n)||Nn(n)||In(n)}function VS(n,e){return!(!Rc(n)||!Rc(e))&&!(hn(n)&&!hn(e))&&!(st(n)&&!st(e))&&!(Ge(n)&&!Ge(e))&&!(Ce(n)&&!Ce(e))&&!(_t(n)&&!_t(e))&&!(Nn(n)&&!Nn(e))&&!(In(n)&&!In(e))}function hc(n,e){const t=pe("%Temporal.PlainDateTime%");if(hn(n)){const r=new t(1970,1,1,y(n,Qe),y(n,Ze),y(n,Xe),y(n,We),y(n,Je),y(n,et),e[Gi]);return{instant:Mr(e[Wu],r,"compatible"),formatter:Zu(e,NS)}}if(_t(n)){const r=y(n,we),a=y(n,Ee),s=y(n,Re),u=Xn(y(n,X));if(u!==e[Gi])throw new RangeError(`cannot format PlainYearMonth with calendar ${u} in locale with calendar ${e[Gi]}`);const c=new t(r,a,s,12,0,0,0,0,0,u);return{instant:Mr(e[Wu],c,"compatible"),formatter:Zu(e,MS)}}if(Nn(n)){const r=y(n,we),a=y(n,Ee),s=y(n,Re),u=Xn(y(n,X));if(u!==e[Gi])throw new RangeError(`cannot format PlainMonthDay with calendar ${u} in locale with calendar ${e[Gi]}`);const c=new t(r,a,s,12,0,0,0,0,0,u);return{instant:Mr(e[Wu],c,"compatible"),formatter:Zu(e,xS)}}if(st(n)){const r=y(n,we),a=y(n,Ee),s=y(n,Re),u=Xn(y(n,X));if(u!=="iso8601"&&u!==e[Gi])throw new RangeError(`cannot format PlainDate with calendar ${u} in locale with calendar ${e[Gi]}`);const c=new t(r,a,s,12,0,0,0,0,0,e[Gi]);return{instant:Mr(e[Wu],c,"compatible"),formatter:Zu(e,OS)}}if(Ge(n)){const r=y(n,we),a=y(n,Ee),s=y(n,Re),u=y(n,Qe),c=y(n,Ze),f=y(n,Xe),d=y(n,We),g=y(n,Je),v=y(n,et),w=Xn(y(n,X));if(w!=="iso8601"&&w!==e[Gi])throw new RangeError(`cannot format PlainDateTime with calendar ${w} in locale with calendar ${e[Gi]}`);let b=n;return w==="iso8601"&&(b=new t(r,a,s,u,c,f,d,g,v,e[Gi])),{instant:Mr(e[Wu],b,"compatible"),formatter:Zu(e,kS)}}if(Ce(n))throw new TypeError("Temporal.ZonedDateTime not supported in DateTimeFormat methods. Use toLocaleString() instead.");return In(n)?{instant:n,formatter:Zu(e,PS)}:{}}class aa{constructor(e){if(arguments.length<1)throw new TypeError("missing argument: epochNanoseconds is required");const t=af(e);kl(t),Qa(this),tt(this,ze,t)}get epochSeconds(){if(!In(this))throw new TypeError("invalid receiver");const e=y(this,ze);return _.toNumber(lc(e,La))}get epochMilliseconds(){if(!In(this))throw new TypeError("invalid receiver");const e=_.BigInt(y(this,ze));return _.toNumber(lc(e,bi))}get epochMicroseconds(){if(!In(this))throw new TypeError("invalid receiver");return cp(lc(_.BigInt(y(this,ze)),Tt))}get epochNanoseconds(){if(!In(this))throw new TypeError("invalid receiver");return cp(_.BigInt(y(this,ze)))}add(e){if(!In(this))throw new TypeError("invalid receiver");return A1("add",this,e)}subtract(e){if(!In(this))throw new TypeError("invalid receiver");return A1("subtract",this,e)}until(e,t){if(!In(this))throw new TypeError("invalid receiver");return v1("until",this,e,t)}since(e,t){if(!In(this))throw new TypeError("invalid receiver");return v1("since",this,e,t)}round(e){if(!In(this))throw new TypeError("invalid receiver");if(e===void 0)throw new TypeError("options parameter is required");const t=typeof e=="string"?bc("smallestUnit",e):ut(e),r=Lc(t),a=ua(t,"halfExpand"),s=ei(t,"smallestUnit","time",Hl);Vc(r,{hour:24,minute:1440,second:86400,millisecond:864e5,microsecond:864e8,nanosecond:864e11}[s],!0);const u=up(y(this,ze),r,s,a);return new aa(u)}equals(e){if(!In(this))throw new TypeError("invalid receiver");const t=sa(e),r=y(this,ze),a=y(t,ze);return _.equal(_.BigInt(r),_.BigInt(a))}toString(e){if(!In(this))throw new TypeError("invalid receiver");const t=ut(e),r=Uf(t),a=ua(t,"trunc"),s=ei(t,"smallestUnit","time",void 0);if(s==="hour")throw new RangeError('smallestUnit must be a time unit other than "hour"');let u=t.timeZone;u!==void 0&&(u=mr(u));const{precision:c,unit:f,increment:d}=zf(s,r),g=up(y(this,ze),d,f,a);return u1(new aa(g),u,c)}toJSON(){if(!In(this))throw new TypeError("invalid receiver");return u1(this,void 0,"auto")}toLocaleString(e,t){if(!In(this))throw new TypeError("invalid receiver");return new Xs(e,t).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.Instant")}toZonedDateTime(e){if(!In(this))throw new TypeError("invalid receiver");if(!Kt(e))throw new TypeError("invalid argument in toZonedDateTime");const t=e.calendar;if(t===void 0)throw new TypeError("missing calendar property in toZonedDateTime");const r=ti(t),a=e.timeZone;if(a===void 0)throw new TypeError("missing timeZone property in toZonedDateTime");const s=mr(a);return Kn(y(this,ze),s,r)}toZonedDateTimeISO(e){if(!In(this))throw new TypeError("invalid receiver");const t=mr(e);return Kn(y(this,ze),t,"iso8601")}static fromEpochSeconds(e){const t=vc(e),r=_.multiply(_.BigInt(t),La);return kl(r),new aa(r)}static fromEpochMilliseconds(e){const t=vc(e),r=_.multiply(_.BigInt(t),bi);return kl(r),new aa(r)}static fromEpochMicroseconds(e){const t=af(e),r=_.multiply(t,Tt);return kl(r),new aa(r)}static fromEpochNanoseconds(e){const t=af(e);return kl(t),new aa(t)}static from(e){return In(e)?new aa(y(e,ze)):sa(e)}static compare(e,t){const r=sa(e),a=sa(t),s=y(r,ze),u=y(a,ze);return _.lessThan(s,u)?-1:_.greaterThan(s,u)?1:0}}Ka(aa,"Temporal.Instant");const US=Array.prototype.includes,wN=Array.prototype.push,EN=globalThis.Intl.DateTimeFormat,bN=Array.prototype.sort,RN=Math.abs,AN=Math.floor,Av=Object.create,i0=Object.entries,zS=Set,O1=Reflect.ownKeys,ur=Set.prototype.add,jS=Set.prototype.values,Xt={};class un{constructor(e){if(arguments.length<1)throw new RangeError("missing argument: id is required");const t=Nr(e);if(!Po(t))throw new RangeError(`invalid calendar identifier ${t}`);Qa(this),tt(this,tn,qa(t))}get id(){if(!ln(this))throw new TypeError("invalid receiver");return y(this,tn)}dateFromFields(e,t){if(!ln(this))throw new TypeError("invalid receiver");if(!Kt(e))throw new TypeError("invalid fields");const r=ut(t),a=y(this,tn);return Xt[a].dateFromFields(e,r,a)}yearMonthFromFields(e,t){if(!ln(this))throw new TypeError("invalid receiver");if(!Kt(e))throw new TypeError("invalid fields");const r=ut(t),a=y(this,tn);return Xt[a].yearMonthFromFields(e,r,a)}monthDayFromFields(e,t){if(!ln(this))throw new TypeError("invalid receiver");if(!Kt(e))throw new TypeError("invalid fields");const r=ut(t),a=y(this,tn);return Xt[a].monthDayFromFields(e,r,a)}fields(e){if(!ln(this))throw new TypeError("invalid receiver");const t=[],r=new Set(["year","month","monthCode","day","hour","minute","second","millisecond","microsecond","nanosecond"]);for(const a of e){if(typeof a!="string")throw new TypeError("invalid fields");if(!r.has(a))throw new RangeError(`invalid field name ${a}`);r.delete(a),wN.call(t,a)}return Xt[y(this,tn)].fields(t)}mergeFields(e,t){if(!ln(this))throw new TypeError("invalid receiver");const r=s1(e),a=Av(null);oc(a,r,[],[void 0]);const s=s1(t),u=Av(null);oc(u,s,[],[void 0]);const c=O1(u),f=Xt[y(this,tn)].fieldKeysToIgnore(c),d=Av(null),g=O1(a);for(const v of g){let w;w=Ie(US,f,[v])?u[v]:a[v],w!==void 0&&(d[v]=w)}return oc(d,u,[]),d}dateAdd(e,t,r){if(!ln(this))throw new TypeError("invalid receiver");const a=Nt(e),s=sc(t),u=yn(ut(r)),{days:c}=Zi(y(s,Er),y(s,br),y(s,Rr),y(s,Ar),y(s,Sr),y(s,Cr),y(s,Dr),"day"),f=y(this,tn);return Xt[f].dateAdd(a,y(s,wr),y(s,$n),y(s,zr),c,u,f)}dateUntil(e,t,r){if(!ln(this))throw new TypeError("invalid receiver");const a=Nt(e),s=Nt(t);let u=ei(ut(r),"largestUnit","date","auto");u==="auto"&&(u="day");const{years:c,months:f,weeks:d,days:g}=Xt[y(this,tn)].dateUntil(a,s,u);return new(pe("%Temporal.Duration%"))(c,f,d,g,0,0,0,0,0,0)}year(e){let t=e;if(!ln(this))throw new TypeError("invalid receiver");return _t(t)||(t=Nt(t)),Xt[y(this,tn)].year(t)}month(e){let t=e;if(!ln(this))throw new TypeError("invalid receiver");if(Nn(t))throw new TypeError("use monthCode on PlainMonthDay instead");return _t(t)||(t=Nt(t)),Xt[y(this,tn)].month(t)}monthCode(e){let t=e;if(!ln(this))throw new TypeError("invalid receiver");return _t(t)||Nn(t)||(t=Nt(t)),Xt[y(this,tn)].monthCode(t)}day(e){let t=e;if(!ln(this))throw new TypeError("invalid receiver");return Nn(t)||(t=Nt(t)),Xt[y(this,tn)].day(t)}era(e){let t=e;if(!ln(this))throw new TypeError("invalid receiver");return _t(t)||(t=Nt(t)),Xt[y(this,tn)].era(t)}eraYear(e){let t=e;if(!ln(this))throw new TypeError("invalid receiver");return _t(t)||(t=Nt(t)),Xt[y(this,tn)].eraYear(t)}dayOfWeek(e){if(!ln(this))throw new TypeError("invalid receiver");const t=Nt(e);return Xt[y(this,tn)].dayOfWeek(t)}dayOfYear(e){if(!ln(this))throw new TypeError("invalid receiver");const t=Nt(e);return Xt[y(this,tn)].dayOfYear(t)}weekOfYear(e){if(!ln(this))throw new TypeError("invalid receiver");const t=Nt(e);return Xt[y(this,tn)].weekOfYear(t)}yearOfWeek(e){if(!ln(this))throw new TypeError("invalid receiver");const t=Nt(e);return Xt[y(this,tn)].yearOfWeek(t)}daysInWeek(e){if(!ln(this))throw new TypeError("invalid receiver");const t=Nt(e);return Xt[y(this,tn)].daysInWeek(t)}daysInMonth(e){let t=e;if(!ln(this))throw new TypeError("invalid receiver");return _t(t)||(t=Nt(t)),Xt[y(this,tn)].daysInMonth(t)}daysInYear(e){let t=e;if(!ln(this))throw new TypeError("invalid receiver");return _t(t)||(t=Nt(t)),Xt[y(this,tn)].daysInYear(t)}monthsInYear(e){let t=e;if(!ln(this))throw new TypeError("invalid receiver");return _t(t)||(t=Nt(t)),Xt[y(this,tn)].monthsInYear(t)}inLeapYear(e){let t=e;if(!ln(this))throw new TypeError("invalid receiver");return _t(t)||(t=Nt(t)),Xt[y(this,tn)].inLeapYear(t)}toString(){if(!ln(this))throw new TypeError("invalid receiver");return y(this,tn)}toJSON(){if(!ln(this))throw new TypeError("invalid receiver");return y(this,tn)}static from(e){return Uc(ti(e))}}function f_(n){if(!n.startsWith("M"))throw new RangeError(`Invalid month code: ${n}.  Month codes must start with M.`);const e=+n.slice(1);if(isNaN(e))throw new RangeError(`Invalid month code: ${n}`);return e}function Mo(n,e=!1){return`M${n.toString().padStart(2,"0")}${e?"L":""}`}function Pm(n,e,t=12){let{month:r,monthCode:a}=n;if(a===void 0){if(r===void 0)throw new TypeError("Either month or monthCode are required");e==="reject"&&Zn(r,1,t),e==="constrain"&&(r=Xr(r,1,t)),a=Mo(r)}else{const s=f_(a);if(r!==void 0&&r!==s)throw new RangeError(`monthCode ${a} and month ${r} must match if both are present`);if(a!==Mo(s))throw new RangeError(`Invalid month code: ${a}`);if(r=s,r<1||r>t)throw new RangeError(`Invalid monthCode: ${a}`)}return{...n,month:r,monthCode:a}}Ka(un,"Temporal.Calendar"),nn("Temporal.Calendar.from",un.from),nn("Temporal.Calendar.prototype.dateAdd",un.prototype.dateAdd),nn("Temporal.Calendar.prototype.dateFromFields",un.prototype.dateFromFields),nn("Temporal.Calendar.prototype.dateUntil",un.prototype.dateUntil),nn("Temporal.Calendar.prototype.day",un.prototype.day),nn("Temporal.Calendar.prototype.dayOfWeek",un.prototype.dayOfWeek),nn("Temporal.Calendar.prototype.dayOfYear",un.prototype.dayOfYear),nn("Temporal.Calendar.prototype.daysInMonth",un.prototype.daysInMonth),nn("Temporal.Calendar.prototype.daysInWeek",un.prototype.daysInWeek),nn("Temporal.Calendar.prototype.daysInYear",un.prototype.daysInYear),nn("Temporal.Calendar.prototype.era",un.prototype.era),nn("Temporal.Calendar.prototype.eraYear",un.prototype.eraYear),nn("Temporal.Calendar.prototype.fields",un.prototype.fields),nn("Temporal.Calendar.prototype.inLeapYear",un.prototype.inLeapYear),nn("Temporal.Calendar.prototype.mergeFields",un.prototype.mergeFields),nn("Temporal.Calendar.prototype.month",un.prototype.month),nn("Temporal.Calendar.prototype.monthCode",un.prototype.monthCode),nn("Temporal.Calendar.prototype.monthDayFromFields",un.prototype.monthDayFromFields),nn("Temporal.Calendar.prototype.monthsInYear",un.prototype.monthsInYear),nn("Temporal.Calendar.prototype.weekOfYear",un.prototype.weekOfYear),nn("Temporal.Calendar.prototype.year",un.prototype.year),nn("Temporal.Calendar.prototype.yearMonthFromFields",un.prototype.yearMonthFromFields),nn("Temporal.Calendar.prototype.yearOfWeek",un.prototype.yearOfWeek),Xt.iso8601={dateFromFields(n,e,t){let r=it(n,["day","month","monthCode","year"],["year","day"]);const a=yn(e);r=Pm(r);let{year:s,month:u,day:c}=r;return{year:s,month:u,day:c}=np(s,u,c,a),Ci(s,u,c,t)},yearMonthFromFields(n,e,t){let r=it(n,["month","monthCode","year"],["year"]);const a=yn(e);r=Pm(r);let{year:s,month:u}=r;return{year:s,month:u}=function(f,d,g){let v=f,w=d;switch(g){case"reject":Fa(v,w,1);break;case"constrain":({year:v,month:w}=vS(v,w))}return{year:v,month:w}}(s,u,a),vf(s,u,t,1)},monthDayFromFields(n,e,t){let r=it(n,["day","month","monthCode","year"],["day"]);const a=yn(e);if(r.month!==void 0&&r.year===void 0&&r.monthCode===void 0)throw new TypeError("either year or monthCode required with month");const s=r.monthCode===void 0;r=Pm(r);let{month:u,day:c,year:f}=r;return{month:u,day:c}=np(s?f:1972,u,c,a),yf(u,c,t,1972)},fields:n=>n,fieldKeysToIgnore(n){const e=new zS;for(let t=0;t<n.length;t++){const r=n[t];Ie(ur,e,[r]),r==="month"?Ie(ur,e,["monthCode"]):r==="monthCode"&&Ie(ur,e,["month"])}return[...Ie(jS,e,[])]},dateAdd(n,e,t,r,a,s,u){let c=y(n,we),f=y(n,Ee),d=y(n,Re);return{year:c,month:f,day:d}=jl(c,f,d,e,t,r,a,s),Ci(c,f,d,u)},dateUntil:(n,e,t)=>i_(y(n,we),y(n,Ee),y(n,Re),y(e,we),y(e,Ee),y(e,Re),t),year:n=>y(n,we),era(){},eraYear(){},month:n=>y(n,Ee),monthCode:n=>Mo(y(n,Ee)),day:n=>y(n,Re),dayOfWeek:n=>e0(y(n,we),y(n,Ee),y(n,Re)),dayOfYear:n=>sp(y(n,we),y(n,Ee),y(n,Re)),weekOfYear:n=>g1(y(n,we),y(n,Ee),y(n,Re)).week,yearOfWeek:n=>g1(y(n,we),y(n,Ee),y(n,Re)).year,daysInWeek:()=>7,daysInMonth:n=>Oo(y(n,we),y(n,Ee)),daysInYear(n){let e=n;return Ln(e,we)||(e=Nt(e)),Bs(y(e,we))?366:365},monthsInYear:()=>12,inLeapYear(n){let e=n;return Ln(e,we)||(e=Nt(e)),Bs(y(e,we))}};class rn{constructor(e){if(this.map=new Map,this.calls=0,this.hits=0,this.misses=0,this.now=globalThis.performance?globalThis.performance.now():Date.now(),e!==void 0){let t=0;for(const r of e.map.entries()){if(++t>rn.MAX_CACHE_ENTRIES)break;this.map.set(...r)}}}get(e){const t=this.map.get(e);return t&&(this.hits++,this.report()),this.calls++,t}set(e,t){this.map.set(e,t),this.misses++,this.report()}report(){}setObject(e){if(rn.objectMap.get(e))throw new RangeError("object already cached");rn.objectMap.set(e,this),this.report()}static getCacheForObject(e){let t=rn.objectMap.get(e);return t||(t=new rn,rn.objectMap.set(e,t)),t}}function BS({isoYear:n,isoMonth:e,isoDay:t}){return`${au(n)}-${Wt(e)}-${Wt(t)}T00:00Z`}function Sv(n,e){return{years:n.year-e.year,months:n.month-e.month,days:n.day-e.day}}rn.objectMap=new WeakMap,rn.MAX_CACHE_ENTRIES=1e3;class jc{constructor(){this.eraLength="short",this.hasEra=!0,this.erasBeginMidYear=!1}getFormatter(){return this.formatter===void 0&&(this.formatter=new EN(`en-US-u-ca-${this.id}`,{day:"numeric",month:"numeric",year:"numeric",era:this.eraLength,timeZone:"UTC"})),this.formatter}isoToCalendarDate(e,t){const{year:r,month:a,day:s}=e,u=JSON.stringify({func:"isoToCalendarDate",isoYear:r,isoMonth:a,isoDay:s,id:this.id}),c=t.get(u);if(c)return c;const f=this.getFormatter();let d,g;try{g=BS({isoYear:r,isoMonth:a,isoDay:s}),d=f.formatToParts(new Date(g))}catch{throw new RangeError(`Invalid ISO date: ${JSON.stringify({isoYear:r,isoMonth:a,isoDay:s})}`)}const v={};for(let{type:b,value:R}of d){if(b==="year"&&(v.eraYear=+R),b==="relatedYear"&&(v.eraYear=+R),b==="month"){const C=/^([0-9]*)(.*?)$/.exec(R);if(!C||C.length!=3||!C[1]&&!C[2])throw new RangeError(`Unexpected month: ${R}`);if(v.month=C[1]?+C[1]:1,v.month<1)throw new RangeError(`Invalid month ${R} from ${g}[u-ca-${this.id}] (probably due to https://bugs.chromium.org/p/v8/issues/detail?id=10527)`);if(v.month>13)throw new RangeError(`Invalid month ${R} from ${g}[u-ca-${this.id}] (probably due to https://bugs.chromium.org/p/v8/issues/detail?id=10529)`);C[2]&&(v.monthExtra=C[2])}b==="day"&&(v.day=+R),this.hasEra&&b==="era"&&R!=null&&R!==""&&(R=R.split(" (")[0],v.era=R.normalize("NFD").replace(/[^-0-9 \p{L}]/gu,"").replace(" ","-").toLowerCase())}if(v.eraYear===void 0)throw new RangeError(`Intl.DateTimeFormat.formatToParts lacks relatedYear in ${this.id} calendar. Try Node 14+ or modern browsers.`);if(this.reviseIntlEra){const{era:b,eraYear:R}=this.reviseIntlEra(v,e);v.era=b,v.eraYear=R}this.checkIcuBugs&&this.checkIcuBugs(e);const w=this.adjustCalendarDate(v,t,"constrain",!0);if(w.year===void 0)throw new RangeError(`Missing year converting ${JSON.stringify(e)}`);if(w.month===void 0)throw new RangeError(`Missing month converting ${JSON.stringify(e)}`);if(w.day===void 0)throw new RangeError(`Missing day converting ${JSON.stringify(e)}`);return t.set(u,w),["constrain","reject"].forEach(b=>{const R=JSON.stringify({func:"calendarToIsoDate",year:w.year,month:w.month,day:w.day,overflow:b,id:this.id});t.set(R,e)}),w}validateCalendarDate(e){const{era:t,month:r,year:a,day:s,eraYear:u,monthCode:c,monthExtra:f}=e;if(f!==void 0)throw new RangeError("Unexpected `monthExtra` value");if(a===void 0&&u===void 0)throw new TypeError("year or eraYear is required");if(r===void 0&&c===void 0)throw new TypeError("month or monthCode is required");if(s===void 0)throw new RangeError("Missing day");if(c!==void 0){if(typeof c!="string")throw new RangeError("monthCode must be a string, not "+typeof c);if(!/^M([01]?\d)(L?)$/.test(c))throw new RangeError(`Invalid monthCode: ${c}`)}if(this.constantEra){if(t!==void 0&&t!==this.constantEra)throw new RangeError(`era must be ${this.constantEra}, not ${t}`);if(u!==void 0&&a!==void 0&&u!==a)throw new RangeError(`eraYear ${u} does not match year ${a}`)}if(this.hasEra&&e.era===void 0!=(e.eraYear===void 0))throw new RangeError("properties 'era' and 'eraYear' must be provided together")}adjustCalendarDate(e,t,r="constrain",a=!1){if(this.calendarType==="lunisolar")throw new RangeError("Override required for lunisolar calendars");let s=e;if(this.validateCalendarDate(s),this.constantEra){const{year:d,eraYear:g}=s;s={...s,era:this.constantEra,year:d!==void 0?d:g,eraYear:g!==void 0?g:d}}const u=this.monthsInYear(s,t);let{month:c,monthCode:f}=s;return{month:c,monthCode:f}=Pm(s,r,u),{...s,month:c,monthCode:f}}regulateMonthDayNaive(e,t,r){const a=this.monthsInYear(e,r);let{month:s,day:u}=e;return t==="reject"?(Zn(s,1,a),Zn(u,1,this.maximumMonthLength(e))):(s=Xr(s,1,a),u=Xr(u,1,this.maximumMonthLength({...e,month:s}))),{...e,month:s,day:u}}calendarToIsoDate(e,t="constrain",r){const a=e;let s=this.adjustCalendarDate(e,r,t,!1);s=this.regulateMonthDayNaive(s,t,r);const{year:u,month:c,day:f}=s,d=JSON.stringify({func:"calendarToIsoDate",year:u,month:c,day:f,overflow:t,id:this.id});let g,v=r.get(d);if(v||a.year!==void 0&&a.month!==void 0&&a.day!==void 0&&(a.year!==s.year||a.month!==s.month||a.day!==s.day)&&(g=JSON.stringify({func:"calendarToIsoDate",year:a.year,month:a.month,day:a.day,overflow:t,id:this.id}),v=r.get(g),v))return v;let w=this.estimateIsoDate({year:u,month:c,day:f});const b=N=>{let V=this.addDaysIso(w,N);if(s.day>this.minimumMonthLength(s)){let $=this.isoToCalendarDate(V,r);for(;$.month!==c||$.year!==u;){if(t==="reject")throw new RangeError(`day ${f} does not exist in month ${c} of year ${u}`);V=this.addDaysIso(V,-1),$=this.isoToCalendarDate(V,r)}}return V};let R=0,C=this.isoToCalendarDate(w,r),D=Sv(s,C);if(D.years!==0||D.months!==0||D.days!==0){const N=365*D.years+30*D.months+D.days;w=this.addDaysIso(w,N),C=this.isoToCalendarDate(w,r),D=Sv(s,C),D.years===0&&D.months===0?w=b(D.days):R=this.compareCalendarDates(s,C)}let M=8;for(;R;){w=this.addDaysIso(w,R*M);const N=C;C=this.isoToCalendarDate(w,r);const V=R;if(R=this.compareCalendarDates(s,C),R){if(D=Sv(s,C),D.years===0&&D.months===0)w=b(D.days),R=0;else if(V&&R!==V)if(M>1)M/=2;else{if(t==="reject")throw new RangeError(`Can't find ISO date from calendar date: ${JSON.stringify({...a})}`);this.compareCalendarDates(C,N)>0&&(w=this.addDaysIso(w,-1)),R=0}}}if(r.set(d,w),g&&r.set(g,w),s.year===void 0||s.month===void 0||s.day===void 0||s.monthCode===void 0||this.hasEra&&(s.era===void 0||s.eraYear===void 0))throw new RangeError("Unexpected missing property");return w}temporalToCalendarDate(e,t){const r={year:y(e,we),month:y(e,Ee),day:y(e,Re)};return this.isoToCalendarDate(r,t)}compareCalendarDates(e,t){const r=it(e,["day","month","year"],["day","month","year"]),a=it(t,["day","month","year"],["day","month","year"]);return r.year!==a.year?Bl(r.year-a.year):r.month!==a.month?Bl(r.month-a.month):r.day!==a.day?Bl(r.day-a.day):0}regulateDate(e,t="constrain",r){const a=this.calendarToIsoDate(e,t,r);return this.isoToCalendarDate(a,r)}addDaysIso(e,t){return jl(e.year,e.month,e.day,0,0,0,t,"constrain")}addDaysCalendar(e,t,r){const a=this.calendarToIsoDate(e,"constrain",r),s=this.addDaysIso(a,t);return this.isoToCalendarDate(s,r)}addMonthsCalendar(e,t,r,a){let s=e;const{day:u}=s;for(let c=0,f=RN(t);c<f;c++){const{month:d}=s,g=s,v=t<0?-Math.max(u,this.daysInPreviousMonth(s,a)):this.daysInMonth(s,a),w=this.calendarToIsoDate(s,"constrain",a);let b=this.addDaysIso(w,v);if(s=this.isoToCalendarDate(b,a),t>0){const R=this.monthsInYear(g,a);for(;s.month-1!=d%R;)b=this.addDaysIso(b,-1),s=this.isoToCalendarDate(b,a)}s.day!==u&&(s=this.regulateDate({...s,day:u},"constrain",a))}if(r==="reject"&&s.day!==u)throw new RangeError(`Day ${u} does not exist in resulting calendar month`);return s}addCalendar(e,{years:t=0,months:r=0,weeks:a=0,days:s=0},u,c){const{year:f,day:d,monthCode:g}=e,v=this.adjustCalendarDate({year:f+t,monthCode:g,day:d},c),w=this.addMonthsCalendar(v,r,u,c),b=s+7*a;return this.addDaysCalendar(w,b,c)}untilCalendar(e,t,r,a){let s=0,u=0,c=0,f=0;switch(r){case"day":s=this.calendarDaysUntil(e,t,a);break;case"week":{const d=this.calendarDaysUntil(e,t,a);s=d%7,u=(d-s)/7;break}case"month":case"year":{const d=this.compareCalendarDates(t,e);if(!d)return{years:0,months:0,weeks:0,days:0};const g=t.year-e.year,v=t.day-e.day;if(r==="year"&&g){let R=0;t.monthCode>e.monthCode&&(R=1),t.monthCode<e.monthCode&&(R=-1),R||(R=Math.sign(v)),f=R*d<0?g-d:g}let w,b=f?this.addCalendar(e,{years:f},"constrain",a):e;do c+=d,w=b,b=this.addMonthsCalendar(w,d,"constrain",a),b.day!==e.day&&(b=this.regulateDate({...b,day:e.day},"constrain",a));while(this.compareCalendarDates(t,b)*d>=0);c-=d,s=this.calendarDaysUntil(w,t,a);break}}return{years:f,months:c,weeks:u,days:s}}daysInMonth(e,t){const{day:r}=e,a=this.maximumMonthLength(e),s=this.minimumMonthLength(e);if(s===a)return s;const u=r<=a-s?a:s,c=this.calendarToIsoDate(e,"constrain",t),f=this.addDaysIso(c,u),d=this.isoToCalendarDate(f,t),g=this.addDaysIso(f,-d.day);return this.isoToCalendarDate(g,t).day}daysInPreviousMonth(e,t){const{day:r,month:a,year:s}=e;let u={year:a>1?s:s-1,month:a,day:1};const c=a>1?a-1:this.monthsInYear(u,t);u={...u,month:c};const f=this.minimumMonthLength(u),d=this.maximumMonthLength(u);if(f===d)return d;const g=this.calendarToIsoDate(e,"constrain",t),v=this.addDaysIso(g,-r);return this.isoToCalendarDate(v,t).day}startOfCalendarYear(e){return{year:e.year,month:1,monthCode:"M01",day:1}}startOfCalendarMonth(e){return{year:e.year,month:e.month,day:1}}calendarDaysUntil(e,t,r){const a=this.calendarToIsoDate(e,"constrain",r),s=this.calendarToIsoDate(t,"constrain",r);return this.isoDaysUntil(a,s)}isoDaysUntil(e,t){return i_(e.year,e.month,e.day,t.year,t.month,t.day,"day").days}monthDayFromFields(e,t,r){let a,s,u,c,f,{monthCode:d,day:g}=e;if(d===void 0){let{year:b,era:R,eraYear:C}=e;if(b===void 0&&(R===void 0||C===void 0))throw new TypeError("when `monthCode` is omitted, `year` (or `era` and `eraYear`) and `month` are required");({monthCode:d,day:g}=this.isoToCalendarDate(this.calendarToIsoDate(e,t,r),r))}const v=this.isoToCalendarDate({year:1972,month:12,day:31},r),w=v.monthCode>d||v.monthCode===d&&v.day>=g?v.year:v.year-1;for(let b=0;b<100;b++){const R=this.adjustCalendarDate({day:g,monthCode:d,year:w-b},r),C=this.calendarToIsoDate(R,"constrain",r),D=this.isoToCalendarDate(C,r);if({year:a,month:s,day:u}=C,D.monthCode===d&&D.day===g)return{month:s,day:u,year:a};t==="constrain"&&(c===void 0||D.monthCode===c.monthCode&&D.day>c.day)&&(c=D,f=C)}if(t==="constrain"&&f!==void 0)return f;throw new RangeError(`No recent ${this.id} year with monthCode ${d} and day ${g}`)}}class SN extends jc{constructor(){super(...arguments),this.id="hebrew",this.calendarType="lunisolar",this.months={Tishri:{leap:1,regular:1,monthCode:"M01",days:30},Heshvan:{leap:2,regular:2,monthCode:"M02",days:{min:29,max:30}},Kislev:{leap:3,regular:3,monthCode:"M03",days:{min:29,max:30}},Tevet:{leap:4,regular:4,monthCode:"M04",days:29},Shevat:{leap:5,regular:5,monthCode:"M05",days:30},Adar:{leap:void 0,regular:6,monthCode:"M06",days:29},"Adar I":{leap:6,regular:void 0,monthCode:"M05L",days:30},"Adar II":{leap:7,regular:void 0,monthCode:"M06",days:29},Nisan:{leap:8,regular:7,monthCode:"M07",days:30},Iyar:{leap:9,regular:8,monthCode:"M08",days:29},Sivan:{leap:10,regular:9,monthCode:"M09",days:30},Tamuz:{leap:11,regular:10,monthCode:"M10",days:29},Av:{leap:12,regular:11,monthCode:"M11",days:30},Elul:{leap:13,regular:12,monthCode:"M12",days:29}},this.hasEra=!1}inLeapYear(e){const{year:t}=e;return(7*t+1)%19<7}monthsInYear(e){return this.inLeapYear(e)?13:12}minimumMonthLength(e){return this.minMaxMonthLength(e,"min")}maximumMonthLength(e){return this.minMaxMonthLength(e,"max")}minMaxMonthLength(e,t){const{month:r,year:a}=e,s=this.getMonthCode(a,r),u=i0(this.months).find(f=>f[1].monthCode===s);if(u===void 0)throw new RangeError(`unmatched Hebrew month: ${r}`);const c=u[1].days;return typeof c=="number"?c:c[t]}estimateIsoDate(e){const{year:t}=e;return{year:t-3760,month:1,day:1}}getMonthCode(e,t){return this.inLeapYear({year:e})?t===6?Mo(5,!0):Mo(t<6?t:t-1):Mo(t)}adjustCalendarDate(e,t,r="constrain",a=!1){let{year:s,eraYear:u,month:c,monthCode:f,day:d,monthExtra:g}=e;if(s===void 0&&u!==void 0&&(s=u),u===void 0&&s!==void 0&&(u=s),a){if(g){const v=this.months[g];if(!v)throw new RangeError(`Unrecognized month from formatToParts: ${g}`);c=this.inLeapYear({year:s})?v.leap:v.regular}return f=this.getMonthCode(s,c),{year:s,month:c,day:d,era:void 0,eraYear:u,monthCode:f}}if(this.validateCalendarDate(e),c===void 0)if(f.endsWith("L")){if(f!=="M05L")throw new RangeError(`Hebrew leap month must have monthCode M05L, not ${f}`);if(c=6,!this.inLeapYear({year:s})){if(r==="reject")throw new RangeError(`Hebrew monthCode M05L is invalid in year ${s} which is not a leap year`);c=6,f="M06"}}else{c=f_(f),this.inLeapYear({year:s})&&c>=6&&c++;const v=this.monthsInYear({year:s});if(c<1||c>v)throw new RangeError(`Invalid monthCode: ${f}`)}else if(r==="reject"?(Zn(c,1,this.monthsInYear({year:s})),Zn(d,1,this.maximumMonthLength({year:s,month:c}))):(c=Xr(c,1,this.monthsInYear({year:s})),d=Xr(d,1,this.maximumMonthLength({year:s,month:c}))),f===void 0)f=this.getMonthCode(s,c);else if(this.getMonthCode(s,c)!==f)throw new RangeError(`monthCode ${f} doesn't correspond to month ${c} in Hebrew year ${s}`);return{...e,day:d,month:c,monthCode:f,year:s,eraYear:u}}}class Bc extends jc{constructor(){super(...arguments),this.calendarType="lunar",this.DAYS_PER_ISLAMIC_YEAR=354+11/30,this.DAYS_PER_ISO_YEAR=365.2425,this.constantEra="ah"}inLeapYear(e,t){return this.daysInMonth({year:e.year,month:12,day:1},t)===30}monthsInYear(){return 12}minimumMonthLength(){return 29}maximumMonthLength(){return 30}estimateIsoDate(e){const{year:t}=this.adjustCalendarDate(e);return{year:AN(t*this.DAYS_PER_ISLAMIC_YEAR/this.DAYS_PER_ISO_YEAR)+622,month:1,day:1}}}class $S extends Bc{constructor(){super(...arguments),this.id="islamic"}}class CN extends Bc{constructor(){super(...arguments),this.id="islamic-umalqura"}}class DN extends Bc{constructor(){super(...arguments),this.id="islamic-tbla"}}class IN extends Bc{constructor(){super(...arguments),this.id="islamic-civil"}}class ON extends Bc{constructor(){super(...arguments),this.id="islamic-rgsa"}}class MN extends Bc{constructor(){super(...arguments),this.id="islamicc"}}class xN extends jc{constructor(){super(...arguments),this.id="persian",this.calendarType="solar",this.constantEra="ap"}inLeapYear(e,t){return $S.prototype.inLeapYear.call(this,e,t)}monthsInYear(){return 12}minimumMonthLength(e){const{month:t}=e;return t===12?29:t<=6?31:30}maximumMonthLength(e){const{month:t}=e;return t===12?30:t<=6?31:30}estimateIsoDate(e){const{year:t}=this.adjustCalendarDate(e);return{year:t+621,month:1,day:1}}}class NN extends jc{constructor(){super(...arguments),this.id="indian",this.calendarType="solar",this.constantEra="saka",this.months={1:{length:30,month:3,day:22,leap:{length:31,month:3,day:21}},2:{length:31,month:4,day:21},3:{length:31,month:5,day:22},4:{length:31,month:6,day:22},5:{length:31,month:7,day:23},6:{length:31,month:8,day:23},7:{length:30,month:9,day:23},8:{length:30,month:10,day:23},9:{length:30,month:11,day:22},10:{length:30,month:12,day:22},11:{length:30,month:1,nextYear:!0,day:21},12:{length:30,month:2,nextYear:!0,day:20}},this.vulnerableToBceBug=new Date("0000-01-01T00:00Z").toLocaleDateString("en-US-u-ca-indian",{timeZone:"UTC"})!=="10/11/-79 Saka"}inLeapYear(e){return FS(e.year+78)}monthsInYear(){return 12}minimumMonthLength(e){return this.getMonthInfo(e).length}maximumMonthLength(e){return this.getMonthInfo(e).length}getMonthInfo(e){const{month:t}=e;let r=this.months[t];if(r===void 0)throw new RangeError(`Invalid month: ${t}`);return this.inLeapYear(e)&&r.leap&&(r=r.leap),r}estimateIsoDate(e){const t=this.adjustCalendarDate(e),r=this.getMonthInfo(t);return jl(t.year+78+(r.nextYear?1:0),r.month,r.day,0,0,0,t.day-1,"constrain")}checkIcuBugs(e){if(this.vulnerableToBceBug&&e.year<1)throw new RangeError(`calendar '${this.id}' is broken for ISO dates before 0001-01-01 (see https://bugs.chromium.org/p/v8/issues/detail?id=10529)`)}}function FS(n){return n%4==0&&(n%100!=0||n%400==0)}class Yf extends jc{constructor(e,t){super(),this.calendarType="solar",this.v8IsVulnerableToJulianBug=new Date("+001001-01-01T00:00Z").toLocaleDateString("en-US-u-ca-japanese",{timeZone:"UTC"}).startsWith("12"),this.calendarIsVulnerableToJulianBug=!1,this.id=e;const{eras:r,anchorEra:a}=function(u){let c,f=u;if(f.length===0)throw new RangeError("Invalid era data: eras are required");if(f.length===1&&f[0].reverseOf)throw new RangeError("Invalid era data: anchor era cannot count years backwards");if(f.length===1&&!f[0].name)throw new RangeError("Invalid era data: at least one named era is required");if(f.filter(g=>g.reverseOf!=null).length>1)throw new RangeError("Invalid era data: only one era can count years backwards");f.forEach(g=>{if(g.isAnchor||!g.anchorEpoch&&!g.reverseOf){if(c)throw new RangeError("Invalid era data: cannot have multiple anchor eras");c=g,g.anchorEpoch={year:g.hasYearZero?0:1}}else if(!g.name)throw new RangeError("If era name is blank, it must be the anchor era")}),f=f.filter(g=>g.name),f.forEach(g=>{const{reverseOf:v}=g;if(v){const w=f.find(b=>b.name===v);if(w===void 0)throw new RangeError(`Invalid era data: unmatched reverseOf era: ${v}`);g.reverseOf=w,g.anchorEpoch=w.anchorEpoch,g.isoEpoch=w.isoEpoch}g.anchorEpoch.month===void 0&&(g.anchorEpoch.month=1),g.anchorEpoch.day===void 0&&(g.anchorEpoch.day=1)}),bN.call(f,(g,v)=>{if(g.reverseOf)return 1;if(v.reverseOf)return-1;if(!g.isoEpoch||!v.isoEpoch)throw new RangeError("Invalid era data: missing ISO epoch");return v.isoEpoch.year-g.isoEpoch.year});const d=f[f.length-1].reverseOf;if(d&&d!==f[f.length-2])throw new RangeError("Invalid era data: invalid reverse-sign era");return f.forEach((g,v)=>{g.genericName="era"+(f.length-1-v)}),{eras:f,anchorEra:c||f[0]}}(t);this.anchorEra=a,this.eras=r}inLeapYear(e){const{year:t}=this.estimateIsoDate({month:1,day:1,year:e.year});return FS(t)}monthsInYear(){return 12}minimumMonthLength(e){const{month:t}=e;return t===2?this.inLeapYear(e)?29:28:[4,6,9,11].indexOf(t)>=0?30:31}maximumMonthLength(e){return this.minimumMonthLength(e)}completeEraYear(e){const t=(c,f)=>{const d=e[c];if(d!=null&&d!=f)throw new RangeError(`Input ${c} ${d} doesn't match calculated value ${f}`)},r=c=>{let f;const d={...e,year:c},g=this.eras.find((v,w)=>{if(w===this.eras.length-1){if(v.reverseOf){if(c>0)throw new RangeError(`Signed year ${c} is invalid for era ${v.name}`);return f=v.anchorEpoch.year-c,!0}return f=c-v.anchorEpoch.year+(v.hasYearZero?0:1),!0}return this.compareCalendarDates(d,v.anchorEpoch)>=0&&(f=c-v.anchorEpoch.year+(v.hasYearZero?0:1),!0)});if(!g)throw new RangeError(`Year ${c} was not matched by any era`);return{eraYear:f,era:g.name}};let{year:a,eraYear:s,era:u}=e;if(a!=null)({eraYear:s,era:u}=r(a)),t("era",u),t("eraYear",s);else{if(s==null)throw new RangeError("Either `year` or `eraYear` and `era` are required");{const c=u===void 0?void 0:this.eras.find(f=>f.name===u||f.genericName===u);if(!c)throw new RangeError(`Era ${u} (ISO year ${s}) was not matched by any era`);if(s<1&&c.reverseOf)throw new RangeError(`Years in ${u} era must be positive, not ${a}`);a=c.reverseOf?c.anchorEpoch.year-s:s+c.anchorEpoch.year-(c.hasYearZero?0:1),t("year",a),{eraYear:s,era:u}=r(a)}}return{...e,year:a,eraYear:s,era:u}}adjustCalendarDate(e,t,r="constrain"){let a=e;const{month:s,monthCode:u}=a;return s===void 0&&(a={...a,month:f_(u)}),this.validateCalendarDate(a),a=this.completeEraYear(a),super.adjustCalendarDate(a,t,r)}estimateIsoDate(e){const t=this.adjustCalendarDate(e),{year:r,month:a,day:s}=t,{anchorEra:u}=this;return np(r+u.isoEpoch.year-(u.hasYearZero?0:1),a,s,"constrain")}checkIcuBugs(e){if(this.calendarIsVulnerableToJulianBug&&this.v8IsVulnerableToJulianBug&&Cs(e.year,e.month,e.day,1582,10,15)<0)throw new RangeError(`calendar '${this.id}' is broken for ISO dates before 1582-10-15 (see https://bugs.chromium.org/p/chromium/issues/detail?id=1173158)`)}}class d_ extends Yf{constructor(e,t){super(e,t)}inLeapYear(e){const{year:t}=e;return(t+1)%4==0}monthsInYear(){return 13}minimumMonthLength(e){const{month:t}=e;return t===13?this.inLeapYear(e)?6:5:30}maximumMonthLength(e){return this.minimumMonthLength(e)}}class kN extends d_{constructor(){super("ethioaa",[{name:"era0",isoEpoch:{year:-5492,month:7,day:17}}])}}class PN extends d_{constructor(){super("coptic",[{name:"era1",isoEpoch:{year:284,month:8,day:29}},{name:"era0",reverseOf:"era1"}])}}class LN extends d_{constructor(){super("ethiopic",[{name:"era0",isoEpoch:{year:-5492,month:7,day:17}},{name:"era1",isoEpoch:{year:8,month:8,day:27},anchorEpoch:{year:5501}}])}}class VN extends Yf{constructor(){super("roc",[{name:"minguo",isoEpoch:{year:1912,month:1,day:1}},{name:"before-roc",reverseOf:"minguo"}]),this.calendarIsVulnerableToJulianBug=!0}}class UN extends Yf{constructor(){super("buddhist",[{name:"be",hasYearZero:!0,isoEpoch:{year:-543,month:1,day:1}}]),this.calendarIsVulnerableToJulianBug=!0}}class zN extends Yf{constructor(){super("gregory",[{name:"ce",isoEpoch:{year:1,month:1,day:1}},{name:"bce",reverseOf:"ce"}])}reviseIntlEra(e){let{era:t,eraYear:r}=e;return t!=="bc"&&t!=="b"||(t="bce"),t!=="ad"&&t!=="a"||(t="ce"),{era:t,eraYear:r}}}class jN extends Yf{constructor(){super("japanese",[{name:"reiwa",isoEpoch:{year:2019,month:5,day:1},anchorEpoch:{year:2019,month:5,day:1}},{name:"heisei",isoEpoch:{year:1989,month:1,day:8},anchorEpoch:{year:1989,month:1,day:8}},{name:"showa",isoEpoch:{year:1926,month:12,day:25},anchorEpoch:{year:1926,month:12,day:25}},{name:"taisho",isoEpoch:{year:1912,month:7,day:30},anchorEpoch:{year:1912,month:7,day:30}},{name:"meiji",isoEpoch:{year:1868,month:9,day:8},anchorEpoch:{year:1868,month:9,day:8}},{name:"ce",isoEpoch:{year:1,month:1,day:1}},{name:"bce",reverseOf:"ce"}]),this.calendarIsVulnerableToJulianBug=!0,this.eraLength="long",this.erasBeginMidYear=!0}reviseIntlEra(e,t){const{era:r,eraYear:a}=e,{year:s}=t;return this.eras.find(u=>u.name===r)?{era:r,eraYear:a}:s<1?{era:"bce",eraYear:1-s}:{era:"ce",eraYear:s}}}class qS extends jc{constructor(){super(...arguments),this.calendarType="lunisolar",this.hasEra=!1}inLeapYear(e,t){const r=this.getMonthList(e.year,t);return i0(r).length===13}monthsInYear(e,t){return this.inLeapYear(e,t)?13:12}minimumMonthLength(){return 29}maximumMonthLength(){return 30}getMonthList(e,t){if(e===void 0)throw new TypeError("Missing year");const r=JSON.stringify({func:"getMonthList",calendarYear:e,id:this.id}),a=t.get(r);if(a)return a;const s=this.getFormatter(),u=(D,M)=>{const N=BS({isoYear:D,isoMonth:2,isoDay:1}),V=new Date(N);V.setUTCDate(M+1);const $=s.formatToParts(V),L=$.find(I=>I.type==="month").value,Y=+$.find(I=>I.type==="day").value;let x=$.find(I=>I.type==="relatedYear");if(x===void 0)throw new RangeError(`Intl.DateTimeFormat.formatToParts lacks relatedYear in ${this.id} calendar. Try Node 14+ or modern browsers.`);return x=+x.value,{calendarMonthString:L,calendarDay:Y,calendarYearToVerify:x}};let c=17,{calendarMonthString:f,calendarDay:d,calendarYearToVerify:g}=u(e,c);f!=="1"&&(c+=29,{calendarMonthString:f,calendarDay:d}=u(e,c)),c-=d-5;const v={};let w,b,R=1,C=!1;do({calendarMonthString:f,calendarDay:d,calendarYearToVerify:g}=u(e,c)),w&&(v[b].daysInMonth=w+30-d),g!==e?C=!0:(v[f]={monthIndex:R++},c+=30),w=d,b=f;while(!C);return v[b].daysInMonth=w+30-d,t.set(r,v),v}estimateIsoDate(e){const{year:t,month:r}=e;return{year:t,month:r>=12?12:r+1,day:1}}adjustCalendarDate(e,t,r="constrain",a=!1){let{year:s,month:u,monthExtra:c,day:f,monthCode:d,eraYear:g}=e;if(a){if(s=g,c&&c!=="bis")throw new RangeError(`Unexpected leap month suffix: ${c}`);const v=Mo(u,c!==void 0),w=`${u}${c||""}`,b=this.getMonthList(s,t)[w];if(b===void 0)throw new RangeError(`Unmatched month ${w} in Chinese year ${s}`);return u=b.monthIndex,{year:s,month:u,day:f,era:void 0,eraYear:g,monthCode:v}}if(this.validateCalendarDate(e),s===void 0&&(s=g),g===void 0&&(g=s),u===void 0){const v=this.getMonthList(s,t);let w=d.replace("L","bis").slice(1);w[0]==="0"&&(w=w.slice(1));let b=v[w];if(u=b&&b.monthIndex,u===void 0&&d.endsWith("L")&&d!="M13L"&&r==="constrain"){let R=d.slice(1,-1);R[0]==="0"&&(R=R.slice(1)),b=v[R],b&&(u=b.monthIndex,d=Mo(R))}if(u===void 0)throw new RangeError(`Unmatched month ${d} in Chinese year ${s}`)}else if(d===void 0){const v=this.getMonthList(s,t),w=i0(v),b=w.length;r==="reject"?(Zn(u,1,b),Zn(f,1,this.maximumMonthLength())):(u=Xr(u,1,b),f=Xr(f,1,this.maximumMonthLength()));const R=w.find(([,C])=>C.monthIndex===u);if(R===void 0)throw new RangeError(`Invalid month ${u} in Chinese year ${s}`);d=Mo(R[0].replace("bis",""),R[0].indexOf("bis")!==-1)}else{const v=this.getMonthList(s,t);let w=d.replace("L","bis").slice(1);w[0]==="0"&&(w=w.slice(1));const b=v[w];if(!b)throw new RangeError(`Unmatched monthCode ${d} in Chinese year ${s}`);if(u!==b.monthIndex)throw new RangeError(`monthCode ${d} doesn't correspond to month ${u} in Chinese year ${s}`)}return{...e,year:s,eraYear:g,month:u,monthCode:d,day:f}}}class BN extends qS{constructor(){super(...arguments),this.id="chinese"}}class $N extends qS{constructor(){super(...arguments),this.id="dangi"}}class FN{constructor(e){this.helper=e}dateFromFields(e,t,r){const a=new rn,s=it(e,this.fields(["day","month","monthCode","year"]),[]),u=yn(t),{year:c,month:f,day:d}=this.helper.calendarToIsoDate(s,u,a),g=Ci(c,f,d,r);return a.setObject(g),g}yearMonthFromFields(e,t,r){const a=new rn,s=it(e,this.fields(["month","monthCode","year"]),[]),u=yn(t),{year:c,month:f,day:d}=this.helper.calendarToIsoDate({...s,day:1},u,a),g=vf(c,f,r,d);return a.setObject(g),g}monthDayFromFields(e,t,r){const a=new rn,s=it(e,this.fields(["day","month","monthCode","year"]),[]),u=yn(t),{year:c,month:f,day:d}=this.helper.monthDayFromFields(s,u,a),g=yf(f,d,r,c);return a.setObject(g),g}fields(e){let t=e;return US.call(t,"year")&&(t=[...t,"era","eraYear"]),t}fieldKeysToIgnore(e){const t=new zS;for(let r=0;r<e.length;r++){const a=e[r];switch(Ie(ur,t,[a]),a){case"era":Ie(ur,t,["eraYear"]),Ie(ur,t,["year"]);break;case"eraYear":Ie(ur,t,["era"]),Ie(ur,t,["year"]);break;case"year":Ie(ur,t,["era"]),Ie(ur,t,["eraYear"]);break;case"month":Ie(ur,t,["monthCode"]),this.helper.erasBeginMidYear&&(Ie(ur,t,["era"]),Ie(ur,t,["eraYear"]));break;case"monthCode":Ie(ur,t,["month"]),this.helper.erasBeginMidYear&&(Ie(ur,t,["era"]),Ie(ur,t,["eraYear"]));break;case"day":this.helper.erasBeginMidYear&&(Ie(ur,t,["era"]),Ie(ur,t,["eraYear"]))}}return[...Ie(jS,t,[])]}dateAdd(e,t,r,a,s,u,c){const f=rn.getCacheForObject(e),d=this.helper.temporalToCalendarDate(e,f),g=this.helper.addCalendar(d,{years:t,months:r,weeks:a,days:s},u,f),v=this.helper.calendarToIsoDate(g,"constrain",f),{year:w,month:b,day:R}=v,C=Ci(w,b,R,c);return new rn(f).setObject(C),C}dateUntil(e,t,r){const a=rn.getCacheForObject(e),s=rn.getCacheForObject(t),u=this.helper.temporalToCalendarDate(e,a),c=this.helper.temporalToCalendarDate(t,s);return this.helper.untilCalendar(u,c,r,a)}year(e){const t=rn.getCacheForObject(e);return this.helper.temporalToCalendarDate(e,t).year}month(e){const t=rn.getCacheForObject(e);return this.helper.temporalToCalendarDate(e,t).month}day(e){const t=rn.getCacheForObject(e);return this.helper.temporalToCalendarDate(e,t).day}era(e){if(!this.helper.hasEra)return;const t=rn.getCacheForObject(e);return this.helper.temporalToCalendarDate(e,t).era}eraYear(e){if(!this.helper.hasEra)return;const t=rn.getCacheForObject(e);return this.helper.temporalToCalendarDate(e,t).eraYear}monthCode(e){const t=rn.getCacheForObject(e);return this.helper.temporalToCalendarDate(e,t).monthCode}dayOfWeek(e){return Xt.iso8601.dayOfWeek(e)}dayOfYear(e){const t=rn.getCacheForObject(e),r=this.helper.isoToCalendarDate(e,t),a=this.helper.startOfCalendarYear(r);return this.helper.calendarDaysUntil(a,r,t)+1}weekOfYear(e){return Xt.iso8601.weekOfYear(e)}yearOfWeek(e){return Xt.iso8601.yearOfWeek(e)}daysInWeek(e){return Xt.iso8601.daysInWeek(e)}daysInMonth(e){const t=rn.getCacheForObject(e),r=this.helper.temporalToCalendarDate(e,t),a=this.helper.maximumMonthLength(r);if(a===this.helper.minimumMonthLength(r))return a;const s=this.helper.startOfCalendarMonth(r),u=this.helper.addMonthsCalendar(s,1,"constrain",t);return this.helper.calendarDaysUntil(s,u,t)}daysInYear(e){let t=e;Ln(t,we)||(t=Nt(t));const r=rn.getCacheForObject(t),a=this.helper.temporalToCalendarDate(t,r),s=this.helper.startOfCalendarYear(a),u=this.helper.addCalendar(s,{years:1},"constrain",r);return this.helper.calendarDaysUntil(s,u,r)}monthsInYear(e){const t=rn.getCacheForObject(e),r=this.helper.temporalToCalendarDate(e,t);return this.helper.monthsInYear(r,t)}inLeapYear(e){let t=e;Ln(t,we)||(t=Nt(t));const r=rn.getCacheForObject(t),a=this.helper.temporalToCalendarDate(t,r);return this.helper.inLeapYear(a,r)}}for(const n of[SN,xN,LN,kN,PN,BN,$N,VN,NN,UN,zN,jN,$S,CN,DN,IN,ON,MN]){const e=new n;Xt[e.id]=new FN(e)}class Gf{constructor(e,t,r,a="iso8601"){nS(this,gt(e),gt(t),gt(r),ti(a))}get calendarId(){if(!st(this))throw new TypeError("invalid receiver");return Xn(y(this,X))}get era(){if(!st(this))throw new TypeError("invalid receiver");return Bp(y(this,X),this)}get eraYear(){if(!st(this))throw new TypeError("invalid receiver");return $p(y(this,X),this)}get year(){if(!st(this))throw new TypeError("invalid receiver");return zp(y(this,X),this)}get month(){if(!st(this))throw new TypeError("invalid receiver");return jp(y(this,X),this)}get monthCode(){if(!st(this))throw new TypeError("invalid receiver");return Bf(y(this,X),this)}get day(){if(!st(this))throw new TypeError("invalid receiver");return $f(y(this,X),this)}get dayOfWeek(){if(!st(this))throw new TypeError("invalid receiver");return K0(y(this,X),this)}get dayOfYear(){if(!st(this))throw new TypeError("invalid receiver");return Q0(y(this,X),this)}get weekOfYear(){if(!st(this))throw new TypeError("invalid receiver");return Z0(y(this,X),this)}get yearOfWeek(){if(!st(this))throw new TypeError("invalid receiver");return X0(y(this,X),this)}get daysInWeek(){if(!st(this))throw new TypeError("invalid receiver");return W0(y(this,X),this)}get daysInMonth(){if(!st(this))throw new TypeError("invalid receiver");return Fp(y(this,X),this)}get daysInYear(){if(!st(this))throw new TypeError("invalid receiver");return qp(y(this,X),this)}get monthsInYear(){if(!st(this))throw new TypeError("invalid receiver");return Hp(y(this,X),this)}get inLeapYear(){if(!st(this))throw new TypeError("invalid receiver");return Yp(y(this,X),this)}with(e,t){if(!st(this))throw new TypeError("invalid receiver");if(!Kt(e))throw new TypeError("invalid argument");Pc(e);const r=ut(t),a=y(this,X),s=En(a,["day","month","monthCode","year"]);let u=it(this,s,[]);return u=Gl(a,u,it(e,s,"partial")),u=it(u,s,[]),No(a,u,r)}withCalendar(e){if(!st(this))throw new TypeError("invalid receiver");const t=ti(e);return new Gf(y(this,we),y(this,Ee),y(this,Re),t)}add(e,t){if(!st(this))throw new TypeError("invalid receiver");const r=sc(e),a=ut(t);return Qn(y(this,X),this,r,a)}subtract(e,t){if(!st(this))throw new TypeError("invalid receiver");const r=yS(sc(e)),a=ut(t);return Qn(y(this,X),this,r,a)}until(e,t){if(!st(this))throw new TypeError("invalid receiver");return _1("until",this,e,t)}since(e,t){if(!st(this))throw new TypeError("invalid receiver");return _1("since",this,e,t)}equals(e){if(!st(this))throw new TypeError("invalid receiver");const t=Nt(e);for(const r of[we,Ee,Re])if(y(this,r)!==y(t,r))return!1;return qf(y(this,X),y(t,X))}toString(e){if(!st(this))throw new TypeError("invalid receiver");return c1(this,Vf(ut(e)))}toJSON(){if(!st(this))throw new TypeError("invalid receiver");return c1(this)}toLocaleString(e,t){if(!st(this))throw new TypeError("invalid receiver");return new Xs(e,t).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainDate")}toPlainDateTime(e){if(!st(this))throw new TypeError("invalid receiver");const t=y(this,we),r=y(this,Ee),a=y(this,Re),s=y(this,X);if(e===void 0)return Zr(t,r,a,0,0,0,0,0,0,s);const u=Ao(e);return Zr(t,r,a,y(u,Qe),y(u,Ze),y(u,Xe),y(u,We),y(u,Je),y(u,et),s)}toZonedDateTime(e){if(!st(this))throw new TypeError("invalid receiver");let t,r;if(Kt(e))if(Ti(e))t=e;else{const R=e.timeZone;R===void 0?t=mr(e):(t=mr(R),r=e.plainTime)}else t=mr(e);const a=y(this,we),s=y(this,Ee),u=y(this,Re),c=y(this,X);let f=0,d=0,g=0,v=0,w=0,b=0;return r!==void 0&&(r=Ao(r),f=y(r,Qe),d=y(r,Ze),g=y(r,Xe),v=y(r,We),w=y(r,Je),b=y(r,et)),Kn(y(Mr(t,Zr(a,s,u,f,d,g,v,w,b,c),"compatible"),ze),t,c)}toPlainYearMonth(){if(!st(this))throw new TypeError("invalid receiver");const e=y(this,X);return Kl(e,it(this,En(e,["monthCode","year"]),[]))}toPlainMonthDay(){if(!st(this))throw new TypeError("invalid receiver");const e=y(this,X);return Tc(e,it(this,En(e,["day","monthCode"]),[]))}getISOFields(){if(!st(this))throw new TypeError("invalid receiver");return{calendar:y(this,X),isoDay:y(this,Re),isoMonth:y(this,Ee),isoYear:y(this,we)}}getCalendar(){if(!st(this))throw new TypeError("invalid receiver");return Uc(y(this,X))}static from(e,t){const r=ut(t);return st(e)?(yn(r),Ci(y(e,we),y(e,Ee),y(e,Re),y(e,X))):Nt(e,r)}static compare(e,t){const r=Nt(e),a=Nt(t);return Cs(y(r,we),y(r,Ee),y(r,Re),y(a,we),y(a,Ee),y(a,Re))}}Ka(Gf,"Temporal.PlainDate");class Kf{constructor(e,t,r,a=0,s=0,u=0,c=0,f=0,d=0,g="iso8601"){rS(this,gt(e),gt(t),gt(r),a===void 0?0:gt(a),s===void 0?0:gt(s),u===void 0?0:gt(u),c===void 0?0:gt(c),f===void 0?0:gt(f),d===void 0?0:gt(d),ti(g))}get calendarId(){if(!Ge(this))throw new TypeError("invalid receiver");return Xn(y(this,X))}get year(){if(!Ge(this))throw new TypeError("invalid receiver");return zp(y(this,X),this)}get month(){if(!Ge(this))throw new TypeError("invalid receiver");return jp(y(this,X),this)}get monthCode(){if(!Ge(this))throw new TypeError("invalid receiver");return Bf(y(this,X),this)}get day(){if(!Ge(this))throw new TypeError("invalid receiver");return $f(y(this,X),this)}get hour(){if(!Ge(this))throw new TypeError("invalid receiver");return y(this,Qe)}get minute(){if(!Ge(this))throw new TypeError("invalid receiver");return y(this,Ze)}get second(){if(!Ge(this))throw new TypeError("invalid receiver");return y(this,Xe)}get millisecond(){if(!Ge(this))throw new TypeError("invalid receiver");return y(this,We)}get microsecond(){if(!Ge(this))throw new TypeError("invalid receiver");return y(this,Je)}get nanosecond(){if(!Ge(this))throw new TypeError("invalid receiver");return y(this,et)}get era(){if(!Ge(this))throw new TypeError("invalid receiver");return Bp(y(this,X),this)}get eraYear(){if(!Ge(this))throw new TypeError("invalid receiver");return $p(y(this,X),this)}get dayOfWeek(){if(!Ge(this))throw new TypeError("invalid receiver");return K0(y(this,X),this)}get dayOfYear(){if(!Ge(this))throw new TypeError("invalid receiver");return Q0(y(this,X),this)}get weekOfYear(){if(!Ge(this))throw new TypeError("invalid receiver");return Z0(y(this,X),this)}get yearOfWeek(){if(!Ge(this))throw new TypeError("invalid receiver");return X0(y(this,X),this)}get daysInWeek(){if(!Ge(this))throw new TypeError("invalid receiver");return W0(y(this,X),this)}get daysInYear(){if(!Ge(this))throw new TypeError("invalid receiver");return qp(y(this,X),this)}get daysInMonth(){if(!Ge(this))throw new TypeError("invalid receiver");return Fp(y(this,X),this)}get monthsInYear(){if(!Ge(this))throw new TypeError("invalid receiver");return Hp(y(this,X),this)}get inLeapYear(){if(!Ge(this))throw new TypeError("invalid receiver");return Yp(y(this,X),this)}with(e,t){if(!Ge(this))throw new TypeError("invalid receiver");if(!Kt(e))throw new TypeError("invalid argument");Pc(e);const r=ut(t),a=y(this,X),s=En(a,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]);let u=it(this,s,[]);u=Gl(a,u,it(e,s,"partial")),u=it(u,s,[]);const{year:c,month:f,day:d,hour:g,minute:v,second:w,millisecond:b,microsecond:R,nanosecond:C}=jf(a,u,r);return Zr(c,f,d,g,v,w,b,R,C,a)}withPlainTime(e){if(!Ge(this))throw new TypeError("invalid receiver");const t=y(this,we),r=y(this,Ee),a=y(this,Re),s=y(this,X);if(e===void 0)return Zr(t,r,a,0,0,0,0,0,0,s);const u=Ao(e);return Zr(t,r,a,y(u,Qe),y(u,Ze),y(u,Xe),y(u,We),y(u,Je),y(u,et),s)}withPlainDate(e){if(!Ge(this))throw new TypeError("invalid receiver");const t=Nt(e),r=y(t,we),a=y(t,Ee),s=y(t,Re);let u=y(t,X);const c=y(this,Qe),f=y(this,Ze),d=y(this,Xe),g=y(this,We),v=y(this,Je),w=y(this,et);return u=sS(y(this,X),u),Zr(r,a,s,c,f,d,g,v,w,u)}withCalendar(e){if(!Ge(this))throw new TypeError("invalid receiver");const t=ti(e);return new Kf(y(this,we),y(this,Ee),y(this,Re),y(this,Qe),y(this,Ze),y(this,Xe),y(this,We),y(this,Je),y(this,et),t)}add(e,t){if(!Ge(this))throw new TypeError("invalid receiver");return S1("add",this,e,t)}subtract(e,t){if(!Ge(this))throw new TypeError("invalid receiver");return S1("subtract",this,e,t)}until(e,t){if(!Ge(this))throw new TypeError("invalid receiver");return T1("until",this,e,t)}since(e,t){if(!Ge(this))throw new TypeError("invalid receiver");return T1("since",this,e,t)}round(e){if(!Ge(this))throw new TypeError("invalid receiver");if(e===void 0)throw new TypeError("options parameter is required");const t=typeof e=="string"?bc("smallestUnit",e):ut(e),r=Lc(t),a=ua(t,"halfExpand"),s=ei(t,"smallestUnit","time",Hl,["day"]),u={day:1,hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[s];Vc(r,u,u===1);let c=y(this,we),f=y(this,Ee),d=y(this,Re),g=y(this,Qe),v=y(this,Ze),w=y(this,Xe),b=y(this,We),R=y(this,Je),C=y(this,et);return{year:c,month:f,day:d,hour:g,minute:v,second:w,millisecond:b,microsecond:R,nanosecond:C}=s_(c,f,d,g,v,w,b,R,C,r,s,a),Zr(c,f,d,g,v,w,b,R,C,y(this,X))}equals(e){if(!Ge(this))throw new TypeError("invalid receiver");const t=Vl(e);for(const r of[we,Ee,Re,Qe,Ze,Xe,We,Je,et])if(y(this,r)!==y(t,r))return!1;return qf(y(this,X),y(t,X))}toString(e){if(!Ge(this))throw new TypeError("invalid receiver");const t=ut(e),r=Vf(t),a=Uf(t),s=ua(t,"trunc"),u=ei(t,"smallestUnit","time",void 0);if(u==="hour")throw new RangeError('smallestUnit must be a time unit other than "hour"');const{precision:c,unit:f,increment:d}=zf(u,a);return h1(this,c,r,{unit:f,increment:d,roundingMode:s})}toJSON(){if(!Ge(this))throw new TypeError("invalid receiver");return h1(this,"auto")}toLocaleString(e,t){if(!Ge(this))throw new TypeError("invalid receiver");return new Xs(e,t).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainDateTime")}toZonedDateTime(e,t){if(!Ge(this))throw new TypeError("invalid receiver");const r=mr(e);return Kn(y(Mr(r,this,_c(ut(t))),ze),r,y(this,X))}toPlainDate(){if(!Ge(this))throw new TypeError("invalid receiver");return wc(this)}toPlainYearMonth(){if(!Ge(this))throw new TypeError("invalid receiver");const e=y(this,X);return Kl(e,it(this,En(e,["monthCode","year"]),[]))}toPlainMonthDay(){if(!Ge(this))throw new TypeError("invalid receiver");const e=y(this,X);return Tc(e,it(this,En(e,["day","monthCode"]),[]))}toPlainTime(){if(!Ge(this))throw new TypeError("invalid receiver");return J0(this)}getISOFields(){if(!Ge(this))throw new TypeError("invalid receiver");return{calendar:y(this,X),isoDay:y(this,Re),isoHour:y(this,Qe),isoMicrosecond:y(this,Je),isoMillisecond:y(this,We),isoMinute:y(this,Ze),isoMonth:y(this,Ee),isoNanosecond:y(this,et),isoSecond:y(this,Xe),isoYear:y(this,we)}}getCalendar(){if(!Ge(this))throw new TypeError("invalid receiver");return Uc(y(this,X))}static from(e,t){const r=ut(t);return Ge(e)?(yn(r),Zr(y(e,we),y(e,Ee),y(e,Re),y(e,Qe),y(e,Ze),y(e,Xe),y(e,We),y(e,Je),y(e,et),y(e,X))):Vl(e,r)}static compare(e,t){const r=Vl(e),a=Vl(t);for(const s of[we,Ee,Re,Qe,Ze,Xe,We,Je,et]){const u=y(r,s),c=y(a,s);if(u!==c)return Bl(u-c)}return 0}}Ka(Kf,"Temporal.PlainDateTime");class Ds{constructor(e=0,t=0,r=0,a=0,s=0,u=0,c=0,f=0,d=0,g=0){const v=e===void 0?0:kn(e),w=t===void 0?0:kn(t),b=r===void 0?0:kn(r),R=a===void 0?0:kn(a),C=s===void 0?0:kn(s),D=u===void 0?0:kn(u),M=c===void 0?0:kn(c),N=f===void 0?0:kn(f),V=d===void 0?0:kn(d),$=g===void 0?0:kn(g);lp(v,w,b,R,C,D,M,N,V,$),Qa(this),tt(this,wr,v),tt(this,$n,w),tt(this,zr,b),tt(this,Er,R),tt(this,br,C),tt(this,Rr,D),tt(this,Ar,M),tt(this,Sr,N),tt(this,Cr,V),tt(this,Dr,$)}get years(){if(!cn(this))throw new TypeError("invalid receiver");return y(this,wr)}get months(){if(!cn(this))throw new TypeError("invalid receiver");return y(this,$n)}get weeks(){if(!cn(this))throw new TypeError("invalid receiver");return y(this,zr)}get days(){if(!cn(this))throw new TypeError("invalid receiver");return y(this,Er)}get hours(){if(!cn(this))throw new TypeError("invalid receiver");return y(this,br)}get minutes(){if(!cn(this))throw new TypeError("invalid receiver");return y(this,Rr)}get seconds(){if(!cn(this))throw new TypeError("invalid receiver");return y(this,Ar)}get milliseconds(){if(!cn(this))throw new TypeError("invalid receiver");return y(this,Sr)}get microseconds(){if(!cn(this))throw new TypeError("invalid receiver");return y(this,Cr)}get nanoseconds(){if(!cn(this))throw new TypeError("invalid receiver");return y(this,Dr)}get sign(){if(!cn(this))throw new TypeError("invalid receiver");return Va(y(this,wr),y(this,$n),y(this,zr),y(this,Er),y(this,br),y(this,Rr),y(this,Ar),y(this,Sr),y(this,Cr),y(this,Dr))}get blank(){if(!cn(this))throw new TypeError("invalid receiver");return Va(y(this,wr),y(this,$n),y(this,zr),y(this,Er),y(this,br),y(this,Rr),y(this,Ar),y(this,Sr),y(this,Cr),y(this,Dr))===0}with(e){if(!cn(this))throw new TypeError("invalid receiver");const t=it(e,["days","hours","microseconds","milliseconds","minutes","months","nanoseconds","seconds","weeks","years"],"partial"),{years:r=y(this,wr),months:a=y(this,$n),weeks:s=y(this,zr),days:u=y(this,Er),hours:c=y(this,br),minutes:f=y(this,Rr),seconds:d=y(this,Ar),milliseconds:g=y(this,Sr),microseconds:v=y(this,Cr),nanoseconds:w=y(this,Dr)}=t;return new Ds(r,a,s,u,c,f,d,g,v,w)}negated(){if(!cn(this))throw new TypeError("invalid receiver");return yS(this)}abs(){if(!cn(this))throw new TypeError("invalid receiver");return new Ds(Math.abs(y(this,wr)),Math.abs(y(this,$n)),Math.abs(y(this,zr)),Math.abs(y(this,Er)),Math.abs(y(this,br)),Math.abs(y(this,Rr)),Math.abs(y(this,Ar)),Math.abs(y(this,Sr)),Math.abs(y(this,Cr)),Math.abs(y(this,Dr)))}add(e,t){if(!cn(this))throw new TypeError("invalid receiver");return R1("add",this,e,t)}subtract(e,t){if(!cn(this))throw new TypeError("invalid receiver");return R1("subtract",this,e,t)}round(e){if(!cn(this))throw new TypeError("invalid receiver");if(e===void 0)throw new TypeError("options parameter is required");let t=y(this,wr),r=y(this,$n),a=y(this,zr),s=y(this,Er),u=y(this,br),c=y(this,Rr),f=y(this,Ar),d=y(this,Sr),g=y(this,Cr),v=y(this,Dr),w=Xv(t,r,a,s,u,c,f,d,g,v);const b=typeof e=="string"?bc("smallestUnit",e):ut(e);let R=ei(b,"largestUnit","datetime",void 0,["auto"]),C=xm(b);const D=Lc(b),M=ua(b,"halfExpand");let N=ei(b,"smallestUnit","datetime",void 0),V=!0;N||(V=!1,N="nanosecond"),w=Yl(w,N);let $=!0;if(R||($=!1,R=w),R==="auto"&&(R=w),!V&&!$)throw new RangeError("at least one of smallestUnit or largestUnit is required");if(Yl(R,N)!==R)throw new RangeError(`largestUnit ${R} cannot be smaller than smallestUnit ${N}`);const L={hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[N];return L!==void 0&&Vc(D,L,!1),{years:t,months:r,weeks:a,days:s}=wm(t,r,a,s,R,C),{years:t,months:r,weeks:a,days:s,hours:u,minutes:c,seconds:f,milliseconds:d,microseconds:g,nanoseconds:v}=ko(t,r,a,s,u,c,f,d,g,v,D,N,M,C),{years:t,months:r,weeks:a,days:s,hours:u,minutes:c,seconds:f,milliseconds:d,microseconds:g,nanoseconds:v}=SS(t,r,a,s,u,c,f,d,g,v,D,N,M,C),{days:s,hours:u,minutes:c,seconds:f,milliseconds:d,microseconds:g,nanoseconds:v}=Zi(s,u,c,f,d,g,v,R,C),{years:t,months:r,weeks:a,days:s}=function(x,I,O,z,j,q){const U=pe("%Temporal.Duration%"),Se=Va(x,I,O,z,0,0,0,0,0,0);if(Se===0)return{years:x,months:I,weeks:O,days:z};const se=_.BigInt(Se);let re,de,ge=_.BigInt(x),Pe=_.BigInt(I),F=_.BigInt(O),ae=_.BigInt(z);q&&(de=Nt(q),re=y(de,X));const ve=new U(Se),ye=new U(0,Se),_e=new U(0,0,Se);switch(j){case"year":{if(!re)throw new RangeError("a starting point is required for years balancing");const Le=typeof re!="string"?bt(re,"dateAdd"):void 0;let Ve,wt,dt;for({relativeTo:Ve,days:wt}=hr(re,de,ve,Le);_.greaterThanOrEqual(oa(ae),_.BigInt(Yt(wt)));)ae=_.subtract(ae,_.BigInt(wt)),ge=_.add(ge,se),de=Ve,{relativeTo:Ve,days:wt}=hr(re,de,ve,Le);for({relativeTo:Ve,days:dt}=hr(re,de,ye,Le);_.greaterThanOrEqual(oa(ae),_.BigInt(Yt(dt)));)ae=_.subtract(ae,_.BigInt(dt)),Pe=_.add(Pe,se),de=Ve,{relativeTo:Ve,days:dt}=hr(re,de,ye,Le);Ve=Qn(re,de,ve,void 0,Le);const ct=typeof re!="string"?bt(re,"dateUntil"):void 0,mt=pr(null);mt.largestUnit="month";let Rn=Us(re,de,Ve,mt,ct),Fr=y(Rn,$n);for(;_.greaterThanOrEqual(oa(Pe),_.BigInt(Yt(Fr)));){Pe=_.subtract(Pe,_.BigInt(Fr)),ge=_.add(ge,se),de=Ve,Ve=Qn(re,de,ve,void 0,Le);const vn=pr(null);vn.largestUnit="month",Rn=Us(re,de,Ve,vn,ct),Fr=y(Rn,$n)}break}case"month":{if(!re)throw new RangeError("a starting point is required for months balancing");const Le=typeof re!="string"?bt(re,"dateAdd"):void 0;let Ve,wt;for({relativeTo:Ve,days:wt}=hr(re,de,ye,Le);_.greaterThanOrEqual(oa(ae),_.BigInt(Yt(wt)));)ae=_.subtract(ae,_.BigInt(wt)),Pe=_.add(Pe,se),de=Ve,{relativeTo:Ve,days:wt}=hr(re,de,ye,Le);break}case"week":{if(!re)throw new RangeError("a starting point is required for weeks balancing");const Le=typeof re!="string"?bt(re,"dateAdd"):void 0;let Ve,wt;for({relativeTo:Ve,days:wt}=hr(re,de,_e,Le);_.greaterThanOrEqual(oa(ae),_.BigInt(Yt(wt)));)ae=_.subtract(ae,_.BigInt(wt)),F=_.add(F,se),de=Ve,{relativeTo:Ve,days:wt}=hr(re,de,_e,Le);break}}return{years:_.toNumber(ge),months:_.toNumber(Pe),weeks:_.toNumber(F),days:_.toNumber(ae)}}(t,r,a,s,R,C),new Ds(t,r,a,s,u,c,f,d,g,v)}total(e){if(!cn(this))throw new TypeError("invalid receiver");let t=y(this,wr),r=y(this,$n),a=y(this,zr),s=y(this,Er),u=y(this,br),c=y(this,Rr),f=y(this,Ar),d=y(this,Sr),g=y(this,Cr),v=y(this,Dr);if(e===void 0)throw new TypeError("options argument is required");const w=typeof e=="string"?bc("unit",e):ut(e),b=xm(w),R=ei(w,"unit","datetime",Hl);let C;({years:t,months:r,weeks:a,days:s}=wm(t,r,a,s,R,b)),Ce(b)&&(C=AS(b,t,r,a,0));let D=gS(s,u,c,f,d,g,v,R,C);if(D==="positive overflow")return 1/0;if(D==="negative overflow")return-1/0;({days:s,hours:u,minutes:c,seconds:f,milliseconds:d,microseconds:g,nanoseconds:v}=D);const{total:M}=ko(t,r,a,s,u,c,f,d,g,v,1,R,"trunc",b);return M}toString(e){if(!cn(this))throw new TypeError("invalid receiver");const t=ut(e),r=Uf(t),a=ua(t,"trunc"),s=ei(t,"smallestUnit","time",void 0);if(s==="hour"||s==="minute")throw new RangeError('smallestUnit must be a time unit other than "hours" or "minutes"');const{precision:u,unit:c,increment:f}=zf(s,r);return bv(this,u,{unit:c,increment:f,roundingMode:a})}toJSON(){if(!cn(this))throw new TypeError("invalid receiver");return bv(this)}toLocaleString(e,t){if(!cn(this))throw new TypeError("invalid receiver");return typeof Intl<"u"&&Intl.DurationFormat!==void 0?new Intl.DurationFormat(e,t).format(this):(console.warn("Temporal.Duration.prototype.toLocaleString() requires Intl.DurationFormat."),bv(this))}valueOf(){throw new TypeError("use compare() to compare Temporal.Duration")}static from(e){return cn(e)?new Ds(y(e,wr),y(e,$n),y(e,zr),y(e,Er),y(e,br),y(e,Rr),y(e,Ar),y(e,Sr),y(e,Cr),y(e,Dr)):sc(e)}static compare(e,t,r){const a=sc(e),s=sc(t),u=xm(ut(r)),c=y(a,wr),f=y(a,$n),d=y(a,zr);let g=y(a,Er);const v=y(a,br),w=y(a,Rr),b=y(a,Ar),R=y(a,Sr),C=y(a,Cr);let D=y(a,Dr);const M=y(s,wr),N=y(s,$n),V=y(s,zr);let $=y(s,Er);const L=y(s,br),Y=y(s,Rr),x=y(s,Ar),I=y(s,Sr),O=y(s,Cr);let z=y(s,Dr);const j=y1(u,c,f,d,g),q=y1(u,M,N,V,$);c===0&&M===0&&f===0&&N===0&&d===0&&V===0||({days:g}=wm(c,f,d,g,"day",u),{days:$}=wm(M,N,V,$,"day",u));const U=Ec(g,v,w,b,R,C,D,j),Se=Ec($,L,Y,x,I,O,z,q);return Bl(_.toNumber(_.subtract(U,Se)))}}Ka(Ds,"Temporal.Duration");const qN=Object.create;class m_{constructor(e,t,r="iso8601",a=1972){iS(this,gt(e),gt(t),ti(r),gt(a))}get monthCode(){if(!Nn(this))throw new TypeError("invalid receiver");return Bf(y(this,X),this)}get day(){if(!Nn(this))throw new TypeError("invalid receiver");return $f(y(this,X),this)}get calendarId(){if(!Nn(this))throw new TypeError("invalid receiver");return Xn(y(this,X))}with(e,t){if(!Nn(this))throw new TypeError("invalid receiver");if(!Kt(e))throw new TypeError("invalid argument");Pc(e);const r=ut(t),a=y(this,X),s=En(a,["day","month","monthCode","year"]);let u=it(this,s,[]);return u=Gl(a,u,it(e,s,"partial")),u=it(u,s,[]),Tc(a,u,r)}equals(e){if(!Nn(this))throw new TypeError("invalid receiver");const t=l1(e);for(const r of[Ee,Re,we])if(y(this,r)!==y(t,r))return!1;return qf(y(this,X),y(t,X))}toString(e){if(!Nn(this))throw new TypeError("invalid receiver");return f1(this,Vf(ut(e)))}toJSON(){if(!Nn(this))throw new TypeError("invalid receiver");return f1(this)}toLocaleString(e,t){if(!Nn(this))throw new TypeError("invalid receiver");return new Xs(e,t).format(this)}valueOf(){throw new TypeError("use equals() to compare Temporal.PlainMonthDay")}toPlainDate(e){if(!Nn(this))throw new TypeError("invalid receiver");if(!Kt(e))throw new TypeError("argument should be an object");const t=y(this,X),r=En(t,["day","monthCode"]),a=it(this,r,[]),s=En(t,["year"]);let u=Gl(t,a,it(e,s,[]));u=it(u,[...new Set([...r,...s])],[]);const c=qN(null);return c.overflow="reject",No(t,u,c)}getISOFields(){if(!Nn(this))throw new TypeError("invalid receiver");return{calendar:y(this,X),isoDay:y(this,Re),isoMonth:y(this,Ee),isoYear:y(this,we)}}getCalendar(){if(!Nn(this))throw new TypeError("invalid receiver");return Uc(y(this,X))}static from(e,t){const r=ut(t);return Nn(e)?(yn(r),yf(y(e,Ee),y(e,Re),y(e,X),y(e,we))):l1(e,r)}}Ka(m_,"Temporal.PlainMonthDay");const p_=()=>new(pe("%Temporal.Instant%"))(u_()),M1=(n,e=Es())=>{const t=mr(e),r=ti(n);return ci(t,p_(),r)},Cv=(n=Es())=>ci(mr(n),p_(),"iso8601"),x1=(n,e=Es())=>{const t=mr(e),r=ti(n);return Kn(u_(),t,r)},HS={instant:p_,plainDateTime:M1,plainDateTimeISO:Cv,plainDate:(n,e=Es())=>wc(M1(n,e)),plainDateISO:(n=Es())=>wc(Cv(n)),plainTimeISO:(n=Es())=>J0(Cv(n)),timeZoneId:()=>Es(),zonedDateTime:x1,zonedDateTimeISO:(n=Es())=>x1("iso8601",n),[Symbol.toStringTag]:"Temporal.Now"};Object.defineProperty(HS,Symbol.toStringTag,{value:"Temporal.Now",writable:!1,enumerable:!1,configurable:!0});const HN=Object.assign;function N1(n,e,t){let r=y(n,Qe),a=y(n,Ze),s=y(n,Xe),u=y(n,We),c=y(n,Je),f=y(n,et);if(t){const{unit:d,increment:g,roundingMode:v}=t;({hour:r,minute:a,second:s,millisecond:u,microsecond:c,nanosecond:f}=l_(r,a,s,u,c,f,g,d,v))}return`${Wt(r)}:${Wt(a)}${Kp(s,u,c,f,e)}`}class $l{constructor(e=0,t=0,r=0,a=0,s=0,u=0){const c=e===void 0?0:gt(e),f=t===void 0?0:gt(t),d=r===void 0?0:gt(r),g=a===void 0?0:gt(a),v=s===void 0?0:gt(s),w=u===void 0?0:gt(u);Xp(c,f,d,g,v,w),Qa(this),tt(this,Qe,c),tt(this,Ze,f),tt(this,Xe,d),tt(this,We,g),tt(this,Je,v),tt(this,et,w)}get hour(){if(!hn(this))throw new TypeError("invalid receiver");return y(this,Qe)}get minute(){if(!hn(this))throw new TypeError("invalid receiver");return y(this,Ze)}get second(){if(!hn(this))throw new TypeError("invalid receiver");return y(this,Xe)}get millisecond(){if(!hn(this))throw new TypeError("invalid receiver");return y(this,We)}get microsecond(){if(!hn(this))throw new TypeError("invalid receiver");return y(this,Je)}get nanosecond(){if(!hn(this))throw new TypeError("invalid receiver");return y(this,et)}with(e,t){if(!hn(this))throw new TypeError("invalid receiver");if(!Kt(e))throw new TypeError("invalid argument");Pc(e);const r=yn(ut(t)),a=ip(e,"partial"),s=ip(this);let{hour:u,minute:c,second:f,millisecond:d,microsecond:g,nanosecond:v}=HN(s,a);return{hour:u,minute:c,second:f,millisecond:d,microsecond:g,nanosecond:v}=Up(u,c,f,d,g,v,r),new $l(u,c,f,d,g,v)}add(e){if(!hn(this))throw new TypeError("invalid receiver");return C1("add",this,e)}subtract(e){if(!hn(this))throw new TypeError("invalid receiver");return C1("subtract",this,e)}until(e,t){if(!hn(this))throw new TypeError("invalid receiver");return w1("until",this,e,t)}since(e,t){if(!hn(this))throw new TypeError("invalid receiver");return w1("since",this,e,t)}round(e){if(!hn(this))throw new TypeError("invalid receiver");if(e===void 0)throw new TypeError("options parameter is required");const t=typeof e=="string"?bc("smallestUnit",e):ut(e),r=Lc(t),a=ua(t,"halfExpand"),s=ei(t,"smallestUnit","time",Hl);Vc(r,{hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[s],!1);let u=y(this,Qe),c=y(this,Ze),f=y(this,Xe),d=y(this,We),g=y(this,Je),v=y(this,et);return{hour:u,minute:c,second:f,millisecond:d,microsecond:g,nanosecond:v}=l_(u,c,f,d,g,v,r,s,a),new $l(u,c,f,d,g,v)}equals(e){if(!hn(this))throw new TypeError("invalid receiver");const t=Ao(e);for(const r of[Qe,Ze,Xe,We,Je,et])if(y(this,r)!==y(t,r))return!1;return!0}toString(e){if(!hn(this))throw new TypeError("invalid receiver");const t=ut(e),r=Uf(t),a=ua(t,"trunc"),s=ei(t,"smallestUnit","time",void 0);if(s==="hour")throw new RangeError('smallestUnit must be a time unit other than "hour"');const{precision:u,unit:c,increment:f}=zf(s,r);return N1(this,u,{unit:c,increment:f,roundingMode:a})}toJSON(){if(!hn(this))throw new TypeError("invalid receiver");return N1(this,"auto")}toLocaleString(e,t){if(!hn(this))throw new TypeError("invalid receiver");return new Xs(e,t).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainTime")}toPlainDateTime(e){if(!hn(this))throw new TypeError("invalid receiver");const t=Nt(e),r=y(t,we),a=y(t,Ee),s=y(t,Re),u=y(t,X);return Zr(r,a,s,y(this,Qe),y(this,Ze),y(this,Xe),y(this,We),y(this,Je),y(this,et),u)}toZonedDateTime(e){if(!hn(this))throw new TypeError("invalid receiver");if(!Kt(e))throw new TypeError("invalid argument");const t=e.plainDate;if(t===void 0)throw new TypeError("missing date property");const r=Nt(t),a=e.timeZone;if(a===void 0)throw new TypeError("missing timeZone property");const s=mr(a),u=y(r,we),c=y(r,Ee),f=y(r,Re),d=y(r,X),g=y(this,Qe),v=y(this,Ze),w=y(this,Xe),b=y(this,We),R=y(this,Je),C=y(this,et);return Kn(y(Mr(s,new(pe("%Temporal.PlainDateTime%"))(u,c,f,g,v,w,b,R,C,d),"compatible"),ze),s,d)}getISOFields(){if(!hn(this))throw new TypeError("invalid receiver");return{isoHour:y(this,Qe),isoMicrosecond:y(this,Je),isoMillisecond:y(this,We),isoMinute:y(this,Ze),isoNanosecond:y(this,et),isoSecond:y(this,Xe)}}static from(e,t){const r=yn(ut(t));return hn(e)?new $l(y(e,Qe),y(e,Ze),y(e,Xe),y(e,We),y(e,Je),y(e,et)):Ao(e,r)}static compare(e,t){const r=Ao(e),a=Ao(t);for(const s of[Qe,Ze,Xe,We,Je,et]){const u=y(r,s),c=y(a,s);if(u!==c)return Bl(u-c)}return 0}}Ka($l,"Temporal.PlainTime");class sf{constructor(e){if(arguments.length<1)throw new RangeError("missing argument: identifier is required");const t=e_(e);Qa(this),tt(this,Ma,t)}get id(){if(!Ti(this))throw new TypeError("invalid receiver");return y(this,Ma)}getOffsetNanosecondsFor(e){if(!Ti(this))throw new TypeError("invalid receiver");const t=sa(e),r=y(this,Ma);return rc(r)?zs(r):Io(r,y(t,ze))}getOffsetStringFor(e){if(!Ti(this))throw new TypeError("invalid receiver");return Wv(this,sa(e))}getPlainDateTimeFor(e,t="iso8601"){if(!Ti(this))throw new TypeError("invalid receiver");return ci(this,sa(e),ti(t))}getInstantFor(e,t){if(!Ti(this))throw new TypeError("invalid receiver");return Mr(this,Vl(e),_c(ut(t)))}getPossibleInstantsFor(e){if(!Ti(this))throw new TypeError("invalid receiver");const t=Vl(e),r=pe("%Temporal.Instant%"),a=y(this,Ma);if(rc(a)){const u=js(y(t,we),y(t,Ee),y(t,Re),y(t,Qe),y(t,Ze),y(t,Xe),y(t,We),y(t,Je),y(t,et));if(u===null)throw new RangeError("DateTime outside of supported range");const c=zs(a);return[new r(_.subtract(u,_.BigInt(c)))]}return function(c,f,d,g,v,w,b,R,C,D){const M=js(f,d,g,v,w,b,R,C,D);if(M===null)throw new RangeError("DateTime outside of supported range");let N=_.subtract(M,$a);_.lessThan(N,gf)&&(N=M);let V=_.add(M,$a);_.greaterThan(V,yc)&&(V=M);const $=Io(c,N),L=Io(c,V);return($===L?[$]:[$,L]).map(Y=>{const x=_.subtract(M,_.BigInt(Y)),I=dS(c,x);if(f===I.year&&d===I.month&&g===I.day&&v===I.hour&&w===I.minute&&b===I.second&&R===I.millisecond&&C===I.microsecond&&D===I.nanosecond)return x}).filter(Y=>Y!==void 0)}(a,y(t,we),y(t,Ee),y(t,Re),y(t,Qe),y(t,Ze),y(t,Xe),y(t,We),y(t,Je),y(t,et)).map(u=>new r(u))}getNextTransition(e){if(!Ti(this))throw new TypeError("invalid receiver");const t=sa(e),r=y(this,Ma);if(rc(r)||r==="UTC")return null;let a=y(t,ze);const s=pe("%Temporal.Instant%");return a=pS(r,a),a===null?null:new s(a)}getPreviousTransition(e){if(!Ti(this))throw new TypeError("invalid receiver");const t=sa(e),r=y(this,Ma);if(rc(r)||r==="UTC")return null;let a=y(t,ze);const s=pe("%Temporal.Instant%");return a=Jv(r,a),a===null?null:new s(a)}toString(){if(!Ti(this))throw new TypeError("invalid receiver");return y(this,Ma)}toJSON(){if(!Ti(this))throw new TypeError("invalid receiver");return y(this,Ma)}static from(e){return lS(mr(e))}}Ka(sf,"Temporal.TimeZone"),nn("Temporal.TimeZone.prototype.getOffsetNanosecondsFor",sf.prototype.getOffsetNanosecondsFor),nn("Temporal.TimeZone.prototype.getPossibleInstantsFor",sf.prototype.getPossibleInstantsFor);const YN=Object.create;class g_{constructor(e,t,r="iso8601",a=1){aS(this,gt(e),gt(t),ti(r),gt(a))}get year(){if(!_t(this))throw new TypeError("invalid receiver");return zp(y(this,X),this)}get month(){if(!_t(this))throw new TypeError("invalid receiver");return jp(y(this,X),this)}get monthCode(){if(!_t(this))throw new TypeError("invalid receiver");return Bf(y(this,X),this)}get calendarId(){if(!_t(this))throw new TypeError("invalid receiver");return Xn(y(this,X))}get era(){if(!_t(this))throw new TypeError("invalid receiver");return Bp(y(this,X),this)}get eraYear(){if(!_t(this))throw new TypeError("invalid receiver");return $p(y(this,X),this)}get daysInMonth(){if(!_t(this))throw new TypeError("invalid receiver");return Fp(y(this,X),this)}get daysInYear(){if(!_t(this))throw new TypeError("invalid receiver");return qp(y(this,X),this)}get monthsInYear(){if(!_t(this))throw new TypeError("invalid receiver");return Hp(y(this,X),this)}get inLeapYear(){if(!_t(this))throw new TypeError("invalid receiver");return Yp(y(this,X),this)}with(e,t){if(!_t(this))throw new TypeError("invalid receiver");if(!Kt(e))throw new TypeError("invalid argument");Pc(e);const r=ut(t),a=y(this,X),s=En(a,["month","monthCode","year"]);let u=it(this,s,[]);return u=Gl(a,u,it(e,s,"partial")),u=it(u,s,[]),Kl(a,u,r)}add(e,t){if(!_t(this))throw new TypeError("invalid receiver");return D1("add",this,e,t)}subtract(e,t){if(!_t(this))throw new TypeError("invalid receiver");return D1("subtract",this,e,t)}until(e,t){if(!_t(this))throw new TypeError("invalid receiver");return E1("until",this,e,t)}since(e,t){if(!_t(this))throw new TypeError("invalid receiver");return E1("since",this,e,t)}equals(e){if(!_t(this))throw new TypeError("invalid receiver");const t=Jh(e);for(const r of[we,Ee,Re])if(y(this,r)!==y(t,r))return!1;return qf(y(this,X),y(t,X))}toString(e){if(!_t(this))throw new TypeError("invalid receiver");return d1(this,Vf(ut(e)))}toJSON(){if(!_t(this))throw new TypeError("invalid receiver");return d1(this)}toLocaleString(e,t){if(!_t(this))throw new TypeError("invalid receiver");return new Xs(e,t).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainYearMonth")}toPlainDate(e){if(!_t(this))throw new TypeError("invalid receiver");if(!Kt(e))throw new TypeError("argument should be an object");const t=y(this,X),r=En(t,["monthCode","year"]),a=it(this,r,[]),s=En(t,["day"]);let u=Gl(t,a,it(e,s,[]));u=it(u,[...new Set([...r,...s])],[]);const c=YN(null);return c.overflow="reject",No(t,u,c)}getISOFields(){if(!_t(this))throw new TypeError("invalid receiver");return{calendar:y(this,X),isoDay:y(this,Re),isoMonth:y(this,Ee),isoYear:y(this,we)}}getCalendar(){if(!_t(this))throw new TypeError("invalid receiver");return Uc(y(this,X))}static from(e,t){const r=ut(t);return _t(e)?(yn(r),vf(y(e,we),y(e,Ee),y(e,X),y(e,Re))):Jh(e,r)}static compare(e,t){const r=Jh(e),a=Jh(t);return Cs(y(r,we),y(r,Ee),y(r,Re),y(a,we),y(a,Ee),y(a,Re))}}Ka(g_,"Temporal.PlainYearMonth");const GN=Xs.prototype.resolvedOptions,KN=Object.create;class y_{constructor(e,t,r="iso8601"){if(arguments.length<1)throw new TypeError("missing argument: epochNanoseconds is required");oS(this,af(e),mr(t),ti(r))}get calendarId(){if(!Ce(this))throw new TypeError("invalid receiver");return Xn(y(this,X))}get timeZoneId(){if(!Ce(this))throw new TypeError("invalid receiver");return _f(y(this,Ct))}get year(){if(!Ce(this))throw new TypeError("invalid receiver");return zp(y(this,X),Ft(this))}get month(){if(!Ce(this))throw new TypeError("invalid receiver");return jp(y(this,X),Ft(this))}get monthCode(){if(!Ce(this))throw new TypeError("invalid receiver");return Bf(y(this,X),Ft(this))}get day(){if(!Ce(this))throw new TypeError("invalid receiver");return $f(y(this,X),Ft(this))}get hour(){if(!Ce(this))throw new TypeError("invalid receiver");return y(Ft(this),Qe)}get minute(){if(!Ce(this))throw new TypeError("invalid receiver");return y(Ft(this),Ze)}get second(){if(!Ce(this))throw new TypeError("invalid receiver");return y(Ft(this),Xe)}get millisecond(){if(!Ce(this))throw new TypeError("invalid receiver");return y(Ft(this),We)}get microsecond(){if(!Ce(this))throw new TypeError("invalid receiver");return y(Ft(this),Je)}get nanosecond(){if(!Ce(this))throw new TypeError("invalid receiver");return y(Ft(this),et)}get era(){if(!Ce(this))throw new TypeError("invalid receiver");return Bp(y(this,X),Ft(this))}get eraYear(){if(!Ce(this))throw new TypeError("invalid receiver");return $p(y(this,X),Ft(this))}get epochSeconds(){if(!Ce(this))throw new TypeError("invalid receiver");const e=y(this,ze);return _.toNumber(lc(e,La))}get epochMilliseconds(){if(!Ce(this))throw new TypeError("invalid receiver");const e=y(this,ze);return _.toNumber(lc(e,bi))}get epochMicroseconds(){if(!Ce(this))throw new TypeError("invalid receiver");return cp(lc(y(this,ze),Tt))}get epochNanoseconds(){if(!Ce(this))throw new TypeError("invalid receiver");return cp(y(this,ze))}get dayOfWeek(){if(!Ce(this))throw new TypeError("invalid receiver");return K0(y(this,X),Ft(this))}get dayOfYear(){if(!Ce(this))throw new TypeError("invalid receiver");return Q0(y(this,X),Ft(this))}get weekOfYear(){if(!Ce(this))throw new TypeError("invalid receiver");return Z0(y(this,X),Ft(this))}get yearOfWeek(){if(!Ce(this))throw new TypeError("invalid receiver");return X0(y(this,X),Ft(this))}get hoursInDay(){if(!Ce(this))throw new TypeError("invalid receiver");const e=Ft(this),t=pe("%Temporal.PlainDateTime%"),r=y(e,we),a=y(e,Ee),s=y(e,Re),u=new t(r,a,s,0,0,0,0,0,0),c=jl(r,a,s,0,0,0,1,"reject"),f=new t(c.year,c.month,c.day,0,0,0,0,0,0),d=y(this,Ct),g=y(Mr(d,u,"compatible"),ze),v=y(Mr(d,f,"compatible"),ze);return Oa(_.subtract(v,g),XA)}get daysInWeek(){if(!Ce(this))throw new TypeError("invalid receiver");return W0(y(this,X),Ft(this))}get daysInMonth(){if(!Ce(this))throw new TypeError("invalid receiver");return Fp(y(this,X),Ft(this))}get daysInYear(){if(!Ce(this))throw new TypeError("invalid receiver");return qp(y(this,X),Ft(this))}get monthsInYear(){if(!Ce(this))throw new TypeError("invalid receiver");return Hp(y(this,X),Ft(this))}get inLeapYear(){if(!Ce(this))throw new TypeError("invalid receiver");return Yp(y(this,X),Ft(this))}get offset(){if(!Ce(this))throw new TypeError("invalid receiver");return Wv(y(this,Ct),y(this,fr))}get offsetNanoseconds(){if(!Ce(this))throw new TypeError("invalid receiver");return ca(y(this,Ct),y(this,fr))}with(e,t){if(!Ce(this))throw new TypeError("invalid receiver");if(!Kt(e))throw new TypeError("invalid zoned-date-time-like");Pc(e);const r=ut(t),a=y(this,X);let s=En(a,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]);s.push("offset");let u=it(this,s,["offset"]);u=Gl(a,u,it(e,s,"partial")),u=it(u,s,["offset"]);const c=_c(r),f=rp(r,"prefer");let{year:d,month:g,day:v,hour:w,minute:b,second:R,millisecond:C,microsecond:D,nanosecond:M}=jf(a,u,r);const N=zs(u.offset),V=y(this,Ct);return Kn(ap(d,g,v,w,b,R,C,D,M,"option",N,V,c,f,!1),V,a)}withPlainDate(e){if(!Ce(this))throw new TypeError("invalid receiver");const t=Nt(e),r=y(t,we),a=y(t,Ee),s=y(t,Re);let u=y(t,X);const c=Ft(this),f=y(c,Qe),d=y(c,Ze),g=y(c,Xe),v=y(c,We),w=y(c,Je),b=y(c,et);u=sS(y(this,X),u);const R=y(this,Ct);return Kn(y(Mr(R,new(pe("%Temporal.PlainDateTime%"))(r,a,s,f,d,g,v,w,b,u),"compatible"),ze),R,u)}withPlainTime(e){if(!Ce(this))throw new TypeError("invalid receiver");const t=pe("%Temporal.PlainTime%"),r=e===void 0?new t:Ao(e),a=Ft(this),s=y(a,we),u=y(a,Ee),c=y(a,Re),f=y(this,X),d=y(r,Qe),g=y(r,Ze),v=y(r,Xe),w=y(r,We),b=y(r,Je),R=y(r,et),C=y(this,Ct);return Kn(y(Mr(C,new(pe("%Temporal.PlainDateTime%"))(s,u,c,d,g,v,w,b,R,f),"compatible"),ze),C,f)}withTimeZone(e){if(!Ce(this))throw new TypeError("invalid receiver");const t=mr(e);return Kn(y(this,ze),t,y(this,X))}withCalendar(e){if(!Ce(this))throw new TypeError("invalid receiver");const t=ti(e);return Kn(y(this,ze),y(this,Ct),t)}add(e,t){if(!Ce(this))throw new TypeError("invalid receiver");return I1("add",this,e,t)}subtract(e,t){if(!Ce(this))throw new TypeError("invalid receiver");return I1("subtract",this,e,t)}until(e,t){if(!Ce(this))throw new TypeError("invalid receiver");return b1("until",this,e,t)}since(e,t){if(!Ce(this))throw new TypeError("invalid receiver");return b1("since",this,e,t)}round(e){if(!Ce(this))throw new TypeError("invalid receiver");if(e===void 0)throw new TypeError("options parameter is required");const t=typeof e=="string"?bc("smallestUnit",e):ut(e),r=Lc(t),a=ua(t,"halfExpand"),s=ei(t,"smallestUnit","time",Hl,["day"]),u={day:1,hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[s];Vc(r,u,u===1);const c=Ft(this);let f=y(c,we),d=y(c,Ee),g=y(c,Re),v=y(c,Qe),w=y(c,Ze),b=y(c,Xe),R=y(c,We),C=y(c,Je),D=y(c,et);const M=pe("%Temporal.PlainDateTime%"),N=y(this,Ct),V=y(this,X),$=Mr(N,new M(y(c,we),y(c,Ee),y(c,Re),0,0,0,0,0,0),"compatible"),L=Ai($,N,V,0,0,0,1,0,0,0,0,0,0),Y=_.subtract(L,_.BigInt(y($,ze)));if(_.lessThanOrEqual(Y,fn))throw new RangeError("cannot round a ZonedDateTime in a calendar with zero or negative length days");return{year:f,month:d,day:g,hour:v,minute:w,second:b,millisecond:R,microsecond:C,nanosecond:D}=s_(f,d,g,v,w,b,R,C,D,r,s,a,_.toNumber(Y)),Kn(ap(f,d,g,v,w,b,R,C,D,"option",ca(N,y(this,fr)),N,"compatible","prefer",!1),N,y(this,X))}equals(e){if(!Ce(this))throw new TypeError("invalid receiver");const t=ef(e),r=y(this,ze),a=y(t,ze);return!!_.equal(_.BigInt(r),_.BigInt(a))&&!!uS(y(this,Ct),y(t,Ct))&&qf(y(this,X),y(t,X))}toString(e){if(!Ce(this))throw new TypeError("invalid receiver");const t=ut(e),r=Vf(t),a=Uf(t),s=function(b){return $s(b,"offset",["auto","never"],"auto")}(t),u=ua(t,"trunc"),c=ei(t,"smallestUnit","time",void 0);if(c==="hour")throw new RangeError('smallestUnit must be a time unit other than "hour"');const f=function(b){return $s(b,"timeZoneName",["auto","never","critical"],"auto")}(t),{precision:d,unit:g,increment:v}=zf(c,a);return m1(this,d,r,f,s,{unit:g,increment:v,roundingMode:u})}toLocaleString(e,t){if(!Ce(this))throw new TypeError("invalid receiver");const r=ut(t),a=KN(null);if(oc(a,r,["timeZone"]),r.timeZone!==void 0)throw new TypeError("ZonedDateTime toLocaleString does not accept a timeZone option");a.year===void 0&&a.month===void 0&&a.day===void 0&&a.weekday===void 0&&a.dateStyle===void 0&&a.hour===void 0&&a.minute===void 0&&a.second===void 0&&a.timeStyle===void 0&&a.dayPeriod===void 0&&a.timeZoneName===void 0&&(a.timeZoneName="short");let s=_f(y(this,Ct));if(rc(s))throw new RangeError("toLocaleString does not support offset string time zones");s=e_(s),a.timeZone=s;const u=new Xs(e,a),c=Ie(GN,u,[]).calendar,f=Xn(y(this,X));if(f!=="iso8601"&&c!=="iso8601"&&c!==f)throw new RangeError(`cannot format ZonedDateTime with calendar ${f} in locale with calendar ${c}`);return u.format(y(this,fr))}toJSON(){if(!Ce(this))throw new TypeError("invalid receiver");return m1(this,"auto")}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.ZonedDateTime")}startOfDay(){if(!Ce(this))throw new TypeError("invalid receiver");const e=Ft(this),t=pe("%Temporal.PlainDateTime%"),r=y(this,X),a=new t(y(e,we),y(e,Ee),y(e,Re),0,0,0,0,0,0,r),s=y(this,Ct);return Kn(y(Mr(s,a,"compatible"),ze),s,r)}toInstant(){if(!Ce(this))throw new TypeError("invalid receiver");return new(pe("%Temporal.Instant%"))(y(this,ze))}toPlainDate(){if(!Ce(this))throw new TypeError("invalid receiver");return wc(Ft(this))}toPlainTime(){if(!Ce(this))throw new TypeError("invalid receiver");return J0(Ft(this))}toPlainDateTime(){if(!Ce(this))throw new TypeError("invalid receiver");return Ft(this)}toPlainYearMonth(){if(!Ce(this))throw new TypeError("invalid receiver");const e=y(this,X);return Kl(e,it(this,En(e,["monthCode","year"]),[]))}toPlainMonthDay(){if(!Ce(this))throw new TypeError("invalid receiver");const e=y(this,X);return Tc(e,it(this,En(e,["day","monthCode"]),[]))}getISOFields(){if(!Ce(this))throw new TypeError("invalid receiver");const e=Ft(this),t=y(this,Ct);return{calendar:y(this,X),isoDay:y(e,Re),isoHour:y(e,Qe),isoMicrosecond:y(e,Je),isoMillisecond:y(e,We),isoMinute:y(e,Ze),isoMonth:y(e,Ee),isoNanosecond:y(e,et),isoSecond:y(e,Xe),isoYear:y(e,we),offset:Wv(t,y(this,fr)),timeZone:t}}getCalendar(){if(!Ce(this))throw new TypeError("invalid receiver");return Uc(y(this,X))}getTimeZone(){if(!Ce(this))throw new TypeError("invalid receiver");return lS(y(this,Ct))}static from(e,t){const r=ut(t);return Ce(e)?(_c(r),rp(r,"reject"),yn(r),Kn(y(e,ze),y(e,Ct),y(e,X))):ef(e,r)}static compare(e,t){const r=ef(e),a=ef(t),s=y(r,ze),u=y(a,ze);return _.lessThan(_.BigInt(s),_.BigInt(u))?-1:_.greaterThan(_.BigInt(s),_.BigInt(u))?1:0}}function Ft(n){return ci(y(n,Ct),y(n,fr),y(n,X))}Ka(y_,"Temporal.ZonedDateTime");var Xu=Object.freeze({__proto__:null,Calendar:un,Duration:Ds,Instant:aa,Now:HS,PlainDate:Gf,PlainDateTime:Kf,PlainMonthDay:m_,PlainTime:$l,PlainYearMonth:g_,TimeZone:sf,ZonedDateTime:y_});const QN=[aa,un,Gf,Kf,Ds,m_,$l,sf,g_,y_];for(const n of QN){const e=Object.getOwnPropertyDescriptor(n,"prototype");(e.configurable||e.enumerable||e.writable)&&(e.configurable=!1,e.enumerable=!1,e.writable=!1,Object.defineProperty(n,"prototype",e))}const ZN=()=>{};var k1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YS=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let a=n.charCodeAt(r);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},XN=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const a=n[t++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const s=n[t++];e[r++]=String.fromCharCode((a&31)<<6|s&63)}else if(a>239&&a<365){const s=n[t++],u=n[t++],c=n[t++],f=((a&7)<<18|(s&63)<<12|(u&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const s=n[t++],u=n[t++];e[r++]=String.fromCharCode((a&15)<<12|(s&63)<<6|u&63)}}return e.join("")},GS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<n.length;a+=3){const s=n[a],u=a+1<n.length,c=u?n[a+1]:0,f=a+2<n.length,d=f?n[a+2]:0,g=s>>2,v=(s&3)<<4|c>>4;let w=(c&15)<<2|d>>6,b=d&63;f||(b=64,u||(w=64)),r.push(t[g],t[v],t[w],t[b])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(YS(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):XN(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<n.length;){const s=t[n.charAt(a++)],c=a<n.length?t[n.charAt(a)]:0;++a;const d=a<n.length?t[n.charAt(a)]:64;++a;const v=a<n.length?t[n.charAt(a)]:64;if(++a,s==null||c==null||d==null||v==null)throw new WN;const w=s<<2|c>>4;if(r.push(w),d!==64){const b=c<<4&240|d>>2;if(r.push(b),v!==64){const R=d<<6&192|v;r.push(R)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class WN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const JN=function(n){const e=YS(n);return GS.encodeByteArray(e,!0)},hp=function(n){return JN(n).replace(/\./g,"")},KS=function(n){try{return GS.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ek(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tk=()=>ek().__FIREBASE_DEFAULTS__,nk=()=>{if(typeof process>"u"||typeof k1>"u")return;const n=k1.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},rk=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&KS(n[1]);return e&&JSON.parse(e)},Wp=()=>{try{return ZN()||tk()||nk()||rk()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},QS=n=>{var e,t;return(t=(e=Wp())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},ik=n=>{const e=QS(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},ZS=()=>{var n;return(n=Wp())===null||n===void 0?void 0:n.config},XS=n=>{var e;return(e=Wp())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ok(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",a=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[hp(JSON.stringify(t)),hp(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $r(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function sk(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($r())}function lk(){var n;const e=(n=Wp())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function uk(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ck(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function hk(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function fk(){const n=$r();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function dk(){return!lk()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function mk(){try{return typeof indexedDB=="object"}catch{return!1}}function pk(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var s;e(((s=a.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gk="FirebaseError";class Fo extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=gk,Object.setPrototypeOf(this,Fo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qf.prototype.create)}}class Qf{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},a=`${this.service}/${e}`,s=this.errors[e],u=s?yk(s,r):"Error",c=`${this.serviceName}: ${u} (${a}).`;return new Fo(a,c,r)}}function yk(n,e){return n.replace(vk,(t,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const vk=/\{\$([^}]+)}/g;function _k(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Zl(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const a of t){if(!r.includes(a))return!1;const s=n[a],u=e[a];if(P1(s)&&P1(u)){if(!Zl(s,u))return!1}else if(s!==u)return!1}for(const a of r)if(!t.includes(a))return!1;return!0}function P1(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zf(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Tk(n,e){const t=new wk(n,e);return t.subscribe.bind(t)}class wk{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let a;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");Ek(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:r},a.next===void 0&&(a.next=Dv),a.error===void 0&&(a.error=Dv),a.complete===void 0&&(a.complete=Dv);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ek(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Dv(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ni(n){return n&&n._delegate?n._delegate:n}class Xl{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bk{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new ak;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(a)return null;throw s}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Ak(e))try{this.getOrInitializeService({instanceIdentifier:xl})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:a});r.resolve(s)}catch{}}}}clearInstance(e=xl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=xl){return this.instances.has(e)}getOptions(e=xl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,u]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(s);r===c&&u.resolve(a)}return a}onInit(e,t){var r;const a=this.normalizeInstanceIdentifier(t),s=(r=this.onInitCallbacks.get(a))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(a,s);const u=this.instances.get(a);return u&&e(u,a),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const a of r)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Rk(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=xl){return this.component?this.component.multipleInstances?e:xl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Rk(n){return n===xl?void 0:n}function Ak(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new bk(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Rt||(Rt={}));const Ck={debug:Rt.DEBUG,verbose:Rt.VERBOSE,info:Rt.INFO,warn:Rt.WARN,error:Rt.ERROR,silent:Rt.SILENT},Dk=Rt.INFO,Ik={[Rt.DEBUG]:"log",[Rt.VERBOSE]:"log",[Rt.INFO]:"info",[Rt.WARN]:"warn",[Rt.ERROR]:"error"},Ok=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),a=Ik[e];if(a)console[a](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class v_{constructor(e){this.name=e,this._logLevel=Dk,this._logHandler=Ok,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Rt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Ck[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Rt.DEBUG,...e),this._logHandler(this,Rt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Rt.VERBOSE,...e),this._logHandler(this,Rt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Rt.INFO,...e),this._logHandler(this,Rt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Rt.WARN,...e),this._logHandler(this,Rt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Rt.ERROR,...e),this._logHandler(this,Rt.ERROR,...e)}}const Mk=(n,e)=>e.some(t=>n instanceof t);let L1,V1;function xk(){return L1||(L1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Nk(){return V1||(V1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const WS=new WeakMap,a0=new WeakMap,JS=new WeakMap,Iv=new WeakMap,__=new WeakMap;function kk(n){const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("success",s),n.removeEventListener("error",u)},s=()=>{t(Ms(n.result)),a()},u=()=>{r(n.error),a()};n.addEventListener("success",s),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&WS.set(t,n)}).catch(()=>{}),__.set(e,n),e}function Pk(n){if(a0.has(n))return;const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",u),n.removeEventListener("abort",u)},s=()=>{t(),a()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",s),n.addEventListener("error",u),n.addEventListener("abort",u)});a0.set(n,e)}let o0={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return a0.get(n);if(e==="objectStoreNames")return n.objectStoreNames||JS.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ms(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Lk(n){o0=n(o0)}function Vk(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Ov(this),e,...t);return JS.set(r,e.sort?e.sort():[e]),Ms(r)}:Nk().includes(n)?function(...e){return n.apply(Ov(this),e),Ms(WS.get(this))}:function(...e){return Ms(n.apply(Ov(this),e))}}function Uk(n){return typeof n=="function"?Vk(n):(n instanceof IDBTransaction&&Pk(n),Mk(n,xk())?new Proxy(n,o0):n)}function Ms(n){if(n instanceof IDBRequest)return kk(n);if(Iv.has(n))return Iv.get(n);const e=Uk(n);return e!==n&&(Iv.set(n,e),__.set(e,n)),e}const Ov=n=>__.get(n);function zk(n,e,{blocked:t,upgrade:r,blocking:a,terminated:s}={}){const u=indexedDB.open(n,e),c=Ms(u);return r&&u.addEventListener("upgradeneeded",f=>{r(Ms(u.result),f.oldVersion,f.newVersion,Ms(u.transaction),f)}),t&&u.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),c.then(f=>{s&&f.addEventListener("close",()=>s()),a&&f.addEventListener("versionchange",d=>a(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}const jk=["get","getKey","getAll","getAllKeys","count"],Bk=["put","add","delete","clear"],Mv=new Map;function U1(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Mv.get(e))return Mv.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,a=Bk.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(a||jk.includes(t)))return;const s=async function(u,...c){const f=this.transaction(u,a?"readwrite":"readonly");let d=f.store;return r&&(d=d.index(c.shift())),(await Promise.all([d[t](...c),a&&f.done]))[0]};return Mv.set(e,s),s}Lk(n=>({...n,get:(e,t,r)=>U1(e,t)||n.get(e,t,r),has:(e,t)=>!!U1(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Fk(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function Fk(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const s0="@firebase/app",z1="0.11.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vo=new v_("@firebase/app"),qk="@firebase/app-compat",Hk="@firebase/analytics-compat",Yk="@firebase/analytics",Gk="@firebase/app-check-compat",Kk="@firebase/app-check",Qk="@firebase/auth",Zk="@firebase/auth-compat",Xk="@firebase/database",Wk="@firebase/data-connect",Jk="@firebase/database-compat",e3="@firebase/functions",t3="@firebase/functions-compat",n3="@firebase/installations",r3="@firebase/installations-compat",i3="@firebase/messaging",a3="@firebase/messaging-compat",o3="@firebase/performance",s3="@firebase/performance-compat",l3="@firebase/remote-config",u3="@firebase/remote-config-compat",c3="@firebase/storage",h3="@firebase/storage-compat",f3="@firebase/firestore",d3="@firebase/vertexai",m3="@firebase/firestore-compat",p3="firebase",g3="11.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l0="[DEFAULT]",y3={[s0]:"fire-core",[qk]:"fire-core-compat",[Yk]:"fire-analytics",[Hk]:"fire-analytics-compat",[Kk]:"fire-app-check",[Gk]:"fire-app-check-compat",[Qk]:"fire-auth",[Zk]:"fire-auth-compat",[Xk]:"fire-rtdb",[Wk]:"fire-data-connect",[Jk]:"fire-rtdb-compat",[e3]:"fire-fn",[t3]:"fire-fn-compat",[n3]:"fire-iid",[r3]:"fire-iid-compat",[i3]:"fire-fcm",[a3]:"fire-fcm-compat",[o3]:"fire-perf",[s3]:"fire-perf-compat",[l3]:"fire-rc",[u3]:"fire-rc-compat",[c3]:"fire-gcs",[h3]:"fire-gcs-compat",[f3]:"fire-fst",[m3]:"fire-fst-compat",[d3]:"fire-vertex","fire-js":"fire-js",[p3]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fp=new Map,v3=new Map,u0=new Map;function j1(n,e){try{n.container.addComponent(e)}catch(t){Vo.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Ac(n){const e=n.name;if(u0.has(e))return Vo.debug(`There were multiple attempts to register component ${e}.`),!1;u0.set(e,n);for(const t of fp.values())j1(t,n);for(const t of v3.values())j1(t,n);return!0}function T_(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Na(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},xs=new Qf("app","Firebase",_3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T3{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Xl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw xs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $c=g3;function eC(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:l0,automaticDataCollectionEnabled:!1},e),a=r.name;if(typeof a!="string"||!a)throw xs.create("bad-app-name",{appName:String(a)});if(t||(t=ZS()),!t)throw xs.create("no-options");const s=fp.get(a);if(s){if(Zl(t,s.options)&&Zl(r,s.config))return s;throw xs.create("duplicate-app",{appName:a})}const u=new Sk(a);for(const f of u0.values())u.addComponent(f);const c=new T3(t,r,u);return fp.set(a,c),c}function tC(n=l0){const e=fp.get(n);if(!e&&n===l0&&ZS())return eC();if(!e)throw xs.create("no-app",{appName:n});return e}function Ns(n,e,t){var r;let a=(r=y3[n])!==null&&r!==void 0?r:n;t&&(a+=`-${t}`);const s=a.match(/\s|\//),u=e.match(/\s|\//);if(s||u){const c=[`Unable to register library "${a}" with version "${e}":`];s&&c.push(`library name "${a}" contains illegal characters (whitespace or "/")`),s&&u&&c.push("and"),u&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Vo.warn(c.join(" "));return}Ac(new Xl(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w3="firebase-heartbeat-database",E3=1,Tf="firebase-heartbeat-store";let xv=null;function nC(){return xv||(xv=zk(w3,E3,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Tf)}catch(t){console.warn(t)}}}}).catch(n=>{throw xs.create("idb-open",{originalErrorMessage:n.message})})),xv}async function b3(n){try{const t=(await nC()).transaction(Tf),r=await t.objectStore(Tf).get(rC(n));return await t.done,r}catch(e){if(e instanceof Fo)Vo.warn(e.message);else{const t=xs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Vo.warn(t.message)}}}async function B1(n,e){try{const r=(await nC()).transaction(Tf,"readwrite");await r.objectStore(Tf).put(e,rC(n)),await r.done}catch(t){if(t instanceof Fo)Vo.warn(t.message);else{const r=xs.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Vo.warn(r.message)}}}function rC(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R3=1024,A3=30;class S3{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new D3(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=$1();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(u=>u.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:a}),this._heartbeatsCache.heartbeats.length>A3){const u=I3(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Vo.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=$1(),{heartbeatsToSend:r,unsentEntries:a}=C3(this._heartbeatsCache.heartbeats),s=hp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return Vo.warn(t),""}}}function $1(){return new Date().toISOString().substring(0,10)}function C3(n,e=R3){const t=[];let r=n.slice();for(const a of n){const s=t.find(u=>u.agent===a.agent);if(s){if(s.dates.push(a.date),F1(t)>e){s.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),F1(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class D3{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return mk()?pk().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await b3(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return B1(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return B1(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function F1(n){return hp(JSON.stringify({version:2,heartbeats:n})).length}function I3(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O3(n){Ac(new Xl("platform-logger",e=>new $k(e),"PRIVATE")),Ac(new Xl("heartbeat",e=>new S3(e),"PRIVATE")),Ns(s0,z1,n),Ns(s0,z1,"esm2017"),Ns("fire-js","")}O3("");var M3="firebase",x3="11.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ns(M3,x3,"app");function w_(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t}function iC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const N3=iC,aC=new Qf("auth","Firebase",iC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dp=new v_("@firebase/auth");function k3(n,...e){dp.logLevel<=Rt.WARN&&dp.warn(`Auth (${$c}): ${n}`,...e)}function Lm(n,...e){dp.logLevel<=Rt.ERROR&&dp.error(`Auth (${$c}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uo(n,...e){throw E_(n,...e)}function Ua(n,...e){return E_(n,...e)}function oC(n,e,t){const r=Object.assign(Object.assign({},N3()),{[e]:t});return new Qf("auth","Firebase",r).create(e,{appName:n.name})}function Fl(n){return oC(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function E_(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return aC.create(n,...e)}function rt(n,e,...t){if(!n)throw E_(e,...t)}function So(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Lm(e),new Error(e)}function zo(n,e){n||So(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c0(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function P3(){return q1()==="http:"||q1()==="https:"}function q1(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L3(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(P3()||ck()||"connection"in navigator)?navigator.onLine:!0}function V3(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf{constructor(e,t){this.shortDelay=e,this.longDelay=t,zo(t>e,"Short delay should be less than long delay!"),this.isMobile=sk()||hk()}get(){return L3()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b_(n,e){zo(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;So("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;So("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;So("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U3={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z3=new Xf(3e4,6e4);function R_(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Fc(n,e,t,r,a={}){return lC(n,a,async()=>{let s={},u={};r&&(e==="GET"?u=r:s={body:JSON.stringify(r)});const c=Zf(Object.assign({key:n.config.apiKey},u)).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const d=Object.assign({method:e,headers:f},s);return uk()||(d.referrerPolicy="no-referrer"),sC.fetch()(uC(n,n.config.apiHost,t,c),d)})}async function lC(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},U3),e);try{const a=new B3(n),s=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const u=await s.json();if("needConfirmation"in u)throw Em(n,"account-exists-with-different-credential",u);if(s.ok&&!("errorMessage"in u))return u;{const c=s.ok?u.errorMessage:u.error.message,[f,d]=c.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Em(n,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw Em(n,"email-already-in-use",u);if(f==="USER_DISABLED")throw Em(n,"user-disabled",u);const g=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw oC(n,g,d);Uo(n,g)}}catch(a){if(a instanceof Fo)throw a;Uo(n,"network-request-failed",{message:String(a)})}}async function j3(n,e,t,r,a={}){const s=await Fc(n,e,t,r,a);return"mfaPendingCredential"in s&&Uo(n,"multi-factor-auth-required",{_serverResponse:s}),s}function uC(n,e,t,r){const a=`${e}${t}?${r}`;return n.config.emulator?b_(n.config,a):`${n.config.apiScheme}://${a}`}class B3{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Ua(this.auth,"network-request-failed")),z3.get())})}}function Em(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const a=Ua(n,e,r);return a.customData._tokenResponse=t,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $3(n,e){return Fc(n,"POST","/v1/accounts:delete",e)}async function cC(n,e){return Fc(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lf(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function F3(n,e=!1){const t=ni(n),r=await t.getIdToken(e),a=A_(r);rt(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const s=typeof a.firebase=="object"?a.firebase:void 0,u=s==null?void 0:s.sign_in_provider;return{claims:a,token:r,authTime:lf(Nv(a.auth_time)),issuedAtTime:lf(Nv(a.iat)),expirationTime:lf(Nv(a.exp)),signInProvider:u||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Nv(n){return Number(n)*1e3}function A_(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Lm("JWT malformed, contained fewer than 3 sections"),null;try{const a=KS(t);return a?JSON.parse(a):(Lm("Failed to decode base64 JWT payload"),null)}catch(a){return Lm("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function H1(n){const e=A_(n);return rt(e,"internal-error"),rt(typeof e.exp<"u","internal-error"),rt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wf(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Fo&&q3(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function q3({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H3{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const a=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=lf(this.lastLoginAt),this.creationTime=lf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mp(n){var e;const t=n.auth,r=await n.getIdToken(),a=await wf(n,cC(t,{idToken:r}));rt(a==null?void 0:a.users.length,t,"internal-error");const s=a.users[0];n._notifyReloadListener(s);const u=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?hC(s.providerUserInfo):[],c=G3(n.providerData,u),f=n.isAnonymous,d=!(n.email&&s.passwordHash)&&!(c!=null&&c.length),g=f?d:!1,v={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new h0(s.createdAt,s.lastLoginAt),isAnonymous:g};Object.assign(n,v)}async function Y3(n){const e=ni(n);await mp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function G3(n,e){return[...n.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function hC(n){return n.map(e=>{var{providerId:t}=e,r=w_(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K3(n,e){const t=await lC(n,{},async()=>{const r=Zf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:s}=n.config,u=uC(n,a,"/v1/token",`key=${s}`),c=await n._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",sC.fetch()(u,{method:"POST",headers:c,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function Q3(n,e){return Fc(n,"POST","/v2/accounts:revokeToken",R_(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){rt(e.idToken,"internal-error"),rt(typeof e.idToken<"u","internal-error"),rt(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):H1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){rt(e.length!==0,"internal-error");const t=H1(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(rt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:a,expiresIn:s}=await K3(e,t);this.updateTokensAndExpiration(r,a,Number(s))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:a,expirationTime:s}=t,u=new fc;return r&&(rt(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),a&&(rt(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),s&&(rt(typeof s=="number","internal-error",{appName:e}),u.expirationTime=s),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new fc,this.toJSON())}_performRefresh(){return So("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _s(n,e){rt(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Co{constructor(e){var{uid:t,auth:r,stsTokenManager:a}=e,s=w_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new H3(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new h0(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await wf(this,this.stsTokenManager.getToken(this.auth,e));return rt(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return F3(this,e)}reload(){return Y3(this)}_assign(e){this!==e&&(rt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Co(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){rt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await mp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Na(this.auth.app))return Promise.reject(Fl(this.auth));const e=await this.getIdToken();return await wf(this,$3(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,a,s,u,c,f,d,g;const v=(r=t.displayName)!==null&&r!==void 0?r:void 0,w=(a=t.email)!==null&&a!==void 0?a:void 0,b=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,R=(u=t.photoURL)!==null&&u!==void 0?u:void 0,C=(c=t.tenantId)!==null&&c!==void 0?c:void 0,D=(f=t._redirectEventId)!==null&&f!==void 0?f:void 0,M=(d=t.createdAt)!==null&&d!==void 0?d:void 0,N=(g=t.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:V,emailVerified:$,isAnonymous:L,providerData:Y,stsTokenManager:x}=t;rt(V&&x,e,"internal-error");const I=fc.fromJSON(this.name,x);rt(typeof V=="string",e,"internal-error"),_s(v,e.name),_s(w,e.name),rt(typeof $=="boolean",e,"internal-error"),rt(typeof L=="boolean",e,"internal-error"),_s(b,e.name),_s(R,e.name),_s(C,e.name),_s(D,e.name),_s(M,e.name),_s(N,e.name);const O=new Co({uid:V,auth:e,email:w,emailVerified:$,displayName:v,isAnonymous:L,photoURL:R,phoneNumber:b,tenantId:C,stsTokenManager:I,createdAt:M,lastLoginAt:N});return Y&&Array.isArray(Y)&&(O.providerData=Y.map(z=>Object.assign({},z))),D&&(O._redirectEventId=D),O}static async _fromIdTokenResponse(e,t,r=!1){const a=new fc;a.updateFromServerResponse(t);const s=new Co({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await mp(s),s}static async _fromGetAccountInfoResponse(e,t,r){const a=t.users[0];rt(a.localId!==void 0,"internal-error");const s=a.providerUserInfo!==void 0?hC(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!(s!=null&&s.length),c=new fc;c.updateFromIdToken(r);const f=new Co({uid:a.localId,auth:e,stsTokenManager:c,isAnonymous:u}),d={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:s,metadata:new h0(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(s!=null&&s.length)};return Object.assign(f,d),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1=new Map;function Do(n){zo(n instanceof Function,"Expected a class definition");let e=Y1.get(n);return e?(zo(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Y1.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}fC.type="NONE";const G1=fC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vm(n,e,t){return`firebase:${n}:${e}:${t}`}class dc{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:a,name:s}=this.auth;this.fullUserKey=Vm(this.userKey,a.apiKey,s),this.fullPersistenceKey=Vm("persistence",a.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Co._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new dc(Do(G1),e,r);const a=(await Promise.all(t.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let s=a[0]||Do(G1);const u=Vm(r,e.config.apiKey,e.name);let c=null;for(const d of t)try{const g=await d._get(u);if(g){const v=Co._fromJSON(e,g);d!==s&&(c=v),s=d;break}}catch{}const f=a.filter(d=>d._shouldAllowMigration);return!s._shouldAllowMigration||!f.length?new dc(s,e,r):(s=f[0],c&&await s._set(u,c.toJSON()),await Promise.all(t.map(async d=>{if(d!==s)try{await d._remove(u)}catch{}})),new dc(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K1(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(gC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(dC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(vC(e))return"Blackberry";if(_C(e))return"Webos";if(mC(e))return"Safari";if((e.includes("chrome/")||pC(e))&&!e.includes("edge/"))return"Chrome";if(yC(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function dC(n=$r()){return/firefox\//i.test(n)}function mC(n=$r()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function pC(n=$r()){return/crios\//i.test(n)}function gC(n=$r()){return/iemobile/i.test(n)}function yC(n=$r()){return/android/i.test(n)}function vC(n=$r()){return/blackberry/i.test(n)}function _C(n=$r()){return/webos/i.test(n)}function S_(n=$r()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Z3(n=$r()){var e;return S_(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function X3(){return fk()&&document.documentMode===10}function TC(n=$r()){return S_(n)||yC(n)||_C(n)||vC(n)||/windows phone/i.test(n)||gC(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wC(n,e=[]){let t;switch(n){case"Browser":t=K1($r());break;case"Worker":t=`${K1($r())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${$c}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W3{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((u,c)=>{try{const f=e(s);u(f)}catch(f){c(f)}});r.onAbort=t,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J3(n,e={}){return Fc(n,"GET","/v2/passwordPolicy",R_(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eP=6;class tP{constructor(e){var t,r,a,s;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:eP,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,a,s,u,c;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(t=f.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),f.isValid&&(f.isValid=(r=f.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(a=f.containsLowercaseLetter)!==null&&a!==void 0?a:!0),f.isValid&&(f.isValid=(s=f.containsUppercaseLetter)!==null&&s!==void 0?s:!0),f.isValid&&(f.isValid=(u=f.containsNumericCharacter)!==null&&u!==void 0?u:!0),f.isValid&&(f.isValid=(c=f.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),f}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,a,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP{constructor(e,t,r,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Q1(this),this.idTokenSubscription=new Q1(this),this.beforeStateQueue=new W3(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=aC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Do(t)),this._initializationPromise=this.queue(async()=>{var r,a;if(!this._deleted&&(this.persistenceManager=await dc.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await cC(this,{idToken:e}),r=await Co._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Na(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(c,c))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let a=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,c=a==null?void 0:a._redirectEventId,f=await this.tryRedirectSignIn(e);(!u||u===c)&&(f!=null&&f.user)&&(a=f.user,s=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(a)}catch(u){a=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return rt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await mp(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=V3()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Na(this.app))return Promise.reject(Fl(this));const t=e?ni(e):null;return t&&rt(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&rt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Na(this.app)?Promise.reject(Fl(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Na(this.app)?Promise.reject(Fl(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Do(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await J3(this),t=new tP(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Qf("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await Q3(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Do(e)||this._popupRedirectResolver;rt(t,this,"argument-error"),this.redirectPersistenceManager=await dc.create(this,[Do(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,a){if(this._deleted)return()=>{};const s=typeof t=="function"?t:t.next.bind(t);let u=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(rt(c,this,"internal-error"),c.then(()=>{u||s(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,a);return()=>{u=!0,f()}}else{const f=e.addObserver(t);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return rt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=wC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){var e;if(Na(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&k3(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function C_(n){return ni(n)}class Q1{constructor(e){this.auth=e,this.observer=null,this.addObserver=Tk(t=>this.observer=t)}get next(){return rt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let D_={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function rP(n){D_=n}function iP(n){return D_.loadJS(n)}function aP(){return D_.gapiScript}function oP(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sP(n,e){const t=T_(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),s=t.getOptions();if(Zl(s,e??{}))return a;Uo(a,"already-initialized")}return t.initialize({options:e})}function lP(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Do);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function uP(n,e,t){const r=C_(n);rt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,s=EC(e),{host:u,port:c}=cP(e),f=c===null?"":`:${c}`,d={url:`${s}//${u}${f}/`},g=Object.freeze({host:u,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){rt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),rt(Zl(d,r.config.emulator)&&Zl(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,hP()}function EC(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function cP(n){const e=EC(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const s=a[1];return{host:s,port:Z1(r.substr(s.length+1))}}else{const[s,u]=r.split(":");return{host:s,port:Z1(u)}}}function Z1(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function hP(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return So("not implemented")}_getIdTokenResponse(e){return So("not implemented")}_linkToIdToken(e,t){return So("not implemented")}_getReauthenticationResolver(e){return So("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mc(n,e){return j3(n,"POST","/v1/accounts:signInWithIdp",R_(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fP="http://localhost";class Wl extends bC{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Wl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Uo("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a}=t,s=w_(t,["providerId","signInMethod"]);if(!r||!a)return null;const u=new Wl(r,a);return u.idToken=s.idToken||void 0,u.accessToken=s.accessToken||void 0,u.secret=s.secret,u.nonce=s.nonce,u.pendingToken=s.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return mc(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,mc(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,mc(e,t)}buildRequest(){const e={requestUri:fP,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Zf(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf extends RC{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs extends Wf{constructor(){super("facebook.com")}static credential(e){return Wl._fromParams({providerId:bs.PROVIDER_ID,signInMethod:bs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return bs.credentialFromTaggedObject(e)}static credentialFromError(e){return bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return bs.credential(e.oauthAccessToken)}catch{return null}}}bs.FACEBOOK_SIGN_IN_METHOD="facebook.com";bs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs extends Wf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Wl._fromParams({providerId:Rs.PROVIDER_ID,signInMethod:Rs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Rs.credentialFromTaggedObject(e)}static credentialFromError(e){return Rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Rs.credential(t,r)}catch{return null}}}Rs.GOOGLE_SIGN_IN_METHOD="google.com";Rs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As extends Wf{constructor(){super("github.com")}static credential(e){return Wl._fromParams({providerId:As.PROVIDER_ID,signInMethod:As.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return As.credentialFromTaggedObject(e)}static credentialFromError(e){return As.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return As.credential(e.oauthAccessToken)}catch{return null}}}As.GITHUB_SIGN_IN_METHOD="github.com";As.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss extends Wf{constructor(){super("twitter.com")}static credential(e,t){return Wl._fromParams({providerId:Ss.PROVIDER_ID,signInMethod:Ss.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ss.credentialFromTaggedObject(e)}static credentialFromError(e){return Ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Ss.credential(t,r)}catch{return null}}}Ss.TWITTER_SIGN_IN_METHOD="twitter.com";Ss.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,a=!1){const s=await Co._fromIdTokenResponse(e,r,a),u=X1(r);return new Sc({user:s,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const a=X1(r);return new Sc({user:e,providerId:a,_tokenResponse:r,operationType:t})}}function X1(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp extends Fo{constructor(e,t,r,a){var s;super(t.code,t.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,pp.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,a){return new pp(e,t,r,a)}}function AC(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?pp._fromErrorAndOperation(n,s,e,r):s})}async function dP(n,e,t=!1){const r=await wf(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Sc._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mP(n,e,t=!1){const{auth:r}=n;if(Na(r.app))return Promise.reject(Fl(r));const a="reauthenticate";try{const s=await wf(n,AC(r,a,e,n),t);rt(s.idToken,r,"internal-error");const u=A_(s.idToken);rt(u,r,"internal-error");const{sub:c}=u;return rt(n.uid===c,r,"user-mismatch"),Sc._forOperation(n,a,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Uo(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pP(n,e,t=!1){if(Na(n.app))return Promise.reject(Fl(n));const r="signIn",a=await AC(n,r,e),s=await Sc._fromIdTokenResponse(n,r,a);return t||await n._updateCurrentUser(s.user),s}function gP(n,e,t,r){return ni(n).onIdTokenChanged(e,t,r)}function yP(n,e,t){return ni(n).beforeAuthStateChanged(e,t)}const gp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(gp,"1"),this.storage.removeItem(gp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vP=1e3,_P=10;class CC extends SC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=TC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),a=this.localCache[t];r!==a&&e(t,a,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,c,f)=>{this.notifyListeners(u,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},s=this.storage.getItem(r);X3()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,_P):a()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},vP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}CC.type="LOCAL";const TP=CC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC extends SC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}DC.type="SESSION";const IC=DC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wP(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const r=new Jp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:a,data:s}=t.data,u=this.handlersMap[a];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const c=Array.from(u).map(async d=>d(t.origin,s)),f=await wP(c);t.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Jp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I_(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EP{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let s,u;return new Promise((c,f)=>{const d=I_("",20);a.port1.start();const g=setTimeout(()=>{f(new Error("unsupported_event"))},r);u={messageChannel:a,onMessage(v){const w=v;if(w.data.eventId===d)switch(w.data.status){case"ack":clearTimeout(g),s=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(w.data.response);break;default:clearTimeout(g),clearTimeout(s),f(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:d,data:t},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function za(){return window}function bP(n){za().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OC(){return typeof za().WorkerGlobalScope<"u"&&typeof za().importScripts=="function"}async function RP(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function AP(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function SP(){return OC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC="firebaseLocalStorageDb",CP=1,yp="firebaseLocalStorage",xC="fbase_key";class Jf{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function eg(n,e){return n.transaction([yp],e?"readwrite":"readonly").objectStore(yp)}function DP(){const n=indexedDB.deleteDatabase(MC);return new Jf(n).toPromise()}function f0(){const n=indexedDB.open(MC,CP);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(yp,{keyPath:xC})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(yp)?e(r):(r.close(),await DP(),e(await f0()))})})}async function W1(n,e,t){const r=eg(n,!0).put({[xC]:e,value:t});return new Jf(r).toPromise()}async function IP(n,e){const t=eg(n,!1).get(e),r=await new Jf(t).toPromise();return r===void 0?null:r.value}function J1(n,e){const t=eg(n,!0).delete(e);return new Jf(t).toPromise()}const OP=800,MP=3;class NC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await f0(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>MP)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return OC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Jp._getInstance(SP()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await RP(),!this.activeServiceWorker)return;this.sender=new EP(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||AP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await f0();return await W1(e,gp,"1"),await J1(e,gp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>W1(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>IP(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>J1(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const s=eg(a,!1).getAll();return new Jf(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:s}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(s)&&(this.notifyListeners(a,s),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),OP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}NC.type="LOCAL";const xP=NC;new Xf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NP(n,e){return e?Do(e):(rt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O_ extends bC{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return mc(e,this._buildIdpRequest())}_linkToIdToken(e,t){return mc(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return mc(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function kP(n){return pP(n.auth,new O_(n),n.bypassAuthState)}function PP(n){const{auth:e,user:t}=n;return rt(t,e,"internal-error"),mP(t,new O_(n),n.bypassAuthState)}async function LP(n){const{auth:e,user:t}=n;return rt(t,e,"internal-error"),dP(t,new O_(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(e,t,r,a,s=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:a,tenantId:s,error:u,type:c}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:s||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(f))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return kP;case"linkViaPopup":case"linkViaRedirect":return LP;case"reauthViaPopup":case"reauthViaRedirect":return PP;default:Uo(this.auth,"internal-error")}}resolve(e){zo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){zo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VP=new Xf(2e3,1e4);class ic extends kC{constructor(e,t,r,a,s){super(e,t,a,s),this.provider=r,this.authWindow=null,this.pollId=null,ic.currentPopupAction&&ic.currentPopupAction.cancel(),ic.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return rt(e,this.auth,"internal-error"),e}async onExecution(){zo(this.filter.length===1,"Popup operations only handle one event");const e=I_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Ua(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ua(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ic.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ua(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,VP.get())};e()}}ic.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UP="pendingRedirect",Um=new Map;class zP extends kC{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Um.get(this.auth._key());if(!e){try{const r=await jP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Um.set(this.auth._key(),e)}return this.bypassAuthState||Um.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function jP(n,e){const t=FP(e),r=$P(n);if(!await r._isAvailable())return!1;const a=await r._get(t)==="true";return await r._remove(t),a}function BP(n,e){Um.set(n._key(),e)}function $P(n){return Do(n._redirectPersistence)}function FP(n){return Vm(UP,n.config.apiKey,n.name)}async function qP(n,e,t=!1){if(Na(n.app))return Promise.reject(Fl(n));const r=C_(n),a=NP(r,e),u=await new zP(r,a,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HP=10*60*1e3;class YP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!GP(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!PC(e)){const a=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Ua(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=HP&&this.cachedEventUids.clear(),this.cachedEventUids.has(eR(e))}saveEventToCache(e){this.cachedEventUids.add(eR(e)),this.lastProcessedEventTime=Date.now()}}function eR(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function PC({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function GP(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return PC(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KP(n,e={}){return Fc(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ZP=/^https?/;async function XP(n){if(n.config.emulator)return;const{authorizedDomains:e}=await KP(n);for(const t of e)try{if(WP(t))return}catch{}Uo(n,"unauthorized-domain")}function WP(n){const e=c0(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!ZP.test(t))return!1;if(QP.test(n))return r===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JP=new Xf(3e4,6e4);function tR(){const n=za().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function e4(n){return new Promise((e,t)=>{var r,a,s;function u(){tR(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{tR(),t(Ua(n,"network-request-failed"))},timeout:JP.get()})}if(!((a=(r=za().gapi)===null||r===void 0?void 0:r.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((s=za().gapi)===null||s===void 0)&&s.load)u();else{const c=oP("iframefcb");return za()[c]=()=>{gapi.load?u():t(Ua(n,"network-request-failed"))},iP(`${aP()}?onload=${c}`).catch(f=>t(f))}}).catch(e=>{throw zm=null,e})}let zm=null;function t4(n){return zm=zm||e4(n),zm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n4=new Xf(5e3,15e3),r4="__/auth/iframe",i4="emulator/auth/iframe",a4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},o4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function s4(n){const e=n.config;rt(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?b_(e,i4):`https://${n.config.authDomain}/${r4}`,r={apiKey:e.apiKey,appName:n.name,v:$c},a=o4.get(n.config.apiHost);a&&(r.eid=a);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${Zf(r).slice(1)}`}async function l4(n){const e=await t4(n),t=za().gapi;return rt(t,n,"internal-error"),e.open({where:document.body,url:s4(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:a4,dontclear:!0},r=>new Promise(async(a,s)=>{await r.restyle({setHideOnLeave:!1});const u=Ua(n,"network-request-failed"),c=za().setTimeout(()=>{s(u)},n4.get());function f(){za().clearTimeout(c),a(r)}r.ping(f).then(f,()=>{s(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},c4=500,h4=600,f4="_blank",d4="http://localhost";class nR{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function m4(n,e,t,r=c4,a=h4){const s=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const f=Object.assign(Object.assign({},u4),{width:r.toString(),height:a.toString(),top:s,left:u}),d=$r().toLowerCase();t&&(c=pC(d)?f4:t),dC(d)&&(e=e||d4,f.scrollbars="yes");const g=Object.entries(f).reduce((w,[b,R])=>`${w}${b}=${R},`,"");if(Z3(d)&&c!=="_self")return p4(e||"",c),new nR(null);const v=window.open(e||"",c,g);rt(v,n,"popup-blocked");try{v.focus()}catch{}return new nR(v)}function p4(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g4="__/auth/handler",y4="emulator/auth/handler",v4=encodeURIComponent("fac");async function rR(n,e,t,r,a,s){rt(n.config.authDomain,n,"auth-domain-config-required"),rt(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:$c,eventId:a};if(e instanceof RC){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",_k(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,v]of Object.entries({}))u[g]=v}if(e instanceof Wf){const g=e.getScopes().filter(v=>v!=="");g.length>0&&(u.scopes=g.join(","))}n.tenantId&&(u.tid=n.tenantId);const c=u;for(const g of Object.keys(c))c[g]===void 0&&delete c[g];const f=await n._getAppCheckToken(),d=f?`#${v4}=${encodeURIComponent(f)}`:"";return`${_4(n)}?${Zf(c).slice(1)}${d}`}function _4({config:n}){return n.emulator?b_(n,y4):`https://${n.authDomain}/${g4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kv="webStorageSupport";class T4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=IC,this._completeRedirectFn=qP,this._overrideRedirectResult=BP}async _openPopup(e,t,r,a){var s;zo((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const u=await rR(e,t,r,c0(),a);return m4(e,u,I_())}async _openRedirect(e,t,r,a){await this._originValidation(e);const s=await rR(e,t,r,c0(),a);return bP(s),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:s}=this.eventManagers[t];return a?Promise.resolve(a):(zo(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await l4(e),r=new YP(e);return t.register("authEvent",a=>(rt(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(kv,{type:kv},a=>{var s;const u=(s=a==null?void 0:a[0])===null||s===void 0?void 0:s[kv];u!==void 0&&t(!!u),Uo(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=XP(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return TC()||mC()||S_()}}const w4=T4;var iR="@firebase/auth",aR="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){rt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b4(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function R4(n){Ac(new Xl("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:u,authDomain:c}=r.options;rt(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:u,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:wC(n)},d=new nP(r,a,s,f);return lP(d,t),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Ac(new Xl("auth-internal",e=>{const t=C_(e.getProvider("auth").getImmediate());return(r=>new E4(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ns(iR,aR,b4(n)),Ns(iR,aR,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A4=5*60,S4=XS("authIdTokenMaxAge")||A4;let oR=null;const C4=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>S4)return;const a=t==null?void 0:t.token;oR!==a&&(oR=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function D4(n=tC()){const e=T_(n,"auth");if(e.isInitialized())return e.getImmediate();const t=sP(n,{popupRedirectResolver:w4,persistence:[xP,TP,IC]}),r=XS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const u=C4(s.toString());yP(t,u,()=>u(t.currentUser)),gP(t,c=>u(c))}}const a=QS("auth");return a&&uP(t,`http://${a}`),t}function I4(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}rP({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=a=>{const s=Ua("internal-error");s.customData=a,t(s)},r.type="text/javascript",r.charset="UTF-8",I4().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});R4("Browser");var sR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ks,LC;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,I){function O(){}O.prototype=I.prototype,x.D=I.prototype,x.prototype=new O,x.prototype.constructor=x,x.C=function(z,j,q){for(var U=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)U[Se-2]=arguments[Se];return I.prototype[j].apply(z,U)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(x,I,O){O||(O=0);var z=Array(16);if(typeof I=="string")for(var j=0;16>j;++j)z[j]=I.charCodeAt(O++)|I.charCodeAt(O++)<<8|I.charCodeAt(O++)<<16|I.charCodeAt(O++)<<24;else for(j=0;16>j;++j)z[j]=I[O++]|I[O++]<<8|I[O++]<<16|I[O++]<<24;I=x.g[0],O=x.g[1],j=x.g[2];var q=x.g[3],U=I+(q^O&(j^q))+z[0]+3614090360&4294967295;I=O+(U<<7&4294967295|U>>>25),U=q+(j^I&(O^j))+z[1]+3905402710&4294967295,q=I+(U<<12&4294967295|U>>>20),U=j+(O^q&(I^O))+z[2]+606105819&4294967295,j=q+(U<<17&4294967295|U>>>15),U=O+(I^j&(q^I))+z[3]+3250441966&4294967295,O=j+(U<<22&4294967295|U>>>10),U=I+(q^O&(j^q))+z[4]+4118548399&4294967295,I=O+(U<<7&4294967295|U>>>25),U=q+(j^I&(O^j))+z[5]+1200080426&4294967295,q=I+(U<<12&4294967295|U>>>20),U=j+(O^q&(I^O))+z[6]+2821735955&4294967295,j=q+(U<<17&4294967295|U>>>15),U=O+(I^j&(q^I))+z[7]+4249261313&4294967295,O=j+(U<<22&4294967295|U>>>10),U=I+(q^O&(j^q))+z[8]+1770035416&4294967295,I=O+(U<<7&4294967295|U>>>25),U=q+(j^I&(O^j))+z[9]+2336552879&4294967295,q=I+(U<<12&4294967295|U>>>20),U=j+(O^q&(I^O))+z[10]+4294925233&4294967295,j=q+(U<<17&4294967295|U>>>15),U=O+(I^j&(q^I))+z[11]+2304563134&4294967295,O=j+(U<<22&4294967295|U>>>10),U=I+(q^O&(j^q))+z[12]+1804603682&4294967295,I=O+(U<<7&4294967295|U>>>25),U=q+(j^I&(O^j))+z[13]+4254626195&4294967295,q=I+(U<<12&4294967295|U>>>20),U=j+(O^q&(I^O))+z[14]+2792965006&4294967295,j=q+(U<<17&4294967295|U>>>15),U=O+(I^j&(q^I))+z[15]+1236535329&4294967295,O=j+(U<<22&4294967295|U>>>10),U=I+(j^q&(O^j))+z[1]+4129170786&4294967295,I=O+(U<<5&4294967295|U>>>27),U=q+(O^j&(I^O))+z[6]+3225465664&4294967295,q=I+(U<<9&4294967295|U>>>23),U=j+(I^O&(q^I))+z[11]+643717713&4294967295,j=q+(U<<14&4294967295|U>>>18),U=O+(q^I&(j^q))+z[0]+3921069994&4294967295,O=j+(U<<20&4294967295|U>>>12),U=I+(j^q&(O^j))+z[5]+3593408605&4294967295,I=O+(U<<5&4294967295|U>>>27),U=q+(O^j&(I^O))+z[10]+38016083&4294967295,q=I+(U<<9&4294967295|U>>>23),U=j+(I^O&(q^I))+z[15]+3634488961&4294967295,j=q+(U<<14&4294967295|U>>>18),U=O+(q^I&(j^q))+z[4]+3889429448&4294967295,O=j+(U<<20&4294967295|U>>>12),U=I+(j^q&(O^j))+z[9]+568446438&4294967295,I=O+(U<<5&4294967295|U>>>27),U=q+(O^j&(I^O))+z[14]+3275163606&4294967295,q=I+(U<<9&4294967295|U>>>23),U=j+(I^O&(q^I))+z[3]+4107603335&4294967295,j=q+(U<<14&4294967295|U>>>18),U=O+(q^I&(j^q))+z[8]+1163531501&4294967295,O=j+(U<<20&4294967295|U>>>12),U=I+(j^q&(O^j))+z[13]+2850285829&4294967295,I=O+(U<<5&4294967295|U>>>27),U=q+(O^j&(I^O))+z[2]+4243563512&4294967295,q=I+(U<<9&4294967295|U>>>23),U=j+(I^O&(q^I))+z[7]+1735328473&4294967295,j=q+(U<<14&4294967295|U>>>18),U=O+(q^I&(j^q))+z[12]+2368359562&4294967295,O=j+(U<<20&4294967295|U>>>12),U=I+(O^j^q)+z[5]+4294588738&4294967295,I=O+(U<<4&4294967295|U>>>28),U=q+(I^O^j)+z[8]+2272392833&4294967295,q=I+(U<<11&4294967295|U>>>21),U=j+(q^I^O)+z[11]+1839030562&4294967295,j=q+(U<<16&4294967295|U>>>16),U=O+(j^q^I)+z[14]+4259657740&4294967295,O=j+(U<<23&4294967295|U>>>9),U=I+(O^j^q)+z[1]+2763975236&4294967295,I=O+(U<<4&4294967295|U>>>28),U=q+(I^O^j)+z[4]+1272893353&4294967295,q=I+(U<<11&4294967295|U>>>21),U=j+(q^I^O)+z[7]+4139469664&4294967295,j=q+(U<<16&4294967295|U>>>16),U=O+(j^q^I)+z[10]+3200236656&4294967295,O=j+(U<<23&4294967295|U>>>9),U=I+(O^j^q)+z[13]+681279174&4294967295,I=O+(U<<4&4294967295|U>>>28),U=q+(I^O^j)+z[0]+3936430074&4294967295,q=I+(U<<11&4294967295|U>>>21),U=j+(q^I^O)+z[3]+3572445317&4294967295,j=q+(U<<16&4294967295|U>>>16),U=O+(j^q^I)+z[6]+76029189&4294967295,O=j+(U<<23&4294967295|U>>>9),U=I+(O^j^q)+z[9]+3654602809&4294967295,I=O+(U<<4&4294967295|U>>>28),U=q+(I^O^j)+z[12]+3873151461&4294967295,q=I+(U<<11&4294967295|U>>>21),U=j+(q^I^O)+z[15]+530742520&4294967295,j=q+(U<<16&4294967295|U>>>16),U=O+(j^q^I)+z[2]+3299628645&4294967295,O=j+(U<<23&4294967295|U>>>9),U=I+(j^(O|~q))+z[0]+4096336452&4294967295,I=O+(U<<6&4294967295|U>>>26),U=q+(O^(I|~j))+z[7]+1126891415&4294967295,q=I+(U<<10&4294967295|U>>>22),U=j+(I^(q|~O))+z[14]+2878612391&4294967295,j=q+(U<<15&4294967295|U>>>17),U=O+(q^(j|~I))+z[5]+4237533241&4294967295,O=j+(U<<21&4294967295|U>>>11),U=I+(j^(O|~q))+z[12]+1700485571&4294967295,I=O+(U<<6&4294967295|U>>>26),U=q+(O^(I|~j))+z[3]+2399980690&4294967295,q=I+(U<<10&4294967295|U>>>22),U=j+(I^(q|~O))+z[10]+4293915773&4294967295,j=q+(U<<15&4294967295|U>>>17),U=O+(q^(j|~I))+z[1]+2240044497&4294967295,O=j+(U<<21&4294967295|U>>>11),U=I+(j^(O|~q))+z[8]+1873313359&4294967295,I=O+(U<<6&4294967295|U>>>26),U=q+(O^(I|~j))+z[15]+4264355552&4294967295,q=I+(U<<10&4294967295|U>>>22),U=j+(I^(q|~O))+z[6]+2734768916&4294967295,j=q+(U<<15&4294967295|U>>>17),U=O+(q^(j|~I))+z[13]+1309151649&4294967295,O=j+(U<<21&4294967295|U>>>11),U=I+(j^(O|~q))+z[4]+4149444226&4294967295,I=O+(U<<6&4294967295|U>>>26),U=q+(O^(I|~j))+z[11]+3174756917&4294967295,q=I+(U<<10&4294967295|U>>>22),U=j+(I^(q|~O))+z[2]+718787259&4294967295,j=q+(U<<15&4294967295|U>>>17),U=O+(q^(j|~I))+z[9]+3951481745&4294967295,x.g[0]=x.g[0]+I&4294967295,x.g[1]=x.g[1]+(j+(U<<21&4294967295|U>>>11))&4294967295,x.g[2]=x.g[2]+j&4294967295,x.g[3]=x.g[3]+q&4294967295}r.prototype.u=function(x,I){I===void 0&&(I=x.length);for(var O=I-this.blockSize,z=this.B,j=this.h,q=0;q<I;){if(j==0)for(;q<=O;)a(this,x,q),q+=this.blockSize;if(typeof x=="string"){for(;q<I;)if(z[j++]=x.charCodeAt(q++),j==this.blockSize){a(this,z),j=0;break}}else for(;q<I;)if(z[j++]=x[q++],j==this.blockSize){a(this,z),j=0;break}}this.h=j,this.o+=I},r.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var I=1;I<x.length-8;++I)x[I]=0;var O=8*this.o;for(I=x.length-8;I<x.length;++I)x[I]=O&255,O/=256;for(this.u(x),x=Array(16),I=O=0;4>I;++I)for(var z=0;32>z;z+=8)x[O++]=this.g[I]>>>z&255;return x};function s(x,I){var O=c;return Object.prototype.hasOwnProperty.call(O,x)?O[x]:O[x]=I(x)}function u(x,I){this.h=I;for(var O=[],z=!0,j=x.length-1;0<=j;j--){var q=x[j]|0;z&&q==I||(O[j]=q,z=!1)}this.g=O}var c={};function f(x){return-128<=x&&128>x?s(x,function(I){return new u([I|0],0>I?-1:0)}):new u([x|0],0>x?-1:0)}function d(x){if(isNaN(x)||!isFinite(x))return v;if(0>x)return D(d(-x));for(var I=[],O=1,z=0;x>=O;z++)I[z]=x/O|0,O*=4294967296;return new u(I,0)}function g(x,I){if(x.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(x.charAt(0)=="-")return D(g(x.substring(1),I));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var O=d(Math.pow(I,8)),z=v,j=0;j<x.length;j+=8){var q=Math.min(8,x.length-j),U=parseInt(x.substring(j,j+q),I);8>q?(q=d(Math.pow(I,q)),z=z.j(q).add(d(U))):(z=z.j(O),z=z.add(d(U)))}return z}var v=f(0),w=f(1),b=f(16777216);n=u.prototype,n.m=function(){if(C(this))return-D(this).m();for(var x=0,I=1,O=0;O<this.g.length;O++){var z=this.i(O);x+=(0<=z?z:4294967296+z)*I,I*=4294967296}return x},n.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(R(this))return"0";if(C(this))return"-"+D(this).toString(x);for(var I=d(Math.pow(x,6)),O=this,z="";;){var j=$(O,I).g;O=M(O,j.j(I));var q=((0<O.g.length?O.g[0]:O.h)>>>0).toString(x);if(O=j,R(O))return q+z;for(;6>q.length;)q="0"+q;z=q+z}},n.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function R(x){if(x.h!=0)return!1;for(var I=0;I<x.g.length;I++)if(x.g[I]!=0)return!1;return!0}function C(x){return x.h==-1}n.l=function(x){return x=M(this,x),C(x)?-1:R(x)?0:1};function D(x){for(var I=x.g.length,O=[],z=0;z<I;z++)O[z]=~x.g[z];return new u(O,~x.h).add(w)}n.abs=function(){return C(this)?D(this):this},n.add=function(x){for(var I=Math.max(this.g.length,x.g.length),O=[],z=0,j=0;j<=I;j++){var q=z+(this.i(j)&65535)+(x.i(j)&65535),U=(q>>>16)+(this.i(j)>>>16)+(x.i(j)>>>16);z=U>>>16,q&=65535,U&=65535,O[j]=U<<16|q}return new u(O,O[O.length-1]&-2147483648?-1:0)};function M(x,I){return x.add(D(I))}n.j=function(x){if(R(this)||R(x))return v;if(C(this))return C(x)?D(this).j(D(x)):D(D(this).j(x));if(C(x))return D(this.j(D(x)));if(0>this.l(b)&&0>x.l(b))return d(this.m()*x.m());for(var I=this.g.length+x.g.length,O=[],z=0;z<2*I;z++)O[z]=0;for(z=0;z<this.g.length;z++)for(var j=0;j<x.g.length;j++){var q=this.i(z)>>>16,U=this.i(z)&65535,Se=x.i(j)>>>16,se=x.i(j)&65535;O[2*z+2*j]+=U*se,N(O,2*z+2*j),O[2*z+2*j+1]+=q*se,N(O,2*z+2*j+1),O[2*z+2*j+1]+=U*Se,N(O,2*z+2*j+1),O[2*z+2*j+2]+=q*Se,N(O,2*z+2*j+2)}for(z=0;z<I;z++)O[z]=O[2*z+1]<<16|O[2*z];for(z=I;z<2*I;z++)O[z]=0;return new u(O,0)};function N(x,I){for(;(x[I]&65535)!=x[I];)x[I+1]+=x[I]>>>16,x[I]&=65535,I++}function V(x,I){this.g=x,this.h=I}function $(x,I){if(R(I))throw Error("division by zero");if(R(x))return new V(v,v);if(C(x))return I=$(D(x),I),new V(D(I.g),D(I.h));if(C(I))return I=$(x,D(I)),new V(D(I.g),I.h);if(30<x.g.length){if(C(x)||C(I))throw Error("slowDivide_ only works with positive integers.");for(var O=w,z=I;0>=z.l(x);)O=L(O),z=L(z);var j=Y(O,1),q=Y(z,1);for(z=Y(z,2),O=Y(O,2);!R(z);){var U=q.add(z);0>=U.l(x)&&(j=j.add(O),q=U),z=Y(z,1),O=Y(O,1)}return I=M(x,j.j(I)),new V(j,I)}for(j=v;0<=x.l(I);){for(O=Math.max(1,Math.floor(x.m()/I.m())),z=Math.ceil(Math.log(O)/Math.LN2),z=48>=z?1:Math.pow(2,z-48),q=d(O),U=q.j(I);C(U)||0<U.l(x);)O-=z,q=d(O),U=q.j(I);R(q)&&(q=w),j=j.add(q),x=M(x,U)}return new V(j,x)}n.A=function(x){return $(this,x).h},n.and=function(x){for(var I=Math.max(this.g.length,x.g.length),O=[],z=0;z<I;z++)O[z]=this.i(z)&x.i(z);return new u(O,this.h&x.h)},n.or=function(x){for(var I=Math.max(this.g.length,x.g.length),O=[],z=0;z<I;z++)O[z]=this.i(z)|x.i(z);return new u(O,this.h|x.h)},n.xor=function(x){for(var I=Math.max(this.g.length,x.g.length),O=[],z=0;z<I;z++)O[z]=this.i(z)^x.i(z);return new u(O,this.h^x.h)};function L(x){for(var I=x.g.length+1,O=[],z=0;z<I;z++)O[z]=x.i(z)<<1|x.i(z-1)>>>31;return new u(O,x.h)}function Y(x,I){var O=I>>5;I%=32;for(var z=x.g.length-O,j=[],q=0;q<z;q++)j[q]=0<I?x.i(q+O)>>>I|x.i(q+O+1)<<32-I:x.i(q+O);return new u(j,x.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,LC=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=d,u.fromString=g,ks=u}).apply(typeof sR<"u"?sR:typeof self<"u"?self:typeof window<"u"?window:{});var bm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var VC,tf,UC,jm,d0,zC,jC,BC;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,E,A){return m==Array.prototype||m==Object.prototype||(m[E]=A.value),m};function t(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof bm=="object"&&bm];for(var E=0;E<m.length;++E){var A=m[E];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var r=t(this);function a(m,E){if(E)e:{var A=r;m=m.split(".");for(var P=0;P<m.length-1;P++){var J=m[P];if(!(J in A))break e;A=A[J]}m=m[m.length-1],P=A[m],E=E(P),E!=P&&E!=null&&e(A,m,{configurable:!0,writable:!0,value:E})}}function s(m,E){m instanceof String&&(m+="");var A=0,P=!1,J={next:function(){if(!P&&A<m.length){var ie=A++;return{value:E(ie,m[ie]),done:!1}}return P=!0,{done:!0,value:void 0}}};return J[Symbol.iterator]=function(){return J},J}a("Array.prototype.values",function(m){return m||function(){return s(this,function(E,A){return A})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},c=this||self;function f(m){var E=typeof m;return E=E!="object"?E:m?Array.isArray(m)?"array":E:"null",E=="array"||E=="object"&&typeof m.length=="number"}function d(m){var E=typeof m;return E=="object"&&m!=null||E=="function"}function g(m,E,A){return m.call.apply(m.bind,arguments)}function v(m,E,A){if(!m)throw Error();if(2<arguments.length){var P=Array.prototype.slice.call(arguments,2);return function(){var J=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(J,P),m.apply(E,J)}}return function(){return m.apply(E,arguments)}}function w(m,E,A){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:v,w.apply(null,arguments)}function b(m,E){var A=Array.prototype.slice.call(arguments,1);return function(){var P=A.slice();return P.push.apply(P,arguments),m.apply(this,P)}}function R(m,E){function A(){}A.prototype=E.prototype,m.aa=E.prototype,m.prototype=new A,m.prototype.constructor=m,m.Qb=function(P,J,ie){for(var Te=Array(arguments.length-2),It=2;It<arguments.length;It++)Te[It-2]=arguments[It];return E.prototype[J].apply(P,Te)}}function C(m){const E=m.length;if(0<E){const A=Array(E);for(let P=0;P<E;P++)A[P]=m[P];return A}return[]}function D(m,E){for(let A=1;A<arguments.length;A++){const P=arguments[A];if(f(P)){const J=m.length||0,ie=P.length||0;m.length=J+ie;for(let Te=0;Te<ie;Te++)m[J+Te]=P[Te]}else m.push(P)}}class M{constructor(E,A){this.i=E,this.j=A,this.h=0,this.g=null}get(){let E;return 0<this.h?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function N(m){return/^[\s\xa0]*$/.test(m)}function V(){var m=c.navigator;return m&&(m=m.userAgent)?m:""}function $(m){return $[" "](m),m}$[" "]=function(){};var L=V().indexOf("Gecko")!=-1&&!(V().toLowerCase().indexOf("webkit")!=-1&&V().indexOf("Edge")==-1)&&!(V().indexOf("Trident")!=-1||V().indexOf("MSIE")!=-1)&&V().indexOf("Edge")==-1;function Y(m,E,A){for(const P in m)E.call(A,m[P],P,m)}function x(m,E){for(const A in m)E.call(void 0,m[A],A,m)}function I(m){const E={};for(const A in m)E[A]=m[A];return E}const O="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function z(m,E){let A,P;for(let J=1;J<arguments.length;J++){P=arguments[J];for(A in P)m[A]=P[A];for(let ie=0;ie<O.length;ie++)A=O[ie],Object.prototype.hasOwnProperty.call(P,A)&&(m[A]=P[A])}}function j(m){var E=1;m=m.split(":");const A=[];for(;0<E&&m.length;)A.push(m.shift()),E--;return m.length&&A.push(m.join(":")),A}function q(m){c.setTimeout(()=>{throw m},0)}function U(){var m=Pe;let E=null;return m.g&&(E=m.g,m.g=m.g.next,m.g||(m.h=null),E.next=null),E}class Se{constructor(){this.h=this.g=null}add(E,A){const P=se.get();P.set(E,A),this.h?this.h.next=P:this.g=P,this.h=P}}var se=new M(()=>new re,m=>m.reset());class re{constructor(){this.next=this.g=this.h=null}set(E,A){this.h=E,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let de,ge=!1,Pe=new Se,F=()=>{const m=c.Promise.resolve(void 0);de=()=>{m.then(ae)}};var ae=()=>{for(var m;m=U();){try{m.h.call(m.g)}catch(A){q(A)}var E=se;E.j(m),100>E.h&&(E.h++,m.next=E.g,E.g=m)}ge=!1};function ve(){this.s=this.s,this.C=this.C}ve.prototype.s=!1,ve.prototype.ma=function(){this.s||(this.s=!0,this.N())},ve.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ye(m,E){this.type=m,this.g=this.target=E,this.defaultPrevented=!1}ye.prototype.h=function(){this.defaultPrevented=!0};var _e=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var m=!1,E=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const A=()=>{};c.addEventListener("test",A,E),c.removeEventListener("test",A,E)}catch{}return m}();function Le(m,E){if(ye.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var A=this.type=m.type,P=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=E,E=m.relatedTarget){if(L){e:{try{$(E.nodeName);var J=!0;break e}catch{}J=!1}J||(E=null)}}else A=="mouseover"?E=m.fromElement:A=="mouseout"&&(E=m.toElement);this.relatedTarget=E,P?(this.clientX=P.clientX!==void 0?P.clientX:P.pageX,this.clientY=P.clientY!==void 0?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:Ve[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&Le.aa.h.call(this)}}R(Le,ye);var Ve={2:"touch",3:"pen",4:"mouse"};Le.prototype.h=function(){Le.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var wt="closure_listenable_"+(1e6*Math.random()|0),dt=0;function ct(m,E,A,P,J){this.listener=m,this.proxy=null,this.src=E,this.type=A,this.capture=!!P,this.ha=J,this.key=++dt,this.da=this.fa=!1}function mt(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function Rn(m){this.src=m,this.g={},this.h=0}Rn.prototype.add=function(m,E,A,P,J){var ie=m.toString();m=this.g[ie],m||(m=this.g[ie]=[],this.h++);var Te=vn(m,E,P,J);return-1<Te?(E=m[Te],A||(E.fa=!1)):(E=new ct(E,this.src,ie,!!P,J),E.fa=A,m.push(E)),E};function Fr(m,E){var A=E.type;if(A in m.g){var P=m.g[A],J=Array.prototype.indexOf.call(P,E,void 0),ie;(ie=0<=J)&&Array.prototype.splice.call(P,J,1),ie&&(mt(E),m.g[A].length==0&&(delete m.g[A],m.h--))}}function vn(m,E,A,P){for(var J=0;J<m.length;++J){var ie=m[J];if(!ie.da&&ie.listener==E&&ie.capture==!!A&&ie.ha==P)return J}return-1}var fa="closure_lm_"+(1e6*Math.random()|0),da={};function Di(m,E,A,P,J){if(Array.isArray(E)){for(var ie=0;ie<E.length;ie++)Di(m,E[ie],A,P,J);return null}return A=fi(A),m&&m[wt]?m.K(E,A,d(P)?!!P.capture:!1,J):el(m,E,A,!1,P,J)}function el(m,E,A,P,J,ie){if(!E)throw Error("Invalid event type");var Te=d(J)?!!J.capture:!!J,It=Yo(m);if(It||(m[fa]=It=new Rn(m)),A=It.add(E,A,P,Te,ie),A.proxy)return A;if(P=qo(),A.proxy=P,P.src=m,P.listener=A,m.addEventListener)_e||(J=Te),J===void 0&&(J=!1),m.addEventListener(E.toString(),P,J);else if(m.attachEvent)m.attachEvent(ri(E.toString()),P);else if(m.addListener&&m.removeListener)m.addListener(P);else throw Error("addEventListener and attachEvent are unavailable.");return A}function qo(){function m(A){return E.call(m.src,m.listener,A)}const E=Wa;return m}function Ho(m,E,A,P,J){if(Array.isArray(E))for(var ie=0;ie<E.length;ie++)Ho(m,E[ie],A,P,J);else P=d(P)?!!P.capture:!!P,A=fi(A),m&&m[wt]?(m=m.i,E=String(E).toString(),E in m.g&&(ie=m.g[E],A=vn(ie,A,P,J),-1<A&&(mt(ie[A]),Array.prototype.splice.call(ie,A,1),ie.length==0&&(delete m.g[E],m.h--)))):m&&(m=Yo(m))&&(E=m.g[E.toString()],m=-1,E&&(m=vn(E,A,P,J)),(A=-1<m?E[m]:null)&&Xa(A))}function Xa(m){if(typeof m!="number"&&m&&!m.da){var E=m.src;if(E&&E[wt])Fr(E.i,m);else{var A=m.type,P=m.proxy;E.removeEventListener?E.removeEventListener(A,P,m.capture):E.detachEvent?E.detachEvent(ri(A),P):E.addListener&&E.removeListener&&E.removeListener(P),(A=Yo(E))?(Fr(A,m),A.h==0&&(A.src=null,E[fa]=null)):mt(m)}}}function ri(m){return m in da?da[m]:da[m]="on"+m}function Wa(m,E){if(m.da)m=!0;else{E=new Le(E,this);var A=m.listener,P=m.ha||m.src;m.fa&&Xa(m),m=A.call(P,E)}return m}function Yo(m){return m=m[fa],m instanceof Rn?m:null}var er="__closure_events_fn_"+(1e9*Math.random()>>>0);function fi(m){return typeof m=="function"?m:(m[er]||(m[er]=function(E){return m.handleEvent(E)}),m[er])}function Ht(){ve.call(this),this.i=new Rn(this),this.M=this,this.F=null}R(Ht,ve),Ht.prototype[wt]=!0,Ht.prototype.removeEventListener=function(m,E,A,P){Ho(this,m,E,A,P)};function On(m,E){var A,P=m.F;if(P)for(A=[];P;P=P.F)A.push(P);if(m=m.M,P=E.type||E,typeof E=="string")E=new ye(E,m);else if(E instanceof ye)E.target=E.target||m;else{var J=E;E=new ye(P,m),z(E,J)}if(J=!0,A)for(var ie=A.length-1;0<=ie;ie--){var Te=E.g=A[ie];J=di(Te,P,!0,E)&&J}if(Te=E.g=m,J=di(Te,P,!0,E)&&J,J=di(Te,P,!1,E)&&J,A)for(ie=0;ie<A.length;ie++)Te=E.g=A[ie],J=di(Te,P,!1,E)&&J}Ht.prototype.N=function(){if(Ht.aa.N.call(this),this.i){var m=this.i,E;for(E in m.g){for(var A=m.g[E],P=0;P<A.length;P++)mt(A[P]);delete m.g[E],m.h--}}this.F=null},Ht.prototype.K=function(m,E,A,P){return this.i.add(String(m),E,!1,A,P)},Ht.prototype.L=function(m,E,A,P){return this.i.add(String(m),E,!0,A,P)};function di(m,E,A,P){if(E=m.i.g[String(E)],!E)return!0;E=E.concat();for(var J=!0,ie=0;ie<E.length;++ie){var Te=E[ie];if(Te&&!Te.da&&Te.capture==A){var It=Te.listener,qn=Te.ha||Te.src;Te.fa&&Fr(m.i,Te),J=It.call(qn,P)!==!1&&J}}return J&&!P.defaultPrevented}function uu(m,E,A){if(typeof m=="function")A&&(m=w(m,A));else if(m&&typeof m.handleEvent=="function")m=w(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(E)?-1:c.setTimeout(m,E||0)}function ii(m){m.g=uu(()=>{m.g=null,m.i&&(m.i=!1,ii(m))},m.l);const E=m.h;m.h=null,m.m.apply(null,E)}class cu extends ve{constructor(E,A){super(),this.m=E,this.l=A,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:ii(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ma(m){ve.call(this),this.h=m,this.g={}}R(ma,ve);var Xi=[];function tr(m){Y(m.g,function(E,A){this.g.hasOwnProperty(A)&&Xa(E)},m),m.g={}}ma.prototype.N=function(){ma.aa.N.call(this),tr(this)},ma.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Go=c.JSON.stringify,qr=c.JSON.parse,nr=class{stringify(m){return c.JSON.stringify(m,void 0)}parse(m){return c.JSON.parse(m,void 0)}};function Ja(){}Ja.prototype.h=null;function hu(m){return m.h||(m.h=m.i())}function tl(){}var Ii={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Wi(){ye.call(this,"d")}R(Wi,ye);function Pr(){ye.call(this,"c")}R(Pr,ye);var gr={},pa=null;function Ko(){return pa=pa||new Ht}gr.La="serverreachability";function H(m){ye.call(this,gr.La,m)}R(H,ye);function Q(m){const E=Ko();On(E,new H(E))}gr.STAT_EVENT="statevent";function ne(m,E){ye.call(this,gr.STAT_EVENT,m),this.stat=E}R(ne,ye);function ue(m){const E=Ko();On(E,new ne(E,m))}gr.Ma="timingevent";function be(m,E){ye.call(this,gr.Ma,m),this.size=E}R(be,ye);function Fe(m,E){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){m()},E)}function $e(){this.g=!0}$e.prototype.xa=function(){this.g=!1};function Ue(m,E,A,P,J,ie){m.info(function(){if(m.g)if(ie)for(var Te="",It=ie.split("&"),qn=0;qn<It.length;qn++){var Ot=It[qn].split("=");if(1<Ot.length){var ar=Ot[0];Ot=Ot[1];var Hn=ar.split("_");Te=2<=Hn.length&&Hn[1]=="type"?Te+(ar+"="+Ot+"&"):Te+(ar+"=redacted&")}}else Te=null;else Te=ie;return"XMLHTTP REQ ("+P+") [attempt "+J+"]: "+E+`
`+A+`
`+Te})}function je(m,E,A,P,J,ie,Te){m.info(function(){return"XMLHTTP RESP ("+P+") [ attempt "+J+"]: "+E+`
`+A+`
`+ie+" "+Te})}function Ae(m,E,A,P){m.info(function(){return"XMLHTTP TEXT ("+E+"): "+xe(m,A)+(P?" "+P:"")})}function Me(m,E){m.info(function(){return"TIMEOUT: "+E})}$e.prototype.info=function(){};function xe(m,E){if(!m.g)return E;if(!E)return null;try{var A=JSON.parse(E);if(A){for(m=0;m<A.length;m++)if(Array.isArray(A[m])){var P=A[m];if(!(2>P.length)){var J=P[1];if(Array.isArray(J)&&!(1>J.length)){var ie=J[0];if(ie!="noop"&&ie!="stop"&&ie!="close")for(var Te=1;Te<J.length;Te++)J[Te]=""}}}}return Go(A)}catch{return E}}var Ye={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Pt={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},pn;function Jt(){}R(Jt,Ja),Jt.prototype.g=function(){return new XMLHttpRequest},Jt.prototype.i=function(){return{}},pn=new Jt;function kt(m,E,A,P){this.j=m,this.i=E,this.l=A,this.R=P||1,this.U=new ma(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new dn}function dn(){this.i=null,this.g="",this.h=!1}var Hr={},mi={};function Mn(m,E,A){m.L=1,m.v=al(An(E)),m.m=A,m.P=!0,Vn(m,null)}function Vn(m,E){m.F=Date.now(),jt(m),m.A=An(m.v);var A=m.A,P=m.R;Array.isArray(P)||(P=[String(P)]),ro(A.i,"t",P),m.C=0,A=m.j.J,m.h=new dn,m.g=vd(m.j,A?E:null,!m.m),0<m.O&&(m.M=new cu(w(m.Y,m,m.g),m.O)),E=m.U,A=m.g,P=m.ca;var J="readystatechange";Array.isArray(J)||(J&&(Xi[0]=J.toString()),J=Xi);for(var ie=0;ie<J.length;ie++){var Te=Di(A,J[ie],P||E.handleEvent,!1,E.h||E);if(!Te)break;E.g[Te.key]=Te}E=m.H?I(m.H):{},m.m?(m.u||(m.u="POST"),E["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,E)):(m.u="GET",m.g.ea(m.A,m.u,null,E)),Q(),Ue(m.i,m.u,m.A,m.l,m.R,m.m)}kt.prototype.ca=function(m){m=m.target;const E=this.M;E&&Li(m)==3?E.j():this.Y(m)},kt.prototype.Y=function(m){try{if(m==this.g)e:{const Hn=Li(this.g);var E=this.g.Ba();const so=this.g.Z();if(!(3>Hn)&&(Hn!=3||this.g&&(this.h.h||this.g.oa()||cd(this.g)))){this.J||Hn!=4||E==7||(E==8||0>=so?Q(3):Q(2)),Ji(this);var A=this.g.Z();this.X=A;t:if(Oi(this)){var P=cd(this.g);m="";var J=P.length,ie=Li(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Bt(this),ft(this);var Te="";break t}this.h.i=new c.TextDecoder}for(E=0;E<J;E++)this.h.h=!0,m+=this.h.i.decode(P[E],{stream:!(ie&&E==J-1)});P.length=0,this.h.g+=m,this.C=0,Te=this.h.g}else Te=this.g.oa();if(this.o=A==200,je(this.i,this.u,this.A,this.l,this.R,Hn,A),this.o){if(this.T&&!this.K){t:{if(this.g){var It,qn=this.g;if((It=qn.g?qn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(It)){var Ot=It;break t}}Ot=null}if(A=Ot)Ae(this.i,this.l,A,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,rr(this,A);else{this.o=!1,this.s=3,ue(12),Bt(this),ft(this);break e}}if(this.P){A=!0;let yr;for(;!this.J&&this.C<Te.length;)if(yr=ai(this,Te),yr==mi){Hn==4&&(this.s=4,ue(14),A=!1),Ae(this.i,this.l,null,"[Incomplete Response]");break}else if(yr==Hr){this.s=4,ue(15),Ae(this.i,this.l,Te,"[Invalid Chunk]"),A=!1;break}else Ae(this.i,this.l,yr,null),rr(this,yr);if(Oi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Hn!=4||Te.length!=0||this.h.h||(this.s=1,ue(16),A=!1),this.o=this.o&&A,!A)Ae(this.i,this.l,Te,"[Invalid Chunked Response]"),Bt(this),ft(this);else if(0<Te.length&&!this.W){this.W=!0;var ar=this.j;ar.g==this&&ar.ba&&!ar.M&&(ar.j.info("Great, no buffering proxy detected. Bytes received: "+Te.length),fl(ar),ar.M=!0,ue(11))}}else Ae(this.i,this.l,Te,null),rr(this,Te);Hn==4&&Bt(this),this.o&&!this.J&&(Hn==4?pd(this.j,this):(this.o=!1,jt(this)))}else Tg(this.g),A==400&&0<Te.indexOf("Unknown SID")?(this.s=3,ue(12)):(this.s=0,ue(13)),Bt(this),ft(this)}}}catch{}finally{}};function Oi(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function ai(m,E){var A=m.C,P=E.indexOf(`
`,A);return P==-1?mi:(A=Number(E.substring(A,P)),isNaN(A)?Hr:(P+=1,P+A>E.length?mi:(E=E.slice(P,P+A),m.C=P+A,E)))}kt.prototype.cancel=function(){this.J=!0,Bt(this)};function jt(m){m.S=Date.now()+m.I,ga(m,m.I)}function ga(m,E){if(m.B!=null)throw Error("WatchDog timer not null");m.B=Fe(w(m.ba,m),E)}function Ji(m){m.B&&(c.clearTimeout(m.B),m.B=null)}kt.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(Me(this.i,this.A),this.L!=2&&(Q(),ue(17)),Bt(this),this.s=2,ft(this)):ga(this,this.S-m)};function ft(m){m.j.G==0||m.J||pd(m.j,m)}function Bt(m){Ji(m);var E=m.M;E&&typeof E.ma=="function"&&E.ma(),m.M=null,tr(m.U),m.g&&(E=m.g,m.g=null,E.abort(),E.ma())}function rr(m,E){try{var A=m.j;if(A.G!=0&&(A.g==m||ya(A.h,m))){if(!m.K&&ya(A.h,m)&&A.G==3){try{var P=A.Da.g.parse(E)}catch{P=null}if(Array.isArray(P)&&P.length==3){var J=P;if(J[0]==0){e:if(!A.u){if(A.g)if(A.g.F+3e3<m.F)wu(A),_u(A);else break e;rh(A),ue(18)}}else A.za=J[1],0<A.za-A.T&&37500>J[2]&&A.F&&A.v==0&&!A.C&&(A.C=Fe(w(A.Za,A),6e3));if(1>=nl(A.h)&&A.ca){try{A.ca()}catch{}A.ca=void 0}}else oo(A,11)}else if((m.K||A.g==m)&&wu(A),!N(E))for(J=A.Da.g.parse(E),E=0;E<J.length;E++){let Ot=J[E];if(A.T=Ot[0],Ot=Ot[1],A.G==2)if(Ot[0]=="c"){A.K=Ot[1],A.ia=Ot[2];const ar=Ot[3];ar!=null&&(A.la=ar,A.j.info("VER="+A.la));const Hn=Ot[4];Hn!=null&&(A.Aa=Hn,A.j.info("SVER="+A.Aa));const so=Ot[5];so!=null&&typeof so=="number"&&0<so&&(P=1.5*so,A.L=P,A.j.info("backChannelRequestTimeoutMs_="+P)),P=A;const yr=m.g;if(yr){const Ra=yr.g?yr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ra){var ie=P.h;ie.g||Ra.indexOf("spdy")==-1&&Ra.indexOf("quic")==-1&&Ra.indexOf("h2")==-1||(ie.j=ie.l,ie.g=new Set,ie.h&&(Qo(ie,ie.h),ie.h=null))}if(P.D){const ah=yr.g?yr.g.getResponseHeader("X-HTTP-Session-Id"):null;ah&&(P.ya=ah,Lt(P.I,P.D,ah))}}A.G=3,A.l&&A.l.ua(),A.ba&&(A.R=Date.now()-m.F,A.j.info("Handshake RTT: "+A.R+"ms")),P=A;var Te=m;if(P.qa=yd(P,P.J?P.ia:null,P.W),Te.K){xi(P.h,Te);var It=Te,qn=P.L;qn&&(It.I=qn),It.B&&(Ji(It),jt(It)),P.g=Te}else dd(P);0<A.i.length&&Tu(A)}else Ot[0]!="stop"&&Ot[0]!="close"||oo(A,7);else A.G==3&&(Ot[0]=="stop"||Ot[0]=="close"?Ot[0]=="stop"?oo(A,7):th(A):Ot[0]!="noop"&&A.l&&A.l.ta(Ot),A.v=0)}}Q(4)}catch{}}var eo=class{constructor(m,E){this.g=m,this.map=E}};function an(m){this.l=m||10,c.PerformanceNavigationTiming?(m=c.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Mi(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function nl(m){return m.h?1:m.g?m.g.size:0}function ya(m,E){return m.h?m.h==E:m.g?m.g.has(E):!1}function Qo(m,E){m.g?m.g.add(E):m.h=E}function xi(m,E){m.h&&m.h==E?m.h=null:m.g&&m.g.has(E)&&m.g.delete(E)}an.prototype.cancel=function(){if(this.i=Yr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function Yr(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let E=m.i;for(const A of m.g.values())E=E.concat(A.D);return E}return C(m.i)}function od(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(f(m)){for(var E=[],A=m.length,P=0;P<A;P++)E.push(m[P]);return E}E=[],A=0;for(P in m)E[A++]=m[P];return E}function gg(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(f(m)||typeof m=="string"){var E=[];m=m.length;for(var A=0;A<m;A++)E.push(A);return E}E=[],A=0;for(const P in m)E[A++]=P;return E}}}function rl(m,E){if(m.forEach&&typeof m.forEach=="function")m.forEach(E,void 0);else if(f(m)||typeof m=="string")Array.prototype.forEach.call(m,E,void 0);else for(var A=gg(m),P=od(m),J=P.length,ie=0;ie<J;ie++)E.call(void 0,P[ie],A&&A[ie],m)}var Qc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fu(m,E){if(m){m=m.split("&");for(var A=0;A<m.length;A++){var P=m[A].indexOf("="),J=null;if(0<=P){var ie=m[A].substring(0,P);J=m[A].substring(P+1)}else ie=m[A];E(ie,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function to(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof to){this.h=m.h,Zo(this,m.j),this.o=m.o,this.g=m.g,il(this,m.s),this.l=m.l;var E=m.i,A=new va;A.i=E.i,E.g&&(A.g=new Map(E.g),A.h=E.h),du(this,A),this.m=m.m}else m&&(E=String(m).match(Qc))?(this.h=!1,Zo(this,E[1]||"",!0),this.o=Xo(E[2]||""),this.g=Xo(E[3]||"",!0),il(this,E[4]),this.l=Xo(E[5]||"",!0),du(this,E[6]||"",!0),this.m=Xo(E[7]||"")):(this.h=!1,this.i=new va(null,this.h))}to.prototype.toString=function(){var m=[],E=this.j;E&&m.push(Ni(E,Zc,!0),":");var A=this.g;return(A||E=="file")&&(m.push("//"),(E=this.o)&&m.push(Ni(E,Zc,!0),"@"),m.push(encodeURIComponent(String(A)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.s,A!=null&&m.push(":",String(A))),(A=this.l)&&(this.g&&A.charAt(0)!="/"&&m.push("/"),m.push(Ni(A,A.charAt(0)=="/"?Xc:sd,!0))),(A=this.i.toString())&&m.push("?",A),(A=this.m)&&m.push("#",Ni(A,_g)),m.join("")};function An(m){return new to(m)}function Zo(m,E,A){m.j=A?Xo(E,!0):E,m.j&&(m.j=m.j.replace(/:$/,""))}function il(m,E){if(E){if(E=Number(E),isNaN(E)||0>E)throw Error("Bad port number "+E);m.s=E}else m.s=null}function du(m,E,A){E instanceof va?(m.i=E,Wc(m.i,m.h)):(A||(E=Ni(E,vg)),m.i=new va(E,m.h))}function Lt(m,E,A){m.i.set(E,A)}function al(m){return Lt(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function Xo(m,E){return m?E?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function Ni(m,E,A){return typeof m=="string"?(m=encodeURI(m).replace(E,yg),A&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function yg(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var Zc=/[#\/\?@]/g,sd=/[#\?:]/g,Xc=/[#\?]/g,vg=/[#\?@]/g,_g=/#/g;function va(m,E){this.h=this.g=null,this.i=m||null,this.j=!!E}function ki(m){m.g||(m.g=new Map,m.h=0,m.i&&fu(m.i,function(E,A){m.add(decodeURIComponent(E.replace(/\+/g," ")),A)}))}n=va.prototype,n.add=function(m,E){ki(this),this.i=null,m=io(this,m);var A=this.g.get(m);return A||this.g.set(m,A=[]),A.push(E),this.h+=1,this};function mu(m,E){ki(m),E=io(m,E),m.g.has(E)&&(m.i=null,m.h-=m.g.get(E).length,m.g.delete(E))}function no(m,E){return ki(m),E=io(m,E),m.g.has(E)}n.forEach=function(m,E){ki(this),this.g.forEach(function(A,P){A.forEach(function(J){m.call(E,J,P,this)},this)},this)},n.na=function(){ki(this);const m=Array.from(this.g.values()),E=Array.from(this.g.keys()),A=[];for(let P=0;P<E.length;P++){const J=m[P];for(let ie=0;ie<J.length;ie++)A.push(E[P])}return A},n.V=function(m){ki(this);let E=[];if(typeof m=="string")no(this,m)&&(E=E.concat(this.g.get(io(this,m))));else{m=Array.from(this.g.values());for(let A=0;A<m.length;A++)E=E.concat(m[A])}return E},n.set=function(m,E){return ki(this),this.i=null,m=io(this,m),no(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[E]),this.h+=1,this},n.get=function(m,E){return m?(m=this.V(m),0<m.length?String(m[0]):E):E};function ro(m,E,A){mu(m,E),0<A.length&&(m.i=null,m.g.set(io(m,E),C(A)),m.h+=A.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],E=Array.from(this.g.keys());for(var A=0;A<E.length;A++){var P=E[A];const ie=encodeURIComponent(String(P)),Te=this.V(P);for(P=0;P<Te.length;P++){var J=ie;Te[P]!==""&&(J+="="+encodeURIComponent(String(Te[P]))),m.push(J)}}return this.i=m.join("&")};function io(m,E){return E=String(E),m.j&&(E=E.toLowerCase()),E}function Wc(m,E){E&&!m.j&&(ki(m),m.i=null,m.g.forEach(function(A,P){var J=P.toLowerCase();P!=J&&(mu(this,P),ro(this,J,A))},m)),m.j=E}function ld(m,E){const A=new $e;if(c.Image){const P=new Image;P.onload=b(Pi,A,"TestLoadImage: loaded",!0,E,P),P.onerror=b(Pi,A,"TestLoadImage: error",!1,E,P),P.onabort=b(Pi,A,"TestLoadImage: abort",!1,E,P),P.ontimeout=b(Pi,A,"TestLoadImage: timeout",!1,E,P),c.setTimeout(function(){P.ontimeout&&P.ontimeout()},1e4),P.src=m}else E(!1)}function ol(m,E){const A=new $e,P=new AbortController,J=setTimeout(()=>{P.abort(),Pi(A,"TestPingServer: timeout",!1,E)},1e4);fetch(m,{signal:P.signal}).then(ie=>{clearTimeout(J),ie.ok?Pi(A,"TestPingServer: ok",!0,E):Pi(A,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(J),Pi(A,"TestPingServer: error",!1,E)})}function Pi(m,E,A,P,J){try{J&&(J.onload=null,J.onerror=null,J.onabort=null,J.ontimeout=null),P(A)}catch{}}function sl(){this.g=new nr}function _a(m,E,A){const P=A||"";try{rl(m,function(J,ie){let Te=J;d(J)&&(Te=Go(J)),E.push(P+ie+"="+encodeURIComponent(Te))})}catch(J){throw E.push(P+"type="+encodeURIComponent("_badmap")),J}}function Wo(m){this.l=m.Ub||null,this.j=m.eb||!1}R(Wo,Ja),Wo.prototype.g=function(){return new ao(this.l,this.j)},Wo.prototype.i=function(m){return function(){return m}}({});function ao(m,E){Ht.call(this),this.D=m,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}R(ao,Ht),n=ao.prototype,n.open=function(m,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=E,this.readyState=1,wa(this)},n.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const E={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(E.body=m),(this.D||c).fetch(new Request(this.A,E)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ta(this)),this.readyState=0},n.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,wa(this)),this.g&&(this.readyState=3,wa(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Jc(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function Jc(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}n.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var E=m.value?m.value:new Uint8Array(0);(E=this.v.decode(E,{stream:!m.done}))&&(this.response=this.responseText+=E)}m.done?Ta(this):wa(this),this.readyState==3&&Jc(this)}},n.Ra=function(m){this.g&&(this.response=this.responseText=m,Ta(this))},n.Qa=function(m){this.g&&(this.response=m,Ta(this))},n.ga=function(){this.g&&Ta(this)};function Ta(m){m.readyState=4,m.l=null,m.j=null,m.v=null,wa(m)}n.setRequestHeader=function(m,E){this.u.append(m,E)},n.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],E=this.h.entries();for(var A=E.next();!A.done;)A=A.value,m.push(A[0]+": "+A[1]),A=E.next();return m.join(`\r
`)};function wa(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(ao.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function eh(m){let E="";return Y(m,function(A,P){E+=P,E+=":",E+=A,E+=`\r
`}),E}function ir(m,E,A){e:{for(P in A){var P=!1;break e}P=!0}P||(A=eh(A),typeof m=="string"?A!=null&&encodeURIComponent(String(A)):Lt(m,E,A))}function $t(m){Ht.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}R($t,Ht);var pu=/^https?$/i,ll=["POST","PUT"];n=$t.prototype,n.Ha=function(m){this.J=m},n.ea=function(m,E,A,P){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);E=E?E.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():pn.g(),this.v=this.o?hu(this.o):hu(pn),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(E,String(m),!0),this.B=!1}catch(ie){ud(this,ie);return}if(m=A||"",A=new Map(this.headers),P)if(Object.getPrototypeOf(P)===Object.prototype)for(var J in P)A.set(J,P[J]);else if(typeof P.keys=="function"&&typeof P.get=="function")for(const ie of P.keys())A.set(ie,P.get(ie));else throw Error("Unknown input type for opt_headers: "+String(P));P=Array.from(A.keys()).find(ie=>ie.toLowerCase()=="content-type"),J=c.FormData&&m instanceof c.FormData,!(0<=Array.prototype.indexOf.call(ll,E,void 0))||P||J||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ie,Te]of A)this.g.setRequestHeader(ie,Te);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ul(this),this.u=!0,this.g.send(m),this.u=!1}catch(ie){ud(this,ie)}};function ud(m,E){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=E,m.m=5,gu(m),Ea(m)}function gu(m){m.A||(m.A=!0,On(m,"complete"),On(m,"error"))}n.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,On(this,"complete"),On(this,"abort"),Ea(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ea(this,!0)),$t.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?yu(this):this.bb())},n.bb=function(){yu(this)};function yu(m){if(m.h&&typeof u<"u"&&(!m.v[1]||Li(m)!=4||m.Z()!=2)){if(m.u&&Li(m)==4)uu(m.Ea,0,m);else if(On(m,"readystatechange"),Li(m)==4){m.h=!1;try{const Te=m.Z();e:switch(Te){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var A;if(!(A=E)){var P;if(P=Te===0){var J=String(m.D).match(Qc)[1]||null;!J&&c.self&&c.self.location&&(J=c.self.location.protocol.slice(0,-1)),P=!pu.test(J?J.toLowerCase():"")}A=P}if(A)On(m,"complete"),On(m,"success");else{m.m=6;try{var ie=2<Li(m)?m.g.statusText:""}catch{ie=""}m.l=ie+" ["+m.Z()+"]",gu(m)}}finally{Ea(m)}}}}function Ea(m,E){if(m.g){ul(m);const A=m.g,P=m.v[0]?()=>{}:null;m.g=null,m.v=null,E||On(m,"ready");try{A.onreadystatechange=P}catch{}}}function ul(m){m.I&&(c.clearTimeout(m.I),m.I=null)}n.isActive=function(){return!!this.g};function Li(m){return m.g?m.g.readyState:0}n.Z=function(){try{return 2<Li(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(m){if(this.g){var E=this.g.responseText;return m&&E.indexOf(m)==0&&(E=E.substring(m.length)),qr(E)}};function cd(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function Tg(m){const E={};m=(m.g&&2<=Li(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let P=0;P<m.length;P++){if(N(m[P]))continue;var A=j(m[P]);const J=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const ie=E[J]||[];E[J]=ie,ie.push(A)}x(E,function(P){return P.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function cl(m,E,A){return A&&A.internalChannelParams&&A.internalChannelParams[m]||E}function vu(m){this.Aa=0,this.i=[],this.j=new $e,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=cl("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=cl("baseRetryDelayMs",5e3,m),this.cb=cl("retryDelaySeedMs",1e4,m),this.Wa=cl("forwardChannelMaxRetries",2,m),this.wa=cl("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new an(m&&m.concurrentRequestLimit),this.Da=new sl,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=vu.prototype,n.la=8,n.G=1,n.connect=function(m,E,A,P){ue(0),this.W=m,this.H=E||{},A&&P!==void 0&&(this.H.OSID=A,this.H.OAID=P),this.F=this.X,this.I=yd(this,null,this.W),Tu(this)};function th(m){if(hd(m),m.G==3){var E=m.U++,A=An(m.I);if(Lt(A,"SID",m.K),Lt(A,"RID",E),Lt(A,"TYPE","terminate"),hl(m,A),E=new kt(m,m.j,E),E.L=2,E.v=al(An(A)),A=!1,c.navigator&&c.navigator.sendBeacon)try{A=c.navigator.sendBeacon(E.v.toString(),"")}catch{}!A&&c.Image&&(new Image().src=E.v,A=!0),A||(E.g=vd(E.j,null),E.g.ea(E.v)),E.F=Date.now(),jt(E)}gd(m)}function _u(m){m.g&&(fl(m),m.g.cancel(),m.g=null)}function hd(m){_u(m),m.u&&(c.clearTimeout(m.u),m.u=null),wu(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&c.clearTimeout(m.s),m.s=null)}function Tu(m){if(!Mi(m.h)&&!m.s){m.s=!0;var E=m.Ga;de||F(),ge||(de(),ge=!0),Pe.add(E,m),m.B=0}}function wg(m,E){return nl(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=E.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=Fe(w(m.Ga,m,E),ih(m,m.B)),m.B++,!0)}n.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const J=new kt(this,this.j,m);let ie=this.o;if(this.S&&(ie?(ie=I(ie),z(ie,this.S)):ie=this.S),this.m!==null||this.O||(J.H=ie,ie=null),this.P)e:{for(var E=0,A=0;A<this.i.length;A++){t:{var P=this.i[A];if("__data__"in P.map&&(P=P.map.__data__,typeof P=="string")){P=P.length;break t}P=void 0}if(P===void 0)break;if(E+=P,4096<E){E=A;break e}if(E===4096||A===this.i.length-1){E=A+1;break e}}E=1e3}else E=1e3;E=fd(this,J,E),A=An(this.I),Lt(A,"RID",m),Lt(A,"CVER",22),this.D&&Lt(A,"X-HTTP-Session-Id",this.D),hl(this,A),ie&&(this.O?E="headers="+encodeURIComponent(String(eh(ie)))+"&"+E:this.m&&ir(A,this.m,ie)),Qo(this.h,J),this.Ua&&Lt(A,"TYPE","init"),this.P?(Lt(A,"$req",E),Lt(A,"SID","null"),J.T=!0,Mn(J,A,null)):Mn(J,A,E),this.G=2}}else this.G==3&&(m?nh(this,m):this.i.length==0||Mi(this.h)||nh(this))};function nh(m,E){var A;E?A=E.l:A=m.U++;const P=An(m.I);Lt(P,"SID",m.K),Lt(P,"RID",A),Lt(P,"AID",m.T),hl(m,P),m.m&&m.o&&ir(P,m.m,m.o),A=new kt(m,m.j,A,m.B+1),m.m===null&&(A.H=m.o),E&&(m.i=E.D.concat(m.i)),E=fd(m,A,1e3),A.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),Qo(m.h,A),Mn(A,P,E)}function hl(m,E){m.H&&Y(m.H,function(A,P){Lt(E,P,A)}),m.l&&rl({},function(A,P){Lt(E,P,A)})}function fd(m,E,A){A=Math.min(m.i.length,A);var P=m.l?w(m.l.Na,m.l,m):null;e:{var J=m.i;let ie=-1;for(;;){const Te=["count="+A];ie==-1?0<A?(ie=J[0].g,Te.push("ofs="+ie)):ie=0:Te.push("ofs="+ie);let It=!0;for(let qn=0;qn<A;qn++){let Ot=J[qn].g;const ar=J[qn].map;if(Ot-=ie,0>Ot)ie=Math.max(0,J[qn].g-100),It=!1;else try{_a(ar,Te,"req"+Ot+"_")}catch{P&&P(ar)}}if(It){P=Te.join("&");break e}}}return m=m.i.splice(0,A),E.D=m,P}function dd(m){if(!m.g&&!m.u){m.Y=1;var E=m.Fa;de||F(),ge||(de(),ge=!0),Pe.add(E,m),m.v=0}}function rh(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=Fe(w(m.Fa,m),ih(m,m.v)),m.v++,!0)}n.Fa=function(){if(this.u=null,md(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=Fe(w(this.ab,this),m)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ue(10),_u(this),md(this))};function fl(m){m.A!=null&&(c.clearTimeout(m.A),m.A=null)}function md(m){m.g=new kt(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var E=An(m.qa);Lt(E,"RID","rpc"),Lt(E,"SID",m.K),Lt(E,"AID",m.T),Lt(E,"CI",m.F?"0":"1"),!m.F&&m.ja&&Lt(E,"TO",m.ja),Lt(E,"TYPE","xmlhttp"),hl(m,E),m.m&&m.o&&ir(E,m.m,m.o),m.L&&(m.g.I=m.L);var A=m.g;m=m.ia,A.L=1,A.v=al(An(E)),A.m=null,A.P=!0,Vn(A,m)}n.Za=function(){this.C!=null&&(this.C=null,_u(this),rh(this),ue(19))};function wu(m){m.C!=null&&(c.clearTimeout(m.C),m.C=null)}function pd(m,E){var A=null;if(m.g==E){wu(m),fl(m),m.g=null;var P=2}else if(ya(m.h,E))A=E.D,xi(m.h,E),P=1;else return;if(m.G!=0){if(E.o)if(P==1){A=E.m?E.m.length:0,E=Date.now()-E.F;var J=m.B;P=Ko(),On(P,new be(P,A)),Tu(m)}else dd(m);else if(J=E.s,J==3||J==0&&0<E.X||!(P==1&&wg(m,E)||P==2&&rh(m)))switch(A&&0<A.length&&(E=m.h,E.i=E.i.concat(A)),J){case 1:oo(m,5);break;case 4:oo(m,10);break;case 3:oo(m,6);break;default:oo(m,2)}}}function ih(m,E){let A=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(A*=2),A*E}function oo(m,E){if(m.j.info("Error code "+E),E==2){var A=w(m.fb,m),P=m.Xa;const J=!P;P=new to(P||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Zo(P,"https"),al(P),J?ld(P.toString(),A):ol(P.toString(),A)}else ue(2);m.G=0,m.l&&m.l.sa(E),gd(m),hd(m)}n.fb=function(m){m?(this.j.info("Successfully pinged google.com"),ue(2)):(this.j.info("Failed to ping google.com"),ue(1))};function gd(m){if(m.G=0,m.ka=[],m.l){const E=Yr(m.h);(E.length!=0||m.i.length!=0)&&(D(m.ka,E),D(m.ka,m.i),m.h.i.length=0,C(m.i),m.i.length=0),m.l.ra()}}function yd(m,E,A){var P=A instanceof to?An(A):new to(A);if(P.g!="")E&&(P.g=E+"."+P.g),il(P,P.s);else{var J=c.location;P=J.protocol,E=E?E+"."+J.hostname:J.hostname,J=+J.port;var ie=new to(null);P&&Zo(ie,P),E&&(ie.g=E),J&&il(ie,J),A&&(ie.l=A),P=ie}return A=m.D,E=m.ya,A&&E&&Lt(P,A,E),Lt(P,"VER",m.la),hl(m,P),P}function vd(m,E,A){if(E&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return E=m.Ca&&!m.pa?new $t(new Wo({eb:A})):new $t(m.pa),E.Ha(m.J),E}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function _d(){}n=_d.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Eu(){}Eu.prototype.g=function(m,E){return new Gr(m,E)};function Gr(m,E){Ht.call(this),this.g=new vu(E),this.l=m,this.h=E&&E.messageUrlParams||null,m=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(m?m["X-WebChannel-Content-Type"]=E.messageContentType:m={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.va&&(m?m["X-WebChannel-Client-Profile"]=E.va:m={"X-WebChannel-Client-Profile":E.va}),this.g.S=m,(m=E&&E.Sb)&&!N(m)&&(this.g.m=m),this.v=E&&E.supportsCrossDomainXhr||!1,this.u=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!N(E)&&(this.g.D=E,m=this.h,m!==null&&E in m&&(m=this.h,E in m&&delete m[E])),this.j=new ba(this)}R(Gr,Ht),Gr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Gr.prototype.close=function(){th(this.g)},Gr.prototype.o=function(m){var E=this.g;if(typeof m=="string"){var A={};A.__data__=m,m=A}else this.u&&(A={},A.__data__=Go(m),m=A);E.i.push(new eo(E.Ya++,m)),E.G==3&&Tu(E)},Gr.prototype.N=function(){this.g.l=null,delete this.j,th(this.g),delete this.g,Gr.aa.N.call(this)};function Td(m){Wi.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var E=m.__sm__;if(E){e:{for(const A in E){m=A;break e}m=void 0}(this.i=m)&&(m=this.i,E=E!==null&&m in E?E[m]:void 0),this.data=E}else this.data=m}R(Td,Wi);function wd(){Pr.call(this),this.status=1}R(wd,Pr);function ba(m){this.g=m}R(ba,_d),ba.prototype.ua=function(){On(this.g,"a")},ba.prototype.ta=function(m){On(this.g,new Td(m))},ba.prototype.sa=function(m){On(this.g,new wd)},ba.prototype.ra=function(){On(this.g,"b")},Eu.prototype.createWebChannel=Eu.prototype.g,Gr.prototype.send=Gr.prototype.o,Gr.prototype.open=Gr.prototype.m,Gr.prototype.close=Gr.prototype.close,BC=function(){return new Eu},jC=function(){return Ko()},zC=gr,d0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ye.NO_ERROR=0,Ye.TIMEOUT=8,Ye.HTTP_ERROR=6,jm=Ye,Pt.COMPLETE="complete",UC=Pt,tl.EventType=Ii,Ii.OPEN="a",Ii.CLOSE="b",Ii.ERROR="c",Ii.MESSAGE="d",Ht.prototype.listen=Ht.prototype.K,tf=tl,$t.prototype.listenOnce=$t.prototype.L,$t.prototype.getLastError=$t.prototype.Ka,$t.prototype.getLastErrorCode=$t.prototype.Ba,$t.prototype.getStatus=$t.prototype.Z,$t.prototype.getResponseJson=$t.prototype.Oa,$t.prototype.getResponseText=$t.prototype.oa,$t.prototype.send=$t.prototype.ea,$t.prototype.setWithCredentials=$t.prototype.Ha,VC=$t}).apply(typeof bm<"u"?bm:typeof self<"u"?self:typeof window<"u"?window:{});const lR="@firebase/firestore",uR="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}jr.UNAUTHENTICATED=new jr(null),jr.GOOGLE_CREDENTIALS=new jr("google-credentials-uid"),jr.FIRST_PARTY=new jr("first-party-uid"),jr.MOCK_USER=new jr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qc="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jl=new v_("@firebase/firestore");function Ju(){return Jl.logLevel}function Oe(n,...e){if(Jl.logLevel<=Rt.DEBUG){const t=e.map(M_);Jl.debug(`Firestore (${qc}): ${n}`,...t)}}function jo(n,...e){if(Jl.logLevel<=Rt.ERROR){const t=e.map(M_);Jl.error(`Firestore (${qc}): ${n}`,...t)}}function Cc(n,...e){if(Jl.logLevel<=Rt.WARN){const t=e.map(M_);Jl.warn(`Firestore (${qc}): ${n}`,...t)}}function M_(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nt(n="Unexpected state"){const e=`FIRESTORE (${qc}) INTERNAL ASSERTION FAILED: `+n;throw jo(e),new Error(e)}function qt(n,e){n||nt()}function lt(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ne extends Fo{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class O4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(jr.UNAUTHENTICATED))}shutdown(){}}class M4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class x4{constructor(e){this.t=e,this.currentUser=jr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){qt(this.o===void 0);let r=this.i;const a=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let s=new Ps;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ps,e.enqueueRetryable(()=>a(this.currentUser))};const u=()=>{const f=s;e.enqueueRetryable(async()=>{await f.promise,await a(this.currentUser)})},c=f=>{Oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(f=>c(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?c(f):(Oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ps)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(qt(typeof r.accessToken=="string"),new $C(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qt(e===null||typeof e=="string"),new jr(e)}}class N4{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=jr.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class k4{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new N4(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(jr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class cR{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class P4{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Na(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){qt(this.o===void 0);const r=s=>{s.error!=null&&Oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const u=s.token!==this.R;return this.R=s.token,Oe("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const a=s=>{Oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>a(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?a(s):Oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new cR(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(qt(typeof t.token=="string"),this.R=t.token,new cR(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L4(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FC(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=L4(40);for(let s=0;s<a.length;++s)r.length<20&&a[s]<t&&(r+=e.charAt(a[s]%62))}return r}}function yt(n,e){return n<e?-1:n>e?1:0}function m0(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),a=e.codePointAt(t);if(r!==a){if(r<128&&a<128)return yt(r,a);{const s=FC(),u=V4(s.encode(hR(n,t)),s.encode(hR(e,t)));return u!==0?u:yt(r,a)}}t+=r>65535?2:1}return yt(n.length,e.length)}function hR(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function V4(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return yt(n[t],e[t]);return yt(n.length,e.length)}function Dc(n,e,t){return n.length===e.length&&n.every((r,a)=>t(r,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fR=-62135596800,dR=1e6;class Wn{static now(){return Wn.fromMillis(Date.now())}static fromDate(e){return Wn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*dR);return new Wn(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ne(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ne(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<fR)throw new Ne(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ne(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/dR}_compareTo(e){return this.seconds===e.seconds?yt(this.nanoseconds,e.nanoseconds):yt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-fR;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{static fromTimestamp(e){return new at(e)}static min(){return new at(new Wn(0,0))}static max(){return new at(new Wn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mR="__name__";class xa{constructor(e,t,r){t===void 0?t=0:t>e.length&&nt(),r===void 0?r=e.length-t:r>e.length-t&&nt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return xa.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof xa?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let a=0;a<r;a++){const s=xa.compareSegments(e.get(a),t.get(a));if(s!==0)return s}return yt(e.length,t.length)}static compareSegments(e,t){const r=xa.isNumericId(e),a=xa.isNumericId(t);return r&&!a?-1:!r&&a?1:r&&a?xa.extractNumericId(e).compare(xa.extractNumericId(t)):m0(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ks.fromString(e.substring(4,e.length-2))}}class mn extends xa{construct(e,t,r){return new mn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ne(fe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(a=>a.length>0))}return new mn(t)}static emptyPath(){return new mn([])}}const U4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class xr extends xa{construct(e,t,r){return new xr(e,t,r)}static isValidIdentifier(e){return U4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),xr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===mR}static keyField(){return new xr([mR])}static fromServerFormat(e){const t=[];let r="",a=0;const s=()=>{if(r.length===0)throw new Ne(fe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;a<e.length;){const c=e[a];if(c==="\\"){if(a+1===e.length)throw new Ne(fe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[a+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new Ne(fe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,a+=2}else c==="`"?(u=!u,a++):c!=="."||u?(r+=c,a++):(s(),a++)}if(s(),u)throw new Ne(fe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new xr(t)}static emptyPath(){return new xr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(e){this.path=e}static fromPath(e){return new He(mn.fromString(e))}static fromName(e){return new He(mn.fromString(e).popFirst(5))}static empty(){return new He(mn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&mn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return mn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new He(new mn(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ef=-1;function z4(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,a=at.fromTimestamp(r===1e9?new Wn(t+1,0):new Wn(t,r));return new Fs(a,He.empty(),e)}function j4(n){return new Fs(n.readTime,n.key,Ef)}class Fs{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Fs(at.min(),He.empty(),Ef)}static max(){return new Fs(at.max(),He.empty(),Ef)}}function B4(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=He.comparator(n.documentKey,e.documentKey),t!==0?t:yt(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class F4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hc(n){if(n.code!==fe.FAILED_PRECONDITION||n.message!==$4)throw n;Oe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&nt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new he((r,a)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,a)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof he?t:he.resolve(t)}catch(t){return he.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):he.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):he.reject(t)}static resolve(e){return new he((t,r)=>{t(e)})}static reject(e){return new he((t,r)=>{r(e)})}static waitFor(e){return new he((t,r)=>{let a=0,s=0,u=!1;e.forEach(c=>{++a,c.next(()=>{++s,u&&s===a&&t()},f=>r(f))}),u=!0,s===a&&t()})}static or(e){let t=he.resolve(!1);for(const r of e)t=t.next(a=>a?he.resolve(a):r());return t}static forEach(e,t){const r=[];return e.forEach((a,s)=>{r.push(t.call(this,a,s))}),this.waitFor(r)}static mapArray(e,t){return new he((r,a)=>{const s=e.length,u=new Array(s);let c=0;for(let f=0;f<s;f++){const d=f;t(e[d]).next(g=>{u[d]=g,++c,c===s&&r(u)},g=>a(g))}})}static doWhile(e,t){return new he((r,a)=>{const s=()=>{e()===!0?t().next(()=>{s()},a):r()};s()})}}function q4(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Yc(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.oe(r),this._e=r=>t.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}tg.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x_=-1;function ng(n){return n==null}function vp(n){return n===0&&1/n==-1/0}function H4(n){return typeof n=="number"&&Number.isInteger(n)&&!vp(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HC="";function Y4(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=pR(e)),e=G4(n.get(t),e);return pR(e)}function G4(n,e){let t=e;const r=n.length;for(let a=0;a<r;a++){const s=n.charAt(a);switch(s){case"\0":t+="";break;case HC:t+="";break;default:t+=s}}return t}function pR(n){return n+HC+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gR(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ws(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function YC(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e,t){this.comparator=e,this.root=t||Ir.EMPTY}insert(e,t){return new bn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ir.BLACK,null,null))}remove(e){return new bn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ir.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return t+r.left.size;a<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Rm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Rm(this.root,e,this.comparator,!1)}getReverseIterator(){return new Rm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Rm(this.root,e,this.comparator,!0)}}class Rm{constructor(e,t,r,a){this.isReverse=a,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&a&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ir{constructor(e,t,r,a,s){this.key=e,this.value=t,this.color=r??Ir.RED,this.left=a??Ir.EMPTY,this.right=s??Ir.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,a,s){return new Ir(e??this.key,t??this.value,r??this.color,a??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let a=this;const s=r(e,a.key);return a=s<0?a.copy(null,null,null,a.left.insert(e,t,r),null):s===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Ir.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return Ir.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ir.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ir.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw nt();const e=this.left.check();if(e!==this.right.check())throw nt();return e+(this.isRed()?0:1)}}Ir.EMPTY=null,Ir.RED=!0,Ir.BLACK=!1;Ir.EMPTY=new class{constructor(){this.size=0}get key(){throw nt()}get value(){throw nt()}get color(){throw nt()}get left(){throw nt()}get right(){throw nt()}copy(e,t,r,a,s){return this}insert(e,t,r){return new Ir(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e){this.comparator=e,this.data=new bn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new yR(this.data.getIterator())}getIteratorFrom(e){return new yR(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Jn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,s=r.getNext().key;if(this.comparator(a,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Jn(this.comparator);return t.data=e,t}}class yR{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(e){this.fields=e,e.sort(xr.comparator)}static empty(){return new Ri([])}unionWith(e){let t=new Jn(xr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Ri(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Dc(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(a){try{return atob(a)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new GC("Invalid base64 string: "+s):s}}(e);return new kr(t)}static fromUint8Array(e){const t=function(a){let s="";for(let u=0;u<a.length;++u)s+=String.fromCharCode(a[u]);return s}(e);return new kr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let a=0;a<t.length;a++)r[a]=t.charCodeAt(a);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return yt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}kr.EMPTY_BYTE_STRING=new kr("");const K4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qs(n){if(qt(!!n),typeof n=="string"){let e=0;const t=K4.exec(n);if(qt(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Pn(n.seconds),nanos:Pn(n.nanos)}}function Pn(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Hs(n){return typeof n=="string"?kr.fromBase64String(n):kr.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KC="server_timestamp",QC="__type__",ZC="__previous_value__",XC="__local_write_time__";function N_(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[QC])===null||t===void 0?void 0:t.stringValue)===KC}function rg(n){const e=n.mapValue.fields[ZC];return N_(e)?rg(e):e}function bf(n){const e=qs(n.mapValue.fields[XC].timestampValue);return new Wn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q4{constructor(e,t,r,a,s,u,c,f,d){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=a,this.ssl=s,this.forceLongPolling=u,this.autoDetectLongPolling=c,this.longPollingOptions=f,this.useFetchStreams=d}}const _p="(default)";class Rf{constructor(e,t){this.projectId=e,this.database=t||_p}static empty(){return new Rf("","")}get isDefaultDatabase(){return this.database===_p}isEqual(e){return e instanceof Rf&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WC="__type__",Z4="__max__",Am={mapValue:{}},JC="__vector__",Tp="value";function Ys(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?N_(n)?4:W4(n)?9007199254740991:X4(n)?10:11:nt()}function Ha(n,e){if(n===e)return!0;const t=Ys(n);if(t!==Ys(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return bf(n).isEqual(bf(e));case 3:return function(a,s){if(typeof a.timestampValue=="string"&&typeof s.timestampValue=="string"&&a.timestampValue.length===s.timestampValue.length)return a.timestampValue===s.timestampValue;const u=qs(a.timestampValue),c=qs(s.timestampValue);return u.seconds===c.seconds&&u.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(a,s){return Hs(a.bytesValue).isEqual(Hs(s.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(a,s){return Pn(a.geoPointValue.latitude)===Pn(s.geoPointValue.latitude)&&Pn(a.geoPointValue.longitude)===Pn(s.geoPointValue.longitude)}(n,e);case 2:return function(a,s){if("integerValue"in a&&"integerValue"in s)return Pn(a.integerValue)===Pn(s.integerValue);if("doubleValue"in a&&"doubleValue"in s){const u=Pn(a.doubleValue),c=Pn(s.doubleValue);return u===c?vp(u)===vp(c):isNaN(u)&&isNaN(c)}return!1}(n,e);case 9:return Dc(n.arrayValue.values||[],e.arrayValue.values||[],Ha);case 10:case 11:return function(a,s){const u=a.mapValue.fields||{},c=s.mapValue.fields||{};if(gR(u)!==gR(c))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(c[f]===void 0||!Ha(u[f],c[f])))return!1;return!0}(n,e);default:return nt()}}function Af(n,e){return(n.values||[]).find(t=>Ha(t,e))!==void 0}function Ic(n,e){if(n===e)return 0;const t=Ys(n),r=Ys(e);if(t!==r)return yt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return yt(n.booleanValue,e.booleanValue);case 2:return function(s,u){const c=Pn(s.integerValue||s.doubleValue),f=Pn(u.integerValue||u.doubleValue);return c<f?-1:c>f?1:c===f?0:isNaN(c)?isNaN(f)?0:-1:1}(n,e);case 3:return vR(n.timestampValue,e.timestampValue);case 4:return vR(bf(n),bf(e));case 5:return m0(n.stringValue,e.stringValue);case 6:return function(s,u){const c=Hs(s),f=Hs(u);return c.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(s,u){const c=s.split("/"),f=u.split("/");for(let d=0;d<c.length&&d<f.length;d++){const g=yt(c[d],f[d]);if(g!==0)return g}return yt(c.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,u){const c=yt(Pn(s.latitude),Pn(u.latitude));return c!==0?c:yt(Pn(s.longitude),Pn(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return _R(n.arrayValue,e.arrayValue);case 10:return function(s,u){var c,f,d,g;const v=s.fields||{},w=u.fields||{},b=(c=v[Tp])===null||c===void 0?void 0:c.arrayValue,R=(f=w[Tp])===null||f===void 0?void 0:f.arrayValue,C=yt(((d=b==null?void 0:b.values)===null||d===void 0?void 0:d.length)||0,((g=R==null?void 0:R.values)===null||g===void 0?void 0:g.length)||0);return C!==0?C:_R(b,R)}(n.mapValue,e.mapValue);case 11:return function(s,u){if(s===Am.mapValue&&u===Am.mapValue)return 0;if(s===Am.mapValue)return 1;if(u===Am.mapValue)return-1;const c=s.fields||{},f=Object.keys(c),d=u.fields||{},g=Object.keys(d);f.sort(),g.sort();for(let v=0;v<f.length&&v<g.length;++v){const w=m0(f[v],g[v]);if(w!==0)return w;const b=Ic(c[f[v]],d[g[v]]);if(b!==0)return b}return yt(f.length,g.length)}(n.mapValue,e.mapValue);default:throw nt()}}function vR(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return yt(n,e);const t=qs(n),r=qs(e),a=yt(t.seconds,r.seconds);return a!==0?a:yt(t.nanos,r.nanos)}function _R(n,e){const t=n.values||[],r=e.values||[];for(let a=0;a<t.length&&a<r.length;++a){const s=Ic(t[a],r[a]);if(s)return s}return yt(t.length,r.length)}function Oc(n){return p0(n)}function p0(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=qs(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Hs(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return He.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",a=!0;for(const s of t.values||[])a?a=!1:r+=",",r+=p0(s);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let a="{",s=!0;for(const u of r)s?s=!1:a+=",",a+=`${u}:${p0(t.fields[u])}`;return a+"}"}(n.mapValue):nt()}function Bm(n){switch(Ys(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=rg(n);return e?16+Bm(e):16;case 5:return 2*n.stringValue.length;case 6:return Hs(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((a,s)=>a+Bm(s),0)}(n.arrayValue);case 10:case 11:return function(r){let a=0;return Ws(r.fields,(s,u)=>{a+=s.length+Bm(u)}),a}(n.mapValue);default:throw nt()}}function TR(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function g0(n){return!!n&&"integerValue"in n}function k_(n){return!!n&&"arrayValue"in n}function wR(n){return!!n&&"nullValue"in n}function ER(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function $m(n){return!!n&&"mapValue"in n}function X4(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[WC])===null||t===void 0?void 0:t.stringValue)===JC}function uf(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ws(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=uf(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=uf(n.arrayValue.values[t]);return e}return Object.assign({},n)}function W4(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===Z4}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(e){this.value=e}static empty(){return new ui({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!$m(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=uf(t)}setAll(e){let t=xr.emptyPath(),r={},a=[];e.forEach((u,c)=>{if(!t.isImmediateParentOf(c)){const f=this.getFieldsMap(t);this.applyChanges(f,r,a),r={},a=[],t=c.popLast()}u?r[c.lastSegment()]=uf(u):a.push(c.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,a)}delete(e){const t=this.field(e.popLast());$m(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ha(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=t.mapValue.fields[e.get(r)];$m(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,r){Ws(t,(a,s)=>e[a]=s);for(const a of r)delete e[a]}clone(){return new ui(uf(this.value))}}function eD(n){const e=[];return Ws(n.fields,(t,r)=>{const a=new xr([t]);if($m(r)){const s=eD(r.mapValue).fields;if(s.length===0)e.push(a);else for(const u of s)e.push(a.child(u))}else e.push(a)}),new Ri(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(e,t,r,a,s,u,c){this.key=e,this.documentType=t,this.version=r,this.readTime=a,this.createTime=s,this.data=u,this.documentState=c}static newInvalidDocument(e){return new Br(e,0,at.min(),at.min(),at.min(),ui.empty(),0)}static newFoundDocument(e,t,r,a){return new Br(e,1,t,at.min(),r,a,0)}static newNoDocument(e,t){return new Br(e,2,t,at.min(),at.min(),ui.empty(),0)}static newUnknownDocument(e,t){return new Br(e,3,t,at.min(),at.min(),ui.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(at.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ui.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ui.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=at.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Br&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Br(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp{constructor(e,t){this.position=e,this.inclusive=t}}function bR(n,e,t){let r=0;for(let a=0;a<n.position.length;a++){const s=e[a],u=n.position[a];if(s.field.isKeyField()?r=He.comparator(He.fromName(u.referenceValue),t.key):r=Ic(u,t.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function RR(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ha(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(e,t="asc"){this.field=e,this.dir=t}}function J4(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{}class Fn extends tD{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new tL(e,t,r):t==="array-contains"?new iL(e,r):t==="in"?new aL(e,r):t==="not-in"?new oL(e,r):t==="array-contains-any"?new sL(e,r):new Fn(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new nL(e,r):new rL(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Ic(t,this.value)):t!==null&&Ys(this.value)===Ys(t)&&this.matchesComparison(Ic(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return nt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ha extends tD{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new ha(e,t)}matches(e){return nD(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function nD(n){return n.op==="and"}function rD(n){return eL(n)&&nD(n)}function eL(n){for(const e of n.filters)if(e instanceof ha)return!1;return!0}function y0(n){if(n instanceof Fn)return n.field.canonicalString()+n.op.toString()+Oc(n.value);if(rD(n))return n.filters.map(e=>y0(e)).join(",");{const e=n.filters.map(t=>y0(t)).join(",");return`${n.op}(${e})`}}function iD(n,e){return n instanceof Fn?function(r,a){return a instanceof Fn&&r.op===a.op&&r.field.isEqual(a.field)&&Ha(r.value,a.value)}(n,e):n instanceof ha?function(r,a){return a instanceof ha&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce((s,u,c)=>s&&iD(u,a.filters[c]),!0):!1}(n,e):void nt()}function aD(n){return n instanceof Fn?function(t){return`${t.field.canonicalString()} ${t.op} ${Oc(t.value)}`}(n):n instanceof ha?function(t){return t.op.toString()+" {"+t.getFilters().map(aD).join(" ,")+"}"}(n):"Filter"}class tL extends Fn{constructor(e,t,r){super(e,t,r),this.key=He.fromName(r.referenceValue)}matches(e){const t=He.comparator(e.key,this.key);return this.matchesComparison(t)}}class nL extends Fn{constructor(e,t){super(e,"in",t),this.keys=oD("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class rL extends Fn{constructor(e,t){super(e,"not-in",t),this.keys=oD("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function oD(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>He.fromName(r.referenceValue))}class iL extends Fn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return k_(t)&&Af(t.arrayValue,this.value)}}class aL extends Fn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Af(this.value.arrayValue,t)}}class oL extends Fn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Af(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Af(this.value.arrayValue,t)}}class sL extends Fn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!k_(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Af(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lL{constructor(e,t=null,r=[],a=[],s=null,u=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=a,this.limit=s,this.startAt=u,this.endAt=c,this.le=null}}function AR(n,e=null,t=[],r=[],a=null,s=null,u=null){return new lL(n,e,t,r,a,s,u)}function P_(n){const e=lt(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>y0(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),ng(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Oc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Oc(r)).join(",")),e.le=t}return e.le}function L_(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!J4(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!iD(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!RR(n.startAt,e.startAt)&&RR(n.endAt,e.endAt)}function v0(n){return He.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(e,t=null,r=[],a=[],s=null,u="F",c=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=a,this.limit=s,this.limitType=u,this.startAt=c,this.endAt=f,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function uL(n,e,t,r,a,s,u,c){return new Gc(n,e,t,r,a,s,u,c)}function sD(n){return new Gc(n)}function SR(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function lD(n){return n.collectionGroup!==null}function cf(n){const e=lt(n);if(e.he===null){e.he=[];const t=new Set;for(const s of e.explicitOrderBy)e.he.push(s),t.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let c=new Jn(xr.comparator);return u.filters.forEach(f=>{f.getFlattenedFilters().forEach(d=>{d.isInequality()&&(c=c.add(d.field))})}),c})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.he.push(new Sf(s,r))}),t.has(xr.keyField().canonicalString())||e.he.push(new Sf(xr.keyField(),r))}return e.he}function ja(n){const e=lt(n);return e.Pe||(e.Pe=cL(e,cf(n))),e.Pe}function cL(n,e){if(n.limitType==="F")return AR(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(a=>{const s=a.dir==="desc"?"asc":"desc";return new Sf(a.field,s)});const t=n.endAt?new wp(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new wp(n.startAt.position,n.startAt.inclusive):null;return AR(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function _0(n,e){const t=n.filters.concat([e]);return new Gc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function T0(n,e,t){return new Gc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function ig(n,e){return L_(ja(n),ja(e))&&n.limitType===e.limitType}function uD(n){return`${P_(ja(n))}|lt:${n.limitType}`}function ec(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(a=>aD(a)).join(", ")}]`),ng(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(a=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(a)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(a=>Oc(a)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(a=>Oc(a)).join(",")),`Target(${r})`}(ja(n))}; limitType=${n.limitType})`}function ag(n,e){return e.isFoundDocument()&&function(r,a){const s=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):He.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(n,e)&&function(r,a){for(const s of cf(r))if(!s.field.isKeyField()&&a.data.field(s.field)===null)return!1;return!0}(n,e)&&function(r,a){for(const s of r.filters)if(!s.matches(a))return!1;return!0}(n,e)&&function(r,a){return!(r.startAt&&!function(u,c,f){const d=bR(u,c,f);return u.inclusive?d<=0:d<0}(r.startAt,cf(r),a)||r.endAt&&!function(u,c,f){const d=bR(u,c,f);return u.inclusive?d>=0:d>0}(r.endAt,cf(r),a))}(n,e)}function hL(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function cD(n){return(e,t)=>{let r=!1;for(const a of cf(n)){const s=fL(a,e,t);if(s!==0)return s;r=r||a.field.isKeyField()}return 0}}function fL(n,e,t){const r=n.field.isKeyField()?He.comparator(e.key,t.key):function(s,u,c){const f=u.data.field(s),d=c.data.field(s);return f!==null&&d!==null?Ic(f,d):nt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return nt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[a,s]of r)if(this.equalsFn(a,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<a.length;s++)if(this.equalsFn(a[s][0],e))return void(a[s]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[t]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Ws(this.inner,(t,r)=>{for(const[a,s]of r)e(a,s)})}isEmpty(){return YC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dL=new bn(He.comparator);function Bo(){return dL}const hD=new bn(He.comparator);function nf(...n){let e=hD;for(const t of n)e=e.insert(t.key,t);return e}function fD(n){let e=hD;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Ul(){return hf()}function dD(){return hf()}function hf(){return new ou(n=>n.toString(),(n,e)=>n.isEqual(e))}const mL=new bn(He.comparator),pL=new Jn(He.comparator);function At(...n){let e=pL;for(const t of n)e=e.add(t);return e}const gL=new Jn(yt);function yL(){return gL}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V_(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vp(e)?"-0":e}}function mD(n){return{integerValue:""+n}}function vL(n,e){return H4(e)?mD(e):V_(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(){this._=void 0}}function _L(n,e,t){return n instanceof Ep?function(a,s){const u={fields:{[QC]:{stringValue:KC},[XC]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return s&&N_(s)&&(s=rg(s)),s&&(u.fields[ZC]=s),{mapValue:u}}(t,e):n instanceof Cf?gD(n,e):n instanceof Df?yD(n,e):function(a,s){const u=pD(a,s),c=CR(u)+CR(a.Ie);return g0(u)&&g0(a.Ie)?mD(c):V_(a.serializer,c)}(n,e)}function TL(n,e,t){return n instanceof Cf?gD(n,e):n instanceof Df?yD(n,e):t}function pD(n,e){return n instanceof bp?function(r){return g0(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Ep extends og{}class Cf extends og{constructor(e){super(),this.elements=e}}function gD(n,e){const t=vD(e);for(const r of n.elements)t.some(a=>Ha(a,r))||t.push(r);return{arrayValue:{values:t}}}class Df extends og{constructor(e){super(),this.elements=e}}function yD(n,e){let t=vD(e);for(const r of n.elements)t=t.filter(a=>!Ha(a,r));return{arrayValue:{values:t}}}class bp extends og{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function CR(n){return Pn(n.integerValue||n.doubleValue)}function vD(n){return k_(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function wL(n,e){return n.field.isEqual(e.field)&&function(r,a){return r instanceof Cf&&a instanceof Cf||r instanceof Df&&a instanceof Df?Dc(r.elements,a.elements,Ha):r instanceof bp&&a instanceof bp?Ha(r.Ie,a.Ie):r instanceof Ep&&a instanceof Ep}(n.transform,e.transform)}class EL{constructor(e,t){this.version=e,this.transformResults=t}}class la{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new la}static exists(e){return new la(void 0,e)}static updateTime(e){return new la(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Fm(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class sg{}function _D(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new U_(n.key,la.none()):new ed(n.key,n.data,la.none());{const t=n.data,r=ui.empty();let a=new Jn(xr.comparator);for(let s of e.fields)if(!a.has(s)){let u=t.field(s);u===null&&s.length>1&&(s=s.popLast(),u=t.field(s)),u===null?r.delete(s):r.set(s,u),a=a.add(s)}return new Js(n.key,r,new Ri(a.toArray()),la.none())}}function bL(n,e,t){n instanceof ed?function(a,s,u){const c=a.value.clone(),f=IR(a.fieldTransforms,s,u.transformResults);c.setAll(f),s.convertToFoundDocument(u.version,c).setHasCommittedMutations()}(n,e,t):n instanceof Js?function(a,s,u){if(!Fm(a.precondition,s))return void s.convertToUnknownDocument(u.version);const c=IR(a.fieldTransforms,s,u.transformResults),f=s.data;f.setAll(TD(a)),f.setAll(c),s.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,e,t):function(a,s,u){s.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function ff(n,e,t,r){return n instanceof ed?function(s,u,c,f){if(!Fm(s.precondition,u))return c;const d=s.value.clone(),g=OR(s.fieldTransforms,f,u);return d.setAll(g),u.convertToFoundDocument(u.version,d).setHasLocalMutations(),null}(n,e,t,r):n instanceof Js?function(s,u,c,f){if(!Fm(s.precondition,u))return c;const d=OR(s.fieldTransforms,f,u),g=u.data;return g.setAll(TD(s)),g.setAll(d),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(v=>v.field))}(n,e,t,r):function(s,u,c){return Fm(s.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):c}(n,e,t)}function RL(n,e){let t=null;for(const r of n.fieldTransforms){const a=e.data.field(r.field),s=pD(r.transform,a||null);s!=null&&(t===null&&(t=ui.empty()),t.set(r.field,s))}return t||null}function DR(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&Dc(r,a,(s,u)=>wL(s,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class ed extends sg{constructor(e,t,r,a=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Js extends sg{constructor(e,t,r,a,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=a,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function TD(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function IR(n,e,t){const r=new Map;qt(n.length===t.length);for(let a=0;a<t.length;a++){const s=n[a],u=s.transform,c=e.data.field(s.field);r.set(s.field,TL(u,c,t[a]))}return r}function OR(n,e,t){const r=new Map;for(const a of n){const s=a.transform,u=t.data.field(a.field);r.set(a.field,_L(s,u,e))}return r}class U_ extends sg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class AL extends sg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SL{constructor(e,t,r,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const s=this.mutations[a];s.key.isEqual(e.key)&&bL(s,e,r[a])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=ff(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=ff(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=dD();return this.mutations.forEach(a=>{const s=e.get(a.key),u=s.overlayedDocument;let c=this.applyToLocalView(u,s.mutatedFields);c=t.has(a.key)?null:c;const f=_D(u,c);f!==null&&r.set(a.key,f),u.isValidDocument()||u.convertToNoDocument(at.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),At())}isEqual(e){return this.batchId===e.batchId&&Dc(this.mutations,e.mutations,(t,r)=>DR(t,r))&&Dc(this.baseMutations,e.baseMutations,(t,r)=>DR(t,r))}}class z_{constructor(e,t,r,a){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=a}static from(e,t,r){qt(e.mutations.length===r.length);let a=function(){return mL}();const s=e.mutations;for(let u=0;u<s.length;u++)a=a.insert(s[u].key,r[u].version);return new z_(e,t,r,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CL{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DL{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bn,xt;function IL(n){switch(n){case fe.OK:return nt();case fe.CANCELLED:case fe.UNKNOWN:case fe.DEADLINE_EXCEEDED:case fe.RESOURCE_EXHAUSTED:case fe.INTERNAL:case fe.UNAVAILABLE:case fe.UNAUTHENTICATED:return!1;case fe.INVALID_ARGUMENT:case fe.NOT_FOUND:case fe.ALREADY_EXISTS:case fe.PERMISSION_DENIED:case fe.FAILED_PRECONDITION:case fe.ABORTED:case fe.OUT_OF_RANGE:case fe.UNIMPLEMENTED:case fe.DATA_LOSS:return!0;default:return nt()}}function wD(n){if(n===void 0)return jo("GRPC error has no .code"),fe.UNKNOWN;switch(n){case Bn.OK:return fe.OK;case Bn.CANCELLED:return fe.CANCELLED;case Bn.UNKNOWN:return fe.UNKNOWN;case Bn.DEADLINE_EXCEEDED:return fe.DEADLINE_EXCEEDED;case Bn.RESOURCE_EXHAUSTED:return fe.RESOURCE_EXHAUSTED;case Bn.INTERNAL:return fe.INTERNAL;case Bn.UNAVAILABLE:return fe.UNAVAILABLE;case Bn.UNAUTHENTICATED:return fe.UNAUTHENTICATED;case Bn.INVALID_ARGUMENT:return fe.INVALID_ARGUMENT;case Bn.NOT_FOUND:return fe.NOT_FOUND;case Bn.ALREADY_EXISTS:return fe.ALREADY_EXISTS;case Bn.PERMISSION_DENIED:return fe.PERMISSION_DENIED;case Bn.FAILED_PRECONDITION:return fe.FAILED_PRECONDITION;case Bn.ABORTED:return fe.ABORTED;case Bn.OUT_OF_RANGE:return fe.OUT_OF_RANGE;case Bn.UNIMPLEMENTED:return fe.UNIMPLEMENTED;case Bn.DATA_LOSS:return fe.DATA_LOSS;default:return nt()}}(xt=Bn||(Bn={}))[xt.OK=0]="OK",xt[xt.CANCELLED=1]="CANCELLED",xt[xt.UNKNOWN=2]="UNKNOWN",xt[xt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xt[xt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xt[xt.NOT_FOUND=5]="NOT_FOUND",xt[xt.ALREADY_EXISTS=6]="ALREADY_EXISTS",xt[xt.PERMISSION_DENIED=7]="PERMISSION_DENIED",xt[xt.UNAUTHENTICATED=16]="UNAUTHENTICATED",xt[xt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xt[xt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xt[xt.ABORTED=10]="ABORTED",xt[xt.OUT_OF_RANGE=11]="OUT_OF_RANGE",xt[xt.UNIMPLEMENTED=12]="UNIMPLEMENTED",xt[xt.INTERNAL=13]="INTERNAL",xt[xt.UNAVAILABLE=14]="UNAVAILABLE",xt[xt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OL=new ks([4294967295,4294967295],0);function MR(n){const e=FC().encode(n),t=new LC;return t.update(e),new Uint8Array(t.digest())}function xR(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new ks([t,r],0),new ks([a,s],0)]}class j_{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new rf(`Invalid padding: ${t}`);if(r<0)throw new rf(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new rf(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new rf(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=ks.fromNumber(this.Ee)}Ae(e,t,r){let a=e.add(t.multiply(ks.fromNumber(r)));return a.compare(OL)===1&&(a=new ks([a.getBits(0),a.getBits(1)],0)),a.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=MR(e),[r,a]=xR(t);for(let s=0;s<this.hashCount;s++){const u=this.Ae(r,a,s);if(!this.Re(u))return!1}return!0}static create(e,t,r){const a=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),u=new j_(s,a,t);return r.forEach(c=>u.insert(c)),u}insert(e){if(this.Ee===0)return;const t=MR(e),[r,a]=xR(t);for(let s=0;s<this.hashCount;s++){const u=this.Ae(r,a,s);this.Ve(u)}}Ve(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class rf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(e,t,r,a,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const a=new Map;return a.set(e,td.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new lg(at.min(),a,new bn(yt),Bo(),At())}}class td{constructor(e,t,r,a,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new td(r,t,At(),At(),At())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(e,t,r,a){this.me=e,this.removedTargetIds=t,this.key=r,this.fe=a}}class ED{constructor(e,t){this.targetId=e,this.ge=t}}class bD{constructor(e,t,r=kr.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=a}}class NR{constructor(){this.pe=0,this.ye=kR(),this.we=kr.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=At(),t=At(),r=At();return this.ye.forEach((a,s)=>{switch(s){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:r=r.add(a);break;default:nt()}}),new td(this.we,this.Se,e,t,r)}Me(){this.be=!1,this.ye=kR()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,qt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class ML{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Bo(),this.$e=Sm(),this.Ue=Sm(),this.Ke=new bn(yt)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const r=this.He(t);switch(e.state){case 0:this.Je(t)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(t);break;case 3:this.Je(t)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),r.Ce(e.resumeToken));break;default:nt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((r,a)=>{this.Je(a)&&t(a)})}Ze(e){const t=e.targetId,r=e.ge.count,a=this.Xe(t);if(a){const s=a.target;if(v0(s))if(r===0){const u=new He(s.path);this.ze(t,u,Br.newNoDocument(u,at.min()))}else qt(r===1);else{const u=this.et(t);if(u!==r){const c=this.tt(e),f=c?this.nt(c,e,u):1;if(f!==0){this.Ye(t);const d=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,d)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:s=0}=t;let u,c;try{u=Hs(r).toUint8Array()}catch(f){if(f instanceof GC)return Cc("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{c=new j_(u,a,s)}catch(f){return Cc(f instanceof rf?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return c.Ee===0?null:c}nt(e,t,r){return t.ge.count===r-this.st(e,t.targetId)?0:2}st(e,t){const r=this.ke.getRemoteKeysForTarget(t);let a=0;return r.forEach(s=>{const u=this.ke.it(),c=`projects/${u.projectId}/databases/${u.database}/documents/${s.path.canonicalString()}`;e.mightContain(c)||(this.ze(t,s,null),a++)}),a}ot(e){const t=new Map;this.qe.forEach((s,u)=>{const c=this.Xe(u);if(c){if(s.current&&v0(c.target)){const f=new He(c.target.path);this._t(f).has(u)||this.ut(u,f)||this.ze(u,f,Br.newNoDocument(f,e))}s.ve&&(t.set(u,s.Fe()),s.Me())}});let r=At();this.Ue.forEach((s,u)=>{let c=!0;u.forEachWhile(f=>{const d=this.Xe(f);return!d||d.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(s))}),this.Qe.forEach((s,u)=>u.setReadTime(e));const a=new lg(e,t,this.Ke,this.Qe,r);return this.Qe=Bo(),this.$e=Sm(),this.Ue=Sm(),this.Ke=new bn(yt),a}Ge(e,t){if(!this.Je(e))return;const r=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,r),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ue=this.Ue.insert(t.key,this.ct(t.key).add(e))}ze(e,t,r){if(!this.Je(e))return;const a=this.He(e);this.ut(e,t)?a.xe(t,1):a.Oe(t),this.Ue=this.Ue.insert(t,this.ct(t).delete(e)),this.Ue=this.Ue.insert(t,this.ct(t).add(e)),r&&(this.Qe=this.Qe.insert(t,r))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new NR,this.qe.set(e,t)),t}ct(e){let t=this.Ue.get(e);return t||(t=new Jn(yt),this.Ue=this.Ue.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new Jn(yt),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||Oe("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new NR),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function Sm(){return new bn(He.comparator)}function kR(){return new bn(He.comparator)}const xL={asc:"ASCENDING",desc:"DESCENDING"},NL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},kL={and:"AND",or:"OR"};class PL{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function w0(n,e){return n.useProto3Json||ng(e)?e:{value:e}}function Rp(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function RD(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function LL(n,e){return Rp(n,e.toTimestamp())}function Ba(n){return qt(!!n),at.fromTimestamp(function(t){const r=qs(t);return new Wn(r.seconds,r.nanos)}(n))}function B_(n,e){return E0(n,e).canonicalString()}function E0(n,e){const t=function(a){return new mn(["projects",a.projectId,"databases",a.database])}(n).child("documents");return e===void 0?t:t.child(e)}function AD(n){const e=mn.fromString(n);return qt(OD(e)),e}function b0(n,e){return B_(n.databaseId,e.path)}function Pv(n,e){const t=AD(e);if(t.get(1)!==n.databaseId.projectId)throw new Ne(fe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ne(fe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new He(CD(t))}function SD(n,e){return B_(n.databaseId,e)}function VL(n){const e=AD(n);return e.length===4?mn.emptyPath():CD(e)}function R0(n){return new mn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function CD(n){return qt(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function PR(n,e,t){return{name:b0(n,e),fields:t.value.mapValue.fields}}function UL(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:nt()}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],s=function(d,g){return d.useProto3Json?(qt(g===void 0||typeof g=="string"),kr.fromBase64String(g||"")):(qt(g===void 0||g instanceof Buffer||g instanceof Uint8Array),kr.fromUint8Array(g||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,c=u&&function(d){const g=d.code===void 0?fe.UNKNOWN:wD(d.code);return new Ne(g,d.message||"")}(u);t=new bD(r,a,s,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=Pv(n,r.document.name),s=Ba(r.document.updateTime),u=r.document.createTime?Ba(r.document.createTime):at.min(),c=new ui({mapValue:{fields:r.document.fields}}),f=Br.newFoundDocument(a,s,u,c),d=r.targetIds||[],g=r.removedTargetIds||[];t=new qm(d,g,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=Pv(n,r.document),s=r.readTime?Ba(r.readTime):at.min(),u=Br.newNoDocument(a,s),c=r.removedTargetIds||[];t=new qm([],c,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=Pv(n,r.document),s=r.removedTargetIds||[];t=new qm([],s,a,null)}else{if(!("filter"in e))return nt();{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:s}=r,u=new DL(a,s),c=r.targetId;t=new ED(c,u)}}return t}function zL(n,e){let t;if(e instanceof ed)t={update:PR(n,e.key,e.value)};else if(e instanceof U_)t={delete:b0(n,e.key)};else if(e instanceof Js)t={update:PR(n,e.key,e.data),updateMask:KL(e.fieldMask)};else{if(!(e instanceof AL))return nt();t={verify:b0(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,u){const c=u.transform;if(c instanceof Ep)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Cf)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Df)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof bp)return{fieldPath:u.field.canonicalString(),increment:c.Ie};throw nt()}(0,r))),e.precondition.isNone||(t.currentDocument=function(a,s){return s.updateTime!==void 0?{updateTime:LL(a,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:nt()}(n,e.precondition)),t}function jL(n,e){return n&&n.length>0?(qt(e!==void 0),n.map(t=>function(a,s){let u=a.updateTime?Ba(a.updateTime):Ba(s);return u.isEqual(at.min())&&(u=Ba(s)),new EL(u,a.transformResults||[])}(t,e))):[]}function BL(n,e){return{documents:[SD(n,e.path)]}}function $L(n,e){const t={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=SD(n,a);const s=function(d){if(d.length!==0)return ID(ha.create(d,"and"))}(e.filters);s&&(t.structuredQuery.where=s);const u=function(d){if(d.length!==0)return d.map(g=>function(w){return{field:tc(w.field),direction:HL(w.dir)}}(g))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const c=w0(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{ht:t,parent:a}}function FL(n){let e=VL(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let a=null;if(r>0){qt(r===1);const g=t.from[0];g.allDescendants?a=g.collectionId:e=e.child(g.collectionId)}let s=[];t.where&&(s=function(v){const w=DD(v);return w instanceof ha&&rD(w)?w.getFilters():[w]}(t.where));let u=[];t.orderBy&&(u=function(v){return v.map(w=>function(R){return new Sf(nc(R.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction))}(w))}(t.orderBy));let c=null;t.limit&&(c=function(v){let w;return w=typeof v=="object"?v.value:v,ng(w)?null:w}(t.limit));let f=null;t.startAt&&(f=function(v){const w=!!v.before,b=v.values||[];return new wp(b,w)}(t.startAt));let d=null;return t.endAt&&(d=function(v){const w=!v.before,b=v.values||[];return new wp(b,w)}(t.endAt)),uL(e,a,u,s,c,"F",f,d)}function qL(n,e){const t=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return nt()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function DD(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=nc(t.unaryFilter.field);return Fn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=nc(t.unaryFilter.field);return Fn.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=nc(t.unaryFilter.field);return Fn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=nc(t.unaryFilter.field);return Fn.create(u,"!=",{nullValue:"NULL_VALUE"});default:return nt()}}(n):n.fieldFilter!==void 0?function(t){return Fn.create(nc(t.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return nt()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return ha.create(t.compositeFilter.filters.map(r=>DD(r)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return nt()}}(t.compositeFilter.op))}(n):nt()}function HL(n){return xL[n]}function YL(n){return NL[n]}function GL(n){return kL[n]}function tc(n){return{fieldPath:n.canonicalString()}}function nc(n){return xr.fromServerFormat(n.fieldPath)}function ID(n){return n instanceof Fn?function(t){if(t.op==="=="){if(ER(t.value))return{unaryFilter:{field:tc(t.field),op:"IS_NAN"}};if(wR(t.value))return{unaryFilter:{field:tc(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(ER(t.value))return{unaryFilter:{field:tc(t.field),op:"IS_NOT_NAN"}};if(wR(t.value))return{unaryFilter:{field:tc(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:tc(t.field),op:YL(t.op),value:t.value}}}(n):n instanceof ha?function(t){const r=t.getFilters().map(a=>ID(a));return r.length===1?r[0]:{compositeFilter:{op:GL(t.op),filters:r}}}(n):nt()}function KL(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function OD(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e,t,r,a,s=at.min(),u=at.min(),c=kr.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=c,this.expectedCount=f}withSequenceNumber(e){return new Is(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Is(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QL{constructor(e){this.Tt=e}}function ZL(n){const e=FL({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?T0(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XL{constructor(){this.Tn=new WL}addToCollectionParentIndex(e,t){return this.Tn.add(t),he.resolve()}getCollectionParents(e,t){return he.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return he.resolve()}deleteFieldIndex(e,t){return he.resolve()}deleteAllFieldIndexes(e){return he.resolve()}createTargetIndexes(e,t){return he.resolve()}getDocumentsMatchingTarget(e,t){return he.resolve(null)}getIndexType(e,t){return he.resolve(0)}getFieldIndexes(e,t){return he.resolve([])}getNextCollectionGroupToUpdate(e){return he.resolve(null)}getMinOffset(e,t){return he.resolve(Fs.min())}getMinOffsetFromCollectionGroup(e,t){return he.resolve(Fs.min())}updateCollectionGroup(e,t,r){return he.resolve()}updateIndexEntries(e,t){return he.resolve()}}class WL{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t]||new Jn(mn.comparator),s=!a.has(r);return this.index[t]=a.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t];return a&&a.has(r)}getEntries(e){return(this.index[e]||new Jn(mn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LR={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},MD=41943040;class li{static withCacheSize(e){return new li(e,li.DEFAULT_COLLECTION_PERCENTILE,li.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */li.DEFAULT_COLLECTION_PERCENTILE=10,li.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,li.DEFAULT=new li(MD,li.DEFAULT_COLLECTION_PERCENTILE,li.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),li.DISABLED=new li(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new Mc(0)}static Kn(){return new Mc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VR="LruGarbageCollector",JL=1048576;function UR([n,e],[t,r]){const a=yt(n,t);return a===0?yt(e,r):a}class eV{constructor(e){this.Hn=e,this.buffer=new Jn(UR),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();UR(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class tV{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){Oe(VR,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Yc(t)?Oe(VR,"Ignoring IndexedDB error during garbage collection: ",t):await Hc(t)}await this.er(3e5)})}}class nV{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return he.resolve(tg.ae);const r=new eV(t);return this.tr.forEachTarget(e,a=>r.Zn(a.sequenceNumber)).next(()=>this.tr.rr(e,a=>r.Zn(a))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.tr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Oe("LruGarbageCollector","Garbage collection skipped; disabled"),he.resolve(LR)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),LR):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let r,a,s,u,c,f,d;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(v=>(v>this.params.maximumSequenceNumbersToCollect?(Oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),a=this.params.maximumSequenceNumbersToCollect):a=v,u=Date.now(),this.nthSequenceNumber(e,a))).next(v=>(r=v,c=Date.now(),this.removeTargets(e,r,t))).next(v=>(s=v,f=Date.now(),this.removeOrphanedDocuments(e,r))).next(v=>(d=Date.now(),Ju()<=Rt.DEBUG&&Oe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-g}ms
	Determined least recently used ${a} in `+(c-u)+`ms
	Removed ${s} targets in `+(f-c)+`ms
	Removed ${v} documents in `+(d-f)+`ms
Total Duration: ${d-g}ms`),he.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:s,documentsRemoved:v})))}}function rV(n,e){return new nV(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iV{constructor(){this.changes=new ou(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Br.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?he.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aV{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oV{constructor(e,t,r,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(r=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(r!==null&&ff(r.mutation,a,Ri.empty(),Wn.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,At()).next(()=>r))}getLocalViewOfDocuments(e,t,r=At()){const a=Ul();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,r).next(s=>{let u=nf();return s.forEach((c,f)=>{u=u.insert(c,f.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=Ul();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,At()))}populateOverlays(e,t,r){const a=[];return r.forEach(s=>{t.has(s)||a.push(s)}),this.documentOverlayCache.getOverlays(e,a).next(s=>{s.forEach((u,c)=>{t.set(u,c)})})}computeViews(e,t,r,a){let s=Bo();const u=hf(),c=function(){return hf()}();return t.forEach((f,d)=>{const g=r.get(d.key);a.has(d.key)&&(g===void 0||g.mutation instanceof Js)?s=s.insert(d.key,d):g!==void 0?(u.set(d.key,g.mutation.getFieldMask()),ff(g.mutation,d,g.mutation.getFieldMask(),Wn.now())):u.set(d.key,Ri.empty())}),this.recalculateAndSaveOverlays(e,s).next(f=>(f.forEach((d,g)=>u.set(d,g)),t.forEach((d,g)=>{var v;return c.set(d,new aV(g,(v=u.get(d))!==null&&v!==void 0?v:null))}),c))}recalculateAndSaveOverlays(e,t){const r=hf();let a=new bn((u,c)=>u-c),s=At();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const c of u)c.keys().forEach(f=>{const d=t.get(f);if(d===null)return;let g=r.get(f)||Ri.empty();g=c.applyToLocalView(d,g),r.set(f,g);const v=(a.get(c.batchId)||At()).add(f);a=a.insert(c.batchId,v)})}).next(()=>{const u=[],c=a.getReverseIterator();for(;c.hasNext();){const f=c.getNext(),d=f.key,g=f.value,v=dD();g.forEach(w=>{if(!s.has(w)){const b=_D(t.get(w),r.get(w));b!==null&&v.set(w,b),s=s.add(w)}}),u.push(this.documentOverlayCache.saveOverlays(e,d,v))}return he.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,a){return function(u){return He.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):lD(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,a):this.getDocumentsMatchingCollectionQuery(e,t,r,a)}getNextDocuments(e,t,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,a).next(s=>{const u=a-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,a-s.size):he.resolve(Ul());let c=Ef,f=s;return u.next(d=>he.forEach(d,(g,v)=>(c<v.largestBatchId&&(c=v.largestBatchId),s.get(g)?he.resolve():this.remoteDocumentCache.getEntry(e,g).next(w=>{f=f.insert(g,w)}))).next(()=>this.populateOverlays(e,d,s)).next(()=>this.computeViews(e,f,d,At())).next(g=>({batchId:c,changes:fD(g)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new He(t)).next(r=>{let a=nf();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,r,a){const s=t.collectionGroup;let u=nf();return this.indexManager.getCollectionParents(e,s).next(c=>he.forEach(c,f=>{const d=function(v,w){return new Gc(w,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(t,f.child(s));return this.getDocumentsMatchingCollectionQuery(e,d,r,a).next(g=>{g.forEach((v,w)=>{u=u.insert(v,w)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r,a){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(s=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,a))).next(u=>{s.forEach((f,d)=>{const g=d.getKey();u.get(g)===null&&(u=u.insert(g,Br.newInvalidDocument(g)))});let c=nf();return u.forEach((f,d)=>{const g=s.get(f);g!==void 0&&ff(g.mutation,d,Ri.empty(),Wn.now()),ag(t,d)&&(c=c.insert(f,d))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sV{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return he.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(a){return{id:a.id,version:a.version,createTime:Ba(a.createTime)}}(t)),he.resolve()}getNamedQuery(e,t){return he.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(a){return{name:a.name,query:ZL(a.bundledQuery),readTime:Ba(a.readTime)}}(t)),he.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lV{constructor(){this.overlays=new bn(He.comparator),this.Rr=new Map}getOverlay(e,t){return he.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Ul();return he.forEach(t,a=>this.getOverlay(e,a).next(s=>{s!==null&&r.set(a,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((a,s)=>{this.Et(e,t,s)}),he.resolve()}removeOverlaysForBatchId(e,t,r){const a=this.Rr.get(r);return a!==void 0&&(a.forEach(s=>this.overlays=this.overlays.remove(s)),this.Rr.delete(r)),he.resolve()}getOverlaysForCollection(e,t,r){const a=Ul(),s=t.length+1,u=new He(t.child("")),c=this.overlays.getIteratorFrom(u);for(;c.hasNext();){const f=c.getNext().value,d=f.getKey();if(!t.isPrefixOf(d.path))break;d.path.length===s&&f.largestBatchId>r&&a.set(f.getKey(),f)}return he.resolve(a)}getOverlaysForCollectionGroup(e,t,r,a){let s=new bn((d,g)=>d-g);const u=this.overlays.getIterator();for(;u.hasNext();){const d=u.getNext().value;if(d.getKey().getCollectionGroup()===t&&d.largestBatchId>r){let g=s.get(d.largestBatchId);g===null&&(g=Ul(),s=s.insert(d.largestBatchId,g)),g.set(d.getKey(),d)}}const c=Ul(),f=s.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((d,g)=>c.set(d,g)),!(c.size()>=a)););return he.resolve(c)}Et(e,t,r){const a=this.overlays.get(r.key);if(a!==null){const u=this.Rr.get(a.largestBatchId).delete(r.key);this.Rr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new CL(t,r));let s=this.Rr.get(t);s===void 0&&(s=At(),this.Rr.set(t,s)),this.Rr.set(t,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uV{constructor(){this.sessionToken=kr.EMPTY_BYTE_STRING}getSessionToken(e){return he.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,he.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_{constructor(){this.Vr=new Jn(cr.mr),this.gr=new Jn(cr.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const r=new cr(e,t);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.wr(new cr(e,t))}Sr(e,t){e.forEach(r=>this.removeReference(r,t))}br(e){const t=new He(new mn([])),r=new cr(t,e),a=new cr(t,e+1),s=[];return this.gr.forEachInRange([r,a],u=>{this.wr(u),s.push(u.key)}),s}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new He(new mn([])),r=new cr(t,e),a=new cr(t,e+1);let s=At();return this.gr.forEachInRange([r,a],u=>{s=s.add(u.key)}),s}containsKey(e){const t=new cr(e,0),r=this.Vr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class cr{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return He.comparator(e.key,t.key)||yt(e.Cr,t.Cr)}static pr(e,t){return yt(e.Cr,t.Cr)||He.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cV{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new Jn(cr.mr)}checkEmpty(e){return he.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,a){const s=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new SL(s,t,r,a);this.mutationQueue.push(u);for(const c of a)this.Mr=this.Mr.add(new cr(c.key,s)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return he.resolve(u)}lookupMutationBatch(e,t){return he.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,a=this.Nr(r),s=a<0?0:a;return he.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return he.resolve(this.mutationQueue.length===0?x_:this.Fr-1)}getAllMutationBatches(e){return he.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new cr(t,0),a=new cr(t,Number.POSITIVE_INFINITY),s=[];return this.Mr.forEachInRange([r,a],u=>{const c=this.Or(u.Cr);s.push(c)}),he.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Jn(yt);return t.forEach(a=>{const s=new cr(a,0),u=new cr(a,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([s,u],c=>{r=r.add(c.Cr)})}),he.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,a=r.length+1;let s=r;He.isDocumentKey(s)||(s=s.child(""));const u=new cr(new He(s),0);let c=new Jn(yt);return this.Mr.forEachWhile(f=>{const d=f.key.path;return!!r.isPrefixOf(d)&&(d.length===a&&(c=c.add(f.Cr)),!0)},u),he.resolve(this.Br(c))}Br(e){const t=[];return e.forEach(r=>{const a=this.Or(r);a!==null&&t.push(a)}),t}removeMutationBatch(e,t){qt(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return he.forEach(t.mutations,a=>{const s=new cr(a.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,t){const r=new cr(t,0),a=this.Mr.firstAfterOrEqual(r);return he.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,he.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hV{constructor(e){this.kr=e,this.docs=function(){return new bn(He.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,a=this.docs.get(r),s=a?a.size:0,u=this.kr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return he.resolve(r?r.document.mutableCopy():Br.newInvalidDocument(t))}getEntries(e,t){let r=Bo();return t.forEach(a=>{const s=this.docs.get(a);r=r.insert(a,s?s.document.mutableCopy():Br.newInvalidDocument(a))}),he.resolve(r)}getDocumentsMatchingQuery(e,t,r,a){let s=Bo();const u=t.path,c=new He(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(c);for(;f.hasNext();){const{key:d,value:{document:g}}=f.getNext();if(!u.isPrefixOf(d.path))break;d.path.length>u.length+1||B4(j4(g),r)<=0||(a.has(g.key)||ag(t,g))&&(s=s.insert(g.key,g.mutableCopy()))}return he.resolve(s)}getAllFromCollectionGroup(e,t,r,a){nt()}qr(e,t){return he.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new fV(this)}getSize(e){return he.resolve(this.size)}}class fV extends iV{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((r,a)=>{a.isValidDocument()?t.push(this.Ir.addEntry(e,a)):this.Ir.removeEntry(r)}),he.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dV{constructor(e){this.persistence=e,this.Qr=new ou(t=>P_(t),L_),this.lastRemoteSnapshotVersion=at.min(),this.highestTargetId=0,this.$r=0,this.Ur=new $_,this.targetCount=0,this.Kr=Mc.Un()}forEachTarget(e,t){return this.Qr.forEach((r,a)=>t(a)),he.resolve()}getLastRemoteSnapshotVersion(e){return he.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return he.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),he.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.$r&&(this.$r=t),he.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Kr=new Mc(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,he.resolve()}updateTargetData(e,t){return this.zn(t),he.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Ur.br(t.targetId),this.targetCount-=1,he.resolve()}removeTargets(e,t,r){let a=0;const s=[];return this.Qr.forEach((u,c)=>{c.sequenceNumber<=t&&r.get(c.targetId)===null&&(this.Qr.delete(u),s.push(this.removeMatchingKeysForTargetId(e,c.targetId)),a++)}),he.waitFor(s).next(()=>a)}getTargetCount(e){return he.resolve(this.targetCount)}getTargetData(e,t){const r=this.Qr.get(t)||null;return he.resolve(r)}addMatchingKeys(e,t,r){return this.Ur.yr(t,r),he.resolve()}removeMatchingKeys(e,t,r){this.Ur.Sr(t,r);const a=this.persistence.referenceDelegate,s=[];return a&&t.forEach(u=>{s.push(a.markPotentiallyOrphaned(e,u))}),he.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Ur.br(t),he.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ur.vr(t);return he.resolve(r)}containsKey(e,t){return he.resolve(this.Ur.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new tg(0),this.zr=!1,this.zr=!0,this.jr=new uV,this.referenceDelegate=e(this),this.Hr=new dV(this),this.indexManager=new XL,this.remoteDocumentCache=function(a){return new hV(a)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new QL(t),this.Yr=new sV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new lV,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Wr[e.toKey()];return r||(r=new cV(t,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,r){Oe("MemoryPersistence","Starting transaction:",e);const a=new mV(this.Gr.next());return this.referenceDelegate.Zr(),r(a).next(s=>this.referenceDelegate.Xr(a).next(()=>s)).toPromise().then(s=>(a.raiseOnCommittedEvent(),s))}ei(e,t){return he.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,t)))}}class mV extends F4{constructor(e){super(),this.currentSequenceNumber=e}}class F_{constructor(e){this.persistence=e,this.ti=new $_,this.ni=null}static ri(e){return new F_(e)}get ii(){if(this.ni)return this.ni;throw nt()}addReference(e,t,r){return this.ti.addReference(r,t),this.ii.delete(r.toString()),he.resolve()}removeReference(e,t,r){return this.ti.removeReference(r,t),this.ii.add(r.toString()),he.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),he.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(a=>this.ii.add(a.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(s=>this.ii.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return he.forEach(this.ii,r=>{const a=He.fromPath(r);return this.si(e,a).next(s=>{s||t.removeEntry(a,at.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(r=>{r?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return he.or([()=>he.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class Ap{constructor(e,t){this.persistence=e,this.oi=new ou(r=>Y4(r.path),(r,a)=>r.isEqual(a)),this.garbageCollector=rV(this,t)}static ri(e,t){return new Ap(e,t)}Zr(){}Xr(e){return he.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(a=>r+a))}sr(e){let t=0;return this.rr(e,r=>{t++}).next(()=>t)}rr(e,t){return he.forEach(this.oi,(r,a)=>this.ar(e,r,a).next(s=>s?he.resolve():t(a)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const a=this.persistence.getRemoteDocumentCache(),s=a.newChangeBuffer();return a.qr(e,u=>this.ar(e,u,t).next(c=>{c||(r++,s.removeEntry(u,at.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),he.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),he.resolve()}removeReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),he.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),he.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Bm(e.data.value)),t}ar(e,t,r){return he.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.oi.get(t);return he.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q_{constructor(e,t,r,a){this.targetId=e,this.fromCache=t,this.Hi=r,this.Ji=a}static Yi(e,t){let r=At(),a=At();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}return new q_(e,t.fromCache,r,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gV{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return dk()?8:q4($r())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,r,a){const s={result:null};return this.rs(e,t).next(u=>{s.result=u}).next(()=>{if(!s.result)return this.ss(e,t,a,r).next(u=>{s.result=u})}).next(()=>{if(s.result)return;const u=new pV;return this._s(e,t,u).next(c=>{if(s.result=c,this.Xi)return this.us(e,t,u,c.size)})}).next(()=>s.result)}us(e,t,r,a){return r.documentReadCount<this.es?(Ju()<=Rt.DEBUG&&Oe("QueryEngine","SDK will not create cache indexes for query:",ec(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),he.resolve()):(Ju()<=Rt.DEBUG&&Oe("QueryEngine","Query:",ec(t),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.ts*a?(Ju()<=Rt.DEBUG&&Oe("QueryEngine","The SDK decides to create cache indexes for query:",ec(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ja(t))):he.resolve())}rs(e,t){if(SR(t))return he.resolve(null);let r=ja(t);return this.indexManager.getIndexType(e,r).next(a=>a===0?null:(t.limit!==null&&a===1&&(t=T0(t,null,"F"),r=ja(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const u=At(...s);return this.ns.getDocuments(e,u).next(c=>this.indexManager.getMinOffset(e,r).next(f=>{const d=this.cs(t,c);return this.ls(t,d,u,f.readTime)?this.rs(e,T0(t,null,"F")):this.hs(e,d,t,f)}))})))}ss(e,t,r,a){return SR(t)||a.isEqual(at.min())?he.resolve(null):this.ns.getDocuments(e,r).next(s=>{const u=this.cs(t,s);return this.ls(t,u,r,a)?he.resolve(null):(Ju()<=Rt.DEBUG&&Oe("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),ec(t)),this.hs(e,u,t,z4(a,Ef)).next(c=>c))})}cs(e,t){let r=new Jn(cD(e));return t.forEach((a,s)=>{ag(e,s)&&(r=r.add(s))}),r}ls(e,t,r,a){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(a)>0)}_s(e,t,r){return Ju()<=Rt.DEBUG&&Oe("QueryEngine","Using full collection scan to execute query:",ec(t)),this.ns.getDocumentsMatchingQuery(e,t,Fs.min(),r)}hs(e,t,r,a){return this.ns.getDocumentsMatchingQuery(e,r,a).next(s=>(t.forEach(u=>{s=s.insert(u.key,u)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H_="LocalStore",yV=3e8;class vV{constructor(e,t,r,a){this.persistence=e,this.Ps=t,this.serializer=a,this.Ts=new bn(yt),this.Is=new ou(s=>P_(s),L_),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new oV(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function _V(n,e,t,r){return new vV(n,e,t,r)}async function ND(n,e){const t=lt(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let a;return t.mutationQueue.getAllMutationBatches(r).next(s=>(a=s,t.As(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const u=[],c=[];let f=At();for(const d of a){u.push(d.batchId);for(const g of d.mutations)f=f.add(g.key)}for(const d of s){c.push(d.batchId);for(const g of d.mutations)f=f.add(g.key)}return t.localDocuments.getDocuments(r,f).next(d=>({Rs:d,removedBatchIds:u,addedBatchIds:c}))})})}function TV(n,e){const t=lt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const a=e.batch.keys(),s=t.ds.newChangeBuffer({trackRemovals:!0});return function(c,f,d,g){const v=d.batch,w=v.keys();let b=he.resolve();return w.forEach(R=>{b=b.next(()=>g.getEntry(f,R)).next(C=>{const D=d.docVersions.get(R);qt(D!==null),C.version.compareTo(D)<0&&(v.applyToRemoteDocument(C,d),C.isValidDocument()&&(C.setReadTime(d.commitVersion),g.addEntry(C)))})}),b.next(()=>c.mutationQueue.removeMutationBatch(f,v))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let f=At();for(let d=0;d<c.mutationResults.length;++d)c.mutationResults[d].transformResults.length>0&&(f=f.add(c.batch.mutations[d].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,a))})}function kD(n){const e=lt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function wV(n,e){const t=lt(n),r=e.snapshotVersion;let a=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const u=t.ds.newChangeBuffer({trackRemovals:!0});a=t.Ts;const c=[];e.targetChanges.forEach((g,v)=>{const w=a.get(v);if(!w)return;c.push(t.Hr.removeMatchingKeys(s,g.removedDocuments,v).next(()=>t.Hr.addMatchingKeys(s,g.addedDocuments,v)));let b=w.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(v)!==null?b=b.withResumeToken(kr.EMPTY_BYTE_STRING,at.min()).withLastLimboFreeSnapshotVersion(at.min()):g.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(g.resumeToken,r)),a=a.insert(v,b),function(C,D,M){return C.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=yV?!0:M.addedDocuments.size+M.modifiedDocuments.size+M.removedDocuments.size>0}(w,b,g)&&c.push(t.Hr.updateTargetData(s,b))});let f=Bo(),d=At();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(s,g))}),c.push(EV(s,u,e.documentUpdates).next(g=>{f=g.Vs,d=g.fs})),!r.isEqual(at.min())){const g=t.Hr.getLastRemoteSnapshotVersion(s).next(v=>t.Hr.setTargetsMetadata(s,s.currentSequenceNumber,r));c.push(g)}return he.waitFor(c).next(()=>u.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,f,d)).next(()=>f)}).then(s=>(t.Ts=a,s))}function EV(n,e,t){let r=At(),a=At();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let u=Bo();return t.forEach((c,f)=>{const d=s.get(c);f.isFoundDocument()!==d.isFoundDocument()&&(a=a.add(c)),f.isNoDocument()&&f.version.isEqual(at.min())?(e.removeEntry(c,f.readTime),u=u.insert(c,f)):!d.isValidDocument()||f.version.compareTo(d.version)>0||f.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(f),u=u.insert(c,f)):Oe(H_,"Ignoring outdated watch update for ",c,". Current version:",d.version," Watch version:",f.version)}),{Vs:u,fs:a}})}function bV(n,e){const t=lt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=x_),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function RV(n,e){const t=lt(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let a;return t.Hr.getTargetData(r,e).next(s=>s?(a=s,he.resolve(a)):t.Hr.allocateTargetId(r).next(u=>(a=new Is(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.Hr.addTargetData(r,a).next(()=>a))))}).then(r=>{const a=t.Ts.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(r.targetId,r),t.Is.set(e,r.targetId)),r})}async function A0(n,e,t){const r=lt(n),a=r.Ts.get(e),s=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",s,u=>r.persistence.referenceDelegate.removeTarget(u,a))}catch(u){if(!Yc(u))throw u;Oe(H_,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ts=r.Ts.remove(e),r.Is.delete(a.target)}function zR(n,e,t){const r=lt(n);let a=at.min(),s=At();return r.persistence.runTransaction("Execute query","readwrite",u=>function(f,d,g){const v=lt(f),w=v.Is.get(g);return w!==void 0?he.resolve(v.Ts.get(w)):v.Hr.getTargetData(d,g)}(r,u,ja(e)).next(c=>{if(c)return a=c.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(u,c.targetId).next(f=>{s=f})}).next(()=>r.Ps.getDocumentsMatchingQuery(u,e,t?a:at.min(),t?s:At())).next(c=>(AV(r,hL(e),c),{documents:c,gs:s})))}function AV(n,e,t){let r=n.Es.get(e)||at.min();t.forEach((a,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.Es.set(e,r)}class jR{constructor(){this.activeTargetIds=yL()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class SV{constructor(){this.ho=new jR,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,r){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new jR,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CV{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BR="ConnectivityMonitor";class $R{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){Oe(BR,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){Oe(BR,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cm=null;function S0(){return Cm===null?Cm=function(){return 268435456+Math.round(2147483648*Math.random())}():Cm++,"0x"+Cm.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lv="RestConnection",DV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class IV{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${r}/databases/${a}`,this.wo=this.databaseId.database===_p?`project_id=${r}`:`project_id=${r}&database_id=${a}`}So(e,t,r,a,s){const u=S0(),c=this.bo(e,t.toUriEncodedString());Oe(Lv,`Sending RPC '${e}' ${u}:`,c,r);const f={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(f,a,s),this.vo(e,c,f,r).then(d=>(Oe(Lv,`Received RPC '${e}' ${u}: `,d),d),d=>{throw Cc(Lv,`RPC '${e}' ${u} failed with error: `,d,"url: ",c,"request:",r),d})}Co(e,t,r,a,s,u){return this.So(e,t,r,a,s)}Do(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+qc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,s)=>e[s]=a),r&&r.headers.forEach((a,s)=>e[s]=a)}bo(e,t){const r=DV[e];return`${this.po}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OV{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ur="WebChannelConnection";class MV extends IV{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,r,a){const s=S0();return new Promise((u,c)=>{const f=new VC;f.setWithCredentials(!0),f.listenOnce(UC.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case jm.NO_ERROR:const g=f.getResponseJson();Oe(Ur,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(g)),u(g);break;case jm.TIMEOUT:Oe(Ur,`RPC '${e}' ${s} timed out`),c(new Ne(fe.DEADLINE_EXCEEDED,"Request time out"));break;case jm.HTTP_ERROR:const v=f.getStatus();if(Oe(Ur,`RPC '${e}' ${s} failed with status:`,v,"response text:",f.getResponseText()),v>0){let w=f.getResponseJson();Array.isArray(w)&&(w=w[0]);const b=w==null?void 0:w.error;if(b&&b.status&&b.message){const R=function(D){const M=D.toLowerCase().replace(/_/g,"-");return Object.values(fe).indexOf(M)>=0?M:fe.UNKNOWN}(b.status);c(new Ne(R,b.message))}else c(new Ne(fe.UNKNOWN,"Server responded with status "+f.getStatus()))}else c(new Ne(fe.UNAVAILABLE,"Connection failed."));break;default:nt()}}finally{Oe(Ur,`RPC '${e}' ${s} completed.`)}});const d=JSON.stringify(a);Oe(Ur,`RPC '${e}' ${s} sending request:`,a),f.send(t,"POST",d,r,15)})}Wo(e,t,r){const a=S0(),s=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=BC(),c=jC(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(f.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Do(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const g=s.join("");Oe(Ur,`Creating RPC '${e}' stream ${a}: ${g}`,f);const v=u.createWebChannel(g,f);let w=!1,b=!1;const R=new OV({Fo:D=>{b?Oe(Ur,`Not sending because RPC '${e}' stream ${a} is closed:`,D):(w||(Oe(Ur,`Opening RPC '${e}' stream ${a} transport.`),v.open(),w=!0),Oe(Ur,`RPC '${e}' stream ${a} sending:`,D),v.send(D))},Mo:()=>v.close()}),C=(D,M,N)=>{D.listen(M,V=>{try{N(V)}catch($){setTimeout(()=>{throw $},0)}})};return C(v,tf.EventType.OPEN,()=>{b||(Oe(Ur,`RPC '${e}' stream ${a} transport opened.`),R.Qo())}),C(v,tf.EventType.CLOSE,()=>{b||(b=!0,Oe(Ur,`RPC '${e}' stream ${a} transport closed`),R.Uo())}),C(v,tf.EventType.ERROR,D=>{b||(b=!0,Cc(Ur,`RPC '${e}' stream ${a} transport errored:`,D),R.Uo(new Ne(fe.UNAVAILABLE,"The operation could not be completed")))}),C(v,tf.EventType.MESSAGE,D=>{var M;if(!b){const N=D.data[0];qt(!!N);const V=N,$=(V==null?void 0:V.error)||((M=V[0])===null||M===void 0?void 0:M.error);if($){Oe(Ur,`RPC '${e}' stream ${a} received error:`,$);const L=$.status;let Y=function(O){const z=Bn[O];if(z!==void 0)return wD(z)}(L),x=$.message;Y===void 0&&(Y=fe.INTERNAL,x="Unknown error status: "+L+" with message "+$.message),b=!0,R.Uo(new Ne(Y,x)),v.close()}else Oe(Ur,`RPC '${e}' stream ${a} received:`,N),R.Ko(N)}}),C(c,zC.STAT_EVENT,D=>{D.stat===d0.PROXY?Oe(Ur,`RPC '${e}' stream ${a} detected buffering proxy`):D.stat===d0.NOPROXY&&Oe(Ur,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{R.$o()},0),R}}function Vv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ug(n){return new PL(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(e,t,r=1e3,a=1.5,s=6e4){this.Ti=e,this.timerId=t,this.Go=r,this.zo=a,this.jo=s,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),a=Math.max(0,t-r);a>0&&Oe("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,a,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR="PersistentStream";class LD{constructor(e,t,r,a,s,u,c,f){this.Ti=e,this.n_=r,this.r_=a,this.connection=s,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=c,this.listener=f,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new PD(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===fe.RESOURCE_EXHAUSTED?(jo(t.toString()),jo("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===fe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,a])=>{this.i_===t&&this.V_(r,a)},r=>{e(()=>{const a=new Ne(fe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(a)})})}V_(e,t){const r=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(a=>{r(()=>this.m_(a))}),this.stream.onMessage(a=>{r(()=>++this.__==1?this.g_(a):this.onNext(a))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return Oe(FR,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(Oe(FR,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class xV extends LD{constructor(e,t,r,a,s,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,a,u),this.serializer=s}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=UL(this.serializer,e),r=function(s){if(!("targetChange"in s))return at.min();const u=s.targetChange;return u.targetIds&&u.targetIds.length?at.min():u.readTime?Ba(u.readTime):at.min()}(e);return this.listener.p_(t,r)}y_(e){const t={};t.database=R0(this.serializer),t.addTarget=function(s,u){let c;const f=u.target;if(c=v0(f)?{documents:BL(s,f)}:{query:$L(s,f).ht},c.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){c.resumeToken=RD(s,u.resumeToken);const d=w0(s,u.expectedCount);d!==null&&(c.expectedCount=d)}else if(u.snapshotVersion.compareTo(at.min())>0){c.readTime=Rp(s,u.snapshotVersion.toTimestamp());const d=w0(s,u.expectedCount);d!==null&&(c.expectedCount=d)}return c}(this.serializer,e);const r=qL(this.serializer,e);r&&(t.labels=r),this.I_(t)}w_(e){const t={};t.database=R0(this.serializer),t.removeTarget=e,this.I_(t)}}class NV extends LD{constructor(e,t,r,a,s,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,a,u),this.serializer=s}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return qt(!!e.streamToken),this.lastStreamToken=e.streamToken,qt(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){qt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=jL(e.writeResults,e.commitTime),r=Ba(e.commitTime);return this.listener.v_(r,t)}C_(){const e={};e.database=R0(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>zL(this.serializer,r))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kV{}class PV extends kV{constructor(e,t,r,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=a,this.F_=!1}M_(){if(this.F_)throw new Ne(fe.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,r,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,u])=>this.connection.So(e,E0(t,r),a,s,u)).catch(s=>{throw s.name==="FirebaseError"?(s.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ne(fe.UNKNOWN,s.toString())})}Co(e,t,r,a,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,c])=>this.connection.Co(e,E0(t,r),a,u,c,s)).catch(u=>{throw u.name==="FirebaseError"?(u.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ne(fe.UNKNOWN,u.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class LV{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(jo(t),this.N_=!1):Oe("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eu="RemoteStore";class VV{constructor(e,t,r,a,s){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=s,this.z_.To(u=>{r.enqueueAndForget(async()=>{su(this)&&(Oe(eu,"Restarting streams for network reachability change."),await async function(f){const d=lt(f);d.W_.add(4),await nd(d),d.j_.set("Unknown"),d.W_.delete(4),await cg(d)}(this))})}),this.j_=new LV(r,a)}}async function cg(n){if(su(n))for(const e of n.G_)await e(!0)}async function nd(n){for(const e of n.G_)await e(!1)}function VD(n,e){const t=lt(n);t.K_.has(e.targetId)||(t.K_.set(e.targetId,e),Q_(t)?K_(t):Kc(t).c_()&&G_(t,e))}function Y_(n,e){const t=lt(n),r=Kc(t);t.K_.delete(e),r.c_()&&UD(t,e),t.K_.size===0&&(r.c_()?r.P_():su(t)&&t.j_.set("Unknown"))}function G_(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(at.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Kc(n).y_(e)}function UD(n,e){n.H_.Ne(e),Kc(n).w_(e)}function K_(n){n.H_=new ML({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.K_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),Kc(n).start(),n.j_.B_()}function Q_(n){return su(n)&&!Kc(n).u_()&&n.K_.size>0}function su(n){return lt(n).W_.size===0}function zD(n){n.H_=void 0}async function UV(n){n.j_.set("Online")}async function zV(n){n.K_.forEach((e,t)=>{G_(n,e)})}async function jV(n,e){zD(n),Q_(n)?(n.j_.q_(e),K_(n)):n.j_.set("Unknown")}async function BV(n,e,t){if(n.j_.set("Online"),e instanceof bD&&e.state===2&&e.cause)try{await async function(a,s){const u=s.cause;for(const c of s.targetIds)a.K_.has(c)&&(await a.remoteSyncer.rejectListen(c,u),a.K_.delete(c),a.H_.removeTarget(c))}(n,e)}catch(r){Oe(eu,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Sp(n,r)}else if(e instanceof qm?n.H_.We(e):e instanceof ED?n.H_.Ze(e):n.H_.je(e),!t.isEqual(at.min()))try{const r=await kD(n.localStore);t.compareTo(r)>=0&&await function(s,u){const c=s.H_.ot(u);return c.targetChanges.forEach((f,d)=>{if(f.resumeToken.approximateByteSize()>0){const g=s.K_.get(d);g&&s.K_.set(d,g.withResumeToken(f.resumeToken,u))}}),c.targetMismatches.forEach((f,d)=>{const g=s.K_.get(f);if(!g)return;s.K_.set(f,g.withResumeToken(kr.EMPTY_BYTE_STRING,g.snapshotVersion)),UD(s,f);const v=new Is(g.target,f,d,g.sequenceNumber);G_(s,v)}),s.remoteSyncer.applyRemoteEvent(c)}(n,t)}catch(r){Oe(eu,"Failed to raise snapshot:",r),await Sp(n,r)}}async function Sp(n,e,t){if(!Yc(e))throw e;n.W_.add(1),await nd(n),n.j_.set("Offline"),t||(t=()=>kD(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{Oe(eu,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await cg(n)})}function jD(n,e){return e().catch(t=>Sp(n,t,e))}async function hg(n){const e=lt(n),t=Gs(e);let r=e.U_.length>0?e.U_[e.U_.length-1].batchId:x_;for(;$V(e);)try{const a=await bV(e.localStore,r);if(a===null){e.U_.length===0&&t.P_();break}r=a.batchId,FV(e,a)}catch(a){await Sp(e,a)}BD(e)&&$D(e)}function $V(n){return su(n)&&n.U_.length<10}function FV(n,e){n.U_.push(e);const t=Gs(n);t.c_()&&t.S_&&t.b_(e.mutations)}function BD(n){return su(n)&&!Gs(n).u_()&&n.U_.length>0}function $D(n){Gs(n).start()}async function qV(n){Gs(n).C_()}async function HV(n){const e=Gs(n);for(const t of n.U_)e.b_(t.mutations)}async function YV(n,e,t){const r=n.U_.shift(),a=z_.from(r,e,t);await jD(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),await hg(n)}async function GV(n,e){e&&Gs(n).S_&&await async function(r,a){if(function(u){return IL(u)&&u!==fe.ABORTED}(a.code)){const s=r.U_.shift();Gs(r).h_(),await jD(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,a)),await hg(r)}}(n,e),BD(n)&&$D(n)}async function qR(n,e){const t=lt(n);t.asyncQueue.verifyOperationInProgress(),Oe(eu,"RemoteStore received new credentials");const r=su(t);t.W_.add(3),await nd(t),r&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await cg(t)}async function KV(n,e){const t=lt(n);e?(t.W_.delete(2),await cg(t)):e||(t.W_.add(2),await nd(t),t.j_.set("Unknown"))}function Kc(n){return n.J_||(n.J_=function(t,r,a){const s=lt(t);return s.M_(),new xV(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,a)}(n.datastore,n.asyncQueue,{xo:UV.bind(null,n),No:zV.bind(null,n),Lo:jV.bind(null,n),p_:BV.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),Q_(n)?K_(n):n.j_.set("Unknown")):(await n.J_.stop(),zD(n))})),n.J_}function Gs(n){return n.Y_||(n.Y_=function(t,r,a){const s=lt(t);return s.M_(),new NV(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,a)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:qV.bind(null,n),Lo:GV.bind(null,n),D_:HV.bind(null,n),v_:YV.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await hg(n)):(await n.Y_.stop(),n.U_.length>0&&(Oe(eu,`Stopping write stream with ${n.U_.length} pending writes`),n.U_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z_{constructor(e,t,r,a,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=a,this.removalCallback=s,this.deferred=new Ps,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,a,s){const u=Date.now()+r,c=new Z_(e,t,u,a,s);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ne(fe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function X_(n,e){if(jo("AsyncQueue",`${e}: ${n}`),Yc(n))return new Ne(fe.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{static emptySet(e){return new pc(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||He.comparator(t.key,r.key):(t,r)=>He.comparator(t.key,r.key),this.keyedMap=nf(),this.sortedSet=new bn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof pc)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,s=r.getNext().key;if(!a.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new pc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(){this.Z_=new bn(He.comparator)}track(e){const t=e.doc.key,r=this.Z_.get(t);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(t):e.type===1&&r.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):nt():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,r)=>{e.push(r)}),e}}class xc{constructor(e,t,r,a,s,u,c,f,d){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=s,this.fromCache=u,this.syncStateChanged=c,this.excludesMetadataChanges=f,this.hasCachedResults=d}static fromInitialDocuments(e,t,r,a,s){const u=[];return t.forEach(c=>{u.push({type:0,doc:c})}),new xc(e,t,pc.emptySet(t),u,r,a,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ig(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==r[a].type||!t[a].doc.isEqual(r[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QV{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class ZV{constructor(){this.queries=YR(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,r){const a=lt(t),s=a.queries;a.queries=YR(),s.forEach((u,c)=>{for(const f of c.ta)f.onError(r)})})(this,new Ne(fe.ABORTED,"Firestore shutting down"))}}function YR(){return new ou(n=>uD(n),ig)}async function XV(n,e){const t=lt(n);let r=3;const a=e.query;let s=t.queries.get(a);s?!s.na()&&e.ra()&&(r=2):(s=new QV,r=e.ra()?0:1);try{switch(r){case 0:s.ea=await t.onListen(a,!0);break;case 1:s.ea=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(u){const c=X_(u,`Initialization of query '${ec(e.query)}' failed`);return void e.onError(c)}t.queries.set(a,s),s.ta.push(e),e.sa(t.onlineState),s.ea&&e.oa(s.ea)&&W_(t)}async function WV(n,e){const t=lt(n),r=e.query;let a=3;const s=t.queries.get(r);if(s){const u=s.ta.indexOf(e);u>=0&&(s.ta.splice(u,1),s.ta.length===0?a=e.ra()?0:1:!s.na()&&e.ra()&&(a=2))}switch(a){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function JV(n,e){const t=lt(n);let r=!1;for(const a of e){const s=a.query,u=t.queries.get(s);if(u){for(const c of u.ta)c.oa(a)&&(r=!0);u.ea=a}}r&&W_(t)}function e6(n,e,t){const r=lt(n),a=r.queries.get(e);if(a)for(const s of a.ta)s.onError(t);r.queries.delete(e)}function W_(n){n.ia.forEach(e=>{e.next()})}var C0,GR;(GR=C0||(C0={}))._a="default",GR.Cache="cache";class t6{constructor(e,t,r){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new xc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const r=t!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=xc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==C0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(e){this.key=e}}class qD{constructor(e){this.key=e}}class n6{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=At(),this.mutatedKeys=At(),this.ya=cD(e),this.wa=new pc(this.ya)}get Sa(){return this.fa}ba(e,t){const r=t?t.Da:new HR,a=t?t.wa:this.wa;let s=t?t.mutatedKeys:this.mutatedKeys,u=a,c=!1;const f=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,d=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((g,v)=>{const w=a.get(g),b=ag(this.query,v)?v:null,R=!!w&&this.mutatedKeys.has(w.key),C=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let D=!1;w&&b?w.data.isEqual(b.data)?R!==C&&(r.track({type:3,doc:b}),D=!0):this.va(w,b)||(r.track({type:2,doc:b}),D=!0,(f&&this.ya(b,f)>0||d&&this.ya(b,d)<0)&&(c=!0)):!w&&b?(r.track({type:0,doc:b}),D=!0):w&&!b&&(r.track({type:1,doc:w}),D=!0,(f||d)&&(c=!0)),D&&(b?(u=u.add(b),s=C?s.add(g):s.delete(g)):(u=u.delete(g),s=s.delete(g)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const g=this.query.limitType==="F"?u.last():u.first();u=u.delete(g.key),s=s.delete(g.key),r.track({type:1,doc:g})}return{wa:u,Da:r,ls:c,mutatedKeys:s}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,a){const s=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const u=e.Da.X_();u.sort((g,v)=>function(b,R){const C=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return nt()}};return C(b)-C(R)}(g.type,v.type)||this.ya(g.doc,v.doc)),this.Ca(r),a=a!=null&&a;const c=t&&!a?this.Fa():[],f=this.pa.size===0&&this.current&&!a?1:0,d=f!==this.ga;return this.ga=f,u.length!==0||d?{snapshot:new xc(this.query,e.wa,s,u,e.mutatedKeys,f===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:c}:{Ma:c}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new HR,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=At(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const t=[];return e.forEach(r=>{this.pa.has(r)||t.push(new qD(r))}),this.pa.forEach(r=>{e.has(r)||t.push(new FD(r))}),t}Oa(e){this.fa=e.gs,this.pa=At();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return xc.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const J_="SyncEngine";class r6{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class i6{constructor(e){this.key=e,this.Ba=!1}}class a6{constructor(e,t,r,a,s,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=a,this.currentUser=s,this.maxConcurrentLimboResolutions=u,this.La={},this.ka=new ou(c=>uD(c),ig),this.qa=new Map,this.Qa=new Set,this.$a=new bn(He.comparator),this.Ua=new Map,this.Ka=new $_,this.Wa={},this.Ga=new Map,this.za=Mc.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function o6(n,e,t=!0){const r=ZD(n);let a;const s=r.ka.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),a=s.view.Na()):a=await HD(r,e,t,!0),a}async function s6(n,e){const t=ZD(n);await HD(t,e,!0,!1)}async function HD(n,e,t,r){const a=await RV(n.localStore,ja(e)),s=a.targetId,u=n.sharedClientState.addLocalQueryTarget(s,t);let c;return r&&(c=await l6(n,e,s,u==="current",a.resumeToken)),n.isPrimaryClient&&t&&VD(n.remoteStore,a),c}async function l6(n,e,t,r,a){n.Ha=(v,w,b)=>async function(C,D,M,N){let V=D.view.ba(M);V.ls&&(V=await zR(C.localStore,D.query,!1).then(({documents:x})=>D.view.ba(x,V)));const $=N&&N.targetChanges.get(D.targetId),L=N&&N.targetMismatches.get(D.targetId)!=null,Y=D.view.applyChanges(V,C.isPrimaryClient,$,L);return QR(C,D.targetId,Y.Ma),Y.snapshot}(n,v,w,b);const s=await zR(n.localStore,e,!0),u=new n6(e,s.gs),c=u.ba(s.documents),f=td.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",a),d=u.applyChanges(c,n.isPrimaryClient,f);QR(n,t,d.Ma);const g=new r6(e,t,u);return n.ka.set(e,g),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),d.snapshot}async function u6(n,e,t){const r=lt(n),a=r.ka.get(e),s=r.qa.get(a.targetId);if(s.length>1)return r.qa.set(a.targetId,s.filter(u=>!ig(u,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await A0(r.localStore,a.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(a.targetId),t&&Y_(r.remoteStore,a.targetId),D0(r,a.targetId)}).catch(Hc)):(D0(r,a.targetId),await A0(r.localStore,a.targetId,!0))}async function c6(n,e){const t=lt(n),r=t.ka.get(e),a=t.qa.get(r.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Y_(t.remoteStore,r.targetId))}async function h6(n,e,t){const r=v6(n);try{const a=await function(u,c){const f=lt(u),d=Wn.now(),g=c.reduce((b,R)=>b.add(R.key),At());let v,w;return f.persistence.runTransaction("Locally write mutations","readwrite",b=>{let R=Bo(),C=At();return f.ds.getEntries(b,g).next(D=>{R=D,R.forEach((M,N)=>{N.isValidDocument()||(C=C.add(M))})}).next(()=>f.localDocuments.getOverlayedDocuments(b,R)).next(D=>{v=D;const M=[];for(const N of c){const V=RL(N,v.get(N.key).overlayedDocument);V!=null&&M.push(new Js(N.key,V,eD(V.value.mapValue),la.exists(!0)))}return f.mutationQueue.addMutationBatch(b,d,M,c)}).next(D=>{w=D;const M=D.applyToLocalDocumentSet(v,C);return f.documentOverlayCache.saveOverlays(b,D.batchId,M)})}).then(()=>({batchId:w.batchId,changes:fD(v)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),function(u,c,f){let d=u.Wa[u.currentUser.toKey()];d||(d=new bn(yt)),d=d.insert(c,f),u.Wa[u.currentUser.toKey()]=d}(r,a.batchId,t),await rd(r,a.changes),await hg(r.remoteStore)}catch(a){const s=X_(a,"Failed to persist write");t.reject(s)}}async function YD(n,e){const t=lt(n);try{const r=await wV(t.localStore,e);e.targetChanges.forEach((a,s)=>{const u=t.Ua.get(s);u&&(qt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?u.Ba=!0:a.modifiedDocuments.size>0?qt(u.Ba):a.removedDocuments.size>0&&(qt(u.Ba),u.Ba=!1))}),await rd(t,r,e)}catch(r){await Hc(r)}}function KR(n,e,t){const r=lt(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const a=[];r.ka.forEach((s,u)=>{const c=u.view.sa(e);c.snapshot&&a.push(c.snapshot)}),function(u,c){const f=lt(u);f.onlineState=c;let d=!1;f.queries.forEach((g,v)=>{for(const w of v.ta)w.sa(c)&&(d=!0)}),d&&W_(f)}(r.eventManager,e),a.length&&r.La.p_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function f6(n,e,t){const r=lt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const a=r.Ua.get(e),s=a&&a.key;if(s){let u=new bn(He.comparator);u=u.insert(s,Br.newNoDocument(s,at.min()));const c=At().add(s),f=new lg(at.min(),new Map,new bn(yt),u,c);await YD(r,f),r.$a=r.$a.remove(s),r.Ua.delete(e),eT(r)}else await A0(r.localStore,e,!1).then(()=>D0(r,e,t)).catch(Hc)}async function d6(n,e){const t=lt(n),r=e.batch.batchId;try{const a=await TV(t.localStore,e);KD(t,r,null),GD(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await rd(t,a)}catch(a){await Hc(a)}}async function m6(n,e,t){const r=lt(n);try{const a=await function(u,c){const f=lt(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let g;return f.mutationQueue.lookupMutationBatch(d,c).next(v=>(qt(v!==null),g=v.keys(),f.mutationQueue.removeMutationBatch(d,v))).next(()=>f.mutationQueue.performConsistencyCheck(d)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(d,g,c)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,g)).next(()=>f.localDocuments.getDocuments(d,g))})}(r.localStore,e);KD(r,e,t),GD(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await rd(r,a)}catch(a){await Hc(a)}}function GD(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function KD(n,e,t){const r=lt(n);let a=r.Wa[r.currentUser.toKey()];if(a){const s=a.get(e);s&&(t?s.reject(t):s.resolve(),a=a.remove(e)),r.Wa[r.currentUser.toKey()]=a}}function D0(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.qa.get(e))n.ka.delete(r),t&&n.La.Ja(r,t);n.qa.delete(e),n.isPrimaryClient&&n.Ka.br(e).forEach(r=>{n.Ka.containsKey(r)||QD(n,r)})}function QD(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(Y_(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ua.delete(t),eT(n))}function QR(n,e,t){for(const r of t)r instanceof FD?(n.Ka.addReference(r.key,e),p6(n,r)):r instanceof qD?(Oe(J_,"Document no longer in limbo: "+r.key),n.Ka.removeReference(r.key,e),n.Ka.containsKey(r.key)||QD(n,r.key)):nt()}function p6(n,e){const t=e.key,r=t.path.canonicalString();n.$a.get(t)||n.Qa.has(r)||(Oe(J_,"New document in limbo: "+t),n.Qa.add(r),eT(n))}function eT(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new He(mn.fromString(e)),r=n.za.next();n.Ua.set(r,new i6(t)),n.$a=n.$a.insert(t,r),VD(n.remoteStore,new Is(ja(sD(t.path)),r,"TargetPurposeLimboResolution",tg.ae))}}async function rd(n,e,t){const r=lt(n),a=[],s=[],u=[];r.ka.isEmpty()||(r.ka.forEach((c,f)=>{u.push(r.Ha(f,e,t).then(d=>{var g;if((d||t)&&r.isPrimaryClient){const v=d?!d.fromCache:(g=t==null?void 0:t.targetChanges.get(f.targetId))===null||g===void 0?void 0:g.current;r.sharedClientState.updateQueryState(f.targetId,v?"current":"not-current")}if(d){a.push(d);const v=q_.Yi(f.targetId,d);s.push(v)}}))}),await Promise.all(u),r.La.p_(a),await async function(f,d){const g=lt(f);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>he.forEach(d,w=>he.forEach(w.Hi,b=>g.persistence.referenceDelegate.addReference(v,w.targetId,b)).next(()=>he.forEach(w.Ji,b=>g.persistence.referenceDelegate.removeReference(v,w.targetId,b)))))}catch(v){if(!Yc(v))throw v;Oe(H_,"Failed to update sequence numbers: "+v)}for(const v of d){const w=v.targetId;if(!v.fromCache){const b=g.Ts.get(w),R=b.snapshotVersion,C=b.withLastLimboFreeSnapshotVersion(R);g.Ts=g.Ts.insert(w,C)}}}(r.localStore,s))}async function g6(n,e){const t=lt(n);if(!t.currentUser.isEqual(e)){Oe(J_,"User change. New user:",e.toKey());const r=await ND(t.localStore,e);t.currentUser=e,function(s,u){s.Ga.forEach(c=>{c.forEach(f=>{f.reject(new Ne(fe.CANCELLED,u))})}),s.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await rd(t,r.Rs)}}function y6(n,e){const t=lt(n),r=t.Ua.get(e);if(r&&r.Ba)return At().add(r.key);{let a=At();const s=t.qa.get(e);if(!s)return a;for(const u of s){const c=t.ka.get(u);a=a.unionWith(c.view.Sa)}return a}}function ZD(n){const e=lt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=YD.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=y6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=f6.bind(null,e),e.La.p_=JV.bind(null,e.eventManager),e.La.Ja=e6.bind(null,e.eventManager),e}function v6(n){const e=lt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=d6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=m6.bind(null,e),e}class Cp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ug(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return _V(this.persistence,new gV,e.initialUser,this.serializer)}Xa(e){return new xD(F_.ri,this.serializer)}Za(e){return new SV}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Cp.provider={build:()=>new Cp};class _6 extends Cp{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){qt(this.persistence.referenceDelegate instanceof Ap);const r=this.persistence.referenceDelegate.garbageCollector;return new tV(r,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?li.withCacheSize(this.cacheSizeBytes):li.DEFAULT;return new xD(r=>Ap.ri(r,t),this.serializer)}}class I0{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>KR(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=g6.bind(null,this.syncEngine),await KV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new ZV}()}createDatastore(e){const t=ug(e.databaseInfo.databaseId),r=function(s){return new MV(s)}(e.databaseInfo);return function(s,u,c,f){return new PV(s,u,c,f)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,a,s,u,c){return new VV(r,a,s,u,c)}(this.localStore,this.datastore,e.asyncQueue,t=>KR(this.syncEngine,t,0),function(){return $R.D()?new $R:new CV}())}createSyncEngine(e,t){return function(a,s,u,c,f,d,g){const v=new a6(a,s,u,c,f,d);return g&&(v.ja=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(a){const s=lt(a);Oe(eu,"RemoteStore shutting down."),s.W_.add(5),await nd(s),s.z_.shutdown(),s.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}I0.provider={build:()=>new I0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T6{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):jo("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ks="FirestoreClient";class w6{constructor(e,t,r,a,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=a,this.user=jr.UNAUTHENTICATED,this.clientId=qC.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async u=>{Oe(Ks,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(Oe(Ks,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ps;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=X_(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Uv(n,e){n.asyncQueue.verifyOperationInProgress(),Oe(Ks,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async a=>{r.isEqual(a)||(await ND(e.localStore,a),r=a)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function ZR(n,e){n.asyncQueue.verifyOperationInProgress();const t=await E6(n);Oe(Ks,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>qR(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,a)=>qR(e.remoteStore,a)),n._onlineComponents=e}async function E6(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Oe(Ks,"Using user provided OfflineComponentProvider");try{await Uv(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(a){return a.name==="FirebaseError"?a.code===fe.FAILED_PRECONDITION||a.code===fe.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(t))throw t;Cc("Error using user provided cache. Falling back to memory cache: "+t),await Uv(n,new Cp)}}else Oe(Ks,"Using default OfflineComponentProvider"),await Uv(n,new _6(void 0));return n._offlineComponents}async function XD(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Oe(Ks,"Using user provided OnlineComponentProvider"),await ZR(n,n._uninitializedComponentsProvider._online)):(Oe(Ks,"Using default OnlineComponentProvider"),await ZR(n,new I0))),n._onlineComponents}function b6(n){return XD(n).then(e=>e.syncEngine)}async function R6(n){const e=await XD(n),t=e.eventManager;return t.onListen=o6.bind(null,e.syncEngine),t.onUnlisten=u6.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=s6.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=c6.bind(null,e.syncEngine),t}function A6(n,e,t={}){const r=new Ps;return n.asyncQueue.enqueueAndForget(async()=>function(s,u,c,f,d){const g=new T6({next:w=>{g.su(),u.enqueueAndForget(()=>WV(s,v)),w.fromCache&&f.source==="server"?d.reject(new Ne(fe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(w)},error:w=>d.reject(w)}),v=new t6(c,g,{includeMetadataChanges:!0,Ta:!0});return XV(s,v)}(await R6(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WD(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XR=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JD(n,e,t){if(!t)throw new Ne(fe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function S6(n,e,t,r){if(e===!0&&r===!0)throw new Ne(fe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function WR(n){if(!He.isDocumentKey(n))throw new Ne(fe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function JR(n){if(He.isDocumentKey(n))throw new Ne(fe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function fg(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":nt()}function tu(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ne(fe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=fg(n);throw new Ne(fe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eI="firestore.googleapis.com",eA=!0;class tA{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Ne(fe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=eI,this.ssl=eA}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:eA;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=MD;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<JL)throw new Ne(fe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}S6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=WD((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Ne(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Ne(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Ne(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,a){return r.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class dg{constructor(e,t,r,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new tA({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ne(fe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ne(fe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new tA(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new O4;switch(r.type){case"firstParty":return new k4(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ne(fe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=XR.get(t);r&&(Oe("ComponentProvider","Removing Datastore"),XR.delete(t),r.terminate())}(this),Promise.resolve()}}function C6(n,e,t,r={}){var a;const s=(n=tu(n,dg))._getSettings(),u=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),c=`${e}:${t}`;s.host!==eI&&s.host!==c&&Cc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f=Object.assign(Object.assign({},s),{host:c,ssl:!1,emulatorOptions:r});if(!Zl(f,u)&&(n._setSettings(f),r.mockUserToken)){let d,g;if(typeof r.mockUserToken=="string")d=r.mockUserToken,g=jr.MOCK_USER;else{d=ok(r.mockUserToken,(a=n._app)===null||a===void 0?void 0:a.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new Ne(fe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new jr(v)}n._authCredentials=new M4(new $C(d,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new lu(this.firestore,e,this._query)}}class Si{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ls(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Si(this.firestore,e,this._key)}}class Ls extends lu{constructor(e,t,r){super(e,t,sD(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Si(this.firestore,null,new He(e))}withConverter(e){return new Ls(this.firestore,e,this._path)}}function tI(n,e,...t){if(n=ni(n),JD("collection","path",e),n instanceof dg){const r=mn.fromString(e,...t);return JR(r),new Ls(n,null,r)}{if(!(n instanceof Si||n instanceof Ls))throw new Ne(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(mn.fromString(e,...t));return JR(r),new Ls(n.firestore,null,r)}}function tT(n,e,...t){if(n=ni(n),arguments.length===1&&(e=qC.newId()),JD("doc","path",e),n instanceof dg){const r=mn.fromString(e,...t);return WR(r),new Si(n,null,new He(r))}{if(!(n instanceof Si||n instanceof Ls))throw new Ne(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(mn.fromString(e,...t));return WR(r),new Si(n.firestore,n instanceof Ls?n.converter:null,new He(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nA="AsyncQueue";class rA{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new PD(this,"async_queue_retry"),this.Su=()=>{const r=Vv();r&&Oe(nA,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;const t=Vv();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=Vv();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new Ps;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Yc(e))throw e;Oe(nA,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const a=function(u){let c=u.message||"";return u.stack&&(c=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),c}(r);throw jo("INTERNAL UNHANDLED ERROR: ",a),r}).then(r=>(this.pu=!1,r))));return this.bu=t,t}enqueueAfterDelay(e,t,r){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const a=Z_.createAndSchedule(this,e,t,r,s=>this.Fu(s));return this.fu.push(a),a}Du(){this.gu&&nt()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class id extends dg{constructor(e,t,r,a){super(e,t,r,a),this.type="firestore",this._queue=new rA,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new rA(e),this._firestoreClient=void 0,await e}}}function D6(n,e){const t=typeof n=="object"?n:tC(),r=typeof n=="string"?n:_p,a=T_(t,"firestore").getImmediate({identifier:r});if(!a._initialized){const s=ik("firestore");s&&C6(a,...s)}return a}function nI(n){if(n._terminated)throw new Ne(fe.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||I6(n),n._firestoreClient}function I6(n){var e,t,r;const a=n._freezeSettings(),s=function(c,f,d,g){return new Q4(c,f,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,WD(g.experimentalLongPollingOptions),g.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,a);n._componentsProvider||!((t=a.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=a.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),n._firestoreClient=new w6(n._authCredentials,n._appCheckCredentials,n._queue,s,n._componentsProvider&&function(c){const f=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(f),_online:f}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Nc(kr.fromBase64String(e))}catch(t){throw new Ne(fe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Nc(kr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Ne(fe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ne(fe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ne(fe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return yt(this._lat,e._lat)||yt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,a){if(r.length!==a.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==a[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O6=/^__.*__$/;class M6{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Js(e,this.data,this.fieldMask,t,this.fieldTransforms):new ed(e,this.data,t,this.fieldTransforms)}}class rI{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Js(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function iI(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw nt()}}class aT{constructor(e,t,r,a,s,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=a,s===void 0&&this.Bu(),this.fieldTransforms=s||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new aT(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.ku({path:r,Qu:!1});return a.$u(e),a}Uu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.ku({path:r,Qu:!1});return a.Bu(),a}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Dp(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(iI(this.Lu)&&O6.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class x6{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||ug(e)}ju(e,t,r,a=!1){return new aT({Lu:e,methodName:t,zu:r,path:xr.emptyPath(),Qu:!1,Gu:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function oT(n){const e=n._freezeSettings(),t=ug(n._databaseId);return new x6(n._databaseId,!!e.ignoreUndefinedProperties,t)}function N6(n,e,t,r,a,s={}){const u=n.ju(s.merge||s.mergeFields?2:0,e,t,a);sT("Data must be an object, but it was:",u,r);const c=aI(r,u);let f,d;if(s.merge)f=new Ri(u.fieldMask),d=u.fieldTransforms;else if(s.mergeFields){const g=[];for(const v of s.mergeFields){const w=O0(e,v,t);if(!u.contains(w))throw new Ne(fe.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);sI(g,w)||g.push(w)}f=new Ri(g),d=u.fieldTransforms.filter(v=>f.covers(v.field))}else f=null,d=u.fieldTransforms;return new M6(new ui(c),f,d)}class pg extends nT{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof pg}}function k6(n,e,t,r){const a=n.ju(1,e,t);sT("Data must be an object, but it was:",a,r);const s=[],u=ui.empty();Ws(r,(f,d)=>{const g=lT(e,f,t);d=ni(d);const v=a.Uu(g);if(d instanceof pg)s.push(g);else{const w=ad(d,v);w!=null&&(s.push(g),u.set(g,w))}});const c=new Ri(s);return new rI(u,c,a.fieldTransforms)}function P6(n,e,t,r,a,s){const u=n.ju(1,e,t),c=[O0(e,r,t)],f=[a];if(s.length%2!=0)throw new Ne(fe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<s.length;w+=2)c.push(O0(e,s[w])),f.push(s[w+1]);const d=[],g=ui.empty();for(let w=c.length-1;w>=0;--w)if(!sI(d,c[w])){const b=c[w];let R=f[w];R=ni(R);const C=u.Uu(b);if(R instanceof pg)d.push(b);else{const D=ad(R,C);D!=null&&(d.push(b),g.set(b,D))}}const v=new Ri(d);return new rI(g,v,u.fieldTransforms)}function L6(n,e,t,r=!1){return ad(t,n.ju(r?4:3,e))}function ad(n,e){if(oI(n=ni(n)))return sT("Unsupported field value:",e,n),aI(n,e);if(n instanceof nT)return function(r,a){if(!iI(a.Lu))throw a.Wu(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Wu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(a);s&&a.fieldTransforms.push(s)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,a){const s=[];let u=0;for(const c of r){let f=ad(c,a.Ku(u));f==null&&(f={nullValue:"NULL_VALUE"}),s.push(f),u++}return{arrayValue:{values:s}}}(n,e)}return function(r,a){if((r=ni(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return vL(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Wn.fromDate(r);return{timestampValue:Rp(a.serializer,s)}}if(r instanceof Wn){const s=new Wn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Rp(a.serializer,s)}}if(r instanceof rT)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Nc)return{bytesValue:RD(a.serializer,r._byteString)};if(r instanceof Si){const s=a.databaseId,u=r.firestore._databaseId;if(!u.isEqual(s))throw a.Wu(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:B_(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof iT)return function(u,c){return{mapValue:{fields:{[WC]:{stringValue:JC},[Tp]:{arrayValue:{values:u.toArray().map(d=>{if(typeof d!="number")throw c.Wu("VectorValues must only contain numeric values.");return V_(c.serializer,d)})}}}}}}(r,a);throw a.Wu(`Unsupported field value: ${fg(r)}`)}(n,e)}function aI(n,e){const t={};return YC(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ws(n,(r,a)=>{const s=ad(a,e.qu(r));s!=null&&(t[r]=s)}),{mapValue:{fields:t}}}function oI(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Wn||n instanceof rT||n instanceof Nc||n instanceof Si||n instanceof nT||n instanceof iT)}function sT(n,e,t){if(!oI(t)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(t)){const r=fg(t);throw r==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+r)}}function O0(n,e,t){if((e=ni(e))instanceof mg)return e._internalPath;if(typeof e=="string")return lT(n,e);throw Dp("Field path arguments must be of type string or ",n,!1,void 0,t)}const V6=new RegExp("[~\\*/\\[\\]]");function lT(n,e,t){if(e.search(V6)>=0)throw Dp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new mg(...e.split("."))._internalPath}catch{throw Dp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Dp(n,e,t,r,a){const s=r&&!r.isEmpty(),u=a!==void 0;let c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let f="";return(s||u)&&(f+=" (found",s&&(f+=` in field ${r}`),u&&(f+=` in document ${a}`),f+=")"),new Ne(fe.INVALID_ARGUMENT,c+n+f)}function sI(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(e,t,r,a,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=a,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Si(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new U6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(uT("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class U6 extends lI{data(){return super.data()}}function uT(n,e){return typeof e=="string"?lT(n,e):e instanceof mg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z6(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Ne(fe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class cT{}class uI extends cT{}function j6(n,e,...t){let r=[];e instanceof cT&&r.push(e),r=r.concat(t),function(s){const u=s.filter(f=>f instanceof fT).length,c=s.filter(f=>f instanceof hT).length;if(u>1||u>0&&c>0)throw new Ne(fe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const a of r)n=a._apply(n);return n}class hT extends uI{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new hT(e,t,r)}_apply(e){const t=this._parse(e);return cI(e._query,t),new lu(e.firestore,e.converter,_0(e._query,t))}_parse(e){const t=oT(e.firestore);return function(s,u,c,f,d,g,v){let w;if(d.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new Ne(fe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){aA(v,g);const R=[];for(const C of v)R.push(iA(f,s,C));w={arrayValue:{values:R}}}else w=iA(f,s,v)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||aA(v,g),w=L6(c,u,v,g==="in"||g==="not-in");return Fn.create(d,g,w)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class fT extends cT{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new fT(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:ha.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(a,s){let u=a;const c=s.getFlattenedFilters();for(const f of c)cI(u,f),u=_0(u,f)}(e._query,t),new lu(e.firestore,e.converter,_0(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class dT extends uI{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new dT(e,t)}_apply(e){const t=function(a,s,u){if(a.startAt!==null)throw new Ne(fe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new Ne(fe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Sf(s,u)}(e._query,this._field,this._direction);return new lu(e.firestore,e.converter,function(a,s){const u=a.explicitOrderBy.concat([s]);return new Gc(a.path,a.collectionGroup,u,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,t))}}function B6(n,e="asc"){const t=e,r=uT("orderBy",n);return dT._create(r,t)}function iA(n,e,t){if(typeof(t=ni(t))=="string"){if(t==="")throw new Ne(fe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!lD(e)&&t.indexOf("/")!==-1)throw new Ne(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(mn.fromString(t));if(!He.isDocumentKey(r))throw new Ne(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return TR(n,new He(r))}if(t instanceof Si)return TR(n,t._key);throw new Ne(fe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${fg(t)}.`)}function aA(n,e){if(!Array.isArray(n)||n.length===0)throw new Ne(fe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function cI(n,e){const t=function(a,s){for(const u of a)for(const c of u.getFlattenedFilters())if(s.indexOf(c.op)>=0)return c.op;return null}(n.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new Ne(fe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ne(fe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class $6{convertValue(e,t="none"){switch(Ys(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Pn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Hs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw nt()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Ws(e,(a,s)=>{r[a]=this.convertValue(s,t)}),r}convertVectorValue(e){var t,r,a;const s=(a=(r=(t=e.fields)===null||t===void 0?void 0:t[Tp].arrayValue)===null||r===void 0?void 0:r.values)===null||a===void 0?void 0:a.map(u=>Pn(u.doubleValue));return new iT(s)}convertGeoPoint(e){return new rT(Pn(e.latitude),Pn(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=rg(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(bf(e));default:return null}}convertTimestamp(e){const t=qs(e);return new Wn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=mn.fromString(e);qt(OD(r));const a=new Rf(r.get(1),r.get(3)),s=new He(r.popFirst(5));return a.isEqual(t)||jo(`Document ${s} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F6(n,e,t){let r;return r=n?n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class q6 extends lI{constructor(e,t,r,a,s,u){super(e,t,r,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Hm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(uT("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Hm extends q6{data(e={}){return super.data(e)}}class H6{constructor(e,t,r,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Dm(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Hm(this._firestore,this._userDataWriter,r.key,r,new Dm(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ne(fe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,s){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map(c=>{const f=new Hm(a._firestore,a._userDataWriter,c.doc.key,c.doc,new Dm(a._snapshot.mutatedKeys.has(c.doc.key),a._snapshot.fromCache),a.query.converter);return c.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}})}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(c=>s||c.type!==3).map(c=>{const f=new Hm(a._firestore,a._userDataWriter,c.doc.key,c.doc,new Dm(a._snapshot.mutatedKeys.has(c.doc.key),a._snapshot.fromCache),a.query.converter);let d=-1,g=-1;return c.type!==0&&(d=u.indexOf(c.doc.key),u=u.delete(c.doc.key)),c.type!==1&&(u=u.add(c.doc),g=u.indexOf(c.doc.key)),{type:Y6(c.type),doc:f,oldIndex:d,newIndex:g}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Y6(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return nt()}}class G6 extends $6{constructor(e){super(),this.firestore=e}convertBytes(e){return new Nc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Si(this.firestore,null,t)}}function K6(n){n=tu(n,lu);const e=tu(n.firestore,id),t=nI(e),r=new G6(e);return z6(n._query),A6(t,n._query).then(a=>new H6(e,r,n,a))}function oA(n,e,t,...r){n=tu(n,Si);const a=tu(n.firestore,id),s=oT(a);let u;return u=typeof(e=ni(e))=="string"||e instanceof mg?P6(s,"updateDoc",n._key,e,t,r):k6(s,"updateDoc",n._key,e),mT(a,[u.toMutation(n._key,la.exists(!0))])}function Q6(n){return mT(tu(n.firestore,id),[new U_(n._key,la.none())])}function Z6(n,e){const t=tu(n.firestore,id),r=tT(n),a=F6(n.converter,e);return mT(t,[N6(oT(n.firestore),"addDoc",r._key,a,n.converter!==null,{}).toMutation(r._key,la.exists(!1))]).then(()=>r)}function mT(n,e){return function(r,a){const s=new Ps;return r.asyncQueue.enqueueAndForget(async()=>h6(await b6(r),a,s)),s.promise}(nI(n),e)}(function(e,t=!0){(function(a){qc=a})($c),Ac(new Xl("firestore",(r,{instanceIdentifier:a,options:s})=>{const u=r.getProvider("app").getImmediate(),c=new id(new x4(r.getProvider("auth-internal")),new P4(u,r.getProvider("app-check-internal")),function(d,g){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Ne(fe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Rf(d.options.projectId,g)}(u,a),u);return s=Object.assign({useFetchStreams:t},s),c._setSettings(s),c},"PUBLIC").setMultipleInstances(!0)),Ns(lR,uR,e),Ns(lR,uR,"esm2017")})();const X6={apiKey:"AIzaSyASY_TDUPR0wPWFPs2yVkJZl4XZpyqq1JI",authDomain:"organizador-32dbb.firebaseapp.com",projectId:"organizador-32dbb",storageBucket:"organizador-32dbb.firebasestorage.app",messagingSenderId:"805321376378",appId:"1:805321376378:web:6ef2732c87d76dcbc031c3"},hI=eC(X6);D4(hI);const Ip=D6(hI),Os=(n,e)=>{const t={position:"top-center",theme:"dark"};switch(e){case"error":Gt.error(n,t);break;case"success":Gt.success(n,t);break}};class fI{constructor({name:e,text:t,id:r="nada"}){qh(this,"id");qh(this,"date");qh(this,"name");qh(this,"text");this.id=r,this.name=e,this.text=t,this.date=`${Xu.Now.plainTimeISO().toString().slice(0,5)} / ${Xu.Now.plainDateISO().toString()}`}async save(){const e=Xu.Now.plainTimeISO().toString().slice(0,5),t=Xu.Now.plainDateISO().toString();this.date=`${t} / ${e}`;try{const r=await Z6(tI(Ip,"notes"),{name:this.name,date:this.date,text:this.text});await oA(r,{id:r.id}),Os("Nota guardada exitosamente","success")}catch(r){Os(`Error al guardar la nota: ${r}`,"error")}}async edit(e,t,r){const a=Xu.Now.plainTimeISO().toString().slice(0,5),u=`${Xu.Now.plainDateISO().toString()} / ${a}`;try{const c=tT(Ip,"notes",r);await oA(c,{id:r,name:e,text:t,date:u}),Os("Nota actualizada exitosamente","success")}catch(c){Os(`Error al editar la nota: ${c}`,"error")}}show(){console.log(this)}}const W6=()=>{const[n,e]=W.useState(""),[t,r]=W.useState(""),a=U0();function s(){new fI({name:n,text:t}).save(),setTimeout(()=>{a("/notes")},2500)}return De.jsx("section",{className:"flex w-full relative",children:De.jsxs("div",{className:"z-10 flex flex-col min-h-screen w-full relative",children:[De.jsx("input",{className:"w-full flex h-14 py-2 pl-2 pr-12 truncate  text-lg font-bold dark:text-[var(--txt-2)] text-[var(--txt-2)] focus:dark:text-[var(--txt)] focus:text-[var(--txt)] border-b-2 dark:border-[var(--rd)] border-[var(--rd)] focus:bg-[var(--rd)] dark:focus:focus:bg-[var(--rd)] outline-none",placeholder:"Título",type:"text",onChange:u=>e(u.target.value)}),De.jsx("button",{className:"fixed right-2 top-12 text-3xl dark:text-[var(--txt)] text-[var(--txt)]",onClick:s,children:De.jsx(zA,{})}),De.jsx("textarea",{className:"p-2 dark:text-[var(--txt-2)] text-[var(--txt-2)] focus:dark:text-[var(--txt)] focus:text-[var(--txt)] outline-none w-full h-full focus:bg-[var(--rd)] dark:focus:focus:bg-[var(--rd)]",placeholder:"Escriba su nota aquí...",onChange:u=>r(u.target.value)})]})})};function J6(n){return Pp({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M135.2 17.7C140.6 6.8 151.7 0 163.8 0L284.2 0c12.1 0 23.2 6.8 28.6 17.7L320 32l96 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 96C14.3 96 0 81.7 0 64S14.3 32 32 32l96 0 7.2-14.3zM32 128l384 0 0 320c0 35.3-28.7 64-64 64L96 512c-35.3 0-64-28.7-64-64l0-320zm96 64c-8.8 0-16 7.2-16 16l0 224c0 8.8 7.2 16 16 16s16-7.2 16-16l0-224c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16l0 224c0 8.8 7.2 16 16 16s16-7.2 16-16l0-224c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16l0 224c0 8.8 7.2 16 16 16s16-7.2 16-16l0-224c0-8.8-7.2-16-16-16z"},child:[]}]})(n)}const eU=({initialData:n,changeInterface:e,fetch:t})=>{const[r,a]=W.useState(n.name),[s,u]=W.useState(n.text);function c(){n.id&&n.edit(r,s,n.id),e(!1),t()}return De.jsx("section",{className:"flex w-full min-h-screen relative ",children:De.jsxs("div",{className:"z-10 flex flex-col min-h-screen w-full relative",children:[De.jsxs("div",{className:"w-full flex relative",children:[De.jsx("input",{className:"w-full flex h-14 py-2 pl-2 pr-12 truncate text-lg font-bold dark:text-[var(--txt-2)] text-[var(--txt-2)] focus:dark:text-[var(--txt)] focus:text-[var(--txt)] border-b-2 dark:border-[var(--rd)] border-[var(--rd)] focus:bg-[var(--rd)] dark:focus:focus:bg-[var(--rd)] outline-none",placeholder:"Título",defaultValue:n.name,type:"text",onChange:f=>a(f.target.value)}),De.jsx("button",{className:"absolute z-20 right-2 top-2 text-4xl dark:text-[var(--txt)] text-[var(--txt)]",onClick:c,children:De.jsx(zA,{})})]}),De.jsx("textarea",{className:"p-2 dark:text-[var(--txt-2)] text-[var(--txt-2)] focus:dark:text-[var(--txt)] focus:text-[var(--txt)] outline-none w-full h-full focus:bg-[var(--rd)] dark:focus:focus:bg-[var(--rd)]",placeholder:"Escriba su nota aquí...",defaultValue:n.text,onChange:f=>u(f.target.value)})]})})};function tU(n){return Pp({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M6.97 2.47a.75.75 0 0 1 1.06 0l4.5 4.5a.75.75 0 0 1-1.06 1.06L8.25 4.81V16.5a.75.75 0 0 1-1.5 0V4.81L3.53 8.03a.75.75 0 0 1-1.06-1.06l4.5-4.5Zm9.53 4.28a.75.75 0 0 1 .75.75v11.69l3.22-3.22a.75.75 0 1 1 1.06 1.06l-4.5 4.5a.75.75 0 0 1-1.06 0l-4.5-4.5a.75.75 0 1 1 1.06-1.06l3.22 3.22V7.5a.75.75 0 0 1 .75-.75Z",clipRule:"evenodd"},child:[]}]})(n)}const nU=({options:n,onChange:e,placeholder:t="Nombre, creciente"})=>{const[r,a]=W.useState(!1),[s,u]=W.useState(null),c=f=>{u(f),e(f.value),a(!1)};return De.jsxs("div",{className:"relative inline-block w-full h-10 z-20",children:[De.jsxs("div",{className:"bg-[var(--rd)] dark:bg-[var(--rd)] h-full flex items-center justify-between p-2 cursor-pointer",onClick:()=>a(!r),children:[De.jsx("h1",{className:"text-st font-bold text-sm text-[var(--txt)] dark:text-[var(--txt)]",children:s?s.label:t}),De.jsx("h1",{className:"text-xl text-card-bg text-[var(--txt)] dark:text-[var(--txt)]",children:De.jsx(tU,{})})]}),r&&De.jsx("ul",{className:"absolute z-10 top-[102%] sm:top-[97%] w-full bg-[var(--rd)] rounded-b-lg overflow-hidden",children:n.map((f,d)=>De.jsx("li",{className:"px-2 py-2 group hover:bg-interaction cursor-pointer",onClick:()=>c(f),children:De.jsx("h3",{className:"group-hover:font-bold duration-300 text-sm text-[var(--txt)] dark:text-[var(--txt)]",children:f.label})},d))})]})};function rU(n){const e={id:n.id,name:n.name?n.name:"",date:n.date?n.date:"",text:n.text?n.text:""};return new fI({id:e.id,name:e.name,date:e.date,text:e.text})}const iU=async({type:n,order:e})=>{try{const t=tI(Ip,"notes"),r=j6(t,B6(n,e)),s=(await K6(r)).docs.map(c=>({id:c.id,...c.data()}));let u=[];return s.forEach(c=>{let f=rU(c);u.push(f)}),u}catch(t){return Os(`Error obteniendo notas: ${t}`,"error"),[]}},aU=async n=>{try{if(n){const e=tT(Ip,"notes",n);await Q6(e)}else Os("No se encuentra el ID del documento","error");Os("Nota eliminada exitosamente","success")}catch(e){Os(`Error al eliminar la nota: ${e}`,"error")}};function oU(n){return Pp({attr:{version:"1.2",baseProfile:"tiny",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M19 17h-14c-1.103 0-2 .897-2 2s.897 2 2 2h14c1.103 0 2-.897 2-2s-.897-2-2-2zM19 10h-14c-1.103 0-2 .897-2 2s.897 2 2 2h14c1.103 0 2-.897 2-2s-.897-2-2-2zM19 3h-14c-1.103 0-2 .897-2 2s.897 2 2 2h14c1.103 0 2-.897 2-2s-.897-2-2-2z"},child:[]}]})(n)}const sU=({newNote:n,backToHome:e})=>{const[t,r]=W.useState(!1);return De.jsx("div",{className:"fixed  z-50 size-20 rounded-full bg-[var(--rd)] dark:bg-[var(--rd)] bottom-20 right-10 active:scale-75 duration-300",children:De.jsxs("button",{className:"relative flex size-full items-center justify-center ",onClick:()=>r(!t),children:[De.jsx(oU,{className:"text-4xl text-[var(--txt)] dark:text-[var(--txt)]"}),De.jsxs("ul",{className:`absolute overflow-hidden ${t?"h-20 -top-20":"h-0 top-0"} flex flex-col gap-4 w-32 right-0 transition-all ease-in-out duration-500`,children:[De.jsx("button",{className:"text-[var(--txt)] dark:text-[var(--txt)] bg-[var(--th)] dark:bg-[var(--th)] rounded-full",onClick:()=>e(!1),children:"Inicio"}),De.jsx("button",{className:"text-[var(--txt)] dark:text-[var(--txt)] bg-[var(--th)] dark:bg-[var(--th)]  rounded-full",onClick:()=>n(),children:"Nueva nota"})]})]})})},zv=()=>{const[n,e]=W.useState([]),[t,r]=W.useState(!0),[a,s]=W.useState(),[u,c]=W.useState(!1),[f,d]=W.useState(!1),[g,v]=W.useState({order:"asc",type:"name"}),w=U0(),b=async()=>{r(!0);const $=await iU({order:g.order,type:g.type});e($),r(!1)},R=$=>{s($),c(!0)},C=()=>{a&&a.id&&aU(a.id),b(),c(!1)},D=$=>{s($),d(!0)},M=[{value:{order:"asc",type:"name"},label:"Nombre, ascendente"},{value:{order:"desc",type:"name"},label:"Nombre, descendente"},{value:{order:"asc",type:"date"},label:"Fecha, ascendente"},{value:{order:"desc",type:"date"},label:"Fecha, descendente"}],N=$=>{v($)},V=()=>{w("/notes/new")};if(W.useEffect(()=>{b()},[g]),t)return De.jsx("section",{className:"w-full min-h-screen flex items-center justify-center bg-[var(--st-light)] dark:bg-[var(--st-dark)]",children:De.jsx("h1",{className:"animate-pulse duration-300 dark:text-[var(--text)] text-2xl",children:"Cargando ..."})});if(n.length>0)return De.jsxs("section",{className:"w-full min-h-screen flex flex-col relative bg-[var(--st-light)] dark:bg-[var(--st-dark)]",children:[De.jsx(sU,{backToHome:d,newNote:V}),De.jsx("div",{className:`fixed top-0 left-0 ${u?"flex":"hidden"} items-center justify-center z-50 w-full min-h-screen bg-black/75`,children:De.jsxs("div",{className:"flex flex-col items-center justify-center bg-[(var--nd-light)] dark:bg-[(var--nd-dark)] p-10",children:[De.jsxs("h1",{className:"text-white text-2xl font-bold",children:["¿ Estas seguro de que quieres eliminar la nota: ",De.jsx("b",{className:"text-red-500",children:a==null?void 0:a.name}),"?"]}),De.jsxs("span",{className:"w-full mt-10 flex gap-2 h-12 text-2xl font-bold",children:[De.jsx("button",{className:"bg-[var(--nd)] dark:bg-[var(--nd)] size-full rounded text-[var(--txt)] dark:text-[var(--txt)]",onClick:()=>c(!1),children:"Volver"}),De.jsx("button",{className:"bg-red-600 size-full rounded text-[var(--txt)] dark:text-[var(--txt)]",onClick:C,children:"Eliminar"})]})]})}),f?a&&De.jsx("div",{className:`absolute ${f?"translate-x-[0%]":"-translate-x-[100%]"} duration-500 w-full min-h-screen flex z-10 `,children:De.jsx(eU,{initialData:a,changeInterface:d,fetch:b})}):De.jsxs("div",{className:`absolute ${f?"-translate-x-[100%]":"translate-x-[0%]"} duration-500 w-full min-h-screen flex flex-col transition-all ease-in-out`,children:[De.jsx(nU,{options:M,onChange:N}),De.jsx("ul",{className:" flex flex-col z-10 overflow-auto p-1 gap-2",children:n.map(($,L)=>De.jsxs("li",{className:"dark:bg-[var(--nd)] bg-[var(--nd)] p-2 grid grid-cols-[55%_35%_10%] items-center",children:[De.jsx("h2",{className:"text-lg font-bold text-[var(--txt)] dark:text-[var(--txt)] truncate",onClick:()=>D($),children:$.name}),De.jsx("h2",{className:"text-sm text-[var(--txt-2)] text-end",onClick:()=>D($),children:$.date}),De.jsx("button",{className:"flex justify-end size-full text-xl text-red-500",onClick:()=>R($),children:De.jsx(J6,{})})]},L))})]})]});if(n.length<=0)return De.jsx("section",{className:"w-full min-h-screen flex items-center justify-center",children:De.jsxs("div",{className:"flex flex-col gap-8 items-center",children:[De.jsx("h1",{className:"text-3xl text-center dark:text-[var(--txt)] text-[var(--txt)]",children:"Aun no tienes notas guardadas."}),De.jsx("button",{onClick:V,className:"font-bold text-2xl h-16 w-[70%] text-center rounded dark:bg-[var(--nd)] bg-[var(--nd)] dark:text-[var(--txt)] text-[var(--txt)]",children:"Crea una!"})]})})},lU=wx([{path:"/",element:De.jsx(Px,{}),children:[{index:!0,element:De.jsx(zv,{})},{path:"/notes",element:De.jsx(Ux,{}),children:[{index:!0,element:De.jsx(zv,{})},{path:"/notes/main",element:De.jsx(zv,{})},{path:"/notes/new",element:De.jsx(W6,{})}]}]}]);OO.createRoot(document.getElementById("root")).render(De.jsx(W.StrictMode,{children:De.jsx(Vx,{children:De.jsxs(Nx,{children:[De.jsx(QM,{router:lU}),De.jsx(bO,{})]})})}));
